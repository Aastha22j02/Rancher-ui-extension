{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/form/SecretSelector.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/form/SecretSelector.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBSZXNvdXJjZUxhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9SZXNvdXJjZUxhYmVsZWRTZWxlY3QnOwppbXBvcnQgeyBTRUNSRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgX0VESVQsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBTRUNSRVRfVFlQRVMgYXMgVFlQRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NlY3JldCc7CmltcG9ydCB7IFBhZ2luYXRpb25QYXJhbUZpbHRlciB9IGZyb20gJ0BzaGVsbC90eXBlcy9zdG9yZS9wYWdpbmF0aW9uLnR5cGVzJzsKaW1wb3J0IHsgTEFCRUxfU0VMRUNUX0tJTkRTIH0gZnJvbSAnQHNoZWxsL3R5cGVzL2NvbXBvbmVudHMvbGFiZWxlZFNlbGVjdCc7CnZhciBOT05FID0gJ19fW1tOT05FXV1fXyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0LAogICAgUmVzb3VyY2VMYWJlbGVkU2VsZWN0OiBSZXNvdXJjZUxhYmVsZWRTZWxlY3QKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIG5hbWVzcGFjZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdHlwZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKFRZUEVTKTsKICAgICAgfQogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbW91bnRLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndmFsdWVGcm9tJwogICAgfSwKICAgIG5hbWVLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbmFtZScKICAgIH0sCiAgICBrZXlLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAna2V5JwogICAgfSwKICAgIHNob3dLZXlTZWxlY3RvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNlY3JldE5hbWVMYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdTZWNyZXQgTmFtZScKICAgIH0sCiAgICBrZXlOYW1lTGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnS2V5JwogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIGluU3RvcmU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2x1c3RlcicKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIHsKICAgICAgc2VjcmV0czogbnVsbCwKICAgICAgU0VDUkVUOiBTRUNSRVQsCiAgICAgIGFsbFNlY3JldHNTZXR0aW5nczogewogICAgICAgIG1hcFJlc3VsdDogZnVuY3Rpb24gbWFwUmVzdWx0KHNlY3JldHMpIHsKICAgICAgICAgIHZhciBhbGxTZWNyZXRzSW5OYW1lc3BhY2UgPSBzZWNyZXRzLmZpbHRlcihmdW5jdGlvbiAoc2VjcmV0KSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy50eXBlcy5pbmNsdWRlcyhzZWNyZXQuX3R5cGUpICYmIHNlY3JldC5uYW1lc3BhY2UgPT09IF90aGlzLm5hbWVzcGFjZTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG1hcHBlZFNlY3JldHMgPSBfdGhpcy5tYXBTZWNyZXRzKGFsbFNlY3JldHNJbk5hbWVzcGFjZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpOwogICAgICAgICAgfSkpOwogICAgICAgICAgX3RoaXMuc2VjcmV0cyA9IGFsbFNlY3JldHNJbk5hbWVzcGFjZTsgLy8gV2UgbmVlZCB0aGUga2V5IGZyb20gdGhlIHNlbGVjdGVkIHNlY3JldAoKICAgICAgICAgIHJldHVybiBtYXBwZWRTZWNyZXRzOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFnaW5hdGVTZWNyZXRzU2V0dGluZzogewogICAgICAgIHJlcXVlc3RTZXR0aW5nczogdGhpcy5wYWdpbmF0ZVBhZ2VPcHRpb25zLAogICAgICAgIG1hcFJlc3VsdDogZnVuY3Rpb24gbWFwUmVzdWx0KHNlY3JldHMpIHsKICAgICAgICAgIHZhciBtYXBwZWRTZWNyZXRzID0gX3RoaXMubWFwU2VjcmV0cyhzZWNyZXRzKTsKICAgICAgICAgIF90aGlzLnNlY3JldHMgPSBzZWNyZXRzOyAvLyBXZSBuZWVkIHRoZSBrZXkgZnJvbSB0aGUgc2VsZWN0ZWQgc2VjcmV0LiBXaGVuIHBhZ2luYXRpbmcgd2Ugd29uJ3QgdG91Y2ggdGhlIHN0b3JlLCBzbyBqdXN0IHBhc3MgYmFjayBoZXJlCgogICAgICAgICAgcmV0dXJuIG1hcHBlZFNlY3JldHM7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICAgIHZhciBuYW1lID0gdGhpcy5zaG93S2V5U2VsZWN0b3IgPyAoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlW3RoaXMubW91bnRLZXldKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnNlY3JldEtleVJlZikgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlW3RoaXMubmFtZUtleV0gOiB0aGlzLnZhbHVlOwogICAgICAgIHJldHVybiBuYW1lIHx8IE5PTkU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5hbWUpIHsKICAgICAgICB2YXIgaXNOb25lID0gbmFtZSA9PT0gTk9ORTsKICAgICAgICB2YXIgY29ycmVjdGVkTmFtZSA9IGlzTm9uZSA/IHVuZGVmaW5lZCA6IG5hbWU7CiAgICAgICAgaWYgKHRoaXMuc2hvd0tleVNlbGVjdG9yKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5tb3VudEtleSwgewogICAgICAgICAgICBzZWNyZXRLZXlSZWY6IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMubmFtZUtleSwgY29ycmVjdGVkTmFtZSksIHRoaXMua2V5S2V5LCAnJykKICAgICAgICAgIH0pKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBjb3JyZWN0ZWROYW1lKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBrZXk6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlMjsKICAgICAgICByZXR1cm4gKChfdGhpcyR2YWx1ZTIgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUyID0gX3RoaXMkdmFsdWUyW3RoaXMubW91bnRLZXldKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUyID0gX3RoaXMkdmFsdWUyLnNlY3JldEtleVJlZikgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTJbdGhpcy5rZXlLZXldKSB8fCAnJzsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMubW91bnRLZXksIHsKICAgICAgICAgIHNlY3JldEtleVJlZjogX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5uYW1lS2V5LCB0aGlzLm5hbWUpLCB0aGlzLmtleUtleSwga2V5KQogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIGtleXM6IGZ1bmN0aW9uIGtleXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgc2VjcmV0ID0gKHRoaXMuc2VjcmV0cyB8fCBbXSkuZmluZChmdW5jdGlvbiAoc2VjcmV0KSB7CiAgICAgICAgcmV0dXJuIHNlY3JldC5uYW1lID09PSBfdGhpczIubmFtZTsKICAgICAgfSkgfHwge307CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzZWNyZXQuZGF0YSB8fCB7fSkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IGtleSwKICAgICAgICAgIHZhbHVlOiBrZXkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBpc1ZpZXc6IGZ1bmN0aW9uIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAogICAgaXNLZXlEaXNhYmxlZDogZnVuY3Rpb24gaXNLZXlEaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuICF0aGlzLmlzVmlldyAmJiAoIXRoaXMubmFtZSB8fCB0aGlzLm5hbWUgPT09IE5PTkUgfHwgdGhpcy5kaXNhYmxlZCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIFByb3ZpZGUgYSBzZXQgb2Ygb3B0aW9ucyBmb3IgdGhlIExhYmVsU2VsZWN0IChbbm9uZSwgLi4ue2xhYmVsLCB2YWx1ZX1dKQogICAgICovCiAgICBtYXBTZWNyZXRzOiBmdW5jdGlvbiBtYXBTZWNyZXRzKHNlY3JldHMpIHsKICAgICAgdmFyIG1hcHBlZFNlY3JldHMgPSBzZWNyZXRzLnJlZHVjZShmdW5jdGlvbiAocmVzLCBzKSB7CiAgICAgICAgaWYgKHMua2luZCA9PT0gTEFCRUxfU0VMRUNUX0tJTkRTLk5PTkUpIHsKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfQogICAgICAgIGlmIChzLmlkKSB7CiAgICAgICAgICByZXMucHVzaCh7CiAgICAgICAgICAgIGxhYmVsOiBzLm5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBzLm5hbWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXMucHVzaChzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gW3sKICAgICAgICBsYWJlbDogJ05vbmUnLAogICAgICAgIHZhbHVlOiBOT05FLAogICAgICAgIGtpbmQ6IExBQkVMX1NFTEVDVF9LSU5EUy5OT05FCiAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWFwcGVkU2VjcmV0cykpOwogICAgfSwKICAgIC8qKgogICAgICogQHBhcmFtIFtMYWJlbFNlbGVjdFBhZ2luYXRpb25GdW5jdGlvbk9wdGlvbnNdIG9wdHMKICAgICAqIEByZXR1cm5zIExhYmVsU2VsZWN0UGFnaW5hdGlvbkZ1bmN0aW9uT3B0aW9ucwogICAgICovCiAgICBwYWdpbmF0ZVBhZ2VPcHRpb25zOiBmdW5jdGlvbiBwYWdpbmF0ZVBhZ2VPcHRpb25zKG9wdHMpIHsKICAgICAgdmFyIGZpbHRlciA9IG9wdHMub3B0cy5maWx0ZXI7CiAgICAgIHZhciBmaWx0ZXJzID0gISFmaWx0ZXIgPyBbUGFnaW5hdGlvblBhcmFtRmlsdGVyLmNyZWF0ZVNpbmdsZUZpZWxkKHsKICAgICAgICBmaWVsZDogJ21ldGFkYXRhLm5hbWUnLAogICAgICAgIHZhbHVlOiBmaWx0ZXIKICAgICAgfSldIDogW107CiAgICAgIGZpbHRlcnMucHVzaChQYWdpbmF0aW9uUGFyYW1GaWx0ZXIuY3JlYXRlU2luZ2xlRmllbGQoewogICAgICAgIGZpZWxkOiAnbWV0YWRhdGEubmFtZXNwYWNlJywKICAgICAgICB2YWx1ZTogdGhpcy5uYW1lc3BhY2UKICAgICAgfSksIFBhZ2luYXRpb25QYXJhbUZpbHRlci5jcmVhdGVTaW5nbGVGaWVsZCh7CiAgICAgICAgZmllbGQ6ICdtZXRhZGF0YS5maWVsZHMuMScsCiAgICAgICAgdmFsdWU6IHRoaXMudHlwZXMuam9pbignLCcpCiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0cyksIHt9LCB7CiAgICAgICAgZmlsdGVyczogZmlsdGVycywKICAgICAgICBncm91cEJ5TmFtZXNwYWNlOiBmYWxzZSwKICAgICAgICBjbGFzc2lmeTogdHJ1ZSwKICAgICAgICBzb3J0OiBbewogICAgICAgICAgYXNjOiB0cnVlLAogICAgICAgICAgZmllbGQ6ICdtZXRhZGF0YS5uYW1lJwogICAgICAgIH1dCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["LabeledSelect","ResourceLabeledSelect","SECRET","_EDIT","_VIEW","SECRET_TYPES","TYPES","PaginationParamFilter","LABEL_SELECT_KINDS","NONE","components","props","value","type","String","Object","required","default","undefined","namespace","types","Array","values","disabled","Boolean","mountKey","nameKey","keyKey","showKeySelector","secretNameLabel","keyNameLabel","mode","inStore","data","_this","secrets","allSecretsSettings","mapResult","allSecretsInNamespace","filter","secret","includes","_type","mappedSecrets","mapSecrets","sort","a","b","name","localeCompare","paginateSecretsSetting","requestSettings","paginatePageOptions","computed","get","_this$value","secretKeyRef","set","isNone","correctedName","$emit","_defineProperty","key","_this$value2","keys","_this2","find","map","label","isView","isKeyDisabled","methods","reduce","res","s","kind","id","push","concat","_toConsumableArray","opts","filters","createSingleField","field","join","_objectSpread","groupByNamespace","classify","asc"],"sources":["node_modules/@rancher/shell/components/form/SecretSelector.vue"],"sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ResourceLabeledSelect from '@shell/components/form/ResourceLabeledSelect';\nimport { SECRET } from '@shell/config/types';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport { SECRET_TYPES as TYPES } from '@shell/config/secret';\nimport { PaginationParamFilter } from '@shell/types/store/pagination.types';\nimport { LABEL_SELECT_KINDS } from '@shell/types/components/labeledSelect';\n\nconst NONE = '__[[NONE]]__';\n\nexport default {\n  components: { LabeledSelect, ResourceLabeledSelect },\n\n  props: {\n    value: {\n      type:     [String, Object],\n      required: false,\n      default:  undefined\n    },\n    namespace: {\n      type:     String,\n      required: true\n    },\n    types: {\n      type:    Array,\n      default: () => Object.values(TYPES)\n    },\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n    mountKey: {\n      type:    String,\n      default: 'valueFrom'\n    },\n    nameKey: {\n      type:    String,\n      default: 'name'\n    },\n    keyKey: {\n      type:    String,\n      default: 'key'\n    },\n    showKeySelector: {\n      type:    Boolean,\n      default: false\n    },\n    secretNameLabel: {\n      type:    String,\n      default: 'Secret Name'\n    },\n    keyNameLabel: {\n      type:    String,\n      default: 'Key'\n    },\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n    inStore: {\n      type:    String,\n      default: 'cluster',\n    }\n  },\n\n  data() {\n    return {\n      secrets:            null,\n      SECRET,\n      allSecretsSettings: {\n        mapResult: (secrets) => {\n          const allSecretsInNamespace = secrets.filter((secret) => this.types.includes(secret._type) && secret.namespace === this.namespace);\n          const mappedSecrets = this.mapSecrets(allSecretsInNamespace.sort((a, b) => a.name.localeCompare(b.name)));\n\n          this.secrets = allSecretsInNamespace; // We need the key from the selected secret\n\n          return mappedSecrets;\n        }\n      },\n      paginateSecretsSetting: {\n        requestSettings: this.paginatePageOptions,\n        mapResult:       (secrets) => {\n          const mappedSecrets = this.mapSecrets(secrets);\n\n          this.secrets = secrets; // We need the key from the selected secret. When paginating we won't touch the store, so just pass back here\n\n          return mappedSecrets;\n        }\n      }\n    };\n  },\n\n  computed: {\n    name: {\n      get() {\n        const name = this.showKeySelector ? this.value?.[this.mountKey]?.secretKeyRef?.[this.nameKey] : this.value;\n\n        return name || NONE;\n      },\n      set(name) {\n        const isNone = name === NONE;\n        const correctedName = isNone ? undefined : name;\n\n        if (this.showKeySelector) {\n          this.$emit('input', { [this.mountKey]: { secretKeyRef: { [this.nameKey]: correctedName, [this.keyKey]: '' } } });\n        } else {\n          this.$emit('input', correctedName);\n        }\n      }\n    },\n\n    key: {\n      get() {\n        return this.value?.[this.mountKey]?.secretKeyRef?.[this.keyKey] || '';\n      },\n      set(key) {\n        this.$emit('input', { [this.mountKey]: { secretKeyRef: { [this.nameKey]: this.name, [this.keyKey]: key } } });\n      }\n    },\n\n    keys() {\n      const secret = (this.secrets || []).find((secret) => secret.name === this.name) || {};\n\n      return Object.keys(secret.data || {}).map((key) => ({\n        label: key,\n        value: key\n      }));\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isKeyDisabled() {\n      return !this.isView && (!this.name || this.name === NONE || this.disabled);\n    }\n  },\n\n  methods: {\n    /**\n     * Provide a set of options for the LabelSelect ([none, ...{label, value}])\n     */\n    mapSecrets(secrets) {\n      const mappedSecrets = secrets\n        .reduce((res, s) => {\n          if (s.kind === LABEL_SELECT_KINDS.NONE) {\n            return res;\n          }\n\n          if (s.id) {\n            res.push({ label: s.name, value: s.name });\n          } else {\n            res.push(s);\n          }\n\n          return res;\n        }, []);\n\n      return [\n        {\n          label: 'None', value: NONE, kind: LABEL_SELECT_KINDS.NONE\n        },\n        ...mappedSecrets\n      ];\n    },\n\n    /**\n     * @param [LabelSelectPaginationFunctionOptions] opts\n     * @returns LabelSelectPaginationFunctionOptions\n     */\n    paginatePageOptions(opts) {\n      const { opts: { filter } } = opts;\n\n      const filters = !!filter ? [PaginationParamFilter.createSingleField({ field: 'metadata.name', value: filter })] : [];\n\n      filters.push(\n        PaginationParamFilter.createSingleField({ field: 'metadata.namespace', value: this.namespace }),\n        PaginationParamFilter.createSingleField({ field: 'metadata.fields.1', value: this.types.join(',') })\n      );\n\n      return {\n        ...opts,\n        filters,\n        groupByNamespace: false,\n        classify:         true,\n        sort:             [{ asc: true, field: 'metadata.name' }],\n      };\n    },\n  }\n\n};\n</script>\n\n<template>\n  <div\n    class=\"secret-selector\"\n    :class=\"{'show-key-selector': showKeySelector}\"\n  >\n    <div class=\"input-container\">\n      <!-- key by namespace to ensure label select current page is recreated on ns change -->\n      <ResourceLabeledSelect\n        :key=\"namespace\"\n        v-model=\"name\"\n        :disabled=\"!isView && disabled\"\n        :label=\"secretNameLabel\"\n        :mode=\"mode\"\n        :resource-type=\"SECRET\"\n        :in-store=\"inStore\"\n        :paginated-resource-settings=\"paginateSecretsSetting\"\n        :all-resources-settings=\"allSecretsSettings\"\n      />\n      <LabeledSelect\n        v-if=\"showKeySelector\"\n        v-model=\"key\"\n        class=\"col span-6\"\n        :disabled=\"isKeyDisabled\"\n        :options=\"keys\"\n        :label=\"keyNameLabel\"\n        :mode=\"mode\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.secret-selector {\n  width: 100%;\n  label {\n    display: block;\n  }\n\n  & .labeled-select {\n    min-height: $input-height;\n  }\n\n  & .vs__selected-options {\n    padding: 8px 0 7px 0;\n  }\n\n  & label {\n    display: inline-block;\n  }\n\n  &.show-key-selector {\n    .input-container > * {\n      display: inline-block;\n      width: 50%;\n\n      &.labeled-select.focused {\n        z-index: 10;\n      }\n\n      &:first-child {\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        margin-right: 0;\n      }\n\n      &:last-child {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        border-left: none;\n        float: right;\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}