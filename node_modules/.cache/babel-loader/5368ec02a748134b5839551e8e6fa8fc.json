{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/initialize/entry-helpers.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/initialize/entry-helpers.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuICJPYmplY3QiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gdCB8fCAiU2V0IiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiAiQXJndW1lbnRzIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfQpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVwZGF0ZVBhZ2VUaXRsZSB9IGZyb20gJ0BzaGVsbC91dGlscy90aXRsZSc7CmltcG9ydCB7IGdldFZlbmRvciB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJpdmF0ZS1sYWJlbCc7CmltcG9ydCBtaWRkbGV3YXJlIGZyb20gJ0BzaGVsbC9jb25maWcvbWlkZGxld2FyZS5qcyc7CmltcG9ydCB7IHdpdGhRdWVyeSB9IGZyb20gJ3Vmbyc7CmltcG9ydCBkeW5hbWljUGx1Z2luTG9hZGVyIGZyb20gJ0BzaGVsbC9wa2cvZHluYW1pYy1wbHVnaW4tbG9hZGVyJzsKCi8vIEdsb2JhbCB2YXJpYWJsZSB1c2VkIG9uIG1vdW50LCB1cGRhdGVkIG9uIHJvdXRlIGNoYW5nZSBhbmQgdXNlZCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uCnZhciBhcHA7CgovKioKICogQWRkIGVycm9yIGhhbmRsZXIgZGVidWdnaW5nIGNhcGFiaWxpdGllcwogKiBAcGFyYW0geyp9IHZ1ZUFwcCBWdWUgaW5zdGFuY2UKICovCmV4cG9ydCB2YXIgbG9hZERlYnVnZ2VyID0gZnVuY3Rpb24gbG9hZERlYnVnZ2VyKHZ1ZUFwcCkgewogIHZhciBkZWJ1ZyA9IHByb2Nlc3MuZW52LmRldjsKICBpZiAoZGVidWcpIHsKICAgIHZhciBkZWZhdWx0RXJyb3JIYW5kbGVyID0gdnVlQXBwLmNvbmZpZy5lcnJvckhhbmRsZXI7CiAgICB2dWVBcHAuY29uZmlnLmVycm9ySGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVyciwgdm0sIGluZm8pIHsKICAgICAgICB2YXIgaGFuZGxlZCwKICAgICAgICAgIF9sZW4sCiAgICAgICAgICByZXN0LAogICAgICAgICAgX2tleSwKICAgICAgICAgIGdsb2JhbEFwcCwKICAgICAgICAgIF92dWVBcHAsCiAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gQ2FsbCBvdGhlciBoYW5kbGVyIGlmIGV4aXN0CiAgICAgICAgICAgICAgaGFuZGxlZCA9IG51bGw7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0RXJyb3JIYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICBmb3IgKF9sZW4gPSBfYXJncy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbiA+IDMgPyBfbGVuIC0gMyA6IDApLCBfa2V5ID0gMzsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICAgICAgICByZXN0W19rZXkgLSAzXSA9IF9hcmdzW19rZXldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaGFuZGxlZCA9IGRlZmF1bHRFcnJvckhhbmRsZXIuYXBwbHkodm9pZCAwLCBbZXJyLCB2bSwgaW5mb10uY29uY2F0KHJlc3QpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCEoaGFuZGxlZCA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGhhbmRsZWQpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgaWYgKHZtICYmIHZtLiRyb290KSB7CiAgICAgICAgICAgICAgICBnbG9iYWxBcHAgPSBPYmplY3Qua2V5cyh3aW5kb3cuJGdsb2JhbEFwcCkuZmluZChmdW5jdGlvbiAoaW5zdGFuY2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHZtLiRyb290W2luc3RhbmNlXTsKICAgICAgICAgICAgICAgIH0pOyAvLyBTaG93IE51eHQgRXJyb3IgUGFnZQogICAgICAgICAgICAgICAgaWYgKGdsb2JhbEFwcCAmJiB2bS4kcm9vdFtnbG9iYWxBcHBdLmVycm9yICYmIGluZm8gIT09ICdyZW5kZXIgZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgIF92dWVBcHAgPSB2bS4kcm9vdFtnbG9iYWxBcHBdOwogICAgICAgICAgICAgICAgICBfdnVlQXBwLmVycm9yKGVycik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghKHR5cGVvZiBkZWZhdWx0RXJyb3JIYW5kbGVyID09PSAnZnVuY3Rpb24nKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgaGFuZGxlZCk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAvLyBMb2cgdG8gY29uc29sZQogICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlIHx8IGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwogIH0KfTsKCi8qKgogKiBIYW5kbGUgZXJyb3JzIHdpdGggYSByZWRpcmVjdAogKiBAcGFyYW0geyp9IGNvbnRleHQKICogQHBhcmFtIHsqfSBtZXNzYWdlCiAqLwp2YXIgZXJyb3JSZWRpcmVjdCA9IGZ1bmN0aW9uIGVycm9yUmVkaXJlY3QoY29udGV4dCwgbWVzc2FnZSkgewogIGNvbnRleHQuJHN0b3JlLmNvbW1pdCgnc2V0RXJyb3InLCB7CiAgICBlcnJvcjogbmV3IEVycm9yKG1lc3NhZ2UpCiAgfSk7CiAgY29udGV4dC4kcm91dGVyLnJlcGxhY2UoJy9mYWlsLXdoYWxlJyk7Cn07CgovKioKICogVE9ETzogRGVmaW5lIHRoaXMgbG9naWMgdXNlIGNhc2UKICogQHBhcmFtIHsqfSBmbgogKiBAcGFyYW0geyp9IGNvbnRleHQKICogQHJldHVybnMKICovCmV4cG9ydCB2YXIgcHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KGZuLCBjb250ZXh0KSB7CiAgdmFyIHByb21pc2U7CiAgaWYgKGZuLmxlbmd0aCA9PT0gMikgewogICAgY29uc29sZS53YXJuKCdDYWxsYmFjay1iYXNlZCBmZXRjaCBvciBtaWRkbGV3YXJlIGNhbGxzIGFyZSBkZXByZWNhdGVkLiBQbGVhc2Ugc3dpdGNoIHRvIHByb21pc2VzIG9yIGFzeW5jL2F3YWl0IHN5bnRheCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAvLyBmbihjb250ZXh0LCBjYWxsYmFjaykKICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBmbihjb250ZXh0LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgY29udGV4dC5lcnJvcihlcnIpOwogICAgICAgIH0KICAgICAgICBkYXRhID0gZGF0YSB8fCB7fTsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBwcm9taXNlID0gZm4oY29udGV4dCk7CiAgfQogIGlmIChwcm9taXNlICYmIHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHsKICAgIHJldHVybiBwcm9taXNlOwogIH0KICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb21pc2UpOwp9OwoKLyoqCiAqIFRPRE86IERlZmluZSB0aGlzIGxvZ2ljIHVzZSBjYXNlCiAqIEBwYXJhbSB7Kn0gcHJvbWlzZXMKICogQHBhcmFtIHsqfSBhcHBDb250ZXh0CiAqIEByZXR1cm5zCiAqLwp2YXIgX21pZGRsZXdhcmVTZXJpZXMgPSBmdW5jdGlvbiBtaWRkbGV3YXJlU2VyaWVzKHByb21pc2VzLCBhcHBDb250ZXh0KSB7CiAgaWYgKCFwcm9taXNlcy5sZW5ndGggfHwgYXBwQ29udGV4dC5fcmVkaXJlY3RlZCB8fCBhcHBDb250ZXh0Ll9lcnJvcmVkKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgfQogIHJldHVybiBwcm9taXNpZnkocHJvbWlzZXNbMF0sIGFwcENvbnRleHQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF9taWRkbGV3YXJlU2VyaWVzKHByb21pc2VzLnNsaWNlKDEpLCBhcHBDb250ZXh0KTsKICB9KTsKfTsKCi8qKgogKiBBZGQgbWlkZGxld2FyZSB0byB0aGUgVnVlIGluc3RhbmNlCiAqIEBwYXJhbSB7Kn0gQ29tcG9uZW50cyBMaXN0IG9mIFZ1ZSBjb21wb25lbnRzCiAqIEBwYXJhbSB7Kn0gY29udGV4dCBBcHAgY29udGV4dAogKiBAcmV0dXJucwogKi8KZXhwb3J0IHsgX21pZGRsZXdhcmVTZXJpZXMgYXMgbWlkZGxld2FyZVNlcmllcyB9OwpmdW5jdGlvbiBjYWxsTWlkZGxld2FyZShDb21wb25lbnRzLCBjb250ZXh0KSB7CiAgdmFyIF90aGlzID0gdGhpczsKICB2YXIgbWlkZCA9IFtdOwogIHZhciB1bmtub3duTWlkZGxld2FyZSA9IGZhbHNlOwogIENvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoQ29tcG9uZW50KSB7CiAgICBpZiAoQ29tcG9uZW50Lm9wdGlvbnMubWlkZGxld2FyZSkgewogICAgICBtaWRkID0gbWlkZC5jb25jYXQoQ29tcG9uZW50Lm9wdGlvbnMubWlkZGxld2FyZSk7CiAgICB9CiAgfSk7CiAgbWlkZCA9IG1pZGQubWFwKGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CiAgICBpZiAodHlwZW9mIG1pZGRsZXdhcmVbbmFtZV0gIT09ICdmdW5jdGlvbicpIHsKICAgICAgdW5rbm93bk1pZGRsZXdhcmUgPSB0cnVlOwogICAgICBlcnJvclJlZGlyZWN0KF90aGlzLCBuZXcgRXJyb3IoIjUwMDogVW5rbm93biBtaWRkbGV3YXJlICIuY29uY2F0KG5hbWUpKSk7CiAgICB9CiAgICByZXR1cm4gbWlkZGxld2FyZVtuYW1lXTsKICB9KTsKICBpZiAodW5rbm93bk1pZGRsZXdhcmUpIHsKICAgIHJldHVybjsKICB9CiAgcmV0dXJuIF9taWRkbGV3YXJlU2VyaWVzKG1pZGQsIGNvbnRleHQpOwp9CmV4cG9ydCB2YXIgZ2xvYmFsSGFuZGxlRXJyb3IgPSBmdW5jdGlvbiBnbG9iYWxIYW5kbGVFcnJvcihlcnJvcikgewogIHJldHVybiBWdWUuY29uZmlnLmVycm9ySGFuZGxlciAmJiBWdWUuY29uZmlnLmVycm9ySGFuZGxlcihlcnJvcik7Cn07CgovKioKICogUmVuZGVyIGZ1bmN0aW9uIHVzZWQgYnkgdGhlIHJvdXRlciBndWFyZHMKICogQHBhcmFtIHsqfSB0byBSb3V0ZQogKiBAcGFyYW0geyp9IGZyb20gUm91dGUKICogQHBhcmFtIHsqfSBuZXh0IGNhbGxiYWNrCiAqIEBwYXJhbSB7Kn0gYXBwCiAqIEByZXR1cm5zCiAqLwpmdW5jdGlvbiByZW5kZXIoX3g0LCBfeDUsIF94NikgewogIHJldHVybiBfcmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqCiAqIE1vdW50cyB0aGUgVnVlIGFwcCB0byB0aGUgRE9NIGVsZW1lbnQKICogQHBhcmFtIHtPYmplY3R9IGFwcFBhcnRpYWxzIC0gQXBwIHZpZXcgcGFydGlhbHMKICogQHBhcmFtIHtPYmplY3R9IFZ1ZUNsYXNzIC0gVnVlIGluc3RhbmNlCiAqLwpmdW5jdGlvbiBfcmVuZGVyKCkgewogIF9yZW5kZXIgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIHZhciBuZXh0Q2FsbGVkLCBfbmV4dCwgbWF0Y2hlcywgQ29tcG9uZW50cywgbmV3TG9jYXRpb24sIHJlc29sdmVkUm91dGUsIGlzVmFsaWQsIF9pdGVyYXRvciwgX3N0ZXAsIENvbXBvbmVudCwgZXJyb3I7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGlmICghKHRoaXMuX3JvdXRlQ2hhbmdlZCA9PT0gZmFsc2UgJiYgdGhpcy5fcGFyYW1DaGFuZ2VkID09PSBmYWxzZSAmJiB0aGlzLl9xdWVyeUNoYW5nZWQgPT09IGZhbHNlKSkgewogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG5leHQoKSk7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgLy8gbmV4dENhbGxlZCBpcyB0cnVlIHdoZW4gcmVkaXJlY3RlZAogICAgICAgICAgbmV4dENhbGxlZCA9IGZhbHNlOwogICAgICAgICAgX25leHQgPSBmdW5jdGlvbiBfbmV4dChwYXRoKSB7CiAgICAgICAgICAgIGlmIChmcm9tLnBhdGggPT09IHBhdGgucGF0aCAmJiBfdGhpczIuJGxvYWRpbmcuZmluaXNoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRsb2FkaW5nLmZpbmlzaCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmcm9tLnBhdGggIT09IHBhdGgucGF0aCAmJiBfdGhpczIuJGxvYWRpbmcucGF1c2UpIHsKICAgICAgICAgICAgICBfdGhpczIuJGxvYWRpbmcucGF1c2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV4dENhbGxlZCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBuZXh0Q2FsbGVkID0gdHJ1ZTsKICAgICAgICAgICAgbmV4dChwYXRoKTsKICAgICAgICAgIH07IC8vIFVwZGF0ZSBjb250ZXh0CiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICByZXR1cm4gc2V0Q29udGV4dChhcHAsIHsKICAgICAgICAgICAgcm91dGU6IHRvLAogICAgICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgICAgICBuZXh0OiBfbmV4dC5iaW5kKHRoaXMpCiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDY6CiAgICAgICAgICAvLyBHZXQgcm91dGUncyBtYXRjaGVkIGNvbXBvbmVudHMKICAgICAgICAgIG1hdGNoZXMgPSBbXTsKICAgICAgICAgIENvbXBvbmVudHMgPSBnZXRNYXRjaGVkQ29tcG9uZW50cyh0bywgbWF0Y2hlcyk7IC8vIElmIG5vIENvbXBvbmVudHMgbWF0Y2hlZCwgZ2VuZXJhdGUgNDA0CiAgICAgICAgICBpZiAoQ29tcG9uZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxOTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgcmV0dXJuIGFwcC5jb250ZXh0LnN0b3JlLmRpc3BhdGNoKCdsb2FkTWFuYWdlbWVudCcpOwogICAgICAgIGNhc2UgMTE6CiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEzOwogICAgICAgICAgcmV0dXJuIGR5bmFtaWNQbHVnaW5Mb2FkZXIuY2hlY2soewogICAgICAgICAgICByb3V0ZTogewogICAgICAgICAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgICBzdG9yZTogYXBwLmNvbnRleHQuc3RvcmUKICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBuZXdMb2NhdGlvbiA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5ldyBsb2NhdGlvbiwgZG91YmxlIGNoZWNrIHRoYXQgaXQncyBhY3R1YWxseSB2YWxpZAogICAgICAgICAgcmVzb2x2ZWRSb3V0ZSA9IG5ld0xvY2F0aW9uICE9PSBudWxsICYmIG5ld0xvY2F0aW9uICE9PSB2b2lkIDAgJiYgbmV3TG9jYXRpb24ucGF0aCA/IGFwcC5jb250ZXh0LnN0b3JlLmFwcC5yb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICAgIHBhdGg6IG5ld0xvY2F0aW9uLnBhdGgucmVwbGFjZSgvXlwvezAsMX1kYXNoYm9hcmQvLCAnJykKICAgICAgICAgIH0pIDogbnVsbDsKICAgICAgICAgIGlmICghKHJlc29sdmVkUm91dGUgIT09IG51bGwgJiYgcmVzb2x2ZWRSb3V0ZSAhPT0gdm9pZCAwICYmIHJlc29sdmVkUm91dGUucm91dGUubWF0Y2hlZC5sZW5ndGgpKSB7CiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG5leHQocmVzb2x2ZWRSb3V0ZS5yZXNvbHZlZC5wYXRoKSk7CiAgICAgICAgY2FzZSAxNzoKICAgICAgICAgIGVycm9yUmVkaXJlY3QodGhpcywgbmV3IEVycm9yKCc0MDQ6IFRoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKSk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKICAgICAgICBjYXNlIDE5OgogICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAxOTsKICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjI7CiAgICAgICAgICByZXR1cm4gY2FsbE1pZGRsZXdhcmUuY2FsbCh0aGlzLCBDb21wb25lbnRzLCBhcHAuY29udGV4dCk7CiAgICAgICAgY2FzZSAyMjoKICAgICAgICAgIGlmICghbmV4dENhbGxlZCkgewogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICBjYXNlIDI0OgogICAgICAgICAgaWYgKCFhcHAuY29udGV4dC5fZXJyb3JlZCkgewogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI2OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBuZXh0KCkpOwogICAgICAgIGNhc2UgMjY6CiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI4OwogICAgICAgICAgcmV0dXJuIGNhbGxNaWRkbGV3YXJlLmNhbGwodGhpcywgQ29tcG9uZW50cywgYXBwLmNvbnRleHQpOwogICAgICAgIGNhc2UgMjg6CiAgICAgICAgICBpZiAoIW5leHRDYWxsZWQpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgY2FzZSAzMDoKICAgICAgICAgIGlmICghYXBwLmNvbnRleHQuX2Vycm9yZWQpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzMjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKICAgICAgICBjYXNlIDMyOgogICAgICAgICAgLy8gQ2FsbCAudmFsaWRhdGUoKQogICAgICAgICAgaXNWYWxpZCA9IHRydWU7CiAgICAgICAgICBfY29udGV4dDYucHJldiA9IDMzOwogICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoQ29tcG9uZW50cyk7CiAgICAgICAgICBfY29udGV4dDYucHJldiA9IDM1OwogICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKICAgICAgICBjYXNlIDM3OgogICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0ODsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBDb21wb25lbnQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmICghKHR5cGVvZiBDb21wb25lbnQub3B0aW9ucy52YWxpZGF0ZSAhPT0gJ2Z1bmN0aW9uJykpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0MTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgiY29udGludWUiLCA0Nik7CiAgICAgICAgY2FzZSA0MToKICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDM7CiAgICAgICAgICByZXR1cm4gQ29tcG9uZW50Lm9wdGlvbnMudmFsaWRhdGUoYXBwLmNvbnRleHQpOwogICAgICAgIGNhc2UgNDM6CiAgICAgICAgICBpc1ZhbGlkID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ2OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJicmVhayIsIDQ4KTsKICAgICAgICBjYXNlIDQ2OgogICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzNzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDg6CiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDUzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1MDoKICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gNTA7CiAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMzUpOwogICAgICAgICAgX2l0ZXJhdG9yLmUoX2NvbnRleHQ2LnQwKTsKICAgICAgICBjYXNlIDUzOgogICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA1MzsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmZpbmlzaCg1Myk7CiAgICAgICAgY2FzZSA1NjoKICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDU4OgogICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA1ODsKICAgICAgICAgIF9jb250ZXh0Ni50MSA9IF9jb250ZXh0NlsiY2F0Y2giXSgzMyk7CiAgICAgICAgICAvLyAuLi5JZiAudmFsaWRhdGUoKSB0aHJldyBhbiBlcnJvcgogICAgICAgICAgZXJyb3JSZWRpcmVjdCh0aGlzLCBuZXcgRXJyb3IoIiIuY29uY2F0KF9jb250ZXh0Ni50MS5zdGF0dXNDb2RlIHx8ICc1MDAnLCAiOiAiKS5jb25jYXQoX2NvbnRleHQ2LnQxLm1lc3NhZ2UpKSk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKICAgICAgICBjYXNlIDYyOgogICAgICAgICAgaWYgKGlzVmFsaWQpIHsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2NTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBlcnJvclJlZGlyZWN0KHRoaXMsIG5ldyBFcnJvcignNDA0OiBUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJykpOwogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG5leHQoKSk7CiAgICAgICAgY2FzZSA2NToKICAgICAgICAgIC8vIElmIG5vdCByZWRpcmVjdGVkCiAgICAgICAgICBpZiAoIW5leHRDYWxsZWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJGxvYWRpbmcuZmluaXNoICYmICF0aGlzLiRsb2FkaW5nLm1hbnVhbCkgewogICAgICAgICAgICAgIHRoaXMuJGxvYWRpbmcuZmluaXNoKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgfQogICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3MzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjg6CiAgICAgICAgICBfY29udGV4dDYucHJldiA9IDY4OwogICAgICAgICAgX2NvbnRleHQ2LnQyID0gX2NvbnRleHQ2WyJjYXRjaCJdKDE5KTsKICAgICAgICAgIGVycm9yID0gX2NvbnRleHQ2LnQyIHx8IHt9OwogICAgICAgICAgZ2xvYmFsSGFuZGxlRXJyb3IoZXJyb3IpOwogICAgICAgICAgbmV4dCgpOwogICAgICAgIGNhc2UgNzM6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlNiwgdGhpcywgW1sxOSwgNjhdLCBbMzMsIDU4XSwgWzM1LCA1MCwgNTMsIDU2XV0pOwogIH0pKTsKICByZXR1cm4gX3JlbmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmV4cG9ydCBmdW5jdGlvbiBtb3VudEFwcChfeDcsIF94OCkgewogIHJldHVybiBfbW91bnRBcHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKLyoqCiAqIEV4dGVuZCBjb21wb25lbnQgcHJvcGVydGllcwogKiBAcGFyYW0geyp9IENvbXBvbmVudAogKiBAcmV0dXJucwogKi8KZnVuY3Rpb24gX21vdW50QXBwKCkgewogIF9tb3VudEFwcCA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoYXBwUGFydGlhbHMsIFZ1ZUNsYXNzKSB7CiAgICB2YXIgcm91dGVyLCB2dWVBcHAsIG1vdW50LCBjbGllbnRGaXJzdE1vdW50OwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAvLyBTZXQgZ2xvYmFsIHZhcmlhYmxlcwogICAgICAgICAgYXBwID0gYXBwUGFydGlhbHMuYXBwOwogICAgICAgICAgcm91dGVyID0gYXBwUGFydGlhbHMucm91dGVyOyAvLyBDcmVhdGUgVnVlIGluc3RhbmNlCiAgICAgICAgICB2dWVBcHAgPSBuZXcgVnVlQ2xhc3MoYXBwKTsgLy8gTW91bnRzIFZ1ZSBhcHAgdG8gRE9NIGVsZW1lbnQKICAgICAgICAgIG1vdW50ID0gZnVuY3Rpb24gbW91bnQoKSB7CiAgICAgICAgICAgIHZ1ZUFwcC4kbW91bnQoJyNhcHAnKTsKICAgICAgICAgIH07IC8vIEluaXRpYWxpemUgZXJyb3IgaGFuZGxlcgogICAgICAgICAgdnVlQXBwLiRsb2FkaW5nID0ge307IC8vIFRvIGF2b2lkIGVycm9yIHdoaWxlIHZ1ZUFwcC4kbnV4dCBkb2VzIG5vdCBleGlzdAoKICAgICAgICAgIC8vIEFkZCBiZWZvcmVFYWNoIHJvdXRlciBob29rcwogICAgICAgICAgcm91dGVyLmJlZm9yZUVhY2gocmVuZGVyLmJpbmQodnVlQXBwKSk7CiAgICAgICAgICByb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uIChmcm9tLCB0bykgewogICAgICAgICAgICBpZiAoKGZyb20gPT09IG51bGwgfHwgZnJvbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJvbS5uYW1lKSAhPT0gKHRvID09PSBudWxsIHx8IHRvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0by5uYW1lKSkgewogICAgICAgICAgICAgIHVwZGF0ZVBhZ2VUaXRsZShnZXRWZW5kb3IoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIEZpcnN0IHJlbmRlciBvbiBjbGllbnQtc2lkZQogICAgICAgICAgY2xpZW50Rmlyc3RNb3VudCA9IGZ1bmN0aW9uIGNsaWVudEZpcnN0TW91bnQoKSB7CiAgICAgICAgICAgIG1vdW50KCk7CiAgICAgICAgICB9OyAvLyBmaXg6IGZvcmNlIG5leHQgdGljayB0byBhdm9pZCBoYXZpbmcgc2FtZSB0aW1lc3RhbXAgd2hlbiBhbiBlcnJvciBoYXBwZW4gb24gc3BhIGZhbGxiYWNrCiAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDApOwogICAgICAgICAgfSk7CiAgICAgICAgY2FzZSAxMDoKICAgICAgICAgIHJlbmRlci5jYWxsKHZ1ZUFwcCwgcm91dGVyLmN1cnJlbnRSb3V0ZSwgcm91dGVyLmN1cnJlbnRSb3V0ZSwgZnVuY3Rpb24gKHBhdGgpIHsKICAgICAgICAgICAgLy8gSWYgbm90IHJlZGlyZWN0ZWQKICAgICAgICAgICAgaWYgKCFwYXRoKSB7CiAgICAgICAgICAgICAgY2xpZW50Rmlyc3RNb3VudCgpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gQWRkIGEgb25lLXRpbWUgYWZ0ZXJFYWNoIGhvb2sgdG8KICAgICAgICAgICAgLy8gbW91bnQgdGhlIGFwcCB3YWl0IGZvciByZWRpcmVjdCBhbmQgcm91dGUgZ2V0cyByZXNvbHZlZAogICAgICAgICAgICB2YXIgdW5yZWdpc3Rlckhvb2sgPSByb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSkgewogICAgICAgICAgICAgIHVucmVnaXN0ZXJIb29rKCk7CiAgICAgICAgICAgICAgY2xpZW50Rmlyc3RNb3VudCgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFB1c2ggdGhlIHBhdGggYW5kIGxldCByb3V0ZSB0byBiZSByZXNvbHZlZAogICAgICAgICAgICByb3V0ZXIucHVzaChwYXRoLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICB2YXIgX3Z1ZUFwcCRjb25maWc7CiAgICAgICAgICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gKHZ1ZUFwcCA9PT0gbnVsbCB8fCB2dWVBcHAgPT09IHZvaWQgMCB8fCAoX3Z1ZUFwcCRjb25maWcgPSB2dWVBcHAuY29uZmlnKSA9PT0gbnVsbCB8fCBfdnVlQXBwJGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Z1ZUFwcCRjb25maWcuZXJyb3JIYW5kbGVyKSB8fCBjb25zb2xlLmVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoZXJyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgY2FzZSAxMToKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3KTsKICB9KSk7CiAgcmV0dXJuIF9tb3VudEFwcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CnZhciBwYXRjaENvbXBvbmVudCA9IGZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KENvbXBvbmVudCkgewogIC8vIElmIENvbXBvbmVudCBhbHJlYWR5IHNhbml0aXplZAogIGlmIChDb21wb25lbnQub3B0aW9ucyAmJiBDb21wb25lbnQuX0N0b3IgPT09IENvbXBvbmVudCkgewogICAgcmV0dXJuIENvbXBvbmVudDsKICB9CiAgaWYgKCFDb21wb25lbnQub3B0aW9ucykgewogICAgQ29tcG9uZW50ID0gVnVlLmV4dGVuZChDb21wb25lbnQpOyAvLyBmaXggaXNzdWUgIzYKICAgIENvbXBvbmVudC5fQ3RvciA9IENvbXBvbmVudDsKICB9IGVsc2UgewogICAgQ29tcG9uZW50Ll9DdG9yID0gQ29tcG9uZW50OwogICAgQ29tcG9uZW50LmV4dGVuZE9wdGlvbnMgPSBDb21wb25lbnQub3B0aW9uczsKICB9CiAgLy8gSWYgbm8gY29tcG9uZW50IG5hbWUgZGVmaW5lZCwgc2V0IGZpbGUgcGF0aCBhcyBuYW1lLCAoYWxzbyBmaXhlcyAjNTcwMykKICBpZiAoIUNvbXBvbmVudC5vcHRpb25zLm5hbWUgJiYgQ29tcG9uZW50Lm9wdGlvbnMuX19maWxlKSB7CiAgICBDb21wb25lbnQub3B0aW9ucy5uYW1lID0gQ29tcG9uZW50Lm9wdGlvbnMuX19maWxlOwogIH0KICByZXR1cm4gQ29tcG9uZW50Owp9OwpleHBvcnQgdmFyIGdldE1hdGNoZWRDb21wb25lbnRzID0gZnVuY3Rpb24gZ2V0TWF0Y2hlZENvbXBvbmVudHMocm91dGUpIHsKICB2YXIgbWF0Y2hlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIHByb3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjb21wb25lbnRzJzsKICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgcm91dGUubWF0Y2hlZC5tYXAoZnVuY3Rpb24gKG1hdGNoLCBpbmRleCkgewogICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hdGNoW3Byb3BdKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICBtYXRjaGVzICYmIG1hdGNoZXMucHVzaChpbmRleCk7CiAgICAgIHJldHVybiBtYXRjaFtwcm9wXVtrZXldOwogICAgfSk7CiAgfSkpOwp9Owp2YXIgZ2V0Q29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHVua25vd25Db21wb25lbnQpIHsKICAgIHZhciBjb21wb25lbnRWaWV3LCB0aW1lTm93LCBwcmV2aW91c1JlbG9hZFRpbWU7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGlmICghKHR5cGVvZiB1bmtub3duQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmICF1bmtub3duQ29tcG9uZW50Lm9wdGlvbnMpKSB7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIHVua25vd25Db21wb25lbnQoKTsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjb21wb25lbnRWaWV3ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA3OgogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgLy8gSGFuZGxlIHdlYnBhY2sgY2h1bmsgbG9hZGluZyBlcnJvcnMKICAgICAgICAgIC8vIFRoaXMgbWF5IGJlIGR1ZSB0byBhIG5ldyBkZXBsb3ltZW50IG9yIGEgbmV0d29yayBwcm9ibGVtCiAgICAgICAgICBpZiAoX2NvbnRleHQyLnQwICYmIF9jb250ZXh0Mi50MC5uYW1lID09PSAnQ2h1bmtMb2FkRXJyb3InICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSkgewogICAgICAgICAgICB0aW1lTm93ID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgcHJldmlvdXNSZWxvYWRUaW1lID0gcGFyc2VJbnQod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ251eHQtcmVsb2FkJykpOyAvLyBjaGVjayBmb3IgcHJldmlvdXMgcmVsb2FkIHRpbWUgbm90IHRvIHJlbG9hZCBpbmZpbml0ZWx5CiAgICAgICAgICAgIGlmICghcHJldmlvdXNSZWxvYWRUaW1lIHx8IHByZXZpb3VzUmVsb2FkVGltZSArIDYwMDAwIDwgdGltZU5vdykgewogICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdudXh0LXJlbG9hZCcsIHRpbWVOb3cpOwogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSAvKiBza2lwIGNhY2hlICovKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQwOwogICAgICAgIGNhc2UgMTE6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgY29tcG9uZW50VmlldyB8fCB1bmtub3duQ29tcG9uZW50KTsKICAgICAgICBjYXNlIDEyOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgN11dKTsKICB9KSk7CiAgcmV0dXJuIGZ1bmN0aW9uIGdldENvbXBvbmVudChfeDkpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCi8qKgogKiBQYXRjaCBhbGwgdGhlIG1hdGNoZWQgY29tcG9uZW50cyBvZiBhIGdpdmVuIHJvdXRlCiAqIEBwYXJhbSB7Kn0gcm91dGUKICogQHJldHVybnMKICovCnZhciBwYXRjaE1hdGNoZWRDb21wb25lbnRzID0gZnVuY3Rpb24gcGF0Y2hNYXRjaGVkQ29tcG9uZW50cyhyb3V0ZSkgewogIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCByb3V0ZS5tYXRjaGVkLm1hcChmdW5jdGlvbiAobWF0Y2gsIGluZGV4KSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2guY29tcG9uZW50cykucmVkdWNlKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoYWNjLCBrZXkpIHsKICAgICAgICB2YXIgY29tcG9uZW50LCBwYXRjaGVkQ29tcG9uZW50OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCFtYXRjaC5jb21wb25lbnRzW2tleV0pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudChtYXRjaC5jb21wb25lbnRzW2tleV0sIG1hdGNoLmluc3RhbmNlc1trZXldLCBtYXRjaCwga2V5LCBpbmRleCk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb21wb25lbnQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBwYXRjaGVkQ29tcG9uZW50ID0gcGF0Y2hDb21wb25lbnQoY29tcG9uZW50KTsKICAgICAgICAgICAgICBtYXRjaC5jb21wb25lbnRzW2tleV0gPSBwYXRjaGVkQ29tcG9uZW50OwogICAgICAgICAgICAgIGFjYy5wdXNoKHBhdGNoZWRDb21wb25lbnQpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBkZWxldGUgbWF0Y2guY29tcG9uZW50c1trZXldOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBhY2MpOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTAsIF94MTEpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgW10pOwogIH0pKTsKfTsKCi8qKgogICAqIE1lcmdlIHJvdXRlIG1ldGEgd2l0aCBjb21wb25lbnQgbWV0YSBhbmQgdXBkYXRlIG1hdGNoZWQgY29tcG9uZW50cwogICAqIEBwYXJhbSB7Kn0gcm91dGUKICAgKiBAcmV0dXJucwogICAqLwpleHBvcnQgdmFyIGdldFJvdXRlRGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChyb3V0ZSkgewogICAgdmFyIG1ldGE7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGlmIChyb3V0ZSkgewogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwYXRjaE1hdGNoZWRDb21wb25lbnRzKHJvdXRlKSk7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgbWV0YSA9IGdldE1hdGNoZWRDb21wb25lbnRzKHJvdXRlKS5tYXAoZnVuY3Rpb24gKG1hdGNoZWRDb21wb25lbnQsIGluZGV4KSB7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hdGNoZWRDb21wb25lbnQub3B0aW9ucy5tZXRhKSwgKHJvdXRlLm1hdGNoZWRbaW5kZXhdIHx8IHt9KS5tZXRhKTsKICAgICAgICAgIH0pOyAvLyBTZW5kIGJhY2sgYSBjb3B5IG9mIHJvdXRlIHdpdGggbWV0YSBiYXNlZCBvbiBDb21wb25lbnQgZGVmaW5pdGlvbgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm91dGUpLCB7fSwgewogICAgICAgICAgICBtZXRhOiBtZXRhCiAgICAgICAgICB9KSk7CiAgICAgICAgY2FzZSA2OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTQpOwogIH0pKTsKICByZXR1cm4gZnVuY3Rpb24gZ2V0Um91dGVEYXRhKF94MTIpIHsKICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCi8qKgogKiBBZGQgbWlzc2luZyBjb250ZXh0IGZvciB0aGUgVnVlIGluc3RhbmNlCiAqIEBwYXJhbSB7Kn0gYXBwCiAqIEBwYXJhbSB7Kn0gY29udGV4dAogKi8KZXhwb3J0IHZhciBzZXRDb250ZXh0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGFwcCwgY29udGV4dCkgewogICAgdmFyIF95aWVsZCRQcm9taXNlJGFsbCwgX3lpZWxkJFByb21pc2UkYWxsMiwgY3VycmVudFJvdXRlRGF0YSwgZnJvbVJvdXRlRGF0YTsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgLy8gSWYgY29udGV4dCBub3QgZGVmaW5lZCwgY3JlYXRlIGl0CiAgICAgICAgICBpZiAoIWFwcC5jb250ZXh0KSB7CiAgICAgICAgICAgIGFwcC5jb250ZXh0ID0gewogICAgICAgICAgICAgIGlzRGV2OiB0cnVlLAogICAgICAgICAgICAgIGlzSE1SOiBmYWxzZSwKICAgICAgICAgICAgICBhcHA6IGFwcCwKICAgICAgICAgICAgICBzdG9yZTogYXBwLnN0b3JlLAogICAgICAgICAgICAgIHBheWxvYWQ6IGNvbnRleHQucGF5bG9hZCwKICAgICAgICAgICAgICBlcnJvcjogY29udGV4dC5lcnJvciwKICAgICAgICAgICAgICBiYXNlOiBhcHAucm91dGVyLm9wdGlvbnMuYmFzZSwKICAgICAgICAgICAgICBlbnY6IHsKICAgICAgICAgICAgICAgIGNvbW1pdDogJ2hlYWQnLAogICAgICAgICAgICAgICAgdmVyc2lvbjogJzAuMS4yJywKICAgICAgICAgICAgICAgIGRldjogdHJ1ZSwKICAgICAgICAgICAgICAgIHBsOiAxLAogICAgICAgICAgICAgICAgcGVyZlRlc3Q6IGZhbHNlLAogICAgICAgICAgICAgICAgcmFuY2hlckVudjogJ3dlYicsCiAgICAgICAgICAgICAgICBhcGk6ICdodHRwOi8vbG9jYWxob3N0Ojg5ODknCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyBPbmx5IHNldCBvbmNlCgogICAgICAgICAgICBpZiAoY29udGV4dC5yZXEpIHsKICAgICAgICAgICAgICBhcHAuY29udGV4dC5yZXEgPSBjb250ZXh0LnJlcTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY29udGV4dC5yZXMpIHsKICAgICAgICAgICAgICBhcHAuY29udGV4dC5yZXMgPSBjb250ZXh0LnJlczsKICAgICAgICAgICAgfQogICAgICAgICAgICBhcHAuY29udGV4dC5yZWRpcmVjdCA9IGZ1bmN0aW9uIChzdGF0dXMsIHBhdGgsIHF1ZXJ5KSB7CiAgICAgICAgICAgICAgaWYgKCFzdGF0dXMpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYXBwLmNvbnRleHQuX3JlZGlyZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgIC8vIGlmIG9ubHkgMSBvciAyIGFyZ3VtZW50czogcmVkaXJlY3QoJy8nKSBvciByZWRpcmVjdCgnLycsIHsgZm9vOiAnYmFyJyB9KQogICAgICAgICAgICAgIHZhciBwYXRoVHlwZSA9IF90eXBlb2YocGF0aCk7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0dXMgIT09ICdudW1iZXInICYmIChwYXRoVHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcGF0aFR5cGUgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgICAgICAgcXVlcnkgPSBwYXRoIHx8IHt9OwogICAgICAgICAgICAgICAgcGF0aCA9IHN0YXR1czsKICAgICAgICAgICAgICAgIHBhdGhUeXBlID0gX3R5cGVvZihwYXRoKTsKICAgICAgICAgICAgICAgIHN0YXR1cyA9IDMwMjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHBhdGhUeXBlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgcGF0aCA9IGFwcC5yb3V0ZXIucmVzb2x2ZShwYXRoKS5yb3V0ZS5mdWxsUGF0aDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gIi9hYnNvbHV0ZS9yb3V0ZSIsICIuL3JlbGF0aXZlL3JvdXRlIiBvciAiLi4vcmVsYXRpdmUvcm91dGUiCiAgICAgICAgICAgICAgaWYgKC8oXlsuXXsxLDJ9XC8pfCheXC8oPyFcLykpLy50ZXN0KHBhdGgpKSB7CiAgICAgICAgICAgICAgICBhcHAuY29udGV4dC5uZXh0KHsKICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LAogICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhdGggPSB3aXRoUXVlcnkocGF0aCwgcXVlcnkpOwoKICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Mb2NhdGlvbi9yZXBsYWNlCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShwYXRoKTsKCiAgICAgICAgICAgICAgICAvLyBUaHJvdyBhIHJlZGlyZWN0IGVycm9yCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VSUl9SRURJUkVDVCcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBEeW5hbWljIGtleXMKICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbZ2V0Um91dGVEYXRhKGNvbnRleHQucm91dGUpLCBnZXRSb3V0ZURhdGEoY29udGV4dC5mcm9tKV0pOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRQcm9taXNlJGFsbCwgMik7CiAgICAgICAgICBjdXJyZW50Um91dGVEYXRhID0gX3lpZWxkJFByb21pc2UkYWxsMlswXTsKICAgICAgICAgIGZyb21Sb3V0ZURhdGEgPSBfeWllbGQkUHJvbWlzZSRhbGwyWzFdOwogICAgICAgICAgaWYgKGNvbnRleHQucm91dGUpIHsKICAgICAgICAgICAgYXBwLmNvbnRleHQucm91dGUgPSBjdXJyZW50Um91dGVEYXRhOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGNvbnRleHQuZnJvbSkgewogICAgICAgICAgICBhcHAuY29udGV4dC5mcm9tID0gZnJvbVJvdXRlRGF0YTsKICAgICAgICAgIH0KICAgICAgICAgIGFwcC5jb250ZXh0Lm5leHQgPSBjb250ZXh0Lm5leHQ7CiAgICAgICAgICBhcHAuY29udGV4dC5fcmVkaXJlY3RlZCA9IGZhbHNlOwogICAgICAgICAgYXBwLmNvbnRleHQuX2Vycm9yZWQgPSBmYWxzZTsKICAgICAgICAgIGFwcC5jb250ZXh0LmlzSE1SID0gQm9vbGVhbihjb250ZXh0LmlzSE1SKTsKICAgICAgICAgIGFwcC5jb250ZXh0LnBhcmFtcyA9IGFwcC5jb250ZXh0LnJvdXRlLnBhcmFtcyB8fCB7fTsKICAgICAgICAgIGFwcC5jb250ZXh0LnF1ZXJ5ID0gYXBwLmNvbnRleHQucm91dGUucXVlcnkgfHwge307CiAgICAgICAgY2FzZSAxNToKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1KTsKICB9KSk7CiAgcmV0dXJuIGZ1bmN0aW9uIHNldENvbnRleHQoX3gxMywgX3gxNCkgewogICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOw=="},{"version":3,"names":["Vue","updatePageTitle","getVendor","middleware","withQuery","dynamicPluginLoader","app","loadDebugger","vueApp","debug","process","env","dev","defaultErrorHandler","config","errorHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","err","vm","info","handled","_len","rest","_key","globalApp","_vueApp","_args","arguments","wrap","_callee$","_context","prev","next","length","Array","apply","concat","abrupt","$root","Object","keys","window","$globalApp","find","instance","error","NODE_ENV","console","message","stop","_x","_x2","_x3","errorRedirect","context","$store","commit","Error","$router","replace","promisify","fn","promise","warn","Promise","resolve","data","then","middlewareSeries","promises","appContext","_redirected","_errored","slice","_middlewareSeries","callMiddleware","Components","_this","midd","unknownMiddleware","forEach","Component","options","map","name","globalHandleError","render","_x4","_x5","_x6","_render","_callee6","to","from","_this2","nextCalled","_next","matches","newLocation","resolvedRoute","isValid","_iterator","_step","_callee6$","_context6","_routeChanged","_paramChanged","_queryChanged","path","$loading","finish","pause","setContext","route","bind","getMatchedComponents","store","dispatch","check","location","pathname","sent","router","matched","resolved","call","_createForOfIteratorHelper","s","n","done","value","validate","t0","e","f","t1","statusCode","manual","t2","mountApp","_x7","_x8","_mountApp","_callee7","appPartials","VueClass","mount","clientFirstMount","_callee7$","_context7","$mount","beforeEach","afterEach","setTimeout","currentRoute","unregisterHook","push","undefined","_vueApp$config","patchComponent","_Ctor","extend","extendOptions","__file","prop","prototype","match","index","key","getComponent","_ref2","_callee2","unknownComponent","componentView","timeNow","previousReloadTime","_callee2$","_context2","sessionStorage","Date","now","parseInt","getItem","setItem","reload","_x9","patchMatchedComponents","components","reduce","_ref3","_callee3","acc","component","patchedComponent","_callee3$","_context3","instances","_x10","_x11","getRouteData","_ref4","_callee4","meta","_callee4$","_context4","all","matchedComponent","_objectSpread","_x12","_ref5","_callee5","_yield$Promise$all","_yield$Promise$all2","currentRouteData","fromRouteData","_callee5$","_context5","isDev","isHMR","payload","base","version","pl","perfTest","rancherEnv","api","req","res","redirect","status","query","pathType","_typeof","fullPath","test","_slicedToArray","Boolean","params","_x13","_x14"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/initialize/entry-helpers.js"],"sourcesContent":["import Vue from 'vue';\nimport { updatePageTitle } from '@shell/utils/title';\nimport { getVendor } from '@shell/config/private-label';\nimport middleware from '@shell/config/middleware.js';\nimport { withQuery } from 'ufo';\nimport dynamicPluginLoader from '@shell/pkg/dynamic-plugin-loader';\n\n// Global variable used on mount, updated on route change and used in the render function\nlet app;\n\n/**\n * Add error handler debugging capabilities\n * @param {*} vueApp Vue instance\n */\nexport const loadDebugger = (vueApp) => {\n  const debug = process.env.dev;\n\n  if (debug) {\n    const defaultErrorHandler = vueApp.config.errorHandler;\n\n    vueApp.config.errorHandler = async(err, vm, info, ...rest) => {\n      // Call other handler if exist\n      let handled = null;\n\n      if (typeof defaultErrorHandler === 'function') {\n        handled = defaultErrorHandler(err, vm, info, ...rest);\n      }\n      if (handled === true) {\n        return handled;\n      }\n\n      if (vm && vm.$root) {\n        const globalApp = Object.keys(window.$globalApp)\n          .find((instance) => vm.$root[instance]);\n\n        // Show Nuxt Error Page\n        if (globalApp && vm.$root[globalApp].error && info !== 'render function') {\n          const vueApp = vm.$root[globalApp];\n\n          vueApp.error(err);\n        }\n      }\n\n      if (typeof defaultErrorHandler === 'function') {\n        return handled;\n      }\n\n      // Log to console\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(err); // eslint-disable-line no-console\n      } else {\n        console.error(err.message || err); // eslint-disable-line no-console\n      }\n    };\n  }\n};\n\n/**\n * Handle errors with a redirect\n * @param {*} context\n * @param {*} message\n */\nconst errorRedirect = (context, message) => {\n  context.$store.commit('setError', { error: new Error(message) });\n  context.$router.replace('/fail-whale');\n};\n\n/**\n * TODO: Define this logic use case\n * @param {*} fn\n * @param {*} context\n * @returns\n */\nexport const promisify = (fn, context) => {\n  let promise;\n\n  if (fn.length === 2) {\n    console.warn('Callback-based fetch or middleware calls are deprecated. Please switch to promises or async/await syntax'); // eslint-disable-line no-console\n\n    // fn(context, callback)\n    promise = new Promise((resolve) => {\n      fn(context, (err, data) => {\n        if (err) {\n          context.error(err);\n        }\n        data = data || {};\n        resolve(data);\n      });\n    });\n  } else {\n    promise = fn(context);\n  }\n\n  if (promise && promise instanceof Promise && typeof promise.then === 'function') {\n    return promise;\n  }\n\n  return Promise.resolve(promise);\n};\n\n/**\n * TODO: Define this logic use case\n * @param {*} promises\n * @param {*} appContext\n * @returns\n */\nexport const middlewareSeries = (promises, appContext) => {\n  if (!promises.length || appContext._redirected || appContext._errored) {\n    return Promise.resolve();\n  }\n\n  return promisify(promises[0], appContext)\n    .then(() => {\n      return middlewareSeries(promises.slice(1), appContext);\n    });\n};\n\n/**\n * Add middleware to the Vue instance\n * @param {*} Components List of Vue components\n * @param {*} context App context\n * @returns\n */\nfunction callMiddleware(Components, context) {\n  let midd = [];\n  let unknownMiddleware = false;\n\n  Components.forEach((Component) => {\n    if (Component.options.middleware) {\n      midd = midd.concat(Component.options.middleware);\n    }\n  });\n\n  midd = midd.map((name) => {\n    if (typeof name === 'function') {\n      return name;\n    }\n    if (typeof middleware[name] !== 'function') {\n      unknownMiddleware = true;\n      errorRedirect(this, new Error(`500: Unknown middleware ${ name }`));\n    }\n\n    return middleware[name];\n  });\n\n  if (unknownMiddleware) {\n    return;\n  }\n\n  return middlewareSeries(midd, context);\n}\n\nexport const globalHandleError = (error) => Vue.config.errorHandler && Vue.config.errorHandler(error);\n\n/**\n * Render function used by the router guards\n * @param {*} to Route\n * @param {*} from Route\n * @param {*} next callback\n * @param {*} app\n * @returns\n */\nasync function render(to, from, next) {\n  if (this._routeChanged === false && this._paramChanged === false && this._queryChanged === false) {\n    return next();\n  }\n\n  // nextCalled is true when redirected\n  let nextCalled = false;\n  const _next = (path) => {\n    if (from.path === path.path && this.$loading.finish) {\n      this.$loading.finish();\n    }\n\n    if (from.path !== path.path && this.$loading.pause) {\n      this.$loading.pause();\n    }\n\n    if (nextCalled) {\n      return;\n    }\n\n    nextCalled = true;\n    next(path);\n  };\n\n  // Update context\n  await setContext(app, {\n    route: to,\n    from,\n    next:  _next.bind(this)\n  });\n\n  // Get route's matched components\n  const matches = [];\n  const Components = getMatchedComponents(to, matches);\n\n  // If no Components matched, generate 404\n  if (!Components.length) {\n    // Handle the loading of dynamic plugins (Harvester) because we only want to attempt to load those plugins and routes if we first couldn't find a page.\n    // We should probably get rid of this concept entirely and just load plugins at the start.\n    await app.context.store.dispatch('loadManagement');\n    const newLocation = await dynamicPluginLoader.check({ route: { path: window.location.pathname }, store: app.context.store });\n\n    // If we have a new location, double check that it's actually valid\n    const resolvedRoute = newLocation?.path ? app.context.store.app.router.resolve({ path: newLocation.path.replace(/^\\/{0,1}dashboard/, '') }) : null;\n\n    if (resolvedRoute?.route.matched.length) {\n      // Note - don't use `redirect` or `store.app.route` (breaks feature by failing to run middleware in default layout)\n      return next(resolvedRoute.resolved.path);\n    }\n\n    errorRedirect(this, new Error('404: This page could not be found'));\n\n    return next();\n  }\n\n  try {\n    // Call middleware\n    await callMiddleware.call(this, Components, app.context);\n    if (nextCalled) {\n      return;\n    }\n    if (app.context._errored) {\n      return next();\n    }\n\n    // Call middleware for layout\n    await callMiddleware.call(this, Components, app.context);\n    if (nextCalled) {\n      return;\n    }\n    if (app.context._errored) {\n      return next();\n    }\n\n    // Call .validate()\n    let isValid = true;\n\n    try {\n      for (const Component of Components) {\n        if (typeof Component.options.validate !== 'function') {\n          continue;\n        }\n\n        isValid = await Component.options.validate(app.context);\n\n        if (!isValid) {\n          break;\n        }\n      }\n    } catch (validationError) {\n      // ...If .validate() threw an error\n      errorRedirect(this, new Error(`${ validationError.statusCode || '500' }: ${ validationError.message }`));\n\n      return next();\n    }\n\n    // ...If .validate() returned false\n    if (!isValid) {\n      errorRedirect(this, new Error('404: This page could not be found'));\n\n      return next();\n    }\n\n    // If not redirected\n    if (!nextCalled) {\n      if (this.$loading.finish && !this.$loading.manual) {\n        this.$loading.finish();\n      }\n\n      next();\n    }\n  } catch (err) {\n    const error = err || {};\n\n    globalHandleError(error);\n\n    next();\n  }\n}\n\n/**\n * Mounts the Vue app to the DOM element\n * @param {Object} appPartials - App view partials\n * @param {Object} VueClass - Vue instance\n */\nexport async function mountApp(appPartials, VueClass) {\n  // Set global variables\n  app = appPartials.app;\n  const router = appPartials.router;\n\n  // Create Vue instance\n  const vueApp = new VueClass(app);\n\n  // Mounts Vue app to DOM element\n  const mount = () => {\n    vueApp.$mount('#app');\n  };\n\n  // Initialize error handler\n  vueApp.$loading = {}; // To avoid error while vueApp.$nuxt does not exist\n\n  // Add beforeEach router hooks\n  router.beforeEach(render.bind(vueApp));\n  router.afterEach((from, to) => {\n    if (from?.name !== to?.name) {\n      updatePageTitle(getVendor());\n    }\n  });\n\n  // First render on client-side\n  const clientFirstMount = () => {\n    mount();\n  };\n\n  // fix: force next tick to avoid having same timestamp when an error happen on spa fallback\n  await new Promise((resolve) => setTimeout(resolve, 0));\n  render.call(vueApp, router.currentRoute, router.currentRoute, (path) => {\n    // If not redirected\n    if (!path) {\n      clientFirstMount();\n\n      return;\n    }\n\n    // Add a one-time afterEach hook to\n    // mount the app wait for redirect and route gets resolved\n    const unregisterHook = router.afterEach((to, from) => {\n      unregisterHook();\n      clientFirstMount();\n    });\n\n    // Push the path and let route to be resolved\n    router.push(path, undefined, (err) => {\n      if (err) {\n        const errorHandler = vueApp?.config?.errorHandler || console.error; // eslint-disable-line no-console\n\n        errorHandler(err);\n      }\n    });\n  });\n}\n\n/**\n * Extend component properties\n * @param {*} Component\n * @returns\n */\nconst patchComponent = (Component) => {\n  // If Component already sanitized\n  if (Component.options && Component._Ctor === Component) {\n    return Component;\n  }\n  if (!Component.options) {\n    Component = Vue.extend(Component); // fix issue #6\n    Component._Ctor = Component;\n  } else {\n    Component._Ctor = Component;\n    Component.extendOptions = Component.options;\n  }\n  // If no component name defined, set file path as name, (also fixes #5703)\n  if (!Component.options.name && Component.options.__file) {\n    Component.options.name = Component.options.__file;\n  }\n\n  return Component;\n};\n\nexport const getMatchedComponents = (route, matches = false, prop = 'components') => {\n  return Array.prototype.concat.apply([], route.matched.map((match, index) => {\n    return Object.keys(match[prop]).map((key) => {\n      matches && matches.push(index);\n\n      return match[prop][key];\n    });\n  }));\n};\n\nconst getComponent = async(unknownComponent) => {\n  let componentView;\n\n  // If component is a function, resolve it\n  if (typeof unknownComponent === 'function' && !unknownComponent.options) {\n    try {\n      componentView = await unknownComponent();\n    } catch (error) {\n      // Handle webpack chunk loading errors\n      // This may be due to a new deployment or a network problem\n      if (\n        error &&\n        error.name === 'ChunkLoadError' &&\n        typeof window !== 'undefined' &&\n        window.sessionStorage\n      ) {\n        const timeNow = Date.now();\n        const previousReloadTime = parseInt(window.sessionStorage.getItem('nuxt-reload'));\n\n        // check for previous reload time not to reload infinitely\n        if (!previousReloadTime || previousReloadTime + 60000 < timeNow) {\n          window.sessionStorage.setItem('nuxt-reload', timeNow);\n          window.location.reload(true /* skip cache */);\n        }\n      }\n\n      throw error;\n    }\n  }\n\n  return componentView || unknownComponent;\n};\n\n/**\n * Patch all the matched components of a given route\n * @param {*} route\n * @returns\n */\nconst patchMatchedComponents = (route) => Array.prototype.concat.apply(\n  [],\n  route.matched.map(\n    (match, index) => Object\n      .keys(match.components)\n      .reduce(async(acc, key) => {\n        if (match.components[key]) {\n          const component = await getComponent(match.components[key], match.instances[key], match, key, index);\n          const patchedComponent = patchComponent(component);\n\n          match.components[key] = patchedComponent;\n          acc.push(patchedComponent);\n        } else {\n          delete match.components[key];\n        }\n\n        return acc;\n      }, [])\n  )\n);\n\n/**\n   * Merge route meta with component meta and update matched components\n   * @param {*} route\n   * @returns\n   */\nexport const getRouteData = async(route) => {\n  if (!route) {\n    return;\n  }\n  // Make sure the components are resolved (code-splitting)\n  await Promise.all(patchMatchedComponents(route));\n  const meta = getMatchedComponents(route).map(\n    (matchedComponent, index) => ({ ...matchedComponent.options.meta, ...(route.matched[index] || {}).meta })\n  );\n\n  // Send back a copy of route with meta based on Component definition\n  return {\n    ...route,\n    meta\n  };\n};\n\n/**\n * Add missing context for the Vue instance\n * @param {*} app\n * @param {*} context\n */\nexport const setContext = async(app, context) => {\n  // If context not defined, create it\n  if (!app.context) {\n    app.context = {\n      isDev:   true,\n      isHMR:   false,\n      app,\n      store:   app.store,\n      payload: context.payload,\n      error:   context.error,\n      base:    app.router.options.base,\n      env:     {\n        commit: 'head', version: '0.1.2', dev: true, pl: 1, perfTest: false, rancherEnv: 'web', api: 'http://localhost:8989'\n      }\n    };\n    // Only set once\n\n    if (context.req) {\n      app.context.req = context.req;\n    }\n    if (context.res) {\n      app.context.res = context.res;\n    }\n\n    app.context.redirect = (status, path, query) => {\n      if (!status) {\n        return;\n      }\n      app.context._redirected = true;\n      // if only 1 or 2 arguments: redirect('/') or redirect('/', { foo: 'bar' })\n      let pathType = typeof path;\n\n      if (typeof status !== 'number' && (pathType === 'undefined' || pathType === 'object')) {\n        query = path || {};\n        path = status;\n        pathType = typeof path;\n        status = 302;\n      }\n      if (pathType === 'object') {\n        path = app.router.resolve(path).route.fullPath;\n      }\n      // \"/absolute/route\", \"./relative/route\" or \"../relative/route\"\n      if (/(^[.]{1,2}\\/)|(^\\/(?!\\/))/.test(path)) {\n        app.context.next({\n          path,\n          query,\n          status\n        });\n      } else {\n        path = withQuery(path, query);\n\n        // https://developer.mozilla.org/en-US/docs/Web/API/Location/replace\n        window.location.replace(path);\n\n        // Throw a redirect error\n        throw new Error('ERR_REDIRECT');\n      }\n    };\n  }\n\n  // Dynamic keys\n  const [currentRouteData, fromRouteData] = await Promise.all([\n    getRouteData(context.route),\n    getRouteData(context.from)\n  ]);\n\n  if (context.route) {\n    app.context.route = currentRouteData;\n  }\n\n  if (context.from) {\n    app.context.from = fromRouteData;\n  }\n\n  app.context.next = context.next;\n  app.context._redirected = false;\n  app.context._errored = false;\n  app.context.isHMR = Boolean(context.isHMR);\n  app.context.params = app.context.route.params || {};\n  app.context.query = app.context.route.query || {};\n};\n"],"mappings":"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","ignoreList":[]}]}