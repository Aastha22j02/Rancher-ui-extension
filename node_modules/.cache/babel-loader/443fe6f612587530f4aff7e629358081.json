{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/service.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/service.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JzsKaW1wb3J0IHRocm90dGxlIGZyb20gJ2xvZGFzaC90aHJvdHRsZSc7CmltcG9ydCBBcnJheUxpc3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3QnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJ0BzaGVsbC9taXhpbnMvZm9ybS12YWxpZGF0aW9uJzsKaW1wb3J0IEtleVZhbHVlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vS2V5VmFsdWUnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgU2VydmljZVBvcnRzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VydmljZVBvcnRzJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVW5pdElucHV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVW5pdElucHV0JzsKaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX1RZUEVTLCBIRUFETEVTUywgQ0xVU1RFUklQIH0gZnJvbSAnQHNoZWxsL21vZGVscy9zZXJ2aWNlJzsKaW1wb3J0IHsgdWNGaXJzdCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IEhhcnZlc3RlclNlcnZpY2VBZGRPbkNvbmZpZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9IYXJ2ZXN0ZXJTZXJ2aWNlQWRkT25Db25maWcnOwppbXBvcnQgeyBjbG9uZSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBQT0QsIENBUEksIEhDSSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBtYXRjaGluZyB9IGZyb20gJ0BzaGVsbC91dGlscy9zZWxlY3Rvcic7CmltcG9ydCB7IEhBUlZFU1RFUl9OQU1FIGFzIEhBUlZFU1RFUiB9IGZyb20gJ0BzaGVsbC9jb25maWcvZmVhdHVyZXMnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBpc0hhcnZlc3RlclNhdGlzZmllc1ZlcnNpb24gfSBmcm9tICdAc2hlbGwvdXRpbHMvY2x1c3Rlcic7CmltcG9ydCB7IFBvcnQgfSBmcm9tICdAc2hlbGwvdXRpbHMvdmFsaWRhdG9ycy9mb3JtUnVsZXMnOwppbXBvcnQgeyBfQ0xPTkUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CnZhciBTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9WQUxVRVMgPSB7CiAgTk9ORTogJ05vbmUnLAogIENMSUVOVElQOiAnQ2xpZW50SVAnCn07CnZhciBTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9MQUJFTFMgPSB7CiAgTk9ORTogJ3NlcnZpY2VzUGFnZS5hZmZpbml0eS5hY3Rpb25MYWJlbHMubm9uZScsCiAgQ0xJRU5USVA6ICdzZXJ2aWNlc1BhZ2UuYWZmaW5pdHkuYWN0aW9uTGFiZWxzLmNsaWVudElwJwp9Owp2YXIgU0VTU0lPTl9TVElDS1lfVElNRV9ERUZBVUxUID0gMTA4MDA7CmV4cG9ydCBkZWZhdWx0IHsKICAvLyBQcm9wcyBhcmUgZm91bmQgaW4gQ3JlYXRlRWRpdFZpZXcKICAvLyBwcm9wczoge30sCgogIGNvbXBvbmVudHM6IHsKICAgIEFycmF5TGlzdDogQXJyYXlMaXN0LAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDcnVSZXNvdXJjZTogQ3J1UmVzb3VyY2UsCiAgICBLZXlWYWx1ZTogS2V5VmFsdWUsCiAgICBMYWJlbHM6IExhYmVscywKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgTmFtZU5zRGVzY3JpcHRpb246IE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgUmFkaW9Hcm91cDogUmFkaW9Hcm91cCwKICAgIFNlcnZpY2VQb3J0czogU2VydmljZVBvcnRzLAogICAgVGFiOiBUYWIsCiAgICBUYWJiZWQ6IFRhYmJlZCwKICAgIFVuaXRJbnB1dDogVW5pdElucHV0LAogICAgSGFydmVzdGVyU2VydmljZUFkZE9uQ29uZmlnOiBIYXJ2ZXN0ZXJTZXJ2aWNlQWRkT25Db25maWcKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3LCBGb3JtVmFsaWRhdGlvbl0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgcmV0dXJuIHRoaXMubG9hZFBvZHMoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMkdmFsdWUsCiAgICAgIF90aGlzID0gdGhpczsKICAgIGlmICghKHRoaXMgIT09IG51bGwgJiYgdGhpcyAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpICE9PSBudWxsICYmIF90aGlzJHZhbHVlICE9PSB2b2lkIDAgJiYgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUuc3BlYykgIT09IG51bGwgJiYgX3RoaXMkdmFsdWUgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZS50eXBlKSkgewogICAgICB2YXIgX3RoaXMkdmFsdWUyOwogICAgICBpZiAoISgoX3RoaXMkdmFsdWUyID0gdGhpcy52YWx1ZSkgIT09IG51bGwgJiYgX3RoaXMkdmFsdWUyICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUyLnNwZWMpKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdzcGVjJywgewogICAgICAgICAgcG9ydHM6IFtdLAogICAgICAgICAgc2Vzc2lvbkFmZmluaXR5OiAnTm9uZScKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIC8vIFNldCBjbHVzdGVySVAgdG8gYW4gZW1wdHkgc3RyaW5nLCBpZiBpdCBleGlzdHMgYW5kIHRoZSB2YWx1ZSBpcyBub3QgTm9uZSB3aGVuIGNsb25lIGEgc2VydmljZQogICAgLy8gUmVtb3ZlIGNsdXN0ZXJJUHMgaWYgaXQgZXhpc3RzIHdoZW4gY2xvbmUgYSBzZXJ2aWNlCiAgICBpZiAodGhpcy5yZWFsTW9kZSA9PT0gX0NMT05FKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZTMsIF90aGlzJHZhbHVlNCwgX3RoaXMkdmFsdWU1OwogICAgICBpZiAoKF90aGlzJHZhbHVlMyA9IHRoaXMudmFsdWUpICE9PSBudWxsICYmIF90aGlzJHZhbHVlMyAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZTMgPSBfdGhpcyR2YWx1ZTMuc3BlYykgIT09IG51bGwgJiYgX3RoaXMkdmFsdWUzICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUzLmNsdXN0ZXJJUCAmJiAoKF90aGlzJHZhbHVlNCA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNCA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTQgPSBfdGhpcyR2YWx1ZTQuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWU0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTQuY2x1c3RlcklQKSAhPT0gJ05vbmUnKSB7CiAgICAgICAgdGhpcy52YWx1ZS5zcGVjLmNsdXN0ZXJJUCA9ICcnOwogICAgICB9CiAgICAgIGlmICgoX3RoaXMkdmFsdWU1ID0gdGhpcy52YWx1ZSkgIT09IG51bGwgJiYgX3RoaXMkdmFsdWU1ICE9PSB2b2lkIDAgJiYgKF90aGlzJHZhbHVlNSA9IF90aGlzJHZhbHVlNS5zcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTUgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZTUuY2x1c3RlcklQcykgewogICAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLnZhbHVlLnNwZWMsICdjbHVzdGVySVBzJyk7CiAgICAgIH0KICAgIH0KICAgIHZhciBtYXRjaGluZ1BvZHMgPSB7CiAgICAgIG1hdGNoZWQ6IDAsCiAgICAgIG1hdGNoZXM6IFtdLAogICAgICBub25lOiB0cnVlLAogICAgICBzYW1wbGU6IG51bGwsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgbWF0Y2hpbmdQb2RzOiBtYXRjaGluZ1BvZHMsCiAgICAgIGFsbFBvZHM6IFtdLAogICAgICBkZWZhdWx0U2VydmljZVR5cGVzOiBERUZBVUxUX1NFUlZJQ0VfVFlQRVMsCiAgICAgIHNhdmluZzogZmFsc2UsCiAgICAgIHNlc3Npb25BZmZpbml0eUFjdGlvbkxhYmVsczogT2JqZWN0LnZhbHVlcyhTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9MQUJFTFMpLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi90J10odik7CiAgICAgIH0pLm1hcCh1Y0ZpcnN0KSwKICAgICAgc2Vzc2lvbkFmZmluaXR5QWN0aW9uT3B0aW9uczogT2JqZWN0LnZhbHVlcyhTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9WQUxVRVMpLAogICAgICBmdkZvcm1SdWxlU2V0czogW10sCiAgICAgIGZ2UmVwb3J0ZWRWYWxpZGF0aW9uUGF0aHM6IFsnc3BlYyddCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10pKSwge30sIHsKICAgIHRhYkVycm9yczogZnVuY3Rpb24gdGFiRXJyb3JzKCkgewogICAgICB2YXIgdGFiRXJyb3JzID0ge307CiAgICAgIGlmICh0aGlzLnNlcnZpY2VUeXBlID09PSAnRXh0ZXJuYWxOYW1lJykgewogICAgICAgIHZhciBfdGhpcyRmdkdldFBhdGhFcnJvcnM7CiAgICAgICAgdGFiRXJyb3JzLmV4dGVybmFsTmFtZSA9ICgoX3RoaXMkZnZHZXRQYXRoRXJyb3JzID0gdGhpcy5mdkdldFBhdGhFcnJvcnMoWydzcGVjLmV4dGVybmFsTmFtZSddKSkgPT09IG51bGwgfHwgX3RoaXMkZnZHZXRQYXRoRXJyb3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRmdkdldFBhdGhFcnJvcnMubGVuZ3RoKSA+IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90aGlzJGZ2R2V0UGF0aEVycm9yczI7CiAgICAgICAgdGFiRXJyb3JzLnNlcnZpY2VQb3J0cyA9ICgoX3RoaXMkZnZHZXRQYXRoRXJyb3JzMiA9IHRoaXMuZnZHZXRQYXRoRXJyb3JzKFsnc3BlYy5wb3J0cyddKSkgPT09IG51bGwgfHwgX3RoaXMkZnZHZXRQYXRoRXJyb3JzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZnZHZXRQYXRoRXJyb3JzMi5sZW5ndGgpID4gMDsKICAgICAgfQogICAgICByZXR1cm4gdGFiRXJyb3JzOwogICAgfSwKICAgIHNob3dTZWxlY3Rvcldhcm5pbmc6IGZ1bmN0aW9uIHNob3dTZWxlY3Rvcldhcm5pbmcoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZSRzcGVjOwogICAgICB2YXIgc2VsZWN0b3IgPSAoX3RoaXMkdmFsdWUkc3BlYyA9IHRoaXMudmFsdWUuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUkc3BlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkc3BlYy5zZWxlY3RvcjsKICAgICAgcmV0dXJuICEhaXNFbXB0eShzZWxlY3Rvcik7CiAgICB9LAogICAgc2VydmljZVR5cGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlNiwgX3RoaXMkdmFsdWU3OwogICAgICAgIHZhciBzZXJ2aWNlVHlwZSA9IChfdGhpcyR2YWx1ZTYgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTYgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWU2ID0gX3RoaXMkdmFsdWU2LnNwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWU2LnR5cGU7CiAgICAgICAgdmFyIGNsdXN0ZXJJcCA9IChfdGhpcyR2YWx1ZTcgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTcgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWU3ID0gX3RoaXMkdmFsdWU3LnNwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWU3LmNsdXN0ZXJJUDsKICAgICAgICBpZiAoc2VydmljZVR5cGUpIHsKICAgICAgICAgIGlmIChzZXJ2aWNlVHlwZSA9PT0gQ0xVU1RFUklQICYmIGNsdXN0ZXJJcCA9PT0gJ05vbmUnKSB7CiAgICAgICAgICAgIHJldHVybiBIRUFETEVTUzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlVHlwZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNlcnZpY2VUeXBlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzZXJ2aWNlVHlwZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NldC1zdWJ0eXBlJywgc2VydmljZVR5cGUpOwogICAgICAgIGlmIChzZXJ2aWNlVHlwZSA9PT0gSEVBRExFU1MpIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICd0eXBlJywgQ0xVU1RFUklQKTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICdjbHVzdGVySVAnLCAnTm9uZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3RoaXMkdmFsdWU4OwogICAgICAgICAgaWYgKHNlcnZpY2VUeXBlICE9PSBIRUFETEVTUyAmJiAoKF90aGlzJHZhbHVlOCA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlOCA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTggPSBfdGhpcyR2YWx1ZTguc3BlYykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWU4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTguY2x1c3RlcklQKSA9PT0gJ05vbmUnKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICdjbHVzdGVySVAnLCBudWxsKTsKICAgICAgICAgIH0gZWxzZSBpZiAoc2VydmljZVR5cGUgPT09ICdFeHRlcm5hbE5hbWUnKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICdwb3J0cycsIG51bGwpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3R5cGUnLCBzZXJ2aWNlVHlwZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2hvd0FmZmluaXR5VGltZW91dDogZnVuY3Rpb24gc2hvd0FmZmluaXR5VGltZW91dCgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3BlYy5zZXNzaW9uQWZmaW5pdHkgPT09ICdDbGllbnRJUCcgJiYgIWlzRW1wdHkodGhpcy52YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eUNvbmZpZyk7CiAgICB9LAogICAgaGFzQ2x1c3RlcklwOiBmdW5jdGlvbiBoYXNDbHVzdGVySXAoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoZWNrVHlwZUlzKCdDbHVzdGVySVAnKSB8fCB0aGlzLmNoZWNrVHlwZUlzKCdMb2FkQmFsYW5jZXInKSB8fCB0aGlzLmNoZWNrVHlwZUlzKCdOb2RlUG9ydCcpOwogICAgfSwKICAgIHNob3dIYXJ2ZXN0ZXJBZGRPbkNvbmZpZzogZnVuY3Rpb24gc2hvd0hhcnZlc3RlckFkZE9uQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1LCBfdGhpcyRwcm92aXNpb25pbmdDbHUyLCBfdGhpcyRwcm92aXNpb25pbmdDbHU0OwogICAgICB2YXIgY2xvdWRQcm92aWRlcjsKICAgICAgdmFyIHZlcnNpb24gPSAoX3RoaXMkcHJvdmlzaW9uaW5nQ2x1ID0gdGhpcy5wcm92aXNpb25pbmdDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRwcm92aXNpb25pbmdDbHUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3Zpc2lvbmluZ0NsdS5rdWJlcm5ldGVzVmVyc2lvbjsKICAgICAgaWYgKChfdGhpcyRwcm92aXNpb25pbmdDbHUyID0gdGhpcy5wcm92aXNpb25pbmdDbHVzdGVyKSAhPT0gbnVsbCAmJiBfdGhpcyRwcm92aXNpb25pbmdDbHUyICE9PSB2b2lkIDAgJiYgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1Mi5pc1JrZTIpIHsKICAgICAgICB2YXIgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1MzsKICAgICAgICB2YXIgbWFjaGluZVNlbGVjdG9yQ29uZmlnID0gKChfdGhpcyRwcm92aXNpb25pbmdDbHUzID0gdGhpcy5wcm92aXNpb25pbmdDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRwcm92aXNpb25pbmdDbHUzID09PSB2b2lkIDAgfHwgKF90aGlzJHByb3Zpc2lvbmluZ0NsdTMgPSBfdGhpcyRwcm92aXNpb25pbmdDbHUzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHByb3Zpc2lvbmluZ0NsdTMgPT09IHZvaWQgMCB8fCAoX3RoaXMkcHJvdmlzaW9uaW5nQ2x1MyA9IF90aGlzJHByb3Zpc2lvbmluZ0NsdTMucmtlQ29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyRwcm92aXNpb25pbmdDbHUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm92aXNpb25pbmdDbHUzLm1hY2hpbmVTZWxlY3RvckNvbmZpZykgfHwge307CiAgICAgICAgdmFyIGFnZW50Q29uZmlnID0gKG1hY2hpbmVTZWxlY3RvckNvbmZpZ1swXSB8fCB7fSkuY29uZmlnOwogICAgICAgIGNsb3VkUHJvdmlkZXIgPSBhZ2VudENvbmZpZyA9PT0gbnVsbCB8fCBhZ2VudENvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWdlbnRDb25maWdbJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnXTsKICAgICAgfSBlbHNlIGlmICgoX3RoaXMkcHJvdmlzaW9uaW5nQ2x1NCA9IHRoaXMucHJvdmlzaW9uaW5nQ2x1c3RlcikgIT09IG51bGwgJiYgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1NCAhPT0gdm9pZCAwICYmIF90aGlzJHByb3Zpc2lvbmluZ0NsdTQuaXNSa2UxKSB7CiAgICAgICAgdmFyIF9jdXJyZW50Q2x1c3RlciRzcGVjOwogICAgICAgIHZhciBjdXJyZW50Q2x1c3RlciA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRDbHVzdGVyJ107CiAgICAgICAgY2xvdWRQcm92aWRlciA9IGN1cnJlbnRDbHVzdGVyID09PSBudWxsIHx8IGN1cnJlbnRDbHVzdGVyID09PSB2b2lkIDAgfHwgKF9jdXJyZW50Q2x1c3RlciRzcGVjID0gY3VycmVudENsdXN0ZXIuc3BlYykgPT09IG51bGwgfHwgX2N1cnJlbnRDbHVzdGVyJHNwZWMgPT09IHZvaWQgMCB8fCAoX2N1cnJlbnRDbHVzdGVyJHNwZWMgPSBfY3VycmVudENsdXN0ZXIkc3BlYy5yYW5jaGVyS3ViZXJuZXRlc0VuZ2luZUNvbmZpZykgPT09IG51bGwgfHwgX2N1cnJlbnRDbHVzdGVyJHNwZWMgPT09IHZvaWQgMCB8fCAoX2N1cnJlbnRDbHVzdGVyJHNwZWMgPSBfY3VycmVudENsdXN0ZXIkc3BlYy5jbG91ZFByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfY3VycmVudENsdXN0ZXIkc3BlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2N1cnJlbnRDbHVzdGVyJHNwZWMubmFtZTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5jaGVja1R5cGVJcygnTG9hZEJhbGFuY2VyJykgJiYgY2xvdWRQcm92aWRlciA9PT0gSEFSVkVTVEVSICYmIGlzSGFydmVzdGVyU2F0aXNmaWVzVmVyc2lvbih2ZXJzaW9uKTsKICAgIH0sCiAgICBwcm92aXNpb25pbmdDbHVzdGVyOiBmdW5jdGlvbiBwcm92aXNpb25pbmdDbHVzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIG91dCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYWxsJ10oQ0FQSS5SQU5DSEVSX0NMVVNURVIpLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgX2Mkc3RhdHVzOwogICAgICAgIHJldHVybiAoYyA9PT0gbnVsbCB8fCBjID09PSB2b2lkIDAgfHwgKF9jJHN0YXR1cyA9IGMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfYyRzdGF0dXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jJHN0YXR1cy5jbHVzdGVyTmFtZSkgPT09IF90aGlzMi5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YS5uYW1lOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgJ3ZhbHVlLm1ldGFkYXRhLm5hbWVzcGFjZSc6ICd1cGRhdGVNYXRjaGluZ1BvZHMnLAogICAgJ3ZhbHVlLnNwZWMuc2VsZWN0b3InOiAndXBkYXRlTWF0Y2hpbmdQb2RzJywKICAgICd2YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eSc6IGZ1bmN0aW9uIHZhbHVlU3BlY1Nlc3Npb25BZmZpbml0eSh2YWwpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlOTsKICAgICAgaWYgKHZhbCA9PT0gJ0NsaWVudElQJykgewogICAgICAgIHRoaXMudmFsdWUuc3BlYy5zZXNzaW9uQWZmaW5pdHlDb25maWcgPSB7CiAgICAgICAgICBjbGllbnRJUDogewogICAgICAgICAgICB0aW1lb3V0U2Vjb25kczogbnVsbAogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8vIHNldCBpdCBudWxsIGFuZCB0aGVuIHNldCBpdCB3aXRoIHZ1ZSB0byBtYWtlIHJlYWN0aXZlLgogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMuc2Vzc2lvbkFmZmluaXR5Q29uZmlnLmNsaWVudElQLCAndGltZW91dFNlY29uZHMnLCBTRVNTSU9OX1NUSUNLWV9USU1FX0RFRkFVTFQpOwogICAgICB9IGVsc2UgaWYgKChfdGhpcyR2YWx1ZTkgPSB0aGlzLnZhbHVlKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTkgIT09IHZvaWQgMCAmJiAoX3RoaXMkdmFsdWU5ID0gX3RoaXMkdmFsdWU5LnNwZWMpICE9PSBudWxsICYmIF90aGlzJHZhbHVlOSAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZTkgPSBfdGhpcyR2YWx1ZTkuc2Vzc2lvbkFmZmluaXR5Q29uZmlnKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTkgIT09IHZvaWQgMCAmJiAoX3RoaXMkdmFsdWU5ID0gX3RoaXMkdmFsdWU5LmNsaWVudElQKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZTkgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZTkudGltZW91dFNlY29uZHMpIHsKICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eUNvbmZpZy5jbGllbnRJUC50aW1lb3V0U2Vjb25kczsKICAgICAgfQogICAgfSwKICAgICd2YWx1ZS5zcGVjLnR5cGUnOiBmdW5jdGlvbiB2YWx1ZVNwZWNUeXBlKHZhbCkgewogICAgICBpZiAodmFsID09PSAnRXh0ZXJuYWxOYW1lJykgewogICAgICAgIHRoaXMuZnZGb3JtUnVsZVNldHMgPSBbewogICAgICAgICAgcGF0aDogJ3NwZWMuZXh0ZXJuYWxOYW1lJywKICAgICAgICAgIHJ1bGVzOiBbJ3JlcXVpcmVkJywgJ2V4dGVybmFsTmFtZSddLAogICAgICAgICAgdHJhbnNsYXRpb25LZXk6ICdzZXJ2aWNlc1BhZ2UuZXh0ZXJuYWxOYW1lLmlucHV0LmxhYmVsJwogICAgICAgIH1dOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZnZGb3JtUnVsZVNldHMgPSBbewogICAgICAgICAgcGF0aDogJ3NwZWMucG9ydHMnLAogICAgICAgICAgcnVsZXM6IFsnc2VydmljZVBvcnQnXQogICAgICAgIH1dOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5yZWdpc3RlckJlZm9yZUhvb2sodGhpcy53aWxsU2F2ZSwgJ3dpbGxTYXZlJyk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGluaXRpYWxUeXBlID0gdGhpcy5zZXJ2aWNlVHlwZTsKICAgIHRoaXMuJHNldCh0aGlzLCAnc2VydmljZVR5cGUnLCBpbml0aWFsVHlwZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVNYXRjaGluZ1BvZHM6IHRocm90dGxlKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBfdGhpcyR2YWx1ZSRzcGVjJHNlbGUgPSB0aGlzLnZhbHVlLnNwZWMuc2VsZWN0b3IsCiAgICAgICAgc2VsZWN0b3IgPSBfdGhpcyR2YWx1ZSRzcGVjJHNlbGUgPT09IHZvaWQgMCA/IHt9IDogX3RoaXMkdmFsdWUkc3BlYyRzZWxlOwogICAgICB2YXIgYWxsSW5OYW1lc3BhY2UgPSB0aGlzLmFsbFBvZHMuZmlsdGVyKGZ1bmN0aW9uIChwb2QpIHsKICAgICAgICB2YXIgX3RoaXMzJHZhbHVlOwogICAgICAgIHJldHVybiBwb2QubWV0YWRhdGEubmFtZXNwYWNlID09PSAoKF90aGlzMyR2YWx1ZSA9IF90aGlzMy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzMyR2YWx1ZSA9IF90aGlzMyR2YWx1ZS5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkdmFsdWUubmFtZXNwYWNlKTsKICAgICAgfSk7CiAgICAgIGlmIChpc0VtcHR5KHNlbGVjdG9yKSkgewogICAgICAgIHRoaXMubWF0Y2hpbmdQb2RzID0gewogICAgICAgICAgbWF0Y2hlZDogMCwKICAgICAgICAgIHRvdGFsOiBhbGxJbk5hbWVzcGFjZS5sZW5ndGgsCiAgICAgICAgICBub25lOiB0cnVlLAogICAgICAgICAgc2FtcGxlOiBudWxsCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbWF0Y2ggPSBtYXRjaGluZyhhbGxJbk5hbWVzcGFjZSwgc2VsZWN0b3IpOwogICAgICAgIHRoaXMubWF0Y2hpbmdQb2RzID0gewogICAgICAgICAgbWF0Y2hlZDogbWF0Y2gubGVuZ3RoLAogICAgICAgICAgdG90YWw6IGFsbEluTmFtZXNwYWNlLmxlbmd0aCwKICAgICAgICAgIG5vbmU6IG1hdGNoLmxlbmd0aCA9PT0gMCwKICAgICAgICAgIHNhbXBsZTogbWF0Y2hbMF0gPyBtYXRjaFswXS5uYW1lRGlzcGxheSA6IG51bGwKICAgICAgICB9OwogICAgICB9CiAgICB9LCAyNTAsIHsKICAgICAgbGVhZGluZzogdHJ1ZQogICAgfSksCiAgICBsb2FkUG9kczogZnVuY3Rpb24gbG9hZFBvZHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaW5TdG9yZSwgaGFzaCwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBpblN0b3JlID0gX3RoaXM0LiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXShQT0QpOwogICAgICAgICAgICAgIGhhc2ggPSB7CiAgICAgICAgICAgICAgICBwcm92Q2x1c3RlcnM6IF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogQ0FQSS5SQU5DSEVSX0NMVVNURVIKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgcG9kczogX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICAgICAgdHlwZTogUE9ECiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGhhcnZlc3RlckNvbmZpZ3M6IF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goIm1hbmFnZW1lbnQvZmluZEFsbCIsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogSENJLkhBUlZFU1RFUl9DT05GSUcKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYWxsSGFzaChoYXNoKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXM0LmFsbFBvZHMgPSByZXMucG9kczsKICAgICAgICAgICAgICBfdGhpczQudXBkYXRlTWF0Y2hpbmdQb2RzKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tUeXBlSXM6IGZ1bmN0aW9uIGNoZWNrVHlwZUlzKHR5cGVJbikgewogICAgICB2YXIgc2VydmljZVR5cGUgPSB0aGlzLnNlcnZpY2VUeXBlOwogICAgICBpZiAoc2VydmljZVR5cGUgPT09IHR5cGVJbikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICB1cGRhdGVTZXJ2aWNlUG9ydHM6IGZ1bmN0aW9uIHVwZGF0ZVNlcnZpY2VQb3J0cyhzZXJ2aWNlUG9ydHMpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3BvcnRzJywgc2VydmljZVBvcnRzKTsKICAgIH0sCiAgICB0YXJnZXRQb3J0c1N0ck9ySW50OiBmdW5jdGlvbiB0YXJnZXRQb3J0c1N0ck9ySW50KCkgewogICAgICB2YXIgdGFyZ2V0UG9ydHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB2YXIgbmV1ID0gY2xvbmUodGFyZ2V0UG9ydHMpOwogICAgICBuZXUuZm9yRWFjaChmdW5jdGlvbiAocG9ydCwgaWR4KSB7CiAgICAgICAgdmFyIHRhcmdldFBvcnQgPSBuZXcgUG9ydChwb3J0ID09PSBudWxsIHx8IHBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvcnQudGFyZ2V0UG9ydCk7CiAgICAgICAgaWYgKHRhcmdldFBvcnQuaXNJbnQpIHsKICAgICAgICAgIHBvcnQudGFyZ2V0UG9ydCA9IHRhcmdldFBvcnQuaW50OwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBuZXU7CiAgICB9LAogICAgd2lsbFNhdmU6IGZ1bmN0aW9uIHdpbGxTYXZlKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWUkc3BlYyRwb3J0ID0gdGhpcy52YWx1ZS5zcGVjLnBvcnRzLAogICAgICAgIHBvcnRzID0gX3RoaXMkdmFsdWUkc3BlYyRwb3J0ID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHZhbHVlJHNwZWMkcG9ydDsKICAgICAgaWYgKHBvcnRzICYmIHBvcnRzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnZhbHVlLnNwZWMucG9ydHMgPSB0aGlzLnRhcmdldFBvcnRzU3RyT3JJbnQodGhpcy52YWx1ZS5zcGVjLnBvcnRzKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","isEmpty","throttle","ArrayList","CreateEditView","FormValidation","KeyValue","LabeledInput","NameNsDescription","RadioGroup","ServicePorts","Tab","Tabbed","UnitInput","DEFAULT_SERVICE_TYPES","HEADLESS","CLUSTERIP","ucFirst","CruResource","Banner","Labels","HarvesterServiceAddOnConfig","clone","POD","CAPI","HCI","matching","HARVESTER_NAME","HARVESTER","allHash","isHarvesterSatisfiesVersion","Port","_CLONE","SESSION_AFFINITY_ACTION_VALUES","NONE","CLIENTIP","SESSION_AFFINITY_ACTION_LABELS","SESSION_STICKY_TIME_DEFAULT","components","mixins","fetch","loadPods","data","_this$value","_this","value","spec","type","_this$value2","$set","ports","sessionAffinity","realMode","_this$value3","_this$value4","_this$value5","clusterIP","clusterIPs","$delete","matchingPods","matched","matches","none","sample","total","allPods","defaultServiceTypes","saving","sessionAffinityActionLabels","Object","values","map","v","$store","getters","sessionAffinityActionOptions","fvFormRuleSets","fvReportedValidationPaths","computed","_objectSpread","tabErrors","serviceType","_this$fvGetPathErrors","externalName","fvGetPathErrors","length","_this$fvGetPathErrors2","servicePorts","showSelectorWarning","_this$value$spec","selector","get","_this$value6","_this$value7","clusterIp","set","$emit","_this$value8","showAffinityTimeout","sessionAffinityConfig","hasClusterIp","checkTypeIs","showHarvesterAddOnConfig","_this$provisioningClu","_this$provisioningClu2","_this$provisioningClu4","cloudProvider","version","provisioningCluster","kubernetesVersion","isRke2","_this$provisioningClu3","machineSelectorConfig","rkeConfig","agentConfig","config","isRke1","_currentCluster$spec","currentCluster","rancherKubernetesEngineConfig","name","_this2","out","RANCHER_CLUSTER","find","c","_c$status","status","clusterName","metadata","watch","valueSpecSessionAffinity","val","_this$value9","clientIP","timeoutSeconds","valueSpecType","path","rules","translationKey","created","registerBeforeHook","willSave","mounted","initialType","methods","updateMatchingPods","_this3","_this$value$spec$sele","allInNamespace","filter","pod","_this3$value","namespace","match","nameDisplay","leading","_this4","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inStore","hash","res","wrap","_callee$","_context","prev","next","provClusters","dispatch","pods","concat","harvesterConfigs","HARVESTER_CONFIG","sent","t0","stop","typeIn","updateServicePorts","targetPortsStrOrInt","targetPorts","arguments","undefined","neu","forEach","port","idx","targetPort","isInt","int","_this$value$spec$port"],"sources":["node_modules/@rancher/shell/edit/service.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport throttle from 'lodash/throttle';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { RadioGroup } from '@components/Form/Radio';\nimport ServicePorts from '@shell/components/form/ServicePorts';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { DEFAULT_SERVICE_TYPES, HEADLESS, CLUSTERIP } from '@shell/models/service';\nimport { ucFirst } from '@shell/utils/string';\nimport CruResource from '@shell/components/CruResource';\nimport { Banner } from '@components/Banner';\nimport Labels from '@shell/components/form/Labels';\nimport HarvesterServiceAddOnConfig from '@shell/components/HarvesterServiceAddOnConfig';\nimport { clone } from '@shell/utils/object';\nimport { POD, CAPI, HCI } from '@shell/config/types';\nimport { matching } from '@shell/utils/selector';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { allHash } from '@shell/utils/promise';\nimport { isHarvesterSatisfiesVersion } from '@shell/utils/cluster';\nimport { Port } from '@shell/utils/validators/formRules';\nimport { _CLONE } from '@shell/config/query-params';\n\nconst SESSION_AFFINITY_ACTION_VALUES = {\n  NONE:     'None',\n  CLIENTIP: 'ClientIP',\n};\n\nconst SESSION_AFFINITY_ACTION_LABELS = {\n  NONE:     'servicesPage.affinity.actionLabels.none',\n  CLIENTIP: 'servicesPage.affinity.actionLabels.clientIp',\n};\n\nconst SESSION_STICKY_TIME_DEFAULT = 10800;\n\nexport default {\n  // Props are found in CreateEditView\n  // props: {},\n\n  components: {\n    ArrayList,\n    Banner,\n    CruResource,\n    KeyValue,\n    Labels,\n    LabeledInput,\n    NameNsDescription,\n    RadioGroup,\n    ServicePorts,\n    Tab,\n    Tabbed,\n    UnitInput,\n    HarvesterServiceAddOnConfig,\n  },\n\n  mixins: [CreateEditView, FormValidation],\n\n  fetch() {\n    return this.loadPods();\n  },\n\n  data() {\n    if (!this?.value?.spec?.type) {\n      if (!this.value?.spec) {\n        this.$set(this.value, 'spec', {\n          ports:           [],\n          sessionAffinity: 'None',\n        });\n      }\n    }\n\n    // Set clusterIP to an empty string, if it exists and the value is not None when clone a service\n    // Remove clusterIPs if it exists when clone a service\n    if (this.realMode === _CLONE) {\n      if (this.value?.spec?.clusterIP && this.value?.spec?.clusterIP !== 'None') {\n        this.value.spec.clusterIP = '';\n      }\n      if (this.value?.spec?.clusterIPs) {\n        this.$delete(this.value.spec, 'clusterIPs');\n      }\n    }\n\n    const matchingPods = {\n      matched: 0,\n      matches: [],\n      none:    true,\n      sample:  null,\n      total:   0,\n    };\n\n    return {\n      matchingPods,\n      allPods:                     [],\n      defaultServiceTypes:         DEFAULT_SERVICE_TYPES,\n      saving:                      false,\n      sessionAffinityActionLabels: Object.values(SESSION_AFFINITY_ACTION_LABELS)\n        .map((v) => this.$store.getters['i18n/t'](v))\n        .map(ucFirst),\n      sessionAffinityActionOptions: Object.values(\n        SESSION_AFFINITY_ACTION_VALUES\n      ),\n      fvFormRuleSets:            [],\n      fvReportedValidationPaths: ['spec']\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    tabErrors() {\n      const tabErrors = {};\n\n      if (this.serviceType === 'ExternalName') {\n        tabErrors.externalName = this.fvGetPathErrors(['spec.externalName'])?.length > 0;\n      } else {\n        tabErrors.servicePorts = this.fvGetPathErrors(['spec.ports'])?.length > 0;\n      }\n\n      return tabErrors;\n    },\n\n    showSelectorWarning() {\n      const selector = this.value.spec?.selector;\n\n      return !!isEmpty(selector);\n    },\n    serviceType: {\n      get() {\n        const serviceType = this.value?.spec?.type;\n        const clusterIp = this.value?.spec?.clusterIP;\n\n        if (serviceType) {\n          if (serviceType === CLUSTERIP && clusterIp === 'None') {\n            return HEADLESS;\n          } else {\n            return serviceType;\n          }\n        }\n\n        return serviceType;\n      },\n\n      set(serviceType) {\n        this.$emit('set-subtype', serviceType);\n\n        if (serviceType === HEADLESS) {\n          this.$set(this.value.spec, 'type', CLUSTERIP);\n          this.$set(this.value.spec, 'clusterIP', 'None');\n        } else {\n          if (\n            serviceType !== HEADLESS &&\n            this.value?.spec?.clusterIP === 'None'\n          ) {\n            this.$set(this.value.spec, 'clusterIP', null);\n          } else if (serviceType === 'ExternalName') {\n            this.$set(this.value.spec, 'ports', null);\n          }\n\n          this.$set(this.value.spec, 'type', serviceType);\n        }\n      },\n    },\n    showAffinityTimeout() {\n      return (\n        this.value.spec.sessionAffinity === 'ClientIP' &&\n        !isEmpty(this.value.spec.sessionAffinityConfig)\n      );\n    },\n\n    hasClusterIp() {\n      return (\n        this.checkTypeIs('ClusterIP') ||\n        this.checkTypeIs('LoadBalancer') ||\n        this.checkTypeIs('NodePort')\n      );\n    },\n\n    showHarvesterAddOnConfig() {\n      let cloudProvider;\n      const version = this.provisioningCluster?.kubernetesVersion;\n\n      if (this.provisioningCluster?.isRke2) {\n        const machineSelectorConfig = this.provisioningCluster?.spec?.rkeConfig?.machineSelectorConfig || {};\n        const agentConfig = (machineSelectorConfig[0] || {}).config;\n\n        cloudProvider = agentConfig?.['cloud-provider-name'];\n      } else if (this.provisioningCluster?.isRke1) {\n        const currentCluster = this.$store.getters['currentCluster'];\n\n        cloudProvider = currentCluster?.spec?.rancherKubernetesEngineConfig?.cloudProvider?.name;\n      }\n\n      return this.checkTypeIs('LoadBalancer') &&\n              cloudProvider === HARVESTER &&\n              isHarvesterSatisfiesVersion(version);\n    },\n\n    provisioningCluster() {\n      const out = this.$store.getters['management/all'](CAPI.RANCHER_CLUSTER).find((c) => c?.status?.clusterName === this.currentCluster.metadata.name);\n\n      return out;\n    },\n  },\n\n  watch: {\n    'value.metadata.namespace': 'updateMatchingPods',\n    'value.spec.selector':      'updateMatchingPods',\n    'value.spec.sessionAffinity'(val) {\n      if (val === 'ClientIP') {\n        this.value.spec.sessionAffinityConfig = { clientIP: { timeoutSeconds: null } };\n\n        // set it null and then set it with vue to make reactive.\n        this.$set(\n          this.value.spec.sessionAffinityConfig.clientIP,\n          'timeoutSeconds',\n          SESSION_STICKY_TIME_DEFAULT\n        );\n      } else if (\n        this.value?.spec?.sessionAffinityConfig?.clientIP?.timeoutSeconds\n      ) {\n        delete this.value.spec.sessionAffinityConfig.clientIP.timeoutSeconds;\n      }\n    },\n    'value.spec.type'(val) {\n      if (val === 'ExternalName') {\n        this.fvFormRuleSets = [{\n          path:           'spec.externalName',\n          rules:          ['required', 'externalName'],\n          translationKey: 'servicesPage.externalName.input.label'\n        }];\n      } else {\n        this.fvFormRuleSets = [{ path: 'spec.ports', rules: ['servicePort'] }];\n      }\n    }\n  },\n\n  created() {\n    this.registerBeforeHook(this.willSave, 'willSave');\n  },\n\n  mounted() {\n    const initialType = this.serviceType;\n\n    this.$set(this, 'serviceType', initialType);\n  },\n\n  methods: {\n    updateMatchingPods: throttle(function() {\n      const { value: { spec: { selector = { } } } } = this;\n      const allInNamespace = this.allPods.filter((pod) => pod.metadata.namespace === this.value?.metadata?.namespace);\n\n      if (isEmpty(selector)) {\n        this.matchingPods = {\n          matched: 0,\n          total:   allInNamespace.length,\n          none:    true,\n          sample:  null,\n        };\n      } else {\n        const match = matching(allInNamespace, selector);\n\n        this.matchingPods = {\n          matched: match.length,\n          total:   allInNamespace.length,\n          none:    match.length === 0,\n          sample:  match[0] ? match[0].nameDisplay : null,\n        };\n      }\n    }, 250, { leading: true }),\n\n    async loadPods() {\n      try {\n        const inStore = this.$store.getters['currentStore'](POD);\n\n        const hash = {\n          provClusters:     this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER }),\n          pods:             this.$store.dispatch(`${ inStore }/findAll`, { type: POD }),\n          harvesterConfigs: this.$store.dispatch(`management/findAll`, { type: HCI.HARVESTER_CONFIG }),\n        };\n\n        const res = await allHash(hash);\n\n        this.allPods = res.pods;\n        this.updateMatchingPods();\n      } catch (e) { }\n    },\n\n    checkTypeIs(typeIn) {\n      const { serviceType } = this;\n\n      if (serviceType === typeIn) {\n        return true;\n      }\n\n      return false;\n    },\n\n    updateServicePorts(servicePorts) {\n      this.$set(this.value.spec, 'ports', servicePorts);\n    },\n\n    targetPortsStrOrInt(targetPorts = []) {\n      const neu = clone(targetPorts);\n\n      neu.forEach((port, idx) => {\n        const targetPort = new Port(port?.targetPort);\n\n        if (targetPort.isInt) {\n          port.targetPort = targetPort.int;\n        }\n      });\n\n      return neu;\n    },\n\n    willSave() {\n      const { ports = [] } = this.value.spec;\n\n      if (ports && ports.length > 0) {\n        this.value.spec.ports = this.targetPortsStrOrInt(this.value.spec.ports);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :selected-subtype=\"serviceType\"\n    :subtypes=\"defaultServiceTypes\"\n    :validation-passed=\"fvFormIsValid\"\n    :errors=\"fvUnreportedValidationErrors\"\n    :apply-hooks=\"applyHooks\"\n    :description=\"t('servicesPage.serviceListDescription')\"\n    @error=\"(e) => (errors = e)\"\n    @finish=\"save\"\n    @cancel=\"done\"\n    @select-type=\"(st) => (serviceType = st)\"\n  >\n    <NameNsDescription\n      v-if=\"!isView\"\n      :value=\"value\"\n      :mode=\"mode\"\n      :rules=\"{ name: fvGetAndReportPathRules('metadata.name'), namespace: [], description: [] }\"\n    />\n\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        v-if=\"checkTypeIs('ExternalName')\"\n        name=\"define-external-name\"\n        :label=\"t('servicesPage.externalName.define')\"\n        :tooltip=\"t('servicesPage.externalName.helpText')\"\n        :error=\"tabErrors.externalName\"\n      >\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <span v-if=\"isView\">{{ value.spec.externalName }}</span>\n            <LabeledInput\n              v-else\n              ref=\"external-name\"\n              v-model.number=\"value.spec.externalName\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.externalName.input.label')\"\n              :placeholder=\"t('servicesPage.externalName.placeholder')\"\n              type=\"text\"\n              :rules=\"fvGetAndReportPathRules('spec.externalName')\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-else\n        name=\"define-service-ports\"\n        :label=\"t('servicesPage.ips.define')\"\n        :weight=\"10\"\n        :error=\"tabErrors.servicePorts\"\n      >\n        <ServicePorts\n          v-model=\"value.spec.ports\"\n          class=\"col span-12\"\n          :mode=\"mode\"\n          :spec-type=\"serviceType\"\n          :rules=\"fvGetAndReportPathRules('spec.ports')\"\n          @input=\"updateServicePorts\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"!checkTypeIs('ExternalName')\"\n        name=\"selectors\"\n        :label=\"t('servicesPage.selectors.label')\"\n      >\n        <p>{{ t('servicesPage.selectors.matchingPods.description') }}</p>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <Banner :color=\"(matchingPods.none ? 'warning' : 'success')\">\n              <span v-clean-html=\"t('servicesPage.selectors.matchingPods.matchesSome', matchingPods)\" />\n            </Banner>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <KeyValue\n              key=\"selectors\"\n              v-model=\"value.spec.selector\"\n              :mode=\"mode\"\n              :initial-empty-row=\"true\"\n              :protip=\"false\"\n              @input=\"(e) => $set(value.spec, 'selector', e)\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        name=\"ips\"\n        :label=\"t('servicesPage.ips.label')\"\n        :tooltip=\"t('servicesPage.ips.external.protip')\"\n      >\n        <div\n          v-if=\"hasClusterIp\"\n          class=\"row mb-20\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.spec.clusterIP\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.ips.input.label')\"\n              :placeholder=\"t('servicesPage.ips.input.placeholder')\"\n              :tooltip-key=\"\n                hasClusterIp ? 'servicesPage.ips.clusterIpHelpText' : null\n              \"\n              @input=\"(e) => $set(value.spec, 'clusterIP', e)\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"checkTypeIs('LoadBalancer')\"\n          class=\"row mb-20\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.spec.loadBalancerIP\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.ips.loadBalancerIp.label')\"\n              :placeholder=\"t('servicesPage.ips.loadBalancerIp.placeholder')\"\n              :tooltip-key=\"\n                hasClusterIp ? 'servicesPage.ips.loadBalancerIp.helpText' : null\n              \"\n              @input=\"(e) => $set(value.spec, 'loadBalancerIP', e)\"\n            />\n          </div>\n        </div>\n        <div class=\"row mb-20\">\n          <div class=\"col span-7\">\n            <ArrayList\n              key=\"clusterExternalIpAddresses\"\n              v-model=\"value.spec.externalIPs\"\n              :title=\"hasClusterIp ? t('servicesPage.ips.external.label') : ''\"\n              :value-placeholder=\"t('servicesPage.ips.external.placeholder')\"\n              :mode=\"mode\"\n              :protip=\"false\"\n              @input=\"(e) => $set(value.spec, 'externalIPs', e)\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"showHarvesterAddOnConfig\"\n        name=\"add-on-config\"\n        :label=\"t('servicesPage.harvester.title')\"\n        :weight=\"-1\"\n      >\n        <HarvesterServiceAddOnConfig\n          :mode=\"mode\"\n          :value=\"value\"\n          :register-before-hook=\"registerBeforeHook\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"!checkTypeIs('ExternalName') && !checkTypeIs('Headless')\"\n        name=\"session-affinity\"\n        :label=\"t('servicesPage.affinity.label')\"\n        :tooltip=\"t('servicesPage.affinity.helpText')\"\n      >\n        <div class=\"row session-affinity\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"value.spec.sessionAffinity\"\n              name=\"sessionAffinity\"\n              class=\"enforcement-action\"\n              :options=\"sessionAffinityActionOptions\"\n              :labels=\"sessionAffinityActionLabels\"\n              :mode=\"mode\"\n            />\n          </div>\n          <div\n            v-if=\"showAffinityTimeout\"\n            class=\"col span-6\"\n          >\n            <UnitInput\n              v-model=\"value.spec.sessionAffinityConfig.clientIP.timeoutSeconds\"\n              :suffix=\"\n                t('suffix.seconds', {\n                  count:\n                    value.spec.sessionAffinityConfig.clientIP.timeoutSeconds,\n                })\n              \"\n              :label=\"t('servicesPage.affinity.timeout.label')\"\n              :placeholder=\"t('servicesPage.affinity.timeout.placeholder')\"\n              @input=\"\n                (e) =>\n                  $set(\n                    value.spec.sessionAffinityConfig.clientIP,\n                    'timeoutSeconds',\n                    e\n                  )\n              \"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"!isView\"\n        name=\"labels-and-annotations\"\n        :label=\"t('servicesPage.labelsAnnotations.label', {}, true)\"\n        :weight=\"-2\"\n      >\n        <Labels\n          :default-container-class=\"'labels-and-annotations-container'\"\n          :value=\"value\"\n          :mode=\"mode\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n\n<style lang=\"scss\">\n</style>\n"],"mappings":"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","ignoreList":[]}]}