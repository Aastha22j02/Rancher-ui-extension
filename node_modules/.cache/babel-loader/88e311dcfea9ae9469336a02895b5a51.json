{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/apps/charts/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/apps/charts/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIociwgZSkgeyB2YXIgdCA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbIkBAaXRlcmF0b3IiXTsgaWYgKCF0KSB7IGlmIChBcnJheS5pc0FycmF5KHIpIHx8ICh0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpKSB8fCBlICYmIHIgJiYgIm51bWJlciIgPT0gdHlwZW9mIHIubGVuZ3RoKSB7IHQgJiYgKHIgPSB0KTsgdmFyIF9uID0gMCwgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgcmV0dXJuIF9uID49IHIubGVuZ3RoID8geyBkb25lOiAhMCB9IDogeyBkb25lOiAhMSwgdmFsdWU6IHJbX24rK10gfTsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHRocm93IHI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG8sIGEgPSAhMCwgdSA9ICExOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyB0ID0gdC5jYWxsKHIpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgciA9IHQubmV4dCgpOyByZXR1cm4gYSA9IHIuZG9uZSwgcjsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHUgPSAhMCwgbyA9IHI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGEgfHwgbnVsbCA9PSB0LnJldHVybiB8fCB0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAodSkgdGhyb3cgbzsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKCJzdHJpbmciID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiAiT2JqZWN0IiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgIk1hcCIgPT09IHQgfHwgIlNldCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogIkFyZ3VtZW50cyIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgQXN5bmNCdXR0b24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQXN5bmNCdXR0b24nOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IENhcm91c2VsIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0Nhcm91c2VsJzsKaW1wb3J0IEJ1dHRvbkdyb3VwIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0J1dHRvbkdyb3VwJzsKaW1wb3J0IFNlbGVjdEljb25HcmlkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NlbGVjdEljb25HcmlkJzsKaW1wb3J0IFR5cGVEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UeXBlRGVzY3JpcHRpb24nOwppbXBvcnQgeyBSRVBPX1RZUEUsIFJFUE8sIENIQVJULCBWRVJTSU9OLCBTRUFSQ0hfUVVFUlksIF9GTEFHR0VELCBDQVRFR09SWSwgREVQUkVDQVRFRCBhcyBERVBSRUNBVEVEX1FVRVJZLCBISURERU4sIE9QRVJBVElOR19TWVNURU0gfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGxjRmlyc3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCBTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZWxlY3QnOwppbXBvcnQgeyBtYXBQcmVmLCBISURFX1JFUE9TLCBTSE9XX1BSRV9SRUxFQVNFLCBTSE9XX0NIQVJUX01PREUgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwppbXBvcnQgeyByZW1vdmVPYmplY3QsIGFkZE9iamVjdCwgZmluZEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgY29tcGF0aWJsZVZlcnNpb25zRm9yLCBmaWx0ZXJBbmRBcnJhbmdlQ2hhcnRzIH0gZnJvbSAnQHNoZWxsL3N0b3JlL2NhdGFsb2cnOwppbXBvcnQgeyBDQVRBTE9HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBpc1VJUGx1Z2luIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy91aXBsdWdpbnMnOwppbXBvcnQgVGFiVGl0bGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiVGl0bGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0cycsCiAgY29tcG9uZW50czogewogICAgQXN5bmNCdXR0b246IEFzeW5jQnV0dG9uLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDYXJvdXNlbDogQ2Fyb3VzZWwsCiAgICBCdXR0b25Hcm91cDogQnV0dG9uR3JvdXAsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgU2VsZWN0OiBTZWxlY3QsCiAgICBTZWxlY3RJY29uR3JpZDogU2VsZWN0SWNvbkdyaWQsCiAgICBUeXBlRGVzY3JpcHRpb246IFR5cGVEZXNjcmlwdGlvbiwKICAgIFRhYlRpdGxlOiBUYWJUaXRsZQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBxdWVyeTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjYXRhbG9nL2xvYWQnKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcXVlcnkgPSBfdGhpcy4kcm91dGUucXVlcnk7CiAgICAgICAgICAgIF90aGlzLnNlYXJjaFF1ZXJ5ID0gcXVlcnlbU0VBUkNIX1FVRVJZXSB8fCAnJzsKICAgICAgICAgICAgX3RoaXMuc2hvd0RlcHJlY2F0ZWQgPSBxdWVyeVtERVBSRUNBVEVEX1FVRVJZXSA9PT0gJ3RydWUnIHx8IHF1ZXJ5W0RFUFJFQ0FURURfUVVFUlldID09PSBfRkxBR0dFRDsKICAgICAgICAgICAgX3RoaXMuc2hvd0hpZGRlbiA9IHF1ZXJ5W0hJRERFTl0gPT09IF9GTEFHR0VEOwogICAgICAgICAgICBfdGhpcy5jYXRlZ29yeSA9IHF1ZXJ5W0NBVEVHT1JZXSB8fCAnJzsKICAgICAgICAgICAgX3RoaXMuYWxsUmVwb3MgPSBfdGhpcy5hcmVBbGxFbmFibGVkKCk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxSZXBvczogbnVsbCwKICAgICAgY2F0ZWdvcnk6IG51bGwsCiAgICAgIG9wZXJhdGluZ1N5c3RlbTogbnVsbCwKICAgICAgc2VhcmNoUXVlcnk6IG51bGwsCiAgICAgIHNob3dEZXByZWNhdGVkOiBudWxsLAogICAgICBzaG93SGlkZGVuOiBudWxsLAogICAgICBjaGFydE9wdGlvbnM6IFt7CiAgICAgICAgbGFiZWw6ICdCcm93c2UnLAogICAgICAgIHZhbHVlOiAnYnJvd3NlJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdGZWF0dXJlZCcsCiAgICAgICAgdmFsdWU6ICdmZWF0dXJlZCcKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSksIG1hcEdldHRlcnMoewogICAgYWxsQ2hhcnRzOiAnY2F0YWxvZy9jaGFydHMnLAogICAgbG9hZGluZ0Vycm9yczogJ2NhdGFsb2cvZXJyb3JzJwogIH0pKSwge30sIHsKICAgIGNoYXJ0TW9kZTogbWFwUHJlZihTSE9XX0NIQVJUX01PREUpLAogICAgaGlkZVJlcG9zOiBtYXBQcmVmKEhJREVfUkVQT1MpLAogICAgcmVwb09wdGlvbnM6IGZ1bmN0aW9uIHJlcG9PcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIG5leHRDb2xvciA9IDA7CiAgICAgIC8vIENvbG9ycyAzIGFuZCA0IG1hdGNoIGByYW5jaGVyYCBhbmQgYHBhcnRuZXJgIGNvbG9ycywgc28ganVzdCBhdm9pZCB0aGVtCiAgICAgIHZhciBjb2xvcnMgPSBbMSwgMiwgNSwgNiwgNywgOF07CiAgICAgIHZhciBvdXQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjYXRhbG9nL3JlcG9zJ10ubWFwKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIF9rZXk6IHIuX2tleSwKICAgICAgICAgIGxhYmVsOiByLm5hbWVEaXNwbGF5LAogICAgICAgICAgY29sb3I6IHIuY29sb3IsCiAgICAgICAgICB3ZWlnaHQ6IHIuaXNSYW5jaGVyID8gMSA6IHIuaXNQYXJ0bmVyID8gMiA6IDMsCiAgICAgICAgICBlbmFibGVkOiAhX3RoaXMyLmhpZGVSZXBvcy5pbmNsdWRlcyhyLl9rZXkpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIG91dCA9IHNvcnRCeShvdXQsIFsnd2VpZ2h0JywgJ2xhYmVsJ10pOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob3V0KSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGVudHJ5ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAoIWVudHJ5LmNvbG9yKSB7CiAgICAgICAgICAgIGVudHJ5LmNvbG9yID0gImNvbG9yIi5jb25jYXQoY29sb3JzW25leHRDb2xvcl0pOwogICAgICAgICAgICBuZXh0Q29sb3IrKzsKICAgICAgICAgICAgaWYgKG5leHRDb2xvciA+PSBjb2xvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgbmV4dENvbG9yID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgcmVwb09wdGlvbnNGb3JEcm9wZG93bjogZnVuY3Rpb24gcmVwb09wdGlvbnNGb3JEcm9wZG93bigpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnY2F0YWxvZy5yZXBvLmFsbCcpLAogICAgICAgIGFsbDogdHJ1ZSwKICAgICAgICBlbmFibGVkOiB0aGlzLmFyZUFsbEVuYWJsZWQoKQogICAgICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMucmVwb09wdGlvbnMpKTsKICAgIH0sCiAgICBmbGF0dGVuZWRSZXBvTmFtZXM6IGZ1bmN0aW9uIGZsYXR0ZW5lZFJlcG9OYW1lcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBhbGxDaGVja2VkID0gdGhpcy5yZXBvT3B0aW9uc0ZvckRyb3Bkb3duLmZpbmQoZnVuY3Rpb24gKHJlcG8pIHsKICAgICAgICByZXR1cm4gcmVwby5hbGwgJiYgcmVwby5lbmFibGVkOwogICAgICB9KTsKICAgICAgaWYgKGFsbENoZWNrZWQpIHsKICAgICAgICByZXR1cm4gYWxsQ2hlY2tlZC5sYWJlbDsKICAgICAgfQoKICAgICAgLy8gTm9uZSBjaGVja2VkCiAgICAgIGlmICghdGhpcy5yZXBvT3B0aW9uc0ZvckRyb3Bkb3duLmZpbmQoZnVuY3Rpb24gKHJlcG8pIHsKICAgICAgICByZXR1cm4gcmVwby5lbmFibGVkOwogICAgICB9KSkgewogICAgICAgIHJldHVybiB0aGlzLnQoJ2dlbmVyaWMubm9uZScpOwogICAgICB9CiAgICAgIHZhciBzaG93blJlcG9zID0gdGhpcy5yZXBvT3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHJlcG8pIHsKICAgICAgICByZXR1cm4gIV90aGlzMy5oaWRlUmVwb3MuaW5jbHVkZXMocmVwby5fa2V5KTsKICAgICAgfSk7CiAgICAgIHZhciByZWR1Y2VkUmVwb3MgPSBzaG93blJlcG9zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjLCBpKSB7CiAgICAgICAgYWNjICs9IGMubGFiZWw7CiAgICAgICAgdmFyIGxlbmd0aCA9IHNob3duUmVwb3MubGVuZ3RoOwogICAgICAgIGlmIChpIDwgbGVuZ3RoIC0gMSkgewogICAgICAgICAgYWNjICs9ICcsICc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sICcnKTsKICAgICAgcmV0dXJuIHJlZHVjZWRSZXBvczsKICAgIH0sCiAgICAvKioKICAgICAqIEZpbHRlciBhbGxsbCBjaGFydHMgYnkgaW52YWxpZCBlbnRyaWVzIChkZXByZWNhdGVkLCBoaWRkZW4gYW5kIHVpIHBsdWdpbikuCiAgICAgKgogICAgICogVGhpcyBkb2VzIG5vdCBpbmNsdWRlIGFueSB1c2VyIHByb3ZpZGVkIGZpbHRlcnMgKGxpa2Ugc2VsZWN0ZWQgcmVwb3MsIGNhdGVnb3JpZXMgYW5kIHRleHQgcXVlcnkpCiAgICAgKi8KICAgIGVuYWJsZWRDaGFydHM6IGZ1bmN0aW9uIGVuYWJsZWRDaGFydHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gKHRoaXMuYWxsQ2hhcnRzIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICBpZiAoYy5kZXByZWNhdGVkICYmICFfdGhpczQuc2hvd0RlcHJlY2F0ZWQpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGMuaGlkZGVuICYmICFfdGhpczQuc2hvd0hpZGRlbikgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoaXNVSVBsdWdpbihjKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBGaWx0ZXIgZW5hYmxlZCBjaGFydHMgYWxsbGwgZmlsdGVycy4gVGhlc2UgYXJlIHdoYXQgdGhlIHVzZXIgd2lsbCBzZWUgaW4gdGhlIGxpc3QKICAgICAqLwogICAgZmlsdGVyZWRDaGFydHM6IGZ1bmN0aW9uIGZpbHRlcmVkQ2hhcnRzKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJDaGFydHMoewogICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LAogICAgICAgIHNlYXJjaFF1ZXJ5OiB0aGlzLnNlYXJjaFF1ZXJ5LAogICAgICAgIGhpZGVSZXBvczogdGhpcy5oaWRlUmVwb3MKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBGaWx0ZXIgdmFsaWQgY2hhcnRzIChhbGxsIGZpbHRlcnMgbWludXMgdXNlciBwcm92aWRlZCBvbmVzKSBieSB3aGV0aGVyIHRoZXkgYXJlIGZlYXR1cmVkIG9yIG5vdAogICAgICoKICAgICAqIFRoaXMgd2lsbCBwb3dlciB0aGUgY2Fyb3VzZWwKICAgICAqLwogICAgZmVhdHVyZWRDaGFydHM6IGZ1bmN0aW9uIGZlYXR1cmVkQ2hhcnRzKCkgewogICAgICB2YXIgZmlsdGVyZWRDaGFydHMgPSB0aGlzLmZpbHRlckNoYXJ0cyh7fSk7CiAgICAgIHZhciBmZWF0dXJlZENoYXJ0cyA9IGZpbHRlcmVkQ2hhcnRzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUuZmVhdHVyZWQ7CiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYS5mZWF0dXJlZCAtIGIuZmVhdHVyZWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gZmVhdHVyZWRDaGFydHMuc2xpY2UoMCwgNSk7CiAgICB9LAogICAgY2F0ZWdvcmllczogZnVuY3Rpb24gY2F0ZWdvcmllcygpIHsKICAgICAgdmFyIG1hcCA9IHt9OwoKICAgICAgLy8gRmlsdGVyIGNoYXJ0cyBieSBldmVyeXRoaW5nIGV4Y2VwdCBpdHNlbGYKICAgICAgdmFyIGNoYXJ0cyA9IHRoaXMuZmlsdGVyQ2hhcnRzKHsKICAgICAgICBzZWFyY2hRdWVyeTogdGhpcy5zZWFyY2hRdWVyeSwKICAgICAgICBoaWRlUmVwb3M6IHRoaXMuaGlkZVJlcG9zCiAgICAgIH0pOwogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoYXJ0cyksCiAgICAgICAgX3N0ZXAyOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgY2hhcnQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoYXJ0LmNhdGVnb3JpZXMpLAogICAgICAgICAgICBfc3RlcDM7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBjID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgIGlmICghbWFwW2NdKSB7CiAgICAgICAgICAgICAgICB2YXIgbGFiZWxLZXkgPSAiY2F0YWxvZy5jaGFydHMuY2F0ZWdvcmllcy4iLmNvbmNhdChsY0ZpcnN0KGMpKTsKICAgICAgICAgICAgICAgIG1hcFtjXSA9IHsKICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10obGFiZWxLZXksIG51bGwsIGMpLAogICAgICAgICAgICAgICAgICB2YWx1ZTogYywKICAgICAgICAgICAgICAgICAgY291bnQ6IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG1hcFtjXS5jb3VudCsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIHZhciBvdXQgPSBPYmplY3QudmFsdWVzKG1hcCk7CiAgICAgIG91dC51bnNoaWZ0KHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjYXRhbG9nLmNoYXJ0cy5jYXRlZ29yaWVzLmFsbCcpLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBjb3VudDogY2hhcnRzLmxlbmd0aAogICAgICB9KTsKICAgICAgcmV0dXJuIHNvcnRCeShvdXQsIFsnbGFiZWwnXSk7CiAgICB9LAogICAgc2hvd0Nhcm91c2VsOiBmdW5jdGlvbiBzaG93Q2Fyb3VzZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoYXJ0TW9kZSA9PT0gJ2ZlYXR1cmVkJyAmJiB0aGlzLmZlYXR1cmVkQ2hhcnRzLmxlbmd0aDsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgc2VhcmNoUXVlcnk6IGZ1bmN0aW9uIHNlYXJjaFF1ZXJ5KHEpIHsKICAgICAgdGhpcy4kcm91dGVyLmFwcGx5UXVlcnkoX2RlZmluZVByb3BlcnR5KHt9LCBTRUFSQ0hfUVVFUlksIHEgfHwgdW5kZWZpbmVkKSk7CiAgICB9LAogICAgY2F0ZWdvcnk6IGZ1bmN0aW9uIGNhdGVnb3J5KGNhdCkgewogICAgICB0aGlzLiRyb3V0ZXIuYXBwbHlRdWVyeShfZGVmaW5lUHJvcGVydHkoe30sIENBVEVHT1JZLCBjYXQgfHwgdW5kZWZpbmVkKSk7CiAgICB9LAogICAgb3BlcmF0aW5nU3lzdGVtOiBmdW5jdGlvbiBvcGVyYXRpbmdTeXN0ZW0ob3MpIHsKICAgICAgdGhpcy4kcm91dGVyLmFwcGx5UXVlcnkoX2RlZmluZVByb3BlcnR5KHt9LCBPUEVSQVRJTkdfU1lTVEVNLCBvcyB8fCB1bmRlZmluZWQpKTsKICAgIH0sCiAgICBzaG93RGVwcmVjYXRlZDogZnVuY3Rpb24gc2hvd0RlcHJlY2F0ZWQobmV1KSB7CiAgICAgIHRoaXMuJHJvdXRlci5hcHBseVF1ZXJ5KF9kZWZpbmVQcm9wZXJ0eSh7fSwgREVQUkVDQVRFRF9RVUVSWSwgbmV1IHx8IHVuZGVmaW5lZCkpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB3aW5kb3cuYyA9IHRoaXM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb2xvckZvckNoYXJ0OiBmdW5jdGlvbiBjb2xvckZvckNoYXJ0KGNoYXJ0KSB7CiAgICAgIHZhciByZXBvcyA9IHRoaXMucmVwb09wdGlvbnM7CiAgICAgIHZhciByZXBvID0gZmluZEJ5KHJlcG9zLCAnX2tleScsIGNoYXJ0LnJlcG9LZXkpOwogICAgICBpZiAocmVwbykgewogICAgICAgIHJldHVybiByZXBvLmNvbG9yOwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIHRvZ2dsZUFsbDogZnVuY3Rpb24gdG9nZ2xlQWxsKG9uKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMucmVwb09wdGlvbnMpLAogICAgICAgIF9zdGVwNDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHIgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICB0aGlzLnRvZ2dsZVJlcG8ociwgb24sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuYWxsUmVwb3MgPSBfdGhpczUuYXJlQWxsRW5hYmxlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBhcmVBbGxFbmFibGVkOiBmdW5jdGlvbiBhcmVBbGxFbmFibGVkKCkgewogICAgICB2YXIgYWxsID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2F0YWxvZy9yZXBvcyddOwogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFsbCksCiAgICAgICAgX3N0ZXA1OwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgciA9IF9zdGVwNS52YWx1ZTsKICAgICAgICAgIGlmICh0aGlzLmhpZGVSZXBvcy5pbmNsdWRlcyhyLl9rZXkpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHRvZ2dsZVJlcG86IGZ1bmN0aW9uIHRvZ2dsZVJlcG8ocmVwbywgb24pIHsKICAgICAgdmFyIHVwZGF0ZUFsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgdmFyIGhpZGRlbiA9IHRoaXMuaGlkZVJlcG9zOwogICAgICBpZiAob24pIHsKICAgICAgICByZW1vdmVPYmplY3QoaGlkZGVuLCByZXBvLl9rZXkpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZE9iamVjdChoaWRkZW4sIHJlcG8uX2tleSk7CiAgICAgIH0KICAgICAgdGhpcy5oaWRlUmVwb3MgPSBoaWRkZW47CiAgICAgIGlmICh1cGRhdGVBbGwpIHsKICAgICAgICB0aGlzLmFsbFJlcG9zID0gdGhpcy5hcmVBbGxFbmFibGVkKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RDaGFydDogZnVuY3Rpb24gc2VsZWN0Q2hhcnQoY2hhcnQpIHsKICAgICAgdmFyIHZlcnNpb247CiAgICAgIHZhciBPU3MgPSB0aGlzLmN1cnJlbnRDbHVzdGVyLndvcmtlck9TczsKICAgICAgdmFyIHNob3dQcmVyZWxlYXNlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10oU0hPV19QUkVfUkVMRUFTRSk7CiAgICAgIHZhciBjb21wYXRpYmxlVmVyc2lvbnMgPSBjb21wYXRpYmxlVmVyc2lvbnNGb3IoY2hhcnQsIE9Tcywgc2hvd1ByZXJlbGVhc2UpOwogICAgICB2YXIgdmVyc2lvbnMgPSBjaGFydC52ZXJzaW9uczsKICAgICAgaWYgKGNvbXBhdGlibGVWZXJzaW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmVyc2lvbiA9IGNvbXBhdGlibGVWZXJzaW9uc1swXS52ZXJzaW9uOwogICAgICB9IGVsc2UgewogICAgICAgIHZlcnNpb24gPSB2ZXJzaW9uc1swXS52ZXJzaW9uOwogICAgICB9CiAgICAgIHZhciBxdWVyeSA9IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSwgUkVQT19UWVBFLCBjaGFydC5yZXBvVHlwZSksIFJFUE8sIGNoYXJ0LnJlcG9OYW1lKSwgQ0hBUlQsIGNoYXJ0LmNoYXJ0TmFtZSksIFZFUlNJT04sIHZlcnNpb24pOwogICAgICBpZiAoY2hhcnQuZGVwcmVjYXRlZCAmJiB0aGlzLnNob3dEZXByZWNhdGVkKSB7CiAgICAgICAgcXVlcnlbREVQUkVDQVRFRF9RVUVSWV0gPSAndHJ1ZSc7CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItYXBwcy1jaGFydHMtY2hhcnQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm91dGUucGFyYW1zLmNsdXN0ZXIsCiAgICAgICAgICBwcm9kdWN0OiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcm9kdWN0SWQnXQogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgIH0pOwogICAgfSwKICAgIGZvY3VzU2VhcmNoOiBmdW5jdGlvbiBmb2N1c1NlYXJjaCgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuc2VhcmNoUXVlcnkpIHsKICAgICAgICB0aGlzLiRyZWZzLnNlYXJjaFF1ZXJ5LmZvY3VzKCk7CiAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hRdWVyeS5zZWxlY3QoKTsKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goYnRuQ2IpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgnY2F0YWxvZy9yZWZyZXNoJyk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBidG5DYih0cnVlKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCdncm93bC9mcm9tRXJyb3InLCBfY29udGV4dDIudDApOwogICAgICAgICAgICAgIGJ0bkNiKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmaWx0ZXJDaGFydHM6IGZ1bmN0aW9uIGZpbHRlckNoYXJ0cyhfcmVmKSB7CiAgICAgIHZhciBjYXRlZ29yeSA9IF9yZWYuY2F0ZWdvcnksCiAgICAgICAgc2VhcmNoUXVlcnkgPSBfcmVmLnNlYXJjaFF1ZXJ5LAogICAgICAgIGhpZGVSZXBvcyA9IF9yZWYuaGlkZVJlcG9zOwogICAgICB2YXIgZW5hYmxlZENoYXJ0cyA9IHRoaXMuZW5hYmxlZENoYXJ0cyB8fCBbXTsKICAgICAgdmFyIGNsdXN0ZXJQcm92aWRlciA9IHRoaXMuY3VycmVudENsdXN0ZXIuc3RhdHVzLnByb3ZpZGVyIHx8ICdvdGhlcic7CiAgICAgIHJldHVybiBmaWx0ZXJBbmRBcnJhbmdlQ2hhcnRzKGVuYWJsZWRDaGFydHMsIHsKICAgICAgICBjbHVzdGVyUHJvdmlkZXI6IGNsdXN0ZXJQcm92aWRlciwKICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksCiAgICAgICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LAogICAgICAgIHNob3dEZXByZWNhdGVkOiB0aGlzLnNob3dEZXByZWNhdGVkLAogICAgICAgIHNob3dIaWRkZW46IHRoaXMuc2hvd0hpZGRlbiwKICAgICAgICBoaWRlUmVwb3M6IGhpZGVSZXBvcywKICAgICAgICBoaWRlVHlwZXM6IFtDQVRBTE9HLl9DTFVTVEVSX1RQTF0sCiAgICAgICAgc2hvd1ByZXJlbGVhc2U6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKFNIT1dfUFJFX1JFTEVBU0UpCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["AsyncButton","Loading","Banner","Carousel","ButtonGroup","SelectIconGrid","TypeDescription","REPO_TYPE","REPO","CHART","VERSION","SEARCH_QUERY","_FLAGGED","CATEGORY","DEPRECATED","DEPRECATED_QUERY","HIDDEN","OPERATING_SYSTEM","lcFirst","sortBy","mapGetters","Checkbox","Select","mapPref","HIDE_REPOS","SHOW_PRE_RELEASE","SHOW_CHART_MODE","removeObject","addObject","findBy","compatibleVersionsFor","filterAndArrangeCharts","CATALOG","isUIPlugin","TabTitle","name","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","wrap","_callee$","_context","prev","next","$store","dispatch","$route","searchQuery","showDeprecated","showHidden","category","allRepos","areAllEnabled","stop","data","operatingSystem","chartOptions","label","value","computed","_objectSpread","allCharts","loadingErrors","chartMode","hideRepos","repoOptions","_this2","nextColor","colors","out","getters","map","r","_key","nameDisplay","color","weight","isRancher","isPartner","enabled","includes","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","concat","length","err","e","f","repoOptionsForDropdown","t","all","_toConsumableArray","flattenedRepoNames","_this3","allChecked","find","repo","shownRepos","filter","reducedRepos","reduce","acc","c","i","enabledCharts","_this4","deprecated","hidden","filteredCharts","filterCharts","featuredCharts","featured","sort","a","b","slice","categories","charts","_iterator2","_step2","chart","_iterator3","_step3","labelKey","count","Object","values","unshift","showCarousel","watch","q","$router","applyQuery","_defineProperty","undefined","cat","os","neu","mounted","window","methods","colorForChart","repos","repoKey","toggleAll","on","_this5","_iterator4","_step4","toggleRepo","$nextTick","_iterator5","_step5","updateAll","arguments","selectChart","version","OSs","currentCluster","workerOSs","showPrerelease","compatibleVersions","versions","repoType","repoName","chartName","push","params","cluster","product","focusSearch","$refs","focus","select","refresh","btnCb","_this6","_callee2","_callee2$","_context2","t0","_ref","clusterProvider","status","provider","hideTypes","_CLUSTER_TPL"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/apps/charts/index.vue"],"sourcesContent":["<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport Carousel from '@shell/components/Carousel';\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport TypeDescription from '@shell/components/TypeDescription';\nimport {\n  REPO_TYPE, REPO, CHART, VERSION, SEARCH_QUERY, _FLAGGED, CATEGORY, DEPRECATED as DEPRECATED_QUERY, HIDDEN, OPERATING_SYSTEM\n} from '@shell/config/query-params';\nimport { lcFirst } from '@shell/utils/string';\nimport { sortBy } from '@shell/utils/sort';\nimport { mapGetters } from 'vuex';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Select from '@shell/components/form/Select';\nimport { mapPref, HIDE_REPOS, SHOW_PRE_RELEASE, SHOW_CHART_MODE } from '@shell/store/prefs';\nimport { removeObject, addObject, findBy } from '@shell/utils/array';\nimport { compatibleVersionsFor, filterAndArrangeCharts } from '@shell/store/catalog';\nimport { CATALOG } from '@shell/config/labels-annotations';\nimport { isUIPlugin } from '@shell/config/uiplugins';\nimport TabTitle from '@shell/components/TabTitle';\n\nexport default {\n  name:       'Charts',\n  components: {\n    AsyncButton,\n    Banner,\n    Carousel,\n    ButtonGroup,\n    Loading,\n    Checkbox,\n    Select,\n    SelectIconGrid,\n    TypeDescription,\n    TabTitle\n  },\n\n  async fetch() {\n    await this.$store.dispatch('catalog/load');\n\n    const query = this.$route.query;\n\n    this.searchQuery = query[SEARCH_QUERY] || '';\n    this.showDeprecated = query[DEPRECATED_QUERY] === 'true' || query[DEPRECATED_QUERY] === _FLAGGED;\n    this.showHidden = query[HIDDEN] === _FLAGGED;\n    this.category = query[CATEGORY] || '';\n    this.allRepos = this.areAllEnabled();\n  },\n\n  data() {\n    return {\n      allRepos:        null,\n      category:        null,\n      operatingSystem: null,\n      searchQuery:     null,\n      showDeprecated:  null,\n      showHidden:      null,\n      chartOptions:    [\n        {\n          label: 'Browse',\n          value: 'browse',\n        },\n        {\n          label: 'Featured',\n          value: 'featured'\n        }\n      ]\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ allCharts: 'catalog/charts', loadingErrors: 'catalog/errors' }),\n\n    chartMode: mapPref(SHOW_CHART_MODE),\n\n    hideRepos: mapPref(HIDE_REPOS),\n\n    repoOptions() {\n      let nextColor = 0;\n      // Colors 3 and 4 match `rancher` and `partner` colors, so just avoid them\n      const colors = [1, 2, 5, 6, 7, 8];\n\n      let out = this.$store.getters['catalog/repos'].map((r) => {\n        return {\n          _key:    r._key,\n          label:   r.nameDisplay,\n          color:   r.color,\n          weight:  ( r.isRancher ? 1 : ( r.isPartner ? 2 : 3 ) ),\n          enabled: !this.hideRepos.includes(r._key),\n        };\n      });\n\n      out = sortBy(out, ['weight', 'label']);\n\n      for ( const entry of out ) {\n        if ( !entry.color ) {\n          entry.color = `color${ colors[nextColor] }`;\n          nextColor++;\n          if ( nextColor >= colors.length ) {\n            nextColor = 0;\n          }\n        }\n      }\n\n      return out;\n    },\n\n    repoOptionsForDropdown() {\n      return [{\n        label: this.t('catalog.repo.all'), all: true, enabled: this.areAllEnabled()\n      }, ...this.repoOptions];\n    },\n\n    flattenedRepoNames() {\n      const allChecked = this.repoOptionsForDropdown.find((repo) => repo.all && repo.enabled);\n\n      if (allChecked) {\n        return allChecked.label;\n      }\n\n      // None checked\n      if (!this.repoOptionsForDropdown.find((repo) => repo.enabled)) {\n        return this.t('generic.none');\n      }\n\n      const shownRepos = this.repoOptions.filter((repo) => !this.hideRepos.includes(repo._key));\n      const reducedRepos = shownRepos.reduce((acc, c, i) => {\n        acc += c.label;\n        const length = shownRepos.length;\n\n        if (i < length - 1) {\n          acc += ', ';\n        }\n\n        return acc;\n      }, '');\n\n      return reducedRepos;\n    },\n\n    /**\n     * Filter allll charts by invalid entries (deprecated, hidden and ui plugin).\n     *\n     * This does not include any user provided filters (like selected repos, categories and text query)\n     */\n    enabledCharts() {\n      return (this.allCharts || []).filter((c) => {\n        if ( c.deprecated && !this.showDeprecated ) {\n          return false;\n        }\n\n        if ( c.hidden && !this.showHidden ) {\n          return false;\n        }\n\n        if (isUIPlugin(c)) {\n          return false;\n        }\n\n        return true;\n      });\n    },\n\n    /**\n     * Filter enabled charts allll filters. These are what the user will see in the list\n     */\n    filteredCharts() {\n      return this.filterCharts({\n        category:    this.category,\n        searchQuery: this.searchQuery,\n        hideRepos:   this.hideRepos\n      });\n    },\n\n    /**\n     * Filter valid charts (alll filters minus user provided ones) by whether they are featured or not\n     *\n     * This will power the carousel\n     */\n    featuredCharts() {\n      const filteredCharts = this.filterCharts({});\n\n      const featuredCharts = filteredCharts.filter((value) => value.featured).sort((a, b) => a.featured - b.featured);\n\n      return featuredCharts.slice(0, 5);\n    },\n\n    categories() {\n      const map = {};\n\n      // Filter charts by everything except itself\n      const charts = this.filterCharts({\n        searchQuery: this.searchQuery,\n        hideRepos:   this.hideRepos\n      });\n\n      for ( const chart of charts ) {\n        for ( const c of chart.categories ) {\n          if ( !map[c] ) {\n            const labelKey = `catalog.charts.categories.${ lcFirst(c) }`;\n\n            map[c] = {\n              label: this.$store.getters['i18n/withFallback'](labelKey, null, c),\n              value: c,\n              count: 0\n            };\n          }\n\n          map[c].count++;\n        }\n      }\n\n      const out = Object.values(map);\n\n      out.unshift({\n        label: this.t('catalog.charts.categories.all'),\n        value: '',\n        count: charts.length\n      });\n\n      return sortBy(out, ['label']);\n    },\n\n    showCarousel() {\n      return this.chartMode === 'featured' && this.featuredCharts.length;\n    }\n\n  },\n\n  watch: {\n    searchQuery(q) {\n      this.$router.applyQuery({ [SEARCH_QUERY]: q || undefined });\n    },\n\n    category(cat) {\n      this.$router.applyQuery({ [CATEGORY]: cat || undefined });\n    },\n\n    operatingSystem(os) {\n      this.$router.applyQuery({ [OPERATING_SYSTEM]: os || undefined });\n    },\n\n    showDeprecated(neu) {\n      this.$router.applyQuery({ [DEPRECATED_QUERY]: neu || undefined });\n    }\n  },\n\n  mounted() {\n    if ( typeof window !== 'undefined' ) {\n      window.c = this;\n    }\n  },\n\n  methods: {\n    colorForChart(chart) {\n      const repos = this.repoOptions;\n      const repo = findBy(repos, '_key', chart.repoKey);\n\n      if ( repo ) {\n        return repo.color;\n      }\n\n      return null;\n    },\n\n    toggleAll(on) {\n      for ( const r of this.repoOptions ) {\n        this.toggleRepo(r, on, false);\n      }\n\n      this.$nextTick(() => {\n        this.allRepos = this.areAllEnabled();\n      });\n    },\n\n    areAllEnabled() {\n      const all = this.$store.getters['catalog/repos'];\n\n      for ( const r of all ) {\n        if ( this.hideRepos.includes(r._key) ) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    toggleRepo(repo, on, updateAll = true) {\n      const hidden = this.hideRepos;\n\n      if ( on ) {\n        removeObject(hidden, repo._key);\n      } else {\n        addObject(hidden, repo._key);\n      }\n\n      this.hideRepos = hidden;\n\n      if ( updateAll ) {\n        this.allRepos = this.areAllEnabled();\n      }\n    },\n\n    selectChart(chart) {\n      let version;\n      const OSs = this.currentCluster.workerOSs;\n      const showPrerelease = this.$store.getters['prefs/get'](SHOW_PRE_RELEASE);\n      const compatibleVersions = compatibleVersionsFor(chart, OSs, showPrerelease);\n      const versions = chart.versions;\n\n      if (compatibleVersions.length > 0) {\n        version = compatibleVersions[0].version;\n      } else {\n        version = versions[0].version;\n      }\n\n      const query = {\n        [REPO_TYPE]: chart.repoType,\n        [REPO]:      chart.repoName,\n        [CHART]:     chart.chartName,\n        [VERSION]:   version\n      };\n\n      if (chart.deprecated && this.showDeprecated) {\n        query[DEPRECATED_QUERY] = 'true';\n      }\n\n      this.$router.push({\n        name:   'c-cluster-apps-charts-chart',\n        params: {\n          cluster: this.$route.params.cluster,\n          product: this.$store.getters['productId'],\n        },\n        query\n      });\n    },\n\n    focusSearch() {\n      if ( this.$refs.searchQuery ) {\n        this.$refs.searchQuery.focus();\n        this.$refs.searchQuery.select();\n      }\n    },\n\n    async refresh(btnCb) {\n      try {\n        await this.$store.dispatch('catalog/refresh');\n        btnCb(true);\n      } catch (e) {\n        this.$store.dispatch('growl/fromError', e);\n        btnCb(false);\n      }\n    },\n\n    filterCharts({ category, searchQuery, hideRepos }) {\n      const enabledCharts = (this.enabledCharts || []);\n      const clusterProvider = this.currentCluster.status.provider || 'other';\n\n      return filterAndArrangeCharts(enabledCharts, {\n        clusterProvider,\n        category,\n        searchQuery,\n        showDeprecated: this.showDeprecated,\n        showHidden:     this.showHidden,\n        hideRepos,\n        hideTypes:      [CATALOG._CLUSTER_TPL],\n        showPrerelease: this.$store.getters['prefs/get'](SHOW_PRE_RELEASE),\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <header>\n      <div class=\"title\">\n        <h1\n          data-testid=\"charts-header-title\"\n          class=\"m-0\"\n        >\n          <TabTitle>{{ t('catalog.charts.header') }}</TabTitle>\n        </h1>\n      </div>\n      <div\n        v-if=\"featuredCharts.length > 0\"\n        class=\"actions-container\"\n      >\n        <ButtonGroup\n          v-model=\"chartMode\"\n          :options=\"chartOptions\"\n        />\n      </div>\n    </header>\n    <div v-if=\"showCarousel\">\n      <h3>{{ t('catalog.charts.featuredCharts') }}</h3>\n      <Carousel\n        :sliders=\"featuredCharts\"\n        data-testid=\"charts-carousel\"\n        @clicked=\"(row) => selectChart(row)\"\n      />\n    </div>\n\n    <TypeDescription resource=\"chart\" />\n    <div class=\"left-right-split\">\n      <Select\n        :searchable=\"false\"\n        :options=\"repoOptionsForDropdown\"\n        :value=\"flattenedRepoNames\"\n        class=\"checkbox-select\"\n        :close-on-select=\"false\"\n        data-testid=\"charts-filter-repos\"\n        @option:selecting=\"$event.all ? toggleAll(!$event.enabled) : toggleRepo($event, !$event.enabled) \"\n      >\n        <template #selected-option=\"selected\">\n          {{ selected.label }}\n        </template>\n        <template #option=\"repo\">\n          <Checkbox\n            :value=\"repo.enabled\"\n            :label=\"repo.label\"\n            class=\"pull-left repo in-select\"\n            :class=\"{ [repo.color]: true}\"\n            :color=\"repo.color\"\n          >\n            <template #label>\n              <span>{{ repo.label }}</span><i\n                v-if=\"!repo.all\"\n                class=\" pl-5 icon icon-dot icon-sm\"\n                :class=\"{[repo.color]: true}\"\n              />\n            </template>\n          </Checkbox>\n        </template>\n      </Select>\n\n      <Select\n        v-model=\"category\"\n        :clearable=\"false\"\n        :searchable=\"false\"\n        :options=\"categories\"\n        placement=\"bottom\"\n        label=\"label\"\n        style=\"min-width: 200px;\"\n        :reduce=\"opt => opt.value\"\n        data-testid=\"charts-filter-category\"\n      >\n        <template #option=\"opt\">\n          {{ opt.label }} ({{ opt.count }})\n        </template>\n      </Select>\n\n      <div class=\"filter-block\">\n        <input\n          ref=\"searchQuery\"\n          v-model=\"searchQuery\"\n          type=\"search\"\n          class=\"input-sm\"\n          :placeholder=\"t('catalog.charts.search')\"\n          data-testid=\"charts-filter-input\"\n        >\n\n        <button\n          v-shortkey.once=\"['/']\"\n          class=\"hide\"\n          @shortkey=\"focusSearch()\"\n        />\n        <AsyncButton\n          class=\"refresh-btn\"\n          mode=\"refresh\"\n          size=\"sm\"\n          @click=\"refresh\"\n        />\n      </div>\n\n      <div class=\"mt-10\">\n        <Checkbox\n          v-model=\"showDeprecated\"\n          :label=\"t('catalog.charts.deprecatedChartsFilter.label')\"\n          data-testid=\"charts-show-deprecated-filter\"\n        />\n      </div>\n    </div>\n\n    <Banner\n      v-for=\"err in loadingErrors\"\n      :key=\"err\"\n      color=\"error\"\n      :label=\"err\"\n    />\n\n    <div v-if=\"allCharts.length\">\n      <div\n        v-if=\"filteredCharts.length === 0\"\n        style=\"width: 100%;\"\n      >\n        <div class=\"m-50 text-center\">\n          <h1>{{ t('catalog.charts.noCharts') }}</h1>\n        </div>\n      </div>\n      <SelectIconGrid\n        v-else\n        data-testid=\"chart-selection-grid\"\n        component-test-id=\"chart-selection\"\n        :rows=\"filteredCharts\"\n        name-field=\"chartNameDisplay\"\n        description-field=\"chartDescription\"\n        :color-for=\"colorForChart\"\n        @clicked=\"(row) => selectChart(row)\"\n      />\n    </div>\n    <div\n      v-else\n      class=\"m-50 text-center\"\n    >\n      <h1>{{ t('catalog.charts.noCharts') }}</h1>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.left-right-split {\n    padding: 0 0 20px 0;\n    width: 100%;\n    z-index: z-index('fixedTableHeader');\n    background: transparent;\n    display: grid;\n    grid-template-columns: 40% auto auto;\n    align-content: center;\n    grid-column-gap: 10px;\n\n    .filter-block {\n      display: flex;\n    }\n    .refresh-btn {\n      margin-left: 10px;\n    }\n\n    &.with-os-options {\n      grid-template-columns: 40% auto auto auto;\n    }\n\n    @media only screen and (max-width: map-get($breakpoints, '--viewport-12')) {\n      &{\n        grid-template-columns: auto auto !important;\n        grid-template-rows: 40px 40px;\n        grid-row-gap: 20px;\n      }\n    }\n\n    @media only screen and (max-width: map-get($breakpoints, '--viewport-7')) {\n      &{\n        &{\n          grid-template-columns: auto !important;\n          grid-template-rows: 40px 40px 40px !important;\n\n          &.with-os-options {\n            grid-template-rows: 40px 40px 40px 40px !important;\n          }\n        }\n      }\n    }\n}\n\n.checkbox-select {\n  .vs__search {\n    position: absolute;\n    right: 0\n  }\n\n  .vs__selected-options  {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: inline-block;\n    line-height: 2.4rem;\n  }\n}\n\n.checkbox-outer-container.in-select {\n  transform: translateX(-5px);\n  padding: 7px 0 6px 13px;\n  width: calc(100% + 10px);\n\n  ::v-deep .checkbox-label {\n    display: flex;\n    align-items: center;\n\n    & i {\n      line-height: inherit;\n    }\n  }\n\n  &:first-child {\n    &:hover {\n      background: var(--input-hover-bg);\n    }\n  }\n\n  &:hover ::v-deep .checkbox-label {\n      color: var(--body-text);\n    }\n\n  &.rancher {\n      &:hover {\n      background: var(--app-rancher-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-rancher-accent-text);\n    }\n    & i {\n      color: var(--app-rancher-accent)\n    }\n  }\n\n  &.partner {\n      &:hover {\n      background: var(--app-partner-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-partner-accent-text);\n    }\n    & i {\n      color: var(--app-partner-accent)\n    }\n  }\n\n  &.color1 {\n    &:hover {\n      background: var(--app-color1-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color1-accent-text);\n    }\n    & i {\n      color: var(--app-color1-accent)\n    }\n  }\n  &.color2 {\n    &:hover {\n      background: var(--app-color2-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color2-accent-text);\n    }\n    & i {\n      color: var(--app-color2-accent)\n    }\n  }\n  &.color3 {\n    &:hover {\n      background: var(--app-color3-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color3-accent-text);\n    }\n    & i {\n      color: var(--app-color3-accent)\n    }\n  }\n  &.color4 {\n    &:hover {\n      background: var(--app-color4-accent);\n    }\n    &:hover ::v-deep.checkbox-label {\n      color: var(--app-color4-accent-text);\n    }\n    & i {\n      color: var(--app-color4-accent)\n    }\n  }\n  &.color5 {\n    &:hover {\n      background: var(--app-color5-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color5-accent-text);\n    }\n    & i {\n      color: var(--app-color5-accent)\n    }\n  }\n  &.color6 {\n    &:hover {\n      background: var(--app-color6-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color6-accent-text);\n    }\n    & i {\n      color: var(--app-color6-accent)\n    }\n  }\n  &.color7 {\n    &:hover {\n      background: var(--app-color7-accent);\n    }\n    &:hover ::v-deep .checkbox-label {\n      color: var(--app-color7-accent-text);\n    }\n    & i {\n      color: var(--app-color7-accent)\n    }\n  }\n  &.color8 {\n    &:hover {\n      background: var(--app-color8-accent);\n    }\n    & i {\n      color: var(--app-color8-accent)\n    }\n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}