{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgQUdFLCBOQU1FLCBTVEFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdGFibGUtaGVhZGVycyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBERVNDUklQVElPTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgZmluZEFsbENvbnN0cmFpbnRzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2dhdGVrZWVwZXIvdXRpbCc7CmltcG9ydCBNYXN0aGVhZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZUxpc3QvTWFzdGhlYWQnOwppbXBvcnQgeyBBUywgX1lBTUwgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNYXN0aGVhZDogTWFzdGhlYWQsCiAgICBTb3J0YWJsZVRhYmxlOiBTb3J0YWJsZVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKGN0eCkgewogICAgdmFyIGNyZWF0ZUxvY2F0aW9uID0gewogICAgICBuYW1lOiAnYy1jbHVzdGVyLWdhdGVrZWVwZXItY29uc3RyYWludHMtY3JlYXRlJywKICAgICAgcGFyYW1zOiB0aGlzLiRyb3V0ZS5wYXJhbXMKICAgIH07CiAgICB2YXIgeWFtbENyZWF0ZUxvY2F0aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjcmVhdGVMb2NhdGlvbiksIHt9LCB7CiAgICAgIHF1ZXJ5OiBfZGVmaW5lUHJvcGVydHkoe30sIEFTLCBfWUFNTCkKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLAogICAgICB5YW1sQ3JlYXRlTG9jYXRpb246IHlhbWxDcmVhdGVMb2NhdGlvbiwKICAgICAgaGVhZGVyczogW1NUQVRFLCBOQU1FLCB7CiAgICAgICAgbmFtZTogJ0Rlc2NyaXB0aW9uJywKICAgICAgICBsYWJlbDogJ0Rlc2NyaXB0aW9uJywKICAgICAgICB2YWx1ZTogImRlc2NyaXB0aW9uIiwKICAgICAgICBzb3J0OiAiZGVzY3JpcHRpb24iCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnVmlvbGF0aW9ucycsCiAgICAgICAgbGFiZWw6ICdWaW9sYXRpb25zJywKICAgICAgICB2YWx1ZTogJ3N0YXR1cy50b3RhbFZpb2xhdGlvbnMnLAogICAgICAgIHNvcnQ6ICdzdGF0dXMudG90YWxWaW9sYXRpb25zJywKICAgICAgICB3aWR0aDogMTIwCiAgICAgIH0sIEFHRV0sCiAgICAgIHRlbXBsYXRlczogW10sCiAgICAgIGNvbnN0cmFpbnRzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJhd0NvbnN0cmFpbnRzOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBmaW5kQWxsQ29uc3RyYWludHMoX3RoaXMuJHN0b3JlKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmF3Q29uc3RyYWludHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5jb25zdHJhaW50cyA9IHJhd0NvbnN0cmFpbnRzLmZsYXQoKS5tYXAoZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHsKICAgICAgICAgICAgICB2YXIgX2NvbnN0cmFpbnQkbWV0YWRhdGE7CiAgICAgICAgICAgICAgY29uc3RyYWludC5kZXNjcmlwdGlvbiA9ICgoY29uc3RyYWludCA9PT0gbnVsbCB8fCBjb25zdHJhaW50ID09PSB2b2lkIDAgfHwgKF9jb25zdHJhaW50JG1ldGFkYXRhID0gY29uc3RyYWludC5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2NvbnN0cmFpbnQkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25zdHJhaW50JG1ldGFkYXRhLmFubm90YXRpb25zKSB8fCB7fSlbREVTQ1JJUFRJT05dOwogICAgICAgICAgICAgIHJldHVybiBjb25zdHJhaW50OwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"names":["AGE","NAME","STATE","SortableTable","DESCRIPTION","findAllConstraints","Masthead","AS","_YAML","components","data","ctx","createLocation","name","params","$route","yamlCreateLocation","_objectSpread","query","_defineProperty","headers","label","value","sort","width","templates","constraints","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","rawConstraints","wrap","_callee$","_context","prev","next","$store","sent","flat","map","constraint","_constraint$metadata","description","metadata","annotations","stop"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue"],"sourcesContent":["<script>\nimport { AGE, NAME, STATE } from '@shell/config/table-headers';\nimport SortableTable from '@shell/components/SortableTable';\nimport { DESCRIPTION } from '@shell/config/labels-annotations';\nimport { findAllConstraints } from '@shell/utils/gatekeeper/util';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport { AS, _YAML } from '@shell/config/query-params';\n\nexport default {\n  components: { Masthead, SortableTable },\n  data(ctx) {\n    const createLocation = {\n      name:   'c-cluster-gatekeeper-constraints-create',\n      params: this.$route.params,\n    };\n\n    const yamlCreateLocation = {\n      ...createLocation,\n      query: { [AS]: _YAML }\n    };\n\n    return {\n      createLocation,\n      yamlCreateLocation,\n      headers: [\n        STATE,\n        NAME,\n        {\n          name:  'Description',\n          label: 'Description',\n          value: `description`,\n          sort:  `description`\n        },\n        {\n          name:  'Violations',\n          label: 'Violations',\n          value: 'status.totalViolations',\n          sort:  'status.totalViolations',\n          width: 120\n        },\n        AGE,\n      ],\n      templates:   [],\n      constraints: [],\n    };\n  },\n\n  async created() {\n    const rawConstraints = await findAllConstraints(this.$store);\n\n    this.constraints = rawConstraints\n      .flat()\n      .map((constraint) => {\n        constraint.description = (constraint?.metadata?.annotations || {})[DESCRIPTION];\n\n        return constraint;\n      });\n  }\n\n};\n</script>\n\n<template>\n  <div class=\"gatekeeper-constraints\">\n    <Masthead\n      resource=\"Constraint\"\n      :type-display=\"'Constraint'\"\n      :is-yaml-creatable=\"true\"\n      :is-creatable=\"true\"\n      :yaml-create-location=\"yamlCreateLocation\"\n      :create-location=\"createLocation\"\n    />\n\n    <SortableTable\n      :headers=\"headers\"\n      :rows=\"constraints\"\n      key-field=\"id\"\n      group-by=\"kind\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\">\n.gatekeeper-constraints {\n  button.create {\n    height: 35px;\n    line-height: 0;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;AACA,SAAAA,GAAA,EAAAC,IAAA,EAAAC,KAAA;AACA,OAAAC,aAAA;AACA,SAAAC,WAAA;AACA,SAAAC,kBAAA;AACA,OAAAC,QAAA;AACA,SAAAC,EAAA,EAAAC,KAAA;AAEA;EACAC,UAAA;IAAAH,QAAA,EAAAA,QAAA;IAAAH,aAAA,EAAAA;EAAA;EACAO,IAAA,WAAAA,KAAAC,GAAA;IACA,IAAAC,cAAA;MACAC,IAAA;MACAC,MAAA,OAAAC,MAAA,CAAAD;IACA;IAEA,IAAAE,kBAAA,GAAAC,aAAA,CAAAA,aAAA,KACAL,cAAA;MACAM,KAAA,EAAAC,eAAA,KAAAZ,EAAA,EAAAC,KAAA;IAAA,EACA;IAEA;MACAI,cAAA,EAAAA,cAAA;MACAI,kBAAA,EAAAA,kBAAA;MACAI,OAAA,GACAlB,KAAA,EACAD,IAAA,EACA;QACAY,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;MACA,GACA;QACAV,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACAxB,GAAA,CACA;MACAyB,SAAA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,cAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAjC,kBAAA,CAAAuB,KAAA,CAAAW,MAAA;UAAA;YAAAN,cAAA,GAAAG,QAAA,CAAAI,IAAA;YAEAZ,KAAA,CAAAF,WAAA,GAAAO,cAAA,CACAQ,IAAA,GACAC,GAAA,WAAAC,UAAA;cAAA,IAAAC,oBAAA;cACAD,UAAA,CAAAE,WAAA,KAAAF,UAAA,aAAAA,UAAA,gBAAAC,oBAAA,GAAAD,UAAA,CAAAG,QAAA,cAAAF,oBAAA,uBAAAA,oBAAA,CAAAG,WAAA,SAAA3C,WAAA;cAEA,OAAAuC,UAAA;YACA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;AAEA","ignoreList":[]}]}