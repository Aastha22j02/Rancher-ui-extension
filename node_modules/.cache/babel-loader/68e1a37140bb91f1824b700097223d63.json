{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgTk9STUFOIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dAogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ldSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgISFuZXUpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGVtcG9yYXJ5Q3JlZGVudGlhbDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9jcmVhdGUnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uQ0xPVURfQ1JFREVOVElBTCwKICAgICAgICAgICAgICAgIHZtd2FyZXZzcGhlcmVjcmVkZW50aWFsQ29uZmlnOiBfdGhpcy52YWx1ZS5kZWNvZGVkRGF0YQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgdGVtcG9yYXJ5Q3JlZGVudGlhbCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBvcmFyeUNyZWRlbnRpYWwuc2F2ZSgpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9yZXF1ZXN0JywgewogICAgICAgICAgICAgICAgdXJsOiAiL21ldGEvdnNwaGVyZS9kYXRhLWNlbnRlcnM/Y2xvdWRDcmVkZW50aWFsSWQ9Ii5jb25jYXQodGVtcG9yYXJ5Q3JlZGVudGlhbC5pZCksCiAgICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBvcmFyeUNyZWRlbnRpYWwucmVtb3ZlKCk7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxMyk7CiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDEwLCAxMywgMTddXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["CreateEditView","LabeledInput","NORMAN","components","mixins","watch","value","deep","handler","neu","$emit","methods","test","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","temporaryCredential","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLOUD_CREDENTIAL","vmwarevspherecredentialConfig","decodedData","sent","save","url","concat","id","redirectUnauthorized","root","t0","abrupt","remove","finish","stop"],"sources":["node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  components: { LabeledInput },\n  mixins:     [CreateEditView],\n\n  watch: {\n    value: {\n      deep: true,\n      handler(neu) {\n        this.$emit('validationChanged', !!neu);\n      }\n    }\n  },\n\n  methods: {\n    async test() {\n      // The vsphere apis require that an existing cloudCredentialId be passed in order to use the API.\n      // We create a temporary credential and attempt to invoke one of the basic APIs to authenticate the user.\n      // We then delete the temporary credential since the existing system will create one after we authenticate.\n      const temporaryCredential = await this.$store.dispatch('rancher/create', {\n        type:                          NORMAN.CLOUD_CREDENTIAL,\n        vmwarevspherecredentialConfig: this.value.decodedData\n      });\n\n      try {\n        await temporaryCredential.save();\n\n        await this.$store.dispatch('management/request', {\n          url:                  `/meta/vsphere/data-centers?cloudCredentialId=${ temporaryCredential.id }`,\n          redirectUnauthorized: false,\n        }, { root: true });\n      } catch (ex) {\n        return false;\n      } finally {\n        await temporaryCredential.remove();\n      }\n\n      return true;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.vcenter\"\n          label-key=\"cluster.credential.vmwarevsphere.server.label\"\n          placeholder-key=\"cluster.credential.vmwarevsphere.server.placeholder\"\n          :required=\"true\"\n          :mode=\"mode\"\n          @input=\"value.setData('vcenter', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.vcenterPort\"\n          label-key=\"cluster.credential.vmwarevsphere.port.label\"\n          :required=\"true\"\n          type=\"number\"\n          min=\"1\"\n          max=\"65535\"\n          :mode=\"mode\"\n          @input=\"value.setData('vcenterPort', $event);\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.username\"\n          label-key=\"cluster.credential.vmwarevsphere.username.label\"\n          :required=\"true\"\n          :mode=\"mode\"\n          @input=\"value.setData('username', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.password\"\n          label-key=\"cluster.credential.vmwarevsphere.password.label\"\n          :required=\"true\"\n          type=\"password\"\n          :mode=\"mode\"\n          @input=\"value.setData('password', $event);\"\n        />\n      </div>\n    </div>\n    <p class=\"text-muted\">\n      {{ t('cluster.credential.vmwarevsphere.note', {}, true) }}\n    </p>\n  </div>\n</template>\n"],"mappings":";;;AACA,OAAAA,cAAA;AACA,SAAAC,YAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IAAAF,YAAA,EAAAA;EAAA;EACAG,MAAA,GAAAJ,cAAA;EAEAK,KAAA;IACAC,KAAA;MACAC,IAAA;MACAC,OAAA,WAAAA,QAAAC,GAAA;QACA,KAAAC,KAAA,wBAAAD,GAAA;MACA;IACA;EACA;EAEAE,OAAA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,mBAAA;QAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAIAV,KAAA,CAAAW,MAAA,CAAAC,QAAA;gBACAC,IAAA,EAAAxB,MAAA,CAAAyB,gBAAA;gBACAC,6BAAA,EAAAf,KAAA,CAAAP,KAAA,CAAAuB;cACA;YAAA;cAHAX,mBAAA,GAAAG,QAAA,CAAAS,IAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAMAL,mBAAA,CAAAa,IAAA;YAAA;cAAAV,QAAA,CAAAE,IAAA;cAAA,OAEAV,KAAA,CAAAW,MAAA,CAAAC,QAAA;gBACAO,GAAA,kDAAAC,MAAA,CAAAf,mBAAA,CAAAgB,EAAA;gBACAC,oBAAA;cACA;gBAAAC,IAAA;cAAA;YAAA;cAAAf,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;cAAA,OAAAA,QAAA,CAAAiB,MAAA,WAEA;YAAA;cAAAjB,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAL,mBAAA,CAAAqB,MAAA;YAAA;cAAA,OAAAlB,QAAA,CAAAmB,MAAA;YAAA;cAAA,OAAAnB,QAAA,CAAAiB,MAAA,WAGA;YAAA;YAAA;cAAA,OAAAjB,QAAA,CAAAoB,IAAA;UAAA;QAAA,GAAAxB,OAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}