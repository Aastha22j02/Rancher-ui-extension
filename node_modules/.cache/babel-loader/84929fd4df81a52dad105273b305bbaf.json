{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnByb21pc2UuYWxsLXNldHRsZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IENBVEFMT0csIFVJX1BMVUdJTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgRGlhbG9nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0RpYWxvZy52dWUnOwppbXBvcnQgQ2hlY2tib3ggZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveC9DaGVja2JveC52dWUnOwppbXBvcnQgeyBVSV9QTFVHSU5fTkFNRVNQQUNFLCBVSV9QTFVHSU5fQ0hBUlRTLCBVSV9QTFVHSU5fT1BFUkFUT1JfQ1JEX0NIQVJUX05BTUUsIFVJX1BMVUdJTlNfUkVQT19OQU1FLCBVSV9QTFVHSU5TX1JFUE9fVVJMLCBVSV9QTFVHSU5TX1JFUE9fQlJBTkNILCBVSV9QTFVHSU5TX1BBUlRORVJTX1JFUE9fTkFNRSwgVUlfUExVR0lOU19QQVJUTkVSU19SRVBPX1VSTCwgVUlfUExVR0lOU19QQVJUTkVSU19SRVBPX0JSQU5DSCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdWlwbHVnaW5zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIERpYWxvZzogRGlhbG9nCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBwbHVnaW5zOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9zY2hlbWFGb3InXShDQVRBTE9HLkNMVVNURVJfUkVQTykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IENBVEFMT0cuQ0xVU1RFUl9SRVBPLAogICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgZm9yY2U6IHRydWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBpZiAoIV90aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKFVJX1BMVUdJTikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IFVJX1BMVUdJTgogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgcGx1Z2lucyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIC8vIEFyZSB0aGVyZSBhbnkgcGx1Z2lucyBpbnN0YWxsZWQ/CiAgICAgICAgICAgIF90aGlzLmhhc1BsdWdpbnNJbnN0YWxsZWQgPSAocGx1Z2lucyB8fCBbXSkubGVuZ3RoID4gMDsKICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ1JEID0gIV90aGlzLmhhc1BsdWdpbnNJbnN0YWxsZWQ7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdLAogICAgICByZW1vdmVSZXBvczogewogICAgICAgIG9mZmljaWFsOiB0cnVlLAogICAgICAgIHBhcnRuZXJzOiB0cnVlCiAgICAgIH0sCiAgICAgIHJlcG9zSW5mbzogewogICAgICAgIG9mZmljaWFsOiB7CiAgICAgICAgICBuYW1lOiBVSV9QTFVHSU5TX1JFUE9fTkFNRSwKICAgICAgICAgIHVybDogVUlfUExVR0lOU19SRVBPX1VSTCwKICAgICAgICAgIGJyYW5jaDogVUlfUExVR0lOU19SRVBPX0JSQU5DSAogICAgICAgIH0sCiAgICAgICAgcGFydG5lcnM6IHsKICAgICAgICAgIG5hbWU6IFVJX1BMVUdJTlNfUEFSVE5FUlNfUkVQT19OQU1FLAogICAgICAgICAgdXJsOiBVSV9QTFVHSU5TX1BBUlRORVJTX1JFUE9fVVJMLAogICAgICAgICAgYnJhbmNoOiBVSV9QTFVHSU5TX1BBUlRORVJTX1JFUE9fQlJBTkNICiAgICAgICAgfQogICAgICB9LAogICAgICByZW1vdmVDUkQ6IHRydWUsCiAgICAgIGhhc1BsdWdpbnNJbnN0YWxsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICByZXBvczogJ2NhdGFsb2cvcmVwb3MnCiAgfSkpLCB7fSwgewogICAgb2ZmaWNpYWxSZXBvOiBmdW5jdGlvbiBvZmZpY2lhbFJlcG8oKSB7CiAgICAgIHZhciByZXBvID0gdGhpcy5yZXBvcy5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIudXJsRGlzcGxheSA9PT0gVUlfUExVR0lOU19SRVBPX1VSTDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXBvICE9PSBudWxsICYmIHJlcG8gIT09IHZvaWQgMCAmJiByZXBvLmlkID8gcmVwbyA6IHVuZGVmaW5lZDsKICAgIH0sCiAgICBwYXJ0bmVyc1JlcG86IGZ1bmN0aW9uIHBhcnRuZXJzUmVwbygpIHsKICAgICAgdmFyIHJlcG8gPSB0aGlzLnJlcG9zLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gci51cmxEaXNwbGF5ID09PSBVSV9QTFVHSU5TX1BBUlRORVJTX1JFUE9fVVJMOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlcG8gIT09IG51bGwgJiYgcmVwbyAhPT0gdm9pZCAwICYmIHJlcG8uaWQgPyByZXBvIDogdW5kZWZpbmVkOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZUNoYXJ0OiBmdW5jdGlvbiByZW1vdmVDaGFydChuYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGFwcHMsIGZvdW5kOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBDQVRBTE9HLkFQUAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgYXBwcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGZvdW5kID0gYXBwcy5maW5kKGZ1bmN0aW9uIChhcHApIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcHAubmFtZXNwYWNlID09PSBVSV9QTFVHSU5fTkFNRVNQQUNFICYmIGFwcC5uYW1lID09PSBuYW1lOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZm91bmQucmVtb3ZlKCkpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgY2hhcnQgXHhBN3sgbmFtZSB9IikpKTsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2hvd0RpYWxvZzogZnVuY3Rpb24gc2hvd0RpYWxvZygpIHsKICAgICAgdGhpcy5yZW1vdmVSZXBvcyA9IHsKICAgICAgICBvZmZpY2lhbDogISF0aGlzLm9mZmljaWFsUmVwbywKICAgICAgICBwYXJ0bmVyczogISF0aGlzLnBhcnRuZXJzUmVwbwogICAgICB9OwogICAgICB0aGlzLiRtb2RhbC5zaG93KCdjb25maXJtLXVpcGx1Z2lucy1yZW1vdmUnKTsKICAgIH0sCiAgICBkb1JlbW92ZTogZnVuY3Rpb24gZG9SZW1vdmUoYnRuQ2IpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgdW5pbnN0YWxsLCBpLCBjaGFydCwgcHJvbWlzZXMsIGtleSwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNoYXJ0cyBpbiB0aGUgcmV2ZXJzZSBvcmRlciB0aGF0IHdlIGluc3RhbGwgdGhlbSBpbgogICAgICAgICAgICAgIHVuaW5zdGFsbCA9IF90b0NvbnN1bWFibGVBcnJheShVSV9QTFVHSU5fQ0hBUlRTKS5yZXZlcnNlKCk7CiAgICAgICAgICAgICAgaWYgKCFfdGhpczMucmVtb3ZlQ1JEKSB7CiAgICAgICAgICAgICAgICAvLyBVc2VyIGRvZXMgbm90IHdhbnQgdG8gdW5pbnN0YWxsIHRoZSBDUkQsIHNvIHJlbW92ZSB0aGUgY2hhcnQKICAgICAgICAgICAgICAgIHVuaW5zdGFsbCA9IHVuaW5zdGFsbC5maWx0ZXIoZnVuY3Rpb24gKGNoYXJ0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydCAhPT0gVUlfUExVR0lOX09QRVJBVE9SX0NSRF9DSEFSVF9OQU1FOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgaWYgKCEoaSA8IHVuaW5zdGFsbC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNoYXJ0ID0gdW5pbnN0YWxsW2ldOwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5yZW1vdmVDaGFydChjaGFydCk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaChfY29udGV4dDMudDAubWVzc2FnZSk7CiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAvLyByZW1vdmUgZXh0ZW5zaW9uIHJlcG9zIHRoYXQgaGF2ZSBiZWVuIHBpY2tlZAogICAgICAgICAgICAgIHByb21pc2VzID0gW107CiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gX3RoaXMzLnJlbW92ZVJlcG9zKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnJlbW92ZVJlcG9zW2tleV0gJiYgX3RoaXMzWyIiLmNvbmNhdChrZXksICJSZXBvIildKSB7CiAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMzWyIiLmNvbmNhdChrZXksICJSZXBvIildLnJlbW92ZSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTsKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3VsdC5yZWFzb24pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaChyZXN1bHQucmVhc29uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8gZm9yZ2V0IFBMVUdJTlMgdHlwZSBmcm9tIHN0b3JlIGFzIGl0J3Mgbm90IG5lZWRlZAogICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZm9yZ2V0VHlwZScsIFVJX1BMVUdJTik7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNjsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnZG9uZScpOwogICAgICAgICAgICAgIGJ0bkNiKHRydWUpOwogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzYsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","CATALOG","UI_PLUGIN","Dialog","Checkbox","UI_PLUGIN_NAMESPACE","UI_PLUGIN_CHARTS","UI_PLUGIN_OPERATOR_CRD_CHART_NAME","UI_PLUGINS_REPO_NAME","UI_PLUGINS_REPO_URL","UI_PLUGINS_REPO_BRANCH","UI_PLUGINS_PARTNERS_REPO_NAME","UI_PLUGINS_PARTNERS_REPO_URL","UI_PLUGINS_PARTNERS_REPO_BRANCH","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","plugins","wrap","_callee$","_context","prev","next","$store","getters","CLUSTER_REPO","dispatch","type","opt","force","sent","hasPluginsInstalled","length","removeCRD","stop","data","errors","removeRepos","official","partners","reposInfo","name","url","branch","computed","_objectSpread","repos","officialRepo","repo","find","r","urlDisplay","id","undefined","partnersRepo","methods","removeChart","_this2","_callee2","apps","found","_callee2$","_context2","APP","app","namespace","abrupt","remove","Promise","reject","Error","showDialog","$modal","show","doRemove","btnCb","_this3","_callee3","uninstall","i","chart","promises","key","res","_callee3$","_context3","_toConsumableArray","reverse","filter","t0","push","message","concat","allSettled","forEach","result","status","console","error","reason","resolve","setTimeout","$emit"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { CATALOG, UI_PLUGIN } from '@shell/config/types';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGIN_OPERATOR_CRD_CHART_NAME,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_REPO_BRANCH,\n  UI_PLUGINS_PARTNERS_REPO_NAME,\n  UI_PLUGINS_PARTNERS_REPO_URL,\n  UI_PLUGINS_PARTNERS_REPO_BRANCH,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    Checkbox,\n    Dialog,\n  },\n\n  async fetch() {\n    if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n      // we need to force the request, so that we know at all times if what's the status of the offical and partners repos (installed or not)\n      await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO, opt: { force: true } });\n    }\n\n    if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n      const plugins = await this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n\n      // Are there any plugins installed?\n      this.hasPluginsInstalled = (plugins || []).length > 0;\n      this.removeCRD = !this.hasPluginsInstalled;\n    }\n  },\n\n  data() {\n    return {\n      errors:      [],\n      removeRepos: {\n        official: true,\n        partners: true\n      },\n      reposInfo: {\n        official: {\n          name:   UI_PLUGINS_REPO_NAME,\n          url:    UI_PLUGINS_REPO_URL,\n          branch: UI_PLUGINS_REPO_BRANCH,\n        },\n        partners: {\n          name:   UI_PLUGINS_PARTNERS_REPO_NAME,\n          url:    UI_PLUGINS_PARTNERS_REPO_URL,\n          branch: UI_PLUGINS_PARTNERS_REPO_BRANCH,\n        }\n      },\n      removeCRD:           true,\n      hasPluginsInstalled: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ repos: 'catalog/repos' }),\n    officialRepo() {\n      const repo = this.repos.find((r) => r.urlDisplay === UI_PLUGINS_REPO_URL);\n\n      return repo?.id ? repo : undefined;\n    },\n    partnersRepo() {\n      const repo = this.repos.find((r) => r.urlDisplay === UI_PLUGINS_PARTNERS_REPO_URL);\n\n      return repo?.id ? repo : undefined;\n    }\n  },\n\n  methods: {\n    async removeChart(name) {\n      const apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      const found = apps.find((app) => {\n        return app.namespace === UI_PLUGIN_NAMESPACE && app.name === name;\n      });\n\n      if (found) {\n        return found.remove();\n      }\n\n      // Return rejected promise - could not find the required chart\n      return Promise.reject(new Error(`Could not find chart ยง{ name }`));\n    },\n\n    showDialog() {\n      this.removeRepos = {\n        official: !!this.officialRepo,\n        partners: !!this.partnersRepo,\n      };\n      this.$modal.show('confirm-uiplugins-remove');\n    },\n\n    async doRemove(btnCb) {\n      this.errors = [];\n\n      // Remove the charts in the reverse order that we install them in\n      let uninstall = [...UI_PLUGIN_CHARTS].reverse();\n\n      if (!this.removeCRD) {\n        // User does not want to uninstall the CRD, so remove the chart\n        uninstall = uninstall.filter((chart) => chart !== UI_PLUGIN_OPERATOR_CRD_CHART_NAME);\n      }\n\n      for (let i = 0; i < uninstall.length; i++) {\n        const chart = uninstall[i];\n\n        try {\n          await this.removeChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      // remove extension repos that have been picked\n      const promises = [];\n\n      for (const key in this.removeRepos) {\n        if (this.removeRepos[key] && this[`${ key }Repo`]) {\n          promises.push(this[`${ key }Repo`].remove());\n        }\n      }\n\n      const res = await Promise.allSettled(promises);\n\n      res.forEach((result) => {\n        if (result.status === 'rejected') {\n          console.error(result.reason); // eslint-disable-line no-console\n\n          this.errors.push(result.reason);\n        }\n      });\n\n      // forget PLUGINS type from store as it's not needed\n      this.$store.dispatch('management/forgetType', UI_PLUGIN);\n\n      await new Promise((resolve) => setTimeout(resolve, 5000));\n\n      this.$emit('done');\n\n      btnCb(true);\n    },\n  }\n};\n</script>\n<template>\n  <Dialog\n    name=\"confirm-uiplugins-remove\"\n    :title=\"t('plugins.setup.remove.title')\"\n    mode=\"disable\"\n    data-testid=\"disable-ext-modal\"\n    @okay=\"doRemove\"\n  >\n    <template>\n      <p class=\"mb-20\">\n        {{ t('plugins.setup.remove.prompt') }}\n      </p>\n      <!-- Official repo -->\n      <div\n        class=\"mb-15\"\n      >\n        <Checkbox\n          v-model=\"removeRepos.official\"\n          :primary=\"true\"\n          :disabled=\"!officialRepo\"\n          label-key=\"plugins.setup.remove.registry.official.title\"\n          data-testid=\"disable-ext-modal-remove-official-repo\"\n        />\n        <div\n          v-if=\"!officialRepo\"\n          class=\"checkbox-info\"\n        >\n          ({{ t('plugins.setup.uninstalled') }})\n        </div>\n      </div>\n      <!-- Partners repo -->\n      <div\n        class=\"mb-15\"\n      >\n        <Checkbox\n          v-model=\"removeRepos.partners\"\n          :primary=\"true\"\n          :disabled=\"!partnersRepo\"\n          label-key=\"plugins.setup.remove.registry.partners.title\"\n          data-testid=\"disable-ext-modal-remove-partners-repo\"\n        />\n        <div\n          v-if=\"!partnersRepo\"\n          class=\"checkbox-info\"\n        >\n          ({{ t('plugins.setup.uninstalled') }})\n        </div>\n      </div>\n      <div\n        v-if=\"hasPluginsInstalled\"\n        class=\"mt-20\"\n      >\n        <Checkbox\n          v-model=\"removeCRD\"\n          :primary=\"true\"\n          label-key=\"plugins.setup.remove.crd.title\"\n        />\n        <div class=\"checkbox-info\">\n          {{ t('plugins.setup.remove.crd.prompt') }}\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}