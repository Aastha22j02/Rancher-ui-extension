{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/catalog.cattle.io.clusterrepo.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/catalog.cattle.io.clusterrepo.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IEZvb3RlciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0Zvb3Rlcic7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCBMYWJlbHMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbHMnOwppbXBvcnQgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0JzsKaW1wb3J0IHsgTkFNRVNQQUNFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3J1Q2F0YWxvZ1JlcG8nLAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcjogRm9vdGVyLAogICAgUmFkaW9Hcm91cDogUmFkaW9Hcm91cCwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgTmFtZU5zRGVzY3JpcHRpb246IE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgTGFiZWxzOiBMYWJlbHMsCiAgICBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQ6IFNlbGVjdE9yQ3JlYXRlQXV0aFNlY3JldAogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0dpdDogISF0aGlzLnZhbHVlLnNwZWMuZ2l0UmVwbwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWNyZXROYW1lc3BhY2U6IGZ1bmN0aW9uIHNlY3JldE5hbWVzcGFjZSgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRnZXR0ZXJzJDsKICAgICAgdmFyIHRyeU5hbWVzID0gWydjYXR0bGUtc3lzdGVtJywgJ2RlZmF1bHQnXTsKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfdHJ5TmFtZXMgPSB0cnlOYW1lczsgX2kgPCBfdHJ5TmFtZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIG5hbWUgPSBfdHJ5TmFtZXNbX2ldOwogICAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2J5SWQnXShOQU1FU1BBQ0UsIG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gbmFtZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIChfdGhpcyQkc3RvcmUkZ2V0dGVycyQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2FsbCddKE5BTUVTUEFDRSlbMF0pID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRnZXR0ZXJzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHN0b3JlJGdldHRlcnMkLmlkOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25UYXJnZXRDaGFuZ2U6IGZ1bmN0aW9uIG9uVGFyZ2V0Q2hhbmdlKGlzR2l0KSB7CiAgICAgIC8vIHJlc2V0IGVudGVyZWQgdmFsdWUgd2hlbiBzd2l0Y2hpbmcgb3B0aW9ucwogICAgICBpZiAoaXNHaXQpIHsKICAgICAgICBWdWUuc2V0KHRoaXMudmFsdWUuc3BlYywgJ3VybCcsICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBWdWUuc2V0KHRoaXMudmFsdWUuc3BlYywgJ2dpdFJlcG8nLCAnJyk7CiAgICAgICAgaWYgKCEhdGhpcy52YWx1ZS5zcGVjLmdpdEJyYW5jaCkgewogICAgICAgICAgVnVlLnNldCh0aGlzLnZhbHVlLnNwZWMsICdnaXRCcmFuY2gnLCAnJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Vue","CreateEditView","Footer","LabeledInput","RadioGroup","NameNsDescription","Labels","SelectOrCreateAuthSecret","NAMESPACE","name","components","mixins","data","isGit","value","spec","gitRepo","computed","secretNamespace","_this$$store$getters$","tryNames","_i","_tryNames","length","$store","getters","id","methods","onTargetChange","set","gitBranch"],"sources":["node_modules/@rancher/shell/edit/catalog.cattle.io.clusterrepo.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Footer from '@shell/components/form/Footer';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { RadioGroup } from '@components/Form/Radio';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Labels from '@shell/components/form/Labels';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport { NAMESPACE } from '@shell/config/types';\n\nexport default {\n  name: 'CruCatalogRepo',\n\n  components: {\n    Footer,\n    RadioGroup,\n    LabeledInput,\n    NameNsDescription,\n    Labels,\n    SelectOrCreateAuthSecret,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    return { isGit: !!this.value.spec.gitRepo };\n  },\n\n  computed: {\n    secretNamespace() {\n      const tryNames = ['cattle-system', 'default'];\n\n      for ( const name of tryNames ) {\n        if ( this.$store.getters['cluster/byId'](NAMESPACE, name) ) {\n          return name;\n        }\n      }\n\n      return this.$store.getters['cluster/all'](NAMESPACE)[0]?.id;\n    }\n  },\n\n  methods: {\n    onTargetChange(isGit) {\n      // reset entered value when switching options\n      if (isGit) {\n        Vue.set(this.value.spec, 'url', '');\n      } else {\n        Vue.set(this.value.spec, 'gitRepo', '');\n\n        if (!!this.value.spec.gitBranch) {\n          Vue.set(this.value.spec, 'gitBranch', '');\n        }\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <form>\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <h2>{{ t('catalog.repo.target.label') }}</h2>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <RadioGroup\n          v-model=\"isGit\"\n          name=\"isGit\"\n          :options=\"[false, true]\"\n          :labels=\"[t('catalog.repo.target.http'), t('catalog.repo.target.git')]\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-radio-input\"\n          @input=\"onTargetChange\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"isGit\"\n      class=\"row mb-10\"\n    >\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model.trim=\"value.spec.gitRepo\"\n          :required=\"true\"\n          :label=\"t('catalog.repo.gitRepo.label')\"\n          :placeholder=\"t('catalog.repo.gitRepo.placeholder', null, true)\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-git-repo-input\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model.trim=\"value.spec.gitBranch\"\n          :sub-label=\"!value.spec.gitBranch ? t('catalog.repo.gitBranch.defaultMessage', null, true) : undefined\"\n          :label=\"t('catalog.repo.gitBranch.label')\"\n          :placeholder=\"t('catalog.repo.gitBranch.placeholder', null, true)\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-git-branch-input\"\n        />\n      </div>\n    </div>\n\n    <LabeledInput\n      v-else\n      v-model.trim=\"value.spec.url\"\n      :required=\"true\"\n      :label=\"t('catalog.repo.url.label')\"\n      :placeholder=\"t('catalog.repo.url.placeholder', null, true)\"\n      :mode=\"mode\"\n      data-testid=\"clusterrepo-helm-url-input\"\n    />\n\n    <SelectOrCreateAuthSecret\n      v-model=\"value.spec.clientSecret\"\n      :register-before-hook=\"registerBeforeHook\"\n      :namespace=\"secretNamespace\"\n      :limit-to-namespace=\"false\"\n      generate-name=\"clusterrepo-auth-\"\n    />\n\n    <Labels\n      default-section-class=\"mt-20\"\n      :value=\"value\"\n      :mode=\"mode\"\n      :display-side-by-side=\"false\"\n    />\n\n    <Footer\n      :mode=\"mode\"\n      :errors=\"errors\"\n      @save=\"save\"\n      @done=\"done\"\n    />\n  </form>\n</template>\n"],"mappings":"AACA,OAAAA,GAAA;AACA,OAAAC,cAAA;AACA,OAAAC,MAAA;AACA,SAAAC,YAAA;AACA,SAAAC,UAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,MAAA;AACA,OAAAC,wBAAA;AACA,SAAAC,SAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAR,MAAA,EAAAA,MAAA;IACAE,UAAA,EAAAA,UAAA;IACAD,YAAA,EAAAA,YAAA;IACAE,iBAAA,EAAAA,iBAAA;IACAC,MAAA,EAAAA,MAAA;IACAC,wBAAA,EAAAA;EACA;EAEAI,MAAA,GAAAV,cAAA;EAEAW,IAAA,WAAAA,KAAA;IACA;MAAAC,KAAA,SAAAC,KAAA,CAAAC,IAAA,CAAAC;IAAA;EACA;EAEAC,QAAA;IACAC,eAAA,WAAAA,gBAAA;MAAA,IAAAC,qBAAA;MACA,IAAAC,QAAA;MAEA,SAAAC,EAAA,MAAAC,SAAA,GAAAF,QAAA,EAAAC,EAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,EAAA;QAAA,IAAAZ,IAAA,GAAAa,SAAA,CAAAD,EAAA;QACA,SAAAG,MAAA,CAAAC,OAAA,iBAAAjB,SAAA,EAAAC,IAAA;UACA,OAAAA,IAAA;QACA;MACA;MAEA,QAAAU,qBAAA,QAAAK,MAAA,CAAAC,OAAA,gBAAAjB,SAAA,kBAAAW,qBAAA,uBAAAA,qBAAA,CAAAO,EAAA;IACA;EACA;EAEAC,OAAA;IACAC,cAAA,WAAAA,eAAAf,KAAA;MACA;MACA,IAAAA,KAAA;QACAb,GAAA,CAAA6B,GAAA,MAAAf,KAAA,CAAAC,IAAA;MACA;QACAf,GAAA,CAAA6B,GAAA,MAAAf,KAAA,CAAAC,IAAA;QAEA,WAAAD,KAAA,CAAAC,IAAA,CAAAe,SAAA;UACA9B,GAAA,CAAA6B,GAAA,MAAAf,KAAA,CAAAC,IAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}