{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/SortableTable/selection.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/SortableTable/selection.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIociwgZSkgeyB2YXIgdCA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbIkBAaXRlcmF0b3IiXTsgaWYgKCF0KSB7IGlmIChBcnJheS5pc0FycmF5KHIpIHx8ICh0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpKSB8fCBlICYmIHIgJiYgIm51bWJlciIgPT0gdHlwZW9mIHIubGVuZ3RoKSB7IHQgJiYgKHIgPSB0KTsgdmFyIF9uID0gMCwgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgcmV0dXJuIF9uID49IHIubGVuZ3RoID8geyBkb25lOiAhMCB9IDogeyBkb25lOiAhMSwgdmFsdWU6IHJbX24rK10gfTsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHRocm93IHI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG8sIGEgPSAhMCwgdSA9ICExOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyB0ID0gdC5jYWxsKHIpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgciA9IHQubmV4dCgpOyByZXR1cm4gYSA9IHIuZG9uZSwgcjsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHUgPSAhMCwgbyA9IHI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGEgfHwgbnVsbCA9PSB0LnJldHVybiB8fCB0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAodSkgdGhyb3cgbzsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKCJzdHJpbmciID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiAiT2JqZWN0IiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgIk1hcCIgPT09IHQgfHwgIlNldCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogIkFyZ3VtZW50cyIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH0KaW1wb3J0IHsgaXNNb3JlLCBpc1JhbmdlLCBzdXBwcmVzc0NvbnRleHRNZW51LCBpc0FsdGVybmF0ZSB9IGZyb20gJ0BzaGVsbC91dGlscy9wbGF0Zm9ybSc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBmaWx0ZXJCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IGdldFBhcmVudCB9IGZyb20gJ0BzaGVsbC91dGlscy9kb20nOwpleHBvcnQgdmFyIEFMTCA9ICdhbGwnOwpleHBvcnQgdmFyIFNPTUUgPSAnc29tZSc7CmV4cG9ydCB2YXIgTk9ORSA9ICdub25lJzsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdGFibGUgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdUQUJMRScpOwogICAgdGhpcy5fb25Sb3dDbGlja0JvdW5kID0gdGhpcy5vblJvd0NsaWNrLmJpbmQodGhpcyk7CiAgICB0aGlzLl9vblJvd01vdXNlZG93bkJvdW5kID0gdGhpcy5vblJvd01vdXNlZG93bi5iaW5kKHRoaXMpOwogICAgdGhpcy5fb25Sb3dDb250ZXh0Qm91bmQgPSB0aGlzLm9uUm93Q29udGV4dC5iaW5kKHRoaXMpOwogICAgdGFibGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblJvd0NsaWNrQm91bmQpOwogICAgdGFibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Sb3dNb3VzZWRvd25Cb3VuZCk7CiAgICB0YWJsZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX29uUm93Q29udGV4dEJvdW5kKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB2YXIgdGFibGUgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdUQUJMRScpOwogICAgdGFibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblJvd0NsaWNrQm91bmQpOwogICAgdGFibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Sb3dNb3VzZWRvd25Cb3VuZCk7CiAgICB0YWJsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX29uUm93Q29udGV4dEJvdW5kKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBVc2VkIGZvciB0aGUgdGFibGUtbGV2ZWwgc2VsZWN0aW9uIGNoZWNrLWJveCB0byBzaG93IGNoZWNrZWQgKGFsbCBzZWxlY3RlZCkvaW50ZXJtZWRpYXRlIChzb21lIHNlbGVjdGVkKS91bmNoZWNrZWQgKG5vbmUgc2VsZWN0ZWQpCiAgICBob3dNdWNoU2VsZWN0ZWQ6IGZ1bmN0aW9uIGhvd011Y2hTZWxlY3RlZCgpIHsKICAgICAgdmFyIHRvdGFsID0gdGhpcy5wYWdlZFJvd3MubGVuZ3RoOwogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGg7CiAgICAgIGlmIChzZWxlY3RlZCA+PSB0b3RhbCAmJiB0b3RhbCA+IDApIHsKICAgICAgICByZXR1cm4gQUxMOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkID4gMCkgewogICAgICAgIHJldHVybiBTT01FOwogICAgICB9CiAgICAgIHJldHVybiBOT05FOwogICAgfSwKICAgIC8vIE5PVEU6IFRoZSBsb2dpYyBoZXJlIGNvdWxkIGJlIHNpbXBsaWZpZWQgYW5kIG1hZGUgbW9yZSBwZXJmb3JtYW50CiAgICBidWxrQWN0aW9uc0ZvclNlbGVjdGlvbjogZnVuY3Rpb24gYnVsa0FjdGlvbnNGb3JTZWxlY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkaXNhYmxlQWxsID0gZmFsc2U7CiAgICAgIC8vIHBhZ2VkUm93cyBpcyBhbGwgcm93cyBpbiB0aGUgY3VycmVudCBwYWdlCiAgICAgIHZhciBhbGwgPSB0aGlzLnBhZ2VkUm93czsKICAgICAgdmFyIGFsbFJvd3MgPSB0aGlzLmFycmFuZ2VkUm93czsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFJvd3M7CgogICAgICAvLyBOb3RoaW5nIGlzIHNlbGVjdGVkCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoKSB7CiAgICAgICAgLy8gYW5kIHRoZXJlIGFyZSBubyByb3dzCiAgICAgICAgaWYgKCFhbGxSb3dzKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICAgIHZhciBmaXJzdE5vZGUgPSBhbGxSb3dzWzBdOwogICAgICAgIHNlbGVjdGVkID0gZmlyc3ROb2RlID8gW2ZpcnN0Tm9kZV0gOiBbXTsKICAgICAgICBkaXNhYmxlQWxsID0gdHJ1ZTsKICAgICAgfQogICAgICB2YXIgbWFwID0ge307CgogICAgICAvLyBGaW5kIGFuZCBhZGQgYWxsIHRoZSBhY3Rpb25zIGZvciBhbGwgdGhlIG5vZGVzIHNvIHRoYXQgd2Uga25vdwogICAgICAvLyB3aGF0IGFsbCB0aGUgcG9zc2libGUgYWN0aW9ucyBhcmUKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFsbCksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBub2RlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAobm9kZS5hdmFpbGFibGVBY3Rpb25zKSB7CiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZS5hdmFpbGFibGVBY3Rpb25zKSwKICAgICAgICAgICAgICBfc3RlcDM7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBhY3QgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoYWN0LmJ1bGthYmxlKSB7CiAgICAgICAgICAgICAgICAgIF9hZGQobWFwLCBhY3QsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBHbyB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgaXRlbXMgYW5kIGFkZCB0aGUgYWN0aW9ucyAod2hpY2ggd2VyZSBhbHJlYWR5IGlkZW50aWZpZWQgYWJvdmUpCiAgICAgICAgLy8gYXMgYXZhaWxhYmxlIGZvciBzb21lIChvciBhbGwpIG9mIHRoZSBzZWxlY3RlZCBub2RlcwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZWxlY3RlZCksCiAgICAgICAgX3N0ZXAyOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX25vZGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBpZiAoX25vZGUuYXZhaWxhYmxlQWN0aW9ucykgewogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF9ub2RlLmF2YWlsYWJsZUFjdGlvbnMpLAogICAgICAgICAgICAgIF9zdGVwNDsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9hY3QgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoX2FjdC5idWxrYWJsZSAmJiBfYWN0LmVuYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgX2FkZChtYXAsIF9hY3QsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGl0ZW1zIGFjdHVhbGx5IHNlbGVjdGVkLCB3ZSB3YW50IHRvIHNlZSBhbGwgdGhlIGFjdGlvbnMKICAgICAgICAvLyBzbyB5b3Uga25vdyB3aGF0IGV4aXN0cywgYnV0IGhhdmUgdGhlbSBhbGwgYmUgZGlzYWJsZWQgc2luY2UgdGhlcmUncyBub3RoaW5nIHRvIGRvIHRoZW0gb24uCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIHZhciBvdXQgPSBfZmlsdGVyKG1hcCwgZGlzYWJsZUFsbCk7CgogICAgICAvLyBFbmFibGUgYSBidWxrYWN0aW9uIGlmIHNvbWUgb2YgdGhlIHNlbGVjdGVkIGl0ZW1zIGNhbiBwZXJmb3JtIHRoZSBhY3Rpb24KICAgICAgb3V0LmZvckVhY2goZnVuY3Rpb24gKGJ1bGtBY3Rpb24pIHsKICAgICAgICB2YXIgYWN0aW9uRW5hYmxlZEZvclNvbWVTZWxlY3RlZCA9IF90aGlzLnNlbGVjdGVkUm93cy5zb21lKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICB2YXIgYXZhaWxhYmxlQWN0aW9ucyA9IG5vZGUuYXZhaWxhYmxlQWN0aW9ucyB8fCBbXTsKICAgICAgICAgIHJldHVybiBhdmFpbGFibGVBY3Rpb25zLnNvbWUoZnVuY3Rpb24gKGFjdGlvbikgewogICAgICAgICAgICByZXR1cm4gYWN0aW9uLmFjdGlvbiA9PT0gYnVsa0FjdGlvbi5hY3Rpb24gJiYgYWN0aW9uLmVuYWJsZWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBidWxrQWN0aW9uLmVuYWJsZWQgPSBfdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoID4gMCAmJiBhY3Rpb25FbmFibGVkRm9yU29tZVNlbGVjdGVkOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIChiLndlaWdodCB8fCAwKSAtIChhLndlaWdodCB8fCAwKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gTGlzdCBvZiBzZWxlY3RlZCBpdGVtcyBpbiB0aGUgdGFibGUKICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwKICAgICAgcHJldk5vZGU6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgLy8gT24gcGFnZSBjaGFuZ2UKICAgIHBhZ2VkUm93czogZnVuY3Rpb24gcGFnZWRSb3dzKCkgewogICAgICAvLyBXaGVuIHRoZSB0YWJsZSBjb250ZW50cyBjaGFuZ2VzOgogICAgICAvLyAtIFJlbW92ZSBpdGVtcyB0aGF0IGFyZSBpbiB0aGUgc2VsZWN0aW9uIGJ1dCBubyBsb25nZXIgaW4gdGhlIHRhYmxlLgoKICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLnBhZ2VkUm93czsKICAgICAgdmFyIHRvUmVtb3ZlID0gW107CiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5zZWxlY3RlZFJvd3MpLAogICAgICAgIF9zdGVwNTsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICBpZiAoIWNvbnRlbnQuaW5jbHVkZXMobm9kZSkpIHsKICAgICAgICAgICAgdG9SZW1vdmUucHVzaChub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKFtdLCB0b1JlbW92ZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblRvZ2dsZUFsbDogZnVuY3Rpb24gb25Ub2dnbGVBbGwodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWdlZFJvd3MsIFtdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0ZShbXSwgdGhpcy5wYWdlZFJvd3MpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG9uUm93TW91c2Vkb3duOiBmdW5jdGlvbiBvblJvd01vdXNlZG93bihlKSB7CiAgICAgIGlmIChpc1JhbmdlKGUpIHx8IHRoaXMuaXNTZWxlY3Rpb25DaGVja2JveChlLnRhcmdldCkpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICBvblJvd01vdXNlRW50ZXI6IGZ1bmN0aW9uIG9uUm93TW91c2VFbnRlcihlKSB7CiAgICAgIHZhciB0ciA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1RSJyk7CiAgICAgIGlmICh0ci5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Yi1yb3cnKSkgewogICAgICAgIHZhciB0ck1haW5Sb3cgPSB0ci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgIHRyTWFpblJvdy5jbGFzc0xpc3QuYWRkKCdzdWItcm93LWhvdmVyZWQnKTsKICAgICAgfQogICAgfSwKICAgIG9uUm93TW91c2VMZWF2ZTogZnVuY3Rpb24gb25Sb3dNb3VzZUxlYXZlKGUpIHsKICAgICAgdmFyIHRyID0gZS50YXJnZXQuY2xvc2VzdCgnVFInKTsKICAgICAgaWYgKHRyLmNsYXNzTGlzdC5jb250YWlucygnc3ViLXJvdycpKSB7CiAgICAgICAgdmFyIHRyTWFpblJvdyA9IHRyLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CiAgICAgICAgdHJNYWluUm93LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Yi1yb3ctaG92ZXJlZCcpOwogICAgICB9CiAgICB9LAogICAgbm9kZUZvckV2ZW50OiBmdW5jdGlvbiBub2RlRm9yRXZlbnQoZSkgewogICAgICB2YXIgdGFnTmFtZSA9IGUudGFyZ2V0LnRhZ05hbWU7CiAgICAgIHZhciB0Z3QgPSBlLnRhcmdldDsKICAgICAgdmFyIGFjdGlvbkVsZW1lbnQgPSB0Z3QuY2xvc2VzdCgnLmFjdGlvbnMnKTsKICAgICAgaWYgKHRndC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1hbGwtY2hlY2snKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIWFjdGlvbkVsZW1lbnQpIHsKICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ0EnIHx8IHRhZ05hbWUgPT09ICdCVVRUT04nIHx8IGdldFBhcmVudCh0Z3QsICcuYnRuJykpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIHRndFJvdyA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1RSJyk7CiAgICAgIHJldHVybiB0aGlzLm5vZGVGb3JSb3codGd0Um93KTsKICAgIH0sCiAgICBub2RlRm9yUm93OiBmdW5jdGlvbiBub2RlRm9yUm93KHRndFJvdykgewogICAgICB2YXIgX3RndFJvdywKICAgICAgICBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoKF90Z3RSb3cgPSB0Z3RSb3cpICE9PSBudWxsICYmIF90Z3RSb3cgIT09IHZvaWQgMCAmJiBfdGd0Um93LmNsYXNzTGlzdC5jb250YWlucygnc2VwYXJhdG9yLXJvdycpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHdoaWxlICh0Z3RSb3cgJiYgIXRndFJvdy5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcm93JykpIHsKICAgICAgICB0Z3RSb3cgPSB0Z3RSb3cucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgfQogICAgICBpZiAoIXRndFJvdykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgbm9kZUlkID0gdGd0Um93LmRhdGFzZXQubm9kZUlkOwogICAgICBpZiAoIW5vZGVJZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgbm9kZSA9IHRoaXMucGFnZWRSb3dzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gZ2V0KHgsIF90aGlzMi5rZXlGaWVsZCkgPT09IG5vZGVJZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBub2RlOwogICAgfSwKICAgIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG5vZGUsIHRkLCBza2lwU2VsZWN0LCBzZWxlY3Rpb24sIGlzQ2hlY2tib3gsIGlzRXhwYW5kLCBjb250ZW50LCBhY3Rpb25FbGVtZW50LCByZXNvdXJjZXMsIGksIGlzU2VsZWN0ZWQsIHByZXZOb2RlLCB0b1RvZ2dsZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgbm9kZSA9IF90aGlzMy5ub2RlRm9yRXZlbnQoZSk7CiAgICAgICAgICAgICAgdGQgPSBlLnRhcmdldC5jbG9zZXN0KCdURCcpOwogICAgICAgICAgICAgIHNraXBTZWxlY3QgPSB0ZCA9PT0gbnVsbCB8fCB0ZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdza2lwLXNlbGVjdCcpOwogICAgICAgICAgICAgIGlmICghc2tpcFNlbGVjdCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBfdGhpczMuc2VsZWN0ZWRSb3dzOwogICAgICAgICAgICAgIGlzQ2hlY2tib3ggPSBfdGhpczMuaXNTZWxlY3Rpb25DaGVja2JveChlLnRhcmdldCkgfHwgKHRkID09PSBudWxsIHx8IHRkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jvdy1jaGVjaycpKTsKICAgICAgICAgICAgICBpc0V4cGFuZCA9IHRkID09PSBudWxsIHx8IHRkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jvdy1leHBhbmQnKTsKICAgICAgICAgICAgICBjb250ZW50ID0gX3RoaXMzLnBhZ2VkUm93czsKICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoJ3Jvd0NsaWNrJywgZSk7CiAgICAgICAgICAgICAgaWYgKG5vZGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBpZiAoIWlzRXhwYW5kKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMzLnRvZ2dsZUV4cGFuZChub2RlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBhY3Rpb25FbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdCgnLmFjdGlvbnMnKTsKICAgICAgICAgICAgICBpZiAoIWFjdGlvbkVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXNvdXJjZXMgPSBbbm9kZV07CiAgICAgICAgICAgICAgaWYgKCFfdGhpczMubWFuZ2xlQWN0aW9uUmVzb3VyY2VzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaSA9IGFjdGlvbkVsZW1lbnQucXVlcnlTZWxlY3RvcignaScpOwogICAgICAgICAgICAgIGkuY2xhc3NMaXN0LnJlbW92ZSgnaWNvbi1hY3Rpb25zJyk7CiAgICAgICAgICAgICAgaS5jbGFzc0xpc3QuYWRkKCdpY29uLXNwaW5uZXInKTsKICAgICAgICAgICAgICBpLmNsYXNzTGlzdC5hZGQoJ2ljb24tc3BpbicpOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5tYW5nbGVBY3Rpb25SZXNvdXJjZXMocmVzb3VyY2VzKTsKICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICByZXNvdXJjZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNzsKICAgICAgICAgICAgICBpLmNsYXNzTGlzdC5yZW1vdmUoJ2ljb24tc3Bpbm5lcicpOwogICAgICAgICAgICAgIGkuY2xhc3NMaXN0LnJlbW92ZSgnaWNvbi1zcGluJyk7CiAgICAgICAgICAgICAgaS5jbGFzc0xpc3QuYWRkKCdpY29uLWFjdGlvbnMnKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI3KTsKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmNvbW1pdCgiYWN0aW9uLW1lbnUvc2hvdyIsIHsKICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLAogICAgICAgICAgICAgICAgZXZlbnQ6IGUsCiAgICAgICAgICAgICAgICBlbGVtOiBhY3Rpb25FbGVtZW50CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IHNlbGVjdGlvbi5pbmNsdWRlcyhub2RlKTsKICAgICAgICAgICAgICBwcmV2Tm9kZSA9IF90aGlzMy5wcmV2Tm9kZTsgLy8gUHJldk5vZGUgaXMgb25seSB2YWxpZCBpZiBpdCdzIGluIHRoZSBjdXJyZW50IGNvbnRlbnQKICAgICAgICAgICAgICBpZiAoIXByZXZOb2RlIHx8ICFjb250ZW50LmluY2x1ZGVzKHByZXZOb2RlKSkgewogICAgICAgICAgICAgICAgcHJldk5vZGUgPSBub2RlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoaXNNb3JlKGUpKSB7CiAgICAgICAgICAgICAgICBfdGhpczMudG9nZ2xlKG5vZGUpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSYW5nZShlKSkgewogICAgICAgICAgICAgICAgdG9Ub2dnbGUgPSBfdGhpczMubm9kZXNCZXR3ZWVuKHByZXZOb2RlLCBub2RlKTsKICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGUoW10sIHRvVG9nZ2xlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGUodG9Ub2dnbGUsIFtdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ2hlY2tib3gpIHsKICAgICAgICAgICAgICAgIF90aGlzMy50b2dnbGUobm9kZSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGUoW25vZGVdLCBjb250ZW50KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMzLnByZXZOb2RlID0gbm9kZTsKICAgICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMjMsLCAyNywgMzJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uUm93Q29udGV4dDogZnVuY3Rpb24gb25Sb3dDb250ZXh0KGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbm9kZSwgaXNTZWxlY3RlZCwgcmVzb3VyY2VzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgbm9kZSA9IF90aGlzNC5ub2RlRm9yRXZlbnQoZSk7CiAgICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0NvbnRleHRNZW51KGUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaWYgKG5vZGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICBfdGhpczQucHJldk5vZGUgPSBub2RlOwogICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBfdGhpczQuc2VsZWN0ZWRSb3dzLmluY2x1ZGVzKG5vZGUpOwogICAgICAgICAgICAgIGlmICghaXNTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZShbbm9kZV0sIF90aGlzNC5zZWxlY3RlZFJvd3Muc2xpY2UoKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJlc291cmNlcyA9IF90aGlzNC5zZWxlY3RlZFJvd3M7CiAgICAgICAgICAgICAgaWYgKCFfdGhpczQubWFuZ2xlQWN0aW9uUmVzb3VyY2VzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5tYW5nbGVBY3Rpb25SZXNvdXJjZXMocmVzb3VyY2VzKTsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICByZXNvdXJjZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgiYWN0aW9uLW1lbnUvc2hvdyIsIHsKICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLAogICAgICAgICAgICAgICAgZXZlbnQ6IGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGtleVNlbGVjdFJvdzogZnVuY3Rpb24ga2V5U2VsZWN0Um93KHJvdykgewogICAgICB2YXIgbW9yZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHZhciBub2RlID0gdGhpcy5ub2RlRm9yUm93KHJvdyk7CiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgIGlmICghbm9kZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAobW9yZSkgewogICAgICAgIHRoaXMudXBkYXRlKFtub2RlXSwgW10pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXBkYXRlKFtub2RlXSwgY29udGVudCk7CiAgICAgIH0KICAgICAgdGhpcy5wcmV2Tm9kZSA9IG5vZGU7CiAgICB9LAogICAgaXNTZWxlY3Rpb25DaGVja2JveDogZnVuY3Rpb24gaXNTZWxlY3Rpb25DaGVja2JveChlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcgJiYgZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnICYmIGVsZW1lbnQuY2xvc2VzdCgnLnNlbGVjdGlvbi1jaGVja2JveCcpICE9PSBudWxsOwogICAgfSwKICAgIG5vZGVzQmV0d2VlbjogZnVuY3Rpb24gbm9kZXNCZXR3ZWVuKGEsIGIpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciB0b1RvZ2dsZSA9IFtdOwogICAgICB2YXIga2V5ID0gdGhpcy5ncm91cEJ5OwogICAgICBpZiAoa2V5KSB7CiAgICAgICAgLy8gR3JvdXBlZCBoYXMgMiBsZXZlbHMgdG8gbG9vayB0aHJvdWdoCiAgICAgICAgdmFyIGdyb3VwZWQgPSB0aGlzLmdyb3VwZWRSb3dzOwogICAgICAgIHZhciBmcm9tID0gdGhpcy5ncm91cElkeChhKTsKICAgICAgICB2YXIgdG8gPSB0aGlzLmdyb3VwSWR4KGIpOwogICAgICAgIGlmICghZnJvbSB8fCAhdG8pIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CgogICAgICAgIC8vIEZyb20gaGFzIHRvIGNvbWUgYmVmb3JlIFRvCiAgICAgICAgaWYgKGZyb20uZ3JvdXAgPiB0by5ncm91cCB8fCBmcm9tLmdyb3VwID09PSB0by5ncm91cCAmJiBmcm9tLml0ZW0gPiB0by5pdGVtKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IFt0bywgZnJvbV07CiAgICAgICAgICBmcm9tID0gX3JlZlswXTsKICAgICAgICAgIHRvID0gX3JlZlsxXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IGZyb20uZ3JvdXA7IGkgPD0gdG8uZ3JvdXA7IGkrKykgewogICAgICAgICAgdmFyIGl0ZW1zID0gZ3JvdXBlZFtpXS5yb3dzOwogICAgICAgICAgdmFyIGogPSBmcm9tLmdyb3VwID09PSBpID8gZnJvbS5pdGVtIDogMDsKICAgICAgICAgIHdoaWxlIChpdGVtc1tqXSAmJiAoaSA8IHRvLmdyb3VwIHx8IGogPD0gdG8uaXRlbSkpIHsKICAgICAgICAgICAgdG9Ub2dnbGUucHVzaChpdGVtc1tqXSk7CiAgICAgICAgICAgIGorKzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVW5ncm91cGVkIGlzIG11Y2ggc2ltcGxlcgogICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgICAgdmFyIF9mcm9tID0gY29udGVudC5pbmRleE9mKGEpOwogICAgICAgIHZhciBfdG8gPSBjb250ZW50LmluZGV4T2YoYik7CiAgICAgICAgdmFyIF9yZWYyID0gW01hdGgubWluKF9mcm9tLCBfdG8pLCBNYXRoLm1heChfZnJvbSwgX3RvKV07CiAgICAgICAgX2Zyb20gPSBfcmVmMlswXTsKICAgICAgICBfdG8gPSBfcmVmMlsxXTsKICAgICAgICB0b1RvZ2dsZSA9IGNvbnRlbnQuc2xpY2UoX2Zyb20sIF90byArIDEpOwogICAgICB9CgogICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGR1cGxpY2F0ZSBjb250ZW50IHNlbGVjdGVkIChzZWxlY3RlZFJvd3MpIG9uIHRoZSBsaXN0IHRvIHRvZ2dsZS4uLgogICAgICB0b1RvZ2dsZSA9IHRvVG9nZ2xlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhX3RoaXM1LnNlbGVjdGVkUm93cy5pbmNsdWRlcyhpdGVtKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b1RvZ2dsZTsKICAgIH0sCiAgICBncm91cElkeDogZnVuY3Rpb24gZ3JvdXBJZHgobm9kZSkgewogICAgICB2YXIgZ3JvdXBlZCA9IHRoaXMuZ3JvdXBlZFJvd3M7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBlZC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciByb3dzID0gZ3JvdXBlZFtpXS5yb3dzOwogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKHJvd3Nbal0gPT09IG5vZGUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBncm91cDogaSwKICAgICAgICAgICAgICBpdGVtOiBqCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKG5vZGUpIHsKICAgICAgdmFyIGFkZCA9IFtdOwogICAgICB2YXIgcmVtb3ZlID0gW107CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5pbmNsdWRlcyhub2RlKSkgewogICAgICAgIHJlbW92ZS5wdXNoKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZC5wdXNoKG5vZGUpOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKGFkZCwgcmVtb3ZlKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0b0FkZCwgdG9SZW1vdmUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgIHZhciBpbmRleCA9IF90aGlzNi5zZWxlY3RlZFJvd3MuZmluZEluZGV4KGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gciA9PT0gcm93OwogICAgICAgIH0pOwogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgIF90aGlzNi5zZWxlY3RlZFJvd3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAodG9BZGQpIHsKICAgICAgICB2YXIgX3RoaXMkc2VsZWN0ZWRSb3dzOwogICAgICAgIChfdGhpcyRzZWxlY3RlZFJvd3MgPSB0aGlzLnNlbGVjdGVkUm93cykucHVzaC5hcHBseShfdGhpcyRzZWxlY3RlZFJvd3MsIF90b0NvbnN1bWFibGVBcnJheSh0b0FkZCkpOwogICAgICB9CgogICAgICAvLyBVbmNoZWNrIGFuZCBjaGVjayB0aGUgY2hlY2tib3hlcyBvZiBub2RlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZC9yZW1vdmVkCiAgICAgIGlmICh0b1JlbW92ZS5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIF90aGlzNi51cGRhdGVJbnB1dCh0b1JlbW92ZVtpXSwgZmFsc2UsIF90aGlzNi5rZXlGaWVsZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9BZGQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZUlucHV0KHRvQWRkW2ldLCB0cnVlLCBfdGhpczYua2V5RmllbGQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJGVtaXQoJ3NlbGVjdGlvbicsIF90aGlzNi5zZWxlY3RlZFJvd3MpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVJbnB1dDogZnVuY3Rpb24gdXBkYXRlSW5wdXQobm9kZSwgb24sIGtleUZpZWxkKSB7CiAgICAgIHZhciBpZCA9IGdldChub2RlLCBrZXlGaWVsZCk7CiAgICAgIGlmIChpZCkgewogICAgICAgIC8vIE5vdGU6IFRoaXMgaXMgbG9va2luZyBmb3IgdGhlIGNoZWNrYm94IGNvbnRyb2wgZm9yIHRoZSByb3cKICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCJkaXZbZGF0YS1jaGVja2JveC1jdHJsXVtkYXRhLW5vZGUtaWQ9XCIiLmNvbmNhdChpZCwgIlwiXSIpKTsKICAgICAgICBpZiAoaW5wdXQgJiYgIWlucHV0LmRpc2FibGVkKSB7CiAgICAgICAgICB2YXIgbGFiZWwgPSBpbnB1dC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpOwogICAgICAgICAgaWYgKGxhYmVsKSB7CiAgICAgICAgICAgIGxhYmVsLnZhbHVlID0gb247CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgdHIgPSBpbnB1dC5jbG9zZXN0KCd0cicpOwogICAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTsKICAgICAgICAgIHdoaWxlICh0ciAmJiAoZmlyc3QgfHwgdHIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItcm93JykpKSB7CiAgICAgICAgICAgIGlmIChvbikgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5hZGQoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5yZW1vdmUoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyID0gdHIubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KG5vZGVzKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgdmFyIGlkID0gZ2V0KG5vZGUsIF90aGlzNy5rZXlGaWVsZCk7CiAgICAgICAgdmFyIGlucHV0ID0gX3RoaXM3LiRlbC5xdWVyeVNlbGVjdG9yKCJsYWJlbFtkYXRhLW5vZGUtaWQ9XCIiLmNvbmNhdChpZCwgIlwiXSIpKTsKICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFwcGx5VGFibGVBY3Rpb246IGZ1bmN0aW9uIGFwcGx5VGFibGVBY3Rpb24oYWN0aW9uLCBhcmdzLCBldmVudCkgewogICAgICB2YXIgb3B0cyA9IHsKICAgICAgICBhbHQ6IGV2ZW50ICYmIGlzQWx0ZXJuYXRlKGV2ZW50KSwKICAgICAgICBldmVudDogZXZlbnQKICAgICAgfTsKCiAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHRhYmxlIHNlbGVjdGlvbiBhbmQgZmlsdGVyIG91dCB0aG9zZSBhY3Rpb25zIHRoYXQgY2FuJ3QgcnVuIHRoZSBjaG9zZW4gYWN0aW9uCiAgICAgIHZhciBleGVjdXRhYmxlU2VsZWN0aW9uID0gdGhpcy5zZWxlY3RlZFJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICB2YXIgbWF0Y2hpbmdSZXNvdXJjZUFjdGlvbiA9IHJvdy5hdmFpbGFibGVBY3Rpb25zLmZpbmQoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiBhLmFjdGlvbiA9PT0gYWN0aW9uLmFjdGlvbjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbWF0Y2hpbmdSZXNvdXJjZUFjdGlvbiA9PT0gbnVsbCB8fCBtYXRjaGluZ1Jlc291cmNlQWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXRjaGluZ1Jlc291cmNlQWN0aW9uLmVuYWJsZWQ7CiAgICAgIH0pOwogICAgICBfZXhlY3V0ZShleGVjdXRhYmxlU2VsZWN0aW9uLCBhY3Rpb24sIGFyZ3MsIG9wdHMsIHRoaXMpOwogICAgICB0aGlzLmFjdGlvbk9mSW50ZXJlc3QgPSBudWxsOwogICAgfSwKICAgIGNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHsKICAgICAgdGhpcy51cGRhdGUoW10sIHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgIH0KICB9Cn07CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gLS0tIEhlbHBlcnMgdGhhdCB3ZXJlIGluIHNlbGVjdGlvblN0b3JlLmpzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIGFub24gPSAwOwpmdW5jdGlvbiBfYWRkKG1hcCwgYWN0KSB7CiAgdmFyIGluY3JlbWVudENvdW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICB2YXIgaWQgPSBhY3QuYWN0aW9uOwogIGlmICghaWQpIHsKICAgIGlkID0gImFub24iLmNvbmNhdChhbm9uKTsKICAgIGFub24rKzsKICB9CiAgdmFyIG9iaiA9IG1hcFtpZF07CiAgaWYgKCFvYmopIHsKICAgIG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGFjdCk7CiAgICBtYXBbaWRdID0gb2JqOwogICAgb2JqLmFsbEVuYWJsZWQgPSBmYWxzZTsKICB9CiAgaWYgKCFhY3QuZW5hYmxlZCkgewogICAgb2JqLmFsbEVuYWJsZWQgPSBmYWxzZTsKICB9IGVsc2UgewogICAgb2JqLmFueUVuYWJsZWQgPSB0cnVlOwogIH0KICBpZiAoaW5jcmVtZW50Q291bnRzKSB7CiAgICBvYmouYXZhaWxhYmxlID0gKG9iai5hdmFpbGFibGUgfHwgMCkgKyAoIWFjdC5lbmFibGVkID8gMCA6IDEpOwogICAgb2JqLnRvdGFsID0gKG9iai50b3RhbCB8fCAwKSArIDE7CiAgfQogIHJldHVybiBvYmo7Cn0KZnVuY3Rpb24gX2ZpbHRlcihtYXApIHsKICB2YXIgZGlzYWJsZUFsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIG91dCA9IGZpbHRlckJ5KE9iamVjdC52YWx1ZXMobWFwKSwgJ2FueUVuYWJsZWQnLCB0cnVlKTsKICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG91dCksCiAgICBfc3RlcDY7CiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBhY3QgPSBfc3RlcDYudmFsdWU7CiAgICAgIGlmIChkaXNhYmxlQWxsKSB7CiAgICAgICAgYWN0LmVuYWJsZWQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY3QuZW5hYmxlZCA9IGFjdC5hdmFpbGFibGUgPj0gYWN0LnRvdGFsOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNi5mKCk7CiAgfQogIHJldHVybiBvdXQ7Cn0KZnVuY3Rpb24gX2V4ZWN1dGUocmVzb3VyY2VzLCBhY3Rpb24sIGFyZ3MpIHsKICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307CiAgdmFyIGN0eCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogIGFyZ3MgPSBhcmdzIHx8IFtdOwoKICAvLyBOZXcgcGF0dGVybiBmb3IgZXh0ZW5zaW9ucyAtIGFsd2F5cyBjYWxsIGludm9rZQogIGlmIChhY3Rpb24uaW52b2tlKSB7CiAgICB2YXIgYWN0aW9uT3B0cyA9IHsKICAgICAgYWN0aW9uOiBhY3Rpb24sCiAgICAgIGV2ZW50OiBvcHRzLmV2ZW50LAogICAgICBpc0FsdDogISFvcHRzLmFsdAogICAgfTsKICAgIHJldHVybiBhY3Rpb24uaW52b2tlLmFwcGx5KGN0eCwgW2FjdGlvbk9wdHMsIHJlc291cmNlcyB8fCBbXSwgYXJnc10pOwogIH0KICBpZiAocmVzb3VyY2VzLmxlbmd0aCA+IDEgJiYgYWN0aW9uLmJ1bGtBY3Rpb24gJiYgIW9wdHMuYWx0KSB7CiAgICB2YXIgZm4gPSByZXNvdXJjZXNbMF1bYWN0aW9uLmJ1bGtBY3Rpb25dOwogICAgaWYgKGZuKSB7CiAgICAgIHJldHVybiBmbi5jYWxsLmFwcGx5KGZuLCBbcmVzb3VyY2VzWzBdLCByZXNvdXJjZXNdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKTsKICAgIH0KICB9CiAgdmFyIHByb21pc2VzID0gW107CiAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXNvdXJjZXMpLAogICAgX3N0ZXA3OwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICB2YXIgcmVzb3VyY2UgPSBfc3RlcDcudmFsdWU7CiAgICAgIHZhciBfZm4gPSB2b2lkIDA7CiAgICAgIGlmIChvcHRzLmFsdCAmJiBhY3Rpb24uYWx0QWN0aW9uKSB7CiAgICAgICAgX2ZuID0gcmVzb3VyY2VbYWN0aW9uLmFsdEFjdGlvbl07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX2ZuID0gcmVzb3VyY2VbYWN0aW9uLmFjdGlvbl07CiAgICAgIH0KICAgICAgaWYgKF9mbikgewogICAgICAgIHByb21pc2VzLnB1c2goX2ZuLmFwcGx5KHJlc291cmNlLCBhcmdzKSk7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjcuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3I3LmYoKTsKICB9CiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKfQ=="},{"version":3,"names":["isMore","isRange","suppressContextMenu","isAlternate","get","filterBy","getParent","ALL","SOME","NONE","mounted","table","$el","querySelector","_onRowClickBound","onRowClick","bind","_onRowMousedownBound","onRowMousedown","_onRowContextBound","onRowContext","addEventListener","beforeDestroy","removeEventListener","computed","howMuchSelected","total","pagedRows","length","selected","selectedRows","bulkActionsForSelection","_this","disableAll","all","allRows","arrangedRows","firstNode","map","_iterator","_createForOfIteratorHelper","_step","s","n","done","node","value","availableActions","_iterator3","_step3","act","bulkable","_add","err","e","f","_iterator2","_step2","_iterator4","_step4","enabled","out","_filter","forEach","bulkAction","actionEnabledForSomeSelected","some","action","sort","a","b","weight","data","prevNode","watch","content","toRemove","_iterator5","_step5","includes","push","update","methods","onToggleAll","isSelectionCheckbox","target","preventDefault","onRowMouseEnter","tr","closest","classList","contains","trMainRow","previousElementSibling","add","onRowMouseLeave","remove","nodeForEvent","tagName","tgt","actionElement","tgtRow","nodeForRow","_tgtRow","_this2","nodeId","dataset","find","x","keyField","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","td","skipSelect","selection","isCheckbox","isExpand","resources","i","isSelected","toToggle","wrap","_callee$","_context","prev","next","abrupt","$emit","toggleExpand","mangleActionResources","sent","finish","$store","commit","event","elem","toggle","nodesBetween","stop","_this4","_callee2","_callee2$","_context2","stopPropagation","slice","keySelectRow","row","more","arguments","undefined","element","type","_this5","key","groupBy","grouped","groupedRows","from","groupIdx","to","group","item","_ref","items","rows","j","indexOf","_ref2","Math","min","max","filter","toAdd","_this6","index","findIndex","r","splice","_this$selectedRows","apply","_toConsumableArray","$nextTick","updateInput","on","id","input","concat","disabled","label","first","nextElementSibling","select","nodes","_this7","dispatchEvent","Event","applyTableAction","args","opts","alt","executableSelection","matchingResourceAction","_execute","actionOfInterest","clearSelection","anon","incrementCounts","obj","Object","assign","allEnabled","anyEnabled","available","values","_iterator6","_step6","ctx","invoke","actionOpts","isAlt","fn","call","promises","_iterator7","_step7","resource","altAction","Promise"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/SortableTable/selection.js"],"sourcesContent":["import { isMore, isRange, suppressContextMenu, isAlternate } from '@shell/utils/platform';\nimport { get } from '@shell/utils/object';\nimport { filterBy } from '@shell/utils/array';\nimport { getParent } from '@shell/utils/dom';\n\nexport const ALL = 'all';\nexport const SOME = 'some';\nexport const NONE = 'none';\n\nexport default {\n  mounted() {\n    const table = this.$el.querySelector('TABLE');\n\n    this._onRowClickBound = this.onRowClick.bind(this);\n    this._onRowMousedownBound = this.onRowMousedown.bind(this);\n    this._onRowContextBound = this.onRowContext.bind(this);\n\n    table.addEventListener('click', this._onRowClickBound);\n    table.addEventListener('mousedown', this._onRowMousedownBound);\n    table.addEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  beforeDestroy() {\n    const table = this.$el.querySelector('TABLE');\n\n    table.removeEventListener('click', this._onRowClickBound);\n    table.removeEventListener('mousedown', this._onRowMousedownBound);\n    table.removeEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  computed: {\n    // Used for the table-level selection check-box to show checked (all selected)/intermediate (some selected)/unchecked (none selected)\n    howMuchSelected() {\n      const total = this.pagedRows.length;\n      const selected = this.selectedRows.length;\n\n      if ( selected >= total && total > 0 ) {\n        return ALL;\n      } else if ( selected > 0 ) {\n        return SOME;\n      }\n\n      return NONE;\n    },\n\n    // NOTE: The logic here could be simplified and made more performant\n    bulkActionsForSelection() {\n      let disableAll = false;\n      // pagedRows is all rows in the current page\n      const all = this.pagedRows;\n      const allRows = this.arrangedRows;\n      let selected = this.selectedRows;\n\n      // Nothing is selected\n      if ( !this.selectedRows.length ) {\n        // and there are no rows\n        if ( !allRows ) {\n          return [];\n        }\n\n        const firstNode = allRows[0];\n\n        selected = firstNode ? [firstNode] : [];\n        disableAll = true;\n      }\n\n      const map = {};\n\n      // Find and add all the actions for all the nodes so that we know\n      // what all the possible actions are\n      for ( const node of all ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // Go through all the selected items and add the actions (which were already identified above)\n      // as available for some (or all) of the selected nodes\n      for ( const node of selected ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable && act.enabled ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // If there's no items actually selected, we want to see all the actions\n      // so you know what exists, but have them all be disabled since there's nothing to do them on.\n      const out = _filter(map, disableAll);\n\n      // Enable a bulkaction if some of the selected items can perform the action\n      out.forEach((bulkAction) => {\n        const actionEnabledForSomeSelected = this.selectedRows.some((node) => {\n          const availableActions = node.availableActions || [];\n\n          return availableActions.some((action) => action.action === bulkAction.action && action.enabled);\n        });\n\n        bulkAction.enabled = this.selectedRows.length > 0 && actionEnabledForSomeSelected;\n      });\n\n      return out.sort((a, b) => (b.weight || 0) - (a.weight || 0));\n    }\n  },\n\n  data() {\n    return {\n      // List of selected items in the table\n      selectedRows: [],\n      prevNode:     null,\n    };\n  },\n\n  watch: {\n    // On page change\n    pagedRows() {\n      // When the table contents changes:\n      // - Remove items that are in the selection but no longer in the table.\n\n      const content = this.pagedRows;\n      const toRemove = [];\n\n      for (const node of this.selectedRows) {\n        if (!content.includes(node) ) {\n          toRemove.push(node);\n        }\n      }\n\n      this.update([], toRemove);\n    }\n  },\n\n  methods: {\n    onToggleAll(value) {\n      if ( value ) {\n        this.update(this.pagedRows, []);\n\n        return true;\n      } else {\n        this.update([], this.pagedRows);\n\n        return false;\n      }\n    },\n\n    onRowMousedown(e) {\n      if ( isRange(e) || this.isSelectionCheckbox(e.target) ) {\n        e.preventDefault();\n      }\n    },\n\n    onRowMouseEnter(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.add('sub-row-hovered');\n      }\n    },\n\n    onRowMouseLeave(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.remove('sub-row-hovered');\n      }\n    },\n\n    nodeForEvent(e) {\n      const tagName = e.target.tagName;\n      const tgt = e.target;\n      const actionElement = tgt.closest('.actions');\n\n      if ( tgt.classList.contains('select-all-check') ) {\n        return;\n      }\n\n      if ( !actionElement ) {\n        if (\n          tagName === 'A' ||\n          tagName === 'BUTTON' ||\n          getParent(tgt, '.btn')\n        ) {\n          return;\n        }\n      }\n\n      const tgtRow = e.target.closest('TR');\n\n      return this.nodeForRow(tgtRow);\n    },\n\n    nodeForRow(tgtRow) {\n      if ( tgtRow?.classList.contains('separator-row') ) {\n        return;\n      }\n\n      while ( tgtRow && !tgtRow.classList.contains('main-row') ) {\n        tgtRow = tgtRow.previousElementSibling;\n      }\n\n      if ( !tgtRow ) {\n        return;\n      }\n\n      const nodeId = tgtRow.dataset.nodeId;\n\n      if ( !nodeId ) {\n        return;\n      }\n\n      const node = this.pagedRows.find( (x) => get(x, this.keyField) === nodeId );\n\n      return node;\n    },\n\n    async onRowClick(e) {\n      const node = this.nodeForEvent(e);\n      const td = e.target.closest('TD');\n      const skipSelect = td?.classList.contains('skip-select');\n\n      if (skipSelect) {\n        return;\n      }\n      const selection = this.selectedRows;\n      const isCheckbox = this.isSelectionCheckbox(e.target) || td?.classList.contains('row-check');\n      const isExpand = td?.classList.contains('row-expand');\n      const content = this.pagedRows;\n\n      this.$emit('rowClick', e);\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( isExpand ) {\n        this.toggleExpand(node);\n\n        return;\n      }\n\n      const actionElement = e.target.closest('.actions');\n\n      if ( actionElement ) {\n        let resources = [node];\n\n        if ( this.mangleActionResources ) {\n          const i = actionElement.querySelector('i');\n\n          i.classList.remove('icon-actions');\n          i.classList.add('icon-spinner');\n          i.classList.add('icon-spin');\n\n          try {\n            resources = await this.mangleActionResources(resources);\n          } finally {\n            i.classList.remove('icon-spinner');\n            i.classList.remove('icon-spin');\n            i.classList.add('icon-actions');\n          }\n        }\n\n        this.$store.commit(`action-menu/show`, {\n          resources,\n          event: e,\n          elem:  actionElement\n        });\n\n        return;\n      }\n\n      const isSelected = selection.includes(node);\n      let prevNode = this.prevNode;\n\n      // PrevNode is only valid if it's in the current content\n      if ( !prevNode || !content.includes(prevNode) ) {\n        prevNode = node;\n      }\n\n      if ( isMore(e) ) {\n        this.toggle(node);\n      } else if ( isRange(e) ) {\n        const toToggle = this.nodesBetween(prevNode, node);\n\n        if ( isSelected ) {\n          this.update([], toToggle);\n        } else {\n          this.update(toToggle, []);\n        }\n      } else if ( isCheckbox ) {\n        this.toggle(node);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    async onRowContext(e) {\n      const node = this.nodeForEvent(e);\n\n      if ( suppressContextMenu(e) ) {\n        return;\n      }\n\n      if ( !node ) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.prevNode = node;\n      const isSelected = this.selectedRows.includes(node);\n\n      if ( !isSelected ) {\n        this.update([node], this.selectedRows.slice());\n      }\n\n      let resources = this.selectedRows;\n\n      if ( this.mangleActionResources ) {\n        resources = await this.mangleActionResources(resources);\n      }\n\n      this.$store.commit(`action-menu/show`, {\n        resources,\n        event: e,\n      });\n    },\n\n    keySelectRow(row, more = false) {\n      const node = this.nodeForRow(row);\n      const content = this.pagedRows;\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( more ) {\n        this.update([node], []);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    isSelectionCheckbox(element) {\n      return element.tagName === 'INPUT' &&\n        element.type === 'checkbox' &&\n        element.closest('.selection-checkbox') !== null;\n    },\n\n    nodesBetween(a, b) {\n      let toToggle = [];\n      const key = this.groupBy;\n\n      if ( key ) {\n        // Grouped has 2 levels to look through\n        const grouped = this.groupedRows;\n\n        let from = this.groupIdx(a);\n        let to = this.groupIdx(b);\n\n        if ( !from || !to ) {\n          return [];\n        }\n\n        // From has to come before To\n        if ( (from.group > to.group) || ((from.group === to.group) && (from.item > to.item)) ) {\n          [from, to] = [to, from];\n        }\n\n        for ( let i = from.group ; i <= to.group ; i++ ) {\n          const items = grouped[i].rows;\n          let j = (from.group === i ? from.item : 0);\n\n          while ( items[j] && ( i < to.group || j <= to.item )) {\n            toToggle.push(items[j]);\n            j++;\n          }\n        }\n      } else {\n        // Ungrouped is much simpler\n        const content = this.pagedRows;\n        let from = content.indexOf(a);\n        let to = content.indexOf(b);\n\n        [from, to] = [Math.min(from, to), Math.max(from, to)];\n        toToggle = content.slice(from, to + 1);\n      }\n\n      // check if there is already duplicate content selected (selectedRows) on the list to toggle...\n      toToggle = toToggle.filter((item) => !this.selectedRows.includes(item));\n\n      return toToggle;\n    },\n\n    groupIdx(node) {\n      const grouped = this.groupedRows;\n\n      for ( let i = 0 ; i < grouped.length ; i++ ) {\n        const rows = grouped[i].rows;\n\n        for ( let j = 0 ; j < rows.length ; j++ ) {\n          if ( rows[j] === node ) {\n            return {\n              group: i,\n              item:  j\n            };\n          }\n        }\n      }\n\n      return null;\n    },\n\n    toggle(node) {\n      const add = [];\n      const remove = [];\n\n      if (this.selectedRows.includes(node)) {\n        remove.push(node);\n      } else {\n        add.push(node);\n      }\n\n      this.update(add, remove);\n    },\n\n    update(toAdd, toRemove) {\n      toRemove.forEach((row) => {\n        const index = this.selectedRows.findIndex((r) => r === row);\n\n        if (index !== -1) {\n          this.selectedRows.splice(index, 1);\n        }\n      });\n\n      if ( toAdd ) {\n        this.selectedRows.push(...toAdd);\n      }\n\n      // Uncheck and check the checkboxes of nodes that have been added/removed\n      if (toRemove.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toRemove.length ; i++ ) {\n            this.updateInput(toRemove[i], false, this.keyField);\n          }\n        });\n      }\n\n      if (toAdd.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toAdd.length ; i++ ) {\n            this.updateInput(toAdd[i], true, this.keyField);\n          }\n        });\n      }\n\n      this.$nextTick(() => {\n        this.$emit('selection', this.selectedRows);\n      });\n    },\n\n    updateInput(node, on, keyField) {\n      const id = get(node, keyField);\n\n      if ( id ) {\n        // Note: This is looking for the checkbox control for the row\n        const input = this.$el.querySelector(`div[data-checkbox-ctrl][data-node-id=\"${ id }\"]`);\n\n        if ( input && !input.disabled ) {\n          const label = input.querySelector('label');\n\n          if (label) {\n            label.value = on;\n          }\n          let tr = input.closest('tr');\n          let first = true;\n\n          while ( tr && (first || tr.classList.contains('sub-row') ) ) {\n            if (on) {\n              tr.classList.add('row-selected');\n            } else {\n              tr.classList.remove('row-selected');\n            }\n            tr = tr.nextElementSibling;\n            first = false;\n          }\n        }\n      }\n    },\n\n    select(nodes) {\n      nodes.forEach((node) => {\n        const id = get(node, this.keyField);\n        const input = this.$el.querySelector(`label[data-node-id=\"${ id }\"]`);\n\n        input.dispatchEvent(new Event('click'));\n      });\n    },\n\n    applyTableAction(action, args, event) {\n      const opts = { alt: event && isAlternate(event), event };\n\n      // Go through the table selection and filter out those actions that can't run the chosen action\n      const executableSelection = this.selectedRows.filter((row) => {\n        const matchingResourceAction = row.availableActions.find((a) => a.action === action.action);\n\n        return matchingResourceAction?.enabled;\n      });\n\n      _execute(executableSelection, action, args, opts, this);\n\n      this.actionOfInterest = null;\n    },\n\n    clearSelection() {\n      this.update([], this.selectedRows);\n    },\n\n  }\n};\n\n// ---------------------------------------------------------------------\n// --- Helpers that were in selectionStore.js --------------------------\n// ---------------------------------------------------------------------\n\nlet anon = 0;\n\nfunction _add(map, act, incrementCounts = true) {\n  let id = act.action;\n\n  if ( !id ) {\n    id = `anon${ anon }`;\n    anon++;\n  }\n\n  let obj = map[id];\n\n  if ( !obj ) {\n    obj = Object.assign({}, act);\n    map[id] = obj;\n    obj.allEnabled = false;\n  }\n\n  if ( !act.enabled ) {\n    obj.allEnabled = false;\n  } else {\n    obj.anyEnabled = true;\n  }\n\n  if ( incrementCounts ) {\n    obj.available = (obj.available || 0) + (!act.enabled ? 0 : 1 );\n    obj.total = (obj.total || 0) + 1;\n  }\n\n  return obj;\n}\n\nfunction _filter(map, disableAll = false) {\n  const out = filterBy(Object.values(map), 'anyEnabled', true);\n\n  for ( const act of out ) {\n    if ( disableAll ) {\n      act.enabled = false;\n    } else {\n      act.enabled = ( act.available >= act.total );\n    }\n  }\n\n  return out;\n}\n\nfunction _execute(resources, action, args, opts = {}, ctx) {\n  args = args || [];\n\n  // New pattern for extensions - always call invoke\n  if (action.invoke) {\n    const actionOpts = {\n      action,\n      event: opts.event,\n      isAlt: !!opts.alt,\n    };\n\n    return action.invoke.apply(ctx, [actionOpts, resources || [], args]);\n  }\n\n  if ( resources.length > 1 && action.bulkAction && !opts.alt ) {\n    const fn = resources[0][action.bulkAction];\n\n    if ( fn ) {\n      return fn.call(resources[0], resources, ...args);\n    }\n  }\n\n  const promises = [];\n\n  for ( const resource of resources ) {\n    let fn;\n\n    if (opts.alt && action.altAction) {\n      fn = resource[action.altAction];\n    } else {\n      fn = resource[action.action];\n    }\n\n    if ( fn ) {\n      promises.push(fn.apply(resource, args));\n    }\n  }\n\n  return Promise.all(promises);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,MAAM,EAAEC,OAAO,EAAEC,mBAAmB,EAAEC,WAAW,QAAQ,uBAAuB;AACzF,SAASC,GAAG,QAAQ,qBAAqB;AACzC,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,OAAO,IAAMC,GAAG,GAAG,KAAK;AACxB,OAAO,IAAMC,IAAI,GAAG,MAAM;AAC1B,OAAO,IAAMC,IAAI,GAAG,MAAM;AAE1B,eAAe;EACbC,OAAO,WAAAA,QAAA,EAAG;IACR,IAAMC,KAAK,GAAG,IAAI,CAACC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC;IAE7C,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACC,oBAAoB,GAAG,IAAI,CAACC,cAAc,CAACF,IAAI,CAAC,IAAI,CAAC;IAC1D,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACC,YAAY,CAACJ,IAAI,CAAC,IAAI,CAAC;IAEtDL,KAAK,CAACU,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACP,gBAAgB,CAAC;IACtDH,KAAK,CAACU,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACJ,oBAAoB,CAAC;IAC9DN,KAAK,CAACU,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAACF,kBAAkB,CAAC;EAChE,CAAC;EAEDG,aAAa,WAAAA,cAAA,EAAG;IACd,IAAMX,KAAK,GAAG,IAAI,CAACC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC;IAE7CF,KAAK,CAACY,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACT,gBAAgB,CAAC;IACzDH,KAAK,CAACY,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACN,oBAAoB,CAAC;IACjEN,KAAK,CAACY,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAACJ,kBAAkB,CAAC;EACnE,CAAC;EAEDK,QAAQ,EAAE;IACR;IACAC,eAAe,WAAAA,gBAAA,EAAG;MAChB,IAAMC,KAAK,GAAG,IAAI,CAACC,SAAS,CAACC,MAAM;MACnC,IAAMC,QAAQ,GAAG,IAAI,CAACC,YAAY,CAACF,MAAM;MAEzC,IAAKC,QAAQ,IAAIH,KAAK,IAAIA,KAAK,GAAG,CAAC,EAAG;QACpC,OAAOnB,GAAG;MACZ,CAAC,MAAM,IAAKsB,QAAQ,GAAG,CAAC,EAAG;QACzB,OAAOrB,IAAI;MACb;MAEA,OAAOC,IAAI;IACb,CAAC;IAED;IACAsB,uBAAuB,WAAAA,wBAAA,EAAG;MAAA,IAAAC,KAAA;MACxB,IAAIC,UAAU,GAAG,KAAK;MACtB;MACA,IAAMC,GAAG,GAAG,IAAI,CAACP,SAAS;MAC1B,IAAMQ,OAAO,GAAG,IAAI,CAACC,YAAY;MACjC,IAAIP,QAAQ,GAAG,IAAI,CAACC,YAAY;;MAEhC;MACA,IAAK,CAAC,IAAI,CAACA,YAAY,CAACF,MAAM,EAAG;QAC/B;QACA,IAAK,CAACO,OAAO,EAAG;UACd,OAAO,EAAE;QACX;QAEA,IAAME,SAAS,GAAGF,OAAO,CAAC,CAAC,CAAC;QAE5BN,QAAQ,GAAGQ,SAAS,GAAG,CAACA,SAAS,CAAC,GAAG,EAAE;QACvCJ,UAAU,GAAG,IAAI;MACnB;MAEA,IAAMK,GAAG,GAAG,CAAC,CAAC;;MAEd;MACA;MAAA,IAAAC,SAAA,GAAAC,0BAAA,CACoBN,GAAG;QAAAO,KAAA;MAAA;QAAvB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA0B;UAAA,IAAdC,IAAI,GAAAJ,KAAA,CAAAK,KAAA;UACd,IAAID,IAAI,CAACE,gBAAgB,EAAE;YAAA,IAAAC,UAAA,GAAAR,0BAAA,CACNK,IAAI,CAACE,gBAAgB;cAAAE,MAAA;YAAA;cAAxC,KAAAD,UAAA,CAAAN,CAAA,MAAAO,MAAA,GAAAD,UAAA,CAAAL,CAAA,IAAAC,IAAA,GAA2C;gBAAA,IAA/BM,GAAG,GAAAD,MAAA,CAAAH,KAAA;gBACb,IAAKI,GAAG,CAACC,QAAQ,EAAG;kBAClBC,IAAI,CAACd,GAAG,EAAEY,GAAG,EAAE,KAAK,CAAC;gBACvB;cACF;YAAC,SAAAG,GAAA;cAAAL,UAAA,CAAAM,CAAA,CAAAD,GAAA;YAAA;cAAAL,UAAA,CAAAO,CAAA;YAAA;UACH;QACF;;QAEA;QACA;MAAA,SAAAF,GAAA;QAAAd,SAAA,CAAAe,CAAA,CAAAD,GAAA;MAAA;QAAAd,SAAA,CAAAgB,CAAA;MAAA;MAAA,IAAAC,UAAA,GAAAhB,0BAAA,CACoBX,QAAQ;QAAA4B,MAAA;MAAA;QAA5B,KAAAD,UAAA,CAAAd,CAAA,MAAAe,MAAA,GAAAD,UAAA,CAAAb,CAAA,IAAAC,IAAA,GAA+B;UAAA,IAAnBC,KAAI,GAAAY,MAAA,CAAAX,KAAA;UACd,IAAID,KAAI,CAACE,gBAAgB,EAAE;YAAA,IAAAW,UAAA,GAAAlB,0BAAA,CACNK,KAAI,CAACE,gBAAgB;cAAAY,MAAA;YAAA;cAAxC,KAAAD,UAAA,CAAAhB,CAAA,MAAAiB,MAAA,GAAAD,UAAA,CAAAf,CAAA,IAAAC,IAAA,GAA2C;gBAAA,IAA/BM,IAAG,GAAAS,MAAA,CAAAb,KAAA;gBACb,IAAKI,IAAG,CAACC,QAAQ,IAAID,IAAG,CAACU,OAAO,EAAG;kBACjCR,IAAI,CAACd,GAAG,EAAEY,IAAG,EAAE,KAAK,CAAC;gBACvB;cACF;YAAC,SAAAG,GAAA;cAAAK,UAAA,CAAAJ,CAAA,CAAAD,GAAA;YAAA;cAAAK,UAAA,CAAAH,CAAA;YAAA;UACH;QACF;;QAEA;QACA;MAAA,SAAAF,GAAA;QAAAG,UAAA,CAAAF,CAAA,CAAAD,GAAA;MAAA;QAAAG,UAAA,CAAAD,CAAA;MAAA;MACA,IAAMM,GAAG,GAAGC,OAAO,CAACxB,GAAG,EAAEL,UAAU,CAAC;;MAEpC;MACA4B,GAAG,CAACE,OAAO,CAAC,UAACC,UAAU,EAAK;QAC1B,IAAMC,4BAA4B,GAAGjC,KAAI,CAACF,YAAY,CAACoC,IAAI,CAAC,UAACrB,IAAI,EAAK;UACpE,IAAME,gBAAgB,GAAGF,IAAI,CAACE,gBAAgB,IAAI,EAAE;UAEpD,OAAOA,gBAAgB,CAACmB,IAAI,CAAC,UAACC,MAAM;YAAA,OAAKA,MAAM,CAACA,MAAM,KAAKH,UAAU,CAACG,MAAM,IAAIA,MAAM,CAACP,OAAO;UAAA,EAAC;QACjG,CAAC,CAAC;QAEFI,UAAU,CAACJ,OAAO,GAAG5B,KAAI,CAACF,YAAY,CAACF,MAAM,GAAG,CAAC,IAAIqC,4BAA4B;MACnF,CAAC,CAAC;MAEF,OAAOJ,GAAG,CAACO,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;QAAA,OAAK,CAACA,CAAC,CAACC,MAAM,IAAI,CAAC,KAAKF,CAAC,CAACE,MAAM,IAAI,CAAC,CAAC;MAAA,EAAC;IAC9D;EACF,CAAC;EAEDC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACL;MACA1C,YAAY,EAAE,EAAE;MAChB2C,QAAQ,EAAM;IAChB,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACL;IACA/C,SAAS,WAAAA,UAAA,EAAG;MACV;MACA;;MAEA,IAAMgD,OAAO,GAAG,IAAI,CAAChD,SAAS;MAC9B,IAAMiD,QAAQ,GAAG,EAAE;MAAC,IAAAC,UAAA,GAAArC,0BAAA,CAED,IAAI,CAACV,YAAY;QAAAgD,MAAA;MAAA;QAApC,KAAAD,UAAA,CAAAnC,CAAA,MAAAoC,MAAA,GAAAD,UAAA,CAAAlC,CAAA,IAAAC,IAAA,GAAsC;UAAA,IAA3BC,IAAI,GAAAiC,MAAA,CAAAhC,KAAA;UACb,IAAI,CAAC6B,OAAO,CAACI,QAAQ,CAAClC,IAAI,CAAC,EAAG;YAC5B+B,QAAQ,CAACI,IAAI,CAACnC,IAAI,CAAC;UACrB;QACF;MAAC,SAAAQ,GAAA;QAAAwB,UAAA,CAAAvB,CAAA,CAAAD,GAAA;MAAA;QAAAwB,UAAA,CAAAtB,CAAA;MAAA;MAED,IAAI,CAAC0B,MAAM,CAAC,EAAE,EAAEL,QAAQ,CAAC;IAC3B;EACF,CAAC;EAEDM,OAAO,EAAE;IACPC,WAAW,WAAAA,YAACrC,KAAK,EAAE;MACjB,IAAKA,KAAK,EAAG;QACX,IAAI,CAACmC,MAAM,CAAC,IAAI,CAACtD,SAAS,EAAE,EAAE,CAAC;QAE/B,OAAO,IAAI;MACb,CAAC,MAAM;QACL,IAAI,CAACsD,MAAM,CAAC,EAAE,EAAE,IAAI,CAACtD,SAAS,CAAC;QAE/B,OAAO,KAAK;MACd;IACF,CAAC;IAEDT,cAAc,WAAAA,eAACoC,CAAC,EAAE;MAChB,IAAKrD,OAAO,CAACqD,CAAC,CAAC,IAAI,IAAI,CAAC8B,mBAAmB,CAAC9B,CAAC,CAAC+B,MAAM,CAAC,EAAG;QACtD/B,CAAC,CAACgC,cAAc,CAAC,CAAC;MACpB;IACF,CAAC;IAEDC,eAAe,WAAAA,gBAACjC,CAAC,EAAE;MACjB,IAAMkC,EAAE,GAAGlC,CAAC,CAAC+B,MAAM,CAACI,OAAO,CAAC,IAAI,CAAC;MAEjC,IAAID,EAAE,CAACE,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;QACpC,IAAMC,SAAS,GAAGJ,EAAE,CAACK,sBAAsB;QAE3CD,SAAS,CAACF,SAAS,CAACI,GAAG,CAAC,iBAAiB,CAAC;MAC5C;IACF,CAAC;IAEDC,eAAe,WAAAA,gBAACzC,CAAC,EAAE;MACjB,IAAMkC,EAAE,GAAGlC,CAAC,CAAC+B,MAAM,CAACI,OAAO,CAAC,IAAI,CAAC;MAEjC,IAAID,EAAE,CAACE,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;QACpC,IAAMC,SAAS,GAAGJ,EAAE,CAACK,sBAAsB;QAE3CD,SAAS,CAACF,SAAS,CAACM,MAAM,CAAC,iBAAiB,CAAC;MAC/C;IACF,CAAC;IAEDC,YAAY,WAAAA,aAAC3C,CAAC,EAAE;MACd,IAAM4C,OAAO,GAAG5C,CAAC,CAAC+B,MAAM,CAACa,OAAO;MAChC,IAAMC,GAAG,GAAG7C,CAAC,CAAC+B,MAAM;MACpB,IAAMe,aAAa,GAAGD,GAAG,CAACV,OAAO,CAAC,UAAU,CAAC;MAE7C,IAAKU,GAAG,CAACT,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAG;QAChD;MACF;MAEA,IAAK,CAACS,aAAa,EAAG;QACpB,IACEF,OAAO,KAAK,GAAG,IACfA,OAAO,KAAK,QAAQ,IACpB5F,SAAS,CAAC6F,GAAG,EAAE,MAAM,CAAC,EACtB;UACA;QACF;MACF;MAEA,IAAME,MAAM,GAAG/C,CAAC,CAAC+B,MAAM,CAACI,OAAO,CAAC,IAAI,CAAC;MAErC,OAAO,IAAI,CAACa,UAAU,CAACD,MAAM,CAAC;IAChC,CAAC;IAEDC,UAAU,WAAAA,WAACD,MAAM,EAAE;MAAA,IAAAE,OAAA;QAAAC,MAAA;MACjB,KAAAD,OAAA,GAAKF,MAAM,cAAAE,OAAA,eAANA,OAAA,CAAQb,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAG;QACjD;MACF;MAEA,OAAQU,MAAM,IAAI,CAACA,MAAM,CAACX,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAG;QACzDU,MAAM,GAAGA,MAAM,CAACR,sBAAsB;MACxC;MAEA,IAAK,CAACQ,MAAM,EAAG;QACb;MACF;MAEA,IAAMI,MAAM,GAAGJ,MAAM,CAACK,OAAO,CAACD,MAAM;MAEpC,IAAK,CAACA,MAAM,EAAG;QACb;MACF;MAEA,IAAM5D,IAAI,GAAG,IAAI,CAAClB,SAAS,CAACgF,IAAI,CAAE,UAACC,CAAC;QAAA,OAAKxG,GAAG,CAACwG,CAAC,EAAEJ,MAAI,CAACK,QAAQ,CAAC,KAAKJ,MAAM;MAAA,CAAC,CAAC;MAE3E,OAAO5D,IAAI;IACb,CAAC;IAEK9B,UAAU,WAAAA,WAACuC,CAAC,EAAE;MAAA,IAAAwD,MAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAArE,IAAA,EAAAsE,EAAA,EAAAC,UAAA,EAAAC,SAAA,EAAAC,UAAA,EAAAC,QAAA,EAAA5C,OAAA,EAAAyB,aAAA,EAAAoB,SAAA,EAAAC,CAAA,EAAAC,UAAA,EAAAjD,QAAA,EAAAkD,QAAA;QAAA,OAAAX,mBAAA,CAAAY,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACZnF,IAAI,GAAGiE,MAAI,CAACb,YAAY,CAAC3C,CAAC,CAAC;cAC3B6D,EAAE,GAAG7D,CAAC,CAAC+B,MAAM,CAACI,OAAO,CAAC,IAAI,CAAC;cAC3B2B,UAAU,GAAGD,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEzB,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC;cAAA,KAEpDyB,UAAU;gBAAAU,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAG,MAAA;YAAA;cAGRZ,SAAS,GAAGP,MAAI,CAAChF,YAAY;cAC7BwF,UAAU,GAAGR,MAAI,CAAC1B,mBAAmB,CAAC9B,CAAC,CAAC+B,MAAM,CAAC,KAAI8B,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEzB,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC;cACtF4B,QAAQ,GAAGJ,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEzB,SAAS,CAACC,QAAQ,CAAC,YAAY,CAAC;cAC/ChB,OAAO,GAAGmC,MAAI,CAACnF,SAAS;cAE9BmF,MAAI,CAACoB,KAAK,CAAC,UAAU,EAAE5E,CAAC,CAAC;cAAC,IAEpBT,IAAI;gBAAAiF,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAG,MAAA;YAAA;cAAA,KAILV,QAAQ;gBAAAO,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACXlB,MAAI,CAACqB,YAAY,CAACtF,IAAI,CAAC;cAAC,OAAAiF,QAAA,CAAAG,MAAA;YAAA;cAKpB7B,aAAa,GAAG9C,CAAC,CAAC+B,MAAM,CAACI,OAAO,CAAC,UAAU,CAAC;cAAA,KAE7CW,aAAa;gBAAA0B,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACZR,SAAS,GAAG,CAAC3E,IAAI,CAAC;cAAA,KAEjBiE,MAAI,CAACsB,qBAAqB;gBAAAN,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACvBP,CAAC,GAAGrB,aAAa,CAACvF,aAAa,CAAC,GAAG,CAAC;cAE1C4G,CAAC,CAAC/B,SAAS,CAACM,MAAM,CAAC,cAAc,CAAC;cAClCyB,CAAC,CAAC/B,SAAS,CAACI,GAAG,CAAC,cAAc,CAAC;cAC/B2B,CAAC,CAAC/B,SAAS,CAACI,GAAG,CAAC,WAAW,CAAC;cAACgC,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGTlB,MAAI,CAACsB,qBAAqB,CAACZ,SAAS,CAAC;YAAA;cAAvDA,SAAS,GAAAM,QAAA,CAAAO,IAAA;YAAA;cAAAP,QAAA,CAAAC,IAAA;cAETN,CAAC,CAAC/B,SAAS,CAACM,MAAM,CAAC,cAAc,CAAC;cAClCyB,CAAC,CAAC/B,SAAS,CAACM,MAAM,CAAC,WAAW,CAAC;cAC/ByB,CAAC,CAAC/B,SAAS,CAACI,GAAG,CAAC,cAAc,CAAC;cAAC,OAAAgC,QAAA,CAAAQ,MAAA;YAAA;cAIpCxB,MAAI,CAACyB,MAAM,CAACC,MAAM,qBAAqB;gBACrChB,SAAS,EAATA,SAAS;gBACTiB,KAAK,EAAEnF,CAAC;gBACRoF,IAAI,EAAGtC;cACT,CAAC,CAAC;cAAC,OAAA0B,QAAA,CAAAG,MAAA;YAAA;cAKCP,UAAU,GAAGL,SAAS,CAACtC,QAAQ,CAAClC,IAAI,CAAC;cACvC4B,QAAQ,GAAGqC,MAAI,CAACrC,QAAQ,EAE5B;cACA,IAAK,CAACA,QAAQ,IAAI,CAACE,OAAO,CAACI,QAAQ,CAACN,QAAQ,CAAC,EAAG;gBAC9CA,QAAQ,GAAG5B,IAAI;cACjB;cAEA,IAAK7C,MAAM,CAACsD,CAAC,CAAC,EAAG;gBACfwD,MAAI,CAAC6B,MAAM,CAAC9F,IAAI,CAAC;cACnB,CAAC,MAAM,IAAK5C,OAAO,CAACqD,CAAC,CAAC,EAAG;gBACjBqE,QAAQ,GAAGb,MAAI,CAAC8B,YAAY,CAACnE,QAAQ,EAAE5B,IAAI,CAAC;gBAElD,IAAK6E,UAAU,EAAG;kBAChBZ,MAAI,CAAC7B,MAAM,CAAC,EAAE,EAAE0C,QAAQ,CAAC;gBAC3B,CAAC,MAAM;kBACLb,MAAI,CAAC7B,MAAM,CAAC0C,QAAQ,EAAE,EAAE,CAAC;gBAC3B;cACF,CAAC,MAAM,IAAKL,UAAU,EAAG;gBACvBR,MAAI,CAAC6B,MAAM,CAAC9F,IAAI,CAAC;cACnB,CAAC,MAAM;gBACLiE,MAAI,CAAC7B,MAAM,CAAC,CAACpC,IAAI,CAAC,EAAE8B,OAAO,CAAC;cAC9B;cAEAmC,MAAI,CAACrC,QAAQ,GAAG5B,IAAI;YAAC;YAAA;cAAA,OAAAiF,QAAA,CAAAe,IAAA;UAAA;QAAA,GAAA3B,OAAA;MAAA;IACvB,CAAC;IAEK9F,YAAY,WAAAA,aAACkC,CAAC,EAAE;MAAA,IAAAwF,MAAA;MAAA,OAAA/B,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAA8B,SAAA;QAAA,IAAAlG,IAAA,EAAA6E,UAAA,EAAAF,SAAA;QAAA,OAAAR,mBAAA,CAAAY,IAAA,UAAAoB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA;YAAA;cACdnF,IAAI,GAAGiG,MAAI,CAAC7C,YAAY,CAAC3C,CAAC,CAAC;cAAA,KAE5BpD,mBAAmB,CAACoD,CAAC,CAAC;gBAAA2F,SAAA,CAAAjB,IAAA;gBAAA;cAAA;cAAA,OAAAiB,SAAA,CAAAhB,MAAA;YAAA;cAAA,IAIrBpF,IAAI;gBAAAoG,SAAA,CAAAjB,IAAA;gBAAA;cAAA;cAAA,OAAAiB,SAAA,CAAAhB,MAAA;YAAA;cAIV3E,CAAC,CAACgC,cAAc,CAAC,CAAC;cAClBhC,CAAC,CAAC4F,eAAe,CAAC,CAAC;cAEnBJ,MAAI,CAACrE,QAAQ,GAAG5B,IAAI;cACd6E,UAAU,GAAGoB,MAAI,CAAChH,YAAY,CAACiD,QAAQ,CAAClC,IAAI,CAAC;cAEnD,IAAK,CAAC6E,UAAU,EAAG;gBACjBoB,MAAI,CAAC7D,MAAM,CAAC,CAACpC,IAAI,CAAC,EAAEiG,MAAI,CAAChH,YAAY,CAACqH,KAAK,CAAC,CAAC,CAAC;cAChD;cAEI3B,SAAS,GAAGsB,MAAI,CAAChH,YAAY;cAAA,KAE5BgH,MAAI,CAACV,qBAAqB;gBAAAa,SAAA,CAAAjB,IAAA;gBAAA;cAAA;cAAAiB,SAAA,CAAAjB,IAAA;cAAA,OACXc,MAAI,CAACV,qBAAqB,CAACZ,SAAS,CAAC;YAAA;cAAvDA,SAAS,GAAAyB,SAAA,CAAAZ,IAAA;YAAA;cAGXS,MAAI,CAACP,MAAM,CAACC,MAAM,qBAAqB;gBACrChB,SAAS,EAATA,SAAS;gBACTiB,KAAK,EAAEnF;cACT,CAAC,CAAC;YAAC;YAAA;cAAA,OAAA2F,SAAA,CAAAJ,IAAA;UAAA;QAAA,GAAAE,QAAA;MAAA;IACL,CAAC;IAEDK,YAAY,WAAAA,aAACC,GAAG,EAAgB;MAAA,IAAdC,IAAI,GAAAC,SAAA,CAAA3H,MAAA,QAAA2H,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAAK;MAC5B,IAAM1G,IAAI,GAAG,IAAI,CAACyD,UAAU,CAAC+C,GAAG,CAAC;MACjC,IAAM1E,OAAO,GAAG,IAAI,CAAChD,SAAS;MAE9B,IAAK,CAACkB,IAAI,EAAG;QACX;MACF;MAEA,IAAKyG,IAAI,EAAG;QACV,IAAI,CAACrE,MAAM,CAAC,CAACpC,IAAI,CAAC,EAAE,EAAE,CAAC;MACzB,CAAC,MAAM;QACL,IAAI,CAACoC,MAAM,CAAC,CAACpC,IAAI,CAAC,EAAE8B,OAAO,CAAC;MAC9B;MAEA,IAAI,CAACF,QAAQ,GAAG5B,IAAI;IACtB,CAAC;IAEDuC,mBAAmB,WAAAA,oBAACqE,OAAO,EAAE;MAC3B,OAAOA,OAAO,CAACvD,OAAO,KAAK,OAAO,IAChCuD,OAAO,CAACC,IAAI,KAAK,UAAU,IAC3BD,OAAO,CAAChE,OAAO,CAAC,qBAAqB,CAAC,KAAK,IAAI;IACnD,CAAC;IAEDmD,YAAY,WAAAA,aAACvE,CAAC,EAAEC,CAAC,EAAE;MAAA,IAAAqF,MAAA;MACjB,IAAIhC,QAAQ,GAAG,EAAE;MACjB,IAAMiC,GAAG,GAAG,IAAI,CAACC,OAAO;MAExB,IAAKD,GAAG,EAAG;QACT;QACA,IAAME,OAAO,GAAG,IAAI,CAACC,WAAW;QAEhC,IAAIC,IAAI,GAAG,IAAI,CAACC,QAAQ,CAAC5F,CAAC,CAAC;QAC3B,IAAI6F,EAAE,GAAG,IAAI,CAACD,QAAQ,CAAC3F,CAAC,CAAC;QAEzB,IAAK,CAAC0F,IAAI,IAAI,CAACE,EAAE,EAAG;UAClB,OAAO,EAAE;QACX;;QAEA;QACA,IAAMF,IAAI,CAACG,KAAK,GAAGD,EAAE,CAACC,KAAK,IAAOH,IAAI,CAACG,KAAK,KAAKD,EAAE,CAACC,KAAK,IAAMH,IAAI,CAACI,IAAI,GAAGF,EAAE,CAACE,IAAM,EAAG;UAAA,IAAAC,IAAA,GACxE,CAACH,EAAE,EAAEF,IAAI,CAAC;UAAtBA,IAAI,GAAAK,IAAA;UAAEH,EAAE,GAAAG,IAAA;QACX;QAEA,KAAM,IAAI5C,CAAC,GAAGuC,IAAI,CAACG,KAAK,EAAG1C,CAAC,IAAIyC,EAAE,CAACC,KAAK,EAAG1C,CAAC,EAAE,EAAG;UAC/C,IAAM6C,KAAK,GAAGR,OAAO,CAACrC,CAAC,CAAC,CAAC8C,IAAI;UAC7B,IAAIC,CAAC,GAAIR,IAAI,CAACG,KAAK,KAAK1C,CAAC,GAAGuC,IAAI,CAACI,IAAI,GAAG,CAAE;UAE1C,OAAQE,KAAK,CAACE,CAAC,CAAC,KAAM/C,CAAC,GAAGyC,EAAE,CAACC,KAAK,IAAIK,CAAC,IAAIN,EAAE,CAACE,IAAI,CAAE,EAAE;YACpDzC,QAAQ,CAAC3C,IAAI,CAACsF,KAAK,CAACE,CAAC,CAAC,CAAC;YACvBA,CAAC,EAAE;UACL;QACF;MACF,CAAC,MAAM;QACL;QACA,IAAM7F,OAAO,GAAG,IAAI,CAAChD,SAAS;QAC9B,IAAIqI,KAAI,GAAGrF,OAAO,CAAC8F,OAAO,CAACpG,CAAC,CAAC;QAC7B,IAAI6F,GAAE,GAAGvF,OAAO,CAAC8F,OAAO,CAACnG,CAAC,CAAC;QAAC,IAAAoG,KAAA,GAEf,CAACC,IAAI,CAACC,GAAG,CAACZ,KAAI,EAAEE,GAAE,CAAC,EAAES,IAAI,CAACE,GAAG,CAACb,KAAI,EAAEE,GAAE,CAAC,CAAC;QAApDF,KAAI,GAAAU,KAAA;QAAER,GAAE,GAAAQ,KAAA;QACT/C,QAAQ,GAAGhD,OAAO,CAACwE,KAAK,CAACa,KAAI,EAAEE,GAAE,GAAG,CAAC,CAAC;MACxC;;MAEA;MACAvC,QAAQ,GAAGA,QAAQ,CAACmD,MAAM,CAAC,UAACV,IAAI;QAAA,OAAK,CAACT,MAAI,CAAC7H,YAAY,CAACiD,QAAQ,CAACqF,IAAI,CAAC;MAAA,EAAC;MAEvE,OAAOzC,QAAQ;IACjB,CAAC;IAEDsC,QAAQ,WAAAA,SAACpH,IAAI,EAAE;MACb,IAAMiH,OAAO,GAAG,IAAI,CAACC,WAAW;MAEhC,KAAM,IAAItC,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAGqC,OAAO,CAAClI,MAAM,EAAG6F,CAAC,EAAE,EAAG;QAC3C,IAAM8C,IAAI,GAAGT,OAAO,CAACrC,CAAC,CAAC,CAAC8C,IAAI;QAE5B,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAGD,IAAI,CAAC3I,MAAM,EAAG4I,CAAC,EAAE,EAAG;UACxC,IAAKD,IAAI,CAACC,CAAC,CAAC,KAAK3H,IAAI,EAAG;YACtB,OAAO;cACLsH,KAAK,EAAE1C,CAAC;cACR2C,IAAI,EAAGI;YACT,CAAC;UACH;QACF;MACF;MAEA,OAAO,IAAI;IACb,CAAC;IAED7B,MAAM,WAAAA,OAAC9F,IAAI,EAAE;MACX,IAAMiD,GAAG,GAAG,EAAE;MACd,IAAME,MAAM,GAAG,EAAE;MAEjB,IAAI,IAAI,CAAClE,YAAY,CAACiD,QAAQ,CAAClC,IAAI,CAAC,EAAE;QACpCmD,MAAM,CAAChB,IAAI,CAACnC,IAAI,CAAC;MACnB,CAAC,MAAM;QACLiD,GAAG,CAACd,IAAI,CAACnC,IAAI,CAAC;MAChB;MAEA,IAAI,CAACoC,MAAM,CAACa,GAAG,EAAEE,MAAM,CAAC;IAC1B,CAAC;IAEDf,MAAM,WAAAA,OAAC8F,KAAK,EAAEnG,QAAQ,EAAE;MAAA,IAAAoG,MAAA;MACtBpG,QAAQ,CAACb,OAAO,CAAC,UAACsF,GAAG,EAAK;QACxB,IAAM4B,KAAK,GAAGD,MAAI,CAAClJ,YAAY,CAACoJ,SAAS,CAAC,UAACC,CAAC;UAAA,OAAKA,CAAC,KAAK9B,GAAG;QAAA,EAAC;QAE3D,IAAI4B,KAAK,KAAK,CAAC,CAAC,EAAE;UAChBD,MAAI,CAAClJ,YAAY,CAACsJ,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;QACpC;MACF,CAAC,CAAC;MAEF,IAAKF,KAAK,EAAG;QAAA,IAAAM,kBAAA;QACX,CAAAA,kBAAA,OAAI,CAACvJ,YAAY,EAACkD,IAAI,CAAAsG,KAAA,CAAAD,kBAAA,EAAAE,kBAAA,CAAIR,KAAK,EAAC;MAClC;;MAEA;MACA,IAAInG,QAAQ,CAAChD,MAAM,EAAE;QACnB,IAAI,CAAC4J,SAAS,CAAC,YAAM;UACnB,KAAM,IAAI/D,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAG7C,QAAQ,CAAChD,MAAM,EAAG6F,CAAC,EAAE,EAAG;YAC5CuD,MAAI,CAACS,WAAW,CAAC7G,QAAQ,CAAC6C,CAAC,CAAC,EAAE,KAAK,EAAEuD,MAAI,CAACnE,QAAQ,CAAC;UACrD;QACF,CAAC,CAAC;MACJ;MAEA,IAAIkE,KAAK,CAACnJ,MAAM,EAAE;QAChB,IAAI,CAAC4J,SAAS,CAAC,YAAM;UACnB,KAAM,IAAI/D,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAGsD,KAAK,CAACnJ,MAAM,EAAG6F,CAAC,EAAE,EAAG;YACzCuD,MAAI,CAACS,WAAW,CAACV,KAAK,CAACtD,CAAC,CAAC,EAAE,IAAI,EAAEuD,MAAI,CAACnE,QAAQ,CAAC;UACjD;QACF,CAAC,CAAC;MACJ;MAEA,IAAI,CAAC2E,SAAS,CAAC,YAAM;QACnBR,MAAI,CAAC9C,KAAK,CAAC,WAAW,EAAE8C,MAAI,CAAClJ,YAAY,CAAC;MAC5C,CAAC,CAAC;IACJ,CAAC;IAED2J,WAAW,WAAAA,YAAC5I,IAAI,EAAE6I,EAAE,EAAE7E,QAAQ,EAAE;MAC9B,IAAM8E,EAAE,GAAGvL,GAAG,CAACyC,IAAI,EAAEgE,QAAQ,CAAC;MAE9B,IAAK8E,EAAE,EAAG;QACR;QACA,IAAMC,KAAK,GAAG,IAAI,CAAChL,GAAG,CAACC,aAAa,2CAAAgL,MAAA,CAA2CF,EAAE,QAAK,CAAC;QAEvF,IAAKC,KAAK,IAAI,CAACA,KAAK,CAACE,QAAQ,EAAG;UAC9B,IAAMC,KAAK,GAAGH,KAAK,CAAC/K,aAAa,CAAC,OAAO,CAAC;UAE1C,IAAIkL,KAAK,EAAE;YACTA,KAAK,CAACjJ,KAAK,GAAG4I,EAAE;UAClB;UACA,IAAIlG,EAAE,GAAGoG,KAAK,CAACnG,OAAO,CAAC,IAAI,CAAC;UAC5B,IAAIuG,KAAK,GAAG,IAAI;UAEhB,OAAQxG,EAAE,KAAKwG,KAAK,IAAIxG,EAAE,CAACE,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,CAAE,EAAG;YAC3D,IAAI+F,EAAE,EAAE;cACNlG,EAAE,CAACE,SAAS,CAACI,GAAG,CAAC,cAAc,CAAC;YAClC,CAAC,MAAM;cACLN,EAAE,CAACE,SAAS,CAACM,MAAM,CAAC,cAAc,CAAC;YACrC;YACAR,EAAE,GAAGA,EAAE,CAACyG,kBAAkB;YAC1BD,KAAK,GAAG,KAAK;UACf;QACF;MACF;IACF,CAAC;IAEDE,MAAM,WAAAA,OAACC,KAAK,EAAE;MAAA,IAAAC,MAAA;MACZD,KAAK,CAACpI,OAAO,CAAC,UAAClB,IAAI,EAAK;QACtB,IAAM8I,EAAE,GAAGvL,GAAG,CAACyC,IAAI,EAAEuJ,MAAI,CAACvF,QAAQ,CAAC;QACnC,IAAM+E,KAAK,GAAGQ,MAAI,CAACxL,GAAG,CAACC,aAAa,yBAAAgL,MAAA,CAAyBF,EAAE,QAAK,CAAC;QAErEC,KAAK,CAACS,aAAa,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;MACzC,CAAC,CAAC;IACJ,CAAC;IAEDC,gBAAgB,WAAAA,iBAACpI,MAAM,EAAEqI,IAAI,EAAE/D,KAAK,EAAE;MACpC,IAAMgE,IAAI,GAAG;QAAEC,GAAG,EAAEjE,KAAK,IAAItI,WAAW,CAACsI,KAAK,CAAC;QAAEA,KAAK,EAALA;MAAM,CAAC;;MAExD;MACA,IAAMkE,mBAAmB,GAAG,IAAI,CAAC7K,YAAY,CAACgJ,MAAM,CAAC,UAACzB,GAAG,EAAK;QAC5D,IAAMuD,sBAAsB,GAAGvD,GAAG,CAACtG,gBAAgB,CAAC4D,IAAI,CAAC,UAACtC,CAAC;UAAA,OAAKA,CAAC,CAACF,MAAM,KAAKA,MAAM,CAACA,MAAM;QAAA,EAAC;QAE3F,OAAOyI,sBAAsB,aAAtBA,sBAAsB,uBAAtBA,sBAAsB,CAAEhJ,OAAO;MACxC,CAAC,CAAC;MAEFiJ,QAAQ,CAACF,mBAAmB,EAAExI,MAAM,EAAEqI,IAAI,EAAEC,IAAI,EAAE,IAAI,CAAC;MAEvD,IAAI,CAACK,gBAAgB,GAAG,IAAI;IAC9B,CAAC;IAEDC,cAAc,WAAAA,eAAA,EAAG;MACf,IAAI,CAAC9H,MAAM,CAAC,EAAE,EAAE,IAAI,CAACnD,YAAY,CAAC;IACpC;EAEF;AACF,CAAC;;AAED;AACA;AACA;;AAEA,IAAIkL,IAAI,GAAG,CAAC;AAEZ,SAAS5J,IAAIA,CAACd,GAAG,EAAEY,GAAG,EAA0B;EAAA,IAAxB+J,eAAe,GAAA1D,SAAA,CAAA3H,MAAA,QAAA2H,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI;EAC5C,IAAIoC,EAAE,GAAGzI,GAAG,CAACiB,MAAM;EAEnB,IAAK,CAACwH,EAAE,EAAG;IACTA,EAAE,UAAAE,MAAA,CAAWmB,IAAI,CAAG;IACpBA,IAAI,EAAE;EACR;EAEA,IAAIE,GAAG,GAAG5K,GAAG,CAACqJ,EAAE,CAAC;EAEjB,IAAK,CAACuB,GAAG,EAAG;IACVA,GAAG,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAElK,GAAG,CAAC;IAC5BZ,GAAG,CAACqJ,EAAE,CAAC,GAAGuB,GAAG;IACbA,GAAG,CAACG,UAAU,GAAG,KAAK;EACxB;EAEA,IAAK,CAACnK,GAAG,CAACU,OAAO,EAAG;IAClBsJ,GAAG,CAACG,UAAU,GAAG,KAAK;EACxB,CAAC,MAAM;IACLH,GAAG,CAACI,UAAU,GAAG,IAAI;EACvB;EAEA,IAAKL,eAAe,EAAG;IACrBC,GAAG,CAACK,SAAS,GAAG,CAACL,GAAG,CAACK,SAAS,IAAI,CAAC,KAAK,CAACrK,GAAG,CAACU,OAAO,GAAG,CAAC,GAAG,CAAC,CAAE;IAC9DsJ,GAAG,CAACxL,KAAK,GAAG,CAACwL,GAAG,CAACxL,KAAK,IAAI,CAAC,IAAI,CAAC;EAClC;EAEA,OAAOwL,GAAG;AACZ;AAEA,SAASpJ,OAAOA,CAACxB,GAAG,EAAsB;EAAA,IAApBL,UAAU,GAAAsH,SAAA,CAAA3H,MAAA,QAAA2H,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAAK;EACtC,IAAM1F,GAAG,GAAGxD,QAAQ,CAAC8M,MAAM,CAACK,MAAM,CAAClL,GAAG,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC;EAAC,IAAAmL,UAAA,GAAAjL,0BAAA,CAE1CqB,GAAG;IAAA6J,MAAA;EAAA;IAAtB,KAAAD,UAAA,CAAA/K,CAAA,MAAAgL,MAAA,GAAAD,UAAA,CAAA9K,CAAA,IAAAC,IAAA,GAAyB;MAAA,IAAbM,GAAG,GAAAwK,MAAA,CAAA5K,KAAA;MACb,IAAKb,UAAU,EAAG;QAChBiB,GAAG,CAACU,OAAO,GAAG,KAAK;MACrB,CAAC,MAAM;QACLV,GAAG,CAACU,OAAO,GAAKV,GAAG,CAACqK,SAAS,IAAIrK,GAAG,CAACxB,KAAO;MAC9C;IACF;EAAC,SAAA2B,GAAA;IAAAoK,UAAA,CAAAnK,CAAA,CAAAD,GAAA;EAAA;IAAAoK,UAAA,CAAAlK,CAAA;EAAA;EAED,OAAOM,GAAG;AACZ;AAEA,SAASgJ,QAAQA,CAACrF,SAAS,EAAErD,MAAM,EAAEqI,IAAI,EAAkB;EAAA,IAAhBC,IAAI,GAAAlD,SAAA,CAAA3H,MAAA,QAAA2H,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEoE,GAAG,GAAApE,SAAA,CAAA3H,MAAA,OAAA2H,SAAA,MAAAC,SAAA;EACvDgD,IAAI,GAAGA,IAAI,IAAI,EAAE;;EAEjB;EACA,IAAIrI,MAAM,CAACyJ,MAAM,EAAE;IACjB,IAAMC,UAAU,GAAG;MACjB1J,MAAM,EAANA,MAAM;MACNsE,KAAK,EAAEgE,IAAI,CAAChE,KAAK;MACjBqF,KAAK,EAAE,CAAC,CAACrB,IAAI,CAACC;IAChB,CAAC;IAED,OAAOvI,MAAM,CAACyJ,MAAM,CAACtC,KAAK,CAACqC,GAAG,EAAE,CAACE,UAAU,EAAErG,SAAS,IAAI,EAAE,EAAEgF,IAAI,CAAC,CAAC;EACtE;EAEA,IAAKhF,SAAS,CAAC5F,MAAM,GAAG,CAAC,IAAIuC,MAAM,CAACH,UAAU,IAAI,CAACyI,IAAI,CAACC,GAAG,EAAG;IAC5D,IAAMqB,EAAE,GAAGvG,SAAS,CAAC,CAAC,CAAC,CAACrD,MAAM,CAACH,UAAU,CAAC;IAE1C,IAAK+J,EAAE,EAAG;MACR,OAAOA,EAAE,CAACC,IAAI,CAAA1C,KAAA,CAAPyC,EAAE,GAAMvG,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,EAAAqE,MAAA,CAAAN,kBAAA,CAAKiB,IAAI,GAAC;IAClD;EACF;EAEA,IAAMyB,QAAQ,GAAG,EAAE;EAAC,IAAAC,UAAA,GAAA1L,0BAAA,CAEIgF,SAAS;IAAA2G,MAAA;EAAA;IAAjC,KAAAD,UAAA,CAAAxL,CAAA,MAAAyL,MAAA,GAAAD,UAAA,CAAAvL,CAAA,IAAAC,IAAA,GAAoC;MAAA,IAAxBwL,QAAQ,GAAAD,MAAA,CAAArL,KAAA;MAClB,IAAIiL,GAAE;MAEN,IAAItB,IAAI,CAACC,GAAG,IAAIvI,MAAM,CAACkK,SAAS,EAAE;QAChCN,GAAE,GAAGK,QAAQ,CAACjK,MAAM,CAACkK,SAAS,CAAC;MACjC,CAAC,MAAM;QACLN,GAAE,GAAGK,QAAQ,CAACjK,MAAM,CAACA,MAAM,CAAC;MAC9B;MAEA,IAAK4J,GAAE,EAAG;QACRE,QAAQ,CAACjJ,IAAI,CAAC+I,GAAE,CAACzC,KAAK,CAAC8C,QAAQ,EAAE5B,IAAI,CAAC,CAAC;MACzC;IACF;EAAC,SAAAnJ,GAAA;IAAA6K,UAAA,CAAA5K,CAAA,CAAAD,GAAA;EAAA;IAAA6K,UAAA,CAAA3K,CAAA;EAAA;EAED,OAAO+K,OAAO,CAACpM,GAAG,CAAC+L,QAAQ,CAAC;AAC9B","ignoreList":[]}]}