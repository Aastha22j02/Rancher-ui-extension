{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBUYWJiZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFR5cGVEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UeXBlRGVzY3JpcHRpb24nOwppbXBvcnQgUmVzb3VyY2VUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVRhYmxlJzsKaW1wb3J0IHsgTU9OSVRPUklORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZywKICAgIFRhYmJlZDogVGFiYmVkLAogICAgVGFiOiBUYWIsCiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlLAogICAgVHlwZURlc2NyaXB0aW9uOiBUeXBlRGVzY3JpcHRpb24KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfdGhpcy5wb2RNb25pdG9yU2NoZW1hID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oTU9OSVRPUklORy5QT0RNT05JVE9SKTsKICAgICAgICAgICAgX3RoaXMuc2VydmljZU1vbml0b3JTY2hlbWEgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShNT05JVE9SSU5HLlNFUlZJQ0VNT05JVE9SKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKHsKICAgICAgICAgICAgICBwb2RNb25pdG9yczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBNT05JVE9SSU5HLlBPRE1PTklUT1IKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBzZXJ2aWNlTW9uaXRvcnM6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTU9OSVRPUklORy5TRVJWSUNFTU9OSVRPUgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBoYXNoID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMucG9kTW9uaXRvcnMgPSBoYXNoLnBvZE1vbml0b3JzOwogICAgICAgICAgICBfdGhpcy5zZXJ2aWNlTW9uaXRvcnMgPSBoYXNoLnNlcnZpY2VNb25pdG9yczsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBpbml0VGFiID0gdGhpcy4kcm91dGUucXVlcnkucmVzb3VyY2UgfHwgTU9OSVRPUklORy5TUE9PRkVELlBPRE1PTklUT1I7CiAgICByZXR1cm4gewogICAgICBwb2RNb25pdG9yczogW10sCiAgICAgIHNlcnZpY2VNb25pdG9yczogW10sCiAgICAgIHBvZE1vbml0b3JTY2hlbWE6IG51bGwsCiAgICAgIHNlcnZpY2VNb25pdG9yU2NoZW1hOiBudWxsLAogICAgICBpbml0VGFiOiBpbml0VGFiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNyZWF0ZVJvdXRlOiBmdW5jdGlvbiBjcmVhdGVSb3V0ZSgpIHsKICAgICAgdmFyIF90aGlzJCRyZWZzOwogICAgICB2YXIgYWN0aXZlUmVzb3VyY2UgPSAoKF90aGlzJCRyZWZzID0gdGhpcy4kcmVmcykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMgPT09IHZvaWQgMCB8fCAoX3RoaXMkJHJlZnMgPSBfdGhpcyQkcmVmcy50YWJzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMuYWN0aXZlVGFiTmFtZSkgfHwgdGhpcy5yb3V0ZVNjaGVtYS5pZDsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLW1vbml0b3JpbmctbW9uaXRvci1jcmVhdGUnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm91dGUucGFyYW1zLmNsdXN0ZXIKICAgICAgICB9LAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZXNvdXJjZTogYWN0aXZlUmVzb3VyY2UKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Loading","Tabbed","Tab","TypeDescription","ResourceTable","MONITORING","allHash","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","podMonitorSchema","$store","getters","PODMONITOR","serviceMonitorSchema","SERVICEMONITOR","podMonitors","dispatch","type","serviceMonitors","sent","stop","data","initTab","$route","query","resource","SPOOFED","computed","createRoute","_this$$refs","activeResource","$refs","tabs","activeTabName","routeSchema","id","name","params","cluster"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { MONITORING } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nexport default {\n  components: {\n    Loading, Tabbed, Tab, ResourceTable, TypeDescription\n  },\n\n  async fetch() {\n    this.podMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.PODMONITOR);\n    this.serviceMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR);\n\n    const hash = await allHash( {\n      podMonitors:     this.$store.dispatch('cluster/findAll', { type: MONITORING.PODMONITOR } ),\n      serviceMonitors: this.$store.dispatch('cluster/findAll', { type: MONITORING.SERVICEMONITOR } )\n    });\n\n    this.podMonitors = hash.podMonitors;\n    this.serviceMonitors = hash.serviceMonitors;\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.PODMONITOR;\n\n    return {\n      podMonitors: [], serviceMonitors: [], podMonitorSchema: null, serviceMonitorSchema: null, initTab\n    };\n  },\n\n  computed: {\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-monitor-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-40\">\n      <h1>  {{ t('monitoring.monitors') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.createFromYaml') }}\n        </button>\n      </div>\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"podMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](podMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"podMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"podMonitorSchema\"\n          :rows=\"podMonitors\"\n        />\n      </Tab>\n      <Tab\n        :name=\"serviceMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](serviceMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"serviceMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"serviceMonitorSchema\"\n          :rows=\"serviceMonitors\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n"],"mappings":";;;AACA,OAAAA,OAAA;AACA,OAAAC,MAAA;AACA,OAAAC,GAAA;AACA,OAAAC,eAAA;AAEA,OAAAC,aAAA;AACA,SAAAC,UAAA;AACA,SAAAC,OAAA;AACA;EACAC,UAAA;IACAP,OAAA,EAAAA,OAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAC,GAAA,EAAAA,GAAA;IAAAE,aAAA,EAAAA,aAAA;IAAAD,eAAA,EAAAA;EACA;EAEAK,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAV,KAAA,CAAAW,gBAAA,GAAAX,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAkB,UAAA;YACAd,KAAA,CAAAe,oBAAA,GAAAf,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAoB,cAAA;YAAAR,QAAA,CAAAE,IAAA;YAAA,OAEAb,OAAA;cACAoB,WAAA,EAAAjB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAkB;cAAA;cACAM,eAAA,EAAApB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAoB;cAAA;YACA;UAAA;YAHAX,IAAA,GAAAG,QAAA,CAAAa,IAAA;YAKArB,KAAA,CAAAiB,WAAA,GAAAZ,IAAA,CAAAY,WAAA;YACAjB,KAAA,CAAAoB,eAAA,GAAAf,IAAA,CAAAe,eAAA;UAAA;UAAA;YAAA,OAAAZ,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAlB,OAAA;IAAA;EACA;EAEAmB,IAAA,WAAAA,KAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,IAAA/B,UAAA,CAAAgC,OAAA,CAAAd,UAAA;IAEA;MACAG,WAAA;MAAAG,eAAA;MAAAT,gBAAA;MAAAI,oBAAA;MAAAS,OAAA,EAAAA;IACA;EACA;EAEAK,QAAA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,WAAA;MACA,IAAAC,cAAA,KAAAD,WAAA,QAAAE,KAAA,cAAAF,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAG,IAAA,cAAAH,WAAA,uBAAAA,WAAA,CAAAI,aAAA,UAAAC,WAAA,CAAAC,EAAA;MAEA;QACAC,IAAA;QACAC,MAAA;UAAAC,OAAA,OAAAf,MAAA,CAAAc,MAAA,CAAAC;QAAA;QACAd,KAAA;UAAAC,QAAA,EAAAK;QAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}