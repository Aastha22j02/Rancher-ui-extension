{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFBlcnNpc3RlbnRWb2x1bWVDbGFpbSBmcm9tICdAc2hlbGwvZWRpdC93b3JrbG9hZC9zdG9yYWdlL3BlcnNpc3RlbnRWb2x1bWVDbGFpbS9wZXJzaXN0ZW50dm9sdW1lY2xhaW0nOwppbXBvcnQgeyBQVkMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdCwKICAgIFBlcnNpc3RlbnRWb2x1bWVDbGFpbTogUGVyc2lzdGVudFZvbHVtZUNsYWltLAogICAgQ2hlY2tib3g6IENoZWNrYm94CiAgfSwKICBwcm9wczogewogICAgcG9kU3BlYzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY3JlYXRlJwogICAgfSwKICAgIG5hbWVzcGFjZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIC8vIGFycmF5IG9mIGV4aXN0aW5nIHBlcnNpc3RlbnQgdm9sdW1lIGNsYWltcwogICAgcHZjczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgcmVnaXN0ZXJCZWZvcmVIb29rOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc2F2ZVB2Y0hvb2tOYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuYW1lc3BhY2UsIGRhdGEsIHB2YzsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghX3RoaXMudmFsdWUuX19uZXdQdmMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgbmFtZXNwYWNlID0gX3RoaXMubmFtZXNwYWNlIHx8IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydkZWZhdWx0TmFtZXNwYWNlJ107CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgdHlwZTogUFZDCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGRhdGEubWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvY3JlYXRlJywgZGF0YSk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHB2YyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHB2Yy5hcHBseURlZmF1bHRzKCk7CiAgICAgICAgICAgIF90aGlzLiRzZXQoX3RoaXMudmFsdWUsICdfX25ld1B2YycsIHB2Yyk7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7CiAgICAvLyB3aGV0aGVyIHRoaXMgaXMgY3JlYXRpbmcgYSBuZXcgUFZDIG9yIHJlZmVyZW5jaW5nIGFuIGV4aXN0aW5nIG9uZQogICAgY3JlYXRlTmV3OiBmdW5jdGlvbiBjcmVhdGVOZXcoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLl90eXBlID09PSAnY3JlYXRlUFZDJzsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKHsKICAgIHQ6ICdpMThuL3QnCiAgfSkpLAogIHdhdGNoOiB7CiAgICBuYW1lc3BhY2U6IGZ1bmN0aW9uIG5hbWVzcGFjZShuZXUpIHsKICAgICAgdGhpcy52YWx1ZS5fX25ld1B2Yy5tZXRhZGF0YS5uYW1lc3BhY2UgPSBuZXU7CiAgICB9LAogICAgJ3ZhbHVlLl9fbmV3UHZjLm1ldGFkYXRhLm5hbWUnOiBmdW5jdGlvbiB2YWx1ZV9fbmV3UHZjTWV0YWRhdGFOYW1lKG5ldSkgewogICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbnRWb2x1bWVDbGFpbS5jbGFpbU5hbWUgPSBuZXU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVQdmNGb3JtOiBmdW5jdGlvbiByZW1vdmVQdmNGb3JtKGhvb2tOYW1lKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZVB2Y0Zvcm0nLCBob29rTmFtZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["LabeledInput","LabeledSelect","Checkbox","mapGetters","PersistentVolumeClaim","PVC","components","props","podSpec","type","Object","default","_default","mode","String","namespace","value","pvcs","Array","registerBeforeHook","Function","savePvcHookName","required","loading","Boolean","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","pvc","wrap","_callee$","_context","prev","next","__newPvc","abrupt","$store","getters","metadata","dispatch","sent","applyDefaults","$set","stop","computed","_objectSpread","createNew","_type","t","watch","neu","value__newPvcMetadataName","persistentVolumeClaim","claimName","methods","removePvcForm","hookName","$emit"],"sources":["node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { mapGetters } from 'vuex';\nimport PersistentVolumeClaim from '@shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim';\nimport { PVC } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledInput,\n    LabeledSelect,\n    PersistentVolumeClaim,\n    Checkbox\n  },\n\n  props: {\n    podSpec: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    // array of existing persistent volume claims\n    pvcs: {\n      type:    Array,\n      default: () => []\n    },\n\n    registerBeforeHook: {\n      type:    Function,\n      default: null,\n    },\n\n    savePvcHookName: {\n      type:     String,\n      required: true\n    },\n    loading: {\n      default: false,\n      type:    Boolean\n    },\n  },\n\n  async fetch() {\n    // Create the new PVC form state if it doesn't exist\n    if (this.value.__newPvc) {\n      return;\n    }\n    const namespace = this.namespace || this.$store.getters['defaultNamespace'];\n\n    const data = { type: PVC };\n\n    data.metadata = { namespace };\n\n    const pvc = await this.$store.dispatch('cluster/create', data);\n\n    pvc.applyDefaults();\n    this.$set(this.value, '__newPvc', pvc);\n  },\n\n  computed: {\n    // whether this is creating a new PVC or referencing an existing one\n    createNew() {\n      return this.value._type === 'createPVC';\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  watch: {\n    namespace(neu) {\n      this.value.__newPvc.metadata.namespace = neu;\n    },\n\n    'value.__newPvc.metadata.name'(neu) {\n      this.value.persistentVolumeClaim.claimName = neu;\n    }\n  },\n\n  methods: {\n    removePvcForm(hookName) {\n      this.$emit('removePvcForm', hookName);\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"value.__newPvc\">\n    <div>\n      <div\n        v-if=\"createNew\"\n        class=\"bordered-section\"\n      >\n        <PersistentVolumeClaim\n          v-if=\"value.__newPvc\"\n          v-model=\"value.__newPvc\"\n          :mode=\"mode\"\n          :register-before-hook=\"registerBeforeHook\"\n          :save-pvc-hook-name=\"savePvcHookName\"\n          @removePvcForm=\"removePvcForm\"\n        />\n      </div>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.name\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.volumeName')\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-if=\"!createNew\"\n            v-model=\"value.persistentVolumeClaim.claimName\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.subtypes.persistentVolumeClaim')\"\n            :options=\"pvcs\"\n            :loading=\"loading\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <Checkbox\n          v-model=\"value.persistentVolumeClaim.readOnly\"\n          :mode=\"mode\"\n          :label=\"t('workload.storage.readOnly')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;;;;AACA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,SAAAC,UAAA;AACA,OAAAC,qBAAA;AACA,SAAAC,GAAA;AAEA;EACAC,UAAA;IACAN,YAAA,EAAAA,YAAA;IACAC,aAAA,EAAAA,aAAA;IACAG,qBAAA,EAAAA,qBAAA;IACAF,QAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,IAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;IAEAI,SAAA;MACAN,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;IAEAK,KAAA;MACAP,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IAEA;IACAK,IAAA;MACAR,IAAA,EAAAS,KAAA;MACAP,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IAEAO,kBAAA;MACAV,IAAA,EAAAW,QAAA;MACAT,OAAA;IACA;IAEAU,eAAA;MACAZ,IAAA,EAAAK,MAAA;MACAQ,QAAA;IACA;IACAC,OAAA;MACAZ,OAAA;MACAF,IAAA,EAAAe;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAf,SAAA,EAAAgB,IAAA,EAAAC,GAAA;MAAA,OAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KAEAX,KAAA,CAAAV,KAAA,CAAAsB,QAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,OAAAF,QAAA,CAAAI,MAAA;UAAA;YAGAxB,SAAA,GAAAW,KAAA,CAAAX,SAAA,IAAAW,KAAA,CAAAc,MAAA,CAAAC,OAAA;YAEAV,IAAA;cAAAtB,IAAA,EAAAJ;YAAA;YAEA0B,IAAA,CAAAW,QAAA;cAAA3B,SAAA,EAAAA;YAAA;YAAAoB,QAAA,CAAAE,IAAA;YAAA,OAEAX,KAAA,CAAAc,MAAA,CAAAG,QAAA,mBAAAZ,IAAA;UAAA;YAAAC,GAAA,GAAAG,QAAA,CAAAS,IAAA;YAEAZ,GAAA,CAAAa,aAAA;YACAnB,KAAA,CAAAoB,IAAA,CAAApB,KAAA,CAAAV,KAAA,cAAAgB,GAAA;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAjB,OAAA;IAAA;EACA;EAEAkB,QAAA,EAAAC,aAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAlC,KAAA,CAAAmC,KAAA;IACA;EAAA,GAEAhD,UAAA;IAAAiD,CAAA;EAAA,GACA;EAEAC,KAAA;IACAtC,SAAA,WAAAA,UAAAuC,GAAA;MACA,KAAAtC,KAAA,CAAAsB,QAAA,CAAAI,QAAA,CAAA3B,SAAA,GAAAuC,GAAA;IACA;IAEA,yCAAAC,0BAAAD,GAAA;MACA,KAAAtC,KAAA,CAAAwC,qBAAA,CAAAC,SAAA,GAAAH,GAAA;IACA;EACA;EAEAI,OAAA;IACAC,aAAA,WAAAA,cAAAC,QAAA;MACA,KAAAC,KAAA,kBAAAD,QAAA;IACA;EACA;AACA","ignoreList":[]}]}