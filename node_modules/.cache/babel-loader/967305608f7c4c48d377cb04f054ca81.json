{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/serviceaccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/serviceaccount.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKaW1wb3J0IE5hbWVOc0Rlc2NyaXB0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTmFtZU5zRGVzY3JpcHRpb24nOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBTRUNSRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgVFlQRVMgYXMgU0VDUkVUX1RZUEVTIH0gZnJvbSAnQHNoZWxsL21vZGVscy9zZWNyZXQnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlcnZpY2VBY2NvdW50JywKICBjb21wb25lbnRzOiB7CiAgICBDcnVSZXNvdXJjZTogQ3J1UmVzb3VyY2UsCiAgICBOYW1lTnNEZXNjcmlwdGlvbjogTmFtZU5zRGVzY3JpcHRpb24sCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBMYWJlbHM6IExhYmVscywKICAgIFRhYjogVGFiLAogICAgVGFiYmVkOiBUYWJiZWQsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY3JlYXRlJwogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNsdXN0ZXIvZmluZEFsbCIsIHsKICAgICAgICAgICAgICB0eXBlOiBTRUNSRVQKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIF90aGlzLmFsbFNlY3JldHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnYXV0b21vdW50U2VydmljZUFjY291bnRUb2tlbicsIHRoaXMudmFsdWUuYXV0b21vdW50U2VydmljZUFjY291bnRUb2tlbiB8fCBmYWxzZSk7CiAgICByZXR1cm4gewogICAgICBhbGxTZWNyZXRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYW1lc3BhY2VkU2VjcmV0czogZnVuY3Rpb24gbmFtZXNwYWNlZFNlY3JldHMoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZTsKICAgICAgdmFyIG5hbWVzcGFjZSA9IChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5uYW1lc3BhY2U7CiAgICAgIHJldHVybiB0aGlzLmFsbFNlY3JldHMuZmlsdGVyKGZ1bmN0aW9uIChzZWNyZXQpIHsKICAgICAgICByZXR1cm4gc2VjcmV0Lm1ldGFkYXRhLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlICYmIChzZWNyZXQuX3R5cGUgPT09IFNFQ1JFVF9UWVBFUy5ET0NLRVIgfHwgc2VjcmV0Ll90eXBlID09PSBTRUNSRVRfVFlQRVMuRE9DS0VSX0pTT04pOwogICAgICB9KTsKICAgIH0sCiAgICBpbWFnZVB1bGxTZWNyZXRzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIGlmICghdGhpcy52YWx1ZS5pbWFnZVB1bGxTZWNyZXRzKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ2ltYWdlUHVsbFNlY3JldHMnLCBbXSk7CiAgICAgICAgfQogICAgICAgIHZhciBpbWFnZVB1bGxTZWNyZXRzID0gdGhpcy52YWx1ZS5pbWFnZVB1bGxTZWNyZXRzOwogICAgICAgIHJldHVybiBpbWFnZVB1bGxTZWNyZXRzLm1hcChmdW5jdGlvbiAoZWFjaCkgewogICAgICAgICAgcmV0dXJuIGVhY2gubmFtZTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV1KSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWUuaW1hZ2VQdWxsU2VjcmV0cy5sZW5ndGggPCAxKSB7CiAgICAgICAgICB0aGlzLnZhbHVlLmltYWdlUHVsbFNlY3JldHMgPSBuZXUubWFwKGZ1bmN0aW9uIChzZWNyZXQpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBuYW1lOiBzZWNyZXQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLnZhbHVlLmltYWdlUHVsbFNlY3JldHMgPSBuZXUubWFwKGZ1bmN0aW9uIChzZWNyZXQpIHsKICAgICAgICAgIGZvciAodmFyIHggaW4gc2VjcmV0KSB7CiAgICAgICAgICAgIGlmICh4ID09PSAnbWV0YWRhdGEnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5hbWU6IHNlY3JldFt4XS5uYW1lCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogc2VjcmV0CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CreateEditView","CruResource","NameNsDescription","Labels","Tab","Tabbed","Checkbox","SECRET","TYPES","SECRET_TYPES","LabeledSelect","name","components","props","value","type","Object","required","mode","String","default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","allSecrets","sent","stop","mixins","data","$set","automountServiceAccountToken","computed","namespacedSecrets","_this$value","namespace","metadata","filter","secret","_type","DOCKER","DOCKER_JSON","imagePullSecrets","get","map","each","set","neu","length","x"],"sources":["node_modules/@rancher/shell/edit/serviceaccount.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Labels from '@shell/components/form/Labels';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { SECRET } from '@shell/config/types';\nimport { TYPES as SECRET_TYPES } from '@shell/models/secret';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport default {\n  name: 'ServiceAccount',\n\n  components: {\n    CruResource,\n    NameNsDescription,\n    Checkbox,\n    Labels,\n    Tab,\n    Tabbed,\n    LabeledSelect\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n\n  async fetch() {\n    this.allSecrets = await this.$store.dispatch(`cluster/findAll`, { type: SECRET });\n  },\n\n  mixins: [CreateEditView],\n  data() {\n    this.$set(this.value, 'automountServiceAccountToken', this.value.automountServiceAccountToken || false);\n\n    return { allSecrets: [] };\n  },\n\n  computed: {\n    namespacedSecrets() {\n      const namespace = this.value?.metadata?.namespace;\n\n      return this.allSecrets.filter((secret) => secret.metadata.namespace === namespace && (secret._type === SECRET_TYPES.DOCKER || secret._type === SECRET_TYPES.DOCKER_JSON));\n    },\n\n    imagePullSecrets: {\n      get() {\n        if (!this.value.imagePullSecrets) {\n          this.$set(this.value, 'imagePullSecrets', []);\n        }\n        const { imagePullSecrets } = this.value;\n\n        return imagePullSecrets.map((each) => each.name);\n      },\n      set(neu) {\n        if (this.value.imagePullSecrets.length < 1) {\n          this.value.imagePullSecrets = neu.map((secret) => {\n            return { name: secret };\n          });\n        }\n        this.value.imagePullSecrets = neu.map((secret) => {\n          for (const x in secret) {\n            if (x === 'metadata') {\n              return { name: secret[x].name };\n            }\n          }\n\n          return { name: secret };\n        });\n      }\n    },\n  },\n\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"!!value.metadata.name\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      :value=\"value\"\n      :mode=\"mode\"\n    />\n\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        name=\"data\"\n        :label=\"t('serviceAccount.tabs.serviceAccount.label')\"\n        :weight=\"2\"\n      >\n        <div class=\"row\">\n          <div class=\"col mt-20\">\n            <Checkbox\n              v-model=\"value.automountServiceAccountToken\"\n              :label=\"t('serviceAccount.automount')\"\n              type=\"checkbox\"\n              :mode=\"mode\"\n            />\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-6 mt-20\">\n            <h3>{{ t('serviceAccount.imagePullSecrets') }}</h3>\n\n            <LabeledSelect\n              v-model=\"imagePullSecrets\"\n              :label=\"t('workload.container.imagePullSecrets')\"\n              :multiple=\"true\"\n              :options=\"namespacedSecrets\"\n              :mode=\"mode\"\n              option-label=\"metadata.name\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mb-20\" />\n      </Tab>\n      <Tab\n        name=\"labels-and-annotations\"\n        label-key=\"generic.labelsAndAnnotations\"\n        :weight=\"-1\"\n      >\n        <Labels\n          default-container-class=\"labels-and-annotations-container\"\n          :value=\"value\"\n          :mode=\"mode\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n"],"mappings":";;;;;;;AACA,OAAAA,cAAA;AACA,OAAAC,WAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,MAAA;AACA,OAAAC,GAAA;AACA,OAAAC,MAAA;AACA,SAAAC,QAAA;AACA,SAAAC,MAAA;AACA,SAAAC,KAAA,IAAAC,YAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAX,WAAA,EAAAA,WAAA;IACAC,iBAAA,EAAAA,iBAAA;IACAI,QAAA,EAAAA,QAAA;IACAH,MAAA,EAAAA,MAAA;IACAC,GAAA,EAAAA,GAAA;IACAC,MAAA,EAAAA,MAAA;IACAK,aAAA,EAAAA;EACA;EAEAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAU,MAAA,CAAAC,QAAA;cAAAlB,IAAA,EAAAR;YAAA;UAAA;YAAAe,KAAA,CAAAY,UAAA,GAAAL,QAAA,CAAAM,IAAA;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAV,OAAA;IAAA;EACA;EAEAW,MAAA,GAAArC,cAAA;EACAsC,IAAA,WAAAA,KAAA;IACA,KAAAC,IAAA,MAAAzB,KAAA,uCAAAA,KAAA,CAAA0B,4BAAA;IAEA;MAAAN,UAAA;IAAA;EACA;EAEAO,QAAA;IACAC,iBAAA,WAAAA,kBAAA;MAAA,IAAAC,WAAA;MACA,IAAAC,SAAA,IAAAD,WAAA,QAAA7B,KAAA,cAAA6B,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAE,QAAA,cAAAF,WAAA,uBAAAA,WAAA,CAAAC,SAAA;MAEA,YAAAV,UAAA,CAAAY,MAAA,WAAAC,MAAA;QAAA,OAAAA,MAAA,CAAAF,QAAA,CAAAD,SAAA,KAAAA,SAAA,KAAAG,MAAA,CAAAC,KAAA,KAAAvC,YAAA,CAAAwC,MAAA,IAAAF,MAAA,CAAAC,KAAA,KAAAvC,YAAA,CAAAyC,WAAA;MAAA;IACA;IAEAC,gBAAA;MACAC,GAAA,WAAAA,IAAA;QACA,UAAAtC,KAAA,CAAAqC,gBAAA;UACA,KAAAZ,IAAA,MAAAzB,KAAA;QACA;QACA,IAAAqC,gBAAA,QAAArC,KAAA,CAAAqC,gBAAA;QAEA,OAAAA,gBAAA,CAAAE,GAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,CAAA3C,IAAA;QAAA;MACA;MACA4C,GAAA,WAAAA,IAAAC,GAAA;QACA,SAAA1C,KAAA,CAAAqC,gBAAA,CAAAM,MAAA;UACA,KAAA3C,KAAA,CAAAqC,gBAAA,GAAAK,GAAA,CAAAH,GAAA,WAAAN,MAAA;YACA;cAAApC,IAAA,EAAAoC;YAAA;UACA;QACA;QACA,KAAAjC,KAAA,CAAAqC,gBAAA,GAAAK,GAAA,CAAAH,GAAA,WAAAN,MAAA;UACA,SAAAW,CAAA,IAAAX,MAAA;YACA,IAAAW,CAAA;cACA;gBAAA/C,IAAA,EAAAoC,MAAA,CAAAW,CAAA,EAAA/C;cAAA;YACA;UACA;UAEA;YAAAA,IAAA,EAAAoC;UAAA;QACA;MACA;IACA;EACA;AAEA","ignoreList":[]}]}