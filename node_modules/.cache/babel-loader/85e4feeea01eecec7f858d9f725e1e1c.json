{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/cloudcredential.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/cloudcredential.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwpmdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH0KaW1wb3J0IHsgQ0FQSSB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgZnVsbEZpZWxkcywgcHJlZml4RmllbGRzLCBzaW1wbGlmeSwgc3VmZml4RmllbGRzIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3BsdWdpbnMnOwppbXBvcnQgeyBpc0VtcHR5LCBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgU0VDUkVUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGVzY2FwZUh0bWwgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IE5vcm1hbk1vZGVsIGZyb20gJ0BzaGVsbC9wbHVnaW5zL3N0ZXZlL25vcm1hbi1jbGFzcyc7CnZhciBDbG91ZENyZWRlbnRpYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ob3JtYW5Nb2RlbCkgewogIGZ1bmN0aW9uIENsb3VkQ3JlZGVudGlhbCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbG91ZENyZWRlbnRpYWwpOwogICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgQ2xvdWRDcmVkZW50aWFsLCBhcmd1bWVudHMpOwogIH0KICBfaW5oZXJpdHMoQ2xvdWRDcmVkZW50aWFsLCBfTm9ybWFuTW9kZWwpOwogIHJldHVybiBfY3JlYXRlQ2xhc3MoQ2xvdWRDcmVkZW50aWFsLCBbewogICAga2V5OiAiaGFzU2Vuc2l0aXZlRGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ3VzdG9tRWRpdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2RldGFpbExvY2F0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICJjLWNsdXN0ZXItbWFuYWdlci1jbG91ZENyZWRlbnRpYWwtaWQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcHJvZHVjdDogdGhpcy4kcm9vdEdldHRlcnNbJ3Byb2R1Y3RJZCddLAogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXJJZCddLAogICAgICAgICAgaWQ6IHRoaXMuaWQKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicGFyZW50TG9jYXRpb25PdmVycmlkZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiYy1jbHVzdGVyLW1hbmFnZXItY2xvdWRDcmVkZW50aWFsIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvb3RHZXR0ZXJzWydjbHVzdGVySWQnXQogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWNyZXROYW1lIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pZC5yZXBsYWNlKCc6JywgJy8nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWNyZXQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oU0VDUkVULCB0aGlzLnNlY3JldE5hbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNlY3JldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNlY3JldCA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBTRUNSRVQsCiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZWNyZXROYW1lCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBnZXRTZWNyZXQoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRTZWNyZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gZ2V0U2VjcmV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY29uZmlnS2V5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcykuZmluZChmdW5jdGlvbiAoaykgewogICAgICAgIHJldHVybiBrLmVuZHNXaXRoKCdjcmVkZW50aWFsQ29uZmlnJyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkYW5ub3RhdGlvbnM7CiAgICAgIHZhciBhbm5vdGF0aW9uID0gKF90aGlzJGFubm90YXRpb25zID0gdGhpcy5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkYW5ub3RhdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFubm90YXRpb25zW0NBUEkuQ1JFREVOVElBTF9EUklWRVJdOwogICAgICBpZiAoYW5ub3RhdGlvbikgewogICAgICAgIHJldHVybiBhbm5vdGF0aW9uOwogICAgICB9CiAgICAgIHZhciBjb25maWdLZXkgPSB0aGlzLmNvbmZpZ0tleTsKCiAgICAgIC8vIENhbGwgW2FtYXpvbmVrcyxhbWF6b25lYzJdIC0+IGF3cwogICAgICBpZiAoY29uZmlnS2V5KSB7CiAgICAgICAgdmFyIG91dCA9IHRoaXMuJHJvb3RHZXR0ZXJzWydwbHVnaW5zL2NyZWRlbnRpYWxEcml2ZXJGb3InXShjb25maWdLZXkucmVwbGFjZSgvY3JlZGVudGlhbENvbmZpZyQvLCAnJykpOwogICAgICAgIHJldHVybiBvdXQ7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UHJvdmlkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFByb3ZpZGVyKG5ldSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnNldEFubm90YXRpb24oQ0FQSS5DUkVERU5USUFMX0RSSVZFUiwgbmV1KTsKICAgICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgIGsgPSBrLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGsuZW5kc1dpdGgoJ2NvbmZpZycpICYmIGsgIT09ICIiLmNvbmNhdChuZXUsICJjb25maWciKSkgewogICAgICAgICAgc2V0KF90aGlzLCBrLCBudWxsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIXRoaXNbIiIuY29uY2F0KG5ldSwgImNyZWRlbnRpYWxDb25maWciKV0pIHsKICAgICAgICBzZXQodGhpcywgIiIuY29uY2F0KG5ldSwgImNyZWRlbnRpYWxDb25maWciKSwge30pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVjb2RlZERhdGEiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBrID0gdGhpcy5jb25maWdLZXk7CiAgICAgIGlmIChrKSB7CiAgICAgICAgcmV0dXJuIHRoaXNba107CiAgICAgIH0KICAgICAgcmV0dXJuIHt9OwogICAgfQogIH0sIHsKICAgIGtleTogInNldERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEoa2V5LCB2YWx1ZSkgewogICAgICAvLyBvciAobWFwT2ZOZXdEYXRhKQogICAgICB2YXIgaXNNYXAgPSBrZXkgJiYgX3R5cGVvZihrZXkpID09PSAnb2JqZWN0JzsKICAgICAgaWYgKCF0aGlzW3RoaXMuY29uZmlnS2V5XSB8fCBpc01hcCkgewogICAgICAgIHNldCh0aGlzLCB0aGlzLmNvbmZpZ0tleSwge30pOwogICAgICB9CiAgICAgIHZhciBuZXU7CiAgICAgIGlmIChpc01hcCkgewogICAgICAgIG5ldSA9IGtleTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXUgPSBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgdmFsdWUpOwogICAgICB9CiAgICAgIGZvciAodmFyIGsgaW4gbmV1KSB7CiAgICAgICAgLy8gVGhlIGtleSBpcyBxdW90ZWQgc28gdGhhdCBrZXlzIGxpa2UgJy5kb2NrZXJjb25maWdqc29uJyB0aGF0IGNvbnRhaW4gZG90IGRvbid0IGdldCBwYXJzZWQgaW50byBhbiBvYmplY3QgcGF0aAogICAgICAgIHNldCh0aGlzLCAiXCIiLmNvbmNhdCh0aGlzLmNvbmZpZ0tleSwgIlwiLlwiIikuY29uY2F0KGssICJcIiIpLCBuZXVba10pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJEaXNwbGF5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcHJvdmlkZXIgPSAodGhpcy5wcm92aWRlciB8fCAnJykudG9Mb3dlckNhc2UoKTsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydpMThuL3dpdGhGYWxsYmFjayddKCJjbHVzdGVyLnByb3ZpZGVyLlwiIi5jb25jYXQocHJvdmlkZXIsICJcIiIpLCBudWxsLCBwcm92aWRlcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicHVibGljRGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJCRyb290R2V0dGVycyRwbCA9IHRoaXMuJHJvb3RHZXR0ZXJzWydwbHVnaW5zL2NyZWRlbnRpYWxPcHRpb25zJ10odGhpcy5wcm92aWRlciksCiAgICAgICAgcHVibGljS2V5ID0gX3RoaXMkJHJvb3RHZXR0ZXJzJHBsLnB1YmxpY0tleSwKICAgICAgICBwdWJsaWNNb2RlID0gX3RoaXMkJHJvb3RHZXR0ZXJzJHBsLnB1YmxpY01vZGU7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIGZ1bGw6IGZ1bGxGaWVsZHMsCiAgICAgICAgcHJlZml4OiBwcmVmaXhGaWVsZHMsCiAgICAgICAgc3VmZml4OiBzdWZmaXhGaWVsZHMKICAgICAgfTsKICAgICAgaWYgKCFwdWJsaWNLZXkpIHsKICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuZGVjb2RlZERhdGEgfHwge30pIHsKICAgICAgICAgIGlmIChwdWJsaWNLZXkpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLmRlY29kZWREYXRhW2tdKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGZvciAodmFyIG1vZGUgaW4gb3B0aW9ucykgewogICAgICAgICAgICBpZiAob3B0aW9uc1ttb2RlXS5pbmNsdWRlcyhzaW1wbGlmeShrKSkpIHsKICAgICAgICAgICAgICBwdWJsaWNLZXkgPSBrOwogICAgICAgICAgICAgIHB1YmxpY01vZGUgPSBtb2RlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghcHVibGljS2V5KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIHZhbCA9IHRoaXMuZGVjb2RlZERhdGFbcHVibGljS2V5XTsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB2YXIgX3RoaXMkc2VjcmV0OwogICAgICAgIHZhbCA9IChfdGhpcyRzZWNyZXQgPSB0aGlzLnNlY3JldCkgPT09IG51bGwgfHwgX3RoaXMkc2VjcmV0ID09PSB2b2lkIDAgfHwgKF90aGlzJHNlY3JldCA9IF90aGlzJHNlY3JldC5kZWNvZGVkRGF0YSkgPT09IG51bGwgfHwgX3RoaXMkc2VjcmV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZWNyZXRbIiIuY29uY2F0KHRoaXMucHJvdmlkZXIsICJjcmVkZW50aWFsQ29uZmlnLSIpLmNvbmNhdChwdWJsaWNLZXkpXTsKICAgICAgfQogICAgICBpZiAoIXZhbCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBtYXhMZW5ndGggPSBNYXRoLm1pbig4LCBNYXRoLmZsb29yKHZhbC5sZW5ndGggLyAyKSk7CiAgICAgIGlmIChwdWJsaWNNb2RlID09PSAncHJlZml4JykgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoZXNjYXBlSHRtbCh2YWwuc3Vic3RyKDAsIG1heExlbmd0aCkpLCAiJmhlbGxpcDsiKTsKICAgICAgfSBlbHNlIGlmIChwdWJsaWNNb2RlID09PSAnc3VmZml4JykgewogICAgICAgIHJldHVybiAiJmhlbGxpcDsiLmNvbmNhdChlc2NhcGVIdG1sKHZhbC5zdWJzdHIoLTEgKiBtYXhMZW5ndGgpKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGVzY2FwZUh0bWwodmFsKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRvbmVSb3V0ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICdjLWNsdXN0ZXItbWFuYWdlci1zZWNyZXQnOwogICAgfQogIH1dKTsKfShOb3JtYW5Nb2RlbCk7CmV4cG9ydCB7IENsb3VkQ3JlZGVudGlhbCBhcyBkZWZhdWx0IH07"},{"version":3,"names":["CAPI","fullFields","prefixFields","simplify","suffixFields","isEmpty","set","SECRET","escapeHtml","NormanModel","CloudCredential","_NormanModel","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","get","name","params","product","$rootGetters","cluster","id","replace","secretName","value","_getSecret","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$dispatch","type","root","stop","getSecret","apply","Object","keys","find","k","endsWith","_this$annotations","annotation","annotations","CREDENTIAL_DRIVER","configKey","out","setProvider","neu","_this","setAnnotation","forEach","toLowerCase","concat","setData","isMap","_typeof","_defineProperty","provider","_this$$rootGetters$pl","publicKey","publicMode","options","full","prefix","suffix","decodedData","mode","includes","val","_this$secret","secret","maxLength","Math","min","floor","length","substr","default"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/cloudcredential.js"],"sourcesContent":["import { CAPI } from '@shell/config/labels-annotations';\nimport { fullFields, prefixFields, simplify, suffixFields } from '@shell/store/plugins';\nimport { isEmpty, set } from '@shell/utils/object';\nimport { SECRET } from '@shell/config/types';\nimport { escapeHtml } from '@shell/utils/string';\nimport NormanModel from '@shell/plugins/steve/norman-class';\n\nexport default class CloudCredential extends NormanModel {\n  get hasSensitiveData() {\n    return true;\n  }\n\n  get canCustomEdit() {\n    return true;\n  }\n\n  get _detailLocation() {\n    return {\n      name:   `c-cluster-manager-cloudCredential-id`,\n      params: {\n        product: this.$rootGetters['productId'],\n        cluster: this.$rootGetters['clusterId'],\n        id:      this.id,\n      }\n    };\n  }\n\n  get parentLocationOverride() {\n    return {\n      name:   `c-cluster-manager-cloudCredential`,\n      params: { cluster: this.$rootGetters['clusterId'] }\n    };\n  }\n\n  get secretName() {\n    return this.id.replace(':', '/');\n  }\n\n  get secret() {\n    return this.$rootGetters['management/byId'](SECRET, this.secretName);\n  }\n\n  async getSecret() {\n    await this.$dispatch('management/find', { type: SECRET, id: this.secretName }, { root: true });\n  }\n\n  get configKey() {\n    return Object.keys(this).find( (k) => k.endsWith('credentialConfig'));\n  }\n\n  get provider() {\n    const annotation = this.annotations?.[CAPI.CREDENTIAL_DRIVER];\n\n    if ( annotation ) {\n      return annotation;\n    }\n\n    const configKey = this.configKey;\n\n    // Call [amazoneks,amazonec2] -> aws\n    if ( configKey ) {\n      const out = this.$rootGetters['plugins/credentialDriverFor'](configKey.replace(/credentialConfig$/, ''));\n\n      return out;\n    }\n\n    return null;\n  }\n\n  setProvider(neu) {\n    this.setAnnotation(CAPI.CREDENTIAL_DRIVER, neu);\n\n    Object.keys(this).forEach((k) => {\n      k = k.toLowerCase();\n\n      if ( k.endsWith('config') && k !== `${ neu }config` ) {\n        set(this, k, null);\n      }\n    });\n\n    if ( !this[`${ neu }credentialConfig`] ) {\n      set(this, `${ neu }credentialConfig`, {});\n    }\n  }\n\n  get decodedData() {\n    const k = this.configKey;\n\n    if ( k ) {\n      return this[k];\n    }\n\n    return {};\n  }\n\n  setData(key, value) { // or (mapOfNewData)\n    const isMap = key && typeof key === 'object';\n\n    if ( !this[this.configKey] || isMap ) {\n      set(this, this.configKey, {});\n    }\n\n    let neu;\n\n    if ( isMap ) {\n      neu = key;\n    } else {\n      neu = { [key]: value };\n    }\n\n    for ( const k in neu ) {\n      // The key is quoted so that keys like '.dockerconfigjson' that contain dot don't get parsed into an object path\n      set(this, `\"${ this.configKey }\".\"${ k }\"`, neu[k]);\n    }\n  }\n\n  get providerDisplay() {\n    const provider = (this.provider || '').toLowerCase();\n\n    return this.$rootGetters['i18n/withFallback'](`cluster.provider.\"${ provider }\"`, null, provider);\n  }\n\n  get publicData() {\n    let { publicKey, publicMode } = this.$rootGetters['plugins/credentialOptions'](this.provider);\n\n    const options = {\n      full:   fullFields,\n      prefix: prefixFields,\n      suffix: suffixFields,\n    };\n\n    if ( !publicKey ) {\n      for ( const k in this.decodedData || {} ) {\n        if ( publicKey ) {\n          break;\n        }\n\n        if ( isEmpty(this.decodedData[k]) ) {\n          continue;\n        }\n\n        for ( const mode in options ) {\n          if ( options[mode].includes( simplify(k) ) ) {\n            publicKey = k;\n            publicMode = mode;\n            break;\n          }\n        }\n      }\n    }\n\n    if ( !publicKey ) {\n      return null;\n    }\n\n    let val = this.decodedData[publicKey];\n\n    if ( !val ) {\n      val = this.secret?.decodedData?.[`${ this.provider }credentialConfig-${ publicKey }`];\n    }\n\n    if ( !val ) {\n      return null;\n    }\n\n    const maxLength = Math.min(8, Math.floor(val.length / 2));\n\n    if ( publicMode === 'prefix' ) {\n      return `${ escapeHtml(val.substr(0, maxLength)) }&hellip;`;\n    } else if ( publicMode === 'suffix' ) {\n      return `&hellip;${ escapeHtml(val.substr(-1 * maxLength)) }`;\n    } else {\n      return escapeHtml(val);\n    }\n  }\n\n  get doneRoute() {\n    return 'c-cluster-manager-secret';\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}