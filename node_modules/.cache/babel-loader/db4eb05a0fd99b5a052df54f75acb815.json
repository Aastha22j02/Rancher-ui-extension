{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/namespace.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/namespace.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IFJlc291cmNlc1N1bW1hcnkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZmxlZXQvUmVzb3VyY2VzU3VtbWFyeSc7CmltcG9ydCBSZXNvdXJjZVRhYnMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9SZXNvdXJjZVRhYnMnOwppbXBvcnQgeyBDT1VOVCwgV09SS0xPQURfVFlQRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgV09SS0xPQURfU0NIRU1BIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zY2hlbWEnOwppbXBvcnQgeyBnZXRTdGF0ZXNCeVR5cGUgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwppbXBvcnQgTW92ZU1vZGFsIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL01vdmVNb2RhbCc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgU29ydGFibGVUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCB7IGZsYXR0ZW4sIGNvbXBhY3QsIGZpbHRlciwgZmluZEtleSwgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJlc291cmNlc1N1bW1hcnk6IFJlc291cmNlc1N1bW1hcnksCiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlLAogICAgUmVzb3VyY2VUYWJzOiBSZXNvdXJjZVRhYnMsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgTW92ZU1vZGFsOiBNb3ZlTW9kYWwsCiAgICBUYWI6IFRhYiwKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICBkZWZhdWx0OiAnY3JlYXRlJywKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBoZWFkZXJzID0gW3sKICAgICAgbmFtZTogJ3R5cGUnLAogICAgICBsYWJlbDogdGhpcy50KCd0YWJsZUhlYWRlcnMuc2ltcGxlVHlwZScpLAogICAgICB2YWx1ZTogJ3R5cGUnCiAgICB9LCB7CiAgICAgIG5hbWU6ICdlcnJvcicsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS5yZXNvdXJjZVN0YXRlcy5lcnJvcicpLAogICAgICB2YWx1ZTogJ2J5U3RhdGUuZXJyb3InLAogICAgICBzb3J0OiAnYnlTdGF0ZS5lcnJvcjpkZXNjJywKICAgICAgZm9ybWF0dGVyOiAnTnVtYmVyJwogICAgfSwgewogICAgICBuYW1lOiAnd2FybmluZycsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS5yZXNvdXJjZVN0YXRlcy53YXJuaW5nJyksCiAgICAgIHZhbHVlOiAnYnlTdGF0ZS53YXJuaW5nJywKICAgICAgc29ydDogJ2J5U3RhdGUud2FybmluZzpkZXNjJywKICAgICAgZm9ybWF0dGVyOiAnTnVtYmVyJwogICAgfSwgewogICAgICBuYW1lOiAndHJhbnNpdGlvbmluZycsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS5yZXNvdXJjZVN0YXRlcy5pbmZvJyksCiAgICAgIHZhbHVlOiAnYnlTdGF0ZS5pbmZvJywKICAgICAgc29ydDogJ2J5U3RhdGUuaW5mbzpkZXNjJywKICAgICAgZm9ybWF0dGVyOiAnTnVtYmVyJwogICAgfSwgewogICAgICBuYW1lOiAnYWN0aXZlJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnJlc291cmNlU3RhdGVzLnN1Y2Nlc3MnKSwKICAgICAgc29ydDogJ2J5U3RhdGUuc3VjY2VzczpkZXNjJywKICAgICAgdmFsdWU6ICdieVN0YXRlLnN1Y2Nlc3MnCiAgICB9LCB7CiAgICAgIG5hbWU6ICd1bmtub3duJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnJlc291cmNlU3RhdGVzLnVua25vd24nKSwKICAgICAgc29ydDogJ2J5U3RhdGUudW5rbm93bjpkZXNjJywKICAgICAgdmFsdWU6ICdieVN0YXRlLnVua25vd24nLAogICAgICBmb3JtYXR0ZXI6ICdOdW1iZXInCiAgICB9LCB7CiAgICAgIG5hbWU6ICd0b3RhbCcsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS50b3RhbCcpLAogICAgICBzb3J0OiAndG90YWxDb3VudDpkZXNjJywKICAgICAgdmFsdWU6ICd0b3RhbENvdW50JwogICAgfV07CiAgICByZXR1cm4gewogICAgICBhbGxXb3JrbG9hZHM6IHsKICAgICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9LAogICAgICAgIHR5cGU6IEFycmF5CiAgICAgIH0sCiAgICAgIHJlc291cmNlVHlwZXM6IFtdLAogICAgICBzdW1tYXJ5U3RhdGVzOiBbJ3N1Y2Nlc3MnLCAnaW5mbycsICd3YXJuaW5nJywgJ2Vycm9yJywgJ3Vua25vd24nXSwKICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgd29ya2xvYWRTY2hlbWE6IFdPUktMT0FEX1NDSEVNQQogICAgfTsKICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0QWxsV29ya2xvYWRzKCk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIF90aGlzLmFsbFdvcmtsb2FkcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpblN0b3JlOiBmdW5jdGlvbiBpblN0b3JlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXS5pblN0b3JlOwogICAgfSwKICAgIG5hbWVzcGFjZWRSZXNvdXJjZUNvdW50czogZnVuY3Rpb24gbmFtZXNwYWNlZFJlc291cmNlQ291bnRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGFsbENsdXN0ZXJSZXNvdXJjZUNvdW50cyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KHRoaXMuaW5TdG9yZSwgIi9hbGwiKV0oQ09VTlQpWzBdLmNvdW50czsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGFsbENsdXN0ZXJSZXNvdXJjZUNvdW50cykucmVkdWNlKGZ1bmN0aW9uIChuYW1lc3BhY2VkLCB0eXBlKSB7CiAgICAgICAgdmFyIHR5cGVDb3VudHMgPSBhbGxDbHVzdGVyUmVzb3VyY2VDb3VudHNbdHlwZV07CiAgICAgICAgaWYgKCF0eXBlQ291bnRzLm5hbWVzcGFjZXMgfHwgIXR5cGVDb3VudHMubmFtZXNwYWNlc1tfdGhpczIudmFsdWUuaWRdKSB7CiAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlZDsKICAgICAgICB9CiAgICAgICAgdmFyIGluTmFtZXNwYWNlID0gdHlwZUNvdW50cy5uYW1lc3BhY2VzW190aGlzMi52YWx1ZS5pZF07CiAgICAgICAgbmFtZXNwYWNlZC5wdXNoKHsKICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICBieVN0YXRlOiBfdGhpczIucmVkdWNlU3RhdGVzKGluTmFtZXNwYWNlLnN0YXRlcyB8fCB7fSwgaW5OYW1lc3BhY2UuY291bnQpLAogICAgICAgICAgdG90YWxDb3VudDogaW5OYW1lc3BhY2UuY291bnQsCiAgICAgICAgICBzY2hlbWE6IF90aGlzMi5zY2hlbWFGb3IodHlwZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbmFtZXNwYWNlZDsKICAgICAgfSwgW10pOwogICAgfSwKICAgIGFjY3VtdWxhdGVkU3RhdGVDb3VudHM6IGZ1bmN0aW9uIGFjY3VtdWxhdGVkU3RhdGVDb3VudHMoKSB7CiAgICAgIHZhciB0b3RhbHMgPSB7fTsKICAgICAgZm9yICh2YXIgc3RhdGUgaW4gdGhpcy5zdGF0ZXNCeVR5cGUpIHsKICAgICAgICB0b3RhbHNbc3RhdGVdID0gMDsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5uYW1lc3BhY2VkUmVzb3VyY2VDb3VudHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHR5cGUpIHsKICAgICAgICBmb3IgKHZhciBfc3RhdGUgaW4gdHlwZS5ieVN0YXRlKSB7CiAgICAgICAgICBzdW1bX3N0YXRlXSArPSB0eXBlLmJ5U3RhdGVbX3N0YXRlXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN1bTsKICAgICAgfSwgdG90YWxzKTsKICAgIH0sCiAgICBzdGF0ZXNCeVR5cGU6IGZ1bmN0aW9uIHN0YXRlc0J5VHlwZSgpIHsKICAgICAgcmV0dXJuIGdldFN0YXRlc0J5VHlwZSgpOwogICAgfSwKICAgIC8qKgogICAgICogV29ya2xvYWQgdGFibGUgZGF0YSBmb3IgY3VycmVudCBuYW1lc3BhY2UKICAgICAqLwogICAgd29ya2xvYWRSb3dzOiBmdW5jdGlvbiB3b3JrbG9hZFJvd3MoKSB7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLiRyb3V0ZS5wYXJhbXM7CiAgICAgIHZhciBpZCA9IHBhcmFtcy5pZDsKICAgICAgdmFyIHJvd3MgPSBmbGF0dGVuKGNvbXBhY3QodGhpcy5hbGxXb3JrbG9hZHMpKS5maWx0ZXIoZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiAhcm93Lm93bmVkQnlXb3JrbG9hZDsKICAgICAgfSk7CiAgICAgIHZhciBuYW1lc3BhY2VkUm93cyA9IGZpbHRlcihyb3dzLCBmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBuYW1lc3BhY2UgPSBfcmVmLm1ldGFkYXRhLm5hbWVzcGFjZTsKICAgICAgICByZXR1cm4gbmFtZXNwYWNlID09PSBpZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBuYW1lc3BhY2VkUm93czsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIHNvcnQgc3RhdGVzIGludG8gNSBjb2xvci1kZWxpbmVhdGVkIGNhdGVnb3JpZXM6IGluZm8sIGVycm9yLCBzdWNjZXNzLCB3YXJuaW5nLCB1bmtub3duCiAgICByZWR1Y2VTdGF0ZXM6IGZ1bmN0aW9uIHJlZHVjZVN0YXRlcyhzdGF0ZXMsIHRvdGFsKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgb3V0ID0gewogICAgICAgIHN1Y2Nlc3M6IHRvdGFsCiAgICAgIH07CiAgICAgIE9iamVjdC5rZXlzKHN0YXRlcykuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICBvdXQuc3VjY2VzcyAtPSBzdGF0ZXNbc3RhdGVdOwogICAgICAgIGlmICghIW91dFtzdGF0ZV0pIHsKICAgICAgICAgIG91dFtzdGF0ZV0gKz0gc3RhdGVzW3N0YXRlXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGdlbmVyaWNTdGF0ZUtleSA9IGZpbmRLZXkoX3RoaXMzLnN0YXRlc0J5VHlwZSwgZnVuY3Rpb24gKHN0YXRlTmFtZXMpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YXRlTmFtZXMuaW5jbHVkZXMoc3RhdGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoZ2VuZXJpY1N0YXRlS2V5KSB7CiAgICAgICAgICAgIG91dFtnZW5lcmljU3RhdGVLZXldID8gb3V0W2dlbmVyaWNTdGF0ZUtleV0gKz0gc3RhdGVzW3N0YXRlXSA6IG91dFtnZW5lcmljU3RhdGVLZXldID0gc3RhdGVzW3N0YXRlXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG91dC51bmtub3duID8gb3V0LnVua25vd24gKz0gc3RhdGVzW3N0YXRlXSA6IG91dC51bmtub3duID0gc3RhdGVzW3N0YXRlXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIC8qKgogICAgICogUmV0cmlldmUgd29ya2xvYWRzIGZvciB0aGlzIG5hbWVzcGFjZSBhbmQgZWFjaCB0eXBlCiAgICAgKi8KICAgIGdldEFsbFdvcmtsb2FkczogZnVuY3Rpb24gZ2V0QWxsV29ya2xvYWRzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHZhbHVlcyhXT1JLTE9BRF9UWVBFUykKICAgICAgLy8gWW91IG1heSBub3QgaGF2ZSBSQkFDIHRvIHNlZSBzb21lIG9mIHRoZSB0eXBlcwogICAgICAuZmlsdGVyKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgcmV0dXJuIEJvb2xlYW4oX3RoaXM0LnNjaGVtYUZvcih0eXBlKSk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHJldHVybiBfdGhpczQuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBzY2hlbWFGb3I6IGZ1bmN0aW9uIHNjaGVtYUZvcih0eXBlKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdCh0aGlzLmluU3RvcmUsICIvc2NoZW1hRm9yIildKHR5cGUpOwogICAgfSwKICAgIHR5cGVMaXN0TG9jYXRpb246IGZ1bmN0aW9uIHR5cGVMaXN0TG9jYXRpb24oc2NoZW1hKSB7CiAgICAgIHZhciBfc2NoZW1hJGxpbmtzOwogICAgICBpZiAoc2NoZW1hICE9PSBudWxsICYmIHNjaGVtYSAhPT0gdm9pZCAwICYmIChfc2NoZW1hJGxpbmtzID0gc2NoZW1hLmxpbmtzKSAhPT0gbnVsbCAmJiBfc2NoZW1hJGxpbmtzICE9PSB2b2lkIDAgJiYgX3NjaGVtYSRsaW5rcy5jb2xsZWN0aW9uKSB7CiAgICAgICAgdmFyIGxvY2F0aW9uID0gewogICAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlJywKICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRyb3V0ZS5wYXJhbXMpLCB7fSwgewogICAgICAgICAgICByZXNvdXJjZTogc2NoZW1hLnNob3J0SWQKICAgICAgICAgIH0pCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbG9jYXRpb247CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CreateEditView","ResourcesSummary","ResourceTabs","COUNT","WORKLOAD_TYPES","WORKLOAD_SCHEMA","getStatesByType","MoveModal","Tab","ResourceTable","SortableTable","Loading","flatten","compact","filter","findKey","values","components","mixins","props","mode","default","type","String","value","required","Object","data","headers","name","label","t","sort","formatter","allWorkloads","_default","Array","resourceTypes","summaryStates","workloadSchema","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getAllWorkloads","sent","stop","computed","inStore","$store","getters","namespacedResourceCounts","_this2","allClusterResourceCounts","concat","counts","keys","reduce","namespaced","typeCounts","namespaces","id","inNamespace","push","byState","reduceStates","states","count","totalCount","schema","schemaFor","accumulatedStateCounts","totals","state","statesByType","sum","workloadRows","params","$route","rows","row","ownedByWorkload","namespacedRows","_ref","namespace","metadata","methods","total","_this3","out","success","forEach","genericStateKey","stateNames","includes","unknown","_this4","Promise","all","Boolean","map","dispatch","typeListLocation","_schema$links","links","collection","location","_objectSpread","resource","shortId"],"sources":["node_modules/@rancher/shell/detail/namespace.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport ResourcesSummary from '@shell/components/fleet/ResourcesSummary';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport { COUNT, WORKLOAD_TYPES } from '@shell/config/types';\nimport { WORKLOAD_SCHEMA } from '@shell/config/schema';\nimport { getStatesByType } from '@shell/plugins/dashboard-store/resource-class';\nimport MoveModal from '@shell/components/MoveModal';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport SortableTable from '@shell/components/SortableTable';\nimport Loading from '@shell/components/Loading';\nimport {\n  flatten, compact, filter, findKey, values\n} from 'lodash';\n\nexport default {\n  components: {\n    ResourcesSummary,\n    ResourceTable,\n    ResourceTabs,\n    Loading,\n    MoveModal,\n    Tab,\n    SortableTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      default: 'create',\n      type:    String,\n    },\n    value: {\n      required: true,\n      type:     Object,\n    },\n  },\n\n  data() {\n    const headers = [\n      {\n        name:  'type',\n        label: this.t('tableHeaders.simpleType'),\n        value: 'type'\n      },\n      {\n        name:      'error',\n        label:     this.t('namespace.resourceStates.error'),\n        value:     'byState.error',\n        sort:      'byState.error:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'warning',\n        label:     this.t('namespace.resourceStates.warning'),\n        value:     'byState.warning',\n        sort:      'byState.warning:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'transitioning',\n        label:     this.t('namespace.resourceStates.info'),\n        value:     'byState.info',\n        sort:      'byState.info:desc',\n        formatter: 'Number'\n      },\n      {\n        name:  'active',\n        label: this.t('namespace.resourceStates.success'),\n        sort:  'byState.success:desc',\n        value: 'byState.success',\n      },\n      {\n        name:      'unknown',\n        label:     this.t('namespace.resourceStates.unknown'),\n        sort:      'byState.unknown:desc',\n        value:     'byState.unknown',\n        formatter: 'Number'\n      },\n      {\n        name:  'total',\n        label: this.t('namespace.total'),\n        sort:  'totalCount:desc',\n        value: 'totalCount',\n      },\n    ];\n\n    return {\n      allWorkloads: {\n        default: () => ([]),\n        type:    Array,\n      },\n      resourceTypes:  [],\n      summaryStates:  ['success', 'info', 'warning', 'error', 'unknown'],\n      headers,\n      workloadSchema: WORKLOAD_SCHEMA\n    };\n  },\n\n  async fetch() {\n    this.allWorkloads = await this.getAllWorkloads();\n  },\n\n  computed: {\n    inStore() {\n      return this.$store.getters['currentProduct'].inStore;\n    },\n\n    namespacedResourceCounts() {\n      const allClusterResourceCounts = this.$store.getters[`${ this.inStore }/all`](COUNT)[0].counts;\n\n      return Object.keys(allClusterResourceCounts).reduce((namespaced, type) => {\n        const typeCounts = allClusterResourceCounts[type];\n\n        if (!typeCounts.namespaces || !typeCounts.namespaces[this.value.id]) {\n          return namespaced;\n        }\n        const inNamespace = typeCounts.namespaces[this.value.id];\n\n        namespaced.push({\n          type,\n          byState:    this.reduceStates(inNamespace.states || {}, inNamespace.count),\n          totalCount: inNamespace.count,\n          schema:     this.schemaFor(type)\n        });\n\n        return namespaced;\n      }, []);\n    },\n\n    accumulatedStateCounts() {\n      const totals = {};\n\n      for (const state in this.statesByType) {\n        totals[state] = 0;\n      }\n\n      return this.namespacedResourceCounts.reduce((sum, type) => {\n        for (const state in type.byState) {\n          sum[state] += type.byState[state];\n        }\n\n        return sum;\n      }, totals);\n    },\n\n    statesByType() {\n      return getStatesByType();\n    },\n\n    /**\n     * Workload table data for current namespace\n     */\n    workloadRows() {\n      const params = this.$route.params;\n      const { id } = params;\n      const rows = flatten(compact(this.allWorkloads)).filter((row) => !row.ownedByWorkload);\n      const namespacedRows = filter(rows, ({ metadata: { namespace } }) => namespace === id);\n\n      return namespacedRows;\n    }\n  },\n\n  methods: {\n    // sort states into 5 color-delineated categories: info, error, success, warning, unknown\n    reduceStates(states, total) {\n      const out = { success: total };\n\n      Object.keys(states).forEach((state) => {\n        out.success -= states[state];\n        if (!!out[state]) {\n          out[state] += states[state];\n        } else {\n          const genericStateKey = findKey(\n            this.statesByType,\n            (stateNames) => stateNames.includes(state)\n          );\n\n          if (genericStateKey) {\n            out[genericStateKey] ? out[genericStateKey] += states[state] : out[genericStateKey] = states[state];\n          } else {\n            out.unknown ? out.unknown += states[state] : out.unknown = states[state];\n          }\n        }\n      });\n\n      return out;\n    },\n\n    /**\n     * Retrieve workloads for this namespace and each type\n     */\n    getAllWorkloads() {\n      return Promise.all(values(WORKLOAD_TYPES)\n        // You may not have RBAC to see some of the types\n        .filter((type) => Boolean(this.schemaFor(type)))\n        .map((type) => this.$store.dispatch('cluster/findAll', { type }))\n      );\n    },\n\n    schemaFor(type) {\n      return this.$store.getters[`${ this.inStore }/schemaFor`](type);\n    },\n\n    typeListLocation(schema) {\n      if (schema?.links?.collection) {\n        const location = {\n          name:   'c-cluster-product-resource',\n          params: { ...this.$route.params, resource: schema.shortId }\n        };\n\n        return location;\n      }\n\n      return null;\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n      <ResourcesSummary\n        state-key=\"namespace.resourceStates\"\n        :value=\"accumulatedStateCounts\"\n        :required-states=\"summaryStates\"\n      />\n    </div>\n    <ResourceTabs\n      v-model=\"value\"\n      :mode=\"mode\"\n    >\n      <Tab :name=\"t('namespace.resources')\">\n        <SortableTable\n          default-sort-by=\"error\"\n          :table-actions=\"false\"\n          :row-actions=\"false\"\n          :rows=\"namespacedResourceCounts\"\n          :headers=\"headers\"\n        >\n          <template #col:type=\"{row}\">\n            <td>\n              <n-link\n                v-if=\"typeListLocation(row.schema)\"\n                :to=\"typeListLocation(row.schema)\"\n              >\n                {{ row.schema.pluralName }}\n              </n-link>\n              <span v-else>{{ row.schema.pluralName }}</span>\n            </td>\n          </template>\n        </SortableTable>\n      </Tab>\n\n      <Tab :name=\"t('namespace.workloads')\">\n        <ResourceTable\n          name=\"workloads\"\n          :groupable=\"false\"\n          v-bind=\"$attrs\"\n          :schema=\"workloadSchema\"\n          :rows=\"workloadRows\"\n        />\n      </Tab>\n    </ResourceTabs>\n    <MoveModal />\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]}]}