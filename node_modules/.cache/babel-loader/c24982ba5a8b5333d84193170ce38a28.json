{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/chart/rancher-backup/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/chart/rancher-backup/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFMzIGZyb20gJ0BzaGVsbC9jaGFydC9yYW5jaGVyLWJhY2t1cC9TMyc7CmltcG9ydCB7IFJhZGlvR3JvdXAgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1JhZGlvJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgU1RPUkFHRV9DTEFTUywgUFYgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBTVE9SQUdFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGFiOiBUYWIsCiAgICBSYWRpb0dyb3VwOiBSYWRpb0dyb3VwLAogICAgUzM6IFMzLAogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0LAogICAgQmFubmVyOiBCYW5uZXIKICB9LAogIGhhc1RhYnM6IHRydWUsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIHN0b3JhZ2VDbGFzc2VzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNUT1JBR0VfQ0xBU1MKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBwZXJzaXN0ZW50Vm9sdW1lczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBQVgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBoYXNoID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuc3RvcmFnZUNsYXNzZXMgPSBoYXNoLnN0b3JhZ2VDbGFzc2VzOwogICAgICAgICAgICBfdGhpcy5wZXJzaXN0ZW50Vm9sdW1lcyA9IGhhc2gucGVyc2lzdGVudFZvbHVtZXM7CiAgICAgICAgICAgIF90aGlzLnN0b3JhZ2VTb3VyY2UgPSBfdGhpcy5nZXRTdG9yYWdlU291cmNlKF90aGlzLnZhbHVlKSB8fCAnbm9uZSc7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWNyZXRzOiBbXSwKICAgICAgc3RvcmFnZUNsYXNzZXM6IFtdLAogICAgICBwZXJzaXN0ZW50Vm9sdW1lczogW10sCiAgICAgIHN0b3JhZ2VTb3VyY2U6IG51bGwsCiAgICAgIHN0b3JhZ2VDbGFzczogJycsCiAgICAgIHBlcnNpc3RlbnRWb2x1bWU6ICcnLAogICAgICByZWNsYWltV2FybmluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7CiAgICBkZWZhdWx0U3RvcmFnZUNsYXNzOiBmdW5jdGlvbiBkZWZhdWx0U3RvcmFnZUNsYXNzKCkgewogICAgICByZXR1cm4gdGhpcy5zdG9yYWdlQ2xhc3Nlcy5maWx0ZXIoZnVuY3Rpb24gKHNjKSB7CiAgICAgICAgdmFyIF9zYyRtZXRhZGF0YSRhbm5vdGF0aTsKICAgICAgICByZXR1cm4gKChfc2MkbWV0YWRhdGEkYW5ub3RhdGkgPSBzYy5tZXRhZGF0YS5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3NjJG1ldGFkYXRhJGFubm90YXRpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2MkbWV0YWRhdGEkYW5ub3RhdGlbU1RPUkFHRS5ERUZBVUxUX1NUT1JBR0VfQ0xBU1NdKSAmJiBzYy5tZXRhZGF0YS5hbm5vdGF0aW9uc1tTVE9SQUdFLkRFRkFVTFRfU1RPUkFHRV9DTEFTU10gIT09ICdmYWxzZSc7CiAgICAgIH0pWzBdIHx8ICcnOwogICAgfSwKICAgIGF2YWlsYWJsZVBWczogZnVuY3Rpb24gYXZhaWxhYmxlUFZzKCkgewogICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW50Vm9sdW1lcy5maWx0ZXIoZnVuY3Rpb24gKHB2KSB7CiAgICAgICAgcmV0dXJuIHB2LnN0YXR1cy5waGFzZS50b0xvd2VyQ2FzZSgpICE9PSAnYm91bmQnOwogICAgICB9KTsKICAgIH0sCiAgICByYWRpb09wdGlvbnM6IGZ1bmN0aW9uIHJhZGlvT3B0aW9ucygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBbJ25vbmUnLCAnczMnLCAncGlja1NDJywgJ3BpY2tQViddOwogICAgICB2YXIgbGFiZWxzID0gW3RoaXMudCgnYmFja3VwUmVzdG9yZU9wZXJhdG9yLmRlcGxveW1lbnQuc3RvcmFnZS5vcHRpb25zLm5vbmUnKSwgdGhpcy50KCdiYWNrdXBSZXN0b3JlT3BlcmF0b3IuZGVwbG95bWVudC5zdG9yYWdlLm9wdGlvbnMuczMnKSwgdGhpcy50KCdiYWNrdXBSZXN0b3JlT3BlcmF0b3IuZGVwbG95bWVudC5zdG9yYWdlLm9wdGlvbnMucGlja1NDJyksIHRoaXMudCgnYmFja3VwUmVzdG9yZU9wZXJhdG9yLmRlcGxveW1lbnQuc3RvcmFnZS5vcHRpb25zLnBpY2tQVicpXTsKICAgICAgcmV0dXJuIHsKICAgICAgICBvcHRpb25zOiBvcHRpb25zLAogICAgICAgIGxhYmVsczogbGFiZWxzCiAgICAgIH07CiAgICB9CiAgfSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10sIHsKICAgIHQ6ICdpMThuL3QnCiAgfSkpLAogIHdhdGNoOiB7CiAgICBzdG9yYWdlU291cmNlOiBmdW5jdGlvbiBzdG9yYWdlU291cmNlKG5ldSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpcywKICAgICAgICBfdGhpcyRzdG9yYWdlQ2xhc3M7CiAgICAgIGlmICghdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZSkgewogICAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVuY2UgPSB7fTsKICAgICAgfQogICAgICBpZiAoIXRoaXMudmFsdWUuczMpIHsKICAgICAgICB0aGlzLnZhbHVlLnMzID0ge307CiAgICAgIH0KICAgICAgc3dpdGNoIChuZXUpIHsKICAgICAgICBjYXNlICdwaWNrU0MnOgogICAgICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudmFsdWUuczMuZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgaWYgKHRoaXMudmFsdWUucGVyc2lzdGVuY2Uuc3RvcmFnZUNsYXNzKSB7CiAgICAgICAgICAgIHZhciBtYXRjaGVkU3RvcmFnZUNsYXNzID0gdGhpcy5zdG9yYWdlQ2xhc3Nlcy5maW5kKGZ1bmN0aW9uIChzYykgewogICAgICAgICAgICAgIHJldHVybiBzYy5pZCA9PT0gX3RoaXMyLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzczsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChtYXRjaGVkU3RvcmFnZUNsYXNzKSB7CiAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlQ2xhc3MgPSBtYXRjaGVkU3RvcmFnZUNsYXNzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0U3RvcmFnZUNsYXNzICYmICghdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5zdG9yYWdlQ2xhc3MgfHwgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5zdG9yYWdlQ2xhc3MgPT09ICctJykpIHsKICAgICAgICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5zdG9yYWdlQ2xhc3MgPSB0aGlzLmRlZmF1bHRTdG9yYWdlQ2xhc3MuaWQ7CiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUNsYXNzID0gdGhpcy5kZWZhdWx0U3RvcmFnZUNsYXNzOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCgoX3RoaXMkc3RvcmFnZUNsYXNzID0gdGhpcy5zdG9yYWdlQ2xhc3MpID09PSBudWxsIHx8IF90aGlzJHN0b3JhZ2VDbGFzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RvcmFnZUNsYXNzLnJlY2xhaW1Qb2xpY3kpID09PSAnRGVsZXRlJykgewogICAgICAgICAgICB0aGlzLnJlY2xhaW1XYXJuaW5nID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnZvbHVtZU5hbWU7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwaWNrUFYnOgogICAgICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudmFsdWUuczMuZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5zdG9yYWdlQ2xhc3MgPSAnLSc7CiAgICAgICAgICB0aGlzLnJlY2xhaW1XYXJuaW5nID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdzMyc6CiAgICAgICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLmVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudmFsdWUuczMuZW5hYmxlZCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5lbmFibGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnZhbHVlLnMzLmVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgc3RvcmFnZUNsYXNzOiBmdW5jdGlvbiBzdG9yYWdlQ2xhc3MoKSB7CiAgICAgIHZhciBuZXUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzcyA9IG5ldS5pZDsKICAgICAgaWYgKG5ldS5yZWNsYWltUG9saWN5ID09PSAnRGVsZXRlJykgewogICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHBlcnNpc3RlbnRWb2x1bWU6IGZ1bmN0aW9uIHBlcnNpc3RlbnRWb2x1bWUobmV1KSB7CiAgICAgIHZhciBfbmV1JHNwZWM7CiAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVuY2Uudm9sdW1lTmFtZSA9IG5ldS5tZXRhZGF0YS5uYW1lOwogICAgICBpZiAoKChfbmV1JHNwZWMgPSBuZXUuc3BlYykgPT09IG51bGwgfHwgX25ldSRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmV1JHNwZWMucGVyc2lzdGVudFZvbHVtZVJlY2xhaW1Qb2xpY3kpID09PSAnRGVsZXRlJykgewogICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U3RvcmFnZVNvdXJjZTogZnVuY3Rpb24gZ2V0U3RvcmFnZVNvdXJjZSgpIHsKICAgICAgaWYgKGdldCh0aGlzLnZhbHVlLCAnczMuZW5hYmxlZCcpKSB7CiAgICAgICAgcmV0dXJuICdzMyc7CiAgICAgIH0KICAgICAgaWYgKGdldCh0aGlzLnZhbHVlLCAncGVyc2lzdGVuY2UuZW5hYmxlZCcpKSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWUucGVyc2lzdGVuY2Uuc3RvcmFnZUNsYXNzKSB7CiAgICAgICAgICByZXR1cm4gJ3BpY2tTQyc7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnZvbHVtZU5hbWUpIHsKICAgICAgICAgIHJldHVybiAncGlja1BWJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuICdub25lJzsKICAgIH0sCiAgICB1cGRhdGVQYWdlVmFsaWQ6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2VWYWxpZCh1cGRhdGUpIHsKICAgICAgdGhpcy4kZW1pdCgndmFsaWQnLCB1cGRhdGUpOwogICAgfQogIH0sCiAgZ2V0OiBnZXQKfTs="},{"version":3,"names":["Tab","S3","RadioGroup","LabeledSelect","LabeledInput","Banner","get","allHash","STORAGE_CLASS","PV","mapGetters","STORAGE","components","hasTabs","props","value","type","Object","default","mode","String","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","storageClasses","$store","dispatch","persistentVolumes","sent","storageSource","getStorageSource","stop","data","secrets","storageClass","persistentVolume","reclaimWarning","computed","_objectSpread","defaultStorageClass","filter","sc","_sc$metadata$annotati","metadata","annotations","DEFAULT_STORAGE_CLASS","availablePVs","pv","status","phase","toLowerCase","radioOptions","options","labels","t","watch","neu","_this2","_this$storageClass","persistence","s3","enabled","matchedStorageClass","find","id","reclaimPolicy","volumeName","arguments","length","undefined","_neu$spec","name","spec","persistentVolumeReclaimPolicy","methods","updatePageValid","update","$emit"],"sources":["node_modules/@rancher/shell/chart/rancher-backup/index.vue"],"sourcesContent":["<script>\nimport Tab from '@shell/components/Tabbed/Tab';\nimport S3 from '@shell/chart/rancher-backup/S3';\nimport { RadioGroup } from '@components/Form/Radio';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Banner } from '@components/Banner';\nimport { get } from '@shell/utils/object';\nimport { allHash } from '@shell/utils/promise';\nimport { STORAGE_CLASS, PV } from '@shell/config/types';\nimport { mapGetters } from 'vuex';\nimport { STORAGE } from '@shell/config/labels-annotations';\n\nexport default {\n  components: {\n    Tab,\n    RadioGroup,\n    S3,\n    LabeledInput,\n    LabeledSelect,\n    Banner\n  },\n\n  hasTabs: true,\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n\n  async  fetch() {\n    const hash = await allHash({\n      storageClasses:    this.$store.dispatch('cluster/findAll', { type: STORAGE_CLASS }),\n      persistentVolumes: this.$store.dispatch('cluster/findAll', { type: PV }),\n    });\n\n    this.storageClasses = hash.storageClasses;\n    this.persistentVolumes = hash.persistentVolumes;\n\n    this.storageSource = this.getStorageSource(this.value) || 'none';\n  },\n\n  data() {\n    return {\n      secrets:           [],\n      storageClasses:    [],\n      persistentVolumes: [],\n      storageSource:     null,\n      storageClass:      '',\n      persistentVolume:  '',\n      reclaimWarning:    false\n    };\n  },\n\n  computed: {\n    defaultStorageClass() {\n      return this.storageClasses.filter((sc) => sc.metadata.annotations?.[STORAGE.DEFAULT_STORAGE_CLASS] && sc.metadata.annotations[STORAGE.DEFAULT_STORAGE_CLASS] !== 'false' )[0] || '';\n    },\n\n    availablePVs() {\n      return this.persistentVolumes.filter((pv) => pv.status.phase.toLowerCase() !== 'bound');\n    },\n\n    radioOptions() {\n      const options = ['none', 's3', 'pickSC', 'pickPV'];\n      const labels = [\n        this.t('backupRestoreOperator.deployment.storage.options.none'),\n        this.t('backupRestoreOperator.deployment.storage.options.s3'),\n        this.t('backupRestoreOperator.deployment.storage.options.pickSC'),\n        this.t('backupRestoreOperator.deployment.storage.options.pickPV'),\n      ];\n\n      return { options, labels };\n    },\n\n    ...mapGetters(['currentCluster'], { t: 'i18n/t' }),\n  },\n\n  watch: {\n    storageSource(neu) {\n      if (!this.value.persistence) {\n        this.value.persistence = {};\n      }\n      if (!this.value.s3) {\n        this.value.s3 = {};\n      }\n      switch (neu) {\n      case 'pickSC':\n        this.value.persistence.enabled = true;\n        this.value.s3.enabled = false;\n        if (this.value.persistence.storageClass) {\n          const matchedStorageClass = this.storageClasses.find((sc) => sc.id === this.value.persistence.storageClass);\n\n          if (matchedStorageClass) {\n            this.storageClass = matchedStorageClass;\n          }\n        }\n        if (this.defaultStorageClass && (!this.value.persistence.storageClass || this.value.persistence.storageClass === '-' )) {\n          this.value.persistence.storageClass = this.defaultStorageClass.id;\n          this.storageClass = this.defaultStorageClass;\n        }\n        if (this.storageClass?.reclaimPolicy === 'Delete') {\n          this.reclaimWarning = true;\n        }\n        delete this.value.persistence.volumeName;\n        break;\n      case 'pickPV':\n        this.value.persistence.enabled = true;\n        this.value.s3.enabled = false;\n        this.value.persistence.storageClass = '-';\n        this.reclaimWarning = false;\n        break;\n      case 's3':\n        this.value.persistence.enabled = false;\n        this.value.s3.enabled = true;\n        break;\n      default:\n        this.value.persistence.enabled = false;\n        this.value.s3.enabled = false;\n        break;\n      }\n    },\n\n    storageClass(neu = {}) {\n      this.value.persistence.storageClass = neu.id;\n      if (neu.reclaimPolicy === 'Delete') {\n        this.reclaimWarning = true;\n      } else {\n        this.reclaimWarning = false;\n      }\n    },\n\n    persistentVolume(neu) {\n      this.value.persistence.volumeName = neu.metadata.name;\n      if (neu.spec?.persistentVolumeReclaimPolicy === 'Delete') {\n        this.reclaimWarning = true;\n      } else {\n        this.reclaimWarning = false;\n      }\n    },\n  },\n\n  methods: {\n    getStorageSource() {\n      if (get(this.value, 's3.enabled')) {\n        return 's3';\n      } if (get(this.value, 'persistence.enabled')) {\n        if (this.value.persistence.storageClass) {\n          return 'pickSC';\n        }\n        if (this.value.persistence.volumeName) {\n          return 'pickPV';\n        }\n      }\n\n      return 'none';\n    },\n    updatePageValid(update) {\n      this.$emit('valid', update);\n    },\n  },\n  get\n};\n</script>\n\n<template>\n  <div>\n    <Tab\n      label=\"Chart Options\"\n      name=\"chartOptions\"\n    >\n      <Banner\n        color=\"info\"\n        :label=\"t('backupRestoreOperator.deployment.storage.tip')\"\n      />\n      <RadioGroup\n        v-model=\"storageSource\"\n        name=\"storageSource\"\n        :label=\"t('backupRestoreOperator.deployment.storage.label')\"\n        class=\"mb-10\"\n        :options=\"radioOptions.options\"\n        :labels=\"radioOptions.labels\"\n      />\n      <S3\n        v-if=\"storageSource==='s3'\"\n        :value=\"value.s3\"\n        :mode=\"mode\"\n        @valid=\"updatePageValid($event)\"\n      />\n      <template v-else>\n        <div class=\"row\">\n          <template v-if=\"storageSource === 'pickSC'\">\n            <div class=\"col span-6\">\n              <LabeledSelect\n                :key=\"storageSource\"\n                v-model=\"storageClass\"\n                :get-option-label=\"opt => opt.id || opt\"\n                :label=\"t('backupRestoreOperator.deployment.storage.storageClass.label')\"\n                :tooltip=\"reclaimWarning ? t('backupRestoreOperator.deployment.storage.warning', {type: 'Storage Class'}) : null\"\n                :mode=\"mode\"\n                :status=\"reclaimWarning ? 'warning' : null\"\n                :options=\"storageClasses\"\n                :hover-tooltip=\"true\"\n                data-testid=\"backup-chart-select-existing-storage-class\"\n              />\n            </div>\n            <div class=\"col span-6\">\n              <LabeledInput\n                v-model=\"value.persistence.size\"\n                :mode=\"mode\"\n                :label=\"t('backupRestoreOperator.deployment.size')\"\n              />\n            </div>\n          </template>\n          <div\n            v-else-if=\"storageSource === 'pickPV'\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              :key=\"storageSource\"\n              v-model=\"persistentVolume\"\n              :get-option-label=\"opt => opt.id || opt\"\n              :label=\"t('backupRestoreOperator.deployment.storage.persistentVolume.label')\"\n              :tooltip=\"reclaimWarning ? t('backupRestoreOperator.deployment.storage.warning', {type: 'Persistent Volume'}) : null\"\n              :mode=\"mode\"\n              :status=\"reclaimWarning ? 'warning' : null\"\n              :options=\"availablePVs\"\n              :hover-tooltip=\"true\"\n            />\n          </div>\n        </div>\n      </template>\n    </Tab>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n::v-deep .radio-group.label>SPAN {\n  font-size: 1em;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}