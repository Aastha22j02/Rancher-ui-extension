{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgUHJvZ3Jlc3NCYXJNdWx0aSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Qcm9ncmVzc0Jhck11bHRpJzsKaW1wb3J0IHsgdWNGaXJzdCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBjb2xvckZvclN0YXRlLCBzdGF0ZVNvcnQgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwppbXBvcnQgeyBzb3J0QnkgfSBmcm9tICdAc2hlbGwvdXRpbHMvc29ydCc7CmltcG9ydCB7IEZMRUVUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQcm9ncmVzc0Jhck11bHRpOiBQcm9ncmVzc0Jhck11bHRpCiAgfSwKICBwcm9wczogewogICAgcm93OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjbHVzdGVyTGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdW1tYXJ5OiBmdW5jdGlvbiBzdW1tYXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzLAogICAgICAgIF90aGlzJHJvdyRzdGF0dXM7CiAgICAgIGlmICh0aGlzLmNsdXN0ZXJMYWJlbCkgewogICAgICAgIHZhciBfdGhpcyRyb3ckY2x1c3RlclJlc287CiAgICAgICAgcmV0dXJuICgoX3RoaXMkcm93JGNsdXN0ZXJSZXNvID0gdGhpcy5yb3cuY2x1c3RlclJlc291cmNlU3RhdHVzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LmNsdXN0ZXJMYWJlbCA9PT0gX3RoaXMuY2x1c3RlckxhYmVsOwogICAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRyb3ckY2x1c3RlclJlc28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdyRjbHVzdGVyUmVzby5zdGF0dXMucmVzb3VyY2VDb3VudHMpIHx8IHt9OwogICAgICB9CiAgICAgIHJldHVybiAoKF90aGlzJHJvdyRzdGF0dXMgPSB0aGlzLnJvdy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHJvdyRzdGF0dXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdyRzdGF0dXMucmVzb3VyY2VDb3VudHMpIHx8IHt9OwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciBfdGhpcyRyb3ckdGFyZ2V0Q2x1c3Q7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlUGFydHMubGVuZ3RoID4gMCAmJiAodGhpcy5yb3cudHlwZSA9PT0gRkxFRVQuQ0xVU1RFUiB8fCAoKF90aGlzJHJvdyR0YXJnZXRDbHVzdCA9IHRoaXMucm93LnRhcmdldENsdXN0ZXJzKSA9PT0gbnVsbCB8fCBfdGhpcyRyb3ckdGFyZ2V0Q2x1c3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdyR0YXJnZXRDbHVzdC5sZW5ndGgpKTsKICAgIH0sCiAgICBzdGF0ZVBhcnRzOiBmdW5jdGlvbiBzdGF0ZVBhcnRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnN1bW1hcnkpLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiAheC5zdGFydHNXaXRoKCdkZXNpcmVkJyk7CiAgICAgIH0pOwogICAgICB2YXIgb3V0ID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciB0ZXh0Q29sb3IgPSBjb2xvckZvclN0YXRlKGtleSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiB1Y0ZpcnN0KGtleSksCiAgICAgICAgICBjb2xvcjogdGV4dENvbG9yLnJlcGxhY2UoL3RleHQtLywgJ2JnLScpLAogICAgICAgICAgdGV4dENvbG9yOiB0ZXh0Q29sb3IsCiAgICAgICAgICB2YWx1ZTogX3RoaXMyLnN1bW1hcnlba2V5XSwKICAgICAgICAgIHNvcnQ6IHN0YXRlU29ydCh0ZXh0Q29sb3IsIGtleSkKICAgICAgICB9OwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC52YWx1ZSA+IDA7CiAgICAgIH0pOwogICAgICByZXR1cm4gc29ydEJ5KG91dCwgJ3NvcnQ6ZGVzYycpOwogICAgfQogIH0KfTs="},{"version":3,"names":["ProgressBarMulti","ucFirst","colorForState","stateSort","sortBy","FLEET","components","props","row","type","Object","required","clusterLabel","String","default","computed","summary","_this","_this$row$status","_this$row$clusterReso","clusterResourceStatus","find","x","status","resourceCounts","show","_this$row$targetClust","stateParts","length","CLUSTER","targetClusters","_this2","keys","filter","startsWith","out","map","key","textColor","label","color","replace","value","sort"],"sources":["node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue"],"sourcesContent":["<script>\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport { ucFirst } from '@shell/utils/string';\nimport { colorForState, stateSort } from '@shell/plugins/dashboard-store/resource-class';\nimport { sortBy } from '@shell/utils/sort';\nimport { FLEET } from '@shell/config/types';\n\nexport default {\n  components: { ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n\n    clusterLabel: {\n      type:     String,\n      required: false,\n      default:  null,\n    }\n  },\n\n  computed: {\n    summary() {\n      if (this.clusterLabel) {\n        return this.row.clusterResourceStatus.find((x) => {\n          return x.clusterLabel === this.clusterLabel;\n        })?.status.resourceCounts || {};\n      }\n\n      return this.row.status?.resourceCounts || {};\n    },\n\n    show() {\n      return this.stateParts.length > 0 && (this.row.type === FLEET.CLUSTER || this.row.targetClusters?.length);\n    },\n\n    stateParts() {\n      const keys = Object.keys(this.summary).filter((x) => !x.startsWith('desired'));\n\n      const out = keys.map((key) => {\n        const textColor = colorForState(key);\n\n        return {\n          label: ucFirst(key),\n          color: textColor.replace(/text-/, 'bg-'),\n          textColor,\n          value: this.summary[key],\n          sort:  stateSort(textColor, key),\n        };\n      }).filter((x) => x.value > 0);\n\n      return sortBy(out, 'sort:desc');\n    },\n\n  },\n};\n</script>\n\n<template>\n  <v-popover\n    v-if=\"show\"\n    class=\"text-center hand\"\n    placement=\"top\"\n    :open-group=\"row.id\"\n    :trigger=\"show ? 'click' : 'manual'\"\n    offset=\"1\"\n  >\n    <ProgressBarMulti\n      :values=\"stateParts\"\n      class=\"mb-5\"\n    />\n    <span v-if=\"summary.desiredReady === summary.ready\">{{ summary.ready }}</span>\n    <span v-else>{{ summary.ready }} of {{ summary.desiredReady }}</span>\n\n    <template #popover>\n      <table\n        v-if=\"show\"\n        class=\"fixed\"\n      >\n        <tbody>\n          <tr\n            v-for=\"obj in stateParts\"\n            :key=\"obj.label\"\n          >\n            <td\n              class=\"text-left pr-20\"\n              :class=\"{ [obj.textColor]: true }\"\n            >\n              {{ obj.label }}\n            </td>\n            <td class=\"text-right\">\n              {{ obj.value }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </template>\n  </v-popover>\n  <div\n    v-else\n    class=\"text-center text-muted\"\n  >\n    &mdash;\n  </div>\n</template>\n\n<style lang=\"scss\">\n.col-scale {\n  position: relative;\n\n  .trigger {\n    width: 100%;\n  }\n}\n\n.scale {\n  margin: 0;\n  padding: 0;\n  line-height: initial;\n}\n</style>\n"],"mappings":";;;;;;;;AACA,OAAAA,gBAAA;AACA,SAAAC,OAAA;AACA,SAAAC,aAAA,EAAAC,SAAA;AACA,SAAAC,MAAA;AACA,SAAAC,KAAA;AAEA;EACAC,UAAA;IAAAN,gBAAA,EAAAA;EAAA;EAEAO,KAAA;IACAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,YAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;MACAG,OAAA;IACA;EACA;EAEAC,QAAA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;QAAAC,gBAAA;MACA,SAAAN,YAAA;QAAA,IAAAO,qBAAA;QACA,SAAAA,qBAAA,QAAAX,GAAA,CAAAY,qBAAA,CAAAC,IAAA,WAAAC,CAAA;UACA,OAAAA,CAAA,CAAAV,YAAA,KAAAK,KAAA,CAAAL,YAAA;QACA,gBAAAO,qBAAA,uBAFAA,qBAAA,CAEAI,MAAA,CAAAC,cAAA;MACA;MAEA,SAAAN,gBAAA,QAAAV,GAAA,CAAAe,MAAA,cAAAL,gBAAA,uBAAAA,gBAAA,CAAAM,cAAA;IACA;IAEAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,qBAAA;MACA,YAAAC,UAAA,CAAAC,MAAA,cAAApB,GAAA,CAAAC,IAAA,KAAAJ,KAAA,CAAAwB,OAAA,MAAAH,qBAAA,QAAAlB,GAAA,CAAAsB,cAAA,cAAAJ,qBAAA,uBAAAA,qBAAA,CAAAE,MAAA;IACA;IAEAD,UAAA,WAAAA,WAAA;MAAA,IAAAI,MAAA;MACA,IAAAC,IAAA,GAAAtB,MAAA,CAAAsB,IAAA,MAAAhB,OAAA,EAAAiB,MAAA,WAAAX,CAAA;QAAA,QAAAA,CAAA,CAAAY,UAAA;MAAA;MAEA,IAAAC,GAAA,GAAAH,IAAA,CAAAI,GAAA,WAAAC,GAAA;QACA,IAAAC,SAAA,GAAApC,aAAA,CAAAmC,GAAA;QAEA;UACAE,KAAA,EAAAtC,OAAA,CAAAoC,GAAA;UACAG,KAAA,EAAAF,SAAA,CAAAG,OAAA;UACAH,SAAA,EAAAA,SAAA;UACAI,KAAA,EAAAX,MAAA,CAAAf,OAAA,CAAAqB,GAAA;UACAM,IAAA,EAAAxC,SAAA,CAAAmC,SAAA,EAAAD,GAAA;QACA;MACA,GAAAJ,MAAA,WAAAX,CAAA;QAAA,OAAAA,CAAA,CAAAoB,KAAA;MAAA;MAEA,OAAAtC,MAAA,CAAA+B,GAAA;IACA;EAEA;AACA","ignoreList":[]}]}