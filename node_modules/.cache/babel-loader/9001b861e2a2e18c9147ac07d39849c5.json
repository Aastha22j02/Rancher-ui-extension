{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/auth/AzureWarning.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/auth/AzureWarning.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLyBUaGlzIGNvbXBvbmVudCB3aWxsIGJlY29tZSByZWR1bmRhbnQgaW4gMjAyMywgc2VlIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2dyYXBoL21pZ3JhdGUtYXp1cmUtYWQtZ3JhcGgtb3ZlcnZpZXcKaW1wb3J0IHsgTk9STUFOLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBBWlVSRV9NSUdSQVRFRCB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgQkxBTktfQ0xVU1RFUiB9IGZyb20gJ0BzaGVsbC9zdG9yZS9zdG9yZS10eXBlcy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKF90aGlzLiRzdG9yZS5nZXR0ZXJzWydpc1JhbmNoZXInXSAmJiBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9zY2hlbWFGb3InXShNQU5BR0VNRU5ULkFVVEhfQ09ORklHKSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kJywgewogICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5BVVRIX0NPTkZJRywKICAgICAgICAgICAgICBpZDogJ2F6dXJlYWQnLAogICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgdXJsOiAiL3YzLyIuY29uY2F0KE5PUk1BTi5BVVRIX0NPTkZJRywgIi9henVyZWFkIikKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBfdGhpcy5hdXRoQ29uZmlnID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dGhDb25maWc6IG51bGwsCiAgICAgIGF1dGhDb25maWdSb3V0ZTogewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItYXV0aC1jb25maWctaWQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm91dGUucGFyYW1zLmNsdXN0ZXIgfHwgQkxBTktfQ0xVU1RFUiwKICAgICAgICAgIGlkOiAnYXp1cmVhZCcKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2hvd1dhcm5pbmc6IGZ1bmN0aW9uIHNob3dXYXJuaW5nKCkgewogICAgICBpZiAoIXRoaXMuYXV0aENvbmZpZykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gZ2V0KHRoaXMuYXV0aENvbmZpZywgImFubm90YXRpb25zLlwiIi5jb25jYXQoQVpVUkVfTUlHUkFURUQsICJcIiIpKSAhPT0gJ3RydWUnICYmIHRoaXMuYXV0aENvbmZpZy5lbmFibGVkOwogICAgfQogIH0KfTs="},{"version":3,"names":["NORMAN","MANAGEMENT","get","AZURE_MIGRATED","BLANK_CLUSTER","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","getters","AUTH_CONFIG","dispatch","type","id","opt","url","concat","authConfig","sent","stop","data","authConfigRoute","name","params","cluster","$route","computed","showWarning","enabled"],"sources":["node_modules/@rancher/shell/components/auth/AzureWarning.vue"],"sourcesContent":["<script>\n// This component will become redundant in 2023, see https://docs.microsoft.com/en-us/graph/migrate-azure-ad-graph-overview\nimport { NORMAN, MANAGEMENT } from '@shell/config/types';\nimport { get } from '@shell/utils/object';\nimport { AZURE_MIGRATED } from '@shell/config/labels-annotations';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\n\nexport default {\n  async fetch() {\n    // Check for access to steve authConfigs because everyone can load the norman auth config schema\n    if (\n      this.$store.getters['isRancher'] &&\n      this.$store.getters['management/schemaFor'](MANAGEMENT.AUTH_CONFIG)\n    ) {\n      this.authConfig = await this.$store.dispatch('rancher/find', {\n        type: NORMAN.AUTH_CONFIG,\n        id:   'azuread',\n        opt:  { url: `/v3/${ NORMAN.AUTH_CONFIG }/azuread` }\n      });\n    }\n  },\n\n  data() {\n    return {\n      authConfig:      null,\n      authConfigRoute: {\n        name:   'c-cluster-auth-config-id',\n        params: {\n          cluster: this.$route.params.cluster || BLANK_CLUSTER,\n          id:      'azuread'\n        }\n      }\n    };\n  },\n\n  computed: {\n    showWarning() {\n      if (!this.authConfig) {\n        return false;\n      }\n\n      return (\n        get(this.authConfig, `annotations.\"${ AZURE_MIGRATED }\"`) !== 'true' &&\n        this.authConfig.enabled\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    v-if=\"showWarning\"\n    id=\"azure-warn\"\n    class=\"banner\"\n  >\n    <p>\n      {{ t('authConfig.azuread.updateEndpoint.banner.message') }}\n      <router-link :to=\"authConfigRoute\">\n        {{ t('authConfig.azuread.updateEndpoint.banner.linkText') }}\n      </router-link>\n    </p>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n#azure-warn {\n  background-color: var(--warning);\n  color: var(--warning-text);\n  line-height: 2em;\n  width: 100%;\n\n  > p {\n    text-align: center;\n  }\n}\n</style>\n"],"mappings":";;;AACA;AACA,SAAAA,MAAA,EAAAC,UAAA;AACA,SAAAC,GAAA;AACA,SAAAC,cAAA;AACA,SAAAC,aAAA;AAEA;EACAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,MAGAT,KAAA,CAAAU,MAAA,CAAAC,OAAA,iBACAX,KAAA,CAAAU,MAAA,CAAAC,OAAA,yBAAAhB,UAAA,CAAAiB,WAAA;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAEAT,KAAA,CAAAU,MAAA,CAAAG,QAAA;cACAC,IAAA,EAAApB,MAAA,CAAAkB,WAAA;cACAG,EAAA;cACAC,GAAA;gBAAAC,GAAA,SAAAC,MAAA,CAAAxB,MAAA,CAAAkB,WAAA;cAAA;YACA;UAAA;YAJAZ,KAAA,CAAAmB,UAAA,GAAAZ,QAAA,CAAAa,IAAA;UAAA;UAAA;YAAA,OAAAb,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAjB,OAAA;IAAA;EAMA;EAEAkB,IAAA,WAAAA,KAAA;IACA;MACAH,UAAA;MACAI,eAAA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAC,MAAA,CAAAF,MAAA,CAAAC,OAAA,IAAA5B,aAAA;UACAiB,EAAA;QACA;MACA;IACA;EACA;EAEAa,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,UAAAV,UAAA;QACA;MACA;MAEA,OACAvB,GAAA,MAAAuB,UAAA,mBAAAD,MAAA,CAAArB,cAAA,uBACA,KAAAsB,UAAA,CAAAW,OAAA;IAEA;EACA;AACA","ignoreList":[]}]}