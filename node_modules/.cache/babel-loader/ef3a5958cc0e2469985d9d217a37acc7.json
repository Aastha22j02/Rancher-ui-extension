{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/store/i18n.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/store/i18n.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnOwppbXBvcnQgSW50bE1lc3NhZ2VGb3JtYXQgZnJvbSAnaW50bC1tZXNzYWdlZm9ybWF0JzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCBlbiBmcm9tICdAc2hlbGwvYXNzZXRzL3RyYW5zbGF0aW9ucy9lbi11cy55YW1sJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdCwgZ2V0VmVuZG9yLCBET0NTX0JBU0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL3ByaXZhdGUtbGFiZWwnOwppbXBvcnQgeyBsb2FkVHJhbnNsYXRpb24gfSBmcm9tICdAc2hlbGwvdXRpbHMvZHluYW1pYy1pbXBvcnRlcic7CnZhciBOT05FID0gJ25vbmUnOwp2YXIgREVGQVVMVF9MT0NBTEUgPSAnZW4tdXMnOwoKLy8gRm9ybWF0dGVycyBjYW4ndCBiZSBzZXJpYWxpemVkIGludG8gc3RhdGUKdmFyIGludGxDYWNoZSA9IHt9Owp2YXIgbGFzdExvYWRlZCA9IDA7CmV4cG9ydCB2YXIgc3RhdGUgPSBmdW5jdGlvbiBzdGF0ZSgpIHsKICAvLyBjb25zdCB0cmFuc2xhdGlvbkNvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoJ0BzaGVsbC9hc3NldHMvdHJhbnNsYXRpb25zJywgdHJ1ZSwgLy4qLyk7CiAgLy8gY29uc3QgYXZhaWxhYmxlID0gdHJhbnNsYXRpb25Db250ZXh0LmtleXMoKS5tYXAocGF0aCA9PiBwYXRoLnJlcGxhY2UoL14uKlwvKFteXC9dKylcLlteLl0rJC8sICckMScpKTsKICAvLyBVc2luZyByZXF1aXJlLmNvbnRleHQoKSBmb3JjZXMgdGhlbSB0byBhbGwgYmUgaW4gdGhlIHNhbWUgd2VicGFjayBjaHVuayBuYW1lLi4uIGp1c3QgaGFyZGNvZGUgdGhlIGxpc3QgZm9yIG5vdyBzbyB6aC1oYW5zCiAgLy8gZ2V0cyBnZW5lcmF0ZWQgYXMgaXQncyBvd24gY2h1bmsgaW5zdGVhZCBvZiBiZWluZyBsb2FkZWQgYWxsIHRoZSB0aW1lLgogIHZhciBhdmFpbGFibGUgPSBbREVGQVVMVF9MT0NBTEUsICd6aC1oYW5zJ107CiAgdmFyIG91dCA9IHsKICAgIGRlZmF1bHQ6IERFRkFVTFRfTE9DQUxFLAogICAgc2VsZWN0ZWQ6IG51bGwsCiAgICBwcmV2aW91czogbnVsbCwKICAgIGF2YWlsYWJsZTogYXZhaWxhYmxlLAogICAgdHJhbnNsYXRpb25zOiBfZGVmaW5lUHJvcGVydHkoe30sIERFRkFVTFRfTE9DQUxFLCBlbikKICB9OwogIHJldHVybiBvdXQ7Cn07CmV4cG9ydCB2YXIgZ2V0dGVycyA9IHsKICBzZWxlY3RlZExvY2FsZUxhYmVsOiBmdW5jdGlvbiBzZWxlY3RlZExvY2FsZUxhYmVsKHN0YXRlKSB7CiAgICB2YXIga2V5ID0gImxvY2FsZS4iLmNvbmNhdChzdGF0ZS5zZWxlY3RlZCk7CiAgICBpZiAoc3RhdGUuc2VsZWN0ZWQgPT09IE5PTkUpIHsKICAgICAgcmV0dXJuICIlIi5jb25jYXQoa2V5LCAiJSIpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGdldChzdGF0ZS50cmFuc2xhdGlvbnNbc3RhdGUuZGVmYXVsdF0sIGtleSk7CiAgICB9CiAgfSwKICBhdmFpbGFibGVMb2NhbGVzOiBmdW5jdGlvbiBhdmFpbGFibGVMb2NhbGVzKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICB2YXIgb3V0ID0ge307CiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RhdGUuYXZhaWxhYmxlKSwKICAgICAgX3N0ZXA7CiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciBsb2NhbGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICB2YXIga2V5ID0gImxvY2FsZS4iLmNvbmNhdChsb2NhbGUpOwogICAgICAgIGlmIChzdGF0ZS5zZWxlY3RlZCA9PT0gTk9ORSkgewogICAgICAgICAgb3V0W2xvY2FsZV0gPSAiJSIuY29uY2F0KGtleSwgIiUiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3V0W2xvY2FsZV0gPSBnZXQoc3RhdGUudHJhbnNsYXRpb25zW3N0YXRlLmRlZmF1bHRdLCBrZXkpOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQogICAgcmV0dXJuIG91dDsKICB9LAogIHQ6IGZ1bmN0aW9uIHQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCBhcmdzLCBsYW5ndWFnZSkgewogICAgICBpZiAoc3RhdGUuc2VsZWN0ZWQgPT09IE5PTkUgJiYgIWxhbmd1YWdlKSB7CiAgICAgICAgcmV0dXJuICIlIi5jb25jYXQoa2V5LCAiJSIpOwogICAgICB9CiAgICAgIHZhciBsb2NhbGUgPSBsYW5ndWFnZSB8fCBzdGF0ZS5zZWxlY3RlZDsKICAgICAgdmFyIGNhY2hlS2V5ID0gIiIuY29uY2F0KGxvY2FsZSwgIi8iKS5jb25jYXQoa2V5KTsKICAgICAgdmFyIGZvcm1hdHRlciA9IGludGxDYWNoZVtjYWNoZUtleV07CiAgICAgIGlmICghZm9ybWF0dGVyKSB7CiAgICAgICAgdmFyIF9tc2c7CiAgICAgICAgdmFyIG1zZyA9IGdldChzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSwga2V5KTsKICAgICAgICBpZiAoIW1zZykgewogICAgICAgICAgbXNnID0gZ2V0KHN0YXRlLnRyYW5zbGF0aW9uc1tzdGF0ZS5kZWZhdWx0XSwga2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKG1zZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgICBpZiAoX3R5cGVvZihtc2cpID09PSAnb2JqZWN0JykgewogICAgICAgICAgY29uc29sZS5lcnJvcignVHJhbnNsYXRpb24gZm9yJywgY2FjaGVLZXksICdpcyBhbiBvYmplY3QnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgaWYgKChfbXNnID0gbXNnKSAhPT0gbnVsbCAmJiBfbXNnICE9PSB2b2lkIDAgJiYgX21zZy5pbmNsdWRlcygneycpKSB7CiAgICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bE1lc3NhZ2VGb3JtYXQobXNnLCBsb2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3JtYXR0ZXIgPSBtc2c7CiAgICAgICAgfQogICAgICAgIGludGxDYWNoZVtjYWNoZUtleV0gPSBmb3JtYXR0ZXI7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdHRlcjsKICAgICAgfSBlbHNlIGlmIChmb3JtYXR0ZXIgJiYgZm9ybWF0dGVyLmZvcm1hdCkgewogICAgICAgIC8vIEluamVjdCB0aGluZ3MgbGlrZSBhcHBOYW1lIHNvIHRoZXkncmUgYWx3YXlzIGF2YWlsYWJsZSBpbiBhbnkgdHJhbnNsYXRpb24KICAgICAgICB2YXIgbW9yZUFyZ3MgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIHZlbmRvcjogZ2V0VmVuZG9yKCksCiAgICAgICAgICBhcHBOYW1lOiBnZXRQcm9kdWN0KCksCiAgICAgICAgICBkb2NzQmFzZTogRE9DU19CQVNFCiAgICAgICAgfSwgYXJncyk7CiAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQobW9yZUFyZ3MpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnPyc7CiAgICAgIH0KICAgIH07CiAgfSwKICBleGlzdHM6IGZ1bmN0aW9uIGV4aXN0cyhzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIGxhbmd1YWdlKSB7CiAgICAgIHZhciBsb2NhbGUgPSBsYW5ndWFnZSB8fCBzdGF0ZS5zZWxlY3RlZDsKICAgICAgdmFyIGNhY2hlS2V5ID0gIiIuY29uY2F0KGxvY2FsZSwgIi8iKS5jb25jYXQoa2V5KTsKICAgICAgaWYgKGludGxDYWNoZVtjYWNoZUtleV0pIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICB2YXIgbXNnID0gZ2V0KHN0YXRlLnRyYW5zbGF0aW9uc1tzdGF0ZS5kZWZhdWx0XSwga2V5KTsKICAgICAgaWYgKCFtc2cgJiYgbG9jYWxlICYmIGxvY2FsZSAhPT0gTk9ORSkgewogICAgICAgIG1zZyA9IGdldChzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSwga2V5KTsKICAgICAgfQogICAgICBpZiAobXNnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogIH0sCiAgY3VycmVudDogZnVuY3Rpb24gY3VycmVudChzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlbGVjdGVkOwogICAgfTsKICB9LAogIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RhdGUuZGVmYXVsdDsKICAgIH07CiAgfSwKICBtdWx0aVdpdGhGYWxsYmFjazogZnVuY3Rpb24gbXVsdGlXaXRoRmFsbGJhY2soc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2tleSc7CiAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtW2tleV0gPSBnZXR0ZXJzLndpdGhGYWxsYmFjayhpdGVtW2tleV0sIG51bGwsIGl0ZW1ba2V5XSk7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgfTsKICB9LAogIHdpdGhGYWxsYmFjazogZnVuY3Rpb24gd2l0aEZhbGxiYWNrKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgYXJncywgZmFsbGJhY2spIHsKICAgICAgdmFyIGZhbGxiYWNrSXNLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlOwogICAgICAvLyBTdXBwb3J0IHdpdGhGYWxsYmFjayhrZXksZmFsbGJhY2spIHdoZW4gbm8gYXJncwogICAgICBpZiAoIWZhbGxiYWNrICYmIHR5cGVvZiBhcmdzID09PSAnc3RyaW5nJykgewogICAgICAgIGZhbGxiYWNrID0gYXJnczsKICAgICAgICBhcmdzID0ge307CiAgICAgIH0KICAgICAgaWYgKGdldHRlcnMuZXhpc3RzKGtleSkpIHsKICAgICAgICByZXR1cm4gZ2V0dGVycy50KGtleSwgYXJncyk7CiAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tJc0tleSkgewogICAgICAgIHJldHVybiBnZXR0ZXJzLnQoZmFsbGJhY2ssIGFyZ3MpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxsYmFjazsKICAgICAgfQogICAgfTsKICB9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIGxvYWRUcmFuc2xhdGlvbnM6IGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbnMoc3RhdGUsIF9yZWYpIHsKICAgIHZhciBsb2NhbGUgPSBfcmVmLmxvY2FsZSwKICAgICAgdHJhbnNsYXRpb25zID0gX3JlZi50cmFuc2xhdGlvbnM7CiAgICBzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSA9IHRyYW5zbGF0aW9uczsKICB9LAogIG1lcmdlTG9hZFRyYW5zbGF0aW9uczogZnVuY3Rpb24gbWVyZ2VMb2FkVHJhbnNsYXRpb25zKHN0YXRlLCBfcmVmMikgewogICAgdmFyIGxvY2FsZSA9IF9yZWYyLmxvY2FsZSwKICAgICAgdHJhbnNsYXRpb25zID0gX3JlZjIudHJhbnNsYXRpb25zOwogICAgaWYgKCFzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSkgewogICAgICBzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSA9IHRyYW5zbGF0aW9uczsKICAgIH0gZWxzZSB7CiAgICAgIG1lcmdlKHN0YXRlLnRyYW5zbGF0aW9uc1tsb2NhbGVdLCB0cmFuc2xhdGlvbnMpOwogICAgfQogIH0sCiAgc2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uIHNldFNlbGVjdGVkKHN0YXRlLCBsb2NhbGUpIHsKICAgIC8vIHRoaXMgd2lsbCBzZXQgdGhlIGxhbmcgcGFyYW0gb24gSFRNTCAoYmVzdCBwbGFjZSB0byBhZGQgdGhpcyBhY3Rpb24gc2luY2UgYWxsIGxvY2FsZSBjaGFuZ2VzIGdvIHRocm91Z2ggdGhpcyBtdXRhdGlvbikKICAgIGlmIChsb2NhbGUgPT09IE5PTkUpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnJlbW92ZUF0dHJpYnV0ZSgnbGFuZycpOwogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnNldEF0dHJpYnV0ZSgnbGFuZycsIGxvY2FsZSk7CiAgICB9CiAgICBzdGF0ZS5zZWxlY3RlZCA9IGxvY2FsZTsKICB9LAogIC8vIEFkZCBhIGxvY2FsZSB0byB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbG9jYWxlcwogIGFkZExvY2FsZTogZnVuY3Rpb24gYWRkTG9jYWxlKHN0YXRlLCBfcmVmMykgewogICAgdmFyIGxvY2FsZSA9IF9yZWYzLmxvY2FsZSwKICAgICAgbGFiZWwgPSBfcmVmMy5sYWJlbDsKICAgIHZhciBoYXNMb2NhbGUgPSBzdGF0ZS5hdmFpbGFibGUuZmluZChmdW5jdGlvbiAobCkgewogICAgICByZXR1cm4gbCA9PT0gbG9jYWxlOwogICAgfSk7CiAgICBpZiAoIWhhc0xvY2FsZSkgewogICAgICB2YXIgX3N0YXRlJHRyYW5zbGF0aW9ucyRzOwogICAgICBzdGF0ZS5hdmFpbGFibGUucHVzaChsb2NhbGUpOwogICAgICBpZiAoISgoX3N0YXRlJHRyYW5zbGF0aW9ucyRzID0gc3RhdGUudHJhbnNsYXRpb25zW3N0YXRlLmRlZmF1bHRdKSAhPT0gbnVsbCAmJiBfc3RhdGUkdHJhbnNsYXRpb25zJHMgIT09IHZvaWQgMCAmJiAoX3N0YXRlJHRyYW5zbGF0aW9ucyRzID0gX3N0YXRlJHRyYW5zbGF0aW9ucyRzLmxvY2FsZSkgIT09IG51bGwgJiYgX3N0YXRlJHRyYW5zbGF0aW9ucyRzICE9PSB2b2lkIDAgJiYgX3N0YXRlJHRyYW5zbGF0aW9ucyRzW2xvY2FsZV0pKSB7CiAgICAgICAgc3RhdGUudHJhbnNsYXRpb25zW3N0YXRlLmRlZmF1bHRdLmxvY2FsZVtsb2NhbGVdID0gbGFiZWw7CiAgICAgIH0KICAgIH0KICB9LAogIC8vIFJlbW92ZSBsb2NhbGUKICByZW1vdmVMb2NhbGU6IGZ1bmN0aW9uIHJlbW92ZUxvY2FsZShzdGF0ZSwgbG9jYWxlKSB7CiAgICB2YXIgaW5kZXggPSBzdGF0ZS5hdmFpbGFibGUuZmluZEluZGV4KGZ1bmN0aW9uIChsKSB7CiAgICAgIHJldHVybiBsID09PSBsb2NhbGU7CiAgICB9KTsKICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgc3RhdGUuYXZhaWxhYmxlLnNwbGljZShpbmRleCwgMSk7CiAgICAgIGlmIChzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSkgewogICAgICAgIGRlbGV0ZSBzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXTsKICAgICAgfQogICAgfQogIH0KfTsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoX3JlZjQpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY0LnN0YXRlLAogICAgICBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2gsCiAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQucm9vdEdldHRlcnM7CiAgICB2YXIgc2VsZWN0ZWQgPSByb290R2V0dGVyc1sncHJlZnMvZ2V0J10oJ2xvY2FsZScpOwoKICAgIC8vIFdlIG1pZ2h0IGJlIHVzaW5nIGEgbG9jYWxlIHRoYXQgaXMgbG9hZGVkIGJ5IGEgcGx1Z2luIHRoYXQgaXMgbm8gbG9uZ2VyIGxvYWRlZAogICAgdmFyIGV4aXN0cyA9ICEhc3RhdGUuYXZhaWxhYmxlLmZpbmQoZnVuY3Rpb24gKGxvYykgewogICAgICByZXR1cm4gbG9jID09PSBzZWxlY3RlZDsKICAgIH0pOwogICAgaWYgKCFzZWxlY3RlZCB8fCAhZXhpc3RzKSB7CiAgICAgIHNlbGVjdGVkID0gc3RhdGUuZGVmYXVsdDsKICAgIH0KICAgIHJldHVybiBkaXNwYXRjaCgnc3dpdGNoVG8nLCBzZWxlY3RlZCk7CiAgfSwKICBsb2FkOiBmdW5jdGlvbiBsb2FkKF9yZWY1LCBsb2NhbGUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHRyYW5zbGF0aW9uc01vZHVsZSwgdHJhbnNsYXRpb25zOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGxvYWRUcmFuc2xhdGlvbihsb2NhbGUpOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICB0cmFuc2xhdGlvbnNNb2R1bGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICB0cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnNNb2R1bGUuZGVmYXVsdCB8fCB0cmFuc2xhdGlvbnNNb2R1bGU7CiAgICAgICAgICAgIGNvbW1pdCgnbG9hZFRyYW5zbGF0aW9ucycsIHsKICAgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM6IHRyYW5zbGF0aW9ucwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1lcmdlTG9hZDogZnVuY3Rpb24gbWVyZ2VMb2FkKF9yZWY2LCBfcmVmNykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIGxvY2FsZSwgbW9kdWxlLCBwcm9taXNlLCB0cmFuc2xhdGlvbnNNb2R1bGUsIHRyYW5zbGF0aW9uczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICAgICAgICAgIGxvY2FsZSA9IF9yZWY3LmxvY2FsZSwgbW9kdWxlID0gX3JlZjcubW9kdWxlOwogICAgICAgICAgICBwcm9taXNlID0gdHlwZW9mIG1vZHVsZSA9PT0gJ2Z1bmN0aW9uJyA/IG1vZHVsZSgpIDogUHJvbWlzZS5yZXNvbHZlKG1vZHVsZSk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHRyYW5zbGF0aW9uc01vZHVsZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICB0cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnNNb2R1bGUuZGVmYXVsdCB8fCB0cmFuc2xhdGlvbnNNb2R1bGU7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjb21taXQoJ21lcmdlTG9hZFRyYW5zbGF0aW9ucycsIHsKICAgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM6IHRyYW5zbGF0aW9ucwogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgLy8gQWRkIGEgbG9jYWxlIHRvIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBsb2NhbGVzCiAgYWRkTG9jYWxlOiBmdW5jdGlvbiBhZGRMb2NhbGUoX3JlZjgsIF9yZWY5KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgdmFyIGxvY2FsZSA9IF9yZWY5LmxvY2FsZSwKICAgICAgbGFiZWwgPSBfcmVmOS5sYWJlbDsKICAgIGNvbW1pdCgnYWRkTG9jYWxlJywgewogICAgICBsb2NhbGU6IGxvY2FsZSwKICAgICAgbGFiZWw6IGxhYmVsCiAgICB9KTsKICB9LAogIC8vIFJlbW92ZSBhIGxvY2FsZSBmcm9tIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBsb2NhbGVzCiAgcmVtb3ZlTG9jYWxlOiBmdW5jdGlvbiByZW1vdmVMb2NhbGUoX3JlZjEwLCBfcmVmMTEpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMTAuY29tbWl0LAogICAgICBnZXR0ZXJzID0gX3JlZjEwLmdldHRlcnMsCiAgICAgIGRpc3BhdGNoID0gX3JlZjEwLmRpc3BhdGNoOwogICAgdmFyIGxvY2FsZSA9IF9yZWYxMS5sb2NhbGU7CiAgICB2YXIgY3VycmVudCA9IGdldHRlcnNbJ2N1cnJlbnQnXSgpOwoKICAgIC8vIElmIHdlIGFyZSByZW1vdmluZyB0aGUgY3VycmVudCBsb2NhbGUsIHN3aXRjaCBiYWNrIHRvIHRoZSBkZWZhdWx0IGxvY2FsZQogICAgaWYgKGN1cnJlbnQgPT09IGxvY2FsZSkgewogICAgICBkaXNwYXRjaCgnc3dpdGNoVG8nLCBERUZBVUxUX0xPQ0FMRSk7CiAgICB9CiAgICBjb21taXQoJ3JlbW92ZUxvY2FsZScsIGxvY2FsZSk7CiAgfSwKICBzd2l0Y2hUbzogZnVuY3Rpb24gc3dpdGNoVG8oX3JlZjEyLCBsb2NhbGUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgX3Jvb3RTdGF0ZSQkcGx1Z2luLCBfcm9vdFN0YXRlJCRwbHVnaW4yOwogICAgICB2YXIgc3RhdGUsIHJvb3RTdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgZ2V0dGVycywgY3VycmVudExvY2FsZSwgbGFzdExvYWQsIGkxOG5FeHQsIHJlbG9hZCwgcCwgX3Jvb3RTdGF0ZSQkcGx1Z2luMywgZGVmYXVsdEkxOG5FeHQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RhdGUgPSBfcmVmMTIuc3RhdGUsIHJvb3RTdGF0ZSA9IF9yZWYxMi5yb290U3RhdGUsIGNvbW1pdCA9IF9yZWYxMi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjEyLmRpc3BhdGNoLCBnZXR0ZXJzID0gX3JlZjEyLmdldHRlcnM7CiAgICAgICAgICAgIGN1cnJlbnRMb2NhbGUgPSBnZXR0ZXJzWydjdXJyZW50J10oKTsKICAgICAgICAgICAgaWYgKCEobG9jYWxlID09PSBOT05FKSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb21taXQoJ3NldFNlbGVjdGVkJywgbG9jYWxlKTsKCiAgICAgICAgICAgIC8vIERvbid0IHJlbWVtYmVyIGludG8gY29va2llCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgbGFzdExvYWQgPSAoX3Jvb3RTdGF0ZSQkcGx1Z2luID0gcm9vdFN0YXRlLiRwbHVnaW4pID09PSBudWxsIHx8IF9yb290U3RhdGUkJHBsdWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jvb3RTdGF0ZSQkcGx1Z2luLmxhc3RMb2FkOwogICAgICAgICAgICBpMThuRXh0ID0gKF9yb290U3RhdGUkJHBsdWdpbjIgPSByb290U3RhdGUuJHBsdWdpbikgPT09IG51bGwgfHwgX3Jvb3RTdGF0ZSQkcGx1Z2luMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jvb3RTdGF0ZSQkcGx1Z2luMi5nZXREeW5hbWljKCdsMTBuJywgbG9jYWxlKTsKICAgICAgICAgICAgcmVsb2FkID0gbGFzdExvYWRlZCA8IGxhc3RMb2FkOwogICAgICAgICAgICBsYXN0TG9hZGVkID0gbGFzdExvYWQ7CiAgICAgICAgICAgIGlmICghKCFzdGF0ZS50cmFuc2xhdGlvbnNbbG9jYWxlXSB8fCByZWxvYWQpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEwOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2xvYWQnLCBsb2NhbGUpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE1OwogICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMTApOwogICAgICAgICAgICBpZiAoISghaTE4bkV4dCAmJiBsb2NhbGUgIT09IERFRkFVTFRfTE9DQUxFKSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gVHJ5IHRvIHNob3cgc29tZXRoaW5nLi4uIHdlIGNvdWxkIG5vdCBsb2FkIHRoZSBsb2NhbGUgZnJvbSB0aGUgYnVpbHQtaW4gdHJhbnNsYXRpb25zCiAgICAgICAgICAgIC8vIGFuZCB0aGVyZSBhcmUgbm8gcGx1Z2lucyBwcm92aWRpbmcgdHJhbnNsYXRpb25zCiAgICAgICAgICAgIGNvbW1pdCgnc2V0U2VsZWN0ZWQnLCBERUZBVUxUX0xPQ0FMRSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGlmICghKGkxOG5FeHQgJiYgaTE4bkV4dC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBwID0gW107CiAgICAgICAgICAgIGkxOG5FeHQuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsKICAgICAgICAgICAgICBwLnB1c2goZGlzcGF0Y2goJ21lcmdlTG9hZCcsIHsKICAgICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLAogICAgICAgICAgICAgICAgbW9kdWxlOiBmbgogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBsb2FkIGFsbCBvZiB0aGUgZGVmYXVsdCBsb2NhbGVzIGZyb20gdGhlIHBsdWdpbnMgZm9yIGZhbGxiYWNrCiAgICAgICAgICAgIGlmIChsb2NhbGUgIT09IERFRkFVTFRfTE9DQUxFKSB7CiAgICAgICAgICAgICAgZGVmYXVsdEkxOG5FeHQgPSAoX3Jvb3RTdGF0ZSQkcGx1Z2luMyA9IHJvb3RTdGF0ZS4kcGx1Z2luKSA9PT0gbnVsbCB8fCBfcm9vdFN0YXRlJCRwbHVnaW4zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm9vdFN0YXRlJCRwbHVnaW4zLmdldER5bmFtaWMoJ2wxMG4nLCBERUZBVUxUX0xPQ0FMRSk7CiAgICAgICAgICAgICAgaWYgKGRlZmF1bHRJMThuRXh0ICYmIGRlZmF1bHRJMThuRXh0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgZGVmYXVsdEkxOG5FeHQuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsKICAgICAgICAgICAgICAgICAgcC5wdXNoKGRpc3BhdGNoKCdtZXJnZUxvYWQnLCB7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxlOiBERUZBVUxUX0xPQ0FMRSwKICAgICAgICAgICAgICAgICAgICBtb2R1bGU6IGZuCiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI0OwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI3OwogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocCk7CiAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjk7CiAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9jb250ZXh0M1siY2F0Y2giXSgyNCk7CiAgICAgICAgICAgIGlmICghKGxvY2FsZSAhPT0gREVGQVVMVF9MT0NBTEUpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb21taXQoJ3NldFNlbGVjdGVkJywgREVGQVVMVF9MT0NBTEUpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICBjb21taXQoJ3NldFNlbGVjdGVkJywgbG9jYWxlKTsKCiAgICAgICAgICAgIC8vIE9ueSB1cGRhdGUgdGhlIHByZWZlcmVuY2UgaWYgdGhlIGxvY2FsZSBjaGFuZ2VkCiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYWxlICE9PSBsb2NhbGUpIHsKICAgICAgICAgICAgICBkaXNwYXRjaCgncHJlZnMvc2V0JywgewogICAgICAgICAgICAgICAga2V5OiAnbG9jYWxlJywKICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS5zZWxlY3RlZAogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMTAsIDE1XSwgWzI0LCAyOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgdG9nZ2xlTm9uZTogZnVuY3Rpb24gdG9nZ2xlTm9uZShfcmVmMTMpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYxMy5zdGF0ZSwKICAgICAgZGlzcGF0Y2ggPSBfcmVmMTMuZGlzcGF0Y2g7CiAgICBpZiAoc3RhdGUuc2VsZWN0ZWQgPT09IE5PTkUpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCdzd2l0Y2hUbycsIHN0YXRlLnByZXZpb3VzIHx8IHN0YXRlLmRlZmF1bHQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoKCdzd2l0Y2hUbycsIE5PTkUpOwogICAgfQogIH0KfTs="},{"version":3,"names":["merge","IntlMessageFormat","get","en","getProduct","getVendor","DOCS_BASE","loadTranslation","NONE","DEFAULT_LOCALE","intlCache","lastLoaded","state","available","out","default","selected","previous","translations","_defineProperty","getters","selectedLocaleLabel","key","concat","availableLocales","_iterator","_createForOfIteratorHelper","_step","s","n","done","locale","value","err","e","f","t","args","language","cacheKey","formatter","_msg","msg","undefined","_typeof","console","error","includes","format","moreArgs","_objectSpread","vendor","appName","docsBase","exists","current","multiWithFallback","items","arguments","length","map","item","withFallback","fallback","fallbackIsKey","mutations","loadTranslations","_ref","mergeLoadTranslations","_ref2","setSelected","document","querySelector","removeAttribute","setAttribute","addLocale","_ref3","label","hasLocale","find","l","_state$translations$s","push","removeLocale","index","findIndex","splice","actions","init","_ref4","commit","dispatch","rootGetters","loc","load","_ref5","_asyncToGenerator","_regeneratorRuntime","mark","_callee","translationsModule","wrap","_callee$","_context","prev","next","sent","abrupt","stop","mergeLoad","_ref6","_ref7","_callee2","module","promise","_callee2$","_context2","Promise","resolve","_ref8","_ref9","_ref10","_ref11","switchTo","_ref12","_callee3","_rootState$$plugin","_rootState$$plugin2","rootState","currentLocale","lastLoad","i18nExt","reload","p","_rootState$$plugin3","defaultI18nExt","_callee3$","_context3","$plugin","getDynamic","t0","forEach","fn","all","t1","root","toggleNone","_ref13"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/store/i18n.js"],"sourcesContent":["import merge from 'lodash/merge';\nimport IntlMessageFormat from 'intl-messageformat';\nimport { get } from '@shell/utils/object';\nimport en from '@shell/assets/translations/en-us.yaml';\nimport { getProduct, getVendor, DOCS_BASE } from '@shell/config/private-label';\nimport { loadTranslation } from '@shell/utils/dynamic-importer';\n\nconst NONE = 'none';\nconst DEFAULT_LOCALE = 'en-us';\n\n// Formatters can't be serialized into state\nconst intlCache = {};\n\nlet lastLoaded = 0;\n\nexport const state = function() {\n  // const translationContext = require.context('@shell/assets/translations', true, /.*/);\n  // const available = translationContext.keys().map(path => path.replace(/^.*\\/([^\\/]+)\\.[^.]+$/, '$1'));\n  // Using require.context() forces them to all be in the same webpack chunk name... just hardcode the list for now so zh-hans\n  // gets generated as it's own chunk instead of being loaded all the time.\n  const available = [DEFAULT_LOCALE, 'zh-hans'];\n\n  const out = {\n    default:      DEFAULT_LOCALE,\n    selected:     null,\n    previous:     null,\n    available,\n    translations: { [DEFAULT_LOCALE]: en },\n  };\n\n  return out;\n};\n\nexport const getters = {\n  selectedLocaleLabel(state) {\n    const key = `locale.${ state.selected }`;\n\n    if ( state.selected === NONE ) {\n      return `%${ key }%`;\n    } else {\n      return get(state.translations[state.default], key);\n    }\n  },\n\n  availableLocales(state, getters) {\n    const out = {};\n\n    for ( const locale of state.available ) {\n      const key = `locale.${ locale }`;\n\n      if ( state.selected === NONE ) {\n        out[locale] = `%${ key }%`;\n      } else {\n        out[locale] = get(state.translations[state.default], key);\n      }\n    }\n\n    return out;\n  },\n\n  t: (state) => (key, args, language) => {\n    if (state.selected === NONE && !language) {\n      return `%${ key }%`;\n    }\n\n    const locale = language || state.selected;\n    const cacheKey = `${ locale }/${ key }`;\n    let formatter = intlCache[cacheKey];\n\n    if ( !formatter ) {\n      let msg = get(state.translations[locale], key);\n\n      if ( !msg ) {\n        msg = get(state.translations[state.default], key);\n      }\n\n      if ( msg === undefined ) {\n        return undefined;\n      }\n\n      if ( typeof msg === 'object' ) {\n        console.error('Translation for', cacheKey, 'is an object'); // eslint-disable-line no-console\n\n        return undefined;\n      }\n\n      if ( msg?.includes('{')) {\n        formatter = new IntlMessageFormat(msg, locale);\n      } else {\n        formatter = msg;\n      }\n\n      intlCache[cacheKey] = formatter;\n    }\n\n    if ( typeof formatter === 'string' ) {\n      return formatter;\n    } else if ( formatter && formatter.format ) {\n      // Inject things like appName so they're always available in any translation\n      const moreArgs = {\n        vendor:   getVendor(),\n        appName:  getProduct(),\n        docsBase: DOCS_BASE,\n        ...args\n      };\n\n      return formatter.format(moreArgs);\n    } else {\n      return '?';\n    }\n  },\n\n  exists: (state) => (key, language) => {\n    const locale = language || state.selected;\n    const cacheKey = `${ locale }/${ key }`;\n\n    if ( intlCache[cacheKey] ) {\n      return true;\n    }\n\n    let msg = get(state.translations[state.default], key);\n\n    if ( !msg && locale && locale !== NONE ) {\n      msg = get(state.translations[locale], key);\n    }\n\n    if ( msg !== undefined ) {\n      return true;\n    }\n\n    return false;\n  },\n\n  current: (state) => () => {\n    return state.selected;\n  },\n\n  default: (state) => () => {\n    return state.default;\n  },\n\n  multiWithFallback: (state, getters) => (items, key = 'key') => {\n    return items.map((item) => {\n      item[key] = getters.withFallback(item[key], null, item[key]);\n\n      return item;\n    });\n  },\n\n  withFallback: (state, getters) => (key, args, fallback, fallbackIsKey = false) => {\n    // Support withFallback(key,fallback) when no args\n    if ( !fallback && typeof args === 'string' ) {\n      fallback = args;\n      args = {};\n    }\n\n    if ( getters.exists(key) ) {\n      return getters.t(key, args);\n    } else if ( fallbackIsKey ) {\n      return getters.t(fallback, args);\n    } else {\n      return fallback;\n    }\n  },\n\n};\n\nexport const mutations = {\n  loadTranslations(state, { locale, translations }) {\n    state.translations[locale] = translations;\n  },\n\n  mergeLoadTranslations(state, { locale, translations }) {\n    if (!state.translations[locale]) {\n      state.translations[locale] = translations;\n    } else {\n      merge(state.translations[locale], translations);\n    }\n  },\n\n  setSelected(state, locale) {\n    // this will set the lang param on HTML (best place to add this action since all locale changes go through this mutation)\n    if (locale === NONE) {\n      document.querySelector('html').removeAttribute('lang');\n    } else {\n      document.querySelector('html').setAttribute('lang', locale);\n    }\n\n    state.selected = locale;\n  },\n\n  // Add a locale to the list of available locales\n  addLocale(state, { locale, label }) {\n    const hasLocale = state.available.find((l) => l === locale);\n\n    if (!hasLocale) {\n      state.available.push(locale);\n      if (!state.translations[state.default]?.locale?.[locale]) {\n        state.translations[state.default].locale[locale] = label;\n      }\n    }\n  },\n\n  // Remove locale\n  removeLocale(state, locale) {\n    const index = state.available.findIndex((l) => l === locale);\n\n    if (index !== -1) {\n      state.available.splice(index, 1);\n\n      if (state.translations[locale]) {\n        delete state.translations[locale];\n      }\n    }\n  }\n};\n\nexport const actions = {\n  init({\n    state, commit, dispatch, rootGetters\n  }) {\n    let selected = rootGetters['prefs/get']('locale');\n\n    // We might be using a locale that is loaded by a plugin that is no longer loaded\n    const exists = !!state.available.find((loc) => loc === selected);\n\n    if ( !selected || !exists) {\n      selected = state.default;\n    }\n\n    return dispatch('switchTo', selected);\n  },\n\n  async load({ commit }, locale) {\n    const translationsModule = await loadTranslation(locale);\n    const translations = translationsModule.default || translationsModule;\n\n    commit('loadTranslations', { locale, translations });\n\n    return true;\n  },\n\n  async mergeLoad({ commit }, { locale, module }) {\n    const promise = typeof (module) === 'function' ? module() : Promise.resolve(module);\n    const translationsModule = await promise;\n    const translations = translationsModule.default || translationsModule;\n\n    return commit('mergeLoadTranslations', { locale, translations });\n  },\n\n  // Add a locale to the list of available locales\n  addLocale({ commit }, { locale, label }) {\n    commit('addLocale', { locale, label });\n  },\n\n  // Remove a locale from the list of available locales\n  removeLocale({ commit, getters, dispatch }, { locale }) {\n    const current = getters['current']();\n\n    // If we are removing the current locale, switch back to the default locale\n    if (current === locale) {\n      dispatch('switchTo', DEFAULT_LOCALE);\n    }\n\n    commit('removeLocale', locale );\n  },\n\n  async switchTo({\n    state,\n    rootState,\n    commit,\n    dispatch,\n    getters\n  }, locale) {\n    const currentLocale = getters['current']();\n\n    if ( locale === NONE ) {\n      commit('setSelected', locale);\n\n      // Don't remember into cookie\n      return;\n    }\n\n    const lastLoad = rootState.$plugin?.lastLoad;\n    const i18nExt = rootState.$plugin?.getDynamic('l10n', locale);\n    const reload = lastLoaded < lastLoad;\n\n    lastLoaded = lastLoad;\n\n    if ( !state.translations[locale] || reload) {\n      try {\n        await dispatch('load', locale);\n      } catch (e) {\n        if (!i18nExt && locale !== DEFAULT_LOCALE) {\n          // Try to show something... we could not load the locale from the built-in translations\n          // and there are no plugins providing translations\n          commit('setSelected', DEFAULT_LOCALE);\n\n          return;\n        }\n      }\n\n      // Load all of the locales from the plugins\n      if (i18nExt && i18nExt.length) {\n        const p = [];\n\n        i18nExt.forEach((fn) => {\n          p.push(dispatch('mergeLoad', { locale, module: fn }));\n        });\n\n        // load all of the default locales from the plugins for fallback\n        if (locale !== DEFAULT_LOCALE) {\n          const defaultI18nExt = rootState.$plugin?.getDynamic('l10n', DEFAULT_LOCALE);\n\n          if (defaultI18nExt && defaultI18nExt.length) {\n            defaultI18nExt.forEach((fn) => {\n              p.push(dispatch('mergeLoad', { locale: DEFAULT_LOCALE, module: fn }));\n            });\n          }\n        }\n\n        try {\n          await Promise.all(p);\n        } catch (e) {\n          if (locale !== DEFAULT_LOCALE) {\n            commit('setSelected', DEFAULT_LOCALE);\n\n            return;\n          }\n        }\n      }\n    }\n\n    commit('setSelected', locale);\n\n    // Ony update the preference if the locale changed\n    if (currentLocale !== locale) {\n      dispatch('prefs/set', {\n        key:   'locale',\n        value: state.selected\n      }, { root: true });\n    }\n  },\n\n  toggleNone({ state, dispatch }) {\n    if ( state.selected === NONE ) {\n      return dispatch('switchTo', state.previous || state.default);\n    } else {\n      return dispatch('switchTo', NONE);\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}