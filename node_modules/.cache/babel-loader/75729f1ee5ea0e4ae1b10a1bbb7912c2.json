{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/store/linode.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/store/linode.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgYWRkUGFyYW0sIGFkZFBhcmFtcyB9IGZyb20gJ0BzaGVsbC91dGlscy91cmwnOwp2YXIgRU5EUE9JTlQgPSAnYXBpLmxpbm9kZS5jb20vdjQnOwpleHBvcnQgdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGNhY2hlOiB7fQogIH07Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIHNldENhY2hlOiBmdW5jdGlvbiBzZXRDYWNoZShzdGF0ZSwgX3JlZikgewogICAgdmFyIGNyZWRlbnRpYWxJZCA9IF9yZWYuY3JlZGVudGlhbElkLAogICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgdmFyIGNhY2hlID0gc3RhdGUuY2FjaGVbY3JlZGVudGlhbElkXTsKICAgIGlmICghY2FjaGUpIHsKICAgICAgY2FjaGUgPSB7fTsKICAgICAgc3RhdGUuY2FjaGVbY3JlZGVudGlhbElkXSA9IGNhY2hlOwogICAgfQogICAgY2FjaGVba2V5XSA9IHZhbHVlOwogIH0KfTsKZXhwb3J0IHZhciBnZXR0ZXJzID0gewogIGZyb21DYWNoZTogZnVuY3Rpb24gZnJvbUNhY2hlKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgIHZhciBfc3RhdGUkY2FjaGUkY3JlZGVudGk7CiAgICAgIHZhciBjcmVkZW50aWFsSWQgPSBfcmVmMi5jcmVkZW50aWFsSWQsCiAgICAgICAga2V5ID0gX3JlZjIua2V5OwogICAgICByZXR1cm4gKF9zdGF0ZSRjYWNoZSRjcmVkZW50aSA9IHN0YXRlLmNhY2hlW2NyZWRlbnRpYWxJZF0pID09PSBudWxsIHx8IF9zdGF0ZSRjYWNoZSRjcmVkZW50aSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJGNhY2hlJGNyZWRlbnRpW2tleV07CiAgICB9OwogIH0KfTsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIHJlZ2lvbk9wdGlvbnM6IGZ1bmN0aW9uIHJlZ2lvbk9wdGlvbnMoX3JlZjMsIF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIGNyZWRlbnRpYWxJZCwgcmVnaW9ucywgb3V0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICAgICAgICBjcmVkZW50aWFsSWQgPSBfcmVmNC5jcmVkZW50aWFsSWQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2NhY2hlZENvbW1hbmQnLCB7CiAgICAgICAgICAgICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsSWQsCiAgICAgICAgICAgICAgY29tbWFuZDogJ3JlZ2lvbnMnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZWdpb25zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgb3V0ID0gcmVnaW9ucy5kYXRhLmZpbHRlcihmdW5jdGlvbiAocmVnaW9uKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lvbi5zdGF0dXMgPT09ICdvayc7CiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAocmVnaW9uKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGxhYmVsOiByZWdpb24uaWQsCiAgICAgICAgICAgICAgICB2YWx1ZTogcmVnaW9uLmlkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHNvcnRCeShvdXQsICdsYWJlbCcpKTsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgaW5zdGFuY2VPcHRpb25zOiBmdW5jdGlvbiBpbnN0YW5jZU9wdGlvbnMoX3JlZjUsIF9yZWY2KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGRpc3BhdGNoLCByb290R2V0dGVycywgY3JlZGVudGlhbElkLCB0eXBlcywgYXZhaWxhYmxlOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzID0gX3JlZjUucm9vdEdldHRlcnM7CiAgICAgICAgICAgIGNyZWRlbnRpYWxJZCA9IF9yZWY2LmNyZWRlbnRpYWxJZDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2NhY2hlZENvbW1hbmQnLCB7CiAgICAgICAgICAgICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsSWQsCiAgICAgICAgICAgICAgY29tbWFuZDogJ2xpbm9kZS90eXBlcycKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHR5cGVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGF2YWlsYWJsZSA9IHR5cGVzLmRhdGEubWFwKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgICAgICAgdmFyIG91dCA9IHsKICAgICAgICAgICAgICAgIGNsYXNzOiB0eXBlLmNsYXNzLAogICAgICAgICAgICAgICAgbGFiZWw6IHR5cGUubGFiZWwsCiAgICAgICAgICAgICAgICBtZW1vcnlHYjogdHlwZS5tZW1vcnksCiAgICAgICAgICAgICAgICBkaXNrOiB0eXBlLmRpc2sgLyAxMDI0LAogICAgICAgICAgICAgICAgdmNwdXM6IHR5cGUudmNwdXMsCiAgICAgICAgICAgICAgICB2YWx1ZTogdHlwZS5pZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgb3V0LmxhYmVsID0gcm9vdEdldHRlcnNbJ2kxOG4vdCddKCdjbHVzdGVyLm1hY2hpbmVDb25maWcubGlub2RlLnR5cGVMYWJlbCcsIG91dCk7CiAgICAgICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBzb3J0QnkoYXZhaWxhYmxlLCBbJ2NsYXNzJywgJ21lbW9yeUdiJywgJ3ZjcHVzJywgJ2Rpc2snXSkpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGltYWdlT3B0aW9uczogZnVuY3Rpb24gaW1hZ2VPcHRpb25zKF9yZWY3LCBfcmVmOCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgY3JlZGVudGlhbElkLCBpbWFnZXMsIG91dDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoOwogICAgICAgICAgICBjcmVkZW50aWFsSWQgPSBfcmVmOC5jcmVkZW50aWFsSWQ7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdjYWNoZWRDb21tYW5kJywgewogICAgICAgICAgICAgIGNyZWRlbnRpYWxJZDogY3JlZGVudGlhbElkLAogICAgICAgICAgICAgIGNvbW1hbmQ6ICdpbWFnZXMnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpbWFnZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgb3V0ID0gaW1hZ2VzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpbWFnZSkgewogICAgICAgICAgICAgIHJldHVybiBpbWFnZS5zdGF0dXMgPT09ICdhdmFpbGFibGUnOwogICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGxhYmVsOiBpbWFnZS5sYWJlbCwKICAgICAgICAgICAgICAgIHZhbHVlOiBpbWFnZS5pZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgc29ydEJ5KG91dCwgJ2xhYmVsJykpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIGNhY2hlZENvbW1hbmQ6IGZ1bmN0aW9uIGNhY2hlZENvbW1hbmQoX3JlZjksIF9yZWYxMCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBzdGF0ZSwgZ2V0dGVycywgY29tbWl0LCBkaXNwYXRjaCwgY3JlZGVudGlhbElkLCBjb21tYW5kLCBvdXQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RhdGUgPSBfcmVmOS5zdGF0ZSwgZ2V0dGVycyA9IF9yZWY5LmdldHRlcnMsIGNvbW1pdCA9IF9yZWY5LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmOS5kaXNwYXRjaDsKICAgICAgICAgICAgY3JlZGVudGlhbElkID0gX3JlZjEwLmNyZWRlbnRpYWxJZCwgY29tbWFuZCA9IF9yZWYxMC5jb21tYW5kOwogICAgICAgICAgICBvdXQgPSBnZXR0ZXJzWydmcm9tQ2FjaGUnXSh7CiAgICAgICAgICAgICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsSWQsCiAgICAgICAgICAgICAga2V5OiBjb21tYW5kCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAob3V0KSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdyZXF1ZXN0JywgewogICAgICAgICAgICAgIGNyZWRlbnRpYWxJZDogY3JlZGVudGlhbElkLAogICAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmQKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIG91dCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICBjb21taXQoJ3NldENhY2hlJywgewogICAgICAgICAgICAgIGNyZWRlbnRpYWxJZDogY3JlZGVudGlhbElkLAogICAgICAgICAgICAgIGtleTogY29tbWFuZCwKICAgICAgICAgICAgICB2YWx1ZTogb3V0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgb3V0KTsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KF9yZWYxMSwgX3JlZjEyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIF9yZXMkbGlua3M7CiAgICAgIHZhciBkaXNwYXRjaCwgdG9rZW4sIGNyZWRlbnRpYWxJZCwgY29tbWFuZCwgb3B0LCBvdXQsIHVybCwgaGVhZGVycywgcmVzOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjExLmRpc3BhdGNoOwogICAgICAgICAgICB0b2tlbiA9IF9yZWYxMi50b2tlbiwgY3JlZGVudGlhbElkID0gX3JlZjEyLmNyZWRlbnRpYWxJZCwgY29tbWFuZCA9IF9yZWYxMi5jb21tYW5kLCBvcHQgPSBfcmVmMTIub3B0LCBvdXQgPSBfcmVmMTIub3V0OwogICAgICAgICAgICBvcHQgPSBvcHQgfHwge307CiAgICAgICAgICAgIHVybCA9ICcvbWV0YS9wcm94eS8nOwogICAgICAgICAgICBpZiAob3B0LnVybCkgewogICAgICAgICAgICAgIHVybCArPSBvcHQudXJsLnJlcGxhY2UoL15odHRwcz86XC9cLy8sICcnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB1cmwgKz0gIiIuY29uY2F0KEVORFBPSU5ULCAiLyIpLmNvbmNhdChjb21tYW5kKTsKICAgICAgICAgICAgICB1cmwgPSBhZGRQYXJhbSh1cmwsICdwZXJfcGFnZScsIG9wdC5wZXJfcGFnZSB8fCAxMDAwKTsKICAgICAgICAgICAgICB1cmwgPSBhZGRQYXJhbXModXJsLCBvcHQucGFyYW1zIHx8IHt9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsSWQpIHsKICAgICAgICAgICAgICBoZWFkZXJzWydYLUFQSS1DYXR0bGVBdXRoLUhlYWRlciddID0gIkJlYXJlciBjcmVkSUQ9Ii5jb25jYXQoY3JlZGVudGlhbElkLCAiIHBhc3N3b3JkRmllbGQ9dG9rZW4iKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbikgewogICAgICAgICAgICAgIGhlYWRlcnNbJ1gtQVBJLUF1dGgtSGVhZGVyJ10gPSAiQmVhcmVyICIuY29uY2F0KHRva2VuKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbWFuYWdlbWVudC9yZXF1ZXN0JywgewogICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgaWYgKG91dCkgewogICAgICAgICAgICAgIG91dFtjb21tYW5kXSA9IG91dFtjb21tYW5kXS5jb25jYXQocmVzW2NvbW1hbmRdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBvdXQgPSByZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIERlLXBhZ2luYXRpb24KICAgICAgICAgICAgaWYgKCEocmVzICE9PSBudWxsICYmIHJlcyAhPT0gdm9pZCAwICYmIChfcmVzJGxpbmtzID0gcmVzLmxpbmtzKSAhPT0gbnVsbCAmJiBfcmVzJGxpbmtzICE9PSB2b2lkIDAgJiYgKF9yZXMkbGlua3MgPSBfcmVzJGxpbmtzLnBhZ2VzKSAhPT0gbnVsbCAmJiBfcmVzJGxpbmtzICE9PSB2b2lkIDAgJiYgX3JlcyRsaW5rcy5uZXh0KSkgewogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3B0LnVybCA9IHJlcy5saW5rcy5wYWdlcy5uZXh0OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgZGlzcGF0Y2goJ3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgICAgIGNyZWRlbnRpYWxJZDogY3JlZGVudGlhbElkLAogICAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmQsCiAgICAgICAgICAgICAgb3B0OiBvcHQsCiAgICAgICAgICAgICAgb3V0OiBvdXQKICAgICAgICAgICAgfSkpOwogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIG91dCk7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["sortBy","addParam","addParams","ENDPOINT","state","cache","mutations","setCache","_ref","credentialId","key","value","getters","fromCache","_ref2","_state$cache$credenti","actions","regionOptions","_ref3","_ref4","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","dispatch","regions","out","wrap","_callee$","_context","prev","next","command","sent","data","filter","region","status","map","label","id","abrupt","stop","instanceOptions","_ref5","_ref6","_callee2","rootGetters","types","available","_callee2$","_context2","type","class","memoryGb","memory","disk","vcpus","imageOptions","_ref7","_ref8","_callee3","images","_callee3$","_context3","image","cachedCommand","_ref9","_ref10","_callee4","_callee4$","_context4","request","_ref11","_ref12","_callee5","_res$links","token","opt","url","headers","res","_callee5$","_context5","replace","concat","per_page","params","Accept","redirectUnauthorized","root","links","pages"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/store/linode.js"],"sourcesContent":["import { sortBy } from '@shell/utils/sort';\nimport { addParam, addParams } from '@shell/utils/url';\n\nconst ENDPOINT = 'api.linode.com/v4';\n\nexport const state = () => {\n  return { cache: {} };\n};\n\nexport const mutations = {\n  setCache(state, { credentialId, key, value }) {\n    let cache = state.cache[credentialId];\n\n    if ( !cache ) {\n      cache = {};\n      state.cache[credentialId] = cache;\n    }\n\n    cache[key] = value;\n  },\n};\n\nexport const getters = {\n  fromCache: (state) => ({ credentialId, key }) => {\n    return state.cache[credentialId]?.[key];\n  },\n};\n\nexport const actions = {\n  async regionOptions({ state, commit, dispatch }, { credentialId }) {\n    const regions = await dispatch('cachedCommand', { credentialId, command: 'regions' });\n\n    const out = regions.data.filter((region) => {\n      return region.status === 'ok';\n    }).map((region) => {\n      return {\n        label: region.id,\n        value: region.id,\n      };\n    });\n\n    return sortBy(out, 'label');\n  },\n\n  async instanceOptions({ dispatch, rootGetters }, { credentialId }) {\n    const types = await dispatch('cachedCommand', { credentialId, command: 'linode/types' });\n\n    const available = types.data.map((type) => {\n      const out = {\n        class:    type.class,\n        label:    type.label,\n        memoryGb: type.memory,\n        disk:     type.disk / 1024,\n        vcpus:    type.vcpus,\n        value:    type.id\n      };\n\n      out.label = rootGetters['i18n/t']('cluster.machineConfig.linode.typeLabel', out);\n\n      return out;\n    });\n\n    return sortBy(available, ['class', 'memoryGb', 'vcpus', 'disk']);\n  },\n\n  async imageOptions({ dispatch }, { credentialId }) {\n    const images = await dispatch('cachedCommand', { credentialId, command: 'images' });\n\n    const out = images.data.filter((image) => {\n      return image.status === 'available';\n    }).map((image) => {\n      return {\n        label: image.label,\n        value: image.id\n      };\n    });\n\n    return sortBy(out, 'label');\n  },\n\n  async cachedCommand({\n    state, getters, commit, dispatch\n  }, { credentialId, command }) {\n    let out = getters['fromCache']({ credentialId, key: command });\n\n    if ( !out ) {\n      out = await dispatch('request', { credentialId, command });\n      commit('setCache', {\n        credentialId, key: command, value: out\n      });\n    }\n\n    return out;\n  },\n\n  async request({ dispatch }, {\n    token, credentialId, command, opt, out\n  }) {\n    opt = opt || {};\n\n    let url = '/meta/proxy/';\n\n    if ( opt.url ) {\n      url += opt.url.replace(/^https?:\\/\\//, '');\n    } else {\n      url += `${ ENDPOINT }/${ command }`;\n      url = addParam(url, 'per_page', opt.per_page || 1000);\n      url = addParams(url, opt.params || {});\n    }\n\n    const headers = { Accept: 'application/json' };\n\n    if ( credentialId ) {\n      headers['X-API-CattleAuth-Header'] = `Bearer credID=${ credentialId } passwordField=token`;\n    } else if ( token ) {\n      headers['X-API-Auth-Header'] = `Bearer ${ token }`;\n    }\n\n    const res = await dispatch('management/request', {\n      url,\n      headers,\n      redirectUnauthorized: false,\n    }, { root: true });\n\n    if ( out ) {\n      out[command] = out[command].concat(res[command]);\n    } else {\n      out = res;\n    }\n\n    // De-pagination\n    if ( res?.links?.pages?.next ) {\n      opt.url = res.links.pages.next;\n\n      return dispatch('request', {\n        token, credentialId, command, opt, out\n      });\n    }\n\n    return out;\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}