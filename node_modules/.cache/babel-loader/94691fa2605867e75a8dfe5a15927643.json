{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/nav/Jump.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/nav/Jump.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBHcm91cCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9uYXYvR3JvdXAnOwppbXBvcnQgeyBpc01hYyB9IGZyb20gJ0BzaGVsbC91dGlscy9wbGF0Zm9ybSc7CmltcG9ydCB7IEJPVEgsIFRZUEVfTU9ERVMgfSBmcm9tICdAc2hlbGwvc3RvcmUvdHlwZS1tYXAnOwppbXBvcnQgeyBDT1VOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgR3JvdXA6IEdyb3VwCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNNYWM6IGlzTWFjLAogICAgICB2YWx1ZTogJycsCiAgICAgIGdyb3VwczogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgIHRoaXMucXVldWVVcGRhdGUoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZU1hdGNoZXMoKTsKICAgIHRoaXMucXVldWVVcGRhdGUgPSBkZWJvdW5jZSh0aGlzLnVwZGF0ZU1hdGNoZXMsIDI1MCk7CiAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVNYXRjaGVzOiBmdW5jdGlvbiB1cGRhdGVNYXRjaGVzKCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJGdldHRlcnM7CiAgICAgIHZhciBjbHVzdGVySWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVySWQnXTsKICAgICAgdmFyIHByb2R1Y3RJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddOwogICAgICB2YXIgcHJvZHVjdCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J107CiAgICAgIHZhciBhbGxUeXBlc0J5TW9kZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2FsbFR5cGVzJ10ocHJvZHVjdElkLCBbVFlQRV9NT0RFUy5BTExdKSB8fCB7fTsKICAgICAgdmFyIGFsbFR5cGVzID0gYWxsVHlwZXNCeU1vZGVbVFlQRV9NT0RFUy5BTExdOwogICAgICB2YXIgb3V0ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvZ2V0VHJlZSddKHByb2R1Y3RJZCwgVFlQRV9NT0RFUy5BTEwsIGFsbFR5cGVzLCBjbHVzdGVySWQsIEJPVEgsIG51bGwsIHRoaXMudmFsdWUpOwoKICAgICAgLy8gU3VwbGVtZW50IHRoZSBvdXRwdXQgd2l0aCBjb3VudCBpbmZvLiBVc3VhbHkgdGhlIGBUeXBlYCBjb21wb25lbnQgd291bGQgaGFuZGxlIHRoaXMgaW5kaXZpZHVhbHkuLi4gYnV0IHNjYWxlcyByZWFsIGJhZCBzbyBnaXZlIGl0CiAgICAgIC8vIHNvbWUgaGVscAogICAgICB2YXIgY291bnRzID0gKChfdGhpcyQkc3RvcmUkZ2V0dGVycyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KHByb2R1Y3QuaW5TdG9yZSwgIi9hbGwiKV0oQ09VTlQpKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUkZ2V0dGVycyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkc3RvcmUkZ2V0dGVycyA9IF90aGlzJCRzdG9yZSRnZXR0ZXJzWzBdKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUkZ2V0dGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHN0b3JlJGdldHRlcnMuY291bnRzKSB8fCB7fTsKICAgICAgb3V0LmZvckVhY2goZnVuY3Rpb24gKG8pIHsKICAgICAgICB2YXIgX28kY2hpbGRyZW47CiAgICAgICAgKF9vJGNoaWxkcmVuID0gby5jaGlsZHJlbikgPT09IG51bGwgfHwgX28kY2hpbGRyZW4gPT09IHZvaWQgMCB8fCBfbyRjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgY291bnQgPSBjb3VudHNbdC5uYW1lXTsKICAgICAgICAgIHQuY291bnQgPSBjb3VudCA/IGNvdW50LnN1bW1hcnkuY291bnQgfHwgMCA6IG51bGw7CiAgICAgICAgICB0LmJ5TmFtZXNwYWNlID0gY291bnQgPyBjb3VudC5uYW1lc3BhY2VzIDoge307CiAgICAgICAgICB0LnJldmlzaW9uID0gY291bnQgPyBjb3VudC5yZXZpc2lvbiA6IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmdyb3VwcyA9IG91dDsKCiAgICAgIC8vIEhpZGUgdG9wLWxldmVsIGdyb3VwcyB3aXRoIG5vIGNoaWxkcmVuIChvciBvbmUgY2hpbGQgdGhhdCBpcyBhbiBvdmVydmlldykKICAgICAgdGhpcy5ncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZykgewogICAgICAgIHZhciBfZyRjaGlsZHJlbiwgX2ckY2hpbGRyZW4yOwogICAgICAgIHZhciBpc1Jvb3QgPSBnLmlzUm9vdCB8fCBnLm5hbWUgPT09ICdSb290JzsKICAgICAgICB2YXIgaGlkZGVuID0gaXNSb290IHx8ICgoX2ckY2hpbGRyZW4gPSBnLmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfZyRjaGlsZHJlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ckY2hpbGRyZW4ubGVuZ3RoKSA9PT0gMCB8fCAoKF9nJGNoaWxkcmVuMiA9IGcuY2hpbGRyZW4pID09PSBudWxsIHx8IF9nJGNoaWxkcmVuMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ckY2hpbGRyZW4yLmxlbmd0aCkgPT09IDEgJiYgZy5jaGlsZHJlblswXS5vdmVydmlldzsKICAgICAgICBnLmhpZGRlbiA9ICEhaGlkZGVuOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["debounce","Group","isMac","BOTH","TYPE_MODES","COUNT","components","data","value","groups","watch","queueUpdate","mounted","updateMatches","$refs","input","focus","methods","_this$$store$getters","clusterId","$store","getters","productId","product","allTypesByMode","ALL","allTypes","out","counts","concat","inStore","forEach","o","_o$children","children","t","count","name","summary","byNamespace","namespaces","revision","g","_g$children","_g$children2","isRoot","hidden","length","overview"],"sources":["node_modules/@rancher/shell/components/nav/Jump.vue"],"sourcesContent":["<script>\nimport debounce from 'lodash/debounce';\nimport Group from '@shell/components/nav/Group';\nimport { isMac } from '@shell/utils/platform';\nimport { BOTH, TYPE_MODES } from '@shell/store/type-map';\nimport { COUNT } from '@shell/config/types';\n\nexport default {\n  components: { Group },\n\n  data() {\n    return {\n      isMac,\n      value:  '',\n      groups: null,\n    };\n  },\n\n  watch: {\n    value() {\n      this.queueUpdate();\n    },\n  },\n\n  mounted() {\n    this.updateMatches();\n    this.queueUpdate = debounce(this.updateMatches, 250);\n\n    this.$refs.input.focus();\n  },\n\n  methods: {\n    updateMatches() {\n      const clusterId = this.$store.getters['clusterId'];\n      const productId = this.$store.getters['productId'];\n      const product = this.$store.getters['currentProduct'];\n\n      const allTypesByMode = this.$store.getters['type-map/allTypes'](productId, [TYPE_MODES.ALL]) || {};\n      const allTypes = allTypesByMode[TYPE_MODES.ALL];\n      const out = this.$store.getters['type-map/getTree'](productId, TYPE_MODES.ALL, allTypes, clusterId, BOTH, null, this.value);\n\n      // Suplement the output with count info. Usualy the `Type` component would handle this individualy... but scales real bad so give it\n      // some help\n      const counts = this.$store.getters[`${ product.inStore }/all`](COUNT)?.[0]?.counts || {};\n\n      out.forEach((o) => {\n        o.children?.forEach((t) => {\n          const count = counts[t.name];\n\n          t.count = count ? count.summary.count || 0 : null;\n          t.byNamespace = count ? count.namespaces : {};\n          t.revision = count ? count.revision : null;\n        });\n      });\n\n      this.groups = out;\n\n      // Hide top-level groups with no children (or one child that is an overview)\n      this.groups.forEach((g) => {\n        const isRoot = g.isRoot || g.name === 'Root';\n        const hidden = isRoot || g.children?.length === 0 || (g.children?.length === 1 && g.children[0].overview);\n\n        g.hidden = !!hidden;\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <input\n      ref=\"input\"\n      v-model=\"value\"\n      :placeholder=\"t('nav.resourceSearch.placeholder')\"\n      class=\"search\"\n      @keyup.esc=\"$emit('closeSearch')\"\n    >\n    <div class=\"results\">\n      <div\n        v-for=\"g in groups\"\n        :key=\"g.name\"\n        class=\"package\"\n      >\n        <Group\n          v-if=\"!g.hidden\"\n          :key=\"g.name\"\n          id-prefix=\"\"\n          :group=\"g\"\n          :can-collapse=\"false\"\n          :fixed-open=\"true\"\n          @close=\"$emit('closeSearch')\"\n        >\n          <template slot=\"accordion\">\n            <h6>{{ g.label }}</h6>\n          </template>\n        </Group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .search, .search:hover, .search:focus {\n    position: relative;\n    background-color: var(--dropdown-bg);\n    border-radius: 0;\n    box-shadow: none;\n  }\n\n  .results {\n    margin-top: -1px;\n    overflow-y: auto;\n    padding: 10px;\n    color: var(--dropdown-text);\n    background-color: var(--dropdown-bg);\n    border: 1px solid var(--dropdown-border);\n    height: 75vh;\n  }\n</style>\n"],"mappings":";;;AACA,OAAAA,QAAA;AACA,OAAAC,KAAA;AACA,SAAAC,KAAA;AACA,SAAAC,IAAA,EAAAC,UAAA;AACA,SAAAC,KAAA;AAEA;EACAC,UAAA;IAAAL,KAAA,EAAAA;EAAA;EAEAM,IAAA,WAAAA,KAAA;IACA;MACAL,KAAA,EAAAA,KAAA;MACAM,KAAA;MACAC,MAAA;IACA;EACA;EAEAC,KAAA;IACAF,KAAA,WAAAA,MAAA;MACA,KAAAG,WAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,aAAA;IACA,KAAAF,WAAA,GAAAX,QAAA,MAAAa,aAAA;IAEA,KAAAC,KAAA,CAAAC,KAAA,CAAAC,KAAA;EACA;EAEAC,OAAA;IACAJ,aAAA,WAAAA,cAAA;MAAA,IAAAK,oBAAA;MACA,IAAAC,SAAA,QAAAC,MAAA,CAAAC,OAAA;MACA,IAAAC,SAAA,QAAAF,MAAA,CAAAC,OAAA;MACA,IAAAE,OAAA,QAAAH,MAAA,CAAAC,OAAA;MAEA,IAAAG,cAAA,QAAAJ,MAAA,CAAAC,OAAA,sBAAAC,SAAA,GAAAlB,UAAA,CAAAqB,GAAA;MACA,IAAAC,QAAA,GAAAF,cAAA,CAAApB,UAAA,CAAAqB,GAAA;MACA,IAAAE,GAAA,QAAAP,MAAA,CAAAC,OAAA,qBAAAC,SAAA,EAAAlB,UAAA,CAAAqB,GAAA,EAAAC,QAAA,EAAAP,SAAA,EAAAhB,IAAA,aAAAK,KAAA;;MAEA;MACA;MACA,IAAAoB,MAAA,KAAAV,oBAAA,QAAAE,MAAA,CAAAC,OAAA,IAAAQ,MAAA,CAAAN,OAAA,CAAAO,OAAA,WAAAzB,KAAA,eAAAa,oBAAA,gBAAAA,oBAAA,GAAAA,oBAAA,iBAAAA,oBAAA,uBAAAA,oBAAA,CAAAU,MAAA;MAEAD,GAAA,CAAAI,OAAA,WAAAC,CAAA;QAAA,IAAAC,WAAA;QACA,CAAAA,WAAA,GAAAD,CAAA,CAAAE,QAAA,cAAAD,WAAA,eAAAA,WAAA,CAAAF,OAAA,WAAAI,CAAA;UACA,IAAAC,KAAA,GAAAR,MAAA,CAAAO,CAAA,CAAAE,IAAA;UAEAF,CAAA,CAAAC,KAAA,GAAAA,KAAA,GAAAA,KAAA,CAAAE,OAAA,CAAAF,KAAA;UACAD,CAAA,CAAAI,WAAA,GAAAH,KAAA,GAAAA,KAAA,CAAAI,UAAA;UACAL,CAAA,CAAAM,QAAA,GAAAL,KAAA,GAAAA,KAAA,CAAAK,QAAA;QACA;MACA;MAEA,KAAAhC,MAAA,GAAAkB,GAAA;;MAEA;MACA,KAAAlB,MAAA,CAAAsB,OAAA,WAAAW,CAAA;QAAA,IAAAC,WAAA,EAAAC,YAAA;QACA,IAAAC,MAAA,GAAAH,CAAA,CAAAG,MAAA,IAAAH,CAAA,CAAAL,IAAA;QACA,IAAAS,MAAA,GAAAD,MAAA,MAAAF,WAAA,GAAAD,CAAA,CAAAR,QAAA,cAAAS,WAAA,uBAAAA,WAAA,CAAAI,MAAA,aAAAH,YAAA,GAAAF,CAAA,CAAAR,QAAA,cAAAU,YAAA,uBAAAA,YAAA,CAAAG,MAAA,WAAAL,CAAA,CAAAR,QAAA,IAAAc,QAAA;QAEAN,CAAA,CAAAI,MAAA,KAAAA,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}