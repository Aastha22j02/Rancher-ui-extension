{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/management.cattle.io.cluster.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/management.cattle.io.cluster.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2dldCBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9CmZ1bmN0aW9uIF9zdXBlclByb3BHZXQodCwgZSwgbywgcikgeyB2YXIgcCA9IF9nZXQoX2dldFByb3RvdHlwZU9mKDEgJiByID8gdC5wcm90b3R5cGUgOiB0KSwgZSwgbyk7IHJldHVybiAyICYgciAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBwID8gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHAuYXBwbHkobywgdCk7IH0gOiBwOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmVuZHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0IHsgQ0FUQUxPRywgQ0xVU1RFUl9CQURHRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgTk9ERSwgRkxFRVQsIE1BTkFHRU1FTlQsIENBUEkgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgaW5zZXJ0QXQsIGFkZE9iamVjdCwgcmVtb3ZlT2JqZWN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgZG93bmxvYWRGaWxlIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Rvd25sb2FkJzsKaW1wb3J0IHsgcGFyc2VTaSB9IGZyb20gJ0BzaGVsbC91dGlscy91bml0cyc7CmltcG9ydCB7IHBhcnNlQ29sb3IsIHRleHRDb2xvciB9IGZyb20gJ0BzaGVsbC91dGlscy9jb2xvcic7CmltcG9ydCBqc3lhbWwgZnJvbSAnanMteWFtbCc7CmltcG9ydCB7IGVhY2hMaW1pdCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgYWRkUGFyYW1zIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VybCc7CmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgSEFSVkVTVEVSX05BTUUgYXMgSEFSVkVTVEVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9mZWF0dXJlcyc7CmltcG9ydCB7IGlzSGFydmVzdGVyQ2x1c3RlciB9IGZyb20gJ0BzaGVsbC91dGlscy9jbHVzdGVyJzsKaW1wb3J0IEh5YnJpZE1vZGVsIGZyb20gJ0BzaGVsbC9wbHVnaW5zL3N0ZXZlL2h5YnJpZC1jbGFzcyc7CmltcG9ydCB7IExJTlVYLCBXSU5ET1dTIH0gZnJvbSAnQHNoZWxsL3N0b3JlL2NhdGFsb2cnOwppbXBvcnQgeyBLT05UQUlORVJfVE9fRFJJVkVSIH0gZnJvbSAnLi9tYW5hZ2VtZW50LmNhdHRsZS5pby5rb250YWluZXJkcml2ZXInOwppbXBvcnQgeyBQSU5ORURfQ0xVU1RFUlMgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwppbXBvcnQgeyBjb3B5VGV4dFRvQ2xpcGJvYXJkIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2NsaXBib2FyZCc7CgovLyBTZWUgdHJhbnNsYXRpb24gZmlsZSBjbHVzdGVyLnByb3ZpZGVycyBmb3IgbGlzdCBvZiBwcm92aWRlcnMKLy8gSWYgdGhlIGxvZ28gaXMgbm90IG5hbWVkIHdpdGggdGhlIHByb3ZpZGVyIG5hbWUsIGFkZCBhbiBvdmVycmlkZSBoZXJlCnZhciBQUk9WSURFUl9MT0dPX09WRVJSSURFID0ge307CmZ1bmN0aW9uIGZpbmRSZWxhdGlvbnNoaXAodmVyYiwgdHlwZSkgewogIHZhciBfcmVsYXRpb25zaGlwcyRmaW5kOwogIHZhciByZWxhdGlvbnNoaXBzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTsKICB2YXIgZnJvbSA9ICIiLmNvbmNhdCh2ZXJiLCAiVHlwZSIpOwogIHZhciBpZCA9ICIiLmNvbmNhdCh2ZXJiLCAiSWQiKTsKICByZXR1cm4gKF9yZWxhdGlvbnNoaXBzJGZpbmQgPSByZWxhdGlvbnNoaXBzLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgIHJldHVybiByW2Zyb21dID09PSB0eXBlOwogIH0pKSA9PT0gbnVsbCB8fCBfcmVsYXRpb25zaGlwcyRmaW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVsYXRpb25zaGlwcyRmaW5kW2lkXTsKfQp2YXIgTWdtdENsdXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IeWJyaWRNb2RlbCkgewogIGZ1bmN0aW9uIE1nbXRDbHVzdGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1nbXRDbHVzdGVyKTsKICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE1nbXRDbHVzdGVyLCBhcmd1bWVudHMpOwogIH0KICBfaW5oZXJpdHMoTWdtdENsdXN0ZXIsIF9IeWJyaWRNb2RlbCk7CiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhNZ210Q2x1c3RlciwgW3sKICAgIGtleTogImRldGFpbHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBvdXQgPSBbewogICAgICAgIGxhYmVsOiAnUHJvdmlzaW9uZXInLAogICAgICAgIGNvbnRlbnQ6IHRoaXMucHJvdmlzaW9uZXJEaXNwbGF5CiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ01hY2hpbmUgUHJvdmlkZXInLAogICAgICAgIGNvbnRlbnQ6IHRoaXMubWFjaGluZVByb3ZpZGVyRGlzcGxheQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdLdWJlcm5ldGVzIFZlcnNpb24nLAogICAgICAgIGNvbnRlbnQ6IHRoaXMua3ViZXJuZXRlc1ZlcnNpb24KICAgICAgfV07CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2F2YWlsYWJsZUFjdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBvdXQgPSBfc3VwZXJQcm9wR2V0KE1nbXRDbHVzdGVyLCAiX2F2YWlsYWJsZUFjdGlvbnMiLCB0aGlzLCAxKTsKICAgICAgaW5zZXJ0QXQob3V0LCAwLCB7CiAgICAgICAgYWN0aW9uOiAnb3BlblNoZWxsJywKICAgICAgICBsYWJlbDogdGhpcy50KCduYXYuc2hlbGwnKSwKICAgICAgICBpY29uOiAnaWNvbiBpY29uLXRlcm1pbmFsJywKICAgICAgICBlbmFibGVkOiAhIXRoaXMubGlua3Muc2hlbGwKICAgICAgfSk7CiAgICAgIGluc2VydEF0KG91dCwgMSwgewogICAgICAgIGFjdGlvbjogJ2Rvd25sb2FkS3ViZUNvbmZpZycsCiAgICAgICAgYnVsa0FjdGlvbjogJ2Rvd25sb2FkS3ViZUNvbmZpZ0J1bGsnLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ25hdi5rdWJlY29uZmlnLmRvd25sb2FkJyksCiAgICAgICAgaWNvbjogJ2ljb24gaWNvbi1kb3dubG9hZCcsCiAgICAgICAgYnVsa2FibGU6IHRydWUsCiAgICAgICAgZW5hYmxlZDogdGhpcy4kcm9vdEdldHRlcnNbJ2lzUmFuY2hlciddICYmIHRoaXMuaGFzQWN0aW9uKCdnZW5lcmF0ZUt1YmVjb25maWcnKQogICAgICB9KTsKICAgICAgaW5zZXJ0QXQob3V0LCAyLCB7CiAgICAgICAgYWN0aW9uOiAnY29weUt1YmVDb25maWcnLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIuY29weUNvbmZpZycpLAogICAgICAgIGJ1bGthYmxlOiBmYWxzZSwKICAgICAgICBlbmFibGVkOiB0aGlzLiRyb290R2V0dGVyc1snaXNSYW5jaGVyJ10gJiYgdGhpcy5oYXNBY3Rpb24oJ2dlbmVyYXRlS3ViZWNvbmZpZycpLAogICAgICAgIGljb246ICdpY29uIGljb24tY29weScKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuRGVsZXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzsKICAgICAgcmV0dXJuIHRoaXMuaGFzTGluaygncmVtb3ZlJykgJiYgISh0aGlzICE9PSBudWxsICYmIHRoaXMgIT09IHZvaWQgMCAmJiAoX3RoaXMkc3BlYyA9IHRoaXMuc3BlYykgIT09IG51bGwgJiYgX3RoaXMkc3BlYyAhPT0gdm9pZCAwICYmIF90aGlzJHNwZWMuaW50ZXJuYWwpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hY2hpbmVQb29scyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHBvb2xzID0gdGhpcy4kZ2V0dGVyc1snYWxsJ10oTUFOQUdFTUVOVC5OT0RFX1BPT0wpOwogICAgICByZXR1cm4gcG9vbHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIF94JHNwZWM7CiAgICAgICAgcmV0dXJuICgoX3gkc3BlYyA9IHguc3BlYykgPT09IG51bGwgfHwgX3gkc3BlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3gkc3BlYy5jbHVzdGVyTmFtZSkgPT09IF90aGlzLmlkOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aXNpb25lciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1cywgX3RoaXMkc3RhdHVzMjsKICAgICAgaWYgKChfdGhpcyRzdGF0dXMgPSB0aGlzLnN0YXR1cykgIT09IG51bGwgJiYgX3RoaXMkc3RhdHVzICE9PSB2b2lkIDAgJiYgX3RoaXMkc3RhdHVzLnByb3ZpZGVyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzLnByb3ZpZGVyOwogICAgICB9CgogICAgICAvLyBGb3IgaW1wb3J0ZWQgSzNzIGNsdXN0ZXJzLCB0aGlzLnN0YXR1cy5kcml2ZXIgaXMgJ2szcy4nCiAgICAgIHJldHVybiAoX3RoaXMkc3RhdHVzMiA9IHRoaXMuc3RhdHVzKSAhPT0gbnVsbCAmJiBfdGhpcyRzdGF0dXMyICE9PSB2b2lkIDAgJiYgX3RoaXMkc3RhdHVzMi5kcml2ZXIgPyB0aGlzLnN0YXR1cy5kcml2ZXIgOiAnaW1wb3J0ZWQnOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hY2hpbmVQcm92aWRlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG1hY2hpbmVQb29scywgX3RoaXMkc3BlYzI7CiAgICAgIHZhciBraW5kID0gKF90aGlzJG1hY2hpbmVQb29scyA9IHRoaXMubWFjaGluZVBvb2xzKSA9PT0gbnVsbCB8fCBfdGhpcyRtYWNoaW5lUG9vbHMgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWFjaGluZVBvb2xzID0gX3RoaXMkbWFjaGluZVBvb2xzWzBdKSA9PT0gbnVsbCB8fCBfdGhpcyRtYWNoaW5lUG9vbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1hY2hpbmVQb29scy5wcm92aWRlcjsKICAgICAgaWYgKGtpbmQpIHsKICAgICAgICByZXR1cm4ga2luZC5yZXBsYWNlKC9jb25maWckL2ksICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICB9IGVsc2UgaWYgKChfdGhpcyRzcGVjMiA9IHRoaXMuc3BlYykgIT09IG51bGwgJiYgX3RoaXMkc3BlYzIgIT09IHZvaWQgMCAmJiBfdGhpcyRzcGVjMi5pbnRlcm5hbCkgewogICAgICAgIHJldHVybiAnbG9jYWwnOwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogInJrZVRlbXBsYXRlVmVyc2lvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMzOwogICAgICByZXR1cm4gKF90aGlzJHNwZWMzID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzMuY2x1c3RlclRlbXBsYXRlUmV2aXNpb25OYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyRm9yRW1iZXJQYXJhbSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgLy8gRW1iZXIgd2FudHMgb25lIHdvcmQgY2FsbGVkIHByb3ZpZGVyIHRvIHRlbGwgd2hhdCBjb21wb25lbnQgdG8gc2hvdywgYnV0IGhhcyBtdWNoIGluZGlyZWN0IG1hcHBpbmcgdG8gZmlndXJlIG91dCB3aGF0IGl0IGlzLgogICAgICB2YXIgcHJvdmlkZXI7CiAgICAgIC8vIFByb3Zpc2lvbmVyIGlzIHRoZSAiPHNvbWV0aGluZz5Db25maWciIGluIHRoZSBtb2RlbAogICAgICB2YXIgcHJvdmlzaW9uZXIgPSBLT05UQUlORVJfVE9fRFJJVkVSWyh0aGlzLnByb3Zpc2lvbmVyIHx8ICcnKS50b0xvd2VyQ2FzZSgpXSB8fCB0aGlzLnByb3Zpc2lvbmVyOwogICAgICBpZiAocHJvdmlzaW9uZXIgPT09ICdyYW5jaGVyS3ViZXJuZXRlc0VuZ2luZScpIHsKICAgICAgICB2YXIgX3RoaXMkbWFjaGluZVBvb2xzMjsKICAgICAgICAvLyBMb29rIGZvciBhIGNsb3VkIHByb3ZpZGVyIGluIG9uZSBvZiB0aGUgbm9kZSB0ZW1wbGF0ZXMKICAgICAgICBpZiAoKF90aGlzJG1hY2hpbmVQb29sczIgPSB0aGlzLm1hY2hpbmVQb29scykgIT09IG51bGwgJiYgX3RoaXMkbWFjaGluZVBvb2xzMiAhPT0gdm9pZCAwICYmIF90aGlzJG1hY2hpbmVQb29sczJbMF0pIHsKICAgICAgICAgIHZhciBfdGhpcyRtYWNoaW5lUG9vbHMkOwogICAgICAgICAgcHJvdmlkZXIgPSAoKF90aGlzJG1hY2hpbmVQb29scyQgPSB0aGlzLm1hY2hpbmVQb29sc1swXSkgPT09IG51bGwgfHwgX3RoaXMkbWFjaGluZVBvb2xzJCA9PT0gdm9pZCAwIHx8IChfdGhpcyRtYWNoaW5lUG9vbHMkID0gX3RoaXMkbWFjaGluZVBvb2xzJC5ub2RlVGVtcGxhdGUpID09PSBudWxsIHx8IF90aGlzJG1hY2hpbmVQb29scyQgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWFjaGluZVBvb2xzJCA9IF90aGlzJG1hY2hpbmVQb29scyQuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkbWFjaGluZVBvb2xzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWFjaGluZVBvb2xzJC5kcml2ZXIpIHx8IG51bGw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb3ZpZGVyID0gJ2N1c3RvbSc7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuZHJpdmVyKSB7CiAgICAgICAgcHJvdmlkZXIgPSB0aGlzLmRyaXZlcjsKICAgICAgfSBlbHNlIGlmIChwcm92aXNpb25lciAmJiBwcm92aXNpb25lci5lbmRzV2l0aCgndjInKSkgewogICAgICAgIHByb3ZpZGVyID0gcHJvdmlzaW9uZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcHJvdmlkZXIgPSAnaW1wb3J0JzsKICAgICAgfQogICAgICByZXR1cm4gcHJvdmlkZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAiZW1iZXJFZGl0UGF0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGNsdXN0ZXJUZW1wbGF0ZVJldmlzaW9uOwoKICAgICAgLy8gSWYgdGhlIFJLRTEgY2x1c3RlciBpcyBjcmVhdGVkIGZyb20gYW4gUktFIHRlbXBsYXRlLCB3ZSBuZWVkCiAgICAgIC8vIHRvIGdldCB0aGUgdGVtcGxhdGUgdmVyc2lvbiB0byBwYXNzIGludG8gdGhlIEVtYmVyIFVJIGZvcgogICAgICAvLyB0aGUgaUZyYW1lZCBlZGl0IGNsdXN0ZXIgZm9ybQogICAgICBpZiAodGhpcy5ya2VUZW1wbGF0ZVZlcnNpb24pIHsKICAgICAgICBjbHVzdGVyVGVtcGxhdGVSZXZpc2lvbiA9IHRoaXMucmtlVGVtcGxhdGVWZXJzaW9uOwogICAgICB9CiAgICAgIHZhciBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJGb3JFbWJlclBhcmFtOwoKICAgICAgLy8gQXZvaWQgcGFzc2luZyBmYWxzeSB2YWx1ZXMgYXMgcXVlcnkgcGFyYW1ldGVycwogICAgICB2YXIgcXAgPSB7fTsKICAgICAgaWYgKHByb3ZpZGVyKSB7CiAgICAgICAgcXBbJ3Byb3ZpZGVyJ10gPSBwcm92aWRlcjsKICAgICAgfQogICAgICBpZiAoY2x1c3RlclRlbXBsYXRlUmV2aXNpb24pIHsKICAgICAgICBxcFsnY2x1c3RlclRlbXBsYXRlUmV2aXNpb24nXSA9IGNsdXN0ZXJUZW1wbGF0ZVJldmlzaW9uOwogICAgICB9CgogICAgICAvLyBDb3BpZWQgb3V0IG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW5jaGVyL3VpL2Jsb2IvMjBmNTZkYzU0YzRmYzA5YjVmOTExZTUzM2NiNzUxYzEzNjA5YWRhZi9hcHAvbW9kZWxzL2NsdXN0ZXIuanMjTDg0NAogICAgICBpZiAocHJvdmlkZXIgPT09ICdpbXBvcnQnICYmIGlzRW1wdHkodGhpcy5la3NDb25maWcpICYmIGlzRW1wdHkodGhpcy5na2VDb25maWcpKSB7CiAgICAgICAgcXAuaW1wb3J0UHJvdmlkZXIgPSAnb3RoZXInOwogICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyID09PSAnYW1hem9uZWtzJyAmJiAhaXNFbXB0eSh0aGlzLmVrc0NvbmZpZykgfHwgcHJvdmlkZXIgPT09ICdna2UnICYmICFpc0VtcHR5KHRoaXMuZ2tlQ29uZmlnKQogICAgICAvLyB8fCBzb21ldGhpbmcgZm9yIGFrcyB2MgogICAgICApIHsKICAgICAgICBxcC5pbXBvcnRQcm92aWRlciA9IEtPTlRBSU5FUl9UT19EUklWRVJbcHJvdmlkZXJdOwogICAgICB9CiAgICAgIGlmICh0aGlzLmNsdXN0ZXJUZW1wbGF0ZVJldmlzaW9uSWQpIHsKICAgICAgICBxcC5jbHVzdGVyVGVtcGxhdGVSZXZpc2lvbiA9IHRoaXMuY2x1c3RlclRlbXBsYXRlUmV2aXNpb25JZDsKICAgICAgfQogICAgICB2YXIgcGF0aCA9IGFkZFBhcmFtcygiL2MvIi5jb25jYXQoZXNjYXBlKHRoaXMuaWQpLCAiL2VkaXQiKSwgcXApOwogICAgICByZXR1cm4gcGF0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJncm91cEJ5TGFiZWwiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snaTE4bi90J10oJ3Jlc291cmNlVGFibGUuZ3JvdXBMYWJlbC5ub3RJbkFXb3Jrc3BhY2UnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1JlYWR5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAvLyBJZiB0aGUgQ29ubmVjdGVkIGNvbmRpdGlvbiBleGlzdHMsIHVzZSB0aGF0ICgyLjYrKQogICAgICBpZiAodGhpcy5oYXNDb25kaXRpb24oJ0Nvbm5lY3RlZCcpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25kaXRpb24oJ0Nvbm5lY3RlZCcpOwogICAgICB9CgogICAgICAvLyBPdGhlcndpc2UgdXNlIFJlYWR5IChvbGRlcikKICAgICAgcmV0dXJuIHRoaXMuaXNDb25kaXRpb24oJ1JlYWR5Jyk7CiAgICB9CiAgfSwgewogICAga2V5OiAia3ViZXJuZXRlc1ZlcnNpb25SYXciLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXMzLCBfdGhpcyRzcGVjNDsKICAgICAgdmFyIGZyb21TdGF0dXMgPSAoX3RoaXMkc3RhdHVzMyA9IHRoaXMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMzID09PSB2b2lkIDAgfHwgKF90aGlzJHN0YXR1czMgPSBfdGhpcyRzdGF0dXMzLnZlcnNpb24pID09PSBudWxsIHx8IF90aGlzJHN0YXR1czMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1czMuZ2l0VmVyc2lvbjsKICAgICAgdmFyIGZyb21TcGVjID0gKF90aGlzJHNwZWM0ID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjNCA9PT0gdm9pZCAwIHx8IChfdGhpcyRzcGVjNCA9IF90aGlzJHNwZWM0WyIiLmNvbmNhdCh0aGlzLnByb3Zpc2lvbmVyLCAiQ29uZmlnIildKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzQua3ViZXJuZXRlc1ZlcnNpb247CiAgICAgIHJldHVybiBmcm9tU3RhdHVzIHx8IGZyb21TcGVjOwogICAgfQogIH0sIHsKICAgIGtleTogImt1YmVybmV0ZXNWZXJzaW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5rdWJlcm5ldGVzVmVyc2lvblJhdyB8fCB0aGlzLiRyb290R2V0dGVyc1snaTE4bi90J10oJ2dlbmVyaWMucHJvdmlzaW9uaW5nJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAia3ViZXJuZXRlc1ZlcnNpb25CYXNlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5rdWJlcm5ldGVzVmVyc2lvbi5yZXBsYWNlKC9bKy1dLiokLywgJycpOwogICAgfQogIH0sIHsKICAgIGtleTogImt1YmVybmV0ZXNWZXJzaW9uRXh0ZW5zaW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5rdWJlcm5ldGVzVmVyc2lvbi5tYXRjaCgvWystXS8pKSB7CiAgICAgICAgcmV0dXJuIHRoaXMua3ViZXJuZXRlc1ZlcnNpb24ucmVwbGFjZSgvXi4qKFsrLV0pLywgJyQxJyk7CiAgICAgIH0KICAgICAgcmV0dXJuICcnOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyT3MiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM0OwogICAgICBpZiAoKF90aGlzJHN0YXR1czQgPSB0aGlzLnN0YXR1cykgIT09IG51bGwgJiYgX3RoaXMkc3RhdHVzNCAhPT0gdm9pZCAwICYmIF90aGlzJHN0YXR1czQucHJvdmlkZXIuZW5kc1dpdGgoJy53aW5kb3dzJykpIHsKICAgICAgICByZXR1cm4gJ3dpbmRvd3MnOwogICAgICB9CiAgICAgIHJldHVybiAnbGludXgnOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyT3NMb2dvIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gcmVxdWlyZSgifnNoZWxsL2Fzc2V0cy9pbWFnZXMvdmVuZG9yLyIuY29uY2F0KHRoaXMucHJvdmlkZXJPcywgIi5zdmciKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAid29ya2VyT1NzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3RhdHVzNSwgX3RoaXMkc3RhdHVzNjsKICAgICAgLy8gcmtlMSBjbHVzdGVycyBoYXZlIHdpbmRvd3Mgc3VwcG9ydCBkZWZpbmVkIG9uIGNyZWF0ZQogICAgICAvLyBya2UyIGNsdXN0ZXJzIHJlcG9ydCBsaW51eCB3b3JrZXJzIGluIG1nbXQgY2x1c3RlciBzdGF0dXMKICAgICAgdmFyIHJrZTJXaW5kb3dzV29ya2VycyA9IChfdGhpcyRzdGF0dXM1ID0gdGhpcy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHN0YXR1czUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1czUud2luZG93c1dvcmtlckNvdW50OwogICAgICB2YXIgcmtlMkxpbnV4V29ya2VycyA9IChfdGhpcyRzdGF0dXM2ID0gdGhpcy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHN0YXR1czYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1czYubGludXhXb3JrZXJDb3VudDsKICAgICAgaWYgKHJrZTJXaW5kb3dzV29ya2VycyB8fCBya2UyTGludXhXb3JrZXJzKSB7CiAgICAgICAgdmFyIG91dCA9IFtdOwogICAgICAgIGlmIChya2UyV2luZG93c1dvcmtlcnMpIHsKICAgICAgICAgIG91dC5wdXNoKFdJTkRPV1MpOwogICAgICAgIH0KICAgICAgICBpZiAocmtlMkxpbnV4V29ya2VycykgewogICAgICAgICAgb3V0LnB1c2goTElOVVgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgICB9IGVsc2UgaWYgKHRoaXMucHJvdmlkZXJPcyA9PT0gV0lORE9XUykgewogICAgICAgIHJldHVybiBbV0lORE9XU107CiAgICAgIH0KICAgICAgcmV0dXJuIFtMSU5VWF07CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNMb2NhbCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWM1OwogICAgICByZXR1cm4gKChfdGhpcyRzcGVjNSA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWM1LmludGVybmFsKSA9PT0gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0hhcnZlc3RlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGlzSGFydmVzdGVyQ2x1c3Rlcih0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0hvc3RlZEt1YmVybmV0ZXNQcm92aWRlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHByb3ZpZGVycyA9IFsnQUtTJywgJ0VLUycsICdHS0UnXTsKICAgICAgcmV0dXJuIHByb3ZpZGVycy5pbmNsdWRlcyh0aGlzLnByb3Zpc2lvbmVyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlckxvZ28iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM3OwogICAgICB2YXIgcHJvdmlkZXIgPSAoKF90aGlzJHN0YXR1czcgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNy5wcm92aWRlcikgfHwgJ2t1YmVybmV0ZXMnOwogICAgICBpZiAodGhpcy5pc0hhcnZlc3RlcikgewogICAgICAgIHByb3ZpZGVyID0gSEFSVkVTVEVSOwogICAgICB9CiAgICAgIC8vIE9ubHkgaW50ZXJlc3RlZCBpbiB0aGUgcGFydCBiZWZvcmUgdGhlIHBlcmlvZAogICAgICB2YXIgcHJ2ID0gcHJvdmlkZXIuc3BsaXQoJy4nKVswXTsKICAgICAgLy8gQWxsb3cgb3ZlcnJpZGVzIGlmIG5lZWRlZAogICAgICB2YXIgbG9nbyA9IFBST1ZJREVSX0xPR09fT1ZFUlJJREVbcHJ2XSB8fCBwcnY7CiAgICAgIHZhciBpY29uOwogICAgICB0cnkgewogICAgICAgIGljb24gPSByZXF1aXJlKCJ+c2hlbGwvYXNzZXRzL2ltYWdlcy9wcm92aWRlcnMvIi5jb25jYXQocHJ2LCAiLnN2ZyIpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybigiQ2FuIG5vdCBmaW5kIHByb3ZpZGVyIGxvZ28gZm9yIHByb3ZpZGVyICIuY29uY2F0KGxvZ28pKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgLy8gVXNlIGZhbGxiYWNrIGdlbmVyaWMgS3ViZXJuZXRlcyBpY29uCiAgICAgICAgaWNvbiA9IHJlcXVpcmUoIn5zaGVsbC9hc3NldHMvaW1hZ2VzL3Byb3ZpZGVycy9rdWJlcm5ldGVzLnN2ZyIpOwogICAgICB9CiAgICAgIHJldHVybiBpY29uOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyTWVudUxvZ28iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyTG9nbzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlck5hdkxvZ28iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyTG9nbzsKICAgIH0KCiAgICAvLyBDdXN0b20gYmFkZ2UgdG8gc2hvdyBmb3IgdGhlIENsdXN0ZXIgKGlmIHRoZSBhcHByb3ByaWF0ZSBhbm5vdGF0aW9ucyBhcmUgc2V0KQogIH0sIHsKICAgIGtleTogImJhZGdlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbWV0YWRhdGEsIF90aGlzJG1ldGFkYXRhMiwgX3RoaXMkbWV0YWRhdGEzLCBfdGhpcyRtZXRhZGF0YTQ7CiAgICAgIHZhciBpY29uID0gKF90aGlzJG1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWV0YWRhdGEgPSBfdGhpcyRtZXRhZGF0YS5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhW0NMVVNURVJfQkFER0UuSUNPTl9URVhUXTsKICAgICAgdmFyIGNvbW1lbnQgPSAoX3RoaXMkbWV0YWRhdGEyID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgfHwgKF90aGlzJG1ldGFkYXRhMiA9IF90aGlzJG1ldGFkYXRhMi5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTJbQ0xVU1RFUl9CQURHRS5URVhUXTsKICAgICAgaWYgKCFpY29uICYmICFjb21tZW50KSB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgfQogICAgICB2YXIgY29sb3IgPSAoKF90aGlzJG1ldGFkYXRhMyA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEzLmFubm90YXRpb25zW0NMVVNURVJfQkFER0UuQ09MT1JdKSB8fCAnIzdmN2Y3Zic7CiAgICAgIHZhciBpY29uVGV4dCA9ICgoX3RoaXMkbWV0YWRhdGE0ID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTQuYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5JQ09OX1RFWFRdKSB8fCAnJzsKICAgICAgcmV0dXJuIHsKICAgICAgICB0ZXh0OiBjb21tZW50IHx8IHVuZGVmaW5lZCwKICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgdGV4dENvbG9yOiB0ZXh0Q29sb3IocGFyc2VDb2xvcihjb2xvcikpLAogICAgICAgIGljb25UZXh0OiBpY29uVGV4dC5zdWJzdHIoMCwgMykKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY29wZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNMb2NhbCA/IENBVEFMT0cuX01BTkFHRU1FTlQgOiBDQVRBTE9HLl9ET1dOU1RSRUFNOwogICAgfQogIH0sIHsKICAgIGtleTogInNldENsdXN0ZXJOYW1lTGFiZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsdXN0ZXJOYW1lTGFiZWwoYW5kU2F2ZSkgewogICAgICB2YXIgX3RoaXMkb3duZXJSZWZlcmVuY2VzLCBfdGhpcyRtZXRhZGF0YTU7CiAgICAgIGlmICgoX3RoaXMkb3duZXJSZWZlcmVuY2VzID0gdGhpcy5vd25lclJlZmVyZW5jZXMpICE9PSBudWxsICYmIF90aGlzJG93bmVyUmVmZXJlbmNlcyAhPT0gdm9pZCAwICYmIF90aGlzJG93bmVyUmVmZXJlbmNlcy5sZW5ndGggfHwgKChfdGhpcyRtZXRhZGF0YTUgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTUgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWV0YWRhdGE1ID0gX3RoaXMkbWV0YWRhdGE1LmxhYmVscykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTVbRkxFRVQuQ0xVU1RFUl9OQU1FXSkgPT09IHRoaXMuaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5tZXRhZGF0YSA9IHRoaXMubWV0YWRhdGEgfHwge307CiAgICAgIHRoaXMubWV0YWRhdGEubGFiZWxzID0gdGhpcy5tZXRhZGF0YS5sYWJlbHMgfHwge307CiAgICAgIHRoaXMubWV0YWRhdGEubGFiZWxzW0ZMRUVULkNMVVNURVJfTkFNRV0gPSB0aGlzLmlkOwogICAgICBpZiAoYW5kU2F2ZSkgewogICAgICAgIHJldHVybiB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImF2YWlsYWJsZUNwdSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1cyRyZXF1ZXN0ZSwgX3RoaXMkc3RhdHVzJGFsbG9jYXRhOwogICAgICB2YXIgcmVzZXJ2ZWQgPSBwYXJzZVNpKChfdGhpcyRzdGF0dXMkcmVxdWVzdGUgPSB0aGlzLnN0YXR1cy5yZXF1ZXN0ZWQpID09PSBudWxsIHx8IF90aGlzJHN0YXR1cyRyZXF1ZXN0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzJHJlcXVlc3RlLmNwdSk7CiAgICAgIHZhciBhbGxvY2F0YWJsZSA9IHBhcnNlU2koKF90aGlzJHN0YXR1cyRhbGxvY2F0YSA9IHRoaXMuc3RhdHVzLmFsbG9jYXRhYmxlKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMkYWxsb2NhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1cyRhbGxvY2F0YS5jcHUpOwogICAgICBpZiAoYWxsb2NhdGFibGUgPiAwICYmIHJlc2VydmVkID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgYWxsb2NhdGFibGUgLSByZXNlcnZlZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdmFpbGFibGVNZW1vcnkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyLCBfdGhpcyRzdGF0dXMkYWxsb2NhdGEyOwogICAgICB2YXIgcmVzZXJ2ZWQgPSBwYXJzZVNpKChfdGhpcyRzdGF0dXMkcmVxdWVzdGUyID0gdGhpcy5zdGF0dXMucmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyLm1lbW9yeSk7CiAgICAgIHZhciBhbGxvY2F0YWJsZSA9IHBhcnNlU2koKF90aGlzJHN0YXR1cyRhbGxvY2F0YTIgPSB0aGlzLnN0YXR1cy5hbGxvY2F0YWJsZSkgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzJGFsbG9jYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzJGFsbG9jYXRhMi5tZW1vcnkpOwogICAgICBpZiAoYWxsb2NhdGFibGUgPiAwICYmIHJlc2VydmVkID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgYWxsb2NhdGFibGUgLSByZXNlcnZlZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuU2hlbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5TaGVsbCgpIHsKICAgICAgdGhpcy4kZGlzcGF0Y2goJ3dtL29wZW4nLCB7CiAgICAgICAgaWQ6ICJrdWJlY3RsLSIuY29uY2F0KHRoaXMuaWQpLAogICAgICAgIGxhYmVsOiB0aGlzLiRyb290R2V0dGVyc1snaTE4bi90J10oJ3dtLmt1YmVjdGxTaGVsbC50aXRsZScsIHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZURpc3BsYXkKICAgICAgICB9KSwKICAgICAgICBpY29uOiAndGVybWluYWwnLAogICAgICAgIGNvbXBvbmVudDogJ0t1YmVjdGxTaGVsbCcsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMsCiAgICAgICAgICBwb2Q6IHt9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW5lcmF0ZUt1YmVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZW5lcmF0ZUt1YmVDb25maWcgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9BY3Rpb24oJ2dlbmVyYXRlS3ViZWNvbmZpZycpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXMuY29uZmlnKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVLdWJlQ29uZmlnKCkgewogICAgICAgIHJldHVybiBfZ2VuZXJhdGVLdWJlQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGdlbmVyYXRlS3ViZUNvbmZpZzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvd25sb2FkS3ViZUNvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Rvd25sb2FkS3ViZUNvbmZpZyA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbmZpZzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUt1YmVDb25maWcoKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvbmZpZyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGRvd25sb2FkRmlsZSgiIi5jb25jYXQodGhpcy5uYW1lRGlzcGxheSwgIi55YW1sIiksIGNvbmZpZywgJ2FwcGxpY2F0aW9uL3lhbWwnKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBkb3dubG9hZEt1YmVDb25maWcoKSB7CiAgICAgICAgcmV0dXJuIF9kb3dubG9hZEt1YmVDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gZG93bmxvYWRLdWJlQ29uZmlnOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZG93bmxvYWRLdWJlQ29uZmlnQnVsayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Rvd25sb2FkS3ViZUNvbmZpZ0J1bGsgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGl0ZW1zKSB7CiAgICAgICAgdmFyIG9iaiwgZmlyc3QsIG91dDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG9iaiA9IHt9OwogICAgICAgICAgICAgIGZpcnN0ID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGVhY2hMaW1pdChpdGVtcywgMTAsIGZ1bmN0aW9uIChpdGVtLCBpZHgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmdlbmVyYXRlS3ViZUNvbmZpZygpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBqc3lhbWwubG9hZChjb25maWcpOwogICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHsKICAgICAgICAgICAgICAgICAgICBvYmogPSBlbnRyeTsKICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBfb2JqJGNsdXN0ZXJzLCBfb2JqJHVzZXJzLCBfb2JqJGNvbnRleHRzOwogICAgICAgICAgICAgICAgICAgIChfb2JqJGNsdXN0ZXJzID0gb2JqLmNsdXN0ZXJzKS5wdXNoLmFwcGx5KF9vYmokY2x1c3RlcnMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS5jbHVzdGVycykpOwogICAgICAgICAgICAgICAgICAgIChfb2JqJHVzZXJzID0gb2JqLnVzZXJzKS5wdXNoLmFwcGx5KF9vYmokdXNlcnMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS51c2VycykpOwogICAgICAgICAgICAgICAgICAgIChfb2JqJGNvbnRleHRzID0gb2JqLmNvbnRleHRzKS5wdXNoLmFwcGx5KF9vYmokY29udGV4dHMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS5jb250ZXh0cykpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGRlbGV0ZSBvYmpbJ2N1cnJlbnQtY29udGV4dCddOwogICAgICAgICAgICAgIG91dCA9IGpzeWFtbC5kdW1wKG9iaik7CiAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKCdrdWJlY29uZmlnLnlhbWwnLCBvdXQsICdhcHBsaWNhdGlvbi95YW1sJyk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZG93bmxvYWRLdWJlQ29uZmlnQnVsayhfeCkgewogICAgICAgIHJldHVybiBfZG93bmxvYWRLdWJlQ29uZmlnQnVsay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBkb3dubG9hZEt1YmVDb25maWdCdWxrOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY29weUt1YmVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb3B5S3ViZUNvbmZpZyA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbmZpZzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVLdWJlQ29uZmlnKCk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb25maWcgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBpZiAoIWNvbmZpZykgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gY29weVRleHRUb0NsaXBib2FyZChjb25maWcpOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbMCwgOV1dKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBjb3B5S3ViZUNvbmZpZygpIHsKICAgICAgICByZXR1cm4gX2NvcHlLdWJlQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvcHlLdWJlQ29uZmlnOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZmV0Y2hOb2RlTWV0cmljcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoTm9kZU1ldHJpY3MgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBub2Rlcywgbm9kZU1ldHJpY3MsIHNvbWVOb25Xb3JrZXJSb2xlcywgbWV0cmljcywgaW5pdGlhbEFnZ3JlZ2F0aW9uOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9ERQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIG5vZGVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9ERQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIG5vZGVNZXRyaWNzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgc29tZU5vbldvcmtlclJvbGVzID0gbm9kZXMuc29tZShmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuaGFzQVJvbGUgJiYgIW5vZGUuaXNXb3JrZXI7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbWV0cmljcyA9IG5vZGVNZXRyaWNzLmZpbHRlcihmdW5jdGlvbiAobWV0cmljKSB7CiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzLmZpbmQoZnVuY3Rpb24gKG5kKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuZC5pZCA9PT0gbWV0cmljLmlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZSAmJiAoIXNvbWVOb25Xb3JrZXJSb2xlcyB8fCBub2RlLmlzV29ya2VyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpbml0aWFsQWdncmVnYXRpb24gPSB7CiAgICAgICAgICAgICAgICBjcHU6IDAsCiAgICAgICAgICAgICAgICBtZW1vcnk6IDAKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGlmICghaXNFbXB0eShtZXRyaWNzKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIG1ldHJpY3MucmVkdWNlKGZ1bmN0aW9uIChhZ2csIG1ldHJpYykgewogICAgICAgICAgICAgICAgdmFyIF9tZXRyaWMkdXNhZ2UsIF9tZXRyaWMkdXNhZ2UyOwogICAgICAgICAgICAgICAgYWdnLmNwdSArPSBwYXJzZVNpKG1ldHJpYyA9PT0gbnVsbCB8fCBtZXRyaWMgPT09IHZvaWQgMCB8fCAoX21ldHJpYyR1c2FnZSA9IG1ldHJpYy51c2FnZSkgPT09IG51bGwgfHwgX21ldHJpYyR1c2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21ldHJpYyR1c2FnZS5jcHUpOwogICAgICAgICAgICAgICAgYWdnLm1lbW9yeSArPSBwYXJzZVNpKG1ldHJpYyA9PT0gbnVsbCB8fCBtZXRyaWMgPT09IHZvaWQgMCB8fCAoX21ldHJpYyR1c2FnZTIgPSBtZXRyaWMudXNhZ2UpID09PSBudWxsIHx8IF9tZXRyaWMkdXNhZ2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0cmljJHVzYWdlMi5tZW1vcnkpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFnZzsKICAgICAgICAgICAgICB9LCBpbml0aWFsQWdncmVnYXRpb24pKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZmV0Y2hOb2RlTWV0cmljcygpIHsKICAgICAgICByZXR1cm4gX2ZldGNoTm9kZU1ldHJpY3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gZmV0Y2hOb2RlTWV0cmljczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIm5vZGVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMuJGdldHRlcnNbJ2FsbCddKE1BTkFHRU1FTlQuTk9ERSkuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgcmV0dXJuIG5vZGUuaWQuc3RhcnRzV2l0aChfdGhpczIuaWQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92Q2x1c3RlcklkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzYsIF90aGlzJG1ldGFkYXRhNiwgX3RoaXMkbWV0YWRhdGE3OwogICAgICB2YXIgaXNSS0UxID0gISEoKF90aGlzJHNwZWM2ID0gdGhpcy5zcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyRzcGVjNiAhPT0gdm9pZCAwICYmIF90aGlzJHNwZWM2LnJhbmNoZXJLdWJlcm5ldGVzRW5naW5lQ29uZmlnKTsKICAgICAgLy8gTm90ZTogUktFMSBwcm92aXNpb25pbmcgY2x1c3RlciBJRHMgYXJlIGluIGEgZGlmZmVyZW50IGZvcm1hdC4gRm9yIGV4YW1wbGUsCiAgICAgIC8vIFJLRTIgY2x1c3RlciBJRHMgaW5jbHVkZSB0aGUgbmFtZSAtIGZsZWV0LWRlZmF1bHQvY2x1c3Rlci1uYW1lIC0gd2hlcmVhcyBhbiBSS0UxCiAgICAgIC8vIGNsdXN0ZXIgaGFzIHRoZSBsZXNzIGh1bWFuIHJlYWRhYmxlIG1hbmFnZW1lbnQgY2x1c3RlciBJRCBpbiBpdDogZmxlZXQtZGVmYXVsdC9jLWtoazQ4CgogICAgICB2YXIgdmVyYiA9IHRoaXMuaXNMb2NhbCB8fCBpc1JLRTEgfHwgdGhpcy5pc0hvc3RlZEt1YmVybmV0ZXNQcm92aWRlciA/ICd0bycgOiAnZnJvbSc7CiAgICAgIHZhciByZXMgPSBmaW5kUmVsYXRpb25zaGlwKHZlcmIsIENBUEkuUkFOQ0hFUl9DTFVTVEVSLCAoX3RoaXMkbWV0YWRhdGE2ID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGE2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTYucmVsYXRpb25zaGlwcyk7CiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzOwogICAgICB9CiAgICAgIHJldHVybiBmaW5kUmVsYXRpb25zaGlwKHZlcmIgPT09ICd0bycgPyAnZnJvbScgOiAndG8nLCBDQVBJLlJBTkNIRVJfQ0xVU1RFUiwgKF90aGlzJG1ldGFkYXRhNyA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGE3LnJlbGF0aW9uc2hpcHMpOwogICAgfQogIH0sIHsKICAgIGtleTogInBpbm5lZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydwcmVmcy9nZXQnXShQSU5ORURfQ0xVU1RFUlMpLmluY2x1ZGVzKHRoaXMuaWQpOwogICAgfQogIH0sIHsKICAgIGtleTogInBpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGluKCkgewogICAgICB2YXIgdHlwZXMgPSB0aGlzLiRyb290R2V0dGVyc1sncHJlZnMvZ2V0J10oUElOTkVEX0NMVVNURVJTKSB8fCBbXTsKICAgICAgYWRkT2JqZWN0KHR5cGVzLCB0aGlzLmlkKTsKICAgICAgdGhpcy4kZGlzcGF0Y2goJ3ByZWZzL3NldCcsIHsKICAgICAgICBrZXk6IFBJTk5FRF9DTFVTVEVSUywKICAgICAgICB2YWx1ZTogdHlwZXMKICAgICAgfSwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5waW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVucGluKCkgewogICAgICB2YXIgdHlwZXMgPSB0aGlzLiRyb290R2V0dGVyc1sncHJlZnMvZ2V0J10oUElOTkVEX0NMVVNURVJTKSB8fCBbXTsKICAgICAgcmVtb3ZlT2JqZWN0KHR5cGVzLCB0aGlzLmlkKTsKICAgICAgdGhpcy4kZGlzcGF0Y2goJ3ByZWZzL3NldCcsIHsKICAgICAgICBrZXk6IFBJTk5FRF9DTFVTVEVSUywKICAgICAgICB2YWx1ZTogdHlwZXMKICAgICAgfSwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9CiAgfV0pOwp9KEh5YnJpZE1vZGVsKTsKZXhwb3J0IHsgTWdtdENsdXN0ZXIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["CATALOG","CLUSTER_BADGE","NODE","FLEET","MANAGEMENT","CAPI","insertAt","addObject","removeObject","downloadFile","parseSi","parseColor","textColor","jsyaml","eachLimit","addParams","isEmpty","HARVESTER_NAME","HARVESTER","isHarvesterCluster","HybridModel","LINUX","WINDOWS","KONTAINER_TO_DRIVER","PINNED_CLUSTERS","copyTextToClipboard","PROVIDER_LOGO_OVERRIDE","findRelationship","verb","type","_relationships$find","relationships","arguments","length","undefined","from","concat","id","find","r","MgmtCluster","_HybridModel","_classCallCheck","_callSuper","_inherits","_createClass","key","get","out","label","content","provisionerDisplay","machineProviderDisplay","kubernetesVersion","_superPropGet","action","t","icon","enabled","links","shell","bulkAction","bulkable","$rootGetters","hasAction","_this$spec","hasLink","spec","internal","_this","pools","$getters","NODE_POOL","filter","x","_x$spec","clusterName","_this$status","_this$status2","status","provider","driver","_this$machinePools","_this$spec2","kind","machinePools","replace","toLowerCase","_this$spec3","clusterTemplateRevisionName","provisioner","_this$machinePools2","_this$machinePools$","nodeTemplate","endsWith","clusterTemplateRevision","rkeTemplateVersion","providerForEmberParam","qp","eksConfig","gkeConfig","importProvider","clusterTemplateRevisionId","path","escape","hasCondition","isCondition","_this$status3","_this$spec4","fromStatus","version","gitVersion","fromSpec","kubernetesVersionRaw","match","_this$status4","require","providerOs","_this$status5","_this$status6","rke2WindowsWorkers","windowsWorkerCount","rke2LinuxWorkers","linuxWorkerCount","push","_this$spec5","providers","includes","_this$status7","isHarvester","prv","split","logo","e","console","warn","providerLogo","_this$metadata","_this$metadata2","_this$metadata3","_this$metadata4","metadata","annotations","ICON_TEXT","comment","TEXT","color","COLOR","iconText","text","substr","isLocal","_MANAGEMENT","_DOWNSTREAM","value","setClusterNameLabel","andSave","_this$ownerReferences","_this$metadata5","ownerReferences","labels","CLUSTER_NAME","save","_this$status$requeste","_this$status$allocata","reserved","requested","cpu","allocatable","Math","max","_this$status$requeste2","_this$status$allocata2","memory","openShell","$dispatch","name","nameDisplay","component","attrs","cluster","pod","root","_generateKubeConfig","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","doAction","sent","abrupt","config","stop","generateKubeConfig","apply","_downloadKubeConfig","_callee2","_callee2$","_context2","downloadKubeConfig","_downloadKubeConfigBulk","_callee3","items","obj","first","_callee3$","_context3","item","idx","then","entry","load","_obj$clusters","_obj$users","_obj$contexts","clusters","_toConsumableArray","users","contexts","dump","downloadKubeConfigBulk","_x","_copyKubeConfig","_callee4","_callee4$","_context4","t0","copyKubeConfig","_fetchNodeMetrics","_callee5","nodes","nodeMetrics","someNonWorkerRoles","metrics","initialAggregation","_callee5$","_context5","some","node","hasARole","isWorker","metric","nd","reduce","agg","_metric$usage","_metric$usage2","usage","fetchNodeMetrics","_this2","startsWith","_this$spec6","_this$metadata6","_this$metadata7","isRKE1","rancherKubernetesEngineConfig","isHostedKubernetesProvider","RANCHER_CLUSTER","pin","types","unpin","default"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/management.cattle.io.cluster.js"],"sourcesContent":["import { CATALOG, CLUSTER_BADGE } from '@shell/config/labels-annotations';\nimport { NODE, FLEET, MANAGEMENT, CAPI } from '@shell/config/types';\nimport { insertAt, addObject, removeObject } from '@shell/utils/array';\nimport { downloadFile } from '@shell/utils/download';\nimport { parseSi } from '@shell/utils/units';\nimport { parseColor, textColor } from '@shell/utils/color';\nimport jsyaml from 'js-yaml';\nimport { eachLimit } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { isEmpty } from '@shell/utils/object';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { isHarvesterCluster } from '@shell/utils/cluster';\nimport HybridModel from '@shell/plugins/steve/hybrid-class';\nimport { LINUX, WINDOWS } from '@shell/store/catalog';\nimport { KONTAINER_TO_DRIVER } from './management.cattle.io.kontainerdriver';\nimport { PINNED_CLUSTERS } from '@shell/store/prefs';\nimport { copyTextToClipboard } from '@shell/utils/clipboard';\n\n// See translation file cluster.providers for list of providers\n// If the logo is not named with the provider name, add an override here\nconst PROVIDER_LOGO_OVERRIDE = {};\n\nfunction findRelationship(verb, type, relationships = []) {\n  const from = `${ verb }Type`;\n  const id = `${ verb }Id`;\n\n  return relationships.find((r) => r[from] === type)?.[id];\n}\n\nexport default class MgmtCluster extends HybridModel {\n  get details() {\n    const out = [\n      {\n        label:   'Provisioner',\n        content: this.provisionerDisplay\n      },\n      {\n        label:   'Machine Provider',\n        content: this.machineProviderDisplay\n      },\n      {\n        label:   'Kubernetes Version',\n        content: this.kubernetesVersion,\n      },\n    ];\n\n    return out;\n  }\n\n  get _availableActions() {\n    const out = super._availableActions;\n\n    insertAt(out, 0, {\n      action:  'openShell',\n      label:   this.t('nav.shell'),\n      icon:    'icon icon-terminal',\n      enabled: !!this.links.shell,\n    });\n\n    insertAt(out, 1, {\n      action:     'downloadKubeConfig',\n      bulkAction: 'downloadKubeConfigBulk',\n      label:      this.t('nav.kubeconfig.download'),\n      icon:       'icon icon-download',\n      bulkable:   true,\n      enabled:    this.$rootGetters['isRancher'] && this.hasAction('generateKubeconfig'),\n    });\n\n    insertAt(out, 2, {\n      action:   'copyKubeConfig',\n      label:    this.t('cluster.copyConfig'),\n      bulkable: false,\n      enabled:  this.$rootGetters['isRancher'] && this.hasAction('generateKubeconfig'),\n      icon:     'icon icon-copy',\n    });\n\n    return out;\n  }\n\n  get canDelete() {\n    return this.hasLink('remove') && !this?.spec?.internal;\n  }\n\n  get machinePools() {\n    const pools = this.$getters['all'](MANAGEMENT.NODE_POOL);\n\n    return pools.filter((x) => x.spec?.clusterName === this.id);\n  }\n\n  get provisioner() {\n    if (this.status?.provider ) {\n      return this.status.provider;\n    }\n\n    // For imported K3s clusters, this.status.driver is 'k3s.'\n    return this.status?.driver ? this.status.driver : 'imported';\n  }\n\n  get machineProvider() {\n    const kind = this.machinePools?.[0]?.provider;\n\n    if ( kind ) {\n      return kind.replace(/config$/i, '').toLowerCase();\n    } else if ( this.spec?.internal ) {\n      return 'local';\n    }\n\n    return null;\n  }\n\n  get rkeTemplateVersion() {\n    return this.spec?.clusterTemplateRevisionName;\n  }\n\n  get providerForEmberParam() {\n    // Ember wants one word called provider to tell what component to show, but has much indirect mapping to figure out what it is.\n    let provider;\n    // Provisioner is the \"<something>Config\" in the model\n    const provisioner = KONTAINER_TO_DRIVER[(this.provisioner || '').toLowerCase()] || this.provisioner;\n\n    if ( provisioner === 'rancherKubernetesEngine' ) {\n      // Look for a cloud provider in one of the node templates\n      if ( this.machinePools?.[0] ) {\n        provider = this.machinePools[0]?.nodeTemplate?.spec?.driver || null;\n      } else {\n        provider = 'custom';\n      }\n    } else if ( this.driver ) {\n      provider = this.driver;\n    } else if ( provisioner && provisioner.endsWith('v2') ) {\n      provider = provisioner;\n    } else {\n      provider = 'import';\n    }\n\n    return provider;\n  }\n\n  get emberEditPath() {\n    let clusterTemplateRevision;\n\n    // If the RKE1 cluster is created from an RKE template, we need\n    // to get the template version to pass into the Ember UI for\n    // the iFramed edit cluster form\n    if (this.rkeTemplateVersion) {\n      clusterTemplateRevision = this.rkeTemplateVersion;\n    }\n    const provider = this.providerForEmberParam;\n\n    // Avoid passing falsy values as query parameters\n    const qp = { };\n\n    if (provider) {\n      qp['provider'] = provider;\n    }\n\n    if (clusterTemplateRevision) {\n      qp['clusterTemplateRevision'] = clusterTemplateRevision;\n    }\n\n    // Copied out of https://github.com/rancher/ui/blob/20f56dc54c4fc09b5f911e533cb751c13609adaf/app/models/cluster.js#L844\n    if ( provider === 'import' && isEmpty(this.eksConfig) && isEmpty(this.gkeConfig) ) {\n      qp.importProvider = 'other';\n    } else if (\n      (provider === 'amazoneks' && !isEmpty(this.eksConfig) ) ||\n       (provider === 'gke' && !isEmpty(this.gkeConfig) )\n       // || something for aks v2\n    ) {\n      qp.importProvider = KONTAINER_TO_DRIVER[provider];\n    }\n\n    if ( this.clusterTemplateRevisionId ) {\n      qp.clusterTemplateRevision = this.clusterTemplateRevisionId;\n    }\n\n    const path = addParams(`/c/${ escape(this.id) }/edit`, qp);\n\n    return path;\n  }\n\n  get groupByLabel() {\n    return this.$rootGetters['i18n/t']('resourceTable.groupLabel.notInAWorkspace');\n  }\n\n  get isReady() {\n    // If the Connected condition exists, use that (2.6+)\n    if ( this.hasCondition('Connected') ) {\n      return this.isCondition('Connected');\n    }\n\n    // Otherwise use Ready (older)\n    return this.isCondition('Ready');\n  }\n\n  get kubernetesVersionRaw() {\n    const fromStatus = this.status?.version?.gitVersion;\n    const fromSpec = this.spec?.[`${ this.provisioner }Config`]?.kubernetesVersion;\n\n    return fromStatus || fromSpec;\n  }\n\n  get kubernetesVersion() {\n    return this.kubernetesVersionRaw || this.$rootGetters['i18n/t']('generic.provisioning');\n  }\n\n  get kubernetesVersionBase() {\n    return this.kubernetesVersion.replace(/[+-].*$/, '');\n  }\n\n  get kubernetesVersionExtension() {\n    if ( this.kubernetesVersion.match(/[+-]/) ) {\n      return this.kubernetesVersion.replace(/^.*([+-])/, '$1');\n    }\n\n    return '';\n  }\n\n  get providerOs() {\n    if ( this.status?.provider.endsWith('.windows')) {\n      return 'windows';\n    }\n\n    return 'linux';\n  }\n\n  get providerOsLogo() {\n    return require(`~shell/assets/images/vendor/${ this.providerOs }.svg`);\n  }\n\n  get workerOSs() {\n    // rke1 clusters have windows support defined on create\n    // rke2 clusters report linux workers in mgmt cluster status\n    const rke2WindowsWorkers = this.status?.windowsWorkerCount;\n    const rke2LinuxWorkers = this.status?.linuxWorkerCount;\n\n    if (rke2WindowsWorkers || rke2LinuxWorkers ) {\n      const out = [];\n\n      if (rke2WindowsWorkers) {\n        out.push(WINDOWS);\n      }\n      if (rke2LinuxWorkers) {\n        out.push(LINUX);\n      }\n\n      return out;\n    } else if (this.providerOs === WINDOWS) {\n      return [WINDOWS];\n    }\n\n    return [LINUX];\n  }\n\n  get isLocal() {\n    return this.spec?.internal === true;\n  }\n\n  get isHarvester() {\n    return isHarvesterCluster(this);\n  }\n\n  get isHostedKubernetesProvider() {\n    const providers = ['AKS', 'EKS', 'GKE'];\n\n    return providers.includes(this.provisioner);\n  }\n\n  get providerLogo() {\n    let provider = this.status?.provider || 'kubernetes';\n\n    if (this.isHarvester) {\n      provider = HARVESTER;\n    }\n    // Only interested in the part before the period\n    const prv = provider.split('.')[0];\n    // Allow overrides if needed\n    const logo = PROVIDER_LOGO_OVERRIDE[prv] || prv;\n\n    let icon;\n\n    try {\n      icon = require(`~shell/assets/images/providers/${ prv }.svg`);\n    } catch (e) {\n      console.warn(`Can not find provider logo for provider ${ logo }`); // eslint-disable-line no-console\n      // Use fallback generic Kubernetes icon\n      icon = require(`~shell/assets/images/providers/kubernetes.svg`);\n    }\n\n    return icon;\n  }\n\n  get providerMenuLogo() {\n    return this.providerLogo;\n  }\n\n  get providerNavLogo() {\n    return this.providerLogo;\n  }\n\n  // Custom badge to show for the Cluster (if the appropriate annotations are set)\n  get badge() {\n    const icon = this.metadata?.annotations?.[CLUSTER_BADGE.ICON_TEXT];\n    const comment = this.metadata?.annotations?.[CLUSTER_BADGE.TEXT];\n\n    if (!icon && !comment) {\n      return undefined;\n    }\n\n    const color = this.metadata?.annotations[CLUSTER_BADGE.COLOR] || '#7f7f7f';\n    const iconText = this.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || '';\n\n    return {\n      text:      comment || undefined,\n      color,\n      textColor: textColor(parseColor(color)),\n      iconText:  iconText.substr(0, 3)\n    };\n  }\n\n  get scope() {\n    return this.isLocal ? CATALOG._MANAGEMENT : CATALOG._DOWNSTREAM;\n  }\n\n  setClusterNameLabel(andSave) {\n    if ( this.ownerReferences?.length || this.metadata?.labels?.[FLEET.CLUSTER_NAME] === this.id ) {\n      return;\n    }\n\n    this.metadata = this.metadata || {};\n    this.metadata.labels = this.metadata.labels || {};\n    this.metadata.labels[FLEET.CLUSTER_NAME] = this.id;\n\n    if ( andSave ) {\n      return this.save();\n    }\n  }\n\n  get availableCpu() {\n    const reserved = parseSi(this.status.requested?.cpu);\n    const allocatable = parseSi(this.status.allocatable?.cpu);\n\n    if ( allocatable > 0 && reserved >= 0 ) {\n      return Math.max(0, allocatable - reserved);\n    } else {\n      return null;\n    }\n  }\n\n  get availableMemory() {\n    const reserved = parseSi(this.status.requested?.memory);\n    const allocatable = parseSi(this.status.allocatable?.memory);\n\n    if ( allocatable > 0 && reserved >= 0 ) {\n      return Math.max(0, allocatable - reserved);\n    } else {\n      return null;\n    }\n  }\n\n  openShell() {\n    this.$dispatch('wm/open', {\n      id:        `kubectl-${ this.id }`,\n      label:     this.$rootGetters['i18n/t']('wm.kubectlShell.title', { name: this.nameDisplay }),\n      icon:      'terminal',\n      component: 'KubectlShell',\n      attrs:     {\n        cluster: this,\n        pod:     {}\n      }\n    }, { root: true });\n  }\n\n  async generateKubeConfig() {\n    const res = await this.doAction('generateKubeconfig');\n\n    return res.config;\n  }\n\n  async downloadKubeConfig() {\n    const config = await this.generateKubeConfig();\n\n    downloadFile(`${ this.nameDisplay }.yaml`, config, 'application/yaml');\n  }\n\n  async downloadKubeConfigBulk(items) {\n    let obj = {};\n    let first = true;\n\n    await eachLimit(items, 10, (item, idx) => {\n      return item.generateKubeConfig().then((config) => {\n        const entry = jsyaml.load(config);\n\n        if ( first ) {\n          obj = entry;\n          first = false;\n        } else {\n          obj.clusters.push(...entry.clusters);\n          obj.users.push(...entry.users);\n          obj.contexts.push(...entry.contexts);\n        }\n      });\n    });\n\n    delete obj['current-context'];\n\n    const out = jsyaml.dump(obj);\n\n    downloadFile('kubeconfig.yaml', out, 'application/yaml');\n  }\n\n  async copyKubeConfig() {\n    try {\n      const config = await this.generateKubeConfig();\n\n      if (config) {\n        await copyTextToClipboard(config);\n      }\n    } catch {}\n  }\n\n  async fetchNodeMetrics() {\n    const nodes = await this.$dispatch('cluster/findAll', { type: NODE }, { root: true });\n    const nodeMetrics = await this.$dispatch('cluster/findAll', { type: NODE }, { root: true });\n\n    const someNonWorkerRoles = nodes.some((node) => node.hasARole && !node.isWorker);\n\n    const metrics = nodeMetrics.filter((metric) => {\n      const node = nodes.find((nd) => nd.id === metric.id);\n\n      return node && (!someNonWorkerRoles || node.isWorker);\n    });\n    const initialAggregation = {\n      cpu:    0,\n      memory: 0\n    };\n\n    if (isEmpty(metrics)) {\n      return null;\n    }\n\n    return metrics.reduce((agg, metric) => {\n      agg.cpu += parseSi(metric?.usage?.cpu);\n      agg.memory += parseSi(metric?.usage?.memory);\n\n      return agg;\n    }, initialAggregation);\n  }\n\n  get nodes() {\n    return this.$getters['all'](MANAGEMENT.NODE).filter((node) => node.id.startsWith(this.id));\n  }\n\n  get provClusterId() {\n    const isRKE1 = !!this.spec?.rancherKubernetesEngineConfig;\n    // Note: RKE1 provisioning cluster IDs are in a different format. For example,\n    // RKE2 cluster IDs include the name - fleet-default/cluster-name - whereas an RKE1\n    // cluster has the less human readable management cluster ID in it: fleet-default/c-khk48\n\n    const verb = this.isLocal || isRKE1 || this.isHostedKubernetesProvider ? 'to' : 'from';\n    const res = findRelationship(verb, CAPI.RANCHER_CLUSTER, this.metadata?.relationships);\n\n    if (res) {\n      return res;\n    }\n\n    return findRelationship(verb === 'to' ? 'from' : 'to', CAPI.RANCHER_CLUSTER, this.metadata?.relationships);\n  }\n\n  get pinned() {\n    return this.$rootGetters['prefs/get'](PINNED_CLUSTERS).includes(this.id);\n  }\n\n  pin() {\n    const types = this.$rootGetters['prefs/get'](PINNED_CLUSTERS) || [];\n\n    addObject(types, this.id);\n\n    this.$dispatch('prefs/set', { key: PINNED_CLUSTERS, value: types }, { root: true });\n  }\n\n  unpin() {\n    const types = this.$rootGetters['prefs/get'](PINNED_CLUSTERS) || [];\n\n    removeObject(types, this.id);\n\n    this.$dispatch('prefs/set', { key: PINNED_CLUSTERS, value: types }, { root: true });\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,OAAO,EAAEC,aAAa,QAAQ,kCAAkC;AACzE,SAASC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,IAAI,QAAQ,qBAAqB;AACnE,SAASC,QAAQ,EAAEC,SAAS,EAAEC,YAAY,QAAQ,oBAAoB;AACtE,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,UAAU,EAAEC,SAAS,QAAQ,oBAAoB;AAC1D,OAAOC,MAAM,MAAM,SAAS;AAC5B,SAASC,SAAS,QAAQ,sBAAsB;AAChD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,cAAc,IAAIC,SAAS,QAAQ,wBAAwB;AACpE,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,OAAOC,WAAW,MAAM,mCAAmC;AAC3D,SAASC,KAAK,EAAEC,OAAO,QAAQ,sBAAsB;AACrD,SAASC,mBAAmB,QAAQ,wCAAwC;AAC5E,SAASC,eAAe,QAAQ,oBAAoB;AACpD,SAASC,mBAAmB,QAAQ,wBAAwB;;AAE5D;AACA;AACA,IAAMC,sBAAsB,GAAG,CAAC,CAAC;AAEjC,SAASC,gBAAgBA,CAACC,IAAI,EAAEC,IAAI,EAAsB;EAAA,IAAAC,mBAAA;EAAA,IAApBC,aAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACtD,IAAMG,IAAI,MAAAC,MAAA,CAAOR,IAAI,SAAO;EAC5B,IAAMS,EAAE,MAAAD,MAAA,CAAOR,IAAI,OAAK;EAExB,QAAAE,mBAAA,GAAOC,aAAa,CAACO,IAAI,CAAC,UAACC,CAAC;IAAA,OAAKA,CAAC,CAACJ,IAAI,CAAC,KAAKN,IAAI;EAAA,EAAC,cAAAC,mBAAA,uBAA3CA,mBAAA,CAA8CO,EAAE,CAAC;AAC1D;AAAC,IAEoBG,WAAW,0BAAAC,YAAA;EAAA,SAAAD,YAAA;IAAAE,eAAA,OAAAF,WAAA;IAAA,OAAAG,UAAA,OAAAH,WAAA,EAAAR,SAAA;EAAA;EAAAY,SAAA,CAAAJ,WAAA,EAAAC,YAAA;EAAA,OAAAI,YAAA,CAAAL,WAAA;IAAAM,GAAA;IAAAC,GAAA,EAC9B,SAAAA,IAAA,EAAc;MACZ,IAAMC,GAAG,GAAG,CACV;QACEC,KAAK,EAAI,aAAa;QACtBC,OAAO,EAAE,IAAI,CAACC;MAChB,CAAC,EACD;QACEF,KAAK,EAAI,kBAAkB;QAC3BC,OAAO,EAAE,IAAI,CAACE;MAChB,CAAC,EACD;QACEH,KAAK,EAAI,oBAAoB;QAC7BC,OAAO,EAAE,IAAI,CAACG;MAChB,CAAC,CACF;MAED,OAAOL,GAAG;IACZ;EAAC;IAAAF,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAwB;MACtB,IAAMC,GAAG,GAAAM,aAAA,CAAAd,WAAA,+BAA0B;MAEnClC,QAAQ,CAAC0C,GAAG,EAAE,CAAC,EAAE;QACfO,MAAM,EAAG,WAAW;QACpBN,KAAK,EAAI,IAAI,CAACO,CAAC,CAAC,WAAW,CAAC;QAC5BC,IAAI,EAAK,oBAAoB;QAC7BC,OAAO,EAAE,CAAC,CAAC,IAAI,CAACC,KAAK,CAACC;MACxB,CAAC,CAAC;MAEFtD,QAAQ,CAAC0C,GAAG,EAAE,CAAC,EAAE;QACfO,MAAM,EAAM,oBAAoB;QAChCM,UAAU,EAAE,wBAAwB;QACpCZ,KAAK,EAAO,IAAI,CAACO,CAAC,CAAC,yBAAyB,CAAC;QAC7CC,IAAI,EAAQ,oBAAoB;QAChCK,QAAQ,EAAI,IAAI;QAChBJ,OAAO,EAAK,IAAI,CAACK,YAAY,CAAC,WAAW,CAAC,IAAI,IAAI,CAACC,SAAS,CAAC,oBAAoB;MACnF,CAAC,CAAC;MAEF1D,QAAQ,CAAC0C,GAAG,EAAE,CAAC,EAAE;QACfO,MAAM,EAAI,gBAAgB;QAC1BN,KAAK,EAAK,IAAI,CAACO,CAAC,CAAC,oBAAoB,CAAC;QACtCM,QAAQ,EAAE,KAAK;QACfJ,OAAO,EAAG,IAAI,CAACK,YAAY,CAAC,WAAW,CAAC,IAAI,IAAI,CAACC,SAAS,CAAC,oBAAoB,CAAC;QAChFP,IAAI,EAAM;MACZ,CAAC,CAAC;MAEF,OAAOT,GAAG;IACZ;EAAC;IAAAF,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MAAA,IAAAkB,UAAA;MACd,OAAO,IAAI,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAC,IAAI,aAAJ,IAAI,gBAAAD,UAAA,GAAJ,IAAI,CAAEE,IAAI,cAAAF,UAAA,eAAVA,UAAA,CAAYG,QAAQ;IACxD;EAAC;IAAAtB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAAsB,KAAA;MACjB,IAAMC,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,KAAK,CAAC,CAACnE,UAAU,CAACoE,SAAS,CAAC;MAExD,OAAOF,KAAK,CAACG,MAAM,CAAC,UAACC,CAAC;QAAA,IAAAC,OAAA;QAAA,OAAK,EAAAA,OAAA,GAAAD,CAAC,CAACP,IAAI,cAAAQ,OAAA,uBAANA,OAAA,CAAQC,WAAW,MAAKP,KAAI,CAAChC,EAAE;MAAA,EAAC;IAC7D;EAAC;IAAAS,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAkB;MAAA,IAAA8B,YAAA,EAAAC,aAAA;MAChB,KAAAD,YAAA,GAAI,IAAI,CAACE,MAAM,cAAAF,YAAA,eAAXA,YAAA,CAAaG,QAAQ,EAAG;QAC1B,OAAO,IAAI,CAACD,MAAM,CAACC,QAAQ;MAC7B;;MAEA;MACA,OAAO,CAAAF,aAAA,OAAI,CAACC,MAAM,cAAAD,aAAA,eAAXA,aAAA,CAAaG,MAAM,GAAG,IAAI,CAACF,MAAM,CAACE,MAAM,GAAG,UAAU;IAC9D;EAAC;IAAAnC,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;MAAA,IAAAmC,kBAAA,EAAAC,WAAA;MACpB,IAAMC,IAAI,IAAAF,kBAAA,GAAG,IAAI,CAACG,YAAY,cAAAH,kBAAA,gBAAAA,kBAAA,GAAjBA,kBAAA,CAAoB,CAAC,CAAC,cAAAA,kBAAA,uBAAtBA,kBAAA,CAAwBF,QAAQ;MAE7C,IAAKI,IAAI,EAAG;QACV,OAAOA,IAAI,CAACE,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC;MACnD,CAAC,MAAM,KAAAJ,WAAA,GAAK,IAAI,CAAChB,IAAI,cAAAgB,WAAA,eAATA,WAAA,CAAWf,QAAQ,EAAG;QAChC,OAAO,OAAO;MAChB;MAEA,OAAO,IAAI;IACb;EAAC;IAAAtB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAyB;MAAA,IAAAyC,WAAA;MACvB,QAAAA,WAAA,GAAO,IAAI,CAACrB,IAAI,cAAAqB,WAAA,uBAATA,WAAA,CAAWC,2BAA2B;IAC/C;EAAC;IAAA3C,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAA4B;MAC1B;MACA,IAAIiC,QAAQ;MACZ;MACA,IAAMU,WAAW,GAAGnE,mBAAmB,CAAC,CAAC,IAAI,CAACmE,WAAW,IAAI,EAAE,EAAEH,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI,CAACG,WAAW;MAEnG,IAAKA,WAAW,KAAK,yBAAyB,EAAG;QAAA,IAAAC,mBAAA;QAC/C;QACA,KAAAA,mBAAA,GAAK,IAAI,CAACN,YAAY,cAAAM,mBAAA,eAAjBA,mBAAA,CAAoB,CAAC,CAAC,EAAG;UAAA,IAAAC,mBAAA;UAC5BZ,QAAQ,GAAG,EAAAY,mBAAA,OAAI,CAACP,YAAY,CAAC,CAAC,CAAC,cAAAO,mBAAA,gBAAAA,mBAAA,GAApBA,mBAAA,CAAsBC,YAAY,cAAAD,mBAAA,gBAAAA,mBAAA,GAAlCA,mBAAA,CAAoCzB,IAAI,cAAAyB,mBAAA,uBAAxCA,mBAAA,CAA0CX,MAAM,KAAI,IAAI;QACrE,CAAC,MAAM;UACLD,QAAQ,GAAG,QAAQ;QACrB;MACF,CAAC,MAAM,IAAK,IAAI,CAACC,MAAM,EAAG;QACxBD,QAAQ,GAAG,IAAI,CAACC,MAAM;MACxB,CAAC,MAAM,IAAKS,WAAW,IAAIA,WAAW,CAACI,QAAQ,CAAC,IAAI,CAAC,EAAG;QACtDd,QAAQ,GAAGU,WAAW;MACxB,CAAC,MAAM;QACLV,QAAQ,GAAG,QAAQ;MACrB;MAEA,OAAOA,QAAQ;IACjB;EAAC;IAAAlC,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAoB;MAClB,IAAIgD,uBAAuB;;MAE3B;MACA;MACA;MACA,IAAI,IAAI,CAACC,kBAAkB,EAAE;QAC3BD,uBAAuB,GAAG,IAAI,CAACC,kBAAkB;MACnD;MACA,IAAMhB,QAAQ,GAAG,IAAI,CAACiB,qBAAqB;;MAE3C;MACA,IAAMC,EAAE,GAAG,CAAE,CAAC;MAEd,IAAIlB,QAAQ,EAAE;QACZkB,EAAE,CAAC,UAAU,CAAC,GAAGlB,QAAQ;MAC3B;MAEA,IAAIe,uBAAuB,EAAE;QAC3BG,EAAE,CAAC,yBAAyB,CAAC,GAAGH,uBAAuB;MACzD;;MAEA;MACA,IAAKf,QAAQ,KAAK,QAAQ,IAAIhE,OAAO,CAAC,IAAI,CAACmF,SAAS,CAAC,IAAInF,OAAO,CAAC,IAAI,CAACoF,SAAS,CAAC,EAAG;QACjFF,EAAE,CAACG,cAAc,GAAG,OAAO;MAC7B,CAAC,MAAM,IACJrB,QAAQ,KAAK,WAAW,IAAI,CAAChE,OAAO,CAAC,IAAI,CAACmF,SAAS,CAAC,IACnDnB,QAAQ,KAAK,KAAK,IAAI,CAAChE,OAAO,CAAC,IAAI,CAACoF,SAAS;MAC9C;MAAA,EACD;QACAF,EAAE,CAACG,cAAc,GAAG9E,mBAAmB,CAACyD,QAAQ,CAAC;MACnD;MAEA,IAAK,IAAI,CAACsB,yBAAyB,EAAG;QACpCJ,EAAE,CAACH,uBAAuB,GAAG,IAAI,CAACO,yBAAyB;MAC7D;MAEA,IAAMC,IAAI,GAAGxF,SAAS,OAAAqB,MAAA,CAAQoE,MAAM,CAAC,IAAI,CAACnE,EAAE,CAAC,YAAU6D,EAAE,CAAC;MAE1D,OAAOK,IAAI;IACb;EAAC;IAAAzD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MACjB,OAAO,IAAI,CAACgB,YAAY,CAAC,QAAQ,CAAC,CAAC,0CAA0C,CAAC;IAChF;EAAC;IAAAjB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAc;MACZ;MACA,IAAK,IAAI,CAAC0D,YAAY,CAAC,WAAW,CAAC,EAAG;QACpC,OAAO,IAAI,CAACC,WAAW,CAAC,WAAW,CAAC;MACtC;;MAEA;MACA,OAAO,IAAI,CAACA,WAAW,CAAC,OAAO,CAAC;IAClC;EAAC;IAAA5D,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAA2B;MAAA,IAAA4D,aAAA,EAAAC,WAAA;MACzB,IAAMC,UAAU,IAAAF,aAAA,GAAG,IAAI,CAAC5B,MAAM,cAAA4B,aAAA,gBAAAA,aAAA,GAAXA,aAAA,CAAaG,OAAO,cAAAH,aAAA,uBAApBA,aAAA,CAAsBI,UAAU;MACnD,IAAMC,QAAQ,IAAAJ,WAAA,GAAG,IAAI,CAACzC,IAAI,cAAAyC,WAAA,gBAAAA,WAAA,GAATA,WAAA,IAAAxE,MAAA,CAAgB,IAAI,CAACsD,WAAW,YAAU,cAAAkB,WAAA,uBAA1CA,WAAA,CAA4CvD,iBAAiB;MAE9E,OAAOwD,UAAU,IAAIG,QAAQ;IAC/B;EAAC;IAAAlE,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAwB;MACtB,OAAO,IAAI,CAACkE,oBAAoB,IAAI,IAAI,CAAClD,YAAY,CAAC,QAAQ,CAAC,CAAC,sBAAsB,CAAC;IACzF;EAAC;IAAAjB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAA4B;MAC1B,OAAO,IAAI,CAACM,iBAAiB,CAACiC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IACtD;EAAC;IAAAxC,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAiC;MAC/B,IAAK,IAAI,CAACM,iBAAiB,CAAC6D,KAAK,CAAC,MAAM,CAAC,EAAG;QAC1C,OAAO,IAAI,CAAC7D,iBAAiB,CAACiC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;MAC1D;MAEA,OAAO,EAAE;IACX;EAAC;IAAAxC,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAiB;MAAA,IAAAoE,aAAA;MACf,KAAAA,aAAA,GAAK,IAAI,CAACpC,MAAM,cAAAoC,aAAA,eAAXA,aAAA,CAAanC,QAAQ,CAACc,QAAQ,CAAC,UAAU,CAAC,EAAE;QAC/C,OAAO,SAAS;MAClB;MAEA,OAAO,OAAO;IAChB;EAAC;IAAAhD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAqB;MACnB,OAAOqE,OAAO,gCAAAhF,MAAA,CAAiC,IAAI,CAACiF,UAAU,SAAO,CAAC;IACxE;EAAC;IAAAvE,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MAAA,IAAAuE,aAAA,EAAAC,aAAA;MACd;MACA;MACA,IAAMC,kBAAkB,IAAAF,aAAA,GAAG,IAAI,CAACvC,MAAM,cAAAuC,aAAA,uBAAXA,aAAA,CAAaG,kBAAkB;MAC1D,IAAMC,gBAAgB,IAAAH,aAAA,GAAG,IAAI,CAACxC,MAAM,cAAAwC,aAAA,uBAAXA,aAAA,CAAaI,gBAAgB;MAEtD,IAAIH,kBAAkB,IAAIE,gBAAgB,EAAG;QAC3C,IAAM1E,GAAG,GAAG,EAAE;QAEd,IAAIwE,kBAAkB,EAAE;UACtBxE,GAAG,CAAC4E,IAAI,CAACtG,OAAO,CAAC;QACnB;QACA,IAAIoG,gBAAgB,EAAE;UACpB1E,GAAG,CAAC4E,IAAI,CAACvG,KAAK,CAAC;QACjB;QAEA,OAAO2B,GAAG;MACZ,CAAC,MAAM,IAAI,IAAI,CAACqE,UAAU,KAAK/F,OAAO,EAAE;QACtC,OAAO,CAACA,OAAO,CAAC;MAClB;MAEA,OAAO,CAACD,KAAK,CAAC;IAChB;EAAC;IAAAyB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAc;MAAA,IAAA8E,WAAA;MACZ,OAAO,EAAAA,WAAA,OAAI,CAAC1D,IAAI,cAAA0D,WAAA,uBAATA,WAAA,CAAWzD,QAAQ,MAAK,IAAI;IACrC;EAAC;IAAAtB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAkB;MAChB,OAAO5B,kBAAkB,CAAC,IAAI,CAAC;IACjC;EAAC;IAAA2B,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAiC;MAC/B,IAAM+E,SAAS,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;MAEvC,OAAOA,SAAS,CAACC,QAAQ,CAAC,IAAI,CAACrC,WAAW,CAAC;IAC7C;EAAC;IAAA5C,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAAiF,aAAA;MACjB,IAAIhD,QAAQ,GAAG,EAAAgD,aAAA,OAAI,CAACjD,MAAM,cAAAiD,aAAA,uBAAXA,aAAA,CAAahD,QAAQ,KAAI,YAAY;MAEpD,IAAI,IAAI,CAACiD,WAAW,EAAE;QACpBjD,QAAQ,GAAG9D,SAAS;MACtB;MACA;MACA,IAAMgH,GAAG,GAAGlD,QAAQ,CAACmD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAClC;MACA,IAAMC,IAAI,GAAG1G,sBAAsB,CAACwG,GAAG,CAAC,IAAIA,GAAG;MAE/C,IAAIzE,IAAI;MAER,IAAI;QACFA,IAAI,GAAG2D,OAAO,mCAAAhF,MAAA,CAAoC8F,GAAG,SAAO,CAAC;MAC/D,CAAC,CAAC,OAAOG,CAAC,EAAE;QACVC,OAAO,CAACC,IAAI,4CAAAnG,MAAA,CAA6CgG,IAAI,CAAG,CAAC,CAAC,CAAC;QACnE;QACA3E,IAAI,GAAG2D,OAAO,gDAAgD,CAAC;MACjE;MAEA,OAAO3D,IAAI;IACb;EAAC;IAAAX,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAuB;MACrB,OAAO,IAAI,CAACyF,YAAY;IAC1B;EAAC;IAAA1F,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;MACpB,OAAO,IAAI,CAACyF,YAAY;IAC1B;;IAEA;EAAA;IAAA1F,GAAA;IAAAC,GAAA,EACA,SAAAA,IAAA,EAAY;MAAA,IAAA0F,cAAA,EAAAC,eAAA,EAAAC,eAAA,EAAAC,eAAA;MACV,IAAMnF,IAAI,IAAAgF,cAAA,GAAG,IAAI,CAACI,QAAQ,cAAAJ,cAAA,gBAAAA,cAAA,GAAbA,cAAA,CAAeK,WAAW,cAAAL,cAAA,uBAA1BA,cAAA,CAA6BxI,aAAa,CAAC8I,SAAS,CAAC;MAClE,IAAMC,OAAO,IAAAN,eAAA,GAAG,IAAI,CAACG,QAAQ,cAAAH,eAAA,gBAAAA,eAAA,GAAbA,eAAA,CAAeI,WAAW,cAAAJ,eAAA,uBAA1BA,eAAA,CAA6BzI,aAAa,CAACgJ,IAAI,CAAC;MAEhE,IAAI,CAACxF,IAAI,IAAI,CAACuF,OAAO,EAAE;QACrB,OAAO9G,SAAS;MAClB;MAEA,IAAMgH,KAAK,GAAG,EAAAP,eAAA,OAAI,CAACE,QAAQ,cAAAF,eAAA,uBAAbA,eAAA,CAAeG,WAAW,CAAC7I,aAAa,CAACkJ,KAAK,CAAC,KAAI,SAAS;MAC1E,IAAMC,QAAQ,GAAG,EAAAR,eAAA,OAAI,CAACC,QAAQ,cAAAD,eAAA,uBAAbA,eAAA,CAAeE,WAAW,CAAC7I,aAAa,CAAC8I,SAAS,CAAC,KAAI,EAAE;MAE1E,OAAO;QACLM,IAAI,EAAOL,OAAO,IAAI9G,SAAS;QAC/BgH,KAAK,EAALA,KAAK;QACLtI,SAAS,EAAEA,SAAS,CAACD,UAAU,CAACuI,KAAK,CAAC,CAAC;QACvCE,QAAQ,EAAGA,QAAQ,CAACE,MAAM,CAAC,CAAC,EAAE,CAAC;MACjC,CAAC;IACH;EAAC;IAAAxG,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MACV,OAAO,IAAI,CAACwG,OAAO,GAAGvJ,OAAO,CAACwJ,WAAW,GAAGxJ,OAAO,CAACyJ,WAAW;IACjE;EAAC;IAAA3G,GAAA;IAAA4G,KAAA,EAED,SAAAC,mBAAmBA,CAACC,OAAO,EAAE;MAAA,IAAAC,qBAAA,EAAAC,eAAA;MAC3B,IAAK,CAAAD,qBAAA,OAAI,CAACE,eAAe,cAAAF,qBAAA,eAApBA,qBAAA,CAAsB5H,MAAM,IAAI,EAAA6H,eAAA,OAAI,CAACjB,QAAQ,cAAAiB,eAAA,gBAAAA,eAAA,GAAbA,eAAA,CAAeE,MAAM,cAAAF,eAAA,uBAArBA,eAAA,CAAwB3J,KAAK,CAAC8J,YAAY,CAAC,MAAK,IAAI,CAAC5H,EAAE,EAAG;QAC7F;MACF;MAEA,IAAI,CAACwG,QAAQ,GAAG,IAAI,CAACA,QAAQ,IAAI,CAAC,CAAC;MACnC,IAAI,CAACA,QAAQ,CAACmB,MAAM,GAAG,IAAI,CAACnB,QAAQ,CAACmB,MAAM,IAAI,CAAC,CAAC;MACjD,IAAI,CAACnB,QAAQ,CAACmB,MAAM,CAAC7J,KAAK,CAAC8J,YAAY,CAAC,GAAG,IAAI,CAAC5H,EAAE;MAElD,IAAKuH,OAAO,EAAG;QACb,OAAO,IAAI,CAACM,IAAI,CAAC,CAAC;MACpB;IACF;EAAC;IAAApH,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAAoH,qBAAA,EAAAC,qBAAA;MACjB,IAAMC,QAAQ,GAAG3J,OAAO,EAAAyJ,qBAAA,GAAC,IAAI,CAACpF,MAAM,CAACuF,SAAS,cAAAH,qBAAA,uBAArBA,qBAAA,CAAuBI,GAAG,CAAC;MACpD,IAAMC,WAAW,GAAG9J,OAAO,EAAA0J,qBAAA,GAAC,IAAI,CAACrF,MAAM,CAACyF,WAAW,cAAAJ,qBAAA,uBAAvBA,qBAAA,CAAyBG,GAAG,CAAC;MAEzD,IAAKC,WAAW,GAAG,CAAC,IAAIH,QAAQ,IAAI,CAAC,EAAG;QACtC,OAAOI,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,WAAW,GAAGH,QAAQ,CAAC;MAC5C,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF;EAAC;IAAAvH,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;MAAA,IAAA4H,sBAAA,EAAAC,sBAAA;MACpB,IAAMP,QAAQ,GAAG3J,OAAO,EAAAiK,sBAAA,GAAC,IAAI,CAAC5F,MAAM,CAACuF,SAAS,cAAAK,sBAAA,uBAArBA,sBAAA,CAAuBE,MAAM,CAAC;MACvD,IAAML,WAAW,GAAG9J,OAAO,EAAAkK,sBAAA,GAAC,IAAI,CAAC7F,MAAM,CAACyF,WAAW,cAAAI,sBAAA,uBAAvBA,sBAAA,CAAyBC,MAAM,CAAC;MAE5D,IAAKL,WAAW,GAAG,CAAC,IAAIH,QAAQ,IAAI,CAAC,EAAG;QACtC,OAAOI,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,WAAW,GAAGH,QAAQ,CAAC;MAC5C,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF;EAAC;IAAAvH,GAAA;IAAA4G,KAAA,EAED,SAAAoB,SAASA,CAAA,EAAG;MACV,IAAI,CAACC,SAAS,CAAC,SAAS,EAAE;QACxB1I,EAAE,aAAAD,MAAA,CAAqB,IAAI,CAACC,EAAE,CAAG;QACjCY,KAAK,EAAM,IAAI,CAACc,YAAY,CAAC,QAAQ,CAAC,CAAC,uBAAuB,EAAE;UAAEiH,IAAI,EAAE,IAAI,CAACC;QAAY,CAAC,CAAC;QAC3FxH,IAAI,EAAO,UAAU;QACrByH,SAAS,EAAE,cAAc;QACzBC,KAAK,EAAM;UACTC,OAAO,EAAE,IAAI;UACbC,GAAG,EAAM,CAAC;QACZ;MACF,CAAC,EAAE;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;IACpB;EAAC;IAAAxI,GAAA;IAAA4G,KAAA;MAAA,IAAA6B,mBAAA,GAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAED,SAAAC,QAAA;QAAA,IAAAC,GAAA;QAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACoB,IAAI,CAACC,QAAQ,CAAC,oBAAoB,CAAC;YAAA;cAA/CN,GAAG,GAAAG,QAAA,CAAAI,IAAA;cAAA,OAAAJ,QAAA,CAAAK,MAAA,WAEFR,GAAG,CAACS,MAAM;YAAA;YAAA;cAAA,OAAAN,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA,CAClB;MAAA,SAJKY,kBAAkBA,CAAA;QAAA,OAAAhB,mBAAA,CAAAiB,KAAA,OAAAxK,SAAA;MAAA;MAAA,OAAlBuK,kBAAkB;IAAA;EAAA;IAAAzJ,GAAA;IAAA4G,KAAA;MAAA,IAAA+C,mBAAA,GAAAjB,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAMxB,SAAAgB,SAAA;QAAA,IAAAL,MAAA;QAAA,OAAAZ,mBAAA,CAAAI,IAAA,UAAAc,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAZ,IAAA,GAAAY,SAAA,CAAAX,IAAA;YAAA;cAAAW,SAAA,CAAAX,IAAA;cAAA,OACuB,IAAI,CAACM,kBAAkB,CAAC,CAAC;YAAA;cAAxCF,MAAM,GAAAO,SAAA,CAAAT,IAAA;cAEZ1L,YAAY,IAAA2B,MAAA,CAAK,IAAI,CAAC6I,WAAW,YAAUoB,MAAM,EAAE,kBAAkB,CAAC;YAAC;YAAA;cAAA,OAAAO,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAI,QAAA;MAAA,CACxE;MAAA,SAJKG,kBAAkBA,CAAA;QAAA,OAAAJ,mBAAA,CAAAD,KAAA,OAAAxK,SAAA;MAAA;MAAA,OAAlB6K,kBAAkB;IAAA;EAAA;IAAA/J,GAAA;IAAA4G,KAAA;MAAA,IAAAoD,uBAAA,GAAAtB,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAMxB,SAAAqB,SAA6BC,KAAK;QAAA,IAAAC,GAAA,EAAAC,KAAA,EAAAlK,GAAA;QAAA,OAAAyI,mBAAA,CAAAI,IAAA,UAAAsB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAApB,IAAA,GAAAoB,SAAA,CAAAnB,IAAA;YAAA;cAC5BgB,GAAG,GAAG,CAAC,CAAC;cACRC,KAAK,GAAG,IAAI;cAAAE,SAAA,CAAAnB,IAAA;cAAA,OAEVnL,SAAS,CAACkM,KAAK,EAAE,EAAE,EAAE,UAACK,IAAI,EAAEC,GAAG,EAAK;gBACxC,OAAOD,IAAI,CAACd,kBAAkB,CAAC,CAAC,CAACgB,IAAI,CAAC,UAAClB,MAAM,EAAK;kBAChD,IAAMmB,KAAK,GAAG3M,MAAM,CAAC4M,IAAI,CAACpB,MAAM,CAAC;kBAEjC,IAAKa,KAAK,EAAG;oBACXD,GAAG,GAAGO,KAAK;oBACXN,KAAK,GAAG,KAAK;kBACf,CAAC,MAAM;oBAAA,IAAAQ,aAAA,EAAAC,UAAA,EAAAC,aAAA;oBACL,CAAAF,aAAA,GAAAT,GAAG,CAACY,QAAQ,EAACjG,IAAI,CAAA4E,KAAA,CAAAkB,aAAA,EAAAI,kBAAA,CAAIN,KAAK,CAACK,QAAQ,EAAC;oBACpC,CAAAF,UAAA,GAAAV,GAAG,CAACc,KAAK,EAACnG,IAAI,CAAA4E,KAAA,CAAAmB,UAAA,EAAAG,kBAAA,CAAIN,KAAK,CAACO,KAAK,EAAC;oBAC9B,CAAAH,aAAA,GAAAX,GAAG,CAACe,QAAQ,EAACpG,IAAI,CAAA4E,KAAA,CAAAoB,aAAA,EAAAE,kBAAA,CAAIN,KAAK,CAACQ,QAAQ,EAAC;kBACtC;gBACF,CAAC,CAAC;cACJ,CAAC,CAAC;YAAA;cAEF,OAAOf,GAAG,CAAC,iBAAiB,CAAC;cAEvBjK,GAAG,GAAGnC,MAAM,CAACoN,IAAI,CAAChB,GAAG,CAAC;cAE5BxM,YAAY,CAAC,iBAAiB,EAAEuC,GAAG,EAAE,kBAAkB,CAAC;YAAC;YAAA;cAAA,OAAAoK,SAAA,CAAAd,IAAA;UAAA;QAAA,GAAAS,QAAA;MAAA,CAC1D;MAAA,SAxBKmB,sBAAsBA,CAAAC,EAAA;QAAA,OAAArB,uBAAA,CAAAN,KAAA,OAAAxK,SAAA;MAAA;MAAA,OAAtBkM,sBAAsB;IAAA;EAAA;IAAApL,GAAA;IAAA4G,KAAA;MAAA,IAAA0E,eAAA,GAAA5C,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CA0B5B,SAAA2C,SAAA;QAAA,IAAAhC,MAAA;QAAA,OAAAZ,mBAAA,CAAAI,IAAA,UAAAyC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAvC,IAAA,GAAAuC,SAAA,CAAAtC,IAAA;YAAA;cAAAsC,SAAA,CAAAvC,IAAA;cAAAuC,SAAA,CAAAtC,IAAA;cAAA,OAEyB,IAAI,CAACM,kBAAkB,CAAC,CAAC;YAAA;cAAxCF,MAAM,GAAAkC,SAAA,CAAApC,IAAA;cAAA,KAERE,MAAM;gBAAAkC,SAAA,CAAAtC,IAAA;gBAAA;cAAA;cAAAsC,SAAA,CAAAtC,IAAA;cAAA,OACFxK,mBAAmB,CAAC4K,MAAM,CAAC;YAAA;cAAAkC,SAAA,CAAAtC,IAAA;cAAA;YAAA;cAAAsC,SAAA,CAAAvC,IAAA;cAAAuC,SAAA,CAAAC,EAAA,GAAAD,SAAA;YAAA;YAAA;cAAA,OAAAA,SAAA,CAAAjC,IAAA;UAAA;QAAA,GAAA+B,QAAA;MAAA,CAGtC;MAAA,SARKI,cAAcA,CAAA;QAAA,OAAAL,eAAA,CAAA5B,KAAA,OAAAxK,SAAA;MAAA;MAAA,OAAdyM,cAAc;IAAA;EAAA;IAAA3L,GAAA;IAAA4G,KAAA;MAAA,IAAAgF,iBAAA,GAAAlD,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAUpB,SAAAiD,SAAA;QAAA,IAAAC,KAAA,EAAAC,WAAA,EAAAC,kBAAA,EAAAC,OAAA,EAAAC,kBAAA;QAAA,OAAAvD,mBAAA,CAAAI,IAAA,UAAAoD,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlD,IAAA,GAAAkD,SAAA,CAAAjD,IAAA;YAAA;cAAAiD,SAAA,CAAAjD,IAAA;cAAA,OACsB,IAAI,CAAClB,SAAS,CAAC,iBAAiB,EAAE;gBAAElJ,IAAI,EAAE3B;cAAK,CAAC,EAAE;gBAAEoL,IAAI,EAAE;cAAK,CAAC,CAAC;YAAA;cAA/EsD,KAAK,GAAAM,SAAA,CAAA/C,IAAA;cAAA+C,SAAA,CAAAjD,IAAA;cAAA,OACe,IAAI,CAAClB,SAAS,CAAC,iBAAiB,EAAE;gBAAElJ,IAAI,EAAE3B;cAAK,CAAC,EAAE;gBAAEoL,IAAI,EAAE;cAAK,CAAC,CAAC;YAAA;cAArFuD,WAAW,GAAAK,SAAA,CAAA/C,IAAA;cAEX2C,kBAAkB,GAAGF,KAAK,CAACO,IAAI,CAAC,UAACC,IAAI;gBAAA,OAAKA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ;cAAA,EAAC;cAE1EP,OAAO,GAAGF,WAAW,CAACpK,MAAM,CAAC,UAAC8K,MAAM,EAAK;gBAC7C,IAAMH,IAAI,GAAGR,KAAK,CAACtM,IAAI,CAAC,UAACkN,EAAE;kBAAA,OAAKA,EAAE,CAACnN,EAAE,KAAKkN,MAAM,CAAClN,EAAE;gBAAA,EAAC;gBAEpD,OAAO+M,IAAI,KAAK,CAACN,kBAAkB,IAAIM,IAAI,CAACE,QAAQ,CAAC;cACvD,CAAC,CAAC;cACIN,kBAAkB,GAAG;gBACzBzE,GAAG,EAAK,CAAC;gBACTM,MAAM,EAAE;cACV,CAAC;cAAA,KAEG7J,OAAO,CAAC+N,OAAO,CAAC;gBAAAG,SAAA,CAAAjD,IAAA;gBAAA;cAAA;cAAA,OAAAiD,SAAA,CAAA9C,MAAA,WACX,IAAI;YAAA;cAAA,OAAA8C,SAAA,CAAA9C,MAAA,WAGN2C,OAAO,CAACU,MAAM,CAAC,UAACC,GAAG,EAAEH,MAAM,EAAK;gBAAA,IAAAI,aAAA,EAAAC,cAAA;gBACrCF,GAAG,CAACnF,GAAG,IAAI7J,OAAO,CAAC6O,MAAM,aAANA,MAAM,gBAAAI,aAAA,GAANJ,MAAM,CAAEM,KAAK,cAAAF,aAAA,uBAAbA,aAAA,CAAepF,GAAG,CAAC;gBACtCmF,GAAG,CAAC7E,MAAM,IAAInK,OAAO,CAAC6O,MAAM,aAANA,MAAM,gBAAAK,cAAA,GAANL,MAAM,CAAEM,KAAK,cAAAD,cAAA,uBAAbA,cAAA,CAAe/E,MAAM,CAAC;gBAE5C,OAAO6E,GAAG;cACZ,CAAC,EAAEV,kBAAkB,CAAC;YAAA;YAAA;cAAA,OAAAE,SAAA,CAAA5C,IAAA;UAAA;QAAA,GAAAqC,QAAA;MAAA,CACvB;MAAA,SA1BKmB,gBAAgBA,CAAA;QAAA,OAAApB,iBAAA,CAAAlC,KAAA,OAAAxK,SAAA;MAAA;MAAA,OAAhB8N,gBAAgB;IAAA;EAAA;IAAAhN,GAAA;IAAAC,GAAA,EA4BtB,SAAAA,IAAA,EAAY;MAAA,IAAAgN,MAAA;MACV,OAAO,IAAI,CAACxL,QAAQ,CAAC,KAAK,CAAC,CAACnE,UAAU,CAACF,IAAI,CAAC,CAACuE,MAAM,CAAC,UAAC2K,IAAI;QAAA,OAAKA,IAAI,CAAC/M,EAAE,CAAC2N,UAAU,CAACD,MAAI,CAAC1N,EAAE,CAAC;MAAA,EAAC;IAC5F;EAAC;IAAAS,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAoB;MAAA,IAAAkN,WAAA,EAAAC,eAAA,EAAAC,eAAA;MAClB,IAAMC,MAAM,GAAG,CAAC,GAAAH,WAAA,GAAC,IAAI,CAAC9L,IAAI,cAAA8L,WAAA,eAATA,WAAA,CAAWI,6BAA6B;MACzD;MACA;MACA;;MAEA,IAAMzO,IAAI,GAAG,IAAI,CAAC2H,OAAO,IAAI6G,MAAM,IAAI,IAAI,CAACE,0BAA0B,GAAG,IAAI,GAAG,MAAM;MACtF,IAAM1E,GAAG,GAAGjK,gBAAgB,CAACC,IAAI,EAAEvB,IAAI,CAACkQ,eAAe,GAAAL,eAAA,GAAE,IAAI,CAACrH,QAAQ,cAAAqH,eAAA,uBAAbA,eAAA,CAAenO,aAAa,CAAC;MAEtF,IAAI6J,GAAG,EAAE;QACP,OAAOA,GAAG;MACZ;MAEA,OAAOjK,gBAAgB,CAACC,IAAI,KAAK,IAAI,GAAG,MAAM,GAAG,IAAI,EAAEvB,IAAI,CAACkQ,eAAe,GAAAJ,eAAA,GAAE,IAAI,CAACtH,QAAQ,cAAAsH,eAAA,uBAAbA,eAAA,CAAepO,aAAa,CAAC;IAC5G;EAAC;IAAAe,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAa;MACX,OAAO,IAAI,CAACgB,YAAY,CAAC,WAAW,CAAC,CAACvC,eAAe,CAAC,CAACuG,QAAQ,CAAC,IAAI,CAAC1F,EAAE,CAAC;IAC1E;EAAC;IAAAS,GAAA;IAAA4G,KAAA,EAED,SAAA8G,GAAGA,CAAA,EAAG;MACJ,IAAMC,KAAK,GAAG,IAAI,CAAC1M,YAAY,CAAC,WAAW,CAAC,CAACvC,eAAe,CAAC,IAAI,EAAE;MAEnEjB,SAAS,CAACkQ,KAAK,EAAE,IAAI,CAACpO,EAAE,CAAC;MAEzB,IAAI,CAAC0I,SAAS,CAAC,WAAW,EAAE;QAAEjI,GAAG,EAAEtB,eAAe;QAAEkI,KAAK,EAAE+G;MAAM,CAAC,EAAE;QAAEnF,IAAI,EAAE;MAAK,CAAC,CAAC;IACrF;EAAC;IAAAxI,GAAA;IAAA4G,KAAA,EAED,SAAAgH,KAAKA,CAAA,EAAG;MACN,IAAMD,KAAK,GAAG,IAAI,CAAC1M,YAAY,CAAC,WAAW,CAAC,CAACvC,eAAe,CAAC,IAAI,EAAE;MAEnEhB,YAAY,CAACiQ,KAAK,EAAE,IAAI,CAACpO,EAAE,CAAC;MAE5B,IAAI,CAAC0I,SAAS,CAAC,WAAW,EAAE;QAAEjI,GAAG,EAAEtB,eAAe;QAAEkI,KAAK,EAAE+G;MAAM,CAAC,EAAE;QAAEnF,IAAI,EAAE;MAAK,CAAC,CAAC;IACrF;EAAC;AAAA,EAzcsClK,WAAW;AAAA,SAA/BoB,WAAW,IAAAmO,OAAA","ignoreList":[]}]}