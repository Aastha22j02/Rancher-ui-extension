{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/list/group.principal.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/list/group.principal.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTWFzdGhlYWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VMaXN0L01hc3RoZWFkJzsKaW1wb3J0IHsgTk9STUFOLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmltcG9ydCB7IGFwcGx5UHJvZHVjdHMgfSBmcm9tICdAc2hlbGwvc3RvcmUvdHlwZS1tYXAnOwppbXBvcnQgeyBOQU1FIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2F1dGgnOwppbXBvcnQgeyBNT0RFLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQkxBTktfQ0xVU1RFUiB9IGZyb20gJ0BzaGVsbC9zdG9yZS9zdG9yZS10eXBlcy5qcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBc3luY0J1dHRvbjogQXN5bmNCdXR0b24sCiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlLAogICAgTWFzdGhlYWQ6IE1hc3RoZWFkLAogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgcHJvcHM6IHsKICAgIHJlc291cmNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzY2hlbWE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHVzZVF1ZXJ5UGFyYW1zRm9yU2ltcGxlRmlsdGVyaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9oYXNoJHVzZXIsIF9ncmJTY2hlbWEkY29sbGVjdGlvbjsKICAgICAgdmFyIGF1dGhDb25maWdTY2hlbWEsIGdyYlNjaGVtYSwgaGFzaCwgbm9uTG9jYWxBdXRoUHJvdmlkZXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVJvd3MoKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgYXV0aENvbmZpZ1NjaGVtYSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJtYW5hZ2VtZW50L3NjaGVtYUZvciJdKE1BTkFHRU1FTlQuQVVUSF9DT05GSUcpOwogICAgICAgICAgICBncmJTY2hlbWEgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1sncmFuY2hlci9zY2hlbWFGb3InXShOT1JNQU4uR0xPQkFMX1JPTEVfQklORElORyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gYWxsSGFzaCh7CiAgICAgICAgICAgICAgdXNlcjogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgICB1cmw6ICcvdjMvdXNlcnM/bGltaXQ9MCcKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBwcm92aWRlcnM6IGF1dGhDb25maWdTY2hlbWEgPyBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm1hbmFnZW1lbnQvZmluZEFsbCIsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuQVVUSF9DT05GSUcKICAgICAgICAgICAgICB9KSA6IFByb21pc2UucmVzb2x2ZShbXSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBub25Mb2NhbEF1dGhQcm92aWRlciA9ICEhaGFzaC5wcm92aWRlcnMuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgIHJldHVybiBwLm5hbWUgIT09ICdsb2NhbCcgJiYgcC5lbmFibGVkID09PSB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMuY2FuUmVmcmVzaEFjY2VzcyA9IG5vbkxvY2FsQXV0aFByb3ZpZGVyICYmICEhKChfaGFzaCR1c2VyID0gaGFzaC51c2VyKSAhPT0gbnVsbCAmJiBfaGFzaCR1c2VyICE9PSB2b2lkIDAgJiYgKF9oYXNoJHVzZXIgPSBfaGFzaCR1c2VyLmFjdGlvbnMpICE9PSBudWxsICYmIF9oYXNoJHVzZXIgIT09IHZvaWQgMCAmJiBfaGFzaCR1c2VyLnJlZnJlc2hhdXRocHJvdmlkZXJhY2Nlc3MpOwogICAgICAgICAgICBfdGhpcy5jYW5DcmVhdGVHbG9iYWxSb2xlQmluZGluZyA9IG5vbkxvY2FsQXV0aFByb3ZpZGVyICYmIChncmJTY2hlbWEgPT09IG51bGwgfHwgZ3JiU2NoZW1hID09PSB2b2lkIDAgfHwgKF9ncmJTY2hlbWEkY29sbGVjdGlvbiA9IGdyYlNjaGVtYS5jb2xsZWN0aW9uTWV0aG9kcykgPT09IG51bGwgfHwgX2dyYlNjaGVtYSRjb2xsZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ3JiU2NoZW1hJGNvbGxlY3Rpb24uaW5jbHVkZXMoJ1BPU1QnKSk7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm93czogW10sCiAgICAgIGNhbkNyZWF0ZUdsb2JhbFJvbGVCaW5kaW5nOiBmYWxzZSwKICAgICAgY2FuUmVmcmVzaEFjY2VzczogZmFsc2UsCiAgICAgIGFzc2lnbkxvY2F0aW9uOiB7CiAgICAgICAgcGF0aDogIi9jLyIuY29uY2F0KEJMQU5LX0NMVVNURVIsICIvIikuY29uY2F0KE5BTUUsICIvIikuY29uY2F0KE5PUk1BTi5TUE9PRkVELkdST1VQX1BSSU5DSVBBTCwgIi9hc3NpZ24tZWRpdCIpLAogICAgICAgIHF1ZXJ5OiBfZGVmaW5lUHJvcGVydHkoe30sIE1PREUsIF9FRElUKQogICAgICB9LAogICAgICBpbml0aWFsTG9hZDogdHJ1ZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnYWN0aW9uLW1lbnUnLCBbJ3Nob3dQcm9tcHRSZW1vdmUnLCAndG9SZW1vdmUnXSkpLAogIHdhdGNoOiB7CiAgICB0b1JlbW92ZTogZnVuY3Rpb24gdG9SZW1vdmUocmVzb3VyY2VzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghX3RoaXMyLmluaXRpYWxMb2FkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMyLmluaXRpYWxMb2FkID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaWYgKCEoKHJlc291cmNlcyA9PT0gbnVsbCB8fCByZXNvdXJjZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc291cmNlcy5sZW5ndGgpID09PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlZnJlc2hHcm91cE1lbWJlcnNoaXBzKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZVJvd3ModHJ1ZSk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlUm93czogZnVuY3Rpb24gdXBkYXRlUm93cygpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGZvcmNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9yY2UgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnVwZGF0ZUdyb3VwUHJpbmNpcGFscyhmb3JjZSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLlBSSU5DSVBBTCwKICAgICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgICB1cmw6ICcvdjMvcHJpbmNpcGFscycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVmcmVzaEdyb3VwTWVtYmVyc2hpcHM6IGZ1bmN0aW9uIHJlZnJlc2hHcm91cE1lbWJlcnNoaXBzKGJ1dHRvbkRvbmUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9yZXF1ZXN0JywgewogICAgICAgICAgICAgICAgdXJsOiAnL3YzL3VzZXJzP2FjdGlvbj1yZWZyZXNoYXV0aHByb3ZpZGVyYWNjZXNzJywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgZGF0YToge30KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnVwZGF0ZUdyb3VwUHJpbmNpcGFscyh0cnVlKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgnZ3Jvd2wvZnJvbUVycm9yJywgewogICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvciByZWZyZXNoaW5nIGdyb3VwIG1lbWJlcnNoaXBzJywKICAgICAgICAgICAgICAgIGVycjogX2NvbnRleHQ0LnQwCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUdyb3VwUHJpbmNpcGFsczogZnVuY3Rpb24gdXBkYXRlR3JvdXBQcmluY2lwYWxzKCkgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHMsCiAgICAgICAgX3RoaXM1ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGZvcmNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9yY2UgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAwICYmIF9hcmd1bWVudHMyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlswXSA6IGZhbHNlOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXBwbHlQcm9kdWN0cyhfdGhpczUuJHN0b3JlKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLlNQT09GRUQuR1JPVVBfUFJJTkNJUEFMLAogICAgICAgICAgICAgICAgb3B0OiB7CiAgICAgICAgICAgICAgICAgIGZvcmNlOiBmb3JjZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF90aGlzNS5yb3dzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["ResourceTable","Loading","Masthead","NORMAN","MANAGEMENT","AsyncButton","applyProducts","NAME","MODE","_EDIT","mapState","BLANK_CLUSTER","allHash","components","props","resource","type","String","required","schema","Object","useQueryParamsForSimpleFiltering","Boolean","default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_hash$user","_grbSchema$collection","authConfigSchema","grbSchema","hash","nonLocalAuthProvider","wrap","_callee$","_context","prev","next","updateRows","$store","getters","AUTH_CONFIG","GLOBAL_ROLE_BINDING","user","dispatch","url","providers","Promise","resolve","sent","find","p","name","enabled","canRefreshAccess","actions","refreshauthprovideraccess","canCreateGlobalRoleBinding","collectionMethods","includes","stop","data","rows","assignLocation","path","concat","SPOOFED","GROUP_PRINCIPAL","query","_defineProperty","initialLoad","computed","_objectSpread","watch","toRemove","resources","_this2","_callee2","_callee2$","_context2","abrupt","length","refreshGroupMemberships","methods","_arguments","arguments","_this3","_callee3","force","_callee3$","_context3","undefined","updateGroupPrincipals","GLOBAL_ROLE","PRINCIPAL","opt","buttonDone","_this4","_callee4","_callee4$","_context4","method","t0","title","err","root","_arguments2","_this5","_callee5","_callee5$","_context5"],"sources":["node_modules/@rancher/shell/list/group.principal.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport { NORMAN, MANAGEMENT } from '@shell/config/types';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { applyProducts } from '@shell/store/type-map';\nimport { NAME } from '@shell/config/product/auth';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { mapState } from 'vuex';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\nimport { allHash } from '@shell/utils/promise';\n\nexport default {\n  components: {\n    AsyncButton, ResourceTable, Masthead, Loading\n  },\n  props: {\n    resource: {\n      type:     String,\n      required: true,\n    },\n\n    schema: {\n      type:     Object,\n      required: true,\n    },\n\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n  async fetch() {\n    await this.updateRows();\n\n    const authConfigSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.AUTH_CONFIG);\n    const grbSchema = this.$store.getters['rancher/schemaFor'](NORMAN.GLOBAL_ROLE_BINDING);\n\n    const hash = await allHash({\n      user:      this.$store.dispatch('rancher/request', { url: '/v3/users?limit=0' }),\n      providers: authConfigSchema ? this.$store.dispatch(`management/findAll`, { type: MANAGEMENT.AUTH_CONFIG }) : Promise.resolve([])\n    });\n\n    const nonLocalAuthProvider = !!hash.providers.find((p) => p.name !== 'local' && p.enabled === true);\n\n    this.canRefreshAccess = nonLocalAuthProvider && !!hash.user?.actions?.refreshauthprovideraccess;\n    this.canCreateGlobalRoleBinding = nonLocalAuthProvider && grbSchema?.collectionMethods?.includes('POST');\n  },\n  data() {\n    return {\n      rows:                       [],\n      canCreateGlobalRoleBinding: false,\n      canRefreshAccess:           false,\n      assignLocation:             {\n        path:  `/c/${ BLANK_CLUSTER }/${ NAME }/${ NORMAN.SPOOFED.GROUP_PRINCIPAL }/assign-edit`,\n        query: { [MODE]: _EDIT }\n      },\n      initialLoad: true,\n    };\n  },\n  computed: { ...mapState('action-menu', ['showPromptRemove', 'toRemove']) },\n  watch:    {\n    async toRemove(resources) {\n      if (this.initialLoad) {\n        this.initialLoad = false;\n\n        return;\n      }\n      if (resources?.length === 0) {\n        await this.refreshGroupMemberships(() => {});\n        // spoofed collections normally get updated when promptRemove has completed (given the resources are of a spoofed type)..\n        // ... however in this use case it doesn't happen so do it manually (the removed resources are not globalRoleBindings and not spoofed)\n        await this.updateRows(true);\n      }\n    }\n  },\n  methods: {\n    async updateRows(force = false) {\n      await this.updateGroupPrincipals(force);\n\n      // Upfront load all global roles, this makes it easier to sync fetch them later on\n      await this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE });\n\n      await this.$store.dispatch('rancher/findAll', { type: NORMAN.PRINCIPAL, opt: { url: '/v3/principals' } });\n    },\n    async refreshGroupMemberships(buttonDone) {\n      try {\n        await this.$store.dispatch('rancher/request', {\n          url:    '/v3/users?action=refreshauthprovideraccess',\n          method: 'post',\n          data:   { },\n        });\n\n        await this.updateGroupPrincipals(true);\n\n        buttonDone(true);\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', { title: 'Error refreshing group memberships', err }, { root: true });\n        buttonDone(false);\n      }\n    },\n    async updateGroupPrincipals(force = false) {\n      // This is needed in SSR, but not SPA. If this is not here... when cluster/findAll is dispatched... we fail to find the spoofed\n      // type's `getInstance` fn as it hasn't been registered (`instanceMethods` in type-map file is empty)\n      await applyProducts(this.$store);\n\n      // Force spoofed type getInstances to execute again\n      this.rows = await this.$store.dispatch('management/findAll', {\n        type: NORMAN.SPOOFED.GROUP_PRINCIPAL,\n        opt:  { force }\n      }, { root: true });\n    }\n  },\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <Masthead\n      :schema=\"schema\"\n      :resource=\"resource\"\n    >\n      <template slot=\"extraActions\">\n        <AsyncButton\n          v-if=\"canRefreshAccess\"\n          mode=\"refresh\"\n          :action-label=\"t('authGroups.actions.refresh')\"\n          :waiting-label=\"t('authGroups.actions.refresh')\"\n          :success-label=\"t('authGroups.actions.refresh')\"\n          :error-label=\"t('authGroups.actions.refresh')\"\n          :class=\"{'mr-5': canCreateGlobalRoleBinding}\"\n          @click=\"refreshGroupMemberships\"\n        />\n        <router-link\n          v-if=\"canCreateGlobalRoleBinding\"\n          :to=\"assignLocation\"\n          class=\"btn role-primary\"\n        >\n          {{ t(\"authGroups.actions.assignRoles\") }}\n        </router-link>\n      </template>\n    </Masthead>\n\n    <ResourceTable\n      :schema=\"schema\"\n      :rows=\"rows\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    />\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]}]}