{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9Ci8qIGVzbGludC1kaXNhYmxlIGplc3Qvbm8taG9va3MgKi8KaW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgQ2x1c3RlclJvbGVUZW1wbGF0ZUJpbmRpbmcgZnJvbSAnQHNoZWxsL2VkaXQvbWFuYWdlbWVudC5jYXR0bGUuaW8uY2x1c3RlcnJvbGV0ZW1wbGF0ZWJpbmRpbmcudnVlJzsKaW1wb3J0IEJhbm5lciBmcm9tICdAY29tcG9uZW50cy9CYW5uZXIvQmFubmVyLnZ1ZSc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmRlc2NyaWJlKCd2aWV3OiBtYW5hZ2VtZW50LmNhdHRsZS5pby5jbHVzdGVycm9sZXRlbXBsYXRlYmluZGluZyBzaG91bGQnLCBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyYXBwZXI7CiAgdmFyIHN0dWJzID0gewogICAgQ2x1c3RlclBlcm1pc3Npb25zRWRpdG9yOiB0cnVlLAogICAgTG9hZGluZzogdHJ1ZQogIH07CiAgdmFyIHJlcXVpcmVkU2V0dXAgPSBmdW5jdGlvbiByZXF1aXJlZFNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gUmVtb3ZlIGFsbCB0aGVzZSBtb2NrcyBhZnRlciBtaWdyYXRpb24gdG8gVnVlIDIuNy8zIGR1ZSBtaXhpbiBsb2dpYwogICAgICBtb2NrczogewogICAgICAgICRzdG9yZTogewogICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICBjdXJyZW50U3RvcmU6IGZ1bmN0aW9uIGN1cnJlbnRTdG9yZSgpIHsKICAgICAgICAgICAgICByZXR1cm4gJ2N1cnJlbnRfc3RvcmUnOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnY3VycmVudF9zdG9yZS9zY2hlbWFGb3InOiBqZXN0LmZuKCksCiAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgY3VycmVudENsdXN0ZXI6IHsKICAgICAgICAgICAgICBpZDogJ215LWNsdXN0ZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGN1cnJlbnRQcm9kdWN0OiB7CiAgICAgICAgICAgICAgaW5TdG9yZTogJ3doYXRldmVyJwogICAgICAgICAgICB9LAogICAgICAgICAgICAnaTE4bi90JzogZnVuY3Rpb24gaTE4bl90KHZhbCkgewogICAgICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdpMThuL2V4aXN0cyc6IGplc3QuZm4oKQogICAgICAgICAgfSwKICAgICAgICAgIGRpc3BhdGNoOiBqZXN0LmZuKGZ1bmN0aW9uIChhY3Rpb24sIHBheWxvYWQpIHsKICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSB7CiAgICAgICAgICAgICAgJ21hbmFnZW1lbnQvZmluZEFsbCc6IGZ1bmN0aW9uIG1hbmFnZW1lbnRfZmluZEFsbCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICdjcnUtcmVzb3VyY2Uvc2V0Q3JlYXRlTmFtZXNwYWNlJzogamVzdC5mbigpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChhY3Rpb25zW2FjdGlvbl0pIHsKICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uc1thY3Rpb25dKHBheWxvYWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBhY3Rpb246ICIuY29uY2F0KGFjdGlvbikpOwogICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgICRmZXRjaFN0YXRlOiB7CiAgICAgICAgICBwZW5kaW5nOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgJHJvdXRlOiB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBBUzogJycKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICRyb3V0ZXI6IHsKICAgICAgICAgIGFwcGx5UXVlcnk6IGplc3QuZm4oKSwKICAgICAgICAgIHJlcGxhY2U6IGplc3QuZm4oKQogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgdmFsdWU6IHt9CiAgICAgIH0sCiAgICAgIHN0dWJzOiBzdHVicwogICAgfTsKICB9OwogIGFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgICB3cmFwcGVyLmRlc3Ryb3koKTsKICB9KTsKICBpdCgnc2hvdWxkIG9ubHkgc2hvdyBvbmUgZXJyb3IgYmFubmVyJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciBlcnJvcnMsIGNydVJlc291cmNlRWxlbSwgYmFubmVyRWxlbXM7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgZXJyb3JzID0gWydtaXN0YWtlISddOwogICAgICAgICAgd3JhcHBlciA9IG1vdW50KENsdXN0ZXJSb2xlVGVtcGxhdGVCaW5kaW5nLCBfb2JqZWN0U3ByZWFkKHt9LCByZXF1aXJlZFNldHVwKCkpKTsKICAgICAgICAgIGNydVJlc291cmNlRWxlbSA9IHdyYXBwZXIuZmluZENvbXBvbmVudChDcnVSZXNvdXJjZSk7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgIHJldHVybiBjcnVSZXNvdXJjZUVsZW0udm0uJGVtaXQoJ2Vycm9yJywgZXJyb3JzKTsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBiYW5uZXJFbGVtcyA9IHdyYXBwZXIuZmluZEFsbENvbXBvbmVudHMoQmFubmVyKTsKICAgICAgICAgIGV4cGVjdChiYW5uZXJFbGVtcykudG9IYXZlTGVuZ3RoKDEpOwogICAgICAgIGNhc2UgNzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpKTsKfSk7"},{"version":3,"names":["mount","ClusterRoleTemplateBinding","Banner","CruResource","describe","wrapper","stubs","ClusterPermissionsEditor","Loading","requiredSetup","mocks","$store","getters","currentStore","jest","fn","currentCluster","id","currentProduct","inStore","i18n_t","val","dispatch","action","payload","actions","management_findAll","Error","concat","$fetchState","pending","$route","query","AS","$router","applyQuery","replace","propsData","value","afterEach","destroy","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","errors","cruResourceElem","bannerElems","wrap","_callee$","_context","prev","next","_objectSpread","findComponent","vm","$emit","findAllComponents","expect","toHaveLength","stop"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts"],"sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount } from '@vue/test-utils';\nimport ClusterRoleTemplateBinding from '@shell/edit/management.cattle.io.clusterroletemplatebinding.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport CruResource from '@shell/components/CruResource';\n\ndescribe('view: management.cattle.io.clusterroletemplatebinding should', () => {\n  let wrapper: any;\n\n  const stubs = {\n    ClusterPermissionsEditor: true,\n    Loading:                  true\n  };\n\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          currentCluster:            { id: 'my-cluster' },\n          currentProduct:            { inStore: 'whatever' },\n          'i18n/t':                  (val) => val,\n          'i18n/exists':             jest.fn(),\n        },\n        dispatch: jest.fn((action, payload) => {\n          const actions = {\n            'management/findAll':              () => [],\n            'cru-resource/setCreateNamespace': jest.fn(),\n          };\n\n          if (actions[action]) {\n            return actions[action](payload);\n          }\n\n          throw new Error(`Unknown action: ${ action }`);\n        }),\n      },\n      $fetchState: { pending: false },\n      $route:      { query: { AS: '' } },\n      $router:     {\n        applyQuery: jest.fn(),\n        replace:    jest.fn()\n      },\n    },\n    propsData: { value: {} },\n    stubs,\n  });\n\n  afterEach(() => {\n    wrapper.destroy();\n  });\n\n  it('should only show one error banner', async() => {\n    const errors = ['mistake!'];\n\n    wrapper = mount(ClusterRoleTemplateBinding, { ...requiredSetup() });\n\n    const cruResourceElem = wrapper.findComponent(CruResource);\n\n    await cruResourceElem.vm.$emit('error', errors);\n\n    const bannerElems = wrapper.findAllComponents(Banner);\n\n    expect(bannerElems).toHaveLength(1);\n  });\n});\n"],"mappings":";;;;;;;;;;;;;AAAA;AACA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,0BAA0B,MAAM,iEAAiE;AACxG,OAAOC,MAAM,MAAM,+BAA+B;AAClD,OAAOC,WAAW,MAAM,+BAA+B;AAEvDC,QAAQ,CAAC,8DAA8D,EAAE,YAAK;EAC5E,IAAIC,OAAY;EAEhB,IAAMC,KAAK,GAAG;IACZC,wBAAwB,EAAE,IAAI;IAC9BC,OAAO,EAAmB;GAC3B;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;IAAA,OAAU;MAC3B;MACAC,KAAK,EAAE;QACLC,MAAM,EAAE;UACNC,OAAO,EAAE;YACPC,YAAY,EAAe,SAA3BA,YAAYA,CAAA;cAAA,OAAqB,eAAe;YAAA;YAChD,yBAAyB,EAAEC,IAAI,CAACC,EAAE,EAAE;YACpC,mBAAmB,EAAQD,IAAI,CAACC,EAAE,EAAE;YACpCC,cAAc,EAAa;cAAEC,EAAE,EAAE;YAAY,CAAE;YAC/CC,cAAc,EAAa;cAAEC,OAAO,EAAE;YAAU,CAAE;YAClD,QAAQ,EAAmB,SAA3BC,MAAQA,CAAoBC,GAAG;cAAA,OAAKA,GAAG;YAAA;YACvC,aAAa,EAAcP,IAAI,CAACC,EAAE;WACnC;UACDO,QAAQ,EAAER,IAAI,CAACC,EAAE,CAAC,UAACQ,MAAM,EAAEC,OAAO,EAAI;YACpC,IAAMC,OAAO,GAAG;cACd,oBAAoB,EAAe,SAAnCC,kBAAoBA,CAAA;gBAAA,OAAqB,EAAE;cAAA;cAC3C,iCAAiC,EAAEZ,IAAI,CAACC,EAAE;aAC3C;YAED,IAAIU,OAAO,CAACF,MAAM,CAAC,EAAE;cACnB,OAAOE,OAAO,CAACF,MAAM,CAAC,CAACC,OAAO,CAAC;;YAGjC,MAAM,IAAIG,KAAK,oBAAAC,MAAA,CAAqBL,MAAO,CAAE,CAAC;UAChD,CAAC;SACF;QACDM,WAAW,EAAE;UAAEC,OAAO,EAAE;QAAK,CAAE;QAC/BC,MAAM,EAAO;UAAEC,KAAK,EAAE;YAAEC,EAAE,EAAE;UAAE;QAAE,CAAE;QAClCC,OAAO,EAAM;UACXC,UAAU,EAAErB,IAAI,CAACC,EAAE,EAAE;UACrBqB,OAAO,EAAKtB,IAAI,CAACC,EAAE;;OAEtB;MACDsB,SAAS,EAAE;QAAEC,KAAK,EAAE;MAAE,CAAE;MACxBhC,KAAK,EAALA;KACD;EAAA,CAAC;EAEFiC,SAAS,CAAC,YAAK;IACblC,OAAO,CAACmC,OAAO,EAAE;EACnB,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,eAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;IAAA,IAAAC,MAAA,EAAAC,eAAA,EAAAC,WAAA;IAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAChCP,MAAM,GAAG,CAAC,UAAU,CAAC;UAE3BzC,OAAO,GAAGL,KAAK,CAACC,0BAA0B,EAAAqD,aAAA,KAAO7C,aAAa,EAAE,CAAE,CAAC;UAE7DsC,eAAe,GAAG1C,OAAO,CAACkD,aAAa,CAACpD,WAAW,CAAC;UAAAgD,QAAA,CAAAE,IAAA;UAAA,OAEpDN,eAAe,CAACS,EAAE,CAACC,KAAK,CAAC,OAAO,EAAEX,MAAM,CAAC;QAAA;UAEzCE,WAAW,GAAG3C,OAAO,CAACqD,iBAAiB,CAACxD,MAAM,CAAC;UAErDyD,MAAM,CAACX,WAAW,CAAC,CAACY,YAAY,CAAC,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAT,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAhB,OAAA;EAAA,CACrC,GAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}