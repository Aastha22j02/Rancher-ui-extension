{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/fleet.cattle.io.gitrepo.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/fleet.cattle.io.gitrepo.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldCBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBjb252ZXJ0LCBtYXRjaGluZywgY29udmVydFNlbGVjdG9yT2JqIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NlbGVjdG9yJzsKaW1wb3J0IGpzeWFtbCBmcm9tICdqcy15YW1sJzsKaW1wb3J0IHsgZXNjYXBlSHRtbCwgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IEZMRUVUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IEZMRUVUIGFzIEZMRUVUX0FOTk9UQVRJT05TIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBhZGRPYmplY3QsIGFkZE9iamVjdHMsIGZpbmRCeSwgaW5zZXJ0QXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwppbXBvcnQgeyBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IFN0ZXZlTW9kZWwgZnJvbSAnQHNoZWxsL3BsdWdpbnMvc3RldmUvc3RldmUtY2xhc3MnOwppbXBvcnQgeyBTVEFURVNfRU5VTSwgY29sb3JGb3JTdGF0ZSwgbWFwU3RhdGVUb0VudW0sIHByaW1hcnlEaXNwbGF5U3RhdHVzRnJvbUNvdW50LCBzdGF0ZURpc3BsYXksIHN0YXRlU29ydCB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CmltcG9ydCB7IE5BTUUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvZXhwbG9yZXInOwpmdW5jdGlvbiBxdWFja3NMaWtlQUhhc2goc3RyKSB7CiAgaWYgKHN0ci5tYXRjaCgvXlthLWYwLTldezQwLH0kL2kpKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgcmV0dXJuIGZhbHNlOwp9CnZhciBHaXRSZXBvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3RldmVNb2RlbCkgewogIGZ1bmN0aW9uIEdpdFJlcG8oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2l0UmVwbyk7CiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBHaXRSZXBvLCBhcmd1bWVudHMpOwogIH0KICBfaW5oZXJpdHMoR2l0UmVwbywgX1N0ZXZlTW9kZWwpOwogIHJldHVybiBfY3JlYXRlQ2xhc3MoR2l0UmVwbywgW3sKICAgIGtleTogImFwcGx5RGVmYXVsdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMoKSB7CiAgICAgIHZhciBzcGVjID0gdGhpcy5zcGVjIHx8IHt9OwogICAgICB2YXIgbWV0YSA9IHRoaXMubWV0YWRhdGEgfHwge307CiAgICAgIG1ldGEubmFtZXNwYWNlID0gdGhpcy4kcm9vdEdldHRlcnNbJ3dvcmtzcGFjZSddOwogICAgICBzcGVjLnJlcG8gPSBzcGVjLnJlcG8gfHwgJyc7CiAgICAgIGlmICghc3BlYy5icmFuY2ggJiYgIXNwZWMucmV2aXNpb24pIHsKICAgICAgICBzcGVjLmJyYW5jaCA9ICdtYXN0ZXInOwogICAgICB9CiAgICAgIHNwZWMucGF0aHMgPSBzcGVjLnBhdGhzIHx8IFtdOwogICAgICBzcGVjLmNsaWVudFNlY3JldE5hbWUgPSBzcGVjLmNsaWVudFNlY3JldE5hbWUgfHwgbnVsbDsKICAgICAgVnVlLnNldChzcGVjLCAnY29ycmVjdERyaWZ0JywgewogICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgIH0pOwogICAgICBzZXQodGhpcywgJ3NwZWMnLCBzcGVjKTsKICAgICAgc2V0KHRoaXMsICdtZXRhZGF0YScsIG1ldGEpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hdmFpbGFibGVBY3Rpb25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYywgX3RoaXMkc3BlYzI7CiAgICAgIHZhciBvdXQgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihHaXRSZXBvLnByb3RvdHlwZSksICJfYXZhaWxhYmxlQWN0aW9ucyIsIHRoaXMpOwogICAgICBpbnNlcnRBdChvdXQsIDAsIHsKICAgICAgICBhY3Rpb246ICdwYXVzZScsCiAgICAgICAgbGFiZWw6ICdQYXVzZScsCiAgICAgICAgaWNvbjogJ2ljb24gaWNvbi1wYXVzZScsCiAgICAgICAgYnVsa2FibGU6IHRydWUsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmxpbmtzLnVwZGF0ZSAmJiAhKChfdGhpcyRzcGVjID0gdGhpcy5zcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyRzcGVjICE9PSB2b2lkIDAgJiYgX3RoaXMkc3BlYy5wYXVzZWQpCiAgICAgIH0pOwogICAgICBpbnNlcnRBdChvdXQsIDEsIHsKICAgICAgICBhY3Rpb246ICd1bnBhdXNlJywKICAgICAgICBsYWJlbDogJ1VucGF1c2UnLAogICAgICAgIGljb246ICdpY29uIGljb24tcGxheScsCiAgICAgICAgYnVsa2FibGU6IHRydWUsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmxpbmtzLnVwZGF0ZSAmJiAoKF90aGlzJHNwZWMyID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzIucGF1c2VkKSA9PT0gdHJ1ZQogICAgICB9KTsKICAgICAgaW5zZXJ0QXQob3V0LCAyLCB7CiAgICAgICAgYWN0aW9uOiAnZm9yY2VVcGRhdGUnLAogICAgICAgIGxhYmVsOiAnRm9yY2UgVXBkYXRlJywKICAgICAgICBpY29uOiAnaWNvbiBpY29uLXJlZnJlc2gnLAogICAgICAgIGJ1bGthYmxlOiB0cnVlLAogICAgICAgIGVuYWJsZWQ6ICEhdGhpcy5saW5rcy51cGRhdGUKICAgICAgfSk7CiAgICAgIGluc2VydEF0KG91dCwgMywgewogICAgICAgIGRpdmlkZXI6IHRydWUKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAicGF1c2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkgewogICAgICB0aGlzLnNwZWMucGF1c2VkID0gdHJ1ZTsKICAgICAgdGhpcy5zYXZlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5wYXVzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5wYXVzZSgpIHsKICAgICAgdGhpcy5zcGVjLnBhdXNlZCA9IGZhbHNlOwogICAgICB0aGlzLnNhdmUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb3JjZVVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGUoKSB7CiAgICAgIHZhciBub3cgPSB0aGlzLnNwZWMuZm9yY2VTeW5jR2VuZXJhdGlvbiB8fCAxOwogICAgICB0aGlzLnNwZWMuZm9yY2VTeW5jR2VuZXJhdGlvbiA9IG5vdyArIDE7CiAgICAgIHRoaXMuc2F2ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInN0YXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzMsIF90aGlzJG1ldGFkYXRhOwogICAgICBpZiAoKChfdGhpcyRzcGVjMyA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMzLnBhdXNlZCkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gJ3BhdXNlZCc7CiAgICAgIH0KICAgICAgcmV0dXJuICgoX3RoaXMkbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfdGhpcyRtZXRhZGF0YSA9IF90aGlzJG1ldGFkYXRhLnN0YXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEubmFtZSkgfHwgJ3Vua25vd24nOwogICAgfQogIH0sIHsKICAgIGtleTogInRhcmdldENsdXN0ZXJzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgd29ya3NwYWNlID0gdGhpcy4kZ2V0dGVyc1snYnlJZCddKEZMRUVULldPUktTUEFDRSwgdGhpcy5tZXRhZGF0YS5uYW1lc3BhY2UpOwogICAgICB2YXIgY2x1c3RlcnMgPSAod29ya3NwYWNlID09PSBudWxsIHx8IHdvcmtzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogd29ya3NwYWNlLmNsdXN0ZXJzKSB8fCBbXTsKICAgICAgdmFyIGdyb3VwcyA9ICh3b3Jrc3BhY2UgPT09IG51bGwgfHwgd29ya3NwYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3b3Jrc3BhY2UuY2x1c3Rlckdyb3VwcykgfHwgW107CiAgICAgIGlmICgod29ya3NwYWNlID09PSBudWxsIHx8IHdvcmtzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogd29ya3NwYWNlLmlkKSA9PT0gJ2ZsZWV0LWxvY2FsJykgewogICAgICAgIHZhciBsb2NhbCA9IGZpbmRCeShncm91cHMsICdpZCcsICdmbGVldC1sb2NhbC9kZWZhdWx0Jyk7CiAgICAgICAgaWYgKGxvY2FsKSB7CiAgICAgICAgICByZXR1cm4gbG9jYWwudGFyZ2V0Q2x1c3RlcnM7CiAgICAgICAgfQogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgICBpZiAoIXRoaXMuc3BlYy50YXJnZXRzKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHZhciBvdXQgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuc3BlYy50YXJnZXRzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHRndCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgaWYgKHRndC5jbHVzdGVyTmFtZSkgewogICAgICAgICAgICB2YXIgY2x1c3RlciA9IGZpbmRCeShjbHVzdGVycywgJ21ldGFkYXRhLm5hbWUnLCB0Z3QuY2x1c3Rlck5hbWUpOwogICAgICAgICAgICBpZiAoY2x1c3RlcikgewogICAgICAgICAgICAgIGFkZE9iamVjdChvdXQsIGNsdXN0ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHRndC5jbHVzdGVyR3JvdXApIHsKICAgICAgICAgICAgdmFyIGdyb3VwID0gZmluZEJ5KGdyb3VwcywgewogICAgICAgICAgICAgICdtZXRhZGF0YS5uYW1lc3BhY2UnOiB0aGlzLm1ldGFkYXRhLm5hbWVzcGFjZSwKICAgICAgICAgICAgICAnbWV0YWRhdGEubmFtZSc6IHRndC5jbHVzdGVyR3JvdXAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChncm91cCkgewogICAgICAgICAgICAgIGFkZE9iamVjdHMob3V0LCBncm91cC50YXJnZXRDbHVzdGVycyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAodGd0LmNsdXN0ZXJHcm91cFNlbGVjdG9yKSB7CiAgICAgICAgICAgIHZhciBleHByZXNzaW9ucyA9IGNvbnZlcnRTZWxlY3Rvck9iaih0Z3QuY2x1c3Rlckdyb3VwU2VsZWN0b3IpOwogICAgICAgICAgICB2YXIgbWF0Y2hpbmdHcm91cHMgPSBtYXRjaGluZyhncm91cHMsIGV4cHJlc3Npb25zKTsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtYXRjaGluZ0dyb3VwcyksCiAgICAgICAgICAgICAgX3N0ZXAyOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgX2dyb3VwID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICAgICAgYWRkT2JqZWN0cyhvdXQsIF9ncm91cC50YXJnZXRDbHVzdGVycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICh0Z3QuY2x1c3RlclNlbGVjdG9yKSB7CiAgICAgICAgICAgIHZhciBfZXhwcmVzc2lvbnMgPSBjb252ZXJ0U2VsZWN0b3JPYmoodGd0LmNsdXN0ZXJTZWxlY3Rvcik7CiAgICAgICAgICAgIHZhciBtYXRjaGluZ0NsdXN0ZXJzID0gbWF0Y2hpbmcoY2x1c3RlcnMsIF9leHByZXNzaW9ucyk7CiAgICAgICAgICAgIGFkZE9iamVjdHMob3V0LCBtYXRjaGluZ0NsdXN0ZXJzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sIHsKICAgIGtleTogImdpdGh1YiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIG1hdGNoID0gdGhpcy5zcGVjLnJlcG8ubWF0Y2goL15odHRwcz86XC9cL2dpdGh1YlwuY29tXC8oLio/KShcLmdpdCk/XC8qJC8pOwogICAgICBpZiAobWF0Y2gpIHsKICAgICAgICByZXR1cm4gbWF0Y2hbMV07CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInJlcG9JY29uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5naXRodWIpIHsKICAgICAgICByZXR1cm4gJ2ljb24gaWNvbi1naXRodWInOwogICAgICB9CiAgICAgIHJldHVybiAnJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXBvRGlzcGxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHJlcG8gPSB0aGlzLnNwZWMucmVwbzsKICAgICAgcmVwbyA9IHJlcG8ucmVwbGFjZSgvLmdpdCQvLCAnJyk7CiAgICAgIHJlcG8gPSByZXBvLnJlcGxhY2UoL15odHRwczpcL1wvLywgJycpOwogICAgICByZXBvID0gcmVwby5yZXBsYWNlKC9cLyskLywgJycpOwogICAgICBpZiAodGhpcy5naXRodWIpIHsKICAgICAgICByZXR1cm4gdGhpcy5naXRodWI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlcG87CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tbWl0RGlzcGxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czsKICAgICAgdmFyIHNwZWMgPSB0aGlzLnNwZWM7CiAgICAgIHZhciBoYXNoID0gKF90aGlzJHN0YXR1cyA9IHRoaXMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkc3RhdHVzID0gX3RoaXMkc3RhdHVzLmNvbW1pdCkgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXMuc3Vic3RyKDAsIDcpOwogICAgICBpZiAoIXNwZWMgfHwgIXNwZWMucmVwbykgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGlmIChzcGVjLnJldmlzaW9uICYmIHF1YWNrc0xpa2VBSGFzaChzcGVjLnJldmlzaW9uKSkgewogICAgICAgIHJldHVybiBzcGVjLnJldmlzaW9uLnN1YnN0cigwLCA3KTsKICAgICAgfSBlbHNlIGlmIChzcGVjLnJldmlzaW9uKSB7CiAgICAgICAgcmV0dXJuIHNwZWMucmV2aXNpb247CiAgICAgIH0gZWxzZSBpZiAoc3BlYy5icmFuY2gpIHsKICAgICAgICByZXR1cm4gc3BlYy5icmFuY2ggKyAoaGFzaCA/ICIgQCAiLmNvbmNhdChoYXNoKSA6ICcnKTsKICAgICAgfQogICAgICByZXR1cm4gaGFzaDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0YXJnZXRJbmZvIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgbW9kZSA9IG51bGw7CiAgICAgIHZhciBjbHVzdGVyID0gbnVsbDsKICAgICAgdmFyIGNsdXN0ZXJHcm91cCA9IG51bGw7CiAgICAgIHZhciBhZHZhbmNlZCA9IG51bGw7CiAgICAgIHZhciB0YXJnZXRzID0gdGhpcy5zcGVjLnRhcmdldHMgfHwgW107CiAgICAgIGFkdmFuY2VkID0ganN5YW1sLmR1bXAodGFyZ2V0cyk7CiAgICAgIGlmIChhZHZhbmNlZCA9PT0gJ1tdXG4nKSB7CiAgICAgICAgYWR2YW5jZWQgPSAiIyAtIG5hbWU6XG4jICBjbHVzdGVyU2VsZWN0b3I6XG4jICAgIG1hdGNoTGFiZWxzOlxuIyAgICAgZm9vOiBiYXJcbiMgICAgbWF0Y2hFeHByZXNzaW9uczpcbiMgICAgIC0ga2V5OiBmb29cbiMgICAgICAgb3A6IEluXG4jICAgICAgIHZhbHVlczogW2JhciwgYmF6XVxuIyAgY2x1c3Rlckdyb3VwOiBmb29cbiMgIGNsdXN0ZXJHcm91cFNlbGVjdG9yOlxuIyAgICBtYXRjaExhYmVsczpcbiMgICAgIGZvbzogYmFyXG4jICAgIG1hdGNoRXhwcmVzc2lvbnM6XG4jICAgICAtIGtleTogZm9vXG4jICAgICAgIG9wOiBJblxuIyAgICAgICB2YWx1ZXM6IFtiYXIsIGJhel1cbiI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubWV0YWRhdGEubmFtZXNwYWNlID09PSAnZmxlZXQtbG9jYWwnKSB7CiAgICAgICAgbW9kZSA9ICdsb2NhbCc7CiAgICAgIH0gZWxzZSBpZiAoIXRhcmdldHMubGVuZ3RoKSB7CiAgICAgICAgbW9kZSA9ICdub25lJzsKICAgICAgfSBlbHNlIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzWzBdOwogICAgICAgIGlmIChPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIGluIGEgc2luZ2xlIHRhcmdldCwgc28gdXNlIHRoZSAnYWR2YW5jZWQnIG1vZGUKICAgICAgICAgIC8vIChvdGhlcndpc2UgYW55IGV4aXN0aW5nIGNvbnRlbnQgaXMgbnVrZWQgZm9yIHdoYXQgd2UgcHJvdmlkZSkKICAgICAgICAgIG1vZGUgPSAnYWR2YW5jZWQnOwogICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsdXN0ZXJHcm91cCkgewogICAgICAgICAgY2x1c3Rlckdyb3VwID0gdGFyZ2V0LmNsdXN0ZXJHcm91cDsKICAgICAgICAgIGlmICghbW9kZSkgewogICAgICAgICAgICBtb2RlID0gJ2NsdXN0ZXJHcm91cCc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2x1c3Rlck5hbWUpIHsKICAgICAgICAgIG1vZGUgPSAnY2x1c3Rlcic7CiAgICAgICAgICBjbHVzdGVyID0gdGFyZ2V0LmNsdXN0ZXJOYW1lOwogICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsdXN0ZXJTZWxlY3RvcikgewogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRhcmdldC5jbHVzdGVyU2VsZWN0b3IpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBtb2RlID0gJ2FsbCc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgZXhwcmVzc2lvbnMgPSBjb252ZXJ0KHRhcmdldC5jbHVzdGVyU2VsZWN0b3IubWF0Y2hMYWJlbHMsIHRhcmdldC5jbHVzdGVyU2VsZWN0b3IubWF0Y2hFeHByZXNzaW9ucyk7CiAgICAgICAgICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDEgJiYgZXhwcmVzc2lvbnNbMF0ua2V5ID09PSBGTEVFVF9BTk5PVEFUSU9OUy5DTFVTVEVSX05BTUUgJiYgZXhwcmVzc2lvbnNbMF0ub3BlcmF0b3IgPT09ICdJbicgJiYgZXhwcmVzc2lvbnNbMF0udmFsdWVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgIGNsdXN0ZXIgPSBleHByZXNzaW9uc1swXS52YWx1ZXNbMF07CiAgICAgICAgICAgICAgaWYgKCFtb2RlKSB7CiAgICAgICAgICAgICAgICBtb2RlID0gJ2NsdXN0ZXInOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIW1vZGUpIHsKICAgICAgICBtb2RlID0gJ2FkdmFuY2VkJzsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIG1vZGU6IG1vZGUsCiAgICAgICAgbW9kZURpc3BsYXk6IHRoaXMudCgiZmxlZXQuZ2l0UmVwby50YXJnZXREaXNwbGF5LlwiIi5jb25jYXQobW9kZSwgIlwiIikpLAogICAgICAgIGNsdXN0ZXI6IGNsdXN0ZXIsCiAgICAgICAgY2x1c3Rlckdyb3VwOiBjbHVzdGVyR3JvdXAsCiAgICAgICAgYWR2YW5jZWQ6IGFkdmFuY2VkCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiZ3JvdXBCeUxhYmVsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgbmFtZSA9IHRoaXMubWV0YWRhdGEubmFtZXNwYWNlOwogICAgICBpZiAobmFtZSkgewogICAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snaTE4bi90J10oJ3Jlc291cmNlVGFibGUuZ3JvdXBMYWJlbC53b3Jrc3BhY2UnLCB7CiAgICAgICAgICBuYW1lOiBlc2NhcGVIdG1sKG5hbWUpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydpMThuL3QnXSgncmVzb3VyY2VUYWJsZS5ncm91cExhYmVsLm5vdEluQVdvcmtzcGFjZScpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVuZGxlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGFsbCA9IHRoaXMuJGdldHRlcnNbJ2FsbCddKEZMRUVULkJVTkRMRSk7CiAgICAgIHJldHVybiBhbGwuZmlsdGVyKGZ1bmN0aW9uIChidW5kbGUpIHsKICAgICAgICByZXR1cm4gYnVuZGxlLnJlcG9OYW1lID09PSBfdGhpcy5uYW1lICYmIGJ1bmRsZS5uYW1lc3BhY2UgPT09IF90aGlzLm5hbWVzcGFjZSAmJiBidW5kbGUubmFtZXNwYWNlZE5hbWUuc3RhcnRzV2l0aCgiIi5jb25jYXQoX3RoaXMubmFtZXNwYWNlLCAiOiIpLmNvbmNhdChfdGhpcy5uYW1lKSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImJ1bmRsZXNSZWFkeSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMuYnVuZGxlcyAmJiB0aGlzLmJ1bmRsZXMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYnVuZGxlcy5maWx0ZXIoZnVuY3Rpb24gKGJ1bmRsZSkgewogICAgICAgICAgcmV0dXJuIGJ1bmRsZS5zdGF0ZSA9PT0gJ2FjdGl2ZSc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVuZGxlRGVwbG95bWVudHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgYmRzID0gdGhpcy4kZ2V0dGVyc1snYWxsJ10oRkxFRVQuQlVORExFX0RFUExPWU1FTlQpOwogICAgICByZXR1cm4gYmRzLmZpbHRlcihmdW5jdGlvbiAoYmQpIHsKICAgICAgICB2YXIgX2JkJG1ldGFkYXRhOwogICAgICAgIHJldHVybiAoKF9iZCRtZXRhZGF0YSA9IGJkLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYmQkbWV0YWRhdGEgPT09IHZvaWQgMCB8fCAoX2JkJG1ldGFkYXRhID0gX2JkJG1ldGFkYXRhLmxhYmVscykgPT09IG51bGwgfHwgX2JkJG1ldGFkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYmQkbWV0YWRhdGFbJ2ZsZWV0LmNhdHRsZS5pby9yZXBvLW5hbWUnXSkgPT09IF90aGlzMi5uYW1lOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNvdXJjZXNTdGF0dXNlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czIsCiAgICAgICAgX3RoaXMkc3RhdHVzMywKICAgICAgICBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgY2x1c3RlcnMgPSB0aGlzLnRhcmdldENsdXN0ZXJzIHx8IFtdOwogICAgICB2YXIgcmVzb3VyY2VzID0gKChfdGhpcyRzdGF0dXMyID0gdGhpcy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHN0YXR1czIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1czIucmVzb3VyY2VzKSB8fCBbXTsKICAgICAgdmFyIGNvbmRpdGlvbnMgPSAoKF90aGlzJHN0YXR1czMgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzMy5jb25kaXRpb25zKSB8fCBbXTsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNsdXN0ZXJzKSwKICAgICAgICBfc3RlcDM7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICB2YXIgX3RoaXMzJGJ1bmRsZURlcGxveW1lOwogICAgICAgICAgdmFyIGMgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICB2YXIgY2x1c3RlckJ1bmRsZURlcGxveW1lbnRSZXNvdXJjZXMgPSAoKF90aGlzMyRidW5kbGVEZXBsb3ltZSA9IF90aGlzMy5idW5kbGVEZXBsb3ltZW50cy5maW5kKGZ1bmN0aW9uIChiZCkgewogICAgICAgICAgICB2YXIgX2JkJG1ldGFkYXRhMjsKICAgICAgICAgICAgcmV0dXJuICgoX2JkJG1ldGFkYXRhMiA9IGJkLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYmQkbWV0YWRhdGEyID09PSB2b2lkIDAgfHwgKF9iZCRtZXRhZGF0YTIgPSBfYmQkbWV0YWRhdGEyLmxhYmVscykgPT09IG51bGwgfHwgX2JkJG1ldGFkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JkJG1ldGFkYXRhMltGTEVFVF9BTk5PVEFUSU9OUy5DTFVTVEVSXSkgPT09IGMubWV0YWRhdGEubmFtZTsKICAgICAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpczMkYnVuZGxlRGVwbG95bWUgPT09IHZvaWQgMCB8fCAoX3RoaXMzJGJ1bmRsZURlcGxveW1lID0gX3RoaXMzJGJ1bmRsZURlcGxveW1lLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMzJGJ1bmRsZURlcGxveW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkYnVuZGxlRGVwbG95bWUucmVzb3VyY2VzKSB8fCBbXTsKICAgICAgICAgIHJlc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChyLCBpKSB7CiAgICAgICAgICAgIHZhciBfciRwZXJDbHVzdGVyU3RhdGUsIF9yJHBlckNsdXN0ZXJTdGF0ZTIsIF9jbHVzdGVyQnVuZGxlRGVwbG95bTsKICAgICAgICAgICAgdmFyIG5hbWVzcGFjZWROYW1lID0gci5uYW1lOwogICAgICAgICAgICBpZiAoci5uYW1lc3BhY2UpIHsKICAgICAgICAgICAgICBuYW1lc3BhY2VkTmFtZSA9ICIiLmNvbmNhdChyLm5hbWVzcGFjZSwgIjoiKS5jb25jYXQoci5uYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgc3RhdGUgPSByLnN0YXRlOwogICAgICAgICAgICB2YXIgcGVyRW50cnkgPSAoX3IkcGVyQ2x1c3RlclN0YXRlID0gci5wZXJDbHVzdGVyU3RhdGUpID09PSBudWxsIHx8IF9yJHBlckNsdXN0ZXJTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IkcGVyQ2x1c3RlclN0YXRlLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICByZXR1cm4geC5jbHVzdGVySWQgPT09IGMuaWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgdG9vTWFueSA9ICgoX3IkcGVyQ2x1c3RlclN0YXRlMiA9IHIucGVyQ2x1c3RlclN0YXRlKSA9PT0gbnVsbCB8fCBfciRwZXJDbHVzdGVyU3RhdGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfciRwZXJDbHVzdGVyU3RhdGUyLmxlbmd0aCkgPj0gMTAgfHwgZmFsc2U7CiAgICAgICAgICAgIGlmIChwZXJFbnRyeSkgewogICAgICAgICAgICAgIHN0YXRlID0gcGVyRW50cnkuc3RhdGU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9vTWFueSkgewogICAgICAgICAgICAgIHN0YXRlID0gU1RBVEVTX0VOVU0uVU5LTk9XTjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFU19FTlVNLlJFQURZOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yRm9yU3RhdGUoc3RhdGUpLnJlcGxhY2UoJ3RleHQtJywgJ2JnLScpOwogICAgICAgICAgICB2YXIgZGlzcGxheSA9IHN0YXRlRGlzcGxheShzdGF0ZSk7CiAgICAgICAgICAgIHZhciBkZXRhaWxMb2NhdGlvbiA9IHsKICAgICAgICAgICAgICBuYW1lOiAiYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UiLmNvbmNhdChyLm5hbWVzcGFjZSA/ICctbmFtZXNwYWNlJyA6ICcnLCAiLWlkIiksCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBwcm9kdWN0OiBOQU1FLAogICAgICAgICAgICAgICAgY2x1c3RlcjogYy5tZXRhZGF0YS5sYWJlbHNbRkxFRVRfQU5OT1RBVElPTlMuQ0xVU1RFUl9OQU1FXSwKICAgICAgICAgICAgICAgIHJlc291cmNlOiByLnR5cGUsCiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IHIubmFtZXNwYWNlLAogICAgICAgICAgICAgICAgaWQ6IHIubmFtZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgICAgIGtleTogIiIuY29uY2F0KHIuaWQsICItIikuY29uY2F0KGMuaWQsICItIikuY29uY2F0KHIudHlwZSwgIi0iKS5jb25jYXQoci5uYW1lc3BhY2UsICItIikuY29uY2F0KHIubmFtZSksCiAgICAgICAgICAgICAgdGFibGVLZXk6ICIiLmNvbmNhdChyLmlkLCAiLSIpLmNvbmNhdChjLmlkLCAiLSIpLmNvbmNhdChyLnR5cGUsICItIikuY29uY2F0KHIubmFtZXNwYWNlLCAiLSIpLmNvbmNhdChyLm5hbWUsICItIikuY29uY2F0KHJhbmRvbVN0cig4KSksCiAgICAgICAgICAgICAga2luZDogci5raW5kLAogICAgICAgICAgICAgIGFwaVZlcnNpb246IHIuYXBpVmVyc2lvbiwKICAgICAgICAgICAgICB0eXBlOiByLnR5cGUsCiAgICAgICAgICAgICAgaWQ6IHIuaWQsCiAgICAgICAgICAgICAgbmFtZXNwYWNlOiByLm5hbWVzcGFjZSwKICAgICAgICAgICAgICBuYW1lOiByLm5hbWUsCiAgICAgICAgICAgICAgY2x1c3RlcklkOiBjLmlkLAogICAgICAgICAgICAgIGNsdXN0ZXJMYWJlbDogYy5tZXRhZGF0YS5sYWJlbHNbRkxFRVRfQU5OT1RBVElPTlMuQ0xVU1RFUl9OQU1FXSwKICAgICAgICAgICAgICBjbHVzdGVyTmFtZTogYy5uYW1lRGlzcGxheSwKICAgICAgICAgICAgICBzdGF0ZTogbWFwU3RhdGVUb0VudW0oc3RhdGUpLAogICAgICAgICAgICAgIHN0YXRlQmFja2dyb3VuZDogY29sb3IsCiAgICAgICAgICAgICAgc3RhdGVEaXNwbGF5OiBkaXNwbGF5LAogICAgICAgICAgICAgIHN0YXRlU29ydDogc3RhdGVTb3J0KGNvbG9yLCBkaXNwbGF5KSwKICAgICAgICAgICAgICBuYW1lc3BhY2VkTmFtZTogbmFtZXNwYWNlZE5hbWUsCiAgICAgICAgICAgICAgZGV0YWlsTG9jYXRpb246IGRldGFpbExvY2F0aW9uLAogICAgICAgICAgICAgIGNvbmRpdGlvbnM6IGNvbmRpdGlvbnNbaV0sCiAgICAgICAgICAgICAgYnVuZGxlRGVwbG95bWVudFN0YXR1czogY2x1c3RlckJ1bmRsZURlcGxveW1lbnRSZXNvdXJjZXMgPT09IG51bGwgfHwgY2x1c3RlckJ1bmRsZURlcGxveW1lbnRSZXNvdXJjZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsdXN0ZXJCdW5kbGVEZXBsb3ltZW50UmVzb3VyY2VzW2ldLAogICAgICAgICAgICAgIGNyZWF0aW9uVGltZXN0YW1wOiBjbHVzdGVyQnVuZGxlRGVwbG95bWVudFJlc291cmNlcyA9PT0gbnVsbCB8fCBjbHVzdGVyQnVuZGxlRGVwbG95bWVudFJlc291cmNlcyA9PT0gdm9pZCAwIHx8IChfY2x1c3RlckJ1bmRsZURlcGxveW0gPSBjbHVzdGVyQnVuZGxlRGVwbG95bWVudFJlc291cmNlc1tpXSkgPT09IG51bGwgfHwgX2NsdXN0ZXJCdW5kbGVEZXBsb3ltID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2x1c3RlckJ1bmRsZURlcGxveW0uY3JlYXRlZEF0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgX2xvb3AoKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2x1c3RlckluZm8iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM0LCBfdGhpcyRzdGF0dXM1OwogICAgICB2YXIgcmVhZHkgPSAoKF90aGlzJHN0YXR1czQgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNC5yZWFkeUNsdXN0ZXJzKSB8fCAwOwogICAgICB2YXIgdG90YWwgPSAoKF90aGlzJHN0YXR1czUgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNS5kZXNpcmVkUmVhZHlDbHVzdGVycykgfHwgMDsKICAgICAgcmV0dXJuIHsKICAgICAgICByZWFkeTogcmVhZHksCiAgICAgICAgdW5yZWFkeTogdG90YWwgLSByZWFkeSwKICAgICAgICB0b3RhbDogdG90YWwKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbHVzdGVyUmVzb3VyY2VTdGF0dXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBjbHVzdGVyU3RhdHVzZXMgPSB0aGlzLnJlc291cmNlc1N0YXR1c2VzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycikgewogICAgICAgIHZhciBjbHVzdGVySWQgPSBjdXJyLmNsdXN0ZXJJZCwKICAgICAgICAgIGNsdXN0ZXJMYWJlbCA9IGN1cnIuY2x1c3RlckxhYmVsOwogICAgICAgIHZhciBzdGF0ZSA9IGN1cnIuc3RhdGU7CiAgICAgICAgaWYgKCFwcmV2W2NsdXN0ZXJJZF0pIHsKICAgICAgICAgIHByZXZbY2x1c3RlcklkXSA9IHsKICAgICAgICAgICAgY2x1c3RlckxhYmVsOiBjbHVzdGVyTGFiZWwsCiAgICAgICAgICAgIHJlc291cmNlQ291bnRzOiBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCBzdGF0ZSwgMCksICJkZXNpcmVkUmVhZHkiLCAwKQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaWYgKCFwcmV2W2NsdXN0ZXJJZF0ucmVzb3VyY2VDb3VudHNbc3RhdGVdKSB7CiAgICAgICAgICBwcmV2W2NsdXN0ZXJJZF0ucmVzb3VyY2VDb3VudHNbc3RhdGVdID0gMDsKICAgICAgICB9CiAgICAgICAgcHJldltjbHVzdGVySWRdLnJlc291cmNlQ291bnRzW3N0YXRlXSArPSAxOwogICAgICAgIHByZXZbY2x1c3RlcklkXS5yZXNvdXJjZUNvdW50cy5kZXNpcmVkUmVhZHkgKz0gMTsKICAgICAgICByZXR1cm4gcHJldjsKICAgICAgfSwge30pOwogICAgICB2YXIgdmFsdWVzID0gT2JqZWN0LmtleXMoY2x1c3RlclN0YXR1c2VzKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciBfY2x1c3RlclN0YXR1c2VzJGtleSA9IGNsdXN0ZXJTdGF0dXNlc1trZXldLAogICAgICAgICAgY2x1c3RlckxhYmVsID0gX2NsdXN0ZXJTdGF0dXNlcyRrZXkuY2x1c3RlckxhYmVsLAogICAgICAgICAgcmVzb3VyY2VDb3VudHMgPSBfY2x1c3RlclN0YXR1c2VzJGtleS5yZXNvdXJjZUNvdW50czsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY2x1c3RlcklkOiBrZXksCiAgICAgICAgICBjbHVzdGVyTGFiZWw6IGNsdXN0ZXJMYWJlbCwKICAgICAgICAgIC8vIEZMRUVUIExBQkVMCiAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgZGlzcGxheVN0YXR1czogcHJpbWFyeURpc3BsYXlTdGF0dXNGcm9tQ291bnQocmVzb3VyY2VDb3VudHMpLAogICAgICAgICAgICByZXNvdXJjZUNvdW50czogX29iamVjdFNwcmVhZCh7fSwgcmVzb3VyY2VDb3VudHMpCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2x1c3RlcnNMaXN0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kZ2V0dGVyc1snYWxsJ10oRkxFRVQuQ0xVU1RFUik7CiAgICB9CiAgfV0pOwp9KFN0ZXZlTW9kZWwpOwpleHBvcnQgeyBHaXRSZXBvIGFzIGRlZmF1bHQgfTs="},{"version":3,"names":["Vue","convert","matching","convertSelectorObj","jsyaml","escapeHtml","randomStr","FLEET","FLEET_ANNOTATIONS","addObject","addObjects","findBy","insertAt","set","SteveModel","STATES_ENUM","colorForState","mapStateToEnum","primaryDisplayStatusFromCount","stateDisplay","stateSort","NAME","quacksLikeAHash","str","match","GitRepo","_SteveModel","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","applyDefaults","spec","meta","metadata","namespace","$rootGetters","repo","branch","revision","paths","clientSecretName","enabled","get","_this$spec","_this$spec2","out","_get","_getPrototypeOf","prototype","action","label","icon","bulkable","links","update","paused","divider","pause","save","unpause","forceUpdate","now","forceSyncGeneration","_this$spec3","_this$metadata","state","name","workspace","$getters","WORKSPACE","clusters","groups","clusterGroups","id","local","targetClusters","targets","_iterator","_createForOfIteratorHelper","_step","s","n","done","tgt","clusterName","cluster","clusterGroup","group","clusterGroupSelector","expressions","matchingGroups","_iterator2","_step2","err","e","f","clusterSelector","matchingClusters","github","replace","_this$status","hash","status","commit","substr","concat","mode","advanced","dump","length","target","Object","keys","matchLabels","matchExpressions","CLUSTER_NAME","operator","values","modeDisplay","t","_this","all","BUNDLE","filter","bundle","repoName","namespacedName","startsWith","bundles","_this2","bds","BUNDLE_DEPLOYMENT","bd","_bd$metadata","labels","_this$status2","_this$status3","_this3","resources","conditions","_iterator3","_step3","_loop","_this3$bundleDeployme","c","clusterBundleDeploymentResources","bundleDeployments","find","_bd$metadata2","CLUSTER","forEach","r","i","_r$perClusterState","_r$perClusterState2","_clusterBundleDeploym","perEntry","perClusterState","x","clusterId","tooMany","UNKNOWN","READY","color","display","detailLocation","params","product","resource","type","push","tableKey","kind","apiVersion","clusterLabel","nameDisplay","stateBackground","bundleDeploymentStatus","creationTimestamp","createdAt","_this$status4","_this$status5","ready","readyClusters","total","desiredReadyClusters","unready","clusterStatuses","resourcesStatuses","reduce","prev","curr","resourceCounts","_defineProperty","desiredReady","map","_clusterStatuses$key","displayStatus","_objectSpread","default"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/fleet.cattle.io.gitrepo.js"],"sourcesContent":["import Vue from 'vue';\nimport { convert, matching, convertSelectorObj } from '@shell/utils/selector';\nimport jsyaml from 'js-yaml';\nimport { escapeHtml, randomStr } from '@shell/utils/string';\nimport { FLEET } from '@shell/config/types';\nimport { FLEET as FLEET_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { addObject, addObjects, findBy, insertAt } from '@shell/utils/array';\nimport { set } from '@shell/utils/object';\nimport SteveModel from '@shell/plugins/steve/steve-class';\nimport {\n  STATES_ENUM, colorForState, mapStateToEnum, primaryDisplayStatusFromCount, stateDisplay, stateSort\n} from '@shell/plugins/dashboard-store/resource-class';\nimport { NAME } from '@shell/config/product/explorer';\n\nfunction quacksLikeAHash(str) {\n  if (str.match(/^[a-f0-9]{40,}$/i)) {\n    return true;\n  }\n\n  return false;\n}\n\nexport default class GitRepo extends SteveModel {\n  applyDefaults() {\n    const spec = this.spec || {};\n    const meta = this.metadata || {};\n\n    meta.namespace = this.$rootGetters['workspace'];\n\n    spec.repo = spec.repo || '';\n\n    if (!spec.branch && !spec.revision) {\n      spec.branch = 'master';\n    }\n\n    spec.paths = spec.paths || [];\n    spec.clientSecretName = spec.clientSecretName || null;\n\n    Vue.set(spec, 'correctDrift', { enabled: false });\n\n    set(this, 'spec', spec);\n    set(this, 'metadata', meta);\n  }\n\n  get _availableActions() {\n    const out = super._availableActions;\n\n    insertAt(out, 0, {\n      action:   'pause',\n      label:    'Pause',\n      icon:     'icon icon-pause',\n      bulkable: true,\n      enabled:  !!this.links.update && !this.spec?.paused\n    });\n\n    insertAt(out, 1, {\n      action:   'unpause',\n      label:    'Unpause',\n      icon:     'icon icon-play',\n      bulkable: true,\n      enabled:  !!this.links.update && this.spec?.paused === true\n    });\n\n    insertAt(out, 2, {\n      action:   'forceUpdate',\n      label:    'Force Update',\n      icon:     'icon icon-refresh',\n      bulkable: true,\n      enabled:  !!this.links.update\n    });\n\n    insertAt(out, 3, { divider: true });\n\n    return out;\n  }\n\n  pause() {\n    this.spec.paused = true;\n    this.save();\n  }\n\n  unpause() {\n    this.spec.paused = false;\n    this.save();\n  }\n\n  forceUpdate() {\n    const now = this.spec.forceSyncGeneration || 1;\n\n    this.spec.forceSyncGeneration = now + 1;\n    this.save();\n  }\n\n  get state() {\n    if (this.spec?.paused === true) {\n      return 'paused';\n    }\n\n    return this.metadata?.state?.name || 'unknown';\n  }\n\n  get targetClusters() {\n    const workspace = this.$getters['byId'](FLEET.WORKSPACE, this.metadata.namespace);\n    const clusters = workspace?.clusters || [];\n    const groups = workspace?.clusterGroups || [];\n\n    if (workspace?.id === 'fleet-local') {\n      const local = findBy(groups, 'id', 'fleet-local/default');\n\n      if (local) {\n        return local.targetClusters;\n      }\n\n      return [];\n    }\n\n    if (!this.spec.targets) {\n      return [];\n    }\n\n    const out = [];\n\n    for (const tgt of this.spec.targets) {\n      if (tgt.clusterName) {\n        const cluster = findBy(clusters, 'metadata.name', tgt.clusterName);\n\n        if (cluster) {\n          addObject(out, cluster);\n        }\n      } else if (tgt.clusterGroup) {\n        const group = findBy(groups, {\n          'metadata.namespace': this.metadata.namespace,\n          'metadata.name':      tgt.clusterGroup,\n        });\n\n        if (group) {\n          addObjects(out, group.targetClusters);\n        }\n      } else if (tgt.clusterGroupSelector) {\n        const expressions = convertSelectorObj(tgt.clusterGroupSelector);\n        const matchingGroups = matching(groups, expressions);\n\n        for (const group of matchingGroups) {\n          addObjects(out, group.targetClusters);\n        }\n      } else if (tgt.clusterSelector) {\n        const expressions = convertSelectorObj(tgt.clusterSelector);\n        const matchingClusters = matching(clusters, expressions);\n\n        addObjects(out, matchingClusters);\n      }\n    }\n\n    return out;\n  }\n\n  get github() {\n    const match = this.spec.repo.match(/^https?:\\/\\/github\\.com\\/(.*?)(\\.git)?\\/*$/);\n\n    if (match) {\n      return match[1];\n    }\n\n    return false;\n  }\n\n  get repoIcon() {\n    if (this.github) {\n      return 'icon icon-github';\n    }\n\n    return '';\n  }\n\n  get repoDisplay() {\n    let repo = this.spec.repo;\n\n    repo = repo.replace(/.git$/, '');\n    repo = repo.replace(/^https:\\/\\//, '');\n    repo = repo.replace(/\\/+$/, '');\n\n    if (this.github) {\n      return this.github;\n    }\n\n    return repo;\n  }\n\n  get commitDisplay() {\n    const spec = this.spec;\n    const hash = this.status?.commit?.substr(0, 7);\n\n    if (!spec || !spec.repo) {\n      return null;\n    }\n\n    if (spec.revision && quacksLikeAHash(spec.revision)) {\n      return spec.revision.substr(0, 7);\n    } else if (spec.revision) {\n      return spec.revision;\n    } else if (spec.branch) {\n      return spec.branch + (hash ? ` @ ${ hash }` : '');\n    }\n\n    return hash;\n  }\n\n  get targetInfo() {\n    let mode = null;\n    let cluster = null;\n    let clusterGroup = null;\n    let advanced = null;\n\n    const targets = this.spec.targets || [];\n\n    advanced = jsyaml.dump(targets);\n\n    if (advanced === '[]\\n') {\n      advanced = `# - name:\n#  clusterSelector:\n#    matchLabels:\n#     foo: bar\n#    matchExpressions:\n#     - key: foo\n#       op: In\n#       values: [bar, baz]\n#  clusterGroup: foo\n#  clusterGroupSelector:\n#    matchLabels:\n#     foo: bar\n#    matchExpressions:\n#     - key: foo\n#       op: In\n#       values: [bar, baz]\n`;\n    }\n\n    if (this.metadata.namespace === 'fleet-local') {\n      mode = 'local';\n    } else if (!targets.length) {\n      mode = 'none';\n    } else if (targets.length === 1) {\n      const target = targets[0];\n\n      if (Object.keys(target).length > 1) {\n        // There are multiple properties in a single target, so use the 'advanced' mode\n        // (otherwise any existing content is nuked for what we provide)\n        mode = 'advanced';\n      } else if (target.clusterGroup) {\n        clusterGroup = target.clusterGroup;\n\n        if (!mode) {\n          mode = 'clusterGroup';\n        }\n      } else if (target.clusterName) {\n        mode = 'cluster';\n        cluster = target.clusterName;\n      } else if (target.clusterSelector) {\n        if (Object.keys(target.clusterSelector).length === 0) {\n          mode = 'all';\n        } else {\n          const expressions = convert(target.clusterSelector.matchLabels, target.clusterSelector.matchExpressions);\n\n          if (expressions.length === 1 &&\n            expressions[0].key === FLEET_ANNOTATIONS.CLUSTER_NAME &&\n            expressions[0].operator === 'In' &&\n            expressions[0].values.length === 1\n          ) {\n            cluster = expressions[0].values[0];\n            if (!mode) {\n              mode = 'cluster';\n            }\n          }\n        }\n      }\n    }\n\n    if (!mode) {\n      mode = 'advanced';\n    }\n\n    return {\n      mode,\n      modeDisplay: this.t(`fleet.gitRepo.targetDisplay.\"${ mode }\"`),\n      cluster,\n      clusterGroup,\n      advanced\n    };\n  }\n\n  get groupByLabel() {\n    const name = this.metadata.namespace;\n\n    if (name) {\n      return this.$rootGetters['i18n/t']('resourceTable.groupLabel.workspace', { name: escapeHtml(name) });\n    } else {\n      return this.$rootGetters['i18n/t']('resourceTable.groupLabel.notInAWorkspace');\n    }\n  }\n\n  get bundles() {\n    const all = this.$getters['all'](FLEET.BUNDLE);\n\n    return all.filter((bundle) => bundle.repoName === this.name &&\n      bundle.namespace === this.namespace &&\n      bundle.namespacedName.startsWith(`${ this.namespace }:${ this.name }`));\n  }\n\n  get bundlesReady() {\n    if (this.bundles && this.bundles.length) {\n      return this.bundles.filter((bundle) => bundle.state === 'active');\n    }\n\n    return 0;\n  }\n\n  get bundleDeployments() {\n    const bds = this.$getters['all'](FLEET.BUNDLE_DEPLOYMENT);\n\n    return bds.filter((bd) => bd.metadata?.labels?.['fleet.cattle.io/repo-name'] === this.name);\n  }\n\n  get resourcesStatuses() {\n    const clusters = this.targetClusters || [];\n    const resources = this.status?.resources || [];\n    const conditions = this.status?.conditions || [];\n\n    const out = [];\n\n    for (const c of clusters) {\n      const clusterBundleDeploymentResources = this.bundleDeployments\n        .find((bd) => bd.metadata?.labels?.[FLEET_ANNOTATIONS.CLUSTER] === c.metadata.name)\n        ?.status?.resources || [];\n\n      resources.forEach((r, i) => {\n        let namespacedName = r.name;\n\n        if (r.namespace) {\n          namespacedName = `${ r.namespace }:${ r.name }`;\n        }\n\n        let state = r.state;\n        const perEntry = r.perClusterState?.find((x) => x.clusterId === c.id);\n        const tooMany = r.perClusterState?.length >= 10 || false;\n\n        if (perEntry) {\n          state = perEntry.state;\n        } else if (tooMany) {\n          state = STATES_ENUM.UNKNOWN;\n        } else {\n          state = STATES_ENUM.READY;\n        }\n\n        const color = colorForState(state).replace('text-', 'bg-');\n        const display = stateDisplay(state);\n\n        const detailLocation = {\n          name:   `c-cluster-product-resource${ r.namespace ? '-namespace' : '' }-id`,\n          params: {\n            product:   NAME,\n            cluster:   c.metadata.labels[FLEET_ANNOTATIONS.CLUSTER_NAME],\n            resource:  r.type,\n            namespace: r.namespace,\n            id:        r.name,\n          }\n        };\n\n        out.push({\n          key:                    `${ r.id }-${ c.id }-${ r.type }-${ r.namespace }-${ r.name }`,\n          tableKey:               `${ r.id }-${ c.id }-${ r.type }-${ r.namespace }-${ r.name }-${ randomStr(8) }`,\n          kind:                   r.kind,\n          apiVersion:             r.apiVersion,\n          type:                   r.type,\n          id:                     r.id,\n          namespace:              r.namespace,\n          name:                   r.name,\n          clusterId:              c.id,\n          clusterLabel:           c.metadata.labels[FLEET_ANNOTATIONS.CLUSTER_NAME],\n          clusterName:            c.nameDisplay,\n          state:                  mapStateToEnum(state),\n          stateBackground:        color,\n          stateDisplay:           display,\n          stateSort:              stateSort(color, display),\n          namespacedName,\n          detailLocation,\n          conditions:             conditions[i],\n          bundleDeploymentStatus: clusterBundleDeploymentResources?.[i],\n          creationTimestamp:      clusterBundleDeploymentResources?.[i]?.createdAt\n        });\n      });\n    }\n\n    return out;\n  }\n\n  get clusterInfo() {\n    const ready = this.status?.readyClusters || 0;\n    const total = this.status?.desiredReadyClusters || 0;\n\n    return {\n      ready,\n      unready: total - ready,\n      total,\n    };\n  }\n\n  get clusterResourceStatus() {\n    const clusterStatuses = this.resourcesStatuses.reduce((prev, curr) => {\n      const { clusterId, clusterLabel } = curr;\n\n      const state = curr.state;\n\n      if (!prev[clusterId]) {\n        prev[clusterId] = {\n          clusterLabel,\n          resourceCounts: { [state]: 0, desiredReady: 0 }\n\n        };\n      }\n\n      if (!prev[clusterId].resourceCounts[state]) {\n        prev[clusterId].resourceCounts[state] = 0;\n      }\n\n      prev[clusterId].resourceCounts[state] += 1;\n      prev[clusterId].resourceCounts.desiredReady += 1;\n\n      return prev;\n    }, {});\n\n    const values = Object.keys(clusterStatuses).map((key) => {\n      const { clusterLabel, resourceCounts } = clusterStatuses[key];\n\n      return {\n        clusterId: key,\n        clusterLabel, // FLEET LABEL\n        status:    {\n          displayStatus:  primaryDisplayStatusFromCount(resourceCounts),\n          resourceCounts: { ...resourceCounts }\n        }\n      };\n    });\n\n    return values;\n  }\n\n  get clustersList() {\n    return this.$getters['all'](FLEET.CLUSTER);\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}