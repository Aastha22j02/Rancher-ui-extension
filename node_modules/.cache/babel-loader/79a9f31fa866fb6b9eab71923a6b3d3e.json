{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/Questions/Reference.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/Questions/Reference.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgeyBmaWx0ZXJCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IFBWQywgU1RPUkFHRV9DTEFTUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgUXVlc3Rpb24gZnJvbSAnLi9RdWVzdGlvbic7CgovLyBPbGRlciB2ZXJzaW9ucyBvZiByYW5jaGVyIGRvY3VtZW50IHRoZXNlIHdvcmRzIGFzIHZhbGlkIHR5cGVzCnZhciBMRUdBQ1lfTUFQID0gewogIHN0b3JhZ2VjbGFzczogU1RPUkFHRV9DTEFTUywKICBwdmM6IFBWQwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0CiAgfSwKICBtaXhpbnM6IFtRdWVzdGlvbl0sCiAgcHJvcHM6IHsKICAgIGluU3RvcmU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2x1c3RlcicKICAgIH0sCiAgICB0YXJnZXROYW1lc3BhY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIV90aGlzLnR5cGVTY2hlbWEpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoX3RoaXMuaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICB0eXBlOiBfdGhpcy50eXBlTmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX3RoaXMuYWxsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVzdGlvbi50eXBlOwogICAgdmFyIHR5cGVOYW1lOwogICAgdmFyIG1hdGNoID0gdC5tYXRjaCgvXnJlZmVyZW5jZVxbKC4qKVxdJC8pOwogICAgaWYgKG1hdGNoKSB7CiAgICAgIHR5cGVOYW1lID0gbWF0Y2ggPT09IG51bGwgfHwgbWF0Y2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoWzFdOwogICAgfSBlbHNlIHsKICAgICAgdHlwZU5hbWUgPSBMRUdBQ1lfTUFQW3RdIHx8IHQ7CiAgICB9CiAgICB2YXIgdHlwZVNjaGVtYTsKICAgIGlmICh0eXBlTmFtZSkgewogICAgICB0eXBlU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQodGhpcy5pblN0b3JlLCAiL3NjaGVtYUZvciIpXSh0eXBlTmFtZSk7CiAgICB9CiAgICByZXR1cm4gewogICAgICB0eXBlTmFtZTogdHlwZU5hbWUsCiAgICAgIHR5cGVTY2hlbWE6IHR5cGVTY2hlbWEsCiAgICAgIGFsbDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNOYW1lc3BhY2VkOiBmdW5jdGlvbiBpc05hbWVzcGFjZWQoKSB7CiAgICAgIHZhciBfdGhpcyR0eXBlU2NoZW1hOwogICAgICByZXR1cm4gISEoKF90aGlzJHR5cGVTY2hlbWEgPSB0aGlzLnR5cGVTY2hlbWEpICE9PSBudWxsICYmIF90aGlzJHR5cGVTY2hlbWEgIT09IHZvaWQgMCAmJiAoX3RoaXMkdHlwZVNjaGVtYSA9IF90aGlzJHR5cGVTY2hlbWEuYXR0cmlidXRlcykgIT09IG51bGwgJiYgX3RoaXMkdHlwZVNjaGVtYSAhPT0gdm9pZCAwICYmIF90aGlzJHR5cGVTY2hlbWEubmFtZXNwYWNlZCk7CiAgICB9LAogICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucygpIHsKICAgICAgdmFyIG91dCA9IHRoaXMuYWxsOwogICAgICBpZiAodGhpcy5pc05hbWVzcGFjZWQpIHsKICAgICAgICBvdXQgPSBmaWx0ZXJCeSh0aGlzLmFsbCwgJ21ldGFkYXRhLm5hbWVzcGFjZScsIHRoaXMudGFyZ2V0TmFtZXNwYWNlKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0Lm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogeC5uYW1lRGlzcGxheSB8fCB4Lm1ldGFkYXRhLm5hbWUsCiAgICAgICAgICB2YWx1ZTogeC5tZXRhZGF0YS5uYW1lCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["LabeledInput","LabeledSelect","filterBy","PVC","STORAGE_CLASS","Question","LEGACY_MAP","storageclass","pvc","components","mixins","props","inStore","type","String","default","targetNamespace","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","typeSchema","$store","dispatch","concat","typeName","all","sent","stop","data","t","question","match","getters","computed","isNamespaced","_this$typeSchema","attributes","namespaced","options","out","map","x","label","nameDisplay","metadata","name","value"],"sources":["node_modules/@rancher/shell/components/Questions/Reference.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { filterBy } from '@shell/utils/array';\nimport { PVC, STORAGE_CLASS } from '@shell/config/types';\nimport Question from './Question';\n\n// Older versions of rancher document these words as valid types\nconst LEGACY_MAP = {\n  storageclass: STORAGE_CLASS,\n  pvc:          PVC,\n};\n\nexport default {\n  components: { LabeledInput, LabeledSelect },\n  mixins:     [Question],\n\n  props: {\n    inStore: {\n      type:    String,\n      default: 'cluster',\n    },\n\n    targetNamespace: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  async fetch() {\n    if ( this.typeSchema ) {\n      this.all = await this.$store.dispatch(`${ this.inStore }/findAll`, { type: this.typeName });\n    }\n  },\n\n  data() {\n    const t = this.question.type;\n\n    let typeName;\n\n    const match = t.match(/^reference\\[(.*)\\]$/);\n\n    if ( match ) {\n      typeName = match?.[1];\n    } else {\n      typeName = LEGACY_MAP[t] || t;\n    }\n\n    let typeSchema;\n\n    if ( typeName ) {\n      typeSchema = this.$store.getters[`${ this.inStore }/schemaFor`](typeName);\n    }\n\n    return {\n      typeName,\n      typeSchema,\n      all: [],\n    };\n  },\n\n  computed: {\n    isNamespaced() {\n      return !!this.typeSchema?.attributes?.namespaced;\n    },\n\n    options() {\n      let out = this.all;\n\n      if ( this.isNamespaced ) {\n        out = filterBy(this.all, 'metadata.namespace', this.targetNamespace);\n      }\n\n      return out.map((x) => {\n        return {\n          label: x.nameDisplay || x.metadata.name,\n          value: x.metadata.name\n        };\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"typeSchema\"\n    class=\"row\"\n  >\n    <div class=\"col span-6\">\n      <LabeledSelect\n        :mode=\"mode\"\n        :options=\"options\"\n        :disabled=\"$fetchState.pending || disabled\"\n        :label=\"displayLabel\"\n        :placeholder=\"question.description\"\n        :required=\"question.required\"\n        :value=\"value\"\n        :tooltip=\"displayTooltip\"\n        @input=\"!$fetchState.pending && $emit('input', $event)\"\n      />\n    </div>\n    <div class=\"col span-6 mt-10\">\n      {{ typeSchema.attributes.kind }}<span v-if=\"isNamespaced\"> in namespace {{ targetNamespace }}</span>\n      <div v-if=\"showDescription\">\n        {{ question.description }}\n      </div>\n    </div>\n  </div>\n  <div\n    v-else\n    class=\"row\"\n  >\n    <div class=\"col span-6\">\n      <LabeledInput\n        :mode=\"mode\"\n        :disabled=\"$fetchState.pending || disabled\"\n        :label=\"displayLabel\"\n        :placeholder=\"question.description\"\n        :required=\"question.required\"\n        :value=\"value\"\n        :tooltip=\"displayTooltip\"\n        @input=\"!$fetchState.pending && $emit('input', $event)\"\n      />\n    </div>\n    <div class=\"col span-6 mt-10\">\n      {{ question.type }}<span v-if=\"isNamespaced\"> in namespace {{ targetNamespace }}</span>\n      <div v-if=\"showDescription\">\n        {{ question.description }}\n      </div>\n      <div class=\"text-error\">\n        (You do not have access to list this type)\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;AACA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,SAAAC,GAAA,EAAAC,aAAA;AACA,OAAAC,QAAA;;AAEA;AACA,IAAAC,UAAA;EACAC,YAAA,EAAAH,aAAA;EACAI,GAAA,EAAAL;AACA;AAEA;EACAM,UAAA;IAAAT,YAAA,EAAAA,YAAA;IAAAC,aAAA,EAAAA;EAAA;EACAS,MAAA,GAAAL,QAAA;EAEAM,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,eAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAE,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KACAT,KAAA,CAAAU,UAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAW,MAAA,CAAAC,QAAA,IAAAC,MAAA,CAAAb,KAAA,CAAAN,OAAA;cAAAC,IAAA,EAAAK,KAAA,CAAAc;YAAA;UAAA;YAAAd,KAAA,CAAAe,GAAA,GAAAR,QAAA,CAAAS,IAAA;UAAA;UAAA;YAAA,OAAAT,QAAA,CAAAU,IAAA;QAAA;MAAA,GAAAb,OAAA;IAAA;EAEA;EAEAc,IAAA,WAAAA,KAAA;IACA,IAAAC,CAAA,QAAAC,QAAA,CAAAzB,IAAA;IAEA,IAAAmB,QAAA;IAEA,IAAAO,KAAA,GAAAF,CAAA,CAAAE,KAAA;IAEA,IAAAA,KAAA;MACAP,QAAA,GAAAO,KAAA,aAAAA,KAAA,uBAAAA,KAAA;IACA;MACAP,QAAA,GAAA1B,UAAA,CAAA+B,CAAA,KAAAA,CAAA;IACA;IAEA,IAAAT,UAAA;IAEA,IAAAI,QAAA;MACAJ,UAAA,QAAAC,MAAA,CAAAW,OAAA,IAAAT,MAAA,MAAAnB,OAAA,iBAAAoB,QAAA;IACA;IAEA;MACAA,QAAA,EAAAA,QAAA;MACAJ,UAAA,EAAAA,UAAA;MACAK,GAAA;IACA;EACA;EAEAQ,QAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,IAAAC,gBAAA;MACA,WAAAA,gBAAA,QAAAf,UAAA,cAAAe,gBAAA,gBAAAA,gBAAA,GAAAA,gBAAA,CAAAC,UAAA,cAAAD,gBAAA,eAAAA,gBAAA,CAAAE,UAAA;IACA;IAEAC,OAAA,WAAAA,QAAA;MACA,IAAAC,GAAA,QAAAd,GAAA;MAEA,SAAAS,YAAA;QACAK,GAAA,GAAA7C,QAAA,MAAA+B,GAAA,6BAAAjB,eAAA;MACA;MAEA,OAAA+B,GAAA,CAAAC,GAAA,WAAAC,CAAA;QACA;UACAC,KAAA,EAAAD,CAAA,CAAAE,WAAA,IAAAF,CAAA,CAAAG,QAAA,CAAAC,IAAA;UACAC,KAAA,EAAAL,CAAA,CAAAG,QAAA,CAAAC;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}