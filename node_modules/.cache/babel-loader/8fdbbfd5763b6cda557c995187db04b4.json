{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/EtcdInfoBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/EtcdInfoBanner.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBoYXNMZWFkZXIsIGxlYWRlckNoYW5nZXMsIGZhaWxlZFByb3Bvc2FscyB9IGZyb20gJ0BzaGVsbC91dGlscy9ncmFmYW5hJzsKaW1wb3J0IHsgQ0FUQUxPRyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyOiBCYW5uZXIsCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBpblN0b3JlLCBtb25pdG9yaW5nVmVyc2lvbiwgcmVzLCBsZWFkZXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpblN0b3JlID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J10uaW5TdG9yZTsKICAgICAgICAgICAgbW9uaXRvcmluZ1ZlcnNpb24gPSAnJzsKICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQoaW5TdG9yZSwgIi9jYW5MaXN0IildKENBVEFMT0cuQVBQKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5BUFAsCiAgICAgICAgICAgICAgaWQ6ICdjYXR0bGUtbW9uaXRvcmluZy1zeXN0ZW0vcmFuY2hlci1tb25pdG9yaW5nJwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgbW9uaXRvcmluZ1ZlcnNpb24gPSByZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMuY3VycmVudFZlcnNpb247CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBoYXNMZWFkZXIobW9uaXRvcmluZ1ZlcnNpb24sIF90aGlzLiRzdG9yZS5kaXNwYXRjaCwgX3RoaXMuY3VycmVudENsdXN0ZXIuaWQpOwogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgbGVhZGVyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuaGFzTGVhZGVyID0gbGVhZGVyID8gJ1llcycgOiAnTm8nOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgIHJldHVybiBsZWFkZXJDaGFuZ2VzKG1vbml0b3JpbmdWZXJzaW9uLCBfdGhpcy4kc3RvcmUuZGlzcGF0Y2gsIF90aGlzLmN1cnJlbnRDbHVzdGVyLmlkKTsKICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIF90aGlzLmxlYWRlckNoYW5nZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgIHJldHVybiBmYWlsZWRQcm9wb3NhbHMobW9uaXRvcmluZ1ZlcnNpb24sIF90aGlzLiRzdG9yZS5kaXNwYXRjaCwgX3RoaXMuY3VycmVudENsdXN0ZXIuaWQpOwogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgX3RoaXMuZmFpbGVkUHJvcG9zYWxzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhhc0xlYWRlcjogJ05vJywKICAgICAgbGVhZGVyQ2hhbmdlczogMCwKICAgICAgZmFpbGVkUHJvcG9zYWxzOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSkKfTs="},{"version":3,"names":["Banner","Loading","mapGetters","hasLeader","leaderChanges","failedProposals","CATALOG","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inStore","monitoringVersion","res","leader","wrap","_callee$","_context","prev","next","$store","getters","concat","APP","dispatch","type","id","sent","currentVersion","t0","currentCluster","stop","data","computed","_objectSpread"],"sources":["node_modules/@rancher/shell/components/EtcdInfoBanner.vue"],"sourcesContent":["<script>\r\nimport { Banner } from '@components/Banner';\r\nimport Loading from '@shell/components/Loading';\r\nimport { mapGetters } from 'vuex';\r\nimport { hasLeader, leaderChanges, failedProposals } from '@shell/utils/grafana';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentProduct'].inStore;\r\n    let monitoringVersion = '';\r\n\r\n    if (this.$store.getters[`${ inStore }/canList`](CATALOG.APP)) {\r\n      try {\r\n        const res = await this.$store.dispatch(`${ inStore }/find`, { type: CATALOG.APP, id: 'cattle-monitoring-system/rancher-monitoring' });\r\n\r\n        monitoringVersion = res?.currentVersion;\r\n      } catch (err) {\r\n\r\n      }\r\n    }\r\n\r\n    const leader = await hasLeader(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n\r\n    this.hasLeader = leader ? 'Yes' : 'No';\r\n    this.leaderChanges = await leaderChanges(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n    this.failedProposals = await failedProposals(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n  },\r\n  data() {\r\n    return {\r\n      hasLeader:       'No',\r\n      leaderChanges:   0,\r\n      failedProposals: 0\r\n    };\r\n  },\r\n  computed: { ...mapGetters(['currentCluster']) }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Loading v-if=\"$fetchState.pending\" />\r\n  <Banner\r\n    v-else\r\n    class=\"banner\"\r\n    color=\"info\"\r\n  >\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.hasLeader') }}</label> {{ hasLeader }},\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.leaderChanges') }}</label> {{ leaderChanges }},\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.failedProposals') }}</label> {{ failedProposals }}\r\n    </div>\r\n  </Banner>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n    .banner {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n\r\n        .datum {\r\n            text-align: center;\r\n            margin-right: 5px;\r\n        }\r\n\r\n        & ::v-deep label {\r\n            color: var(--info);\r\n        }\r\n    }\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;AACA,SAAAA,MAAA;AACA,OAAAC,OAAA;AACA,SAAAC,UAAA;AACA,SAAAC,SAAA,EAAAC,aAAA,EAAAC,eAAA;AACA,SAAAC,OAAA;AAEA;EACAC,UAAA;IAAAP,MAAA,EAAAA,MAAA;IAAAC,OAAA,EAAAA;EAAA;EACAO,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,OAAA,EAAAC,iBAAA,EAAAC,GAAA,EAAAC,MAAA;MAAA,OAAAN,mBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAR,OAAA,GAAAL,KAAA,CAAAc,MAAA,CAAAC,OAAA,mBAAAV,OAAA;YACAC,iBAAA;YAAA,KAEAN,KAAA,CAAAc,MAAA,CAAAC,OAAA,IAAAC,MAAA,CAAAX,OAAA,eAAAR,OAAA,CAAAoB,GAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAEAb,KAAA,CAAAc,MAAA,CAAAI,QAAA,IAAAF,MAAA,CAAAX,OAAA;cAAAc,IAAA,EAAAtB,OAAA,CAAAoB,GAAA;cAAAG,EAAA;YAAA;UAAA;YAAAb,GAAA,GAAAI,QAAA,CAAAU,IAAA;YAEAf,iBAAA,GAAAC,GAAA,aAAAA,GAAA,uBAAAA,GAAA,CAAAe,cAAA;YAAAX,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;UAAA;YAAAA,QAAA,CAAAE,IAAA;YAAA,OAMAnB,SAAA,CAAAY,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAAZ,MAAA,GAAAG,QAAA,CAAAU,IAAA;YAEArB,KAAA,CAAAN,SAAA,GAAAc,MAAA;YAAAG,QAAA,CAAAE,IAAA;YAAA,OACAlB,aAAA,CAAAW,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAApB,KAAA,CAAAL,aAAA,GAAAgB,QAAA,CAAAU,IAAA;YAAAV,QAAA,CAAAE,IAAA;YAAA,OACAjB,eAAA,CAAAU,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAApB,KAAA,CAAAJ,eAAA,GAAAe,QAAA,CAAAU,IAAA;UAAA;UAAA;YAAA,OAAAV,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAArB,OAAA;IAAA;EACA;EACAsB,IAAA,WAAAA,KAAA;IACA;MACAhC,SAAA;MACAC,aAAA;MACAC,eAAA;IACA;EACA;EACA+B,QAAA,EAAAC,aAAA,KAAAnC,UAAA;AACA","ignoreList":[]}]}