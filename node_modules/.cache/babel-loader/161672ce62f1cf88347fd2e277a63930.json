{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zdHJpbmcucmVwbGFjZS1hbGwuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBQcm9ncmVzc0Jhck11bHRpIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Byb2dyZXNzQmFyTXVsdGknOwppbXBvcnQgUGx1c01pbnVzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUGx1c01pbnVzJzsKaW1wb3J0IHsgUE9ELCBTQ0FMQUJMRV9XT1JLTE9BRF9UWVBFUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CnZhciBTQ0FMQUJMRV9UWVBFUyA9IE9iamVjdC52YWx1ZXMoU0NBTEFCTEVfV09SS0xPQURfVFlQRVMpOwp2YXIgSU5WQUxJRF9UWVBFUyA9IFtQT0RdOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGx1c01pbnVzOiBQbHVzTWludXMsCiAgICBQcm9ncmVzc0Jhck11bHRpOiBQcm9ncmVzc0Jhck11bHRpCiAgfSwKICBwcm9wczogewogICAgcm93OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjb2w6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHJvd0tleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tPdXRzaWRlKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIGV4cGFuZGVkOiBmYWxzZSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgY1BhcnRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpZDogZnVuY3Rpb24gaWQoKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5yb3dLZXksICItd29ya2xvYWQtaGVhbHRoLXNjYWxlIikucmVwbGFjZUFsbCgnLScsICcnKTsKICAgIH0sCiAgICBjYW5TY2FsZTogZnVuY3Rpb24gY2FuU2NhbGUoKSB7CiAgICAgIHJldHVybiAhIVNDQUxBQkxFX1RZUEVTLmluY2x1ZGVzKHRoaXMucm93LnR5cGUpICYmIHRoaXMucm93LmNhblVwZGF0ZTsKICAgIH0sCiAgICBjYW5TaG93OiBmdW5jdGlvbiBjYW5TaG93KCkgewogICAgICByZXR1cm4gIUlOVkFMSURfVFlQRVMuaW5jbHVkZXModGhpcy5yb3cudHlwZSk7CiAgICB9LAogICAgcGFydHM6IGZ1bmN0aW9uIHBhcnRzKCkgewogICAgICByZXR1cm4gdGhpcy5jUGFydHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXZlVXBkYXRlOiBmdW5jdGlvbiBsaXZlVXBkYXRlKCkgewogICAgICBpZiAodGhpcy5sb2FkaW5nKSB7CiAgICAgICAgcmV0dXJuIDU7CiAgICAgIH0KICAgICAgdGhpcy5jUGFydHMgPSBPYmplY3QuZW50cmllcyh0aGlzLnJvdy5qb2JHYXVnZXMgfHwgdGhpcy5yb3cucG9kR2F1Z2VzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICAgIG5hbWUgPSBfcmVmMlswXSwKICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNvbG9yOiAiYmctIi5jb25jYXQodmFsdWUuY29sb3IpLAogICAgICAgICAgdmFsdWU6IHZhbHVlLmNvdW50IHx8IDAsCiAgICAgICAgICBsYWJlbDogdWNGaXJzdChuYW1lKQogICAgICAgIH07CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnZhbHVlID4gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiA1OwogICAgfSwKICAgIHN0YXJ0RGVsYXllZExvYWRpbmc6IGZ1bmN0aW9uIHN0YXJ0RGVsYXllZExvYWRpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLmxpdmVVcGRhdGUoKTsKICAgIH0sCiAgICBvbkNsaWNrT3V0c2lkZTogZnVuY3Rpb24gb25DbGlja091dHNpZGUoZXZlbnQpIHsKICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuJHJlZnNbInJvb3QtIi5jb25jYXQodGhpcy5pZCldOwogICAgICBpZiAoIWNvbXBvbmVudCB8fCBjb21wb25lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIHNjYWxlRG93bjogZnVuY3Rpb24gc2NhbGVEb3duKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNjYWxlKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNjYWxlVXA6IGZ1bmN0aW9uIHNjYWxlVXAoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zY2FsZSh0cnVlKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2NhbGU6IGZ1bmN0aW9uIHNjYWxlKGlzVXApIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIFZ1ZS5zZXQoX3RoaXMzLCAnZGlzYWJsZWQnLCB0cnVlKTsKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgaWYgKCFpc1VwKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMucm93LnNjYWxlVXAoKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnJvdy5zY2FsZURvd24oKTsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnZ3Jvd2wvZnJvbUVycm9yJywgewogICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMy50KCd3b3JrbG9hZC5saXN0LmVycm9yQ2Fubm90U2NhbGUnLCB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogaXNVcCA/ICd1cCcgOiAnZG93bicsCiAgICAgICAgICAgICAgICAgIHdvcmtsb2FkTmFtZTogX3RoaXMzLnJvdy5uYW1lCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGVycjogX2NvbnRleHQzLnQwCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIFZ1ZS5zZXQoX3RoaXMzLCAnZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGluc2lkZUJvdW5kczogZnVuY3Rpb24gaW5zaWRlQm91bmRzKGJvdW5kaW5nLCBib3VuZHMpIHsKICAgICAgcmV0dXJuIGJvdW5kaW5nLnRvcCA+PSBib3VuZHMudG9wICYmIGJvdW5kaW5nLmxlZnQgPj0gYm91bmRzLmxlZnQgJiYgYm91bmRpbmcucmlnaHQgPD0gYm91bmRzLnJpZ2h0ICYmIGJvdW5kaW5nLmJvdHRvbSA8PSBib3VuZHMuYm90dG9tOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGV4cGFuZGVkOiBmdW5jdGlvbiBleHBhbmRlZChuZXUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmIChuZXUpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja091dHNpZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrT3V0c2lkZSk7CiAgICAgIH0KCiAgICAgIC8vIElmIHRoZSBkcm9wIGRvd24gY29udGVudCBhcHBlYXJzIG91dHNpZGUgb2YgdGhlIHdpbmRvdyB0aGVuIG1vdmUgaXQgdG8gYmUgYWJvdmUgdGhlIHRyaWdnZXIKICAgICAgLy8gRG8gdGhpcyBpcyB0aHJlZSBzdGVwcwogICAgICAvLyBleHBhbmRlZDogZmFsc2UgJiBleHBhbmRlZC1jaGVja2VkID0gZmFsc2UgLSBDb250ZW50IGRvZXMgbm90IGFwcGVhciBpbiBET00KICAgICAgLy8gZXhwYW5kZWQ6IHRydWUgJiBleHBhbmRlZC1jaGVja2VkID0gZmFsc2UgLSBDb250ZW50IGFwcGVhcnMgaW4gRE9NIChzbyBpdCdzIGxvY2F0aW9uIGNhbiBiZSBjYWxjdWxhdGVkIHRvIGJlIGluIG9yIG91dCBvZiBhbiBhcmVhKSBidXQgaXNuJ3QgdmlzaWJsZSAodXNlciBkb2Vzbid0IHNlZSBjb250ZW50IGJsaXAgZnJvbSBiZWxvdyB0byBhYm92ZSB0cmlnZ2VyKQogICAgICAvLyBleHBhbmRlZDogdHJ1ZSAmIGV4cGFuZGVkLWNoZWNrZWQgPSB0cnVlIC0gQ29udGVudCBhcHBlYXJzIGluIERPTSBhbmQgaXMgdmlzaWJsZSAoaXQncyBmaW5hbCBsb2NhdGlvbiBpcyBrbm93biBzbyB1c2VyIGNhbiBzZWUpCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFRoZXJlIGJlIGJlYXN0cyB3aXRob3V0IHRoaXMgKGNsYXNzZXMgZG9uJ3QgZ2V0IGFwcGxpZWQuLi4gc28gZHJvcCBkb3duIG5ldmVyIGdldHMgc2hvd24pCiAgICAgICAgdmFyIGRyb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXM0LmlkKTsKICAgICAgICBpZiAoIW5ldSkgewogICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQtY2hlY2tlZCcpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gRW5zdXJlIGRyb3AgZG93biB3aWxsIGJlIGluc2lkZSBvZiB0aGUgd2luZG93LCBvdGhlcndpc2Ugc2hvdyBhYm92ZSB0aGUgdHJpZ2dlcgogICAgICAgIHZhciBib3VuZGluZyA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciBpbnNpZGVXaW5kb3cgPSBfdGhpczQuaW5zaWRlQm91bmRzKGJvdW5kaW5nLCB7CiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwKICAgICAgICAgIGJvdHRvbTogd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQKICAgICAgICB9KTsKICAgICAgICBpZiAoaW5zaWRlV2luZG93KSB7CiAgICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdvdXQtb2YtdmlldycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdvdXQtb2YtdmlldycpOwogICAgICAgIH0KCiAgICAgICAgLy8gVGhpcyB3aWxsIHRyaWdnZXIgdGhlIGFjdHVhbCBkaXNwbGF5IG9mIHRoZSBkcm9wIGRvd24gKGFmdGVyIHdlJ3ZlIGNhbGN1bGF0ZWQgaWYgaXQgZ29lcyBiZWxvdyBvciBhYm92ZSB0cmlnZ2VyKQogICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkLWNoZWNrZWQnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Vue","ProgressBarMulti","PlusMinus","POD","SCALABLE_WORKLOAD_TYPES","ucFirst","SCALABLE_TYPES","Object","values","INVALID_TYPES","components","props","row","type","required","col","rowKey","String","beforeDestroy","document","removeEventListener","onClickOutside","data","disabled","expanded","loading","cParts","computed","id","concat","replaceAll","canScale","includes","canUpdate","canShow","parts","methods","liveUpdate","entries","jobGauges","podGauges","map","_ref","_ref2","_slicedToArray","name","value","color","count","label","filter","x","startDelayedLoading","event","component","$refs","contains","target","preventDefault","stopPropagation","scaleDown","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","scale","stop","scaleUp","_this2","_callee2","_callee2$","_context2","isUp","_this3","_callee3","_callee3$","_context3","set","t0","$store","dispatch","title","t","direction","workloadName","err","root","insideBounds","bounding","bounds","top","left","right","bottom","watch","neu","_this4","addEventListener","setTimeout","dropdown","getElementById","classList","remove","getBoundingClientRect","insideWindow","window","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","add"],"sources":["node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport PlusMinus from '@shell/components/form/PlusMinus';\nimport { POD, SCALABLE_WORKLOAD_TYPES } from '@shell/config/types';\nimport { ucFirst } from '@shell/utils/string';\n\nconst SCALABLE_TYPES = Object.values(SCALABLE_WORKLOAD_TYPES);\nconst INVALID_TYPES = [POD];\n\nexport default {\n  components: { PlusMinus, ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:     Object,\n      required: true\n    },\n    rowKey: {\n      type:     String,\n      required: true\n    },\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('click', this.onClickOutside);\n  },\n\n  data() {\n    return {\n      disabled: false,\n      expanded: false,\n      loading:  true,\n      cParts:   [],\n    };\n  },\n\n  computed: {\n    id() {\n      return `${ this.rowKey }-workload-health-scale`.replaceAll('-', '');\n    },\n\n    canScale() {\n      return !!SCALABLE_TYPES.includes(this.row.type) && this.row.canUpdate;\n    },\n\n    canShow() {\n      return !INVALID_TYPES.includes(this.row.type);\n    },\n\n    parts() {\n      return this.cParts;\n    },\n  },\n\n  methods: {\n    liveUpdate() {\n      if (this.loading) {\n        return 5;\n      }\n\n      this.cParts = Object.entries(this.row.jobGauges || this.row.podGauges || [])\n        .map(([name, value]) => ({\n          color: `bg-${ value.color }`,\n          value: value.count || 0,\n          label: ucFirst(name)\n        })).filter((x) => x.value > 0);\n\n      return 5;\n    },\n    startDelayedLoading() {\n      this.loading = false;\n      this.liveUpdate();\n    },\n\n    onClickOutside(event) {\n      const { [`root-${ this.id }`]: component } = this.$refs;\n\n      if (!component || component.contains(event.target)) {\n        return;\n      }\n      this.expanded = false;\n      event.preventDefault();\n      event.stopPropagation();\n    },\n\n    async scaleDown() {\n      await this.scale(false);\n    },\n    async scaleUp() {\n      await this.scale(true);\n    },\n    async scale(isUp) {\n      Vue.set(this, 'disabled', true);\n      try {\n        if (isUp) {\n          await this.row.scaleUp();\n        } else {\n          await this.row.scaleDown();\n        }\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', {\n          title: this.t('workload.list.errorCannotScale', { direction: isUp ? 'up' : 'down', workloadName: this.row.name }),\n          err\n        },\n        { root: true });\n      }\n      Vue.set(this, 'disabled', false);\n    },\n\n    insideBounds(bounding, bounds) {\n      return bounding.top >= bounds.top &&\n        bounding.left >= bounds.left &&\n        bounding.right <= bounds.right &&\n        bounding.bottom <= bounds.bottom;\n    },\n\n  },\n\n  watch: {\n    expanded(neu) {\n      if (neu) {\n        document.addEventListener('click', this.onClickOutside);\n      } else {\n        document.removeEventListener('click', this.onClickOutside);\n      }\n\n      // If the drop down content appears outside of the window then move it to be above the trigger\n      // Do this is three steps\n      // expanded: false & expanded-checked = false - Content does not appear in DOM\n      // expanded: true & expanded-checked = false - Content appears in DOM (so it's location can be calculated to be in or out of an area) but isn't visible (user doesn't see content blip from below to above trigger)\n      // expanded: true & expanded-checked = true - Content appears in DOM and is visible (it's final location is known so user can see)\n      setTimeout(() => { // There be beasts without this (classes don't get applied... so drop down never gets shown)\n        const dropdown = document.getElementById(this.id);\n\n        if (!neu) {\n          dropdown.classList.remove('expanded-checked');\n\n          return;\n        }\n\n        // Ensure drop down will be inside of the window, otherwise show above the trigger\n        const bounding = dropdown.getBoundingClientRect();\n        const insideWindow = this.insideBounds(bounding, {\n          top:    0,\n          left:   0,\n          right:  window.innerWidth || document.documentElement.clientWidth,\n          bottom: window.innerHeight || document.documentElement.clientHeight,\n        });\n\n        if (insideWindow) {\n          dropdown.classList.remove('out-of-view');\n        } else {\n          dropdown.classList.add('out-of-view');\n        }\n\n        // This will trigger the actual display of the drop down (after we've calculated if it goes below or above trigger)\n        dropdown.classList.add('expanded-checked');\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"!canShow\" />\n  <div\n    v-else-if=\"loading\"\n    class=\"hs-popover__loader\"\n  >\n    <i class=\"icon icon-spinner\" />\n  </div>\n  <div\n    v-else\n    :id=\"`root-${id}`\"\n    :ref=\"`root-${id}`\"\n    class=\"hs-popover\"\n  >\n    <div\n      id=\"trigger\"\n      class=\"hs-popover__trigger\"\n      :class=\"{expanded}\"\n      @click=\"expanded = !expanded\"\n    >\n      <ProgressBarMulti\n        v-if=\"parts\"\n        class=\"health\"\n        :values=\"parts\"\n        :show-zeros=\"true\"\n      />\n      <i :class=\"{icon: true, 'icon-chevron-up': expanded, 'icon-chevron-down': !expanded}\" />\n    </div>\n    <div\n      :id=\"id\"\n      class=\"hs-popover__content\"\n      :class=\"{expanded, [id]:true}\"\n    >\n      <div>\n        <div\n          v-for=\"obj in parts\"\n          :key=\"obj.label\"\n          class=\"counts\"\n        >\n          <span class=\"counts-label\">{{ obj.label }}</span>\n          <span>{{ obj.value }}</span>\n        </div>\n        <div\n          v-if=\"canScale\"\n          class=\"text-center scale\"\n        >\n          <span>{{ t('tableHeaders.scale') }} </span>\n          <PlusMinus\n            :value=\"row.spec.replicas\"\n            :disabled=\"disabled\"\n            @minus=\"scaleDown\"\n            @plus=\"scaleUp\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n$height: 30px;\n$width: 150px;\n\n.hs-popover {\n  position: relative;\n\n  &__loader {\n    align-items: center;\n    border: solid thin var(--sortable-table-top-divider);\n    display: flex;\n    height: $height;\n    width: $width;\n\n    > i {\n      font-size: 16px;\n      height: 16px;\n      margin-left: 5px;\n      width: 16px;\n    }\n  }\n\n  &__trigger {\n    display: flex;\n    align-items: center;\n\n    width: $width;\n    height: $height;\n\n    border: solid thin var(--sortable-table-top-divider);\n\n    &.expanded {\n      background-color: var(--sortable-table-row-bg);\n    }\n    &:not(.expanded):hover {\n      background-color: var(--accent-btn);\n      .icon {\n        color: unset;\n      }\n    }\n\n    $icon-width: 21px;\n\n    .health {\n      width: $width - $icon-width;\n      margin-left: 5px;\n    }\n    .icon {\n      width: $icon-width;\n      color: var(--primary);\n      margin-top: 1px;\n      padding: 0 5px 0 3px; // It would be better to display flex here... but the icon looks a pixel off to the right\n    }\n  }\n\n  &__content {\n    z-index: 14;\n    width: $width;\n\n    border: solid thin var(--sortable-table-top-divider);\n    background-color: var(--sortable-table-row-bg);\n\n    position: absolute;\n    margin-top: -1px;\n\n    display: none;\n    visibility: hidden;\n    &.expanded {\n      display: inline;\n    }\n    &.expanded-checked {\n      visibility: visible;\n    }\n\n    &.out-of-view {\n      // Flip to show drop down above trigger\n      bottom: 0;\n      margin-bottom: $height - 1px;\n    }\n\n    & > div {\n      padding: 10px;\n    }\n\n    .counts {\n      display: flex;\n      justify-content: space-between;\n\n      &-label {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n    .scale {\n      margin-top: 10px;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n    }\n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}