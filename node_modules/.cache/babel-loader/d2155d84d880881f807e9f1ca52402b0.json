{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/Inactivity.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/Inactivity.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCBNb2RhbFdpdGhDYXJkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL01vZGFsV2l0aENhcmQnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgUGVyY2VudGFnZUJhciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9QZXJjZW50YWdlQmFyLnZ1ZSc7CmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IERFRkFVTFRfUEVSRl9TRVRUSU5HLCBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CnZhciBnbG9iYWxJZDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmFjdGl2aXR5JywKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbFdpdGhDYXJkOiBNb2RhbFdpdGhDYXJkLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBQZXJjZW50YWdlQmFyOiBQZXJjZW50YWdlQmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW5hYmxlZDogbnVsbCwKICAgICAgaXNPcGVuOiBmYWxzZSwKICAgICAgaXNJbmFjdGl2ZTogZmFsc2UsCiAgICAgIHNob3dNb2RhbEFmdGVyOiBudWxsLAogICAgICBpbmFjdGl2aXR5VGltZW91dElkOiBudWxsLAogICAgICBjb3VydGVzeVRpbWVyOiBudWxsLAogICAgICBjb3VydGVzeVRpbWVySWQ6IG51bGwsCiAgICAgIGNvdXJ0ZXN5Q291bnRkb3duOiBudWxsLAogICAgICB0cmFja0luYWN0aXZpdHk6IHRocm90dGxlKHRoaXMuX3RyYWNrSW5hY3Rpdml0eSwgMTAwMCksCiAgICAgIGlkOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3NldHRpbmdzLCBfc2V0dGluZ3MyLCBfc2V0dGluZ3MzLCBfc2V0dGluZ3M0LCBfc2V0dGluZ3M1OwogICAgICB2YXIgc2V0dGluZ3MsIHNldHRpbmdzU3RyaW5nLCB0aHJlc2hvbGRUb1NlY29uZHM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZCcsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlNFVFRJTkcsCiAgICAgICAgICAgICAgaWQ6IFNFVFRJTkcuVUlfUEVSRk9STUFOQ0UKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNldHRpbmdzU3RyaW5nID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5nc1N0cmluZyAhPT0gbnVsbCAmJiBzZXR0aW5nc1N0cmluZyAhPT0gdm9pZCAwICYmIHNldHRpbmdzU3RyaW5nLnZhbHVlID8gSlNPTi5wYXJzZShzZXR0aW5nc1N0cmluZy52YWx1ZSkgOiBERUZBVUxUX1BFUkZfU0VUVElORzsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgaWYgKCEoIXNldHRpbmdzIHx8ICEoKF9zZXR0aW5ncyA9IHNldHRpbmdzKSAhPT0gbnVsbCAmJiBfc2V0dGluZ3MgIT09IHZvaWQgMCAmJiBfc2V0dGluZ3MuaW5hY3Rpdml0eSkgfHwgISgoX3NldHRpbmdzMiA9IHNldHRpbmdzKSAhPT0gbnVsbCAmJiBfc2V0dGluZ3MyICE9PSB2b2lkIDAgJiYgX3NldHRpbmdzMi5pbmFjdGl2aXR5LmVuYWJsZWQpKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF90aGlzLmVuYWJsZWQgPSAoKF9zZXR0aW5nczMgPSBzZXR0aW5ncykgPT09IG51bGwgfHwgX3NldHRpbmdzMyA9PT0gdm9pZCAwIHx8IChfc2V0dGluZ3MzID0gX3NldHRpbmdzMy5pbmFjdGl2aXR5KSA9PT0gbnVsbCB8fCBfc2V0dGluZ3MzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2V0dGluZ3MzLmVuYWJsZWQpIHx8IGZhbHNlOwoKICAgICAgICAgICAgLy8gVG90YWwgYW1vdW50IG9mIHRpbWUgYmVmb3JlIHRoZSB1c2VyJ3Mgc2Vzc2lvbiBpcyBsb3N0CiAgICAgICAgICAgIHRocmVzaG9sZFRvU2Vjb25kcyA9ICgoX3NldHRpbmdzNCA9IHNldHRpbmdzKSA9PT0gbnVsbCB8fCBfc2V0dGluZ3M0ID09PSB2b2lkIDAgfHwgKF9zZXR0aW5nczQgPSBfc2V0dGluZ3M0LmluYWN0aXZpdHkpID09PSBudWxsIHx8IF9zZXR0aW5nczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZXR0aW5nczQudGhyZXNob2xkKSAqIDYwOyAvLyBBbW91bnQgb2YgdGltZSB0aGUgdXNlciBzZWVzIHRoZSBpbmFjdGl2aXR5IHdhcm5pbmcKICAgICAgICAgICAgX3RoaXMuY291cnRlc3lUaW1lciA9IE1hdGguZmxvb3IodGhyZXNob2xkVG9TZWNvbmRzICogMC4xKTsKICAgICAgICAgICAgX3RoaXMuY291cnRlc3lUaW1lciA9IE1hdGgubWluKF90aGlzLmNvdXJ0ZXN5VGltZXIsIDYwICogNSk7IC8vIE5ldmVyIHNob3cgdGhlIG1vZGFsIG1vcmUgdGhhbiA1IG1pbnV0ZXMKICAgICAgICAgICAgLy8gQW1vdW50IG9mIHRpbWUgYmVmb3JlIHRoZSB1c2VyIHNlZXMgdGhlIGluYWN0aXZpdHkgd2FybmluZwogICAgICAgICAgICAvLyBOb3RlIC0gdGltZSBiZWZvcmUgd2FybmluZyBpcyBzaG93biArIHRpbWUgd2FybmluZyBpcyBzaG93biA9IHNldHRpbmdzIHRocmVzaG9sZCAodG90YWwgYW1vdW50IG9mIHRpbWUpCiAgICAgICAgICAgIF90aGlzLnNob3dNb2RhbEFmdGVyID0gdGhyZXNob2xkVG9TZWNvbmRzIC0gX3RoaXMuY291cnRlc3lUaW1lcjsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiSW5hY3Rpdml0eSBtb2RhbCB3aWxsIHNob3cgYWZ0ZXIgIi5jb25jYXQoX3RoaXMuc2hvd01vZGFsQWZ0ZXIgLyA2MCwgIihtKSBhbmQgYmUgc2hvd24gZm9yICIpLmNvbmNhdChfdGhpcy5jb3VydGVzeVRpbWVyIC8gNjAsICIobSkiKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQoKICAgICAgICAgICAgX3RoaXMuY291cnRlc3lDb3VudGRvd24gPSBfdGhpcy5jb3VydGVzeVRpbWVyOwogICAgICAgICAgICBpZiAoKF9zZXR0aW5nczUgPSBzZXR0aW5ncykgIT09IG51bGwgJiYgX3NldHRpbmdzNSAhPT0gdm9pZCAwICYmIF9zZXR0aW5nczUuaW5hY3Rpdml0eS5lbmFibGVkKSB7CiAgICAgICAgICAgICAgX3RoaXMudHJhY2tJbmFjdGl2aXR5KCk7CiAgICAgICAgICAgICAgX3RoaXMuYWRkSWRsZUxpc3RlbmVycygpOwogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgIH0pKSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpOwogICAgdGhpcy5jbGVhckFsbFRpbWVvdXRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBfdHJhY2tJbmFjdGl2aXR5OiBmdW5jdGlvbiBfdHJhY2tJbmFjdGl2aXR5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMuaXNJbmFjdGl2ZSB8fCB0aGlzLmlzT3BlbiB8fCAhdGhpcy5zaG93TW9kYWxBZnRlcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmNsZWFyQWxsVGltZW91dHMoKTsKICAgICAgdmFyIGVuZFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5zaG93TW9kYWxBZnRlciAqIDEwMDA7CiAgICAgIHRoaXMuaWQgPSBlbmRUaW1lOwogICAgICBnbG9iYWxJZCA9IGVuZFRpbWU7CiAgICAgIHZhciBfY2hlY2tJbmFjdGl2aXR5VGltZXIgPSBmdW5jdGlvbiBjaGVja0luYWN0aXZpdHlUaW1lcigpIHsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICBpZiAoX3RoaXMyLmlkICE9PSBnbG9iYWxJZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAobm93ID49IGVuZFRpbWUpIHsKICAgICAgICAgIF90aGlzMi5pc09wZW4gPSB0cnVlOwogICAgICAgICAgX3RoaXMyLnN0YXJ0Q291bnRkb3duKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5pbmFjdGl2aXR5VGltZW91dElkID0gc2V0VGltZW91dChfY2hlY2tJbmFjdGl2aXR5VGltZXIsIDEwMDApOwogICAgICAgIH0KICAgICAgfTsKICAgICAgX2NoZWNrSW5hY3Rpdml0eVRpbWVyKCk7CiAgICB9LAogICAgc3RhcnRDb3VudGRvd246IGZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGVuZFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5jb3VydGVzeUNvdW50ZG93biAqIDEwMDA7CiAgICAgIHZhciBfY2hlY2tDb3VudGRvd24gPSBmdW5jdGlvbiBjaGVja0NvdW50ZG93bigpIHsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICBpZiAobm93ID49IGVuZFRpbWUpIHsKICAgICAgICAgIF90aGlzMy5pc0luYWN0aXZlID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMy51bnN1YnNjcmliZSgpOwogICAgICAgICAgX3RoaXMzLmNsZWFyQWxsVGltZW91dHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLmNvdXJ0ZXN5Q291bnRkb3duID0gTWF0aC5mbG9vcigoZW5kVGltZSAtIG5vdykgLyAxMDAwKTsKICAgICAgICAgIF90aGlzMy5jb3VydGVzeVRpbWVySWQgPSBzZXRUaW1lb3V0KF9jaGVja0NvdW50ZG93biwgMTAwMCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBfY2hlY2tDb3VudGRvd24oKTsKICAgIH0sCiAgICBhZGRJZGxlTGlzdGVuZXJzOiBmdW5jdGlvbiBhZGRJZGxlTGlzdGVuZXJzKCkgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgIH0sCiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgIH0sCiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgdGhpcy5pc0luYWN0aXZlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuY291cnRlc3lDb3VudGRvd24gPSB0aGlzLmNvdXJ0ZXN5VGltZXI7CiAgICAgIHRoaXMuY2xlYXJBbGxUaW1lb3V0cygpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoJ1Vuc3Vic2NyaWJpbmcgZnJvbSBhbGwgd2Vic29ja2V0IGV2ZW50cycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Vuc3Vic2NyaWJlJyk7CiAgICB9LAogICAgY2xlYXJBbGxUaW1lb3V0czogZnVuY3Rpb24gY2xlYXJBbGxUaW1lb3V0cygpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW5hY3Rpdml0eVRpbWVvdXRJZCk7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvdXJ0ZXN5VGltZXJJZCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNJbmFjdGl2ZVRleHRzOiBmdW5jdGlvbiBpc0luYWN0aXZlVGV4dHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzSW5hY3RpdmUgPyB7CiAgICAgICAgdGl0bGU6IHRoaXMudCgnaW5hY3Rpdml0eS50aXRsZUV4cGlyZWQnKSwKICAgICAgICBiYW5uZXI6IHRoaXMudCgnaW5hY3Rpdml0eS5iYW5uZXJFeHBpcmVkJyksCiAgICAgICAgY29udGVudDogdGhpcy50KCdpbmFjdGl2aXR5LmNvbnRlbnRFeHBpcmVkJykKICAgICAgfSA6IHsKICAgICAgICB0aXRsZTogdGhpcy50KCdpbmFjdGl2aXR5LnRpdGxlJyksCiAgICAgICAgYmFubmVyOiB0aGlzLnQoJ2luYWN0aXZpdHkuYmFubmVyJyksCiAgICAgICAgY29udGVudDogdGhpcy50KCdpbmFjdGl2aXR5LmNvbnRlbnQnKQogICAgICB9OwogICAgfSwKICAgIHRpbWVyUGVyY2VudGFnZUxlZnQ6IGZ1bmN0aW9uIHRpbWVyUGVyY2VudGFnZUxlZnQoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuY291cnRlc3lDb3VudGRvd24gLyB0aGlzLmNvdXJ0ZXN5VGltZXIgKiAxMDApOwogICAgfSwKICAgIGNvbG9yU3RvcHM6IGZ1bmN0aW9uIGNvbG9yU3RvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgMDogJy0taW5mbycsCiAgICAgICAgMzA6ICctLWluZm8nLAogICAgICAgIDcwOiAnLS1pbmZvJwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["ModalWithCard","Banner","PercentageBar","throttle","MANAGEMENT","DEFAULT_PERF_SETTING","SETTING","globalId","name","components","data","enabled","isOpen","isInactive","showModalAfter","inactivityTimeoutId","courtesyTimer","courtesyTimerId","courtesyCountdown","trackInactivity","_trackInactivity","id","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_settings","_settings2","_settings3","_settings4","_settings5","settings","settingsString","thresholdToSeconds","wrap","_callee$","_context","prev","next","$store","dispatch","type","UI_PERFORMANCE","sent","value","JSON","parse","t0","inactivity","abrupt","threshold","Math","floor","min","console","debug","concat","addIdleListeners","stop","beforeDestroy","removeEventListener","clearAllTimeouts","methods","_this2","endTime","Date","now","checkInactivityTimer","startCountdown","setTimeout","_this3","checkCountdown","unsubscribe","document","addEventListener","resume","refresh","window","location","reload","clearTimeout","computed","isInactiveTexts","title","t","banner","content","timerPercentageLeft","colorStops"],"sources":["node_modules/@rancher/shell/components/Inactivity.vue"],"sourcesContent":["<script>\nimport ModalWithCard from '@shell/components/ModalWithCard';\nimport { Banner } from '@components/Banner';\nimport PercentageBar from '@shell/components/PercentageBar.vue';\nimport throttle from 'lodash/throttle';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { DEFAULT_PERF_SETTING, SETTING } from '@shell/config/settings';\n\nlet globalId;\n\nexport default {\n  name:       'Inactivity',\n  components: {\n    ModalWithCard, Banner, PercentageBar\n  },\n  data() {\n    return {\n      enabled:             null,\n      isOpen:              false,\n      isInactive:          false,\n      showModalAfter:      null,\n      inactivityTimeoutId: null,\n      courtesyTimer:       null,\n      courtesyTimerId:     null,\n      courtesyCountdown:   null,\n      trackInactivity:     throttle(this._trackInactivity, 1000),\n      id:                  null,\n    };\n  },\n  async mounted() {\n    // Info: normally, this is done in the fetch hook but for some reasons while awaiting for things that will take a while, it won't be ready by the time mounted() is called, pending for investigation.\n    let settings;\n\n    try {\n      const settingsString = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.UI_PERFORMANCE });\n\n      settings = settingsString?.value ? JSON.parse(settingsString.value) : DEFAULT_PERF_SETTING;\n    } catch { }\n\n    if (!settings || !settings?.inactivity || !settings?.inactivity.enabled) {\n      return;\n    }\n\n    this.enabled = settings?.inactivity?.enabled || false;\n\n    // Total amount of time before the user's session is lost\n    const thresholdToSeconds = settings?.inactivity?.threshold * 60;\n\n    // Amount of time the user sees the inactivity warning\n    this.courtesyTimer = Math.floor(thresholdToSeconds * 0.1);\n    this.courtesyTimer = Math.min(this.courtesyTimer, 60 * 5); // Never show the modal more than 5 minutes\n    // Amount of time before the user sees the inactivity warning\n    // Note - time before warning is shown + time warning is shown = settings threshold (total amount of time)\n    this.showModalAfter = thresholdToSeconds - this.courtesyTimer;\n\n    console.debug(`Inactivity modal will show after ${ this.showModalAfter / 60 }(m) and be shown for ${ this.courtesyTimer / 60 }(m)`); // eslint-disable-line no-console\n\n    this.courtesyCountdown = this.courtesyTimer;\n\n    if (settings?.inactivity.enabled) {\n      this.trackInactivity();\n      this.addIdleListeners();\n    }\n  },\n  beforeDestroy() {\n    this.removeEventListener();\n    this.clearAllTimeouts();\n  },\n  methods: {\n    _trackInactivity() {\n      if (this.isInactive || this.isOpen || !this.showModalAfter) {\n        return;\n      }\n\n      this.clearAllTimeouts();\n      const endTime = Date.now() + this.showModalAfter * 1000;\n\n      this.id = endTime;\n      globalId = endTime;\n\n      const checkInactivityTimer = () => {\n        const now = Date.now();\n\n        if (this.id !== globalId) {\n          return;\n        }\n\n        if (now >= endTime) {\n          this.isOpen = true;\n          this.startCountdown();\n        } else {\n          this.inactivityTimeoutId = setTimeout(checkInactivityTimer, 1000);\n        }\n      };\n\n      checkInactivityTimer();\n    },\n    startCountdown() {\n      const endTime = Date.now() + (this.courtesyCountdown * 1000);\n\n      const checkCountdown = () => {\n        const now = Date.now();\n\n        if (now >= endTime) {\n          this.isInactive = true;\n          this.unsubscribe();\n          this.clearAllTimeouts();\n        } else {\n          this.courtesyCountdown = Math.floor((endTime - now) / 1000);\n          this.courtesyTimerId = setTimeout(checkCountdown, 1000);\n        }\n      };\n\n      checkCountdown();\n    },\n    addIdleListeners() {\n      document.addEventListener('mousemove', this.trackInactivity);\n      document.addEventListener('mousedown', this.trackInactivity);\n      document.addEventListener('keypress', this.trackInactivity);\n      document.addEventListener('touchmove', this.trackInactivity);\n      document.addEventListener('visibilitychange', this.trackInactivity);\n    },\n    removeEventListener() {\n      document.removeEventListener('mousemove', this.trackInactivity);\n      document.removeEventListener('mousedown', this.trackInactivity);\n      document.removeEventListener('keypress', this.trackInactivity);\n      document.removeEventListener('touchmove', this.trackInactivity);\n      document.removeEventListener('visibilitychange', this.trackInactivity);\n    },\n\n    resume() {\n      this.isInactive = false;\n      this.isOpen = false;\n      this.courtesyCountdown = this.courtesyTimer;\n      this.clearAllTimeouts();\n    },\n\n    refresh() {\n      window.location.reload();\n    },\n\n    unsubscribe() {\n      console.debug('Unsubscribing from all websocket events'); // eslint-disable-line no-console\n      this.$store.dispatch('unsubscribe');\n    },\n    clearAllTimeouts() {\n      clearTimeout(this.inactivityTimeoutId);\n      clearTimeout(this.courtesyTimerId);\n    }\n\n  },\n  computed: {\n    isInactiveTexts() {\n      return this.isInactive ? {\n        title:   this.t('inactivity.titleExpired'),\n        banner:  this.t('inactivity.bannerExpired'),\n        content: this.t('inactivity.contentExpired'),\n      } : {\n        title:   this.t('inactivity.title'),\n        banner:  this.t('inactivity.banner'),\n        content: this.t('inactivity.content'),\n      };\n    },\n    timerPercentageLeft() {\n      return Math.floor((this.courtesyCountdown / this.courtesyTimer ) * 100);\n    },\n    colorStops() {\n      return {\n        0: '--info', 30: '--info', 70: '--info'\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <ModalWithCard\n    v-if=\"isOpen\"\n    ref=\"inactivityModal\"\n    name=\"inactivityModal\"\n    save-text=\"Continue\"\n    @finish=\"resume\"\n  >\n    <template #title>\n      {{ isInactiveTexts.title }}\n    </template>\n    <span>{{ courtesyCountdown }}</span>\n\n    <template #content>\n      <Banner color=\"info\">\n        {{ isInactiveTexts.banner }}\n      </Banner>\n\n      <p>\n        {{ isInactiveTexts.content }}\n      </p>\n\n      <PercentageBar\n        v-if=\"!isInactive\"\n        class=\"mt-20\"\n        :value=\"timerPercentageLeft\"\n        :color-stops=\"colorStops\"\n      />\n    </template>\n\n    <template\n      #footer\n    >\n      <div class=\"card-actions\">\n        <button\n          v-if=\"!isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"resume\"\n        >\n          <t k=\"inactivity.cta\" />\n        </button>\n\n        <button\n          v-if=\"isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"refresh\"\n        >\n          <t k=\"inactivity.ctaExpired\" />\n        </button>\n      </div>\n    </template>\n  </ModalWithCard>\n</template>\n\n<style lang=\"scss\" scoped>\n.card-actions {\n    display: flex;\n    width: 100%;\n    justify-content: flex-end;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}