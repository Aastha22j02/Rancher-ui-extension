{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/promptRemove/pod.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/promptRemove/pod.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQ2hlY2tib3ggZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveC9DaGVja2JveC52dWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9tcHRSZW1vdmVQb2REaWFsb2cnLAogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyLAogICAgQ2hlY2tib3g6IENoZWNrYm94CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG5hbWVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjbG9zZTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBkb25lTG9jYXRpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JzOiBbXSwKICAgICAgZm9yY2VEZWxldGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnYWN0aW9uLW1lbnUnLCBbJ3RvUmVtb3ZlJ10pKSwgbWFwR2V0dGVycyh7CiAgICB0OiAnaTE4bi90JwogIH0pKSwge30sIHsKICAgIHBsdXNNb3JlOiBmdW5jdGlvbiBwbHVzTW9yZSgpIHsKICAgICAgdmFyIGNvdW50ID0gdGhpcy5uYW1lcy5sZW5ndGggLSB0aGlzLm5hbWVzLmxlbmd0aDsKICAgICAgcmV0dXJuIHRoaXMudCgncHJvbXB0UmVtb3ZlLmFuZE90aGVycycsIHsKICAgICAgICBjb3VudDogY291bnQKICAgICAgfSk7CiAgICB9LAogICAgcG9kTmFtZXM6IGZ1bmN0aW9uIHBvZE5hbWVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy5uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgbmFtZSwgaSkgewogICAgICAgIGlmIChpID49IDUpIHsKICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfQogICAgICAgIHJlcyArPSAiPGI+Ii5jb25jYXQobmFtZSwgIjwvYj4iKTsKICAgICAgICBpZiAoaSA9PT0gX3RoaXMubmFtZXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgcmVzICs9IF90aGlzLnBsdXNNb3JlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXMgKz0gaSA9PT0gX3RoaXMudG9SZW1vdmUubGVuZ3RoIC0gMiA/ICcgYW5kICcgOiAnLCAnOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzOwogICAgICB9LCAnJyk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoY29uZmlybSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZ29UbywgX3RoaXMyJHZhbHVlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoX3RoaXMyLmRvbmVMb2NhdGlvbikgewogICAgICAgICAgICAgICAgLy8gZG9uZUxvY2F0aW9uIHdpbGwgcmVjb21wdXRlIHRvIHVuZGVmaW5lZCB3aGVuIGRlbGV0ZSByZXF1ZXN0IGNvbXBsZXRlcwogICAgICAgICAgICAgICAgZ29UbyA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzMi5kb25lTG9jYXRpb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoX3RoaXMyLnZhbHVlLm1hcChmdW5jdGlvbiAocmVzb3VyY2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVtb3ZlUG9kKHJlc291cmNlKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpZiAoZ29UbyAmJiAhaXNFbXB0eShnb1RvKSkgewogICAgICAgICAgICAgICAgKF90aGlzMiR2YWx1ZSA9IF90aGlzMi52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMyJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzMiR2YWx1ZSA9IF90aGlzMiR2YWx1ZVswXSkgPT09IG51bGwgfHwgX3RoaXMyJHZhbHVlID09PSB2b2lkIDAgfHwgX3RoaXMyJHZhbHVlLmN1cnJlbnRSb3V0ZXIoKS5wdXNoKGdvVG8pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczIuY2xvc2UoKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIF90aGlzMi4kZW1pdCgnZXJyb3JzJywgX2NvbnRleHQudDApOwogICAgICAgICAgICAgIGNvbmZpcm0oZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVQb2Q6IGZ1bmN0aW9uIHJlbW92ZVBvZChwb2QpIHsKICAgICAgdmFyIG9wdCA9IHRoaXMuZm9yY2VEZWxldGUgPyB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgZ3JhY2VQZXJpb2Q6IDAsCiAgICAgICAgICBmb3JjZTogdHJ1ZQogICAgICAgIH0KICAgICAgfSA6IHVuZGVmaW5lZDsKICAgICAgcmV0dXJuIHBvZC5yZW1vdmUob3B0KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Banner","Checkbox","mapGetters","mapState","isEmpty","name","components","props","value","type","Array","default","names","String","required","close","Function","doneLocation","Object","data","errors","forceDelete","computed","_objectSpread","t","plusMore","count","length","podNames","_this","reduce","res","i","concat","toRemove","methods","remove","confirm","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","goTo","_this2$value","wrap","_callee$","_context","prev","next","Promise","all","map","resource","removePod","currentRouter","push","t0","$emit","stop","pod","opt","gracePeriod","force","undefined"],"sources":["node_modules/@rancher/shell/promptRemove/pod.vue"],"sourcesContent":["<script>\nimport { Banner } from '@components/Banner';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport { mapGetters, mapState } from 'vuex';\nimport { isEmpty } from 'lodash';\n\nexport default {\n  name: 'PromptRemovePodDialog',\n\n  components: {\n    Banner,\n    Checkbox\n  },\n\n  props: {\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    names: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    type: {\n      type:     String,\n      required: true\n    },\n\n    close: {\n      type:     Function,\n      required: true\n    },\n\n    doneLocation: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  data() {\n    return {\n      errors:      [],\n      forceDelete: false\n    };\n  },\n\n  computed: {\n    ...mapState('action-menu', ['toRemove']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    plusMore() {\n      const count = this.names.length - this.names.length;\n\n      return this.t('promptRemove.andOthers', { count });\n    },\n\n    podNames() {\n      return this.names.reduce((res, name, i) => {\n        if (i >= 5) {\n          return res;\n        }\n        res += `<b>${ name }</b>`;\n        if (i === this.names.length - 1) {\n          res += this.plusMore;\n        } else {\n          res += i === this.toRemove.length - 2 ? ' and ' : ', ';\n        }\n\n        return res;\n      }, '');\n    },\n  },\n\n  methods: {\n    async remove(confirm) {\n      let goTo;\n\n      if (this.doneLocation) {\n        // doneLocation will recompute to undefined when delete request completes\n        goTo = { ...this.doneLocation };\n      }\n\n      try {\n        await Promise.all(this.value.map((resource) => this.removePod(resource)));\n        if ( goTo && !isEmpty(goTo) ) {\n          this.value?.[0]?.currentRouter().push(goTo);\n        }\n        this.close();\n      } catch (err) {\n        this.$emit('errors', err);\n        confirm(false);\n      }\n    },\n\n    removePod(pod) {\n      const opt = this.forceDelete ? {\n        data: {\n          gracePeriod: 0,\n          force:       true\n        }\n      } : undefined;\n\n      return pod.remove(opt);\n    },\n  }\n};\n</script>\n\n<template>\n  <div class=\"mt-10\">\n    <div class=\"mb-30\">\n      {{ t('promptRemove.attemptingToRemove', { type }) }} <span\n        v-clean-html=\"podNames\"\n        class=\"machine-name\"\n      />\n    </div>\n    <div class=\"mb-30\">\n      <Checkbox\n        v-model=\"forceDelete\"\n        :label=\"t('promptForceRemove.forceDelete')\"\n      />\n    </div>\n    <Banner\n      color=\"warning\"\n      label-key=\"promptForceRemove.podRemoveWarning\"\n    />\n    <Banner\n      v-for=\"(error, i) in errors\"\n      :key=\"i\"\n      class=\"\"\n      color=\"error\"\n      :label=\"error\"\n    />\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .actions {\n    text-align: right;\n  }\n\n  .machine-name {\n    font-weight: 600;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}