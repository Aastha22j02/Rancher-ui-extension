{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/store/prefs.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/store/prefs.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCwgU1RFVkUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgY2xvbmUgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwp2YXIgZGVmaW5pdGlvbnMgPSB7fTsKLyoqCiAqIEtleS92YWx1ZSBvZiBwcmVmcmVuY2VzIGFyZSBzdG9yZWQgYmVmb3JlIGxvZ2luIGhlcmUgYW5kIGNvb2tpZXMgZHVlIGxhY2sgb2YgYWNjZXNzIHBlcm1pc3Npb24uCiAqIE9uY2UgdXNlciBpcyBsb2dnZWQgaW4gd2hpbGUgc2V0dGluZyBhc1VzZXJQcmVmZXJlbmNlLCB1cGRhdGUgc3RvcmVkIGJlZm9yZSBsb2dpbiBLZXkvdmFsdWUgdG8gdGhlIGJhY2tlbmQgaW4gbG9hZFNlcnZlciBmdW5jdGlvbi4KICovCnZhciBwcmVmc0JlZm9yZUxvZ2luID0ge307CmV4cG9ydCB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKG5hbWUsIGRlZikgewogIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHZhciBwYXJzZUpTT04gPSBvcHQucGFyc2VKU09OID09PSB0cnVlOwogIHZhciBhc0Nvb2tpZSA9IG9wdC5hc0Nvb2tpZSA9PT0gdHJ1ZTsKICB2YXIgYXNVc2VyUHJlZmVyZW5jZSA9IG9wdC5hc1VzZXJQcmVmZXJlbmNlICE9PSBmYWxzZTsKICB2YXIgb3B0aW9ucyA9IG9wdC5vcHRpb25zOwogIHZhciBpbmhlcml0RnJvbSA9IG9wdC5pbmhlcml0RnJvbTsKICBkZWZpbml0aW9uc1tuYW1lXSA9IHsKICAgIGRlZjogZGVmLAogICAgb3B0aW9uczogb3B0aW9ucywKICAgIHBhcnNlSlNPTjogcGFyc2VKU09OLAogICAgYXNDb29raWU6IGFzQ29va2llLAogICAgYXNVc2VyUHJlZmVyZW5jZTogYXNVc2VyUHJlZmVyZW5jZSwKICAgIGluaGVyaXRGcm9tOiBpbmhlcml0RnJvbSwKICAgIC8vIGlmIHZhbHVlIGlzIG5vdCBkZWZpbmVkIG9uIHNlcnZlciwgd2UgY2FuIGRlZmF1bHQgaXQgdG8gYW5vdGhlciBwcmVmCiAgICBtYW5nbGVSZWFkOiBvcHQubWFuZ2xlUmVhZCwKICAgIC8vIEFsdGVyIHRoZSB2YWx1ZSByZWFkIGZyb20gdGhlIEFQSSAodG8gbWF0Y2ggb2xkIFJhbmNoZXIgZXhwZWN0YXRpb25zKQogICAgbWFuZ2xlV3JpdGU6IG9wdC5tYW5nbGVXcml0ZSAvLyBBbHRlciB0aGUgdmFsdWUgd3JpdHRlbiBiYWNrIHRvIHRoZSBBUEkgKGRpdHRvKQogIH07CiAgcmV0dXJuIG5hbWU7Cn07CmV4cG9ydCB2YXIgbWFwUHJlZiA9IGZ1bmN0aW9uIG1hcFByZWYobmFtZSkgewogIHJldHVybiB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKG5hbWUpOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcmVmcy9zZXQnLCB7CiAgICAgICAga2V5OiBuYW1lLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgIH0KICB9Owp9OwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmFyIHBhcnNlSlNPTiA9IHRydWU7IC8vIFNob3J0Y3V0IGZvciBzZXR0aW5nIGl0IGJlbG93CnZhciBhc0Nvb2tpZSA9IHRydWU7IC8vIFN0b3JlIGFzIGEgY29va2llIHNvIHRoYXQgaXQncyBhdmFpbGFibGUgYmVmb3JlIGF1dGggKyBvbiBzZXJ2ZXItc2lkZQoKLy8gS2V5cyBtdXN0IGJlIGxvd2VyY2FzZSBhbmQgdmFsaWQgZG5zIGxhYmVsIChhLXogMC05IC0pCmV4cG9ydCB2YXIgQ0xVU1RFUiA9IGNyZWF0ZSgnY2x1c3RlcicsICcnKTsKZXhwb3J0IHZhciBMQVNUX05BTUVTUEFDRSA9IGNyZWF0ZSgnbGFzdC1uYW1lc3BhY2UnLCAnJyk7CmV4cG9ydCB2YXIgTkFNRVNQQUNFX0ZJTFRFUlMgPSBjcmVhdGUoJ25zLWJ5LWNsdXN0ZXInLCB7fSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFdPUktTUEFDRSA9IGNyZWF0ZSgnd29ya3NwYWNlJywgJycpOwpleHBvcnQgdmFyIEVYUEFOREVEX0dST1VQUyA9IGNyZWF0ZSgnb3Blbi1ncm91cHMnLCBbJ2NsdXN0ZXInLCAncG9saWN5JywgJ3JiYWMnLCAnc2VydmljZURpc2NvdmVyeScsICdzdG9yYWdlJywgJ3dvcmtsb2FkJ10sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBGQVZPUklURV9UWVBFUyA9IGNyZWF0ZSgnZmF2LXR5cGUnLCBbXSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFBJTk5FRF9DTFVTVEVSUyA9IGNyZWF0ZSgncGlubmVkLWNsdXN0ZXJzJywgW10sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBHUk9VUF9SRVNPVVJDRVMgPSBjcmVhdGUoJ2dyb3VwLWJ5JywgJ25hbWVzcGFjZScpOwpleHBvcnQgdmFyIERJRkYgPSBjcmVhdGUoJ2RpZmYnLCAndW5pZmllZCcsIHsKICBvcHRpb25zOiBbJ3VuaWZpZWQnLCAnc3BsaXQnXQp9KTsKZXhwb3J0IHZhciBUSEVNRSA9IGNyZWF0ZSgndGhlbWUnLCAnYXV0bycsIHsKICBvcHRpb25zOiBbJ2xpZ2h0JywgJ2F1dG8nLCAnZGFyayddLAogIGFzQ29va2llOiBhc0Nvb2tpZSwKICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICBtYW5nbGVSZWFkOiBmdW5jdGlvbiBtYW5nbGVSZWFkKHgpIHsKICAgIHJldHVybiB4LnJlcGxhY2UoL151aS0vLCAnJyk7CiAgfSwKICBtYW5nbGVXcml0ZTogZnVuY3Rpb24gbWFuZ2xlV3JpdGUoeCkgewogICAgcmV0dXJuICJ1aS0iLmNvbmNhdCh4KTsKICB9Cn0pOwpleHBvcnQgdmFyIFBSRUZFUlNfU0NIRU1FID0gY3JlYXRlKCdwY3MnLCAnJywgewogIGFzQ29va2llOiBhc0Nvb2tpZSwKICBhc1VzZXJQcmVmZXJlbmNlOiBmYWxzZQp9KTsKZXhwb3J0IHZhciBMT0NBTEUgPSBjcmVhdGUoJ2xvY2FsZScsICdlbi11cycsIHsKICBhc0Nvb2tpZTogYXNDb29raWUKfSk7CmV4cG9ydCB2YXIgS0VZTUFQID0gY3JlYXRlKCdrZXltYXAnLCAnc3VibGltZScsIHsKICBvcHRpb25zOiBbJ3N1YmxpbWUnLCAnZW1hY3MnLCAndmltJ10KfSk7CmV4cG9ydCB2YXIgUk9XU19QRVJfUEFHRSA9IGNyZWF0ZSgncGVyLXBhZ2UnLCAxMDAsIHsKICBvcHRpb25zOiBbMTAsIDI1LCA1MCwgMTAwXSwKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBMT0dTX1dSQVAgPSBjcmVhdGUoJ2xvZ3Mtd3JhcCcsIHRydWUsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBMT0dTX1RJTUUgPSBjcmVhdGUoJ2xvZ3MtdGltZScsIHRydWUsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBMT0dTX1JBTkdFID0gY3JlYXRlKCdsb2dzLXJhbmdlJywgJzMwIG1pbnV0ZXMnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgSElERV9SRVBPUyA9IGNyZWF0ZSgnaGlkZS1yZXBvcycsIFtdLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgSElERV9ERVNDID0gY3JlYXRlKCdoaWRlLWRlc2MnLCBbXSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEhJREVfU0VOU0lUSVZFID0gY3JlYXRlKCdoaWRlLXNlbnNpdGl2ZScsIHRydWUsIHsKICBvcHRpb25zOiBbdHJ1ZSwgZmFsc2VdLAogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFNIT1dfUFJFX1JFTEVBU0UgPSBjcmVhdGUoJ3Nob3ctcHJlLXJlbGVhc2UnLCBmYWxzZSwgewogIG9wdGlvbnM6IFtmYWxzZSwgdHJ1ZV0sCiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgU0hPV19DSEFSVF9NT0RFID0gY3JlYXRlKCdjaGFydC1tb2RlJywgJ2ZlYXR1cmVkJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIERBVEVfRk9STUFUID0gY3JlYXRlKCdkYXRlLWZvcm1hdCcsICdkZGQsIE1NTSBEIFlZWVknLCB7CiAgb3B0aW9uczogWydkZGQsIE1NTSBEIFlZWVknLCAnZGRkLCBEIE1NTSBZWVlZJywgJ0QvTS9ZWVlZJywgJ00vRC9ZWVlZJywgJ1lZWVktTU0tREQnXQp9KTsKZXhwb3J0IHZhciBUSU1FX0ZPUk1BVCA9IGNyZWF0ZSgndGltZS1mb3JtYXQnLCAnaDptbTpzcyBhJywgewogIG9wdGlvbnM6IFsnaDptbTpzcyBhJywgJ0hIOm1tOnNzJ10KfSk7CmV4cG9ydCB2YXIgVElNRV9aT05FID0gY3JlYXRlKCd0aW1lLXpvbmUnLCAnbG9jYWwnKTsKLy8gREVWIHdpbGwgYmUgZGVwcmVjYXRlZCBvbiB2Mi43LjAsIGJ1dCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gZ3JhYiB0aGUgdmFsdWUgZm9yIHRoZSBuZXcgc2V0dGluZ3MgdGhhdCBkZXJpdmVkIGZyb20gaXQKLy8gc3VjaCBhczogVklFV19JTl9BUEksIEFMTF9OQU1FU1BBQ0VTLCBUSEVNRV9TSE9SVENVVApleHBvcnQgdmFyIERFViA9IGNyZWF0ZSgnZGV2JywgZmFsc2UsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBWSUVXX0lOX0FQSSA9IGNyZWF0ZSgndmlldy1pbi1hcGknLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OLAogIGluaGVyaXRGcm9tOiBERVYKfSk7CmV4cG9ydCB2YXIgQUxMX05BTUVTUEFDRVMgPSBjcmVhdGUoJ2FsbC1uYW1lc3BhY2VzJywgZmFsc2UsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICBpbmhlcml0RnJvbTogREVWCn0pOwpleHBvcnQgdmFyIFRIRU1FX1NIT1JUQ1VUID0gY3JlYXRlKCd0aGVtZS1zaG9ydGN1dCcsIGZhbHNlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgaW5oZXJpdEZyb206IERFVgp9KTsKZXhwb3J0IHZhciBMQVNUX1ZJU0lURUQgPSBjcmVhdGUoJ2xhc3QtdmlzaXRlZCcsICdob21lJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFNFRU5fV0hBVFNfTkVXID0gY3JlYXRlKCdzZWVuLXdoYXRzbmV3JywgJycsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBSRUFEX1dIQVRTX05FVyA9IGNyZWF0ZSgncmVhZC13aGF0c25ldycsICcnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgQUZURVJfTE9HSU5fUk9VVEUgPSBjcmVhdGUoJ2FmdGVyLWxvZ2luLXJvdXRlJywgJ2hvbWUnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgSElERV9IT01FX1BBR0VfQ0FSRFMgPSBjcmVhdGUoJ2hvbWUtcGFnZS1jYXJkcycsIHt9LCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgUExVR0lOX0RFVkVMT1BFUiA9IGNyZWF0ZSgncGx1Z2luLWRldmVsb3BlcicsIGZhbHNlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgaW5oZXJpdEZyb206IERFVgp9KTsgLy8gSXMgdGhlIHVzZXIgYSBwbHVnaW4gZGV2ZWxvcGVyPwoKZXhwb3J0IHZhciBfUktFMSA9ICdya2UxJzsKZXhwb3J0IHZhciBfUktFMiA9ICdya2UyJzsKZXhwb3J0IHZhciBQUk9WSVNJT05FUiA9IGNyZWF0ZSgncHJvdmlzaW9uZXInLCBfUktFMiwgewogIG9wdGlvbnM6IFtfUktFMSwgX1JLRTJdCn0pOwoKLy8gTWF4aW11bSBudW1iZXIgb2YgY2x1c3RlcnMgdG8gc2hvdyBpbiB0aGUgc2xpZGUtaW4gbWVudQpleHBvcnQgdmFyIE1FTlVfTUFYX0NMVVNURVJTID0gMTA7Ci8vIFByb21wdCBmb3IgY29uZmlybSB3aGVuIHNjYWxpbmcgZG93biBub2RlIHBvb2wgaW4gR1VJIGFuZCBzYXZlIHRoZSBwcmVmCmV4cG9ydCB2YXIgU0NBTEVfUE9PTF9QUk9NUFQgPSBjcmVhdGUoJ3NjYWxlLXBvb2wtcHJvbXB0JywgbnVsbCwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIGNvb2tpZVByZWZpeCA9ICdSXyc7CnZhciBjb29raWVPcHRpb25zID0gewogIG1heEFnZTogMzY1ICogODY0MDAsCiAgcGF0aDogJy8nLAogIHNhbWVTaXRlOiB0cnVlLAogIHNlY3VyZTogdHJ1ZQp9OwpleHBvcnQgdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGNvb2tpZXNMb2FkZWQ6IGZhbHNlLAogICAgZGF0YToge30sCiAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnMKICB9Owp9OwpleHBvcnQgdmFyIGdldHRlcnMgPSB7CiAgZ2V0OiBmdW5jdGlvbiBnZXQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZlcmVuY2U6ICIuY29uY2F0KGtleSkpOwogICAgICB9CiAgICAgIHZhciB1c2VyID0gc3RhdGUuZGF0YVtrZXldOwogICAgICBpZiAodXNlciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGNsb25lKHVzZXIpOwogICAgICB9CiAgICAgIHZhciBkZWYgPSBjbG9uZShkZWZpbml0aW9uLmRlZik7CiAgICAgIHJldHVybiBkZWY7CiAgICB9OwogIH0sCiAgZGVmYXVsdFZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VmFsdWUoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZlcmVuY2U6ICIuY29uY2F0KGtleSkpOwogICAgICB9CiAgICAgIHJldHVybiBjbG9uZShkZWZpbml0aW9uLmRlZik7CiAgICB9OwogIH0sCiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgdmFyIGRlZmluaXRpb24gPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldOwogICAgICBpZiAoIWRlZmluaXRpb24pIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJlZmVyZW5jZTogIi5jb25jYXQoa2V5KSk7CiAgICAgIH0KICAgICAgaWYgKCFkZWZpbml0aW9uLm9wdGlvbnMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlByZWZlcmVuY2UgZG9lcyBub3QgaGF2ZSBvcHRpb25zOiAiLmNvbmNhdChrZXkpKTsKICAgICAgfQogICAgICByZXR1cm4gZGVmaW5pdGlvbi5vcHRpb25zLnNsaWNlKCk7CiAgICB9OwogIH0sCiAgdGhlbWU6IGZ1bmN0aW9uIHRoZW1lKHN0YXRlLCBnZXR0ZXJzLCByb290U3RhdGUsIHJvb3RHZXR0ZXJzKSB7CiAgICB2YXIgc2V0dGluZyA9IHJvb3RHZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULlNFVFRJTkcsIFNFVFRJTkcuVEhFTUUpOwogICAgaWYgKHNldHRpbmcgIT09IG51bGwgJiYgc2V0dGluZyAhPT0gdm9pZCAwICYmIHNldHRpbmcudmFsdWUpIHsKICAgICAgcmV0dXJuIHNldHRpbmcgPT09IG51bGwgfHwgc2V0dGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2V0dGluZy52YWx1ZTsKICAgIH0KICAgIHZhciB0aGVtZSA9IGdldHRlcnNbJ2dldCddKFRIRU1FKTsKICAgIHZhciBwY3MgPSBnZXR0ZXJzWydnZXQnXShQUkVGRVJTX1NDSEVNRSk7CgogICAgLy8gY29uc29sZS5sb2coJ0dldCBUaGVtZScsIHRoZW1lLCBwY3MpOwoKICAgIC8vIEVtYmVyIFVJIHVzZXMgdGhpcyBwcmVmaXgKICAgIGlmICh0aGVtZS5zdGFydHNXaXRoKCd1aS0nKSkgewogICAgICB0aGVtZSA9IHRoZW1lLnN1YnN0cigzKTsKICAgIH0KICAgIGlmICh0aGVtZSA9PT0gJ2F1dG8nKSB7CiAgICAgIGlmIChwY3MgPT09ICdsaWdodCcgfHwgcGNzID09PSAnZGFyaycpIHsKICAgICAgICByZXR1cm4gcGNzOwogICAgICB9CiAgICAgIHJldHVybiAnZGFyayc7CiAgICB9CiAgICByZXR1cm4gdGhlbWU7CiAgfSwKICBhZnRlckxvZ2luUm91dGU6IGZ1bmN0aW9uIGFmdGVyTG9naW5Sb3V0ZShzdGF0ZSwgZ2V0dGVycykgewogICAgdmFyIGFmdGVyTG9naW5Sb3V0ZVByZWYgPSBnZXR0ZXJzWydnZXQnXShBRlRFUl9MT0dJTl9ST1VURSk7CiAgICBpZiAodHlwZW9mIGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiBhZnRlckxvZ2luUm91dGVQcmVmOwogICAgfQogICAgc3dpdGNoICh0cnVlKSB7CiAgICAgIGNhc2UgYWZ0ZXJMb2dpblJvdXRlUHJlZiA9PT0gJ2hvbWUnOgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICB9OwogICAgICBjYXNlIGFmdGVyTG9naW5Sb3V0ZVByZWYgPT09ICdsYXN0LXZpc2l0ZWQnOgogICAgICAgIHsKICAgICAgICAgIHZhciBsYXN0VmlzaXRlZFByZWYgPSBnZXR0ZXJzWydnZXQnXShMQVNUX1ZJU0lURUQpOwogICAgICAgICAgaWYgKGxhc3RWaXNpdGVkUHJlZikgewogICAgICAgICAgICByZXR1cm4gbGFzdFZpc2l0ZWRQcmVmOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGNsdXN0ZXJQcmVmID0gZ2V0dGVyc1snZ2V0J10oQ0xVU1RFUik7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWV4cGxvcmVyJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgcHJvZHVjdDogJ2V4cGxvcmVyJywKICAgICAgICAgICAgICBjbHVzdGVyOiBjbHVzdGVyUHJlZgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgY2FzZSAhIWFmdGVyTG9naW5Sb3V0ZVByZWYubWF0Y2goLy4rLWRhc2hib2FyZCQvKToKICAgICAgICB7CiAgICAgICAgICB2YXIgY2x1c3RlcklkID0gYWZ0ZXJMb2dpblJvdXRlUHJlZi5zcGxpdCgnLWRhc2hib2FyZCcpWzBdOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1leHBsb3JlcicsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHByb2R1Y3Q6ICdleHBsb3JlcicsCiAgICAgICAgICAgICAgY2x1c3RlcjogY2x1c3RlcklkCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBhZnRlckxvZ2luUm91dGVQcmVmCiAgICAgICAgfTsKICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoc3RhdGUsIF9yZWYpIHsKICAgIHZhciBrZXkgPSBfcmVmLmtleSwKICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgVnVlLnNldChzdGF0ZS5kYXRhLCBrZXksIHZhbHVlKTsKICB9LAogIGNvb2tpZXNMb2FkZWQ6IGZ1bmN0aW9uIGNvb2tpZXNMb2FkZWQoc3RhdGUpIHsKICAgIHN0YXRlLmNvb2tpZXNMb2FkZWQgPSB0cnVlOwogIH0sCiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHN0YXRlKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gc3RhdGUuZGVmaW5pdGlvbnMpIHsKICAgICAgdmFyIF9zdGF0ZSRkZWZpbml0aW9ucyRrZTsKICAgICAgaWYgKChfc3RhdGUkZGVmaW5pdGlvbnMka2UgPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldKSAhPT0gbnVsbCAmJiBfc3RhdGUkZGVmaW5pdGlvbnMka2UgIT09IHZvaWQgMCAmJiBfc3RhdGUkZGVmaW5pdGlvbnMka2UuYXNDb29raWUpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBkZWxldGUgc3RhdGUuZGF0YVtrZXldOwogICAgfQogIH0sCiAgc2V0RGVmaW5pdGlvbjogZnVuY3Rpb24gc2V0RGVmaW5pdGlvbihzdGF0ZSwgX3JlZjIpIHsKICAgIHZhciBuYW1lID0gX3JlZjIubmFtZSwKICAgICAgX3JlZjIkZGVmaW5pdGlvbiA9IF9yZWYyLmRlZmluaXRpb24sCiAgICAgIGRlZmluaXRpb24gPSBfcmVmMiRkZWZpbml0aW9uID09PSB2b2lkIDAgPyB7fSA6IF9yZWYyJGRlZmluaXRpb247CiAgICBzdGF0ZS5kZWZpbml0aW9uc1tuYW1lXSA9IGRlZmluaXRpb247CiAgfQp9OwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgc2V0OiBmdW5jdGlvbiBzZXQoX3JlZjMsIG9wdCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCByb290R2V0dGVycywgc3RhdGUsIGtleSwgdmFsdWUsIGRlZmluaXRpb24sIHNlcnZlciwgX29wdCwgY2hlY2tMb2dpbiwgX3NlcnZlcjsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMy5yb290R2V0dGVycywgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgICAgICAgICAga2V5ID0gb3B0LmtleSwgdmFsdWUgPSBvcHQudmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0CiAgICAgICAgICAgIGRlZmluaXRpb24gPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldOwogICAgICAgICAgICBpZiAoIW9wdC52YWwpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZSB2YWx1ZSwgbm90IHZhbCcpOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjb21taXQoJ2xvYWQnLCB7CiAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5hc0Nvb2tpZSkgewogICAgICAgICAgICAgIF9vcHQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvb2tpZU9wdGlvbnMpLCB7fSwgewogICAgICAgICAgICAgICAgcGFyc2VKU09OOiBkZWZpbml0aW9uLnBhcnNlSlNPTiA9PT0gdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzLiRjb29raWVzLnNldCgiIi5jb25jYXQoY29va2llUHJlZml4KS5jb25jYXQoa2V5KS50b1VwcGVyQ2FzZSgpLCB2YWx1ZSwgX29wdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFkZWZpbml0aW9uLmFzVXNlclByZWZlcmVuY2UpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2hlY2tMb2dpbiA9IHJvb3RHZXR0ZXJzWydhdXRoL2xvZ2dlZEluJ107IC8vIENoZWNrIGZvciBsb2dpbiBzdGF0dXMKICAgICAgICAgICAgaWYgKGNoZWNrTG9naW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJlZnNCZWZvcmVMb2dpbltrZXldID0gdmFsdWU7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbG9hZFNlcnZlcicsIGtleSk7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBzZXJ2ZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBpZiAoISgoX3NlcnZlciA9IHNlcnZlcikgIT09IG51bGwgJiYgX3NlcnZlciAhPT0gdm9pZCAwICYmIF9zZXJ2ZXIuZGF0YSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRlZmluaXRpb24ubWFuZ2xlV3JpdGUpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmluaXRpb24ubWFuZ2xlV3JpdGUodmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLnBhcnNlSlNPTikgewogICAgICAgICAgICAgIFZ1ZS5zZXQoc2VydmVyLmRhdGEsIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBWdWUuc2V0KHNlcnZlci5kYXRhLCBrZXksIHZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgIHJldHVybiBzZXJ2ZXIuc2F2ZSh7CiAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxMik7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICB0eXBlOiBfY29udGV4dC50MC50eXBlLAogICAgICAgICAgICAgIHN0YXR1czogX2NvbnRleHQudDAuc3RhdHVzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEyLCAyM11dKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0VGhlbWU6IGZ1bmN0aW9uIHNldFRoZW1lKF9yZWY0LCB2YWwpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgZGlzcGF0Y2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAgICAgICAgICBrZXk6IFRIRU1FLAogICAgICAgICAgICAgIHZhbHVlOiB2YWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbG9hZENvb2tpZXM6IGZ1bmN0aW9uIGxvYWRDb29raWVzKF9yZWY1KSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgaWYgKHN0YXRlLmNvb2tpZXNMb2FkZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgZm9yICh2YXIga2V5IGluIHN0YXRlLmRlZmluaXRpb25zKSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uLmFzQ29va2llKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgdmFyIG9wdCA9IHsKICAgICAgICBwYXJzZUpTT046IGRlZmluaXRpb24ucGFyc2VKU09OID09PSB0cnVlCiAgICAgIH07CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuJGNvb2tpZXMuZ2V0KCIiLmNvbmNhdChjb29raWVQcmVmaXgpLmNvbmNhdChrZXkpLnRvVXBwZXJDYXNlKCksIG9wdCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29tbWl0KCdsb2FkJywgewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgY29tbWl0KCdjb29raWVzTG9hZGVkJyk7CiAgfSwKICBsb2FkVGhlbWU6IGZ1bmN0aW9uIGxvYWRUaGVtZShfcmVmNikgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICB2YXIgd2F0Y2hEYXJrID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTsKICAgIHZhciB3YXRjaExpZ2h0ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpJyk7CiAgICB2YXIgd2F0Y2hOb25lID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbm8tcHJlZmVyZW5jZSknKTsKICAgIHZhciBpbnRlcnZhbCA9IDMwICogNjAgKiAxMDAwOwogICAgdmFyIG5leHRIYWxmSG91ciA9IGludGVydmFsIC0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgJSBpbnRlcnZhbDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBkaXNwYXRjaCgnbG9hZFRoZW1lJyk7CiAgICB9LCBuZXh0SGFsZkhvdXIpOwogICAgLy8gY29uc29sZS5sb2coJ1VwZGF0ZSB0aGVtZSBpbicsIG5leHRIYWxmSG91ciwgJ21zJyk7CgogICAgaWYgKHdhdGNoRGFyay5tYXRjaGVzKSB7CiAgICAgIGNoYW5nZWQoJ2RhcmsnKTsKICAgIH0gZWxzZSBpZiAod2F0Y2hMaWdodC5tYXRjaGVzKSB7CiAgICAgIGNoYW5nZWQoJ2xpZ2h0Jyk7CiAgICB9IGVsc2UgewogICAgICBjaGFuZ2VkKGZyb21DbG9jaygpKTsKICAgIH0KICAgIHdhdGNoRGFyay5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5tYXRjaGVzKSB7CiAgICAgICAgY2hhbmdlZCgnZGFyaycpOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoTGlnaHQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUubWF0Y2hlcykgewogICAgICAgIGNoYW5nZWQoJ2xpZ2h0Jyk7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2hOb25lLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLm1hdGNoZXMpIHsKICAgICAgICBjaGFuZ2VkKGZyb21DbG9jaygpKTsKICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBjaGFuZ2VkKHZhbHVlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdQcmVmZXJzIFRoZW1lOicsIHZhbHVlKTsKICAgICAgZGlzcGF0Y2goJ3NldCcsIHsKICAgICAgICBrZXk6IFBSRUZFUlNfU0NIRU1FLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGZyb21DbG9jaygpIHsKICAgICAgdmFyIGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgICAgIGlmIChob3VyIDwgNyB8fCBob3VyID49IDE4KSB7CiAgICAgICAgcmV0dXJuICdkYXJrJzsKICAgICAgfQogICAgICByZXR1cm4gJ2xpZ2h0JzsKICAgIH0KICB9LAogIGxvYWRTZXJ2ZXI6IGZ1bmN0aW9uIGxvYWRTZXJ2ZXIoX3JlZjcsIGlnbm9yZUtleSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBfc2VydmVyMjsKICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaCwgY29tbWl0LCByb290U3RhdGUsIHJvb3RHZXR0ZXJzLCBzZXJ2ZXIsIGFsbCwga2V5LCBkZWZpbml0aW9uLCB2YWx1ZTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzdGF0ZSA9IF9yZWY3LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoLCBjb21taXQgPSBfcmVmNy5jb21taXQsIHJvb3RTdGF0ZSA9IF9yZWY3LnJvb3RTdGF0ZSwgcm9vdEdldHRlcnMgPSBfcmVmNy5yb290R2V0dGVyczsKICAgICAgICAgICAgc2VydmVyID0gewogICAgICAgICAgICAgIGRhdGE6IHt9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICB0eXBlOiBTVEVWRS5QUkVGRVJFTkNFLAogICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgdXJsOiAndXNlcnByZWZlcmVuY2VzJywKICAgICAgICAgICAgICAgIGZvcmNlOiB0cnVlLAogICAgICAgICAgICAgICAgd2F0Y2g6IGZhbHNlLAogICAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgc3RyZWFtOiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGFsbCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBzZXJ2ZXIgPSBhbGwgPT09IG51bGwgfHwgYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGxbMF07CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7CiAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwcmVmZXJlbmNlcycsIF9jb250ZXh0My50MCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBpZiAoKF9zZXJ2ZXIyID0gc2VydmVyKSAhPT0gbnVsbCAmJiBfc2VydmVyMiAhPT0gdm9pZCAwICYmIF9zZXJ2ZXIyLmRhdGEpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGlmICghKE9iamVjdC5rZXlzKHByZWZzQmVmb3JlTG9naW4pLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBPYmplY3Qua2V5cyhwcmVmc0JlZm9yZUxvZ2luKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICBzZXJ2ZXIuZGF0YVtrZXldID0gcHJlZnNCZWZvcmVMb2dpbltrZXldOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxOTsKICAgICAgICAgICAgcmV0dXJuIHNlcnZlci5zYXZlKHsKICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAvLyBDbGVhciBwcmVmc0JlZm9yZUxvZ2luLCBhcyB3ZSBoYXZlIG5vdyBzYXZlZCB0aGVzZXMKICAgICAgICAgICAgcHJlZnNCZWZvcmVMb2dpbiA9IHt9OwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKHN0YXRlLmRlZmluaXRpb25zKTsKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGlmICgoX2NvbnRleHQzLnQyID0gX2NvbnRleHQzLnQxKCkpLmRvbmUpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGtleSA9IF9jb250ZXh0My50Mi52YWx1ZTsKICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgICAgICAgIHZhbHVlID0gY2xvbmUoc2VydmVyLmRhdGFba2V5XSk7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlZmluaXRpb24uaW5oZXJpdEZyb20pIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGNsb25lKHNlcnZlci5kYXRhW2RlZmluaXRpb24uaW5oZXJpdEZyb21dKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoISh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gaWdub3JlS2V5KSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoImNvbnRpbnVlIiwgMjEpOwogICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgaWYgKCFkZWZpbml0aW9uLnBhcnNlSlNPTikgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOTsKICAgICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDMzOwogICAgICAgICAgICBfY29udGV4dDMudDMgPSBfY29udGV4dDNbImNhdGNoIl0oMjkpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBwcmVmJywga2V5LCB2YWx1ZSwgX2NvbnRleHQzLnQzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJjb250aW51ZSIsIDIxKTsKICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLm1hbmdsZVJlYWQpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmluaXRpb24ubWFuZ2xlUmVhZCh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29tbWl0KCdsb2FkJywgewogICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgc2VydmVyKTsKICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDldLCBbMjksIDMzXV0pOwogICAgfSkpKCk7CiAgfSwKICBzZXRMYXN0VmlzaXRlZDogZnVuY3Rpb24gc2V0TGFzdFZpc2l0ZWQoX3JlZjgsIHJvdXRlKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmOC5zdGF0ZSwKICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaCwKICAgICAgZ2V0dGVycyA9IF9yZWY4LmdldHRlcnM7CiAgICBpZiAoIXJvdXRlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBPbmx5IHNhdmUgdGhlIGxhc3QgdmlzaXRlZCBwYWdlIGlmIHRoZSB1c2VyIGhhcyB0aGF0IHNldCBhcyB0aGUgbG9naW4gcm91dGUgcHJlZmVyZW5jZQogICAgdmFyIGFmdGVyTG9naW5Sb3V0ZVByZWYgPSBnZXR0ZXJzWydnZXQnXShBRlRFUl9MT0dJTl9ST1VURSk7CiAgICB2YXIgZG9Ob3RUcmFja0xhc3RWaXNpdGVkID0gdHlwZW9mIGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdzdHJpbmcnIHx8IGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdsYXN0LXZpc2l0ZWQnOwogICAgaWYgKGRvTm90VHJhY2tMYXN0VmlzaXRlZCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgdG9TYXZlID0gZ2V0TG9naW5Sb3V0ZShyb3V0ZSk7CiAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAga2V5OiBMQVNUX1ZJU0lURUQsCiAgICAgIHZhbHVlOiB0b1NhdmUKICAgIH0pOwogIH0sCiAgdG9nZ2xlVGhlbWU6IGZ1bmN0aW9uIHRvZ2dsZVRoZW1lKF9yZWY5KSB7CiAgICB2YXIgZ2V0dGVycyA9IF9yZWY5LmdldHRlcnMsCiAgICAgIGRpc3BhdGNoID0gX3JlZjkuZGlzcGF0Y2g7CiAgICB2YXIgdmFsdWUgPSBnZXR0ZXJzW1RIRU1FXSA9PT0gJ2xpZ2h0JyA/ICdkYXJrJyA6ICdsaWdodCc7CiAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAga2V5OiBUSEVNRSwKICAgICAgdmFsdWU6IHZhbHVlCiAgICB9KTsKICB9LAogIHNldEJyYW5kU3R5bGU6IGZ1bmN0aW9uIHNldEJyYW5kU3R5bGUoX3JlZjEwKSB7CiAgICB2YXIgcm9vdFN0YXRlID0gX3JlZjEwLnJvb3RTdGF0ZSwKICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMTAucm9vdEdldHRlcnM7CiAgICB2YXIgZGFyayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICBpZiAocm9vdFN0YXRlLm1hbmFnZW1lbnRSZWFkeSkgewogICAgICB0cnkgewogICAgICAgIHZhciBicmFuZFNldHRpbmcgPSByb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oTUFOQUdFTUVOVC5TRVRUSU5HLCBTRVRUSU5HLkJSQU5EKTsKICAgICAgICBpZiAoYnJhbmRTZXR0aW5nICYmIGJyYW5kU2V0dGluZy52YWx1ZSAmJiBicmFuZFNldHRpbmcudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICB2YXIgYnJhbmQgPSBicmFuZFNldHRpbmcudmFsdWU7CiAgICAgICAgICB2YXIgYnJhbmRNZXRhID0gcmVxdWlyZSgifnNoZWxsL2Fzc2V0cy9icmFuZC8iLmNvbmNhdChicmFuZCwgIi9tZXRhZGF0YS5qc29uIikpOwogICAgICAgICAgdmFyIGhhc1N0eWxlc2hlZXQgPSBicmFuZE1ldGEuaGFzU3R5bGVzaGVldCA9PT0gJ3RydWUnOwogICAgICAgICAgaWYgKGhhc1N0eWxlc2hlZXQpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGJyYW5kKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFRPRE8gb3B0aW9uIGFwcGx5IGNvbG9yIGF0IHJ1bnRpbWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9CiAgICB9CiAgfQp9OwpmdW5jdGlvbiBnZXRMb2dpblJvdXRlKHJvdXRlKSB7CiAgdmFyIF9yb3V0ZSRuYW1lOwogIHZhciBwYXJ0cyA9ICgoX3JvdXRlJG5hbWUgPSByb3V0ZS5uYW1lKSA9PT0gbnVsbCB8fCBfcm91dGUkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JvdXRlJG5hbWUuc3BsaXQoJy0nKSkgfHwgW107CiAgdmFyIHBhcmFtcyA9IHt9OwogIHZhciByb3V0ZVBhcmFtcyA9IHJvdXRlLnBhcmFtcyB8fCB7fTsKCiAgLy8gRmluZCB0aGUgJ3Jlc291cmNlJyBwYXJ0IG9mIHRoZSByb3V0ZSwgaWYgaXQgaXMgdGhlcmUKICB2YXIgaW5kZXggPSBwYXJ0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgIHJldHVybiBwID09PSAncmVzb3VyY2UnOwogIH0pOwogIGlmIChpbmRleCA+PSAwKSB7CiAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDAsIGluZGV4KTsKICB9CgogIC8vIEp1c3Qga2VlcCB0aGUgcGFyYW1zIHRoYXQgYXJlIG5lZWRlZAogIHBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7CiAgICBpZiAocm91dGVQYXJhbXNbcGFyYW1dKSB7CiAgICAgIHBhcmFtc1twYXJhbV0gPSByb3V0ZVBhcmFtc1twYXJhbV07CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIG5hbWU6IHBhcnRzLmpvaW4oJy0nKSwKICAgIHBhcmFtczogcGFyYW1zCiAgfTsKfQ=="},{"version":3,"names":["SETTING","MANAGEMENT","STEVE","clone","Vue","definitions","prefsBeforeLogin","create","name","def","opt","arguments","length","undefined","parseJSON","asCookie","asUserPreference","options","inheritFrom","mangleRead","mangleWrite","mapPref","get","$store","getters","set","value","dispatch","key","CLUSTER","LAST_NAMESPACE","NAMESPACE_FILTERS","WORKSPACE","EXPANDED_GROUPS","FAVORITE_TYPES","PINNED_CLUSTERS","GROUP_RESOURCES","DIFF","THEME","x","replace","concat","PREFERS_SCHEME","LOCALE","KEYMAP","ROWS_PER_PAGE","LOGS_WRAP","LOGS_TIME","LOGS_RANGE","HIDE_REPOS","HIDE_DESC","HIDE_SENSITIVE","SHOW_PRE_RELEASE","SHOW_CHART_MODE","DATE_FORMAT","TIME_FORMAT","TIME_ZONE","DEV","VIEW_IN_API","ALL_NAMESPACES","THEME_SHORTCUT","LAST_VISITED","SEEN_WHATS_NEW","READ_WHATS_NEW","AFTER_LOGIN_ROUTE","HIDE_HOME_PAGE_CARDS","PLUGIN_DEVELOPER","_RKE1","_RKE2","PROVISIONER","MENU_MAX_CLUSTERS","SCALE_POOL_PROMPT","cookiePrefix","cookieOptions","maxAge","path","sameSite","secure","state","cookiesLoaded","data","definition","Error","user","defaultValue","slice","theme","rootState","rootGetters","setting","pcs","startsWith","substr","afterLoginRoute","afterLoginRoutePref","lastVisitedPref","clusterPref","params","product","cluster","match","clusterId","split","mutations","load","_ref","reset","_state$definitions$ke","setDefinition","_ref2","_ref2$definition","actions","_ref3","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","server","_opt","checkLogin","_server","wrap","_callee$","_context","prev","next","val","_objectSpread","$cookies","toUpperCase","abrupt","sent","JSON","stringify","save","redirectUnauthorized","t0","type","status","stop","setTheme","_ref4","_callee2","_callee2$","_context2","loadCookies","_ref5","loadTheme","_ref6","watchDark","window","matchMedia","watchLight","watchNone","interval","nextHalfHour","Math","round","Date","getTime","setTimeout","matches","changed","fromClock","addListener","e","hour","getHours","loadServer","_ref7","ignoreKey","_callee3","_server2","all","_callee3$","_context3","PREFERENCE","url","force","watch","stream","root","console","error","Object","keys","forEach","t1","t2","done","parse","t3","setLastVisited","_ref8","route","doNotTrackLastVisited","toSave","getLoginRoute","toggleTheme","_ref9","setBrandStyle","_ref10","dark","managementReady","brandSetting","BRAND","brand","brandMeta","require","hasStylesheet","document","body","classList","add","_unused","_route$name","parts","routeParams","index","findIndex","p","param","join"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/store/prefs.js"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT, STEVE } from '@shell/config/types';\nimport { clone } from '@shell/utils/object';\nimport Vue from 'vue';\n\nconst definitions = {};\n/**\n * Key/value of prefrences are stored before login here and cookies due lack of access permission.\n * Once user is logged in while setting asUserPreference, update stored before login Key/value to the backend in loadServer function.\n */\nlet prefsBeforeLogin = {};\n\nexport const create = function(name, def, opt = {}) {\n  const parseJSON = opt.parseJSON === true;\n  const asCookie = opt.asCookie === true;\n  const asUserPreference = opt.asUserPreference !== false;\n  const options = opt.options;\n  const inheritFrom = opt.inheritFrom;\n\n  definitions[name] = {\n    def,\n    options,\n    parseJSON,\n    asCookie,\n    asUserPreference,\n    inheritFrom, // if value is not defined on server, we can default it to another pref\n    mangleRead:  opt.mangleRead, // Alter the value read from the API (to match old Rancher expectations)\n    mangleWrite: opt.mangleWrite, // Alter the value written back to the API (ditto)\n  };\n\n  return name;\n};\n\nexport const mapPref = function(name) {\n  return {\n    get() {\n      return this.$store.getters['prefs/get'](name);\n    },\n\n    set(value) {\n      this.$store.dispatch('prefs/set', { key: name, value });\n    }\n  };\n};\n\n// --------------------\nconst parseJSON = true; // Shortcut for setting it below\nconst asCookie = true; // Store as a cookie so that it's available before auth + on server-side\n\n// Keys must be lowercase and valid dns label (a-z 0-9 -)\nexport const CLUSTER = create('cluster', '');\nexport const LAST_NAMESPACE = create('last-namespace', '');\nexport const NAMESPACE_FILTERS = create('ns-by-cluster', {}, { parseJSON });\nexport const WORKSPACE = create('workspace', '');\nexport const EXPANDED_GROUPS = create('open-groups', ['cluster', 'policy', 'rbac', 'serviceDiscovery', 'storage', 'workload'], { parseJSON });\nexport const FAVORITE_TYPES = create('fav-type', [], { parseJSON });\nexport const PINNED_CLUSTERS = create('pinned-clusters', [], { parseJSON });\nexport const GROUP_RESOURCES = create('group-by', 'namespace');\nexport const DIFF = create('diff', 'unified', { options: ['unified', 'split'] });\nexport const THEME = create('theme', 'auto', {\n  options:     ['light', 'auto', 'dark'],\n  asCookie,\n  parseJSON,\n  mangleRead:  (x) => x.replace(/^ui-/, ''),\n  mangleWrite: (x) => `ui-${ x }`,\n});\nexport const PREFERS_SCHEME = create('pcs', '', { asCookie, asUserPreference: false });\nexport const LOCALE = create('locale', 'en-us', { asCookie });\nexport const KEYMAP = create('keymap', 'sublime', { options: ['sublime', 'emacs', 'vim'] });\nexport const ROWS_PER_PAGE = create('per-page', 100, { options: [10, 25, 50, 100], parseJSON });\nexport const LOGS_WRAP = create('logs-wrap', true, { parseJSON });\nexport const LOGS_TIME = create('logs-time', true, { parseJSON });\nexport const LOGS_RANGE = create('logs-range', '30 minutes', { parseJSON });\nexport const HIDE_REPOS = create('hide-repos', [], { parseJSON });\nexport const HIDE_DESC = create('hide-desc', [], { parseJSON });\nexport const HIDE_SENSITIVE = create('hide-sensitive', true, { options: [true, false], parseJSON });\nexport const SHOW_PRE_RELEASE = create('show-pre-release', false, { options: [false, true], parseJSON });\nexport const SHOW_CHART_MODE = create('chart-mode', 'featured', { parseJSON });\n\nexport const DATE_FORMAT = create('date-format', 'ddd, MMM D YYYY', {\n  options: [\n    'ddd, MMM D YYYY',\n    'ddd, D MMM YYYY',\n    'D/M/YYYY',\n    'M/D/YYYY',\n    'YYYY-MM-DD'\n  ]\n});\n\nexport const TIME_FORMAT = create('time-format', 'h:mm:ss a', {\n  options: [\n    'h:mm:ss a',\n    'HH:mm:ss'\n  ]\n});\n\nexport const TIME_ZONE = create('time-zone', 'local');\n// DEV will be deprecated on v2.7.0, but is needed so that we can grab the value for the new settings that derived from it\n// such as: VIEW_IN_API, ALL_NAMESPACES, THEME_SHORTCUT\nexport const DEV = create('dev', false, { parseJSON });\nexport const VIEW_IN_API = create('view-in-api', false, { parseJSON, inheritFrom: DEV });\nexport const ALL_NAMESPACES = create('all-namespaces', false, { parseJSON, inheritFrom: DEV });\nexport const THEME_SHORTCUT = create('theme-shortcut', false, { parseJSON, inheritFrom: DEV });\nexport const LAST_VISITED = create('last-visited', 'home', { parseJSON });\nexport const SEEN_WHATS_NEW = create('seen-whatsnew', '', { parseJSON });\nexport const READ_WHATS_NEW = create('read-whatsnew', '', { parseJSON });\nexport const AFTER_LOGIN_ROUTE = create('after-login-route', 'home', { parseJSON } );\nexport const HIDE_HOME_PAGE_CARDS = create('home-page-cards', {}, { parseJSON } );\nexport const PLUGIN_DEVELOPER = create('plugin-developer', false, { parseJSON, inheritFrom: DEV }); // Is the user a plugin developer?\n\nexport const _RKE1 = 'rke1';\nexport const _RKE2 = 'rke2';\nexport const PROVISIONER = create('provisioner', _RKE2, { options: [_RKE1, _RKE2] });\n\n// Maximum number of clusters to show in the slide-in menu\nexport const MENU_MAX_CLUSTERS = 10;\n// Prompt for confirm when scaling down node pool in GUI and save the pref\nexport const SCALE_POOL_PROMPT = create('scale-pool-prompt', null, { parseJSON });\n// --------------------\n\nconst cookiePrefix = 'R_';\nconst cookieOptions = {\n  maxAge:   365 * 86400,\n  path:     '/',\n  sameSite: true,\n  secure:   true,\n};\n\nexport const state = function() {\n  return {\n    cookiesLoaded: false,\n    data:          {},\n    definitions,\n  };\n};\n\nexport const getters = {\n  get: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    const user = state.data[key];\n\n    if (user !== undefined) {\n      return clone(user);\n    }\n\n    const def = clone(definition.def);\n\n    return def;\n  },\n\n  defaultValue: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    return clone(definition.def);\n  },\n\n  options: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    if (!definition.options) {\n      throw new Error(`Preference does not have options: ${ key }`);\n    }\n\n    return definition.options.slice();\n  },\n\n  theme: (state, getters, rootState, rootGetters) => {\n    const setting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.THEME);\n\n    if (setting?.value) {\n      return setting?.value;\n    }\n\n    let theme = getters['get'](THEME);\n    const pcs = getters['get'](PREFERS_SCHEME);\n\n    // console.log('Get Theme', theme, pcs);\n\n    // Ember UI uses this prefix\n    if ( theme.startsWith('ui-') ) {\n      theme = theme.substr(3);\n    }\n\n    if ( theme === 'auto' ) {\n      if ( pcs === 'light' || pcs === 'dark' ) {\n        return pcs;\n      }\n\n      return 'dark';\n    }\n\n    return theme;\n  },\n\n  afterLoginRoute: (state, getters) => {\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n\n    if (typeof afterLoginRoutePref !== 'string') {\n      return afterLoginRoutePref;\n    }\n\n    switch (true) {\n    case (afterLoginRoutePref === 'home'):\n      return { name: 'home' };\n    case (afterLoginRoutePref === 'last-visited'): {\n      const lastVisitedPref = getters['get'](LAST_VISITED);\n\n      if (lastVisitedPref) {\n        return lastVisitedPref;\n      }\n      const clusterPref = getters['get'](CLUSTER);\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterPref } };\n    }\n    case (!!afterLoginRoutePref.match(/.+-dashboard$/)):\n    {\n      const clusterId = afterLoginRoutePref.split('-dashboard')[0];\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterId } };\n    }\n    default:\n      return { name: afterLoginRoutePref };\n    }\n  }\n};\n\nexport const mutations = {\n  load(state, { key, value }) {\n    Vue.set(state.data, key, value);\n  },\n\n  cookiesLoaded(state) {\n    state.cookiesLoaded = true;\n  },\n\n  reset(state) {\n    for (const key in state.definitions) {\n      if ( state.definitions[key]?.asCookie ) {\n        continue;\n      }\n      delete state.data[key];\n    }\n  },\n\n  setDefinition(state, { name, definition = {} }) {\n    state.definitions[name] = definition;\n  },\n};\n\nexport const actions = {\n  async set({\n    dispatch, commit, rootGetters, state\n  }, opt) {\n    let { key, value } = opt; // eslint-disable-line prefer-const\n    const definition = state.definitions[key];\n    let server;\n\n    if ( opt.val ) {\n      throw new Error('Use value, not val');\n    }\n\n    commit('load', { key, value });\n\n    if ( definition.asCookie ) {\n      const opt = {\n        ...cookieOptions,\n        parseJSON: definition.parseJSON === true\n      };\n\n      this.$cookies.set(`${ cookiePrefix }${ key }`.toUpperCase(), value, opt);\n    }\n\n    if ( definition.asUserPreference ) {\n      const checkLogin = rootGetters['auth/loggedIn'];\n\n      // Check for login status\n      if (!checkLogin) {\n        prefsBeforeLogin[key] = value;\n\n        return;\n      }\n\n      try {\n        server = await dispatch('loadServer', key); // There's no watch on prefs, so get before set...\n\n        if ( server?.data ) {\n          if ( definition.mangleWrite ) {\n            value = definition.mangleWrite(value);\n          }\n\n          if ( definition.parseJSON ) {\n            Vue.set(server.data, key, JSON.stringify(value));\n          } else {\n            Vue.set(server.data, key, value);\n          }\n\n          await server.save({ redirectUnauthorized: false });\n        }\n      } catch (e) {\n        // Well it failed, but not much to do about it...\n\n        // Return the error\n        return { type: e.type, status: e.status };\n      }\n    }\n  },\n\n  async setTheme({ dispatch }, val) {\n    await dispatch('set', { key: THEME, value: val });\n  },\n\n  loadCookies({ state, commit }) {\n    if ( state.cookiesLoaded ) {\n      return;\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n\n      if ( !definition.asCookie ) {\n        continue;\n      }\n\n      const opt = { parseJSON: definition.parseJSON === true };\n      const value = this.$cookies.get(`${ cookiePrefix }${ key }`.toUpperCase(), opt);\n\n      if (value !== undefined) {\n        commit('load', { key, value });\n      }\n    }\n\n    commit('cookiesLoaded');\n  },\n\n  loadTheme({ dispatch }) {\n    const watchDark = window.matchMedia('(prefers-color-scheme: dark)');\n    const watchLight = window.matchMedia('(prefers-color-scheme: light)');\n    const watchNone = window.matchMedia('(prefers-color-scheme: no-preference)');\n\n    const interval = 30 * 60 * 1000;\n    const nextHalfHour = interval - Math.round(new Date().getTime()) % interval;\n\n    setTimeout(() => {\n      dispatch('loadTheme');\n    }, nextHalfHour);\n    // console.log('Update theme in', nextHalfHour, 'ms');\n\n    if ( watchDark.matches ) {\n      changed('dark');\n    } else if ( watchLight.matches ) {\n      changed('light');\n    } else {\n      changed(fromClock());\n    }\n\n    watchDark.addListener((e) => {\n      if ( e.matches ) {\n        changed('dark');\n      }\n    });\n\n    watchLight.addListener((e) => {\n      if ( e.matches ) {\n        changed('light');\n      }\n    });\n\n    watchNone.addListener((e) => {\n      if ( e.matches ) {\n        changed(fromClock());\n      }\n    });\n\n    function changed(value) {\n      // console.log('Prefers Theme:', value);\n      dispatch('set', { key: PREFERS_SCHEME, value });\n    }\n\n    function fromClock() {\n      const hour = new Date().getHours();\n\n      if ( hour < 7 || hour >= 18 ) {\n        return 'dark';\n      }\n\n      return 'light';\n    }\n  },\n\n  async loadServer( {\n    state, dispatch, commit, rootState, rootGetters\n  }, ignoreKey) {\n    let server = { data: {} };\n\n    try {\n      const all = await dispatch('management/findAll', {\n        type: STEVE.PREFERENCE,\n        opt:  {\n          url:                  'userpreferences',\n          force:                true,\n          watch:                false,\n          redirectUnauthorized: false,\n          stream:               false,\n        }\n      }, { root: true });\n\n      server = all?.[0];\n    } catch (e) {\n      console.error('Error loading preferences', e); // eslint-disable-line no-console\n\n      return;\n    }\n\n    if ( !server?.data ) {\n      return;\n    }\n\n    // if prefsBeforeLogin has values from login page, update the backend\n    if (Object.keys(prefsBeforeLogin).length > 0) {\n      Object.keys(prefsBeforeLogin).forEach((key) => {\n        server.data[key] = prefsBeforeLogin[key];\n      });\n\n      await server.save({ redirectUnauthorized: false });\n\n      // Clear prefsBeforeLogin, as we have now saved theses\n      prefsBeforeLogin = {};\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n      let value = clone(server.data[key]);\n\n      if (value === undefined && definition.inheritFrom) {\n        value = clone(server.data[definition.inheritFrom]);\n      }\n\n      if ( value === undefined || key === ignoreKey) {\n        continue;\n      }\n\n      if ( definition.parseJSON ) {\n        try {\n          value = JSON.parse(value);\n        } catch (err) {\n          console.error('Error parsing server pref', key, value, err); // eslint-disable-line no-console\n          continue;\n        }\n      }\n\n      if ( definition.mangleRead ) {\n        value = definition.mangleRead(value);\n      }\n\n      commit('load', { key, value });\n    }\n\n    return server;\n  },\n\n  setLastVisited({ state, dispatch, getters }, route) {\n    if (!route) {\n      return;\n    }\n\n    // Only save the last visited page if the user has that set as the login route preference\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n    const doNotTrackLastVisited = typeof afterLoginRoutePref !== 'string' || afterLoginRoutePref !== 'last-visited';\n\n    if (doNotTrackLastVisited) {\n      return;\n    }\n\n    const toSave = getLoginRoute(route);\n\n    return dispatch('set', { key: LAST_VISITED, value: toSave });\n  },\n\n  toggleTheme({ getters, dispatch }) {\n    const value = getters[THEME] === 'light' ? 'dark' : 'light';\n\n    return dispatch('set', { key: THEME, value });\n  },\n\n  setBrandStyle({ rootState, rootGetters }, dark = false) {\n    if (rootState.managementReady) {\n      try {\n        const brandSetting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n\n        if (brandSetting && brandSetting.value && brandSetting.value !== '') {\n          const brand = brandSetting.value;\n\n          const brandMeta = require(`~shell/assets/brand/${ brand }/metadata.json`);\n          const hasStylesheet = brandMeta.hasStylesheet === 'true';\n\n          if (hasStylesheet) {\n            document.body.classList.add(brand);\n          } else {\n            // TODO option apply color at runtime\n          }\n        }\n      } catch {}\n    }\n  }\n};\n\nfunction getLoginRoute(route) {\n  let parts = route.name?.split('-') || [];\n  const params = {};\n  const routeParams = route.params || {};\n\n  // Find the 'resource' part of the route, if it is there\n  const index = parts.findIndex((p) => p === 'resource');\n\n  if (index >= 0) {\n    parts = parts.slice(0, index);\n  }\n\n  // Just keep the params that are needed\n  parts.forEach((param) => {\n    if (routeParams[param]) {\n      params[param] = routeParams[param];\n    }\n  });\n\n  return {\n    name: parts.join('-'),\n    params\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,EAAEC,KAAK,QAAQ,qBAAqB;AACvD,SAASC,KAAK,QAAQ,qBAAqB;AAC3C,OAAOC,GAAG,MAAM,KAAK;AAErB,IAAMC,WAAW,GAAG,CAAC,CAAC;AACtB;AACA;AACA;AACA;AACA,IAAIC,gBAAgB,GAAG,CAAC,CAAC;AAEzB,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAYC,IAAI,EAAEC,GAAG,EAAY;EAAA,IAAVC,GAAG,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAChD,IAAMG,SAAS,GAAGJ,GAAG,CAACI,SAAS,KAAK,IAAI;EACxC,IAAMC,QAAQ,GAAGL,GAAG,CAACK,QAAQ,KAAK,IAAI;EACtC,IAAMC,gBAAgB,GAAGN,GAAG,CAACM,gBAAgB,KAAK,KAAK;EACvD,IAAMC,OAAO,GAAGP,GAAG,CAACO,OAAO;EAC3B,IAAMC,WAAW,GAAGR,GAAG,CAACQ,WAAW;EAEnCb,WAAW,CAACG,IAAI,CAAC,GAAG;IAClBC,GAAG,EAAHA,GAAG;IACHQ,OAAO,EAAPA,OAAO;IACPH,SAAS,EAATA,SAAS;IACTC,QAAQ,EAARA,QAAQ;IACRC,gBAAgB,EAAhBA,gBAAgB;IAChBE,WAAW,EAAXA,WAAW;IAAE;IACbC,UAAU,EAAGT,GAAG,CAACS,UAAU;IAAE;IAC7BC,WAAW,EAAEV,GAAG,CAACU,WAAW,CAAE;EAChC,CAAC;EAED,OAAOZ,IAAI;AACb,CAAC;AAED,OAAO,IAAMa,OAAO,GAAG,SAAVA,OAAOA,CAAYb,IAAI,EAAE;EACpC,OAAO;IACLc,GAAG,WAAHA,GAAGA,CAAA,EAAG;MACJ,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,WAAW,CAAC,CAAChB,IAAI,CAAC;IAC/C,CAAC;IAEDiB,GAAG,WAAHA,GAAGA,CAACC,KAAK,EAAE;MACT,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,WAAW,EAAE;QAAEC,GAAG,EAAEpB,IAAI;QAAEkB,KAAK,EAALA;MAAM,CAAC,CAAC;IACzD;EACF,CAAC;AACH,CAAC;;AAED;AACA,IAAMZ,SAAS,GAAG,IAAI,CAAC,CAAC;AACxB,IAAMC,QAAQ,GAAG,IAAI,CAAC,CAAC;;AAEvB;AACA,OAAO,IAAMc,OAAO,GAAGtB,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;AAC5C,OAAO,IAAMuB,cAAc,GAAGvB,MAAM,CAAC,gBAAgB,EAAE,EAAE,CAAC;AAC1D,OAAO,IAAMwB,iBAAiB,GAAGxB,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAC3E,OAAO,IAAMkB,SAAS,GAAGzB,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC;AAChD,OAAO,IAAM0B,eAAe,GAAG1B,MAAM,CAAC,aAAa,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,EAAE,SAAS,EAAE,UAAU,CAAC,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAC7I,OAAO,IAAMoB,cAAc,GAAG3B,MAAM,CAAC,UAAU,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACnE,OAAO,IAAMqB,eAAe,GAAG5B,MAAM,CAAC,iBAAiB,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAC3E,OAAO,IAAMsB,eAAe,GAAG7B,MAAM,CAAC,UAAU,EAAE,WAAW,CAAC;AAC9D,OAAO,IAAM8B,IAAI,GAAG9B,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE;EAAEU,OAAO,EAAE,CAAC,SAAS,EAAE,OAAO;AAAE,CAAC,CAAC;AAChF,OAAO,IAAMqB,KAAK,GAAG/B,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE;EAC3CU,OAAO,EAAM,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC;EACtCF,QAAQ,EAARA,QAAQ;EACRD,SAAS,EAATA,SAAS;EACTK,UAAU,EAAG,SAAbA,UAAUA,CAAIoB,CAAC;IAAA,OAAKA,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EAAA;EACzCpB,WAAW,EAAE,SAAbA,WAAWA,CAAGmB,CAAC;IAAA,aAAAE,MAAA,CAAYF,CAAC;EAAA;AAC9B,CAAC,CAAC;AACF,OAAO,IAAMG,cAAc,GAAGnC,MAAM,CAAC,KAAK,EAAE,EAAE,EAAE;EAAEQ,QAAQ,EAARA,QAAQ;EAAEC,gBAAgB,EAAE;AAAM,CAAC,CAAC;AACtF,OAAO,IAAM2B,MAAM,GAAGpC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE;EAAEQ,QAAQ,EAARA;AAAS,CAAC,CAAC;AAC7D,OAAO,IAAM6B,MAAM,GAAGrC,MAAM,CAAC,QAAQ,EAAE,SAAS,EAAE;EAAEU,OAAO,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,KAAK;AAAE,CAAC,CAAC;AAC3F,OAAO,IAAM4B,aAAa,GAAGtC,MAAM,CAAC,UAAU,EAAE,GAAG,EAAE;EAAEU,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;EAAEH,SAAS,EAATA;AAAU,CAAC,CAAC;AAC/F,OAAO,IAAMgC,SAAS,GAAGvC,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACjE,OAAO,IAAMiC,SAAS,GAAGxC,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACjE,OAAO,IAAMkC,UAAU,GAAGzC,MAAM,CAAC,YAAY,EAAE,YAAY,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAC3E,OAAO,IAAMmC,UAAU,GAAG1C,MAAM,CAAC,YAAY,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACjE,OAAO,IAAMoC,SAAS,GAAG3C,MAAM,CAAC,WAAW,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAC/D,OAAO,IAAMqC,cAAc,GAAG5C,MAAM,CAAC,gBAAgB,EAAE,IAAI,EAAE;EAAEU,OAAO,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;EAAEH,SAAS,EAATA;AAAU,CAAC,CAAC;AACnG,OAAO,IAAMsC,gBAAgB,GAAG7C,MAAM,CAAC,kBAAkB,EAAE,KAAK,EAAE;EAAEU,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;EAAEH,SAAS,EAATA;AAAU,CAAC,CAAC;AACxG,OAAO,IAAMuC,eAAe,GAAG9C,MAAM,CAAC,YAAY,EAAE,UAAU,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AAE9E,OAAO,IAAMwC,WAAW,GAAG/C,MAAM,CAAC,aAAa,EAAE,iBAAiB,EAAE;EAClEU,OAAO,EAAE,CACP,iBAAiB,EACjB,iBAAiB,EACjB,UAAU,EACV,UAAU,EACV,YAAY;AAEhB,CAAC,CAAC;AAEF,OAAO,IAAMsC,WAAW,GAAGhD,MAAM,CAAC,aAAa,EAAE,WAAW,EAAE;EAC5DU,OAAO,EAAE,CACP,WAAW,EACX,UAAU;AAEd,CAAC,CAAC;AAEF,OAAO,IAAMuC,SAAS,GAAGjD,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC;AACrD;AACA;AACA,OAAO,IAAMkD,GAAG,GAAGlD,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACtD,OAAO,IAAM4C,WAAW,GAAGnD,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE;EAAEO,SAAS,EAATA,SAAS;EAAEI,WAAW,EAAEuC;AAAI,CAAC,CAAC;AACxF,OAAO,IAAME,cAAc,GAAGpD,MAAM,CAAC,gBAAgB,EAAE,KAAK,EAAE;EAAEO,SAAS,EAATA,SAAS;EAAEI,WAAW,EAAEuC;AAAI,CAAC,CAAC;AAC9F,OAAO,IAAMG,cAAc,GAAGrD,MAAM,CAAC,gBAAgB,EAAE,KAAK,EAAE;EAAEO,SAAS,EAATA,SAAS;EAAEI,WAAW,EAAEuC;AAAI,CAAC,CAAC;AAC9F,OAAO,IAAMI,YAAY,GAAGtD,MAAM,CAAC,cAAc,EAAE,MAAM,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACzE,OAAO,IAAMgD,cAAc,GAAGvD,MAAM,CAAC,eAAe,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACxE,OAAO,IAAMiD,cAAc,GAAGxD,MAAM,CAAC,eAAe,EAAE,EAAE,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACxE,OAAO,IAAMkD,iBAAiB,GAAGzD,MAAM,CAAC,mBAAmB,EAAE,MAAM,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAE,CAAC;AACpF,OAAO,IAAMmD,oBAAoB,GAAG1D,MAAM,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAE,CAAC;AACjF,OAAO,IAAMoD,gBAAgB,GAAG3D,MAAM,CAAC,kBAAkB,EAAE,KAAK,EAAE;EAAEO,SAAS,EAATA,SAAS;EAAEI,WAAW,EAAEuC;AAAI,CAAC,CAAC,CAAC,CAAC;;AAEpG,OAAO,IAAMU,KAAK,GAAG,MAAM;AAC3B,OAAO,IAAMC,KAAK,GAAG,MAAM;AAC3B,OAAO,IAAMC,WAAW,GAAG9D,MAAM,CAAC,aAAa,EAAE6D,KAAK,EAAE;EAAEnD,OAAO,EAAE,CAACkD,KAAK,EAAEC,KAAK;AAAE,CAAC,CAAC;;AAEpF;AACA,OAAO,IAAME,iBAAiB,GAAG,EAAE;AACnC;AACA,OAAO,IAAMC,iBAAiB,GAAGhE,MAAM,CAAC,mBAAmB,EAAE,IAAI,EAAE;EAAEO,SAAS,EAATA;AAAU,CAAC,CAAC;AACjF;;AAEA,IAAM0D,YAAY,GAAG,IAAI;AACzB,IAAMC,aAAa,GAAG;EACpBC,MAAM,EAAI,GAAG,GAAG,KAAK;EACrBC,IAAI,EAAM,GAAG;EACbC,QAAQ,EAAE,IAAI;EACdC,MAAM,EAAI;AACZ,CAAC;AAED,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAA,EAAc;EAC9B,OAAO;IACLC,aAAa,EAAE,KAAK;IACpBC,IAAI,EAAW,CAAC,CAAC;IACjB3E,WAAW,EAAXA;EACF,CAAC;AACH,CAAC;AAED,OAAO,IAAMmB,OAAO,GAAG;EACrBF,GAAG,EAAE,SAALA,GAAGA,CAAGwD,KAAK;IAAA,OAAK,UAAClD,GAAG,EAAK;MACvB,IAAMqD,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;MAEzC,IAAI,CAACqD,UAAU,EAAE;QACf,MAAM,IAAIC,KAAK,wBAAAzC,MAAA,CAAyBb,GAAG,CAAG,CAAC;MACjD;MAEA,IAAMuD,IAAI,GAAGL,KAAK,CAACE,IAAI,CAACpD,GAAG,CAAC;MAE5B,IAAIuD,IAAI,KAAKtE,SAAS,EAAE;QACtB,OAAOV,KAAK,CAACgF,IAAI,CAAC;MACpB;MAEA,IAAM1E,GAAG,GAAGN,KAAK,CAAC8E,UAAU,CAACxE,GAAG,CAAC;MAEjC,OAAOA,GAAG;IACZ,CAAC;EAAA;EAED2E,YAAY,EAAE,SAAdA,YAAYA,CAAGN,KAAK;IAAA,OAAK,UAAClD,GAAG,EAAK;MAChC,IAAMqD,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;MAEzC,IAAI,CAACqD,UAAU,EAAE;QACf,MAAM,IAAIC,KAAK,wBAAAzC,MAAA,CAAyBb,GAAG,CAAG,CAAC;MACjD;MAEA,OAAOzB,KAAK,CAAC8E,UAAU,CAACxE,GAAG,CAAC;IAC9B,CAAC;EAAA;EAEDQ,OAAO,EAAE,SAATA,OAAOA,CAAG6D,KAAK;IAAA,OAAK,UAAClD,GAAG,EAAK;MAC3B,IAAMqD,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;MAEzC,IAAI,CAACqD,UAAU,EAAE;QACf,MAAM,IAAIC,KAAK,wBAAAzC,MAAA,CAAyBb,GAAG,CAAG,CAAC;MACjD;MAEA,IAAI,CAACqD,UAAU,CAAChE,OAAO,EAAE;QACvB,MAAM,IAAIiE,KAAK,sCAAAzC,MAAA,CAAuCb,GAAG,CAAG,CAAC;MAC/D;MAEA,OAAOqD,UAAU,CAAChE,OAAO,CAACoE,KAAK,CAAC,CAAC;IACnC,CAAC;EAAA;EAEDC,KAAK,EAAE,SAAPA,KAAKA,CAAGR,KAAK,EAAEtD,OAAO,EAAE+D,SAAS,EAAEC,WAAW,EAAK;IACjD,IAAMC,OAAO,GAAGD,WAAW,CAAC,iBAAiB,CAAC,CAACvF,UAAU,CAACD,OAAO,EAAEA,OAAO,CAACsC,KAAK,CAAC;IAEjF,IAAImD,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAE/D,KAAK,EAAE;MAClB,OAAO+D,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE/D,KAAK;IACvB;IAEA,IAAI4D,KAAK,GAAG9D,OAAO,CAAC,KAAK,CAAC,CAACc,KAAK,CAAC;IACjC,IAAMoD,GAAG,GAAGlE,OAAO,CAAC,KAAK,CAAC,CAACkB,cAAc,CAAC;;IAE1C;;IAEA;IACA,IAAK4C,KAAK,CAACK,UAAU,CAAC,KAAK,CAAC,EAAG;MAC7BL,KAAK,GAAGA,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC;IACzB;IAEA,IAAKN,KAAK,KAAK,MAAM,EAAG;MACtB,IAAKI,GAAG,KAAK,OAAO,IAAIA,GAAG,KAAK,MAAM,EAAG;QACvC,OAAOA,GAAG;MACZ;MAEA,OAAO,MAAM;IACf;IAEA,OAAOJ,KAAK;EACd,CAAC;EAEDO,eAAe,EAAE,SAAjBA,eAAeA,CAAGf,KAAK,EAAEtD,OAAO,EAAK;IACnC,IAAMsE,mBAAmB,GAAGtE,OAAO,CAAC,KAAK,CAAC,CAACwC,iBAAiB,CAAC;IAE7D,IAAI,OAAO8B,mBAAmB,KAAK,QAAQ,EAAE;MAC3C,OAAOA,mBAAmB;IAC5B;IAEA,QAAQ,IAAI;MACZ,KAAMA,mBAAmB,KAAK,MAAM;QAClC,OAAO;UAAEtF,IAAI,EAAE;QAAO,CAAC;MACzB,KAAMsF,mBAAmB,KAAK,cAAc;QAAG;UAC7C,IAAMC,eAAe,GAAGvE,OAAO,CAAC,KAAK,CAAC,CAACqC,YAAY,CAAC;UAEpD,IAAIkC,eAAe,EAAE;YACnB,OAAOA,eAAe;UACxB;UACA,IAAMC,WAAW,GAAGxE,OAAO,CAAC,KAAK,CAAC,CAACK,OAAO,CAAC;UAE3C,OAAO;YAAErB,IAAI,EAAE,oBAAoB;YAAEyF,MAAM,EAAE;cAAEC,OAAO,EAAE,UAAU;cAAEC,OAAO,EAAEH;YAAY;UAAE,CAAC;QAC9F;MACA,KAAM,CAAC,CAACF,mBAAmB,CAACM,KAAK,CAAC,eAAe,CAAC;QAClD;UACE,IAAMC,SAAS,GAAGP,mBAAmB,CAACQ,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;UAE5D,OAAO;YAAE9F,IAAI,EAAE,oBAAoB;YAAEyF,MAAM,EAAE;cAAEC,OAAO,EAAE,UAAU;cAAEC,OAAO,EAAEE;YAAU;UAAE,CAAC;QAC5F;MACA;QACE,OAAO;UAAE7F,IAAI,EAAEsF;QAAoB,CAAC;IACtC;EACF;AACF,CAAC;AAED,OAAO,IAAMS,SAAS,GAAG;EACvBC,IAAI,WAAJA,IAAIA,CAAC1B,KAAK,EAAA2B,IAAA,EAAkB;IAAA,IAAd7E,GAAG,GAAA6E,IAAA,CAAH7E,GAAG;MAAEF,KAAK,GAAA+E,IAAA,CAAL/E,KAAK;IACtBtB,GAAG,CAACqB,GAAG,CAACqD,KAAK,CAACE,IAAI,EAAEpD,GAAG,EAAEF,KAAK,CAAC;EACjC,CAAC;EAEDqD,aAAa,WAAbA,aAAaA,CAACD,KAAK,EAAE;IACnBA,KAAK,CAACC,aAAa,GAAG,IAAI;EAC5B,CAAC;EAED2B,KAAK,WAALA,KAAKA,CAAC5B,KAAK,EAAE;IACX,KAAK,IAAMlD,GAAG,IAAIkD,KAAK,CAACzE,WAAW,EAAE;MAAA,IAAAsG,qBAAA;MACnC,KAAAA,qBAAA,GAAK7B,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC,cAAA+E,qBAAA,eAAtBA,qBAAA,CAAwB5F,QAAQ,EAAG;QACtC;MACF;MACA,OAAO+D,KAAK,CAACE,IAAI,CAACpD,GAAG,CAAC;IACxB;EACF,CAAC;EAEDgF,aAAa,WAAbA,aAAaA,CAAC9B,KAAK,EAAA+B,KAAA,EAA6B;IAAA,IAAzBrG,IAAI,GAAAqG,KAAA,CAAJrG,IAAI;MAAAsG,gBAAA,GAAAD,KAAA,CAAE5B,UAAU;MAAVA,UAAU,GAAA6B,gBAAA,cAAG,CAAC,CAAC,GAAAA,gBAAA;IAC1ChC,KAAK,CAACzE,WAAW,CAACG,IAAI,CAAC,GAAGyE,UAAU;EACtC;AACF,CAAC;AAED,OAAO,IAAM8B,OAAO,GAAG;EACftF,GAAG,WAAHA,GAAGA,CAAAuF,KAAA,EAENtG,GAAG,EAAE;IAAA,IAAAuG,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAA1F,QAAA,EAAA2F,MAAA,EAAA9B,WAAA,EAAAV,KAAA,EAAAlD,GAAA,EAAAF,KAAA,EAAAuD,UAAA,EAAAsC,MAAA,EAAAC,IAAA,EAAAC,UAAA,EAAAC,OAAA;MAAA,OAAAP,mBAAA,CAAAQ,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YADNpG,QAAQ,GAAAqF,KAAA,CAARrF,QAAQ,EAAE2F,MAAM,GAAAN,KAAA,CAANM,MAAM,EAAE9B,WAAW,GAAAwB,KAAA,CAAXxB,WAAW,EAAEV,KAAK,GAAAkC,KAAA,CAALlC,KAAK;YAE9BlD,GAAG,GAAYlB,GAAG,CAAlBkB,GAAG,EAAEF,KAAK,GAAKhB,GAAG,CAAbgB,KAAK,EAAU;YACpBuD,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;YAAA,KAGpClB,GAAG,CAACsH,GAAG;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,MACJ,IAAI7C,KAAK,CAAC,oBAAoB,CAAC;UAAA;YAGvCoC,MAAM,CAAC,MAAM,EAAE;cAAE1F,GAAG,EAAHA,GAAG;cAAEF,KAAK,EAALA;YAAM,CAAC,CAAC;YAE9B,IAAKuD,UAAU,CAAClE,QAAQ,EAAG;cACnBL,IAAG,GAAAuH,aAAA,CAAAA,aAAA,KACJxD,aAAa;gBAChB3D,SAAS,EAAEmE,UAAU,CAACnE,SAAS,KAAK;cAAI;cAG1CmG,KAAI,CAACiB,QAAQ,CAACzG,GAAG,CAAC,GAAAgB,MAAA,CAAI+B,YAAY,EAAA/B,MAAA,CAAKb,GAAG,EAAIuG,WAAW,CAAC,CAAC,EAAEzG,KAAK,EAAEhB,IAAG,CAAC;YAC1E;YAAC,KAEIuE,UAAU,CAACjE,gBAAgB;cAAA6G,QAAA,CAAAE,IAAA;cAAA;YAAA;YACxBN,UAAU,GAAGjC,WAAW,CAAC,eAAe,CAAC,EAE/C;YAAA,IACKiC,UAAU;cAAAI,QAAA,CAAAE,IAAA;cAAA;YAAA;YACbzH,gBAAgB,CAACsB,GAAG,CAAC,GAAGF,KAAK;YAAC,OAAAmG,QAAA,CAAAO,MAAA;UAAA;YAAAP,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAMfpG,QAAQ,CAAC,YAAY,EAAEC,GAAG,CAAC;UAAA;YAA1C2F,MAAM,GAAAM,QAAA,CAAAQ,IAAA;YAAA,OAAAX,OAAA,GAEDH,MAAM,cAAAG,OAAA,eAANA,OAAA,CAAQ1C,IAAI;cAAA6C,QAAA,CAAAE,IAAA;cAAA;YAAA;YACf,IAAK9C,UAAU,CAAC7D,WAAW,EAAG;cAC5BM,KAAK,GAAGuD,UAAU,CAAC7D,WAAW,CAACM,KAAK,CAAC;YACvC;YAEA,IAAKuD,UAAU,CAACnE,SAAS,EAAG;cAC1BV,GAAG,CAACqB,GAAG,CAAC8F,MAAM,CAACvC,IAAI,EAAEpD,GAAG,EAAE0G,IAAI,CAACC,SAAS,CAAC7G,KAAK,CAAC,CAAC;YAClD,CAAC,MAAM;cACLtB,GAAG,CAACqB,GAAG,CAAC8F,MAAM,CAACvC,IAAI,EAAEpD,GAAG,EAAEF,KAAK,CAAC;YAClC;YAACmG,QAAA,CAAAE,IAAA;YAAA,OAEKR,MAAM,CAACiB,IAAI,CAAC;cAAEC,oBAAoB,EAAE;YAAM,CAAC,CAAC;UAAA;YAAAZ,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAa,EAAA,GAAAb,QAAA;YAAA,OAAAA,QAAA,CAAAO,MAAA,WAM7C;cAAEO,IAAI,EAAEd,QAAA,CAAAa,EAAA,CAAEC,IAAI;cAAEC,MAAM,EAAEf,QAAA,CAAAa,EAAA,CAAEE;YAAO,CAAC;UAAA;UAAA;YAAA,OAAAf,QAAA,CAAAgB,IAAA;QAAA;MAAA,GAAAxB,OAAA;IAAA;EAG/C,CAAC;EAEKyB,QAAQ,WAARA,QAAQA,CAAAC,KAAA,EAAef,GAAG,EAAE;IAAA,OAAAd,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAA4B,SAAA;MAAA,IAAArH,QAAA;MAAA,OAAAwF,mBAAA,CAAAQ,IAAA,UAAAsB,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAApB,IAAA,GAAAoB,SAAA,CAAAnB,IAAA;UAAA;YAAjBpG,QAAQ,GAAAoH,KAAA,CAARpH,QAAQ;YAAAuH,SAAA,CAAAnB,IAAA;YAAA,OACjBpG,QAAQ,CAAC,KAAK,EAAE;cAAEC,GAAG,EAAEU,KAAK;cAAEZ,KAAK,EAAEsG;YAAI,CAAC,CAAC;UAAA;UAAA;YAAA,OAAAkB,SAAA,CAAAL,IAAA;QAAA;MAAA,GAAAG,QAAA;IAAA;EACnD,CAAC;EAEDG,WAAW,WAAXA,WAAWA,CAAAC,KAAA,EAAoB;IAAA,IAAjBtE,KAAK,GAAAsE,KAAA,CAALtE,KAAK;MAAEwC,MAAM,GAAA8B,KAAA,CAAN9B,MAAM;IACzB,IAAKxC,KAAK,CAACC,aAAa,EAAG;MACzB;IACF;IAEA,KAAK,IAAMnD,GAAG,IAAIkD,KAAK,CAACzE,WAAW,EAAE;MACnC,IAAM4E,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;MAEzC,IAAK,CAACqD,UAAU,CAAClE,QAAQ,EAAG;QAC1B;MACF;MAEA,IAAML,GAAG,GAAG;QAAEI,SAAS,EAAEmE,UAAU,CAACnE,SAAS,KAAK;MAAK,CAAC;MACxD,IAAMY,KAAK,GAAG,IAAI,CAACwG,QAAQ,CAAC5G,GAAG,CAAC,GAAAmB,MAAA,CAAI+B,YAAY,EAAA/B,MAAA,CAAKb,GAAG,EAAIuG,WAAW,CAAC,CAAC,EAAEzH,GAAG,CAAC;MAE/E,IAAIgB,KAAK,KAAKb,SAAS,EAAE;QACvByG,MAAM,CAAC,MAAM,EAAE;UAAE1F,GAAG,EAAHA,GAAG;UAAEF,KAAK,EAALA;QAAM,CAAC,CAAC;MAChC;IACF;IAEA4F,MAAM,CAAC,eAAe,CAAC;EACzB,CAAC;EAED+B,SAAS,WAATA,SAASA,CAAAC,KAAA,EAAe;IAAA,IAAZ3H,QAAQ,GAAA2H,KAAA,CAAR3H,QAAQ;IAClB,IAAM4H,SAAS,GAAGC,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;IACnE,IAAMC,UAAU,GAAGF,MAAM,CAACC,UAAU,CAAC,+BAA+B,CAAC;IACrE,IAAME,SAAS,GAAGH,MAAM,CAACC,UAAU,CAAC,uCAAuC,CAAC;IAE5E,IAAMG,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;IAC/B,IAAMC,YAAY,GAAGD,QAAQ,GAAGE,IAAI,CAACC,KAAK,CAAC,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,GAAGL,QAAQ;IAE3EM,UAAU,CAAC,YAAM;MACfvI,QAAQ,CAAC,WAAW,CAAC;IACvB,CAAC,EAAEkI,YAAY,CAAC;IAChB;;IAEA,IAAKN,SAAS,CAACY,OAAO,EAAG;MACvBC,OAAO,CAAC,MAAM,CAAC;IACjB,CAAC,MAAM,IAAKV,UAAU,CAACS,OAAO,EAAG;MAC/BC,OAAO,CAAC,OAAO,CAAC;IAClB,CAAC,MAAM;MACLA,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC;IACtB;IAEAd,SAAS,CAACe,WAAW,CAAC,UAACC,CAAC,EAAK;MAC3B,IAAKA,CAAC,CAACJ,OAAO,EAAG;QACfC,OAAO,CAAC,MAAM,CAAC;MACjB;IACF,CAAC,CAAC;IAEFV,UAAU,CAACY,WAAW,CAAC,UAACC,CAAC,EAAK;MAC5B,IAAKA,CAAC,CAACJ,OAAO,EAAG;QACfC,OAAO,CAAC,OAAO,CAAC;MAClB;IACF,CAAC,CAAC;IAEFT,SAAS,CAACW,WAAW,CAAC,UAACC,CAAC,EAAK;MAC3B,IAAKA,CAAC,CAACJ,OAAO,EAAG;QACfC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC;MACtB;IACF,CAAC,CAAC;IAEF,SAASD,OAAOA,CAAC1I,KAAK,EAAE;MACtB;MACAC,QAAQ,CAAC,KAAK,EAAE;QAAEC,GAAG,EAAEc,cAAc;QAAEhB,KAAK,EAALA;MAAM,CAAC,CAAC;IACjD;IAEA,SAAS2I,SAASA,CAAA,EAAG;MACnB,IAAMG,IAAI,GAAG,IAAIR,IAAI,CAAC,CAAC,CAACS,QAAQ,CAAC,CAAC;MAElC,IAAKD,IAAI,GAAG,CAAC,IAAIA,IAAI,IAAI,EAAE,EAAG;QAC5B,OAAO,MAAM;MACf;MAEA,OAAO,OAAO;IAChB;EACF,CAAC;EAEKE,UAAU,WAAVA,UAAUA,CAAAC,KAAA,EAEbC,SAAS,EAAE;IAAA,OAAA1D,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAyD,SAAA;MAAA,IAAAC,QAAA;MAAA,IAAAhG,KAAA,EAAAnD,QAAA,EAAA2F,MAAA,EAAA/B,SAAA,EAAAC,WAAA,EAAA+B,MAAA,EAAAwD,GAAA,EAAAnJ,GAAA,EAAAqD,UAAA,EAAAvD,KAAA;MAAA,OAAAyF,mBAAA,CAAAQ,IAAA,UAAAqD,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAAnD,IAAA,GAAAmD,SAAA,CAAAlD,IAAA;UAAA;YADZjD,KAAK,GAAA6F,KAAA,CAAL7F,KAAK,EAAEnD,QAAQ,GAAAgJ,KAAA,CAARhJ,QAAQ,EAAE2F,MAAM,GAAAqD,KAAA,CAANrD,MAAM,EAAE/B,SAAS,GAAAoF,KAAA,CAATpF,SAAS,EAAEC,WAAW,GAAAmF,KAAA,CAAXnF,WAAW;YAE3C+B,MAAM,GAAG;cAAEvC,IAAI,EAAE,CAAC;YAAE,CAAC;YAAAiG,SAAA,CAAAnD,IAAA;YAAAmD,SAAA,CAAAlD,IAAA;YAAA,OAGLpG,QAAQ,CAAC,oBAAoB,EAAE;cAC/CgH,IAAI,EAAEzI,KAAK,CAACgL,UAAU;cACtBxK,GAAG,EAAG;gBACJyK,GAAG,EAAmB,iBAAiB;gBACvCC,KAAK,EAAiB,IAAI;gBAC1BC,KAAK,EAAiB,KAAK;gBAC3B5C,oBAAoB,EAAE,KAAK;gBAC3B6C,MAAM,EAAgB;cACxB;YACF,CAAC,EAAE;cAAEC,IAAI,EAAE;YAAK,CAAC,CAAC;UAAA;YATZR,GAAG,GAAAE,SAAA,CAAA5C,IAAA;YAWTd,MAAM,GAAGwD,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAG,CAAC,CAAC;YAACE,SAAA,CAAAlD,IAAA;YAAA;UAAA;YAAAkD,SAAA,CAAAnD,IAAA;YAAAmD,SAAA,CAAAvC,EAAA,GAAAuC,SAAA;YAElBO,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAAR,SAAA,CAAAvC,EAAG,CAAC,CAAC,CAAC;YAAA,OAAAuC,SAAA,CAAA7C,MAAA;UAAA;YAAA,KAAA0C,QAAA,GAK3CvD,MAAM,cAAAuD,QAAA,eAANA,QAAA,CAAQ9F,IAAI;cAAAiG,SAAA,CAAAlD,IAAA;cAAA;YAAA;YAAA,OAAAkD,SAAA,CAAA7C,MAAA;UAAA;YAAA,MAKdsD,MAAM,CAACC,IAAI,CAACrL,gBAAgB,CAAC,CAACM,MAAM,GAAG,CAAC;cAAAqK,SAAA,CAAAlD,IAAA;cAAA;YAAA;YAC1C2D,MAAM,CAACC,IAAI,CAACrL,gBAAgB,CAAC,CAACsL,OAAO,CAAC,UAAChK,GAAG,EAAK;cAC7C2F,MAAM,CAACvC,IAAI,CAACpD,GAAG,CAAC,GAAGtB,gBAAgB,CAACsB,GAAG,CAAC;YAC1C,CAAC,CAAC;YAACqJ,SAAA,CAAAlD,IAAA;YAAA,OAEGR,MAAM,CAACiB,IAAI,CAAC;cAAEC,oBAAoB,EAAE;YAAM,CAAC,CAAC;UAAA;YAElD;YACAnI,gBAAgB,GAAG,CAAC,CAAC;UAAC;YAAA2K,SAAA,CAAAY,EAAA,GAAA1E,mBAAA,CAAAwE,IAAA,CAGN7G,KAAK,CAACzE,WAAW;UAAA;YAAA,KAAA4K,SAAA,CAAAa,EAAA,GAAAb,SAAA,CAAAY,EAAA,IAAAE,IAAA;cAAAd,SAAA,CAAAlD,IAAA;cAAA;YAAA;YAAxBnG,GAAG,GAAAqJ,SAAA,CAAAa,EAAA,CAAApK,KAAA;YACNuD,UAAU,GAAGH,KAAK,CAACzE,WAAW,CAACuB,GAAG,CAAC;YACrCF,KAAK,GAAGvB,KAAK,CAACoH,MAAM,CAACvC,IAAI,CAACpD,GAAG,CAAC,CAAC;YAEnC,IAAIF,KAAK,KAAKb,SAAS,IAAIoE,UAAU,CAAC/D,WAAW,EAAE;cACjDQ,KAAK,GAAGvB,KAAK,CAACoH,MAAM,CAACvC,IAAI,CAACC,UAAU,CAAC/D,WAAW,CAAC,CAAC;YACpD;YAAC,MAEIQ,KAAK,KAAKb,SAAS,IAAIe,GAAG,KAAKgJ,SAAS;cAAAK,SAAA,CAAAlD,IAAA;cAAA;YAAA;YAAA,OAAAkD,SAAA,CAAA7C,MAAA;UAAA;YAAA,KAIxCnD,UAAU,CAACnE,SAAS;cAAAmK,SAAA,CAAAlD,IAAA;cAAA;YAAA;YAAAkD,SAAA,CAAAnD,IAAA;YAErBpG,KAAK,GAAG4G,IAAI,CAAC0D,KAAK,CAACtK,KAAK,CAAC;YAACuJ,SAAA,CAAAlD,IAAA;YAAA;UAAA;YAAAkD,SAAA,CAAAnD,IAAA;YAAAmD,SAAA,CAAAgB,EAAA,GAAAhB,SAAA;YAE1BO,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAE7J,GAAG,EAAEF,KAAK,EAAAuJ,SAAA,CAAAgB,EAAK,CAAC,CAAC,CAAC;YAAA,OAAAhB,SAAA,CAAA7C,MAAA;UAAA;YAKjE,IAAKnD,UAAU,CAAC9D,UAAU,EAAG;cAC3BO,KAAK,GAAGuD,UAAU,CAAC9D,UAAU,CAACO,KAAK,CAAC;YACtC;YAEA4F,MAAM,CAAC,MAAM,EAAE;cAAE1F,GAAG,EAAHA,GAAG;cAAEF,KAAK,EAALA;YAAM,CAAC,CAAC;YAACuJ,SAAA,CAAAlD,IAAA;YAAA;UAAA;YAAA,OAAAkD,SAAA,CAAA7C,MAAA,WAG1Bb,MAAM;UAAA;UAAA;YAAA,OAAA0D,SAAA,CAAApC,IAAA;QAAA;MAAA,GAAAgC,QAAA;IAAA;EACf,CAAC;EAEDqB,cAAc,WAAdA,cAAcA,CAAAC,KAAA,EAA+BC,KAAK,EAAE;IAAA,IAAnCtH,KAAK,GAAAqH,KAAA,CAALrH,KAAK;MAAEnD,QAAQ,GAAAwK,KAAA,CAARxK,QAAQ;MAAEH,OAAO,GAAA2K,KAAA,CAAP3K,OAAO;IACvC,IAAI,CAAC4K,KAAK,EAAE;MACV;IACF;;IAEA;IACA,IAAMtG,mBAAmB,GAAGtE,OAAO,CAAC,KAAK,CAAC,CAACwC,iBAAiB,CAAC;IAC7D,IAAMqI,qBAAqB,GAAG,OAAOvG,mBAAmB,KAAK,QAAQ,IAAIA,mBAAmB,KAAK,cAAc;IAE/G,IAAIuG,qBAAqB,EAAE;MACzB;IACF;IAEA,IAAMC,MAAM,GAAGC,aAAa,CAACH,KAAK,CAAC;IAEnC,OAAOzK,QAAQ,CAAC,KAAK,EAAE;MAAEC,GAAG,EAAEiC,YAAY;MAAEnC,KAAK,EAAE4K;IAAO,CAAC,CAAC;EAC9D,CAAC;EAEDE,WAAW,WAAXA,WAAWA,CAAAC,KAAA,EAAwB;IAAA,IAArBjL,OAAO,GAAAiL,KAAA,CAAPjL,OAAO;MAAEG,QAAQ,GAAA8K,KAAA,CAAR9K,QAAQ;IAC7B,IAAMD,KAAK,GAAGF,OAAO,CAACc,KAAK,CAAC,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO;IAE3D,OAAOX,QAAQ,CAAC,KAAK,EAAE;MAAEC,GAAG,EAAEU,KAAK;MAAEZ,KAAK,EAALA;IAAM,CAAC,CAAC;EAC/C,CAAC;EAEDgL,aAAa,WAAbA,aAAaA,CAAAC,MAAA,EAA2C;IAAA,IAAxCpH,SAAS,GAAAoH,MAAA,CAATpH,SAAS;MAAEC,WAAW,GAAAmH,MAAA,CAAXnH,WAAW;IAAA,IAAIoH,IAAI,GAAAjM,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IACpD,IAAI4E,SAAS,CAACsH,eAAe,EAAE;MAC7B,IAAI;QACF,IAAMC,YAAY,GAAGtH,WAAW,CAAC,iBAAiB,CAAC,CAACvF,UAAU,CAACD,OAAO,EAAEA,OAAO,CAAC+M,KAAK,CAAC;QAEtF,IAAID,YAAY,IAAIA,YAAY,CAACpL,KAAK,IAAIoL,YAAY,CAACpL,KAAK,KAAK,EAAE,EAAE;UACnE,IAAMsL,KAAK,GAAGF,YAAY,CAACpL,KAAK;UAEhC,IAAMuL,SAAS,GAAGC,OAAO,wBAAAzK,MAAA,CAAyBuK,KAAK,mBAAiB,CAAC;UACzE,IAAMG,aAAa,GAAGF,SAAS,CAACE,aAAa,KAAK,MAAM;UAExD,IAAIA,aAAa,EAAE;YACjBC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAACP,KAAK,CAAC;UACpC,CAAC,MAAM;YACL;UAAA;QAEJ;MACF,CAAC,CAAC,OAAAQ,OAAA,EAAM,CAAC;IACX;EACF;AACF,CAAC;AAED,SAASjB,aAAaA,CAACH,KAAK,EAAE;EAAA,IAAAqB,WAAA;EAC5B,IAAIC,KAAK,GAAG,EAAAD,WAAA,GAAArB,KAAK,CAAC5L,IAAI,cAAAiN,WAAA,uBAAVA,WAAA,CAAYnH,KAAK,CAAC,GAAG,CAAC,KAAI,EAAE;EACxC,IAAML,MAAM,GAAG,CAAC,CAAC;EACjB,IAAM0H,WAAW,GAAGvB,KAAK,CAACnG,MAAM,IAAI,CAAC,CAAC;;EAEtC;EACA,IAAM2H,KAAK,GAAGF,KAAK,CAACG,SAAS,CAAC,UAACC,CAAC;IAAA,OAAKA,CAAC,KAAK,UAAU;EAAA,EAAC;EAEtD,IAAIF,KAAK,IAAI,CAAC,EAAE;IACdF,KAAK,GAAGA,KAAK,CAACrI,KAAK,CAAC,CAAC,EAAEuI,KAAK,CAAC;EAC/B;;EAEA;EACAF,KAAK,CAAC9B,OAAO,CAAC,UAACmC,KAAK,EAAK;IACvB,IAAIJ,WAAW,CAACI,KAAK,CAAC,EAAE;MACtB9H,MAAM,CAAC8H,KAAK,CAAC,GAAGJ,WAAW,CAACI,KAAK,CAAC;IACpC;EACF,CAAC,CAAC;EAEF,OAAO;IACLvN,IAAI,EAAEkN,KAAK,CAACM,IAAI,CAAC,GAAG,CAAC;IACrB/H,MAAM,EAANA;EACF,CAAC;AACH","ignoreList":[]}]}