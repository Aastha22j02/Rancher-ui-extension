{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IFJlc291cmNlVGFicyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1Jlc291cmNlVGFicyc7CmltcG9ydCBGbGVldFN1bW1hcnkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZmxlZXQvRmxlZXRTdW1tYXJ5JzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IEZsZWV0UmVzb3VyY2VzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L0ZsZWV0UmVzb3VyY2VzJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IHsgRkxFRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgaXNIYXJ2ZXN0ZXJDbHVzdGVyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2NsdXN0ZXInOwppbXBvcnQgRmxlZXRCdW5kbGVzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L0ZsZWV0QnVuZGxlcy52dWUnOwppbXBvcnQgeyByZXNvdXJjZUNvdW50cyB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlU3VtbWFyeS52dWUnOwppbXBvcnQgeyBjaGVja1NjaGVtYXNGb3JGaW5kQWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9hdXRoJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXRhaWxHaXRSZXBvJywKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgRmxlZXRSZXNvdXJjZXM6IEZsZWV0UmVzb3VyY2VzLAogICAgRmxlZXRTdW1tYXJ5OiBGbGVldFN1bW1hcnksCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIFJlc291cmNlVGFiczogUmVzb3VyY2VUYWJzLAogICAgVGFiOiBUYWIsCiAgICBGbGVldEJ1bmRsZXM6IEZsZWV0QnVuZGxlcwogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxGbGVldENsdXN0ZXJzOiBbXSwKICAgICAgYWxsQnVuZGxlczogW10sCiAgICAgIGFsbEJ1bmRsZURlcGxveW1lbnRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnaXRSZXBvSGFzQ2x1c3RlcnM6IGZ1bmN0aW9uIGdpdFJlcG9IYXNDbHVzdGVycygpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICByZXR1cm4gKF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUgPSBfdGhpcyR2YWx1ZS5jbHVzdGVyUmVzb3VyY2VTdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5sZW5ndGg7CiAgICB9LAogICAgY2x1c3RlclNjaGVtYTogZnVuY3Rpb24gY2x1c3RlclNjaGVtYSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvc2NoZW1hRm9yJ10oRkxFRVQuQ0xVU1RFUik7CiAgICB9LAogICAgaGFydmVzdGVyQ2x1c3RlcnM6IGZ1bmN0aW9uIGhhcnZlc3RlckNsdXN0ZXJzKCkgewogICAgICB2YXIgaGFydmVzdGVyID0ge307CiAgICAgIHRoaXMuYWxsRmxlZXRDbHVzdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgaWYgKGlzSGFydmVzdGVyQ2x1c3RlcihjKSkgewogICAgICAgICAgaGFydmVzdGVyW2MubWV0YWRhdGEubmFtZV0gPSBjOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBoYXJ2ZXN0ZXI7CiAgICB9LAogICAgYnVuZGxlQ291bnRzOiBmdW5jdGlvbiBidW5kbGVDb3VudHMoKSB7CiAgICAgIHJldHVybiByZXNvdXJjZUNvdW50cyh0aGlzLiRzdG9yZSwgRkxFRVQuQlVORExFKTsKICAgIH0sCiAgICBidW5kbGVzOiBmdW5jdGlvbiBidW5kbGVzKCkgewogICAgICB2YXIgaGFydmVzdGVyID0gdGhpcy5oYXJ2ZXN0ZXJDbHVzdGVyczsKICAgICAgdmFyIGJ1bmRsZXMgPSB0aGlzLmFsbEJ1bmRsZXMuZmlsdGVyKGZ1bmN0aW9uIChidW5kbGUpIHsKICAgICAgICB2YXIgX2J1bmRsZSRzcGVjOwogICAgICAgIHZhciB0YXJnZXRzID0gKChfYnVuZGxlJHNwZWMgPSBidW5kbGUuc3BlYykgPT09IG51bGwgfHwgX2J1bmRsZSRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYnVuZGxlJHNwZWMudGFyZ2V0cykgfHwgW107CgogICAgICAgIC8vIEZpbHRlciBvdXQgYW55IGJ1bmRsZSB0aGF0IGhhcyBvbmUgdGFyZ2V0IHdob3NlIGNsdXN0ZXIgaXMgYSBoYXJ2ZXN0ZXIgY2x1c3RlcgogICAgICAgIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgcmV0dXJuICFoYXJ2ZXN0ZXJbdGFyZ2V0c1swXS5jbHVzdGVyTmFtZV07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgICAgcmV0dXJuIGJ1bmRsZXM7CiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGFsbERpc3BhdGNoZXM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGNoZWNrU2NoZW1hc0ZvckZpbmRBbGxIYXNoKHsKICAgICAgICAgICAgICBhbGxCdW5kbGVzOiB7CiAgICAgICAgICAgICAgICBpblN0b3JlVHlwZTogJ21hbmFnZW1lbnQnLAogICAgICAgICAgICAgICAgdHlwZTogRkxFRVQuQlVORExFCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhbGxCdW5kbGVEZXBsb3ltZW50czogewogICAgICAgICAgICAgICAgaW5TdG9yZVR5cGU6ICdtYW5hZ2VtZW50JywKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULkJVTkRMRV9ERVBMT1lNRU5UCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhbGxGbGVldENsdXN0ZXJzOiB7CiAgICAgICAgICAgICAgICBpblN0b3JlVHlwZTogJ21hbmFnZW1lbnQnLAogICAgICAgICAgICAgICAgdHlwZTogRkxFRVQuQ0xVU1RFUgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2x1c3Rlckdyb3VwczogewogICAgICAgICAgICAgICAgaW5TdG9yZVR5cGU6ICdtYW5hZ2VtZW50JywKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULkNMVVNURVJfR1JPVVAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF90aGlzLiRzdG9yZSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGFsbERpc3BhdGNoZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5hbGxCdW5kbGVEZXBsb3ltZW50cyA9IGFsbERpc3BhdGNoZXMuYWxsQnVuZGxlRGVwbG95bWVudHMgfHwgW107CiAgICAgICAgICAgIF90aGlzLmFsbEJ1bmRsZXMgPSBhbGxEaXNwYXRjaGVzLmFsbEJ1bmRsZXMgfHwgW107CiAgICAgICAgICAgIF90aGlzLmFsbEZsZWV0Q2x1c3RlcnMgPSBhbGxEaXNwYXRjaGVzLmFsbEZsZWV0Q2x1c3RlcnMgfHwgW107CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["Loading","ResourceTabs","FleetSummary","Banner","FleetResources","Tab","FLEET","isHarvesterCluster","FleetBundles","resourceCounts","checkSchemasForFindAllHash","name","components","props","value","type","Object","required","data","allFleetClusters","allBundles","allBundleDeployments","computed","gitRepoHasClusters","_this$value","clusterResourceStatus","length","clusterSchema","$store","getters","CLUSTER","harvesterClusters","harvester","forEach","c","metadata","bundleCounts","BUNDLE","bundles","filter","bundle","_bundle$spec","targets","spec","clusterName","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","allDispatches","wrap","_callee$","_context","prev","next","inStoreType","BUNDLE_DEPLOYMENT","clusterGroups","CLUSTER_GROUP","sent","stop"],"sources":["node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport FleetSummary from '@shell/components/fleet/FleetSummary';\nimport { Banner } from '@components/Banner';\nimport FleetResources from '@shell/components/fleet/FleetResources';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { FLEET } from '@shell/config/types';\nimport { isHarvesterCluster } from '@shell/utils/cluster';\nimport FleetBundles from '@shell/components/fleet/FleetBundles.vue';\nimport { resourceCounts } from '@shell/components/ResourceSummary.vue';\nimport { checkSchemasForFindAllHash } from '@shell/utils/auth';\n\nexport default {\n  name: 'DetailGitRepo',\n\n  components: {\n    Loading,\n    FleetResources,\n    FleetSummary,\n    Banner,\n    ResourceTabs,\n    Tab,\n    FleetBundles,\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      allFleetClusters:     [],\n      allBundles:           [],\n      allBundleDeployments: [],\n    };\n  },\n  computed: {\n    gitRepoHasClusters() {\n      return this.value?.clusterResourceStatus?.length;\n    },\n    clusterSchema() {\n      return this.$store.getters['management/schemaFor'](FLEET.CLUSTER);\n    },\n    harvesterClusters() {\n      const harvester = {};\n\n      this.allFleetClusters.forEach((c) => {\n        if (isHarvesterCluster(c)) {\n          harvester[c.metadata.name] = c;\n        }\n      });\n\n      return harvester;\n    },\n    bundleCounts() {\n      return resourceCounts(this.$store, FLEET.BUNDLE);\n    },\n    bundles() {\n      const harvester = this.harvesterClusters;\n\n      const bundles = this.allBundles.filter((bundle) => {\n        const targets = bundle.spec?.targets || [];\n\n        // Filter out any bundle that has one target whose cluster is a harvester cluster\n        if (targets.length === 1) {\n          return !harvester[targets[0].clusterName];\n        }\n\n        return true;\n      });\n\n      return bundles;\n    },\n  },\n  async fetch() {\n    const allDispatches = await checkSchemasForFindAllHash({\n      allBundles: {\n        inStoreType: 'management',\n        type:        FLEET.BUNDLE\n      },\n\n      allBundleDeployments: {\n        inStoreType: 'management',\n        type:        FLEET.BUNDLE_DEPLOYMENT\n      },\n\n      allFleetClusters: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER\n      },\n      clusterGroups: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER_GROUP\n      }\n    }, this.$store);\n\n    this.allBundleDeployments = allDispatches.allBundleDeployments || [];\n    this.allBundles = allDispatches.allBundles || [];\n    this.allFleetClusters = allDispatches.allFleetClusters || [];\n  },\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div\n    v-else\n    class=\"mt-20\"\n  >\n    <FleetSummary\n      v-if=\"gitRepoHasClusters\"\n      :value=\"value\"\n      :bundles=\"bundles\"\n      class=\"mb-20\"\n    />\n    <Banner\n      v-else\n      color=\"info\"\n      class=\"mb-20\"\n    >\n      {{ t('fleet.fleetSummary.noClustersGitRepo') }}\n    </Banner>\n    <ResourceTabs\n      v-model=\"value\"\n      mode=\"view\"\n      class=\"mt-20\"\n      :need-related=\"false\"\n    >\n      <Tab\n        v-if=\"!!allBundles.length\"\n        label=\"Bundles\"\n        name=\"bundles\"\n        :weight=\"30\"\n      >\n        <FleetBundles :value=\"value\" />\n      </Tab>\n      <Tab\n        label=\"Resources\"\n        name=\"resources\"\n        :weight=\"20\"\n      >\n        <FleetResources :value=\"value\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n"],"mappings":";;;;;;;AACA,OAAAA,OAAA;AACA,OAAAC,YAAA;AACA,OAAAC,YAAA;AACA,SAAAC,MAAA;AACA,OAAAC,cAAA;AACA,OAAAC,GAAA;AACA,SAAAC,KAAA;AACA,SAAAC,kBAAA;AACA,OAAAC,YAAA;AACA,SAAAC,cAAA;AACA,SAAAC,0BAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAZ,OAAA,EAAAA,OAAA;IACAI,cAAA,EAAAA,cAAA;IACAF,YAAA,EAAAA,YAAA;IACAC,MAAA,EAAAA,MAAA;IACAF,YAAA,EAAAA,YAAA;IACAI,GAAA,EAAAA,GAAA;IACAG,YAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,gBAAA;MACAC,UAAA;MACAC,oBAAA;IACA;EACA;EACAC,QAAA;IACAC,kBAAA,WAAAA,mBAAA;MAAA,IAAAC,WAAA;MACA,QAAAA,WAAA,QAAAV,KAAA,cAAAU,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAC,qBAAA,cAAAD,WAAA,uBAAAA,WAAA,CAAAE,MAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,yBAAAvB,KAAA,CAAAwB,OAAA;IACA;IACAC,iBAAA,WAAAA,kBAAA;MACA,IAAAC,SAAA;MAEA,KAAAb,gBAAA,CAAAc,OAAA,WAAAC,CAAA;QACA,IAAA3B,kBAAA,CAAA2B,CAAA;UACAF,SAAA,CAAAE,CAAA,CAAAC,QAAA,CAAAxB,IAAA,IAAAuB,CAAA;QACA;MACA;MAEA,OAAAF,SAAA;IACA;IACAI,YAAA,WAAAA,aAAA;MACA,OAAA3B,cAAA,MAAAmB,MAAA,EAAAtB,KAAA,CAAA+B,MAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MACA,IAAAN,SAAA,QAAAD,iBAAA;MAEA,IAAAO,OAAA,QAAAlB,UAAA,CAAAmB,MAAA,WAAAC,MAAA;QAAA,IAAAC,YAAA;QACA,IAAAC,OAAA,KAAAD,YAAA,GAAAD,MAAA,CAAAG,IAAA,cAAAF,YAAA,uBAAAA,YAAA,CAAAC,OAAA;;QAEA;QACA,IAAAA,OAAA,CAAAhB,MAAA;UACA,QAAAM,SAAA,CAAAU,OAAA,IAAAE,WAAA;QACA;QAEA;MACA;MAEA,OAAAN,OAAA;IACA;EACA;EACAO,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,aAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACA9C,0BAAA;cACAU,UAAA;gBACAqC,WAAA;gBACA1C,IAAA,EAAAT,KAAA,CAAA+B;cACA;cAEAhB,oBAAA;gBACAoC,WAAA;gBACA1C,IAAA,EAAAT,KAAA,CAAAoD;cACA;cAEAvC,gBAAA;gBACAsC,WAAA;gBACA1C,IAAA,EAAAT,KAAA,CAAAwB;cACA;cACA6B,aAAA;gBACAF,WAAA;gBACA1C,IAAA,EAAAT,KAAA,CAAAsD;cACA;YACA,GAAAd,KAAA,CAAAlB,MAAA;UAAA;YAnBAuB,aAAA,GAAAG,QAAA,CAAAO,IAAA;YAqBAf,KAAA,CAAAzB,oBAAA,GAAA8B,aAAA,CAAA9B,oBAAA;YACAyB,KAAA,CAAA1B,UAAA,GAAA+B,aAAA,CAAA/B,UAAA;YACA0B,KAAA,CAAA3B,gBAAA,GAAAgC,aAAA,CAAAhC,gBAAA;UAAA;UAAA;YAAA,OAAAmC,QAAA,CAAAQ,IAAA;QAAA;MAAA,GAAAZ,OAAA;IAAA;EACA;AAEA","ignoreList":[]}]}