{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgU3RvcmFnZSBmcm9tICdAc2hlbGwvZWRpdC8vd29ya2xvYWQvc3RvcmFnZS9pbmRleC52dWUnOwpkZXNjcmliZSgnY29tcG9uZW50OiBTdG9yYWdlJywgZnVuY3Rpb24gKCkgewogIGRlc2NyaWJlLmVhY2goWydhd3NFbGFzdGljQmxvY2tTdG9yZScsICdhenVyZURpc2snLCAnYXp1cmVGaWxlJywgJ2NvbmZpZ01hcCcsCiAgLy8gJ2NyZWF0ZVBWQycsCiAgJ2NzaScsICdlbXB0eURpcicsICdnY2VQZXJzaXN0ZW50RGlzaycsICdnY2VQZXJzaXN0ZW50RGlzaycsICdob3N0UGF0aCcsICdzZWNyZXQnLCAndnNwaGVyZVZvbHVtZSddKSgnZ2l2ZW4gdm9sdW1lIHR5cGUgJXAnLCBmdW5jdGlvbiAodm9sdW1lVHlwZSkgewogICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSB2b2x1bWUgbmFtZSBhcyBmaXJzdCBpbnB1dCBvZiB0aGUgZm9ybSBhcnJheScsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5hbWUgPSAnd2hhdGV2ZXInOwogICAgICB2YXIgd3JhcHBlciA9IG1vdW50KFN0b3JhZ2UsIHsKICAgICAgICBwcm9wc0RhdGE6IHsKICAgICAgICAgIHNhdmVQdmNIb29rTmFtZTogJycsCiAgICAgICAgICB2YWx1ZTogewogICAgICAgICAgICB2b2x1bWVzOiBbX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgICAgICAgICAgX3R5cGU6IHZvbHVtZVR5cGUKICAgICAgICAgICAgfSwgdm9sdW1lVHlwZSwge30pLCAibmFtZSIsIG5hbWUpXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbW9ja3M6IHsKICAgICAgICAgIHQ6IGZ1bmN0aW9uIHQodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICAgIH0sCiAgICAgICAgICAkc3RvcmU6IHsKICAgICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICAgICdpMThuL3QnOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBrZXk7CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgJ2kxOG4vZXhpc3RzJzogamVzdC5mbigpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgaW5wdXQgPSB3cmFwcGVyLmZpbmQoJ2lucHV0JykuZWxlbWVudDsKICAgICAgZXhwZWN0KGlucHV0LnZhbHVlKS50b1N0cmljdEVxdWFsKG5hbWUpOwogICAgfSk7CiAgICBpdCgnc2hvdWxkIGVkaXQgdGhlIHZvbHVtZSBuYW1lJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmFtZSA9ICd3aGF0ZXZlcic7CiAgICAgIHZhciBuZXdOYW1lID0gJ25ldyB3aGF0ZXZlcic7CiAgICAgIHZhciB3cmFwcGVyID0gbW91bnQoU3RvcmFnZSwgewogICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgc2F2ZVB2Y0hvb2tOYW1lOiAnJywKICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgIHZvbHVtZXM6IFtfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgICBfdHlwZTogdm9sdW1lVHlwZQogICAgICAgICAgICB9LCB2b2x1bWVUeXBlLCB7fSksICJuYW1lIiwgbmFtZSldCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtb2NrczogewogICAgICAgICAgdDogZnVuY3Rpb24gdCh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0OwogICAgICAgICAgfSwKICAgICAgICAgICRzdG9yZTogewogICAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICAgJ2kxOG4vdCc6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGtleTsKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAnaTE4bi9leGlzdHMnOiBqZXN0LmZuKCkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdyYXBwZXIuZmluZCgnaW5wdXQnKS5zZXRWYWx1ZShuZXdOYW1lKTsKICAgICAgZXhwZWN0KHdyYXBwZXIudm0udmFsdWUudm9sdW1lc1swXS5uYW1lKS50b1N0cmljdEVxdWFsKG5ld05hbWUpOwogICAgfSk7CiAgfSk7CiAgLy8gVE9ETzogZmluZCBob3cgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgdG9vbHRpcCBzZWxlY3Rpb24gb3V0c2lkZSBvZiB0aGUgY29tcG9uZW50CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGplc3Qvbm8tZGlzYWJsZWQtdGVzdHMKICBpdC5za2lwKCdzaG91bGQgYWxsb3cgdG8gYWRkIGEgbmV3IHZvbHVtZScsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgd3JhcHBlcjsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB3cmFwcGVyID0gbW91bnQoU3RvcmFnZSwgewogICAgICAgICAgICBwcm9wc0RhdGE6IHsKICAgICAgICAgICAgICBzYXZlUHZjSG9va05hbWU6ICcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1vY2tzOiB7CiAgICAgICAgICAgICAgdDogZnVuY3Rpb24gdCh0ZXh0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICRzdG9yZTogewogICAgICAgICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICAgICAgICAnaTE4bi90JzogamVzdC5mbigpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHdyYXBwZXIuZmluZCgnI3NlbGVjdC12b2x1bWUnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgcmV0dXJuIHdyYXBwZXIudHJpZ2dlcigna2V5ZG93bi5kb3duJyk7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICByZXR1cm4gd3JhcHBlci50cmlnZ2VyKCdrZXlkb3duLmVudGVyJyk7CiAgICAgICAgY2FzZSA3OgogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0udmFsdWUudm9sdW1lc1swXSkudG9TdHJpY3RFcXVhbCh7CiAgICAgICAgICAgIF90eXBlOiAnYXdzRWxhc3RpY0Jsb2NrU3RvcmUnLAogICAgICAgICAgICBhd3NFbGFzdGljQmxvY2tTdG9yZToge30sCiAgICAgICAgICAgIG5hbWU6ICcnCiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDg6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKSk7Cn0pOw=="},{"version":3,"names":["mount","Storage","describe","each","volumeType","it","name","wrapper","propsData","savePvcHookName","value","volumes","_defineProperty","_type","mocks","t","text","$store","getters","jest","fn","mockImplementation","key","input","find","element","expect","toStrictEqual","newName","setValue","vm","skip","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","trigger","awsElasticBlockStore","stop"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport Storage from '@shell/edit//workload/storage/index.vue';\n\ndescribe('component: Storage', () => {\n  describe.each([\n    'awsElasticBlockStore',\n    'azureDisk',\n    'azureFile',\n    'configMap',\n    // 'createPVC',\n    'csi',\n    'emptyDir',\n    'gcePersistentDisk',\n    'gcePersistentDisk',\n    'hostPath',\n    'secret',\n    'vsphereVolume'\n  ])('given volume type %p', (volumeType) => {\n    it('should display the volume name as first input of the form array', () => {\n      const name = 'whatever';\n      const wrapper = mount(Storage, {\n        propsData: {\n          savePvcHookName: '',\n          value:           {\n            volumes: [{\n              _type:        volumeType,\n              [volumeType]: {},\n              name\n            }]\n          },\n        },\n        mocks: {\n          t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n          $store: {\n            getters: {\n              'i18n/t':      jest.fn().mockImplementation((key: string) => key),\n              'i18n/exists': jest.fn()\n            }\n          }\n        },\n      });\n\n      const input = wrapper.find('input').element as HTMLInputElement;\n\n      expect(input.value).toStrictEqual(name);\n    });\n\n    it('should edit the volume name', () => {\n      const name = 'whatever';\n      const newName = 'new whatever';\n      const wrapper = mount(Storage, {\n        propsData: {\n          savePvcHookName: '',\n          value:           {\n            volumes: [{\n              _type:        volumeType,\n              [volumeType]: {},\n              name\n            }]\n          },\n        },\n        mocks: {\n          t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n          $store: {\n            getters: {\n              'i18n/t':      jest.fn().mockImplementation((key: string) => key),\n              'i18n/exists': jest.fn()\n            }\n          }\n        },\n      });\n\n      wrapper.find('input').setValue(newName);\n\n      expect(wrapper.vm.value.volumes[0].name).toStrictEqual(newName);\n    });\n  });\n\n  // TODO: find how to interact with the tooltip selection outside of the component\n  // eslint-disable-next-line jest/no-disabled-tests\n  it.skip('should allow to add a new volume', async() => {\n    const wrapper = mount(Storage, {\n      propsData: { savePvcHookName: '' },\n      mocks:     {\n        t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n        $store: { getters: { 'i18n/t': jest.fn() } }\n      },\n    });\n\n    await wrapper.find('#select-volume').trigger('click');\n    await wrapper.trigger('keydown.down');\n    await wrapper.trigger('keydown.enter');\n\n    expect(wrapper.vm.value.volumes[0]).toStrictEqual({\n      _type:                'awsElasticBlockStore',\n      awsElasticBlockStore: {},\n      name:                 ''\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}