{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc3RyaW5nLmF0LmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgRm9ybVZhbGlkYXRpb24gZnJvbSAnQHNoZWxsL21peGlucy9mb3JtLXZhbGlkYXRpb24nOwppbXBvcnQgTW9uaXRvcmluZyBmcm9tICdAc2hlbGwvZWRpdC9tb25pdG9yaW5nLmNvcmVvcy5jb20ucHJvbWV0aGV1c3J1bGUvaW5kZXgudnVlJzsKaW1wb3J0IHsgX0VESVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGNsZWFuSHRtbERpcmVjdGl2ZSB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2NsZWFuLWh0bWwtZGlyZWN0aXZlJzsKZGVzY3JpYmUoJ2VkaXQ6IG1hbmFnZW1lbnQuY2F0dGxlLmlvLnNldHRpbmcgc2hvdWxkJywgZnVuY3Rpb24gKCkgewogIHZhciBNT0NLRURfRVJST1JTID0gWydlcnJvcjEnLCAnZXJyb3IyJywgJ2Vycm9yMycsICdlcnJvcjQnLCAnZXJyb3I1J107CiAgdmFyIEVSUk9SX0JBTk5FUl9TRUxFQ1RPUiA9ICdbZGF0YS10ZXN0aWQ9ImJhbm5lci1jbG9zZSJdJzsKICB2YXIgcmVxdWlyZWRTZXR1cCA9IGZ1bmN0aW9uIHJlcXVpcmVkU2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBSZW1vdmUgYWxsIHRoZXNlIG1vY2tzIGFmdGVyIG1pZ3JhdGlvbiB0byBWdWUgMi43LzMgZHVlIG1peGluIGxvZ2ljCiAgICAgIG1vY2tzOiB7CiAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgIGN1cnJlbnRTdG9yZTogZnVuY3Rpb24gY3VycmVudFN0b3JlKCkgewogICAgICAgICAgICAgIHJldHVybiAnY3VycmVudF9zdG9yZSc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL3NjaGVtYUZvcic6IGplc3QuZm4oKSwKICAgICAgICAgICAgJ2N1cnJlbnRfc3RvcmUvYWxsJzogamVzdC5mbigpLAogICAgICAgICAgICAnaTE4bi90JzogamVzdC5mbigpLAogICAgICAgICAgICAnaTE4bi9leGlzdHMnOiBqZXN0LmZuKCksCiAgICAgICAgICAgIG5hbWVzcGFjZXM6IGZ1bmN0aW9uIG5hbWVzcGFjZXMoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAkcm91dGU6IHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIEFTOiAnJwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6ICcnCiAgICAgICAgfSwKICAgICAgICAkcm91dGVyOiB7CiAgICAgICAgICBhcHBseVF1ZXJ5OiBqZXN0LmZuKCkKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfTsKICBpdCgnc2hvdWxkIGNsb3NlIGVycm9yIGJhbm5lcnMnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciB3cmFwcGVyLCBlcnJvckJhbm5lcnMsIGksIHJlc3VsdEVycm9yQmFubmVyczsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBqZXN0LnNweU9uKEZvcm1WYWxpZGF0aW9uLmNvbXB1dGVkLCAnZnZVbnJlcG9ydGVkVmFsaWRhdGlvbkVycm9ycycpLm1vY2tSZXR1cm5WYWx1ZShNT0NLRURfRVJST1JTKTsKICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChNb25pdG9yaW5nLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgY2FuWWFtbDogZmFsc2UsCiAgICAgICAgICAgICAgbW9kZTogX0VESVQsCiAgICAgICAgICAgICAgcmVzb3VyY2U6IHt9LAogICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogJ2FueXRoaW5nJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbmFtZTogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlyZWN0aXZlczogewogICAgICAgICAgICAgIGNsZWFuSHRtbERpcmVjdGl2ZTogY2xlYW5IdG1sRGlyZWN0aXZlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHJlcXVpcmVkU2V0dXAoKSkpOwogICAgICAgICAgZXJyb3JCYW5uZXJzID0gd3JhcHBlci5maW5kQWxsKEVSUk9SX0JBTk5FUl9TRUxFQ1RPUik7IC8vIEFzc2VydCB0aGF0IGFsbCB0aGUgZXJyb3IgYmFubmVycyBhcmUgcmVuZGVyZWQKICAgICAgICAgIGV4cGVjdChlcnJvckJhbm5lcnMpLnRvSGF2ZUxlbmd0aChNT0NLRURfRVJST1JTLmxlbmd0aCk7CiAgICAgICAgICBpID0gMDsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBpZiAoIShpIDwgTU9DS0VEX0VSUk9SUy5sZW5ndGgpKSB7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgIHJldHVybiBlcnJvckJhbm5lcnMuYXQoMCkudHJpZ2dlcignY2xpY2snKTsKICAgICAgICBjYXNlIDg6CiAgICAgICAgICByZXN1bHRFcnJvckJhbm5lcnMgPSB3cmFwcGVyLmZpbmRBbGwoRVJST1JfQkFOTkVSX1NFTEVDVE9SKTsgLy8gQXNzZXJ0IHRoYXQgYW4gZXJyb3IgYmFubmVyIGlzIGNsb3NlZCB1bnRpbCB0aGUgbGFzdCBvbmUKICAgICAgICAgIGV4cGVjdChyZXN1bHRFcnJvckJhbm5lcnMpLnRvSGF2ZUxlbmd0aChNT0NLRURfRVJST1JTLmxlbmd0aCAtIDEgLSBpKTsKICAgICAgICBjYXNlIDEwOgogICAgICAgICAgaSsrOwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDEzOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSkpOwp9KTs="},{"version":3,"names":["mount","FormValidation","Monitoring","_EDIT","cleanHtmlDirective","describe","MOCKED_ERRORS","ERROR_BANNER_SELECTOR","requiredSetup","mocks","$store","getters","currentStore","jest","fn","namespaces","$route","query","AS","name","$router","applyQuery","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrapper","errorBanners","i","resultErrorBanners","wrap","_callee$","_context","prev","next","spyOn","computed","mockReturnValue","_objectSpread","propsData","canYaml","mode","resource","value","directives","findAll","expect","toHaveLength","length","at","trigger","stop"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport FormValidation from '@shell/mixins/form-validation';\nimport Monitoring from '@shell/edit/monitoring.coreos.com.prometheusrule/index.vue';\nimport { _EDIT } from '@shell/config/query-params';\nimport { cleanHtmlDirective } from '@shell/plugins/clean-html-directive';\n\ndescribe('edit: management.cattle.io.setting should', () => {\n  const MOCKED_ERRORS = ['error1', 'error2', 'error3', 'error4', 'error5'];\n  const ERROR_BANNER_SELECTOR = '[data-testid=\"banner-close\"]';\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          'i18n/t':                  jest.fn(),\n          'i18n/exists':             jest.fn(),\n          namespaces:                () => ({})\n        }\n      },\n      $route:  { query: { AS: '' }, name: '' },\n      $router: { applyQuery: jest.fn() }\n    }\n  });\n\n  it('should close error banners', async() => {\n    jest.spyOn(FormValidation.computed, 'fvUnreportedValidationErrors').mockReturnValue(MOCKED_ERRORS);\n\n    const wrapper = mount(Monitoring, {\n      propsData: {\n        canYaml:  false,\n        mode:     _EDIT,\n        resource: {},\n        value:    { value: 'anything' },\n        name:     ''\n      },\n      directives: { cleanHtmlDirective },\n      ...requiredSetup()\n    });\n\n    const errorBanners = wrapper.findAll(ERROR_BANNER_SELECTOR);\n\n    // Assert that all the error banners are rendered\n    expect(errorBanners).toHaveLength(MOCKED_ERRORS.length);\n\n    for (let i = 0; i < MOCKED_ERRORS.length; i++) {\n      await errorBanners.at(0).trigger('click');\n      const resultErrorBanners = wrapper.findAll(ERROR_BANNER_SELECTOR);\n\n      // Assert that an error banner is closed until the last one\n      expect(resultErrorBanners).toHaveLength(MOCKED_ERRORS.length - 1 - i);\n    }\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}