{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy/__tests__/PolicyRuleTarget.spec.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy/__tests__/PolicyRuleTarget.spec.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IG1vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IFBvbGljeVJ1bGVUYXJnZXQgZnJvbSAnQHNoZWxsL2VkaXQvbmV0d29ya2luZy5rOHMuaW8ubmV0d29ya3BvbGljeS9Qb2xpY3lSdWxlVGFyZ2V0JzsKaW1wb3J0IHsgY2xlYW5IdG1sRGlyZWN0aXZlIH0gZnJvbSAnQHNoZWxsL3BsdWdpbnMvY2xlYW4taHRtbC1kaXJlY3RpdmUnOwppbXBvcnQgbW9jayBmcm9tICdAc2hlbGwvZWRpdC9uZXR3b3JraW5nLms4cy5pby5uZXR3b3JrcG9saWN5L19fdGVzdHNfXy91dGlscy9tb2NrLmpzb24nOwppbXBvcnQgeyBQb2xpY3lSdWxlVGFyZ2V0U2VsZWN0b3JzIH0gZnJvbSAnQHNoZWxsL2VkaXQvbmV0d29ya2luZy5rOHMuaW8ubmV0d29ya3BvbGljeS9fX3Rlc3RzX18vdXRpbHMvc2VsZWN0b3JzLnRlc3QudHMnOwpkZXNjcmliZS5lYWNoKFsndmlldycsICdlZGl0J10pKCdjb21wb25lbnQ6IFBvbGljeVJ1bGVUYXJnZXQnLCBmdW5jdGlvbiAobW9kZSkgewogIHZhciBtb2NrRXhpc3RzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTsKICB2YXIgbW9ja1QgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKCdzb21lLXN0cmluZycpOwogIHZhciB3cmFwcGVyID0gbW91bnQoUG9saWN5UnVsZVRhcmdldCwgewogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0aHJvdHRsZVRpbWU6IDAKICAgICAgfTsKICAgIH0sCiAgICBwcm9wc0RhdGE6IHsKICAgICAgbmFtZXNwYWNlOiBtb2NrLmRlZmF1bHROYW1lc3BhY2UsCiAgICAgIGFsbE5hbWVzcGFjZXM6IG1vY2suYWxsTmFtZXNwYWNlcywKICAgICAgYWxsUG9kczogbW9jay5hbGxQb2RzLAogICAgICB0eXBlOiAnaW5ncmVzcycsCiAgICAgIG1vZGU6IG1vZGUKICAgIH0sCiAgICBkaXJlY3RpdmVzOiB7CiAgICAgIGNsZWFuSHRtbERpcmVjdGl2ZTogY2xlYW5IdG1sRGlyZWN0aXZlCiAgICB9LAogICAgbW9ja3M6IHsKICAgICAgJHN0b3JlOiB7CiAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgJ2kxOG4vZXhpc3RzJzogbW9ja0V4aXN0cywKICAgICAgICAgICdpMThuL3QnOiBtb2NrVAogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwogIGRlc2NyaWJlKCIiLmNvbmNhdChtb2RlLCAiIG1vZGUiKSwgZnVuY3Rpb24gKCkgewogICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGlwLWJsb2NrIHNlbGVjdG9yIHJ1bGUnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGlwQmxvY2ssIHNlbGVjdG9yczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlwQmxvY2sgPSBtb2NrLnNlbGVjdG9ycy5pcEJsb2NrOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIuc2V0UHJvcHMoewogICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICBpcEJsb2NrOiBpcEJsb2NrCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgc2VsZWN0b3JzID0gbmV3IFBvbGljeVJ1bGVUYXJnZXRTZWxlY3RvcnMod3JhcHBlcik7IC8vIENoZWNrIHJ1bGUgdHlwZSBzZWxlY3RvcgogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLnJ1bGVUeXBlLnZtLiRkYXRhLl92YWx1ZS52YWx1ZSkudG9CZSgnaXBCbG9jaycpOwogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLm5hbWVzcGFjZS5lbGVtZW50KS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMucG9kLmVsZW1lbnQpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5uYW1lc3BhY2VBbmRQb2QubmFtZXNwYWNlUnVsZS5lbGVtZW50KS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlQW5kUG9kLnBvZFJ1bGUuZWxlbWVudCkudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLmlwQmxvY2suZWxlbWVudC5fdmFsdWUpLnRvU3RyaWN0RXF1YWwoaXBCbG9jay5jaWRyKTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgaXQoJ3Nob3VsZCBkaXNwbGF5IG5hbWVzcGFjZSBzZWxlY3RvciBydWxlJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgbmFtZXNwYWNlU2VsZWN0b3IsIHNlbGVjdG9yczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBuYW1lc3BhY2VTZWxlY3RvciA9IG1vY2suc2VsZWN0b3JzLm5hbWVzcGFjZTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gd3JhcHBlci5zZXRQcm9wcyh7CiAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgIG5hbWVzcGFjZVNlbGVjdG9yOiBuYW1lc3BhY2VTZWxlY3RvcgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNlbGVjdG9ycyA9IG5ldyBQb2xpY3lSdWxlVGFyZ2V0U2VsZWN0b3JzKHdyYXBwZXIpOyAvLyBDaGVjayBydWxlIHR5cGUgc2VsZWN0b3IKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5ydWxlVHlwZS52bS4kZGF0YS5fdmFsdWUudmFsdWUpLnRvQmUoJ25hbWVzcGFjZVNlbGVjdG9yJyk7CiAgICAgICAgICAgIC8vIENoZWNrIHRoZSBtYXRjaGluZyBuYW1lc3BhY2VzIGRpc3BsYXllZCBieSB0aGUgYmFubmVyCiAgICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLiRkYXRhLm1hdGNoaW5nTmFtZXNwYWNlcy5tYXRjaGVkKS50b0JlKDEpOwogICAgICAgICAgICAvLyBDaGVjayBpZiBuYW1lc3BhY2UncyBsYWJlbHMgbWF0Y2gKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdOYW1lc3BhY2VzLm1hdGNoZXMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdOYW1lc3BhY2VzLm1hdGNoZXNbMF0ubWV0YWRhdGEubmFtZSkudG9CZSgnZGVmYXVsdCcpOwogICAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS4kZGF0YS5tYXRjaGluZ05hbWVzcGFjZXMubWF0Y2hlc1swXS5tZXRhZGF0YS5sYWJlbHNbJ3VzZXInXSkudG9CZSgnYWxpY2UnKTsKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5wb2QuZWxlbWVudCkudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLm5hbWVzcGFjZUFuZFBvZC5uYW1lc3BhY2VSdWxlLmVsZW1lbnQpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5uYW1lc3BhY2VBbmRQb2QucG9kUnVsZS5lbGVtZW50KS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlLmVsZW1lbnQpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkpOwogICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHBvZCBzZWxlY3RvciBydWxlJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgcG9kU2VsZWN0b3IsIHNlbGVjdG9yczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBwb2RTZWxlY3RvciA9IG1vY2suc2VsZWN0b3JzLnBvZDsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gd3JhcHBlci5zZXRQcm9wcyh7CiAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgIHBvZFNlbGVjdG9yOiBwb2RTZWxlY3RvcgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNlbGVjdG9ycyA9IG5ldyBQb2xpY3lSdWxlVGFyZ2V0U2VsZWN0b3JzKHdyYXBwZXIpOyAvLyBDaGVjayBydWxlIHR5cGUgc2VsZWN0b3IKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5ydWxlVHlwZS52bS4kZGF0YS5fdmFsdWUudmFsdWUpLnRvQmUoJ3BvZFNlbGVjdG9yJyk7CiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5hbWVzcGFjZSdzIGxhYmVscyBtYXRjaAogICAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS4kZGF0YS5tYXRjaGluZ1BvZHMubWF0Y2hlZCkudG9CZSgxKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdQb2RzLm1hdGNoZXMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdQb2RzLm1hdGNoZXNbMF0ubWV0YWRhdGEubmFtZSkudG9CZSgndGVzdC1wb2QnKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdQb2RzLm1hdGNoZXNbMF0ubWV0YWRhdGEubGFiZWxzWydmb28nXSkudG9CZSgnYmFyJyk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlLmVsZW1lbnQpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5uYW1lc3BhY2VBbmRQb2QubmFtZXNwYWNlUnVsZS5lbGVtZW50KS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlQW5kUG9kLnBvZFJ1bGUuZWxlbWVudCkudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLnBvZC5lbGVtZW50KS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKTsKICAgIGl0KCdzaG91bGQgZGlzcGxheSBuYW1lc3BhY2UvcG9kIHNlbGVjdG9yIHJ1bGUnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBuYW1lc3BhY2VTZWxlY3RvciwgcG9kU2VsZWN0b3IsIHNlbGVjdG9yczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBuYW1lc3BhY2VTZWxlY3RvciA9IG1vY2suc2VsZWN0b3JzLm5hbWVzcGFjZUFuZFBvZC5uYW1lc3BhY2U7CiAgICAgICAgICAgIHBvZFNlbGVjdG9yID0gbW9jay5zZWxlY3RvcnMubmFtZXNwYWNlQW5kUG9kLnBvZDsKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gd3JhcHBlci5zZXRQcm9wcyh7CiAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgIG5hbWVzcGFjZVNlbGVjdG9yOiBuYW1lc3BhY2VTZWxlY3RvciwKICAgICAgICAgICAgICAgIHBvZFNlbGVjdG9yOiBwb2RTZWxlY3RvcgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHNlbGVjdG9ycyA9IG5ldyBQb2xpY3lSdWxlVGFyZ2V0U2VsZWN0b3JzKHdyYXBwZXIpOyAvLyBDaGVjayBydWxlIHR5cGUgc2VsZWN0b3IKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5ydWxlVHlwZS52bS4kZGF0YS5fdmFsdWUudmFsdWUpLnRvQmUoJ25hbWVzcGFjZUFuZFBvZFNlbGVjdG9yJyk7CiAgICAgICAgICAgIC8vIENoZWNrIHRoZSBtYXRjaGluZyBwb2RzIGRpc3BsYXllZCBieSB0aGUgYmFubmVyCiAgICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLiRkYXRhLm1hdGNoaW5nUG9kcy5tYXRjaGVkKS50b0JlKDEpOwogICAgICAgICAgICAvLyBDaGVjayBpZiBuYW1lc3BhY2UncyBsYWJlbHMgbWF0Y2gKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdOYW1lc3BhY2VzLm1hdGNoZXMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdOYW1lc3BhY2VzLm1hdGNoZXNbMF0ubWV0YWRhdGEubmFtZSkudG9CZSgnZGVmYXVsdCcpOwogICAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS4kZGF0YS5tYXRjaGluZ05hbWVzcGFjZXMubWF0Y2hlc1swXS5tZXRhZGF0YS5sYWJlbHNbJ3VzZXInXSkudG9CZSgnYWxpY2UnKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdQb2RzLm1hdGNoZXNbMF0ubWV0YWRhdGEubmFtZSkudG9CZSgndGVzdC1wb2QnKTsKICAgICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uJGRhdGEubWF0Y2hpbmdQb2RzLm1hdGNoZXNbMF0ubWV0YWRhdGEubGFiZWxzWydmb28nXSkudG9CZSgnYmFyJyk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlLmVsZW1lbnQpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ycy5wb2QuZWxlbWVudCkudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JzLm5hbWVzcGFjZUFuZFBvZC5uYW1lc3BhY2VSdWxlLmVsZW1lbnQpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvcnMubmFtZXNwYWNlQW5kUG9kLnBvZFJ1bGUuZWxlbWVudCkudG9CZURlZmluZWQoKTsKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSk7CiAgfSk7Cn0pOw=="},{"version":3,"names":["mount","PolicyRuleTarget","cleanHtmlDirective","mock","PolicyRuleTargetSelectors","describe","each","mode","mockExists","jest","fn","mockReturnValue","mockT","wrapper","data","throttleTime","propsData","namespace","defaultNamespace","allNamespaces","allPods","type","directives","mocks","$store","getters","concat","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ipBlock","selectors","wrap","_callee$","_context","prev","next","setProps","value","expect","ruleType","vm","$data","_value","toBe","element","toBeUndefined","pod","namespaceAndPod","namespaceRule","podRule","toStrictEqual","cidr","stop","_callee2","namespaceSelector","_callee2$","_context2","matchingNamespaces","matched","matches","toHaveLength","metadata","name","labels","toBeDefined","_callee3","podSelector","_callee3$","_context3","matchingPods","_callee4","_callee4$","_context4"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy/__tests__/PolicyRuleTarget.spec.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport PolicyRuleTarget from '@shell/edit/networking.k8s.io.networkpolicy/PolicyRuleTarget';\nimport { cleanHtmlDirective } from '@shell/plugins/clean-html-directive';\nimport mock from '@shell/edit/networking.k8s.io.networkpolicy/__tests__/utils/mock.json';\nimport { PolicyRuleTargetSelectors } from '@shell/edit/networking.k8s.io.networkpolicy/__tests__/utils/selectors.test.ts';\n\ndescribe.each([\n  'view',\n  'edit',\n])('component: PolicyRuleTarget', (mode) => {\n  const mockExists = jest.fn().mockReturnValue(true);\n  const mockT = jest.fn().mockReturnValue('some-string');\n\n  const wrapper = mount(PolicyRuleTarget, {\n    data() {\n      return { throttleTime: 0 };\n    },\n    propsData: {\n      namespace:     mock.defaultNamespace,\n      allNamespaces: mock.allNamespaces,\n      allPods:       mock.allPods,\n      type:          'ingress',\n      mode\n    },\n\n    directives: { cleanHtmlDirective },\n\n    mocks: {\n      $store: {\n        getters: {\n          'i18n/exists': mockExists,\n          'i18n/t':      mockT\n        }\n      }\n    }\n  });\n\n  describe(`${ mode } mode`, () => {\n    it('should display ip-block selector rule', async() => {\n      const ipBlock = mock.selectors.ipBlock;\n\n      await wrapper.setProps({ value: { ipBlock } });\n\n      const selectors = new PolicyRuleTargetSelectors(wrapper);\n\n      // Check rule type selector\n      expect(selectors.ruleType.vm.$data._value.value).toBe('ipBlock');\n\n      expect(selectors.namespace.element).toBeUndefined();\n      expect(selectors.pod.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.namespaceRule.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.podRule.element).toBeUndefined();\n\n      expect(selectors.ipBlock.element._value).toStrictEqual(ipBlock.cidr);\n    });\n\n    it('should display namespace selector rule', async() => {\n      const namespaceSelector = mock.selectors.namespace;\n\n      await wrapper.setProps({ value: { namespaceSelector } });\n\n      const selectors = new PolicyRuleTargetSelectors(wrapper);\n\n      // Check rule type selector\n      expect(selectors.ruleType.vm.$data._value.value).toBe('namespaceSelector');\n\n      // Check the matching namespaces displayed by the banner\n      expect(wrapper.vm.$data.matchingNamespaces.matched).toBe(1);\n\n      // Check if namespace's labels match\n      expect(wrapper.vm.$data.matchingNamespaces.matches).toHaveLength(1);\n      expect(wrapper.vm.$data.matchingNamespaces.matches[0].metadata.name).toBe('default');\n      expect(wrapper.vm.$data.matchingNamespaces.matches[0].metadata.labels['user']).toBe('alice');\n\n      expect(selectors.pod.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.namespaceRule.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.podRule.element).toBeUndefined();\n\n      expect(selectors.namespace.element).toBeDefined();\n    });\n\n    it('should display pod selector rule', async() => {\n      const podSelector = mock.selectors.pod;\n\n      await wrapper.setProps({ value: { podSelector } });\n\n      const selectors = new PolicyRuleTargetSelectors(wrapper);\n\n      // Check rule type selector\n      expect(selectors.ruleType.vm.$data._value.value).toBe('podSelector');\n\n      // Check if namespace's labels match\n      expect(wrapper.vm.$data.matchingPods.matched).toBe(1);\n      expect(wrapper.vm.$data.matchingPods.matches).toHaveLength(1);\n\n      expect(wrapper.vm.$data.matchingPods.matches[0].metadata.name).toBe('test-pod');\n      expect(wrapper.vm.$data.matchingPods.matches[0].metadata.labels['foo']).toBe('bar');\n\n      expect(selectors.namespace.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.namespaceRule.element).toBeUndefined();\n      expect(selectors.namespaceAndPod.podRule.element).toBeUndefined();\n\n      expect(selectors.pod.element).toBeDefined();\n    });\n\n    it('should display namespace/pod selector rule', async() => {\n      const namespaceSelector = mock.selectors.namespaceAndPod.namespace;\n      const podSelector = mock.selectors.namespaceAndPod.pod;\n\n      await wrapper.setProps({\n        value: {\n          namespaceSelector,\n          podSelector,\n        }\n      });\n\n      const selectors = new PolicyRuleTargetSelectors(wrapper);\n\n      // Check rule type selector\n      expect(selectors.ruleType.vm.$data._value.value).toBe('namespaceAndPodSelector');\n\n      // Check the matching pods displayed by the banner\n      expect(wrapper.vm.$data.matchingPods.matched).toBe(1);\n\n      // Check if namespace's labels match\n      expect(wrapper.vm.$data.matchingNamespaces.matches).toHaveLength(1);\n      expect(wrapper.vm.$data.matchingNamespaces.matches[0].metadata.name).toBe('default');\n      expect(wrapper.vm.$data.matchingNamespaces.matches[0].metadata.labels['user']).toBe('alice');\n\n      expect(wrapper.vm.$data.matchingPods.matches[0].metadata.name).toBe('test-pod');\n      expect(wrapper.vm.$data.matchingPods.matches[0].metadata.labels['foo']).toBe('bar');\n\n      expect(selectors.namespace.element).toBeUndefined();\n      expect(selectors.pod.element).toBeUndefined();\n\n      expect(selectors.namespaceAndPod.namespaceRule.element).toBeDefined();\n      expect(selectors.namespaceAndPod.podRule.element).toBeDefined();\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}