{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/promise.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/promise.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCBRdWV1ZSBmcm9tICcuL3F1ZXVlJzsKZnVuY3Rpb24gX2hhc2goX3gsIF94MikgewogIHJldHVybiBfaGFzaDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpmdW5jdGlvbiBfaGFzaDIoKSB7CiAgX2hhc2gyID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGhhc2gsIGZuTmFtZSkgewogICAgdmFyIGtleXMsIHByb21pc2VzLCByZXMsIG91dCwgaTsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoaGFzaCk7CiAgICAgICAgICBwcm9taXNlcyA9IE9iamVjdC52YWx1ZXMoaGFzaCk7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgIHJldHVybiBQcm9taXNlW2ZuTmFtZV0ocHJvbWlzZXMpOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBvdXQgPSB7fTsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIG91dFtrZXlzW2ldXSA9IHJlc1tpXTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG91dCk7CiAgICAgICAgY2FzZSA4OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9oYXNoMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmV4cG9ydCBmdW5jdGlvbiBhbGxIYXNoKGhhc2gpIHsKICByZXR1cm4gX2hhc2goaGFzaCwgJ2FsbCcpOwp9CmV4cG9ydCBmdW5jdGlvbiBhbGxIYXNoU2V0dGxlZChoYXNoKSB7CiAgcmV0dXJuIF9oYXNoKGhhc2gsICdhbGxTZXR0bGVkJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGVhY2hMaW1pdChpdGVtcywgbGltaXQsIGl0ZXJhdG9yKSB7CiAgdmFyIGRlYnVnID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTsKICBpZiAoZGVidWcpIHsKICAgIGNvbnNvbGUubG9nKCdlYWNoTGltaXQgb2YnLCBpdGVtcy5sZW5ndGgsICcgaXRlbXMnLCBsaW1pdCwgJ2F0IGEgdGltZScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICB9CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBxdWV1ZSA9IG5ldyBRdWV1ZSgpOwogICAgdmFyIHBlbmRpbmcgPSAwOwogICAgdmFyIGZhaWxlZCA9IGZhbHNlOwogICAgdmFyIG91dCA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgICBxdWV1ZS5lbnF1ZXVlKHsKICAgICAgICBpdGVtOiBpdGVtc1tpXSwKICAgICAgICBpZHg6IGkKICAgICAgfSk7CiAgICB9CiAgICBwcm9jZXNzKCk7CiAgICBmdW5jdGlvbiBwcm9jZXNzKCkgewogICAgICBpZiAoZGVidWcpIHsKICAgICAgICBjb25zb2xlLmxvZygicHJvY2VzcywgcXVldWU9Ii5jb25jYXQocXVldWUuZ2V0TGVuZ3RoKCksICIsIHBlbmRpbmc9IikuY29uY2F0KHBlbmRpbmcsICIsIGZhaWxlZD0iKS5jb25jYXQoZmFpbGVkKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICB9CiAgICAgIGlmIChmYWlsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHF1ZXVlLmlzRW1wdHkoKSAmJiBwZW5kaW5nID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHJlc29sdmUob3V0KTsKICAgICAgfQogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHsKICAgICAgICB2YXIgX3F1ZXVlJGRlcXVldWUgPSBxdWV1ZS5kZXF1ZXVlKCksCiAgICAgICAgICBpdGVtID0gX3F1ZXVlJGRlcXVldWUuaXRlbSwKICAgICAgICAgIGlkeCA9IF9xdWV1ZSRkZXF1ZXVlLmlkeDsKICAgICAgICBpZiAoZGVidWcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nJywgaXRlbSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgIH0KICAgICAgICBwZW5kaW5nKys7CiAgICAgICAgaXRlcmF0b3IoaXRlbSwgaWR4KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChkZWJ1ZykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRG9uZScsIGl0ZW0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgIH0KICAgICAgICAgIG91dFtpZHhdID0gcmVzOwogICAgICAgICAgcGVuZGluZy0tOwogICAgICAgICAgcHJvY2VzcygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGlmIChkZWJ1ZykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkJywgZXJyLCBpdGVtKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICB9CiAgICAgICAgICBmYWlsZWQgPSB0cnVlOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIHdoaWxlICghcXVldWUuaXNFbXB0eSgpICYmIHBlbmRpbmcgPCBsaW1pdCAmJiAhZmFpbGVkKSB7CiAgICAgICAgX2xvb3AoKTsKICAgICAgfQogICAgfQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBkZWZlcnJlZChuYW1lKSB7CiAgdmFyIG91dCA9IHt9OwogIG91dC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgb3V0LnJlc29sdmUgPSByZXNvbHZlOwogICAgb3V0LnJlamVjdCA9IHJlamVjdDsKICB9LCBuYW1lKTsKICByZXR1cm4gb3V0Owp9CgovKioKICogQXBwbHkgdGhlIHJlc3VsdCBvZiBhIHByb21pc2UgdG8gYSBnaXZlbiBvYmplY3QncyBwcm9wZXJ0eQogKgogKiBUaGlzIGlzIGEgbm9uLWJsb2NraW5nIG1ldGhvZAogKgogKiBAcGFyYW0gcHJvbWlzZSBQcm9taXNlIHRvIGZldGNoIHJlc3VsdCBmb3IKICogQHBhcmFtIG9iaiBPYmplY3QgdG8gc2V0IHJlc3VsdCBvZiBwcm9taXNlIHRvCiAqIEBwYXJhbSBrZXkgUHJvcGVydHkgaW4gb2JqZWN0IHRvIHNldCByZXN1bHQgdG8KICogQHBhcmFtIGxhYmVsIERlc2NyaXB0aW9uIG9mIHdoYXQgcHJvbWlzZSBpcyB0cnlpbmcgdG8gIGRvCiAqLwpleHBvcnQgZnVuY3Rpb24gc2V0UHJvbWlzZVJlc3VsdChwcm9taXNlLCBvYmosIGtleSwgbGFiZWwpIHsKICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgb2JqW2tleV0gPSByZXM7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvOiAnLCBsYWJlbCwgZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogIH0pOwp9"},{"version":3,"names":["Queue","_hash","_x","_x2","_hash2","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","fnName","keys","promises","res","out","i","wrap","_callee$","_context","prev","next","Object","values","Promise","sent","length","abrupt","stop","allHash","allHashSettled","eachLimit","items","limit","iterator","debug","undefined","console","log","resolve","reject","queue","pending","failed","enqueue","item","idx","process","concat","getLength","isEmpty","_loop","_queue$dequeue","dequeue","then","catch","err","deferred","name","promise","setPromiseResult","obj","key","label","e","warn"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/promise.js"],"sourcesContent":["import Queue from './queue';\n\nasync function _hash(hash, fnName) {\n  const keys = Object.keys(hash);\n  const promises = Object.values(hash);\n\n  const res = await Promise[fnName](promises);\n  const out = {};\n\n  for ( let i = 0 ; i < keys.length ; i++ ) {\n    out[keys[i]] = res[i];\n  }\n\n  return out;\n}\n\nexport function allHash(hash) {\n  return _hash(hash, 'all');\n}\n\nexport function allHashSettled(hash) {\n  return _hash(hash, 'allSettled');\n}\n\nexport function eachLimit(items, limit, iterator, debug = false) {\n  if (debug) {\n    console.log('eachLimit of', items.length, ' items', limit, 'at a time'); // eslint-disable-line no-console\n  }\n\n  return new Promise((resolve, reject) => {\n    const queue = new Queue();\n    let pending = 0;\n    let failed = false;\n    const out = [];\n\n    for (let i = 0; i < items.length; i++) {\n      queue.enqueue({ item: items[i], idx: i });\n    }\n\n    process();\n\n    function process() {\n      if (debug) {\n        console.log(`process, queue=${ queue.getLength() }, pending=${ pending }, failed=${ failed }`); // eslint-disable-line no-console\n      }\n\n      if (failed) {\n        return;\n      }\n\n      if (queue.isEmpty() && pending === 0) {\n        return resolve(out);\n      }\n\n      while (!queue.isEmpty() && pending < limit && !failed) {\n        const { item, idx } = queue.dequeue();\n\n        if (debug) {\n          console.log('Running', item); // eslint-disable-line no-console\n        }\n\n        pending++;\n\n        iterator(item, idx).then((res) => {\n          if (debug) {\n            console.log('Done', item); // eslint-disable-line no-console\n          }\n\n          out[idx] = res;\n\n          pending--;\n          process();\n        }).catch((err) => {\n          if (debug) {\n            console.log('Failed', err, item); // eslint-disable-line no-console\n          }\n\n          failed = true;\n          reject(err);\n        });\n      }\n    }\n  });\n}\n\nexport function deferred(name) {\n  const out = {};\n\n  out.promise = new Promise((resolve, reject) => {\n    out.resolve = resolve;\n    out.reject = reject;\n  }, name);\n\n  return out;\n}\n\n/**\n * Apply the result of a promise to a given object's property\n *\n * This is a non-blocking method\n *\n * @param promise Promise to fetch result for\n * @param obj Object to set result of promise to\n * @param key Property in object to set result to\n * @param label Description of what promise is trying to  do\n */\nexport function setPromiseResult(promise, obj, key, label) {\n  promise\n    .then((res) => {\n      obj[key] = res;\n    })\n    .catch((e) => {\n      console.warn('Failed to: ', label, e); // eslint-disable-line no-console\n    });\n}\n"],"mappings":"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","ignoreList":[]}]}