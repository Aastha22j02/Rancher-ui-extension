{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQXJyYXlMaXN0R3JvdXBlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdEdyb3VwZWQnOwppbXBvcnQgTWF0Y2hFeHByZXNzaW9ucyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL01hdGNoRXhwcmVzc2lvbnMnOwppbXBvcnQgQXJyYXlMaXN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vQXJyYXlMaXN0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyLAogICAgQXJyYXlMaXN0R3JvdXBlZDogQXJyYXlMaXN0R3JvdXBlZCwKICAgIE1hdGNoRXhwcmVzc2lvbnM6IE1hdGNoRXhwcmVzc2lvbnMsCiAgICBBcnJheUxpc3Q6IEFycmF5TGlzdCwKICAgIENoZWNrYm94OiBDaGVja2JveAogIH0sCiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBoYXZlQXJnSW5mbzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNlbGVjdGVkVmVyc2lvbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmtlQ29uZmlnOiBmdW5jdGlvbiBya2VDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnNwZWMucmtlQ29uZmlnOwogICAgfSwKICAgIGFnZW50QXJnczogZnVuY3Rpb24gYWdlbnRBcmdzKCkgewogICAgICB2YXIgX3RoaXMkc2VsZWN0ZWRWZXJzaW9uOwogICAgICByZXR1cm4gKChfdGhpcyRzZWxlY3RlZFZlcnNpb24gPSB0aGlzLnNlbGVjdGVkVmVyc2lvbikgPT09IG51bGwgfHwgX3RoaXMkc2VsZWN0ZWRWZXJzaW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZWxlY3RlZFZlcnNpb24uYWdlbnRBcmdzKSB8fCB7fTsKICAgIH0sCiAgICBjYW5SZW1vdmVLdWJlbGV0Um93OiBmdW5jdGlvbiBjYW5SZW1vdmVLdWJlbGV0Um93KHJvdywgaWR4KSB7CiAgICAgIHJldHVybiBpZHggIT09IDA7CiAgICB9LAogICAgc2VydmVyQXJnczogZnVuY3Rpb24gc2VydmVyQXJncygpIHsKICAgICAgdmFyIF90aGlzJHNlbGVjdGVkVmVyc2lvbjI7CiAgICAgIHJldHVybiAoKF90aGlzJHNlbGVjdGVkVmVyc2lvbjIgPSB0aGlzLnNlbGVjdGVkVmVyc2lvbikgPT09IG51bGwgfHwgX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMi5zZXJ2ZXJBcmdzKSB8fCB7fTsKICAgIH0sCiAgICBzZXJ2ZXJDb25maWc6IGZ1bmN0aW9uIHNlcnZlckNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZzsKICAgIH0sCiAgICBhZ2VudENvbmZpZzogZnVuY3Rpb24gYWdlbnRDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmFnZW50Q29uZmlnOwogICAgfSwKICAgIGFkdmFuY2VkVGl0bGVBbHQ6IGZ1bmN0aW9uIGFkdmFuY2VkVGl0bGVBbHQoKSB7CiAgICAgIHZhciBtYWNoaW5lU2VsZWN0b3JMZW5ndGggPSB0aGlzLnJrZUNvbmZpZy5tYWNoaW5lU2VsZWN0b3JDb25maWcubGVuZ3RoOwogICAgICByZXR1cm4gdGhpcy50KCdjbHVzdGVyLmFkdmFuY2VkLmFyZ0luZm8ubWFjaGluZVNlbGVjdG9yLnRpdGxlQWx0JywgewogICAgICAgIGNvdW50OiBtYWNoaW5lU2VsZWN0b3JMZW5ndGgKICAgICAgfSk7CiAgICB9LAogICAgcHJvdGVjdEtlcm5lbERlZmF1bHRzOiBmdW5jdGlvbiBwcm90ZWN0S2VybmVsRGVmYXVsdHMoKSB7CiAgICAgIHJldHVybiAodGhpcy5hZ2VudENvbmZpZyB8fCB0aGlzLnNlcnZlckNvbmZpZylbJ3Byb3RlY3Qta2VybmVsLWRlZmF1bHRzJ107CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbklucHV0UHJvdGVjdEtlcm5lbERlZmF1bHRzOiBmdW5jdGlvbiBvbklucHV0UHJvdGVjdEtlcm5lbERlZmF1bHRzKHZhbHVlKSB7CiAgICAgIFZ1ZS5zZXQodGhpcy5hZ2VudENvbmZpZyB8fCB0aGlzLnNlcnZlckNvbmZpZywgJ3Byb3RlY3Qta2VybmVsLWRlZmF1bHRzJywgdmFsdWUpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Vue","Banner","ArrayListGrouped","MatchExpressions","ArrayList","Checkbox","components","props","mode","type","String","required","value","Object","haveArgInfo","Boolean","selectedVersion","computed","rkeConfig","spec","agentArgs","_this$selectedVersion","canRemoveKubeletRow","row","idx","serverArgs","_this$selectedVersion2","serverConfig","machineGlobalConfig","agentConfig","advancedTitleAlt","machineSelectorLength","machineSelectorConfig","length","t","count","protectKernelDefaults","methods","onInputProtectKernelDefaults","set"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport { Banner } from '@components/Banner';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nexport default {\n  components: {\n    Banner,\n    ArrayListGrouped,\n    MatchExpressions,\n    ArrayList,\n    Checkbox\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    haveArgInfo: {\n      type:     Boolean,\n      required: true\n    },\n\n    selectedVersion: {\n      type:     Object,\n      required: true\n    },\n\n  },\n\n  computed: {\n    rkeConfig() {\n      return this.value.spec.rkeConfig;\n    },\n    agentArgs() {\n      return this.selectedVersion?.agentArgs || {};\n    },\n    canRemoveKubeletRow(row, idx) {\n      return idx !== 0;\n    },\n    serverArgs() {\n      return this.selectedVersion?.serverArgs || {};\n    },\n    serverConfig() {\n      return this.value.spec.rkeConfig.machineGlobalConfig;\n    },\n    agentConfig() {\n      return this.value.agentConfig;\n    },\n    advancedTitleAlt() {\n      const machineSelectorLength = this.rkeConfig.machineSelectorConfig.length;\n\n      return this.t('cluster.advanced.argInfo.machineSelector.titleAlt', { count: machineSelectorLength });\n    },\n    protectKernelDefaults() {\n      return (this.agentConfig || this.serverConfig)['protect-kernel-defaults'];\n    }\n  },\n\n  methods: {\n    onInputProtectKernelDefaults(value) {\n      Vue.set(this.agentConfig || this.serverConfig, 'protect-kernel-defaults', value);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <template v-if=\"haveArgInfo\">\n      <h3>{{ t('cluster.advanced.argInfo.title') }}</h3>\n      <ArrayListGrouped\n        v-if=\"agentArgs['kubelet-arg']\"\n        v-model=\"rkeConfig.machineSelectorConfig\"\n        class=\"mb-20\"\n        :add-label=\"t('cluster.advanced.argInfo.machineSelector.label')\"\n        :can-remove=\"canRemoveKubeletRow\"\n        :default-add-value=\"{machineLabelSelector: { matchExpressions: [], matchLabels: {} }, config: {'kubelet-arg': []}}\"\n      >\n        <template #default=\"{row}\">\n          <template v-if=\"row.value.machineLabelSelector\">\n            <h3>{{ t('cluster.advanced.argInfo.machineSelector.title') }}</h3>\n            <MatchExpressions\n              v-model=\"row.value.machineLabelSelector\"\n              class=\"mb-20\"\n              :mode=\"mode\"\n              :show-remove=\"false\"\n              :initial-empty-row=\"true\"\n            />\n            <h3>{{ t('cluster.advanced.argInfo.machineSelector.subTitle') }}</h3>\n          </template>\n          <h3 v-else>\n            {{ advancedTitleAlt }}\n          </h3>\n\n          <ArrayList\n            v-model=\"row.value.config['kubelet-arg']\"\n            :mode=\"mode\"\n            :add-label=\"t('cluster.advanced.argInfo.machineSelector.listLabel')\"\n            :initial-empty-row=\"!!row.value.machineLabelSelector\"\n          />\n        </template>\n      </ArrayListGrouped>\n      <Banner\n        v-if=\"rkeConfig.machineSelectorConfig.length > 1\"\n        color=\"info\"\n        :label=\"t('cluster.advanced.argInfo.machineSelector.bannerLabel')\"\n      />\n\n      <ArrayList\n        v-if=\"serverArgs['kube-controller-manager-arg']\"\n        v-model=\"serverConfig['kube-controller-manager-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeControllerManagerTitle')\"\n        class=\"mb-20\"\n      />\n      <ArrayList\n        v-if=\"serverArgs['kube-apiserver-arg']\"\n        v-model=\"serverConfig['kube-apiserver-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeApiServerTitle')\"\n        class=\"mb-20\"\n      />\n      <ArrayList\n        v-if=\"serverArgs['kube-scheduler-arg']\"\n        v-model=\"serverConfig['kube-scheduler-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeSchedulerTitle')\"\n      />\n    </template>\n    <template v-if=\"agentArgs && agentArgs['protect-kernel-defaults']\">\n      <div class=\"spacer\" />\n\n      <div class=\"row\">\n        <div class=\"col span-12\">\n          <Checkbox\n            data-testid=\"protect-kernel-defaults\"\n            :value=\"protectKernelDefaults\"\n            :mode=\"mode\"\n            :label=\"t('cluster.advanced.agentArgs.label')\"\n            @input=\"onInputProtectKernelDefaults($event)\"\n          />\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n"],"mappings":"AACA,OAAAA,GAAA;AACA,SAAAC,MAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,SAAA;AACA,SAAAC,QAAA;AAEA;EACAC,UAAA;IACAL,MAAA,EAAAA,MAAA;IACAC,gBAAA,EAAAA,gBAAA;IACAC,gBAAA,EAAAA,gBAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,QAAA,EAAAA;EACA;EAEAE,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IAEAG,WAAA;MACAL,IAAA,EAAAM,OAAA;MACAJ,QAAA;IACA;IAEAK,eAAA;MACAP,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;EAEA;EAEAM,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAN,KAAA,CAAAO,IAAA,CAAAD,SAAA;IACA;IACAE,SAAA,WAAAA,UAAA;MAAA,IAAAC,qBAAA;MACA,SAAAA,qBAAA,QAAAL,eAAA,cAAAK,qBAAA,uBAAAA,qBAAA,CAAAD,SAAA;IACA;IACAE,mBAAA,WAAAA,oBAAAC,GAAA,EAAAC,GAAA;MACA,OAAAA,GAAA;IACA;IACAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,sBAAA;MACA,SAAAA,sBAAA,QAAAV,eAAA,cAAAU,sBAAA,uBAAAA,sBAAA,CAAAD,UAAA;IACA;IACAE,YAAA,WAAAA,aAAA;MACA,YAAAf,KAAA,CAAAO,IAAA,CAAAD,SAAA,CAAAU,mBAAA;IACA;IACAC,WAAA,WAAAA,YAAA;MACA,YAAAjB,KAAA,CAAAiB,WAAA;IACA;IACAC,gBAAA,WAAAA,iBAAA;MACA,IAAAC,qBAAA,QAAAb,SAAA,CAAAc,qBAAA,CAAAC,MAAA;MAEA,YAAAC,CAAA;QAAAC,KAAA,EAAAJ;MAAA;IACA;IACAK,qBAAA,WAAAA,sBAAA;MACA,aAAAP,WAAA,SAAAF,YAAA;IACA;EACA;EAEAU,OAAA;IACAC,4BAAA,WAAAA,6BAAA1B,KAAA;MACAZ,GAAA,CAAAuC,GAAA,MAAAV,WAAA,SAAAF,YAAA,6BAAAf,KAAA;IACA;EACA;AACA","ignoreList":[]}]}