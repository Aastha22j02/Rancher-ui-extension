{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/Inactivity.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/Inactivity.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgTW9kYWxXaXRoQ2FyZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Nb2RhbFdpdGhDYXJkJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IFBlcmNlbnRhZ2VCYXIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUGVyY2VudGFnZUJhci52dWUnOwppbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoL3Rocm90dGxlJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBERUZBVUxUX1BFUkZfU0VUVElORywgU0VUVElORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2V0dGluZ3MnOwp2YXIgZ2xvYmFsSWQ7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW5hY3Rpdml0eScsCiAgY29tcG9uZW50czogewogICAgTW9kYWxXaXRoQ2FyZDogTW9kYWxXaXRoQ2FyZCwKICAgIEJhbm5lcjogQmFubmVyLAogICAgUGVyY2VudGFnZUJhcjogUGVyY2VudGFnZUJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVuYWJsZWQ6IG51bGwsCiAgICAgIGlzT3BlbjogZmFsc2UsCiAgICAgIGlzSW5hY3RpdmU6IGZhbHNlLAogICAgICBzaG93TW9kYWxBZnRlcjogbnVsbCwKICAgICAgaW5hY3Rpdml0eVRpbWVvdXRJZDogbnVsbCwKICAgICAgY291cnRlc3lUaW1lcjogbnVsbCwKICAgICAgY291cnRlc3lUaW1lcklkOiBudWxsLAogICAgICBjb3VydGVzeUNvdW50ZG93bjogbnVsbCwKICAgICAgdHJhY2tJbmFjdGl2aXR5OiB0aHJvdHRsZSh0aGlzLl90cmFja0luYWN0aXZpdHksIDEwMDApLAogICAgICBpZDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfc2V0dGluZ3MsIF9zZXR0aW5nczIsIF9zZXR0aW5nczMsIF9zZXR0aW5nczQsIF9zZXR0aW5nczU7CiAgICAgIHZhciBzZXR0aW5ncywgc2V0dGluZ3NTdHJpbmcsIHRocmVzaG9sZFRvU2Vjb25kczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kJywgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuU0VUVElORywKICAgICAgICAgICAgICBpZDogU0VUVElORy5VSV9QRVJGT1JNQU5DRQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgc2V0dGluZ3NTdHJpbmcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBzZXR0aW5ncyA9IHNldHRpbmdzU3RyaW5nICE9PSBudWxsICYmIHNldHRpbmdzU3RyaW5nICE9PSB2b2lkIDAgJiYgc2V0dGluZ3NTdHJpbmcudmFsdWUgPyBKU09OLnBhcnNlKHNldHRpbmdzU3RyaW5nLnZhbHVlKSA6IERFRkFVTFRfUEVSRl9TRVRUSU5HOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBpZiAoISghc2V0dGluZ3MgfHwgISgoX3NldHRpbmdzID0gc2V0dGluZ3MpICE9PSBudWxsICYmIF9zZXR0aW5ncyAhPT0gdm9pZCAwICYmIF9zZXR0aW5ncy5pbmFjdGl2aXR5KSB8fCAhKChfc2V0dGluZ3MyID0gc2V0dGluZ3MpICE9PSBudWxsICYmIF9zZXR0aW5nczIgIT09IHZvaWQgMCAmJiBfc2V0dGluZ3MyLmluYWN0aXZpdHkuZW5hYmxlZCkpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX3RoaXMuZW5hYmxlZCA9ICgoX3NldHRpbmdzMyA9IHNldHRpbmdzKSA9PT0gbnVsbCB8fCBfc2V0dGluZ3MzID09PSB2b2lkIDAgfHwgKF9zZXR0aW5nczMgPSBfc2V0dGluZ3MzLmluYWN0aXZpdHkpID09PSBudWxsIHx8IF9zZXR0aW5nczMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZXR0aW5nczMuZW5hYmxlZCkgfHwgZmFsc2U7CgogICAgICAgICAgICAvLyBUb3RhbCBhbW91bnQgb2YgdGltZSBiZWZvcmUgdGhlIHVzZXIncyBzZXNzaW9uIGlzIGxvc3QKICAgICAgICAgICAgdGhyZXNob2xkVG9TZWNvbmRzID0gKChfc2V0dGluZ3M0ID0gc2V0dGluZ3MpID09PSBudWxsIHx8IF9zZXR0aW5nczQgPT09IHZvaWQgMCB8fCAoX3NldHRpbmdzNCA9IF9zZXR0aW5nczQuaW5hY3Rpdml0eSkgPT09IG51bGwgfHwgX3NldHRpbmdzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NldHRpbmdzNC50aHJlc2hvbGQpICogNjA7IC8vIEFtb3VudCBvZiB0aW1lIHRoZSB1c2VyIHNlZXMgdGhlIGluYWN0aXZpdHkgd2FybmluZwogICAgICAgICAgICBfdGhpcy5jb3VydGVzeVRpbWVyID0gTWF0aC5mbG9vcih0aHJlc2hvbGRUb1NlY29uZHMgKiAwLjEpOwogICAgICAgICAgICBfdGhpcy5jb3VydGVzeVRpbWVyID0gTWF0aC5taW4oX3RoaXMuY291cnRlc3lUaW1lciwgNjAgKiA1KTsgLy8gTmV2ZXIgc2hvdyB0aGUgbW9kYWwgbW9yZSB0aGFuIDUgbWludXRlcwogICAgICAgICAgICAvLyBBbW91bnQgb2YgdGltZSBiZWZvcmUgdGhlIHVzZXIgc2VlcyB0aGUgaW5hY3Rpdml0eSB3YXJuaW5nCiAgICAgICAgICAgIC8vIE5vdGUgLSB0aW1lIGJlZm9yZSB3YXJuaW5nIGlzIHNob3duICsgdGltZSB3YXJuaW5nIGlzIHNob3duID0gc2V0dGluZ3MgdGhyZXNob2xkICh0b3RhbCBhbW91bnQgb2YgdGltZSkKICAgICAgICAgICAgX3RoaXMuc2hvd01vZGFsQWZ0ZXIgPSB0aHJlc2hvbGRUb1NlY29uZHMgLSBfdGhpcy5jb3VydGVzeVRpbWVyOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJJbmFjdGl2aXR5IG1vZGFsIHdpbGwgc2hvdyBhZnRlciAiLmNvbmNhdChfdGhpcy5zaG93TW9kYWxBZnRlciAvIDYwLCAiKG0pIGFuZCBiZSBzaG93biBmb3IgIikuY29uY2F0KF90aGlzLmNvdXJ0ZXN5VGltZXIgLyA2MCwgIihtKSIpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICAgICAgICBfdGhpcy5jb3VydGVzeUNvdW50ZG93biA9IF90aGlzLmNvdXJ0ZXN5VGltZXI7CiAgICAgICAgICAgIGlmICgoX3NldHRpbmdzNSA9IHNldHRpbmdzKSAhPT0gbnVsbCAmJiBfc2V0dGluZ3M1ICE9PSB2b2lkIDAgJiYgX3NldHRpbmdzNS5pbmFjdGl2aXR5LmVuYWJsZWQpIHsKICAgICAgICAgICAgICBfdGhpcy50cmFja0luYWN0aXZpdHkoKTsKICAgICAgICAgICAgICBfdGhpcy5hZGRJZGxlTGlzdGVuZXJzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA3XV0pOwogICAgfSkpKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7CiAgICB0aGlzLmNsZWFyQWxsVGltZW91dHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIF90cmFja0luYWN0aXZpdHk6IGZ1bmN0aW9uIF90cmFja0luYWN0aXZpdHkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5pc0luYWN0aXZlIHx8IHRoaXMuaXNPcGVuIHx8ICF0aGlzLnNob3dNb2RhbEFmdGVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY2xlYXJBbGxUaW1lb3V0cygpOwogICAgICB2YXIgZW5kVGltZSA9IERhdGUubm93KCkgKyB0aGlzLnNob3dNb2RhbEFmdGVyICogMTAwMDsKICAgICAgdGhpcy5pZCA9IGVuZFRpbWU7CiAgICAgIGdsb2JhbElkID0gZW5kVGltZTsKICAgICAgdmFyIGNoZWNrSW5hY3Rpdml0eVRpbWVyID0gZnVuY3Rpb24gY2hlY2tJbmFjdGl2aXR5VGltZXIoKSB7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgaWYgKF90aGlzMi5pZCAhPT0gZ2xvYmFsSWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG5vdyA+PSBlbmRUaW1lKSB7CiAgICAgICAgICBfdGhpczIuaXNPcGVuID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMi5zdGFydENvdW50ZG93bigpOwogICAgICAgICAgX3RoaXMyLiRtb2RhbC5zaG93KCdpbmFjdGl2aXR5TW9kYWwnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmluYWN0aXZpdHlUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGNoZWNrSW5hY3Rpdml0eVRpbWVyLCAxMDAwKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGNoZWNrSW5hY3Rpdml0eVRpbWVyKCk7CiAgICB9LAogICAgc3RhcnRDb3VudGRvd246IGZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGVuZFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5jb3VydGVzeUNvdW50ZG93biAqIDEwMDA7CiAgICAgIHZhciBjaGVja0NvdW50ZG93biA9IGZ1bmN0aW9uIGNoZWNrQ291bnRkb3duKCkgewogICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpOwogICAgICAgIGlmIChub3cgPj0gZW5kVGltZSkgewogICAgICAgICAgX3RoaXMzLmlzSW5hY3RpdmUgPSB0cnVlOwogICAgICAgICAgX3RoaXMzLnVuc3Vic2NyaWJlKCk7CiAgICAgICAgICBfdGhpczMuY2xlYXJBbGxUaW1lb3V0cygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuY291cnRlc3lDb3VudGRvd24gPSBNYXRoLmZsb29yKChlbmRUaW1lIC0gbm93KSAvIDEwMDApOwogICAgICAgICAgX3RoaXMzLmNvdXJ0ZXN5VGltZXJJZCA9IHNldFRpbWVvdXQoY2hlY2tDb3VudGRvd24sIDEwMDApOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY2hlY2tDb3VudGRvd24oKTsKICAgIH0sCiAgICBhZGRJZGxlTGlzdGVuZXJzOiBmdW5jdGlvbiBhZGRJZGxlTGlzdGVuZXJzKCkgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgIH0sCiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnRyYWNrSW5hY3Rpdml0eSk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgIH0sCiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgdGhpcy5pc0luYWN0aXZlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuY291cnRlc3lDb3VudGRvd24gPSB0aGlzLmNvdXJ0ZXN5VGltZXI7CiAgICAgIHRoaXMuY2xlYXJBbGxUaW1lb3V0cygpOwogICAgICB0aGlzLiRtb2RhbC5oaWRlKCdpbmFjdGl2aXR5TW9kYWwnKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkgewogICAgICBjb25zb2xlLmRlYnVnKCdVbnN1YnNjcmliaW5nIGZyb20gYWxsIHdlYnNvY2tldCBldmVudHMnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1bnN1YnNjcmliZScpOwogICAgfSwKICAgIGNsZWFyQWxsVGltZW91dHM6IGZ1bmN0aW9uIGNsZWFyQWxsVGltZW91dHMoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmluYWN0aXZpdHlUaW1lb3V0SWQpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5jb3VydGVzeVRpbWVySWQpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzSW5hY3RpdmVUZXh0czogZnVuY3Rpb24gaXNJbmFjdGl2ZVRleHRzKCkgewogICAgICByZXR1cm4gdGhpcy5pc0luYWN0aXZlID8gewogICAgICAgIHRpdGxlOiB0aGlzLnQoJ2luYWN0aXZpdHkudGl0bGVFeHBpcmVkJyksCiAgICAgICAgYmFubmVyOiB0aGlzLnQoJ2luYWN0aXZpdHkuYmFubmVyRXhwaXJlZCcpLAogICAgICAgIGNvbnRlbnQ6IHRoaXMudCgnaW5hY3Rpdml0eS5jb250ZW50RXhwaXJlZCcpCiAgICAgIH0gOiB7CiAgICAgICAgdGl0bGU6IHRoaXMudCgnaW5hY3Rpdml0eS50aXRsZScpLAogICAgICAgIGJhbm5lcjogdGhpcy50KCdpbmFjdGl2aXR5LmJhbm5lcicpLAogICAgICAgIGNvbnRlbnQ6IHRoaXMudCgnaW5hY3Rpdml0eS5jb250ZW50JykKICAgICAgfTsKICAgIH0sCiAgICB0aW1lclBlcmNlbnRhZ2VMZWZ0OiBmdW5jdGlvbiB0aW1lclBlcmNlbnRhZ2VMZWZ0KCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLmNvdXJ0ZXN5Q291bnRkb3duIC8gdGhpcy5jb3VydGVzeVRpbWVyICogMTAwKTsKICAgIH0sCiAgICBjb2xvclN0b3BzOiBmdW5jdGlvbiBjb2xvclN0b3BzKCkgewogICAgICByZXR1cm4gewogICAgICAgIDA6ICctLWluZm8nLAogICAgICAgIDMwOiAnLS1pbmZvJywKICAgICAgICA3MDogJy0taW5mbycKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"names":["ModalWithCard","Banner","PercentageBar","throttle","MANAGEMENT","DEFAULT_PERF_SETTING","SETTING","globalId","name","components","data","enabled","isOpen","isInactive","showModalAfter","inactivityTimeoutId","courtesyTimer","courtesyTimerId","courtesyCountdown","trackInactivity","_trackInactivity","id","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_settings","_settings2","_settings3","_settings4","_settings5","settings","settingsString","thresholdToSeconds","wrap","_callee$","_context","prev","next","$store","dispatch","type","UI_PERFORMANCE","sent","value","JSON","parse","t0","inactivity","abrupt","threshold","Math","floor","min","console","debug","concat","addIdleListeners","stop","beforeDestroy","removeEventListener","clearAllTimeouts","methods","_this2","endTime","Date","now","checkInactivityTimer","startCountdown","$modal","show","setTimeout","_this3","checkCountdown","unsubscribe","document","addEventListener","resume","hide","refresh","window","location","reload","clearTimeout","computed","isInactiveTexts","title","t","banner","content","timerPercentageLeft","colorStops"],"sources":["node_modules/@rancher/shell/components/Inactivity.vue"],"sourcesContent":["<script>\nimport ModalWithCard from '@shell/components/ModalWithCard';\nimport { Banner } from '@components/Banner';\nimport PercentageBar from '@shell/components/PercentageBar.vue';\nimport throttle from 'lodash/throttle';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { DEFAULT_PERF_SETTING, SETTING } from '@shell/config/settings';\n\nlet globalId;\n\nexport default {\n  name:       'Inactivity',\n  components: {\n    ModalWithCard, Banner, PercentageBar\n  },\n  data() {\n    return {\n      enabled:             null,\n      isOpen:              false,\n      isInactive:          false,\n      showModalAfter:      null,\n      inactivityTimeoutId: null,\n      courtesyTimer:       null,\n      courtesyTimerId:     null,\n      courtesyCountdown:   null,\n      trackInactivity:     throttle(this._trackInactivity, 1000),\n      id:                  null,\n    };\n  },\n  async mounted() {\n    // Info: normally, this is done in the fetch hook but for some reasons while awaiting for things that will take a while, it won't be ready by the time mounted() is called, pending for investigation.\n    let settings;\n\n    try {\n      const settingsString = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.UI_PERFORMANCE });\n\n      settings = settingsString?.value ? JSON.parse(settingsString.value) : DEFAULT_PERF_SETTING;\n    } catch { }\n\n    if (!settings || !settings?.inactivity || !settings?.inactivity.enabled) {\n      return;\n    }\n\n    this.enabled = settings?.inactivity?.enabled || false;\n\n    // Total amount of time before the user's session is lost\n    const thresholdToSeconds = settings?.inactivity?.threshold * 60;\n\n    // Amount of time the user sees the inactivity warning\n    this.courtesyTimer = Math.floor(thresholdToSeconds * 0.1);\n    this.courtesyTimer = Math.min(this.courtesyTimer, 60 * 5); // Never show the modal more than 5 minutes\n    // Amount of time before the user sees the inactivity warning\n    // Note - time before warning is shown + time warning is shown = settings threshold (total amount of time)\n    this.showModalAfter = thresholdToSeconds - this.courtesyTimer;\n\n    console.debug(`Inactivity modal will show after ${ this.showModalAfter / 60 }(m) and be shown for ${ this.courtesyTimer / 60 }(m)`); // eslint-disable-line no-console\n\n    this.courtesyCountdown = this.courtesyTimer;\n\n    if (settings?.inactivity.enabled) {\n      this.trackInactivity();\n      this.addIdleListeners();\n    }\n  },\n  beforeDestroy() {\n    this.removeEventListener();\n    this.clearAllTimeouts();\n  },\n  methods: {\n    _trackInactivity() {\n      if (this.isInactive || this.isOpen || !this.showModalAfter) {\n        return;\n      }\n\n      this.clearAllTimeouts();\n      const endTime = Date.now() + this.showModalAfter * 1000;\n\n      this.id = endTime;\n      globalId = endTime;\n\n      const checkInactivityTimer = () => {\n        const now = Date.now();\n\n        if (this.id !== globalId) {\n          return;\n        }\n\n        if (now >= endTime) {\n          this.isOpen = true;\n          this.startCountdown();\n\n          this.$modal.show('inactivityModal');\n        } else {\n          this.inactivityTimeoutId = setTimeout(checkInactivityTimer, 1000);\n        }\n      };\n\n      checkInactivityTimer();\n    },\n    startCountdown() {\n      const endTime = Date.now() + (this.courtesyCountdown * 1000);\n\n      const checkCountdown = () => {\n        const now = Date.now();\n\n        if (now >= endTime) {\n          this.isInactive = true;\n          this.unsubscribe();\n          this.clearAllTimeouts();\n        } else {\n          this.courtesyCountdown = Math.floor((endTime - now) / 1000);\n          this.courtesyTimerId = setTimeout(checkCountdown, 1000);\n        }\n      };\n\n      checkCountdown();\n    },\n    addIdleListeners() {\n      document.addEventListener('mousemove', this.trackInactivity);\n      document.addEventListener('mousedown', this.trackInactivity);\n      document.addEventListener('keypress', this.trackInactivity);\n      document.addEventListener('touchmove', this.trackInactivity);\n      document.addEventListener('visibilitychange', this.trackInactivity);\n    },\n    removeEventListener() {\n      document.removeEventListener('mousemove', this.trackInactivity);\n      document.removeEventListener('mousedown', this.trackInactivity);\n      document.removeEventListener('keypress', this.trackInactivity);\n      document.removeEventListener('touchmove', this.trackInactivity);\n      document.removeEventListener('visibilitychange', this.trackInactivity);\n    },\n\n    resume() {\n      this.isInactive = false;\n      this.isOpen = false;\n      this.courtesyCountdown = this.courtesyTimer;\n      this.clearAllTimeouts();\n\n      this.$modal.hide('inactivityModal');\n    },\n\n    refresh() {\n      window.location.reload();\n    },\n\n    unsubscribe() {\n      console.debug('Unsubscribing from all websocket events'); // eslint-disable-line no-console\n      this.$store.dispatch('unsubscribe');\n    },\n    clearAllTimeouts() {\n      clearTimeout(this.inactivityTimeoutId);\n      clearTimeout(this.courtesyTimerId);\n    }\n\n  },\n  computed: {\n    isInactiveTexts() {\n      return this.isInactive ? {\n        title:   this.t('inactivity.titleExpired'),\n        banner:  this.t('inactivity.bannerExpired'),\n        content: this.t('inactivity.contentExpired'),\n      } : {\n        title:   this.t('inactivity.title'),\n        banner:  this.t('inactivity.banner'),\n        content: this.t('inactivity.content'),\n      };\n    },\n    timerPercentageLeft() {\n      return Math.floor((this.courtesyCountdown / this.courtesyTimer ) * 100);\n    },\n    colorStops() {\n      return {\n        0: '--info', 30: '--info', 70: '--info'\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <ModalWithCard\n    ref=\"inactivityModal\"\n    name=\"inactivityModal\"\n    save-text=\"Continue\"\n    :v-if=\"isOpen\"\n    @finish=\"resume\"\n  >\n    <template #title>\n      {{ isInactiveTexts.title }}\n    </template>\n    <span>{{ courtesyCountdown }}</span>\n\n    <template #content>\n      <Banner color=\"info\">\n        {{ isInactiveTexts.banner }}\n      </Banner>\n\n      <p>\n        {{ isInactiveTexts.content }}\n      </p>\n\n      <PercentageBar\n        v-if=\"!isInactive\"\n        class=\"mt-20\"\n        :value=\"timerPercentageLeft\"\n        :color-stops=\"colorStops\"\n      />\n    </template>\n\n    <template\n      #footer\n    >\n      <div class=\"card-actions\">\n        <button\n          v-if=\"!isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"resume\"\n        >\n          <t k=\"inactivity.cta\" />\n        </button>\n\n        <button\n          v-if=\"isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"refresh\"\n        >\n          <t k=\"inactivity.ctaExpired\" />\n        </button>\n      </div>\n    </template>\n  </ModalWithCard>\n</template>\n\n<style lang=\"scss\" scoped>\n.card-actions {\n    display: flex;\n    width: 100%;\n    justify-content: flex-end;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}