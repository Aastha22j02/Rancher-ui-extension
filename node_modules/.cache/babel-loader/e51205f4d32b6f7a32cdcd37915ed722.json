{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlLnZ1ZSc7CmltcG9ydCBQb2RTZWN1cml0eUFkbWlzc2lvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Qb2RTZWN1cml0eUFkbWlzc2lvbi52dWUnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZSc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uLnZ1ZSc7CmltcG9ydCB7IFBTQURpbWVuc2lvbnMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3BvZC1zZWN1cml0eS1hZG1pc3Npb24nOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIGNvbXBvbmVudHM6IHsKICAgIENydVJlc291cmNlOiBDcnVSZXNvdXJjZSwKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBOYW1lTnNEZXNjcmlwdGlvbjogTmFtZU5zRGVzY3JpcHRpb24sCiAgICBQb2RTZWN1cml0eUFkbWlzc2lvbjogUG9kU2VjdXJpdHlBZG1pc3Npb24KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlBTQQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qKgogICAgICogR2V0IG9yIGluaXRpYWxpemUgZXhlbXB0aW9ucyBpZiBub25lCiAgICAgKi8KICAgIGV4ZW1wdGlvbnM6IGZ1bmN0aW9uIGV4ZW1wdGlvbnMoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoKF9iID0gKF9hID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbmZpZ3VyYXRpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5leGVtcHRpb25zKSB8fCB7fTsKICAgIH0sCiAgICAvKioKICAgICAqIEdldCBvciBpbml0aWFsaXplIGRlZmF1bHRzIGxhYmVscyBpZiBub25lCiAgICAgKi8KICAgIGRlZmF1bHRzOiBmdW5jdGlvbiBkZWZhdWx0cygpIHsKICAgICAgdmFyIF9hLCBfYjsKICAgICAgcmV0dXJuICgoX2IgPSAoX2EgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29uZmlndXJhdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlZmF1bHRzKSB8fCB7fTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogUmVwbGFjZSBleGVtcHRpb24gd2l0aCBuZXcgdmFsdWVzCiAgICAgKi8KICAgIHNldEV4ZW1wdGlvbnM6IGZ1bmN0aW9uIHNldEV4ZW1wdGlvbnMoZXhlbXB0aW9ucykgewogICAgICB0aGlzLnZhbHVlLmNvbmZpZ3VyYXRpb24uZXhlbXB0aW9ucyA9IGV4ZW1wdGlvbnM7CiAgICB9LAogICAgLyoqCiAgICAgKiBSZXBsYWNlIGRlZmF1bHRzIHdpdGggbmV3IHZhbHVlcwogICAgICovCiAgICBzZXREZWZhdWx0czogZnVuY3Rpb24gc2V0RGVmYXVsdHMobGFiZWxzKSB7CiAgICAgIHRoaXMudmFsdWUuY29uZmlndXJhdGlvbi5kZWZhdWx0cyA9IGxhYmVsczsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBJbml0aWFsaXplIGNvbmZpZ3VyYXRpb24gaWYgbm9uZSwgYXMgZGVmYXVsdCB2YWx1ZSByZXNvdXJjZSBjYXNlCiAgICBpZiAoIXRoaXMudmFsdWUuY29uZmlndXJhdGlvbikgewogICAgICB0aGlzLnZhbHVlLmNvbmZpZ3VyYXRpb24gPSB7CiAgICAgICAgZGVmYXVsdHM6IHt9LAogICAgICAgIGV4ZW1wdGlvbnM6IE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LCBbe31dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoUFNBRGltZW5zaW9ucy5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgewogICAgICAgICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZGltZW5zaW9uLCBbXSk7CiAgICAgICAgfSkpKSkKICAgICAgfTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["defineComponent","CreateEditView","CruResource","PodSecurityAdmission","Loading","NameNsDescription","PSADimensions","MANAGEMENT","mixins","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","type","PSA","stop","props","value","Object","required","default","mode","String","computed","exemptions","_b","_a","configuration","defaults","methods","setExemptions","setDefaults","labels","created","assign","apply","concat","_toConsumableArray","map","dimension","_defineProperty"],"sources":["/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport { PropType, defineComponent } from 'vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource.vue';\nimport PodSecurityAdmission from '@shell/components/PodSecurityAdmission.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { PSA, PSAConfig, PSADefaults, PSAExemptions } from '@shell/types/resources/pod-security-admission';\nimport { PSADimensions } from '@shell/config/pod-security-admission';\nimport { MANAGEMENT } from '@shell/config/types';\n\nexport default defineComponent({\n  mixins:     [CreateEditView],\n  components: {\n    CruResource,\n    Loading,\n    NameNsDescription,\n    PodSecurityAdmission,\n  },\n\n  async fetch() {\n    await this.$store.dispatch('management/findAll', { type: MANAGEMENT.PSA });\n  },\n\n  props: {\n    value: {\n      type:     Object as PropType<PSA>,\n      required: true,\n      default:  () => ({}) as PSA\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    }\n  },\n  computed: {\n    /**\n     * Get or initialize exemptions if none\n     */\n    exemptions(): PSAExemptions {\n      return this.value?.configuration?.exemptions || {};\n    },\n\n    /**\n     * Get or initialize defaults labels if none\n     */\n    defaults(): PSADefaults {\n      return this.value?.configuration?.defaults || {};\n    },\n  },\n\n  methods: {\n    /**\n     * Replace exemption with new values\n     */\n    setExemptions(exemptions: PSAExemptions) {\n      this.value.configuration.exemptions = exemptions;\n    },\n\n    /**\n     * Replace defaults with new values\n     */\n    setDefaults(labels: PSADefaults) {\n      this.value.configuration.defaults = labels;\n    },\n  },\n\n  created() {\n    // Initialize configuration if none, as default value resource case\n    if (!this.value.configuration) {\n      this.value.configuration = {\n        defaults:   {},\n        exemptions: Object.assign({}, ...PSADimensions.map((dimension) => ({ [dimension]: [] }))),\n      } as PSAConfig;\n    }\n  }\n});\n"],"mappings":";;;;;;;;AACA,SAAmBA,eAAe,QAAQ,KAAK;AAC/C,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,OAAOC,WAAW,MAAM,mCAAmC;AAC3D,OAAOC,oBAAoB,MAAM,4CAA4C;AAC7E,OAAOC,OAAO,MAAM,+BAA+B;AACnD,OAAOC,iBAAiB,MAAM,8CAA8C;AAE5E,SAASC,aAAa,QAAQ,sCAAsC;AACpE,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,eAAeP,eAAe,CAAC;EAC7BQ,MAAM,EAAM,CAACP,cAAc,CAAC;EAC5BQ,UAAU,EAAE;IACVP,WAAW,EAAXA,WAAW;IACXE,OAAO,EAAPA,OAAO;IACPC,iBAAiB,EAAjBA,iBAAiB;IACjBF,oBAAoB,EAApBA;GACD;EAEKO,KAAK,WAALA,KAAKA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACHT,KAAI,CAACU,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAE;cAAEC,IAAI,EAAEhB,UAAU,CAACiB;YAAG,CAAE,CAAC;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAV,OAAA;IAAA;EAC5E,CAAC;EAEDW,KAAK,EAAE;IACLC,KAAK,EAAE;MACLJ,IAAI,EAAMK,MAAuB;MACjCC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAG,SAAVA,QAAOA,CAAA;QAAA,OAAU,EAAE;MAAA;KACpB;IAEDC,IAAI,EAAE;MACJR,IAAI,EAAMS,MAAM;MAChBH,QAAQ,EAAE;;GAEb;EACDI,QAAQ,EAAE;IACR;;;IAGAC,UAAU,WAAVA,UAAUA,CAAA;;MACR,OAAO,EAAAC,EAAA,IAAAC,EAAA,OAAI,CAACT,KAAK,cAAAS,EAAA,uBAAAA,EAAA,CAAEC,aAAa,cAAAF,EAAA,uBAAAA,EAAA,CAAED,UAAU,KAAI,EAAE;IACpD,CAAC;IAED;;;IAGAI,QAAQ,WAARA,QAAQA,CAAA;;MACN,OAAO,EAAAH,EAAA,IAAAC,EAAA,OAAI,CAACT,KAAK,cAAAS,EAAA,uBAAAA,EAAA,CAAEC,aAAa,cAAAF,EAAA,uBAAAA,EAAA,CAAEG,QAAQ,KAAI,EAAE;IAClD;GACD;EAEDC,OAAO,EAAE;IACP;;;IAGAC,aAAa,WAAbA,aAAaA,CAACN,UAAyB;MACrC,IAAI,CAACP,KAAK,CAACU,aAAa,CAACH,UAAU,GAAGA,UAAU;IAClD,CAAC;IAED;;;IAGAO,WAAW,WAAXA,WAAWA,CAACC,MAAmB;MAC7B,IAAI,CAACf,KAAK,CAACU,aAAa,CAACC,QAAQ,GAAGI,MAAM;IAC5C;GACD;EAEDC,OAAO,WAAPA,OAAOA,CAAA;IACL;IACA,IAAI,CAAC,IAAI,CAAChB,KAAK,CAACU,aAAa,EAAE;MAC7B,IAAI,CAACV,KAAK,CAACU,aAAa,GAAG;QACzBC,QAAQ,EAAI,EAAE;QACdJ,UAAU,EAAEN,MAAM,CAACgB,MAAM,CAAAC,KAAA,CAAbjB,MAAM,GAAQ,EAAE,EAAAkB,MAAA,CAAAC,kBAAA,CAAKzC,aAAa,CAAC0C,GAAG,CAAC,UAACC,SAAS;UAAA,OAAAC,eAAA,KAASD,SAAS,EAAG,EAAE;QAAA,CAAG,CAAC;OAC5E;;EAElB;CACD,CAAC","ignoreList":[]}]}