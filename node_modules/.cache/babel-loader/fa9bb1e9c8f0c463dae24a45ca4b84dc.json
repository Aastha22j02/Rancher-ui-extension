{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/gcp.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/gcp.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgRmlsZVNlbGVjdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vRmlsZVNlbGVjdG9yJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgRmlsZVNlbGVjdG9yOiBGaWxlU2VsZWN0b3IKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICB3YXRjaDogewogICAgJ3ZhbHVlLmRlY29kZWREYXRhLmF1dGhFbmNvZGVkSnNvbic6IGZ1bmN0aW9uIHZhbHVlRGVjb2RlZERhdGFBdXRoRW5jb2RlZEpzb24obmV1KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgISFuZXUpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25GaWxlU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uRmlsZVNlbGVjdGVkKGRhdGEpIHsKICAgICAgdGhpcy52YWx1ZS5zZXREYXRhKCdhdXRoRW5jb2RlZEpzb24nLCBkYXRhKTsKICAgIH0sCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3JlZGVudGlhbHMsIGNvbmZpZywgcHJvamVjdElkLCBfY29uZmlnOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IG51bGw7CiAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDsKICAgICAgICAgICAgICBwcm9qZWN0SWQgPSBudWxsOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gX3RoaXMudmFsdWUuZGVjb2RlZERhdGEuYXV0aEVuY29kZWRKc29uOwogICAgICAgICAgICAgIGNvbmZpZyA9IEpTT04ucGFyc2UoY3JlZGVudGlhbHMgfHwgJ3t9Jyk7CiAgICAgICAgICAgICAgcHJvamVjdElkID0gKF9jb25maWcgPSBjb25maWcpID09PSBudWxsIHx8IF9jb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25maWcucHJvamVjdF9pZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2UKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvcmVxdWVzdCcsIHsKICAgICAgICAgICAgICAgIHVybDogJy9tZXRhL2drZVpvbmVzJywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogY3JlZGVudGlhbHMsCiAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE4OwogICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHRbImNhdGNoIl0oMTIpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgOV0sIFsxMiwgMThdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["CreateEditView","LabeledInput","FileSelector","components","mixins","watch","valueDecodedDataAuthEncodedJson","neu","$emit","methods","onFileSelected","data","value","setData","test","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","config","projectId","_config","wrap","_callee$","_context","prev","next","decodedData","authEncodedJson","JSON","parse","project_id","t0","abrupt","$store","dispatch","url","method","redirectUnauthorized","t1","stop"],"sources":["node_modules/@rancher/shell/cloud-credential/gcp.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport FileSelector from '@shell/components/form/FileSelector';\n\nexport default {\n  components: { LabeledInput, FileSelector },\n  mixins:     [CreateEditView],\n\n  watch: {\n    'value.decodedData.authEncodedJson'(neu) {\n      this.$emit('validationChanged', !!neu);\n    }\n  },\n\n  methods: {\n    onFileSelected(data) {\n      this.value.setData('authEncodedJson', data);\n    },\n\n    async test() {\n      let credentials = null;\n      let config = null;\n      let projectId = null;\n\n      try {\n        credentials = this.value.decodedData.authEncodedJson;\n        config = JSON.parse(credentials || '{}');\n        projectId = config?.project_id; // eslint-disable-line camelcase\n      } catch (error) {\n        return false;\n      }\n\n      try {\n        await this.$store.dispatch('management/request', {\n          url:                  '/meta/gkeZones',\n          method:               'POST',\n          data:                 { credentials, projectId },\n          redirectUnauthorized: false,\n        });\n\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <LabeledInput\n      :value=\"value.decodedData.authEncodedJson\"\n      label-key=\"cluster.credential.gcp.authEncodedJson.label\"\n      placeholder-key=\"cluster.credential.gcp.authEncodedJson.placeholder\"\n      type=\"multiline\"\n      :mode=\"mode\"\n      @input=\"value.setData('authEncodedJson', $event);\"\n    />\n    <FileSelector\n      class=\"role-primary btn-sm mt-20 mb-20\"\n      :label=\"t('generic.readFromFile')\"\n      @selected=\"onFileSelected\"\n    />\n    <p\n      v-clean-html=\"t('cluster.credential.gcp.authEncodedJson.help', {}, true)\"\n      class=\"text-muted\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;AACA,OAAAA,cAAA;AACA,SAAAC,YAAA;AACA,OAAAC,YAAA;AAEA;EACAC,UAAA;IAAAF,YAAA,EAAAA,YAAA;IAAAC,YAAA,EAAAA;EAAA;EACAE,MAAA,GAAAJ,cAAA;EAEAK,KAAA;IACA,8CAAAC,gCAAAC,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;EACA;EAEAE,OAAA;IACAC,cAAA,WAAAA,eAAAC,IAAA;MACA,KAAAC,KAAA,CAAAC,OAAA,oBAAAF,IAAA;IACA;IAEAG,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,WAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAC,OAAA;QAAA,OAAAN,mBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAR,WAAA;cACAC,MAAA;cACAC,SAAA;cAAAI,QAAA,CAAAC,IAAA;cAGAP,WAAA,GAAAL,KAAA,CAAAH,KAAA,CAAAiB,WAAA,CAAAC,eAAA;cACAT,MAAA,GAAAU,IAAA,CAAAC,KAAA,CAAAZ,WAAA;cACAE,SAAA,IAAAC,OAAA,GAAAF,MAAA,cAAAE,OAAA,uBAAAA,OAAA,CAAAU,UAAA;cAAAP,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;cAAA,OAAAA,QAAA,CAAAS,MAAA,WAEA;YAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAIAb,KAAA,CAAAqB,MAAA,CAAAC,QAAA;gBACAC,GAAA;gBACAC,MAAA;gBACA5B,IAAA;kBAAAS,WAAA,EAAAA,WAAA;kBAAAE,SAAA,EAAAA;gBAAA;gBACAkB,oBAAA;cACA;YAAA;cAAA,OAAAd,QAAA,CAAAS,MAAA,WAEA;YAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAe,EAAA,GAAAf,QAAA;cAAA,OAAAA,QAAA,CAAAS,MAAA,WAEA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAgB,IAAA;UAAA;QAAA,GAAAvB,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}