{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/LandingPagePreference.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/LandingPagePreference.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IG1hcFByZWYsIEFGVEVSX0xPR0lOX1JPVVRFIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3ByZWZzJzsKaW1wb3J0IHsgbWFwRmVhdHVyZSwgTVVMVElfQ0xVU1RFUiB9IGZyb20gJ0BzaGVsbC9zdG9yZS9mZWF0dXJlcyc7CmltcG9ydCB7IFJhZGlvR3JvdXAsIFJhZGlvQnV0dG9uIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CmltcG9ydCBTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZWxlY3QnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGZpbHRlckhpZGRlbkxvY2FsQ2x1c3RlciwgZmlsdGVyT25seUt1YmVybmV0ZXNDbHVzdGVycyB9IGZyb20gJ0BzaGVsbC91dGlscy9jbHVzdGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJhZGlvR3JvdXA6IFJhZGlvR3JvdXAsCiAgICBSYWRpb0J1dHRvbjogUmFkaW9CdXR0b24sCiAgICBTZWxlY3Q6IFNlbGVjdAogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuQ0xVU1RFUgogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgX3RoaXMuY2x1c3RlcnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8gU3RvcmUgdGhlIHJvdXRlIGFzIGl0IHdhcyBvbiBwYWdlIGxvYWQgKGJlZm9yZSB0aGUgdXNlciBtYXkgaGF2ZSBjaGFuZ2VkIGl0KQogICAgdmFyIGN1c3RvbVJvdXRlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10oQUZURVJfTE9HSU5fUk9VVEUpOwogICAgcmV0dXJuIHsKICAgICAgY2x1c3RlcnM6IFtdLAogICAgICBjdXN0b21Sb3V0ZTogY3VzdG9tUm91dGUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYWZ0ZXJMb2dpblJvdXRlOiBtYXBQcmVmKEFGVEVSX0xPR0lOX1JPVVRFKSwKICAgIG1jbTogbWFwRmVhdHVyZShNVUxUSV9DTFVTVEVSKSwKICAgIHJvdXRlRnJvbURyb3Bkb3duOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHZhciByb3V0ZSA9IHRoaXMuY3VzdG9tUm91dGUgfHwge307CiAgICAgICAgdmFyIG91dCA9IHRoaXMucm91dGVEcm9wZG93bk9wdGlvbnMuZmluZChmdW5jdGlvbiAob3B0KSB7CiAgICAgICAgICB2YXIgX29wdCR2YWx1ZSRwYXJhbXMsIF9yb3V0ZSRwYXJhbXM7CiAgICAgICAgICByZXR1cm4gb3B0LnZhbHVlLm5hbWUgPT09IHJvdXRlLm5hbWUgJiYgKChfb3B0JHZhbHVlJHBhcmFtcyA9IG9wdC52YWx1ZS5wYXJhbXMpID09PSBudWxsIHx8IF9vcHQkdmFsdWUkcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0JHZhbHVlJHBhcmFtcy5jbHVzdGVyKSA9PT0gKChfcm91dGUkcGFyYW1zID0gcm91dGUucGFyYW1zKSA9PT0gbnVsbCB8fCBfcm91dGUkcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm91dGUkcGFyYW1zLmNsdXN0ZXIpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBvdXQgfHwgdGhpcy5yb3V0ZURyb3Bkb3duT3B0aW9uc1swXTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV1KSB7CiAgICAgICAgdGhpcy5jdXN0b21Sb3V0ZSA9IG5ldTsKICAgICAgICB0aGlzLmFmdGVyTG9naW5Sb3V0ZSA9IG5ldTsKICAgICAgfQogICAgfSwKICAgIHJvdXRlUmFkaW9PcHRpb25zOiBmdW5jdGlvbiByb3V0ZVJhZGlvT3B0aW9ucygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBbewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2xhbmRpbmcubGFuZGluZ1ByZWZzLm9wdGlvbnMuaG9tZVBhZ2UnKSwKICAgICAgICB2YWx1ZTogJ2hvbWUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdsYW5kaW5nLmxhbmRpbmdQcmVmcy5vcHRpb25zLmxhc3RWaXNpdGVkJyksCiAgICAgICAgdmFsdWU6ICdsYXN0LXZpc2l0ZWQnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdsYW5kaW5nLmxhbmRpbmdQcmVmcy5vcHRpb25zLmN1c3RvbScpLAogICAgICAgIHZhbHVlOiAnZHJvcGRvd24nCiAgICAgIH1dOwoKICAgICAgLy8gUmVtb3ZlIHRoZSBsYXN0IG9wdGlvbiBpZiBub3QgbXVsdGktY2x1c3RlcgogICAgICBpZiAoIXRoaXMubWNtKSB7CiAgICAgICAgb3B0aW9ucy5wb3AoKTsKICAgICAgfQogICAgICByZXR1cm4gb3B0aW9uczsKICAgIH0sCiAgICByb3V0ZURyb3Bkb3duT3B0aW9uczogZnVuY3Rpb24gcm91dGVEcm9wZG93bk9wdGlvbnMoKSB7CiAgICAgIC8vIERyb3AtZG93biBzaG93cyBsaXN0IG9mIGNsdXN0ZXJzIHRoYXQgY2FuIGJlciBzZXQgYXMgbG9naW4gbGFuZGluZyBwYWdlCiAgICAgIHZhciBvdXQgPSBbXTsKICAgICAgdmFyIGt1YmVDbHVzdGVycyA9IGZpbHRlckhpZGRlbkxvY2FsQ2x1c3RlcihmaWx0ZXJPbmx5S3ViZXJuZXRlc0NsdXN0ZXJzKHRoaXMuY2x1c3RlcnMsIHRoaXMuJHN0b3JlKSwgdGhpcy4kc3RvcmUpOwogICAgICBrdWJlQ2x1c3RlcnMuZm9yRWFjaChmdW5jdGlvbiAoYykgewogICAgICAgIGlmIChjLmlzUmVhZHkpIHsKICAgICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgICAgbGFiZWw6IGMubmFtZURpc3BsYXksCiAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgbmFtZTogJ2MtY2x1c3RlcicsCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBjbHVzdGVyOiBjLmlkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBvdXQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLmxhYmVsID4gYi5sYWJlbCA/IDEgOiBiLmxhYmVsID4gYS5sYWJlbCA/IC0xIDogMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVMb2dpblJvdXRlOiBmdW5jdGlvbiB1cGRhdGVMb2dpblJvdXRlKG5ldSkgewogICAgICBpZiAobmV1KSB7CiAgICAgICAgdGhpcy5hZnRlckxvZ2luUm91dGUgPSBuZXU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90aGlzJHJvdXRlRnJvbURyb3BkbzsKICAgICAgICB0aGlzLmFmdGVyTG9naW5Sb3V0ZSA9IChfdGhpcyRyb3V0ZUZyb21Ecm9wZG8gPSB0aGlzLnJvdXRlRnJvbURyb3Bkb3duKSA9PT0gbnVsbCB8fCBfdGhpcyRyb3V0ZUZyb21Ecm9wZG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdXRlRnJvbURyb3Bkby52YWx1ZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["mapPref","AFTER_LOGIN_ROUTE","mapFeature","MULTI_CLUSTER","RadioGroup","RadioButton","Select","MANAGEMENT","filterHiddenLocalCluster","filterOnlyKubernetesClusters","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLUSTER","clusters","sent","stop","data","customRoute","getters","computed","afterLoginRoute","mcm","routeFromDropdown","get","route","out","routeDropdownOptions","find","opt","_opt$value$params","_route$params","value","name","params","cluster","set","neu","routeRadioOptions","options","label","t","pop","kubeClusters","forEach","c","isReady","push","nameDisplay","id","sort","a","b","methods","updateLoginRoute","_this$routeFromDropdo"],"sources":["node_modules/@rancher/shell/components/LandingPagePreference.vue"],"sourcesContent":["<script>\nimport { mapPref, AFTER_LOGIN_ROUTE } from '@shell/store/prefs';\nimport { mapFeature, MULTI_CLUSTER } from '@shell/store/features';\nimport { RadioGroup, RadioButton } from '@components/Form/Radio';\n\nimport Select from '@shell/components/form/Select';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { filterHiddenLocalCluster, filterOnlyKubernetesClusters } from '@shell/utils/cluster';\n\nexport default {\n  components: {\n    RadioGroup,\n    RadioButton,\n    Select,\n  },\n\n  async fetch() {\n    this.clusters = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.CLUSTER });\n  },\n\n  data() {\n    // Store the route as it was on page load (before the user may have changed it)\n    const customRoute = this.$store.getters['prefs/get'](AFTER_LOGIN_ROUTE);\n\n    return { clusters: [], customRoute };\n  },\n\n  computed: {\n    afterLoginRoute: mapPref(AFTER_LOGIN_ROUTE),\n    mcm:             mapFeature(MULTI_CLUSTER),\n\n    routeFromDropdown: {\n      get() {\n        const route = this.customRoute || {};\n        const out = this.routeDropdownOptions.find((opt) => opt.value.name === route.name && opt.value.params?.cluster === route.params?.cluster);\n\n        return out || this.routeDropdownOptions[0];\n      },\n      set(neu) {\n        this.customRoute = neu;\n        this.afterLoginRoute = neu;\n      }\n    },\n\n    routeRadioOptions() {\n      const options = [\n        {\n          label: this.t('landing.landingPrefs.options.homePage'),\n          value: 'home'\n        },\n        {\n          label: this.t('landing.landingPrefs.options.lastVisited'),\n          value: 'last-visited'\n        },\n        {\n          label: this.t('landing.landingPrefs.options.custom'),\n          value: 'dropdown'\n        }\n      ];\n\n      // Remove the last option if not multi-cluster\n      if (!this.mcm) {\n        options.pop();\n      }\n\n      return options;\n    },\n\n    routeDropdownOptions() {\n      // Drop-down shows list of clusters that can ber set as login landing page\n      const out = [];\n      const kubeClusters = filterHiddenLocalCluster(filterOnlyKubernetesClusters(this.clusters, this.$store), this.$store);\n\n      kubeClusters.forEach((c) => {\n        if (c.isReady) {\n          out.push({\n            label: c.nameDisplay,\n            value: {\n              name:   'c-cluster',\n              params: { cluster: c.id }\n            }\n          });\n        }\n      });\n\n      out.sort((a, b) => (a.label > b.label) ? 1 : ((b.label > a.label) ? -1 : 0));\n\n      return out;\n    }\n  },\n\n  methods: {\n    updateLoginRoute(neu) {\n      if (neu) {\n        this.afterLoginRoute = neu;\n      } else {\n        this.afterLoginRoute = this.routeFromDropdown?.value;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <p class=\"set-landing-leadin\">\n      {{ t('landing.landingPrefs.body') }}\n    </p>\n    <RadioGroup\n      id=\"login-route\"\n      :value=\"afterLoginRoute\"\n      name=\"login-route\"\n      :options=\"routeRadioOptions\"\n      @input=\"updateLoginRoute\"\n    >\n      <template #2=\"{option, listeners}\">\n        <div class=\"custom-page\">\n          <RadioButton\n            :label=\"option.label\"\n            :val=\"false\"\n            :value=\"afterLoginRoute=== 'home' || afterLoginRoute === 'last-visited'\"\n            v-on=\"listeners\"\n          />\n          <Select\n            v-model=\"routeFromDropdown\"\n            :searchable=\"true\"\n            :disabled=\"afterLoginRoute === 'home' || afterLoginRoute === 'last-visited'\"\n            :clearable=\"false\"\n            :options=\"routeDropdownOptions\"\n            class=\"custom-page-options\"\n          />\n        </div>\n      </template>\n    </RadioGroup>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .custom-page {\n    .custom-page-options {\n      margin: 5px 0 0 20px;\n      min-width: 320px;\n      width: fit-content;\n    }\n  }\n  .set-landing-leadin {\n    padding-bottom: 10px;\n  }\n</style>\n"],"mappings":";;;;;;;;AACA,SAAAA,OAAA,EAAAC,iBAAA;AACA,SAAAC,UAAA,EAAAC,aAAA;AACA,SAAAC,UAAA,EAAAC,WAAA;AAEA,OAAAC,MAAA;AACA,SAAAC,UAAA;AACA,SAAAC,wBAAA,EAAAC,4BAAA;AAEA;EACAC,UAAA;IACAN,UAAA,EAAAA,UAAA;IACAC,WAAA,EAAAA,WAAA;IACAC,MAAA,EAAAA;EACA;EAEAK,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAU,MAAA,CAAAC,QAAA;cAAAC,IAAA,EAAAjB,UAAA,CAAAkB;YAAA;UAAA;YAAAb,KAAA,CAAAc,QAAA,GAAAP,QAAA,CAAAQ,IAAA;UAAA;UAAA;YAAA,OAAAR,QAAA,CAAAS,IAAA;QAAA;MAAA,GAAAZ,OAAA;IAAA;EACA;EAEAa,IAAA,WAAAA,KAAA;IACA;IACA,IAAAC,WAAA,QAAAR,MAAA,CAAAS,OAAA,cAAA9B,iBAAA;IAEA;MAAAyB,QAAA;MAAAI,WAAA,EAAAA;IAAA;EACA;EAEAE,QAAA;IACAC,eAAA,EAAAjC,OAAA,CAAAC,iBAAA;IACAiC,GAAA,EAAAhC,UAAA,CAAAC,aAAA;IAEAgC,iBAAA;MACAC,GAAA,WAAAA,IAAA;QACA,IAAAC,KAAA,QAAAP,WAAA;QACA,IAAAQ,GAAA,QAAAC,oBAAA,CAAAC,IAAA,WAAAC,GAAA;UAAA,IAAAC,iBAAA,EAAAC,aAAA;UAAA,OAAAF,GAAA,CAAAG,KAAA,CAAAC,IAAA,KAAAR,KAAA,CAAAQ,IAAA,MAAAH,iBAAA,GAAAD,GAAA,CAAAG,KAAA,CAAAE,MAAA,cAAAJ,iBAAA,uBAAAA,iBAAA,CAAAK,OAAA,QAAAJ,aAAA,GAAAN,KAAA,CAAAS,MAAA,cAAAH,aAAA,uBAAAA,aAAA,CAAAI,OAAA;QAAA;QAEA,OAAAT,GAAA,SAAAC,oBAAA;MACA;MACAS,GAAA,WAAAA,IAAAC,GAAA;QACA,KAAAnB,WAAA,GAAAmB,GAAA;QACA,KAAAhB,eAAA,GAAAgB,GAAA;MACA;IACA;IAEAC,iBAAA,WAAAA,kBAAA;MACA,IAAAC,OAAA,IACA;QACAC,KAAA,OAAAC,CAAA;QACAT,KAAA;MACA,GACA;QACAQ,KAAA,OAAAC,CAAA;QACAT,KAAA;MACA,GACA;QACAQ,KAAA,OAAAC,CAAA;QACAT,KAAA;MACA,EACA;;MAEA;MACA,UAAAV,GAAA;QACAiB,OAAA,CAAAG,GAAA;MACA;MAEA,OAAAH,OAAA;IACA;IAEAZ,oBAAA,WAAAA,qBAAA;MACA;MACA,IAAAD,GAAA;MACA,IAAAiB,YAAA,GAAA/C,wBAAA,CAAAC,4BAAA,MAAAiB,QAAA,OAAAJ,MAAA,QAAAA,MAAA;MAEAiC,YAAA,CAAAC,OAAA,WAAAC,CAAA;QACA,IAAAA,CAAA,CAAAC,OAAA;UACApB,GAAA,CAAAqB,IAAA;YACAP,KAAA,EAAAK,CAAA,CAAAG,WAAA;YACAhB,KAAA;cACAC,IAAA;cACAC,MAAA;gBAAAC,OAAA,EAAAU,CAAA,CAAAI;cAAA;YACA;UACA;QACA;MACA;MAEAvB,GAAA,CAAAwB,IAAA,WAAAC,CAAA,EAAAC,CAAA;QAAA,OAAAD,CAAA,CAAAX,KAAA,GAAAY,CAAA,CAAAZ,KAAA,OAAAY,CAAA,CAAAZ,KAAA,GAAAW,CAAA,CAAAX,KAAA;MAAA;MAEA,OAAAd,GAAA;IACA;EACA;EAEA2B,OAAA;IACAC,gBAAA,WAAAA,iBAAAjB,GAAA;MACA,IAAAA,GAAA;QACA,KAAAhB,eAAA,GAAAgB,GAAA;MACA;QAAA,IAAAkB,qBAAA;QACA,KAAAlC,eAAA,IAAAkC,qBAAA,QAAAhC,iBAAA,cAAAgC,qBAAA,uBAAAA,qBAAA,CAAAvB,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}