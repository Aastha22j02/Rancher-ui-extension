{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFRhaW50cyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1RhaW50cy52dWUnOwppbXBvcnQgS2V5VmFsdWUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9LZXlWYWx1ZS52dWUnOwppbXBvcnQgQWR2YW5jZWRTZWN0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FkdmFuY2VkU2VjdGlvbi52dWUnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgVW5pdElucHV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVW5pdElucHV0LnZ1ZSc7CmltcG9ydCB7IHJhbmRvbVN0ciB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hY2hpbmVQb29sJywKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIFRhaW50czogVGFpbnRzLAogICAgS2V5VmFsdWU6IEtleVZhbHVlLAogICAgQWR2YW5jZWRTZWN0aW9uOiBBZHZhbmNlZFNlY3Rpb24sCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIFVuaXRJbnB1dDogVW5pdElucHV0CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsdXN0ZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyBubyBjcmVkZW50aWFscyBhcmUgcmVxdWlyZWQgZm9yIGVsZW1lbnRhbCBtYWNoaW5lIHBvb2xzCiAgICBjcmVkZW50aWFsSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IF9FRElUCiAgICB9LAogICAgcHJvdmlkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlkeDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbWFjaGluZVBvb2xzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyBJcyB0aGUgVUkgYnVzeSAoZS5nLiBkdXJpbmcgc2F2ZSkKICAgIGJ1c3k6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwb29sSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBwYXJzZUR1cmF0aW9uID0gZnVuY3Rpb24gcGFyc2VEdXJhdGlvbihkdXJhdGlvbikgewogICAgICAvLyBUaGUgYmFjayBlbmQgc3RvcmVzIHRoZSB0aW1lb3V0IGluIER1cmF0aW9uIGZvcm1hdCwgZm9yIGV4YW1wbGUsICI0MmQzMWgxMG0zMHMiLgogICAgICAvLyBIZXJlIHdlIGNvbnZlcnQgdGhhdCBzdHJpbmcgdG8gYW4gaW50ZWdlciBhbmQgcmV0dXJuIHRoZSBkdXJhdGlvbiBhcyBzZWNvbmRzLgogICAgICB2YXIgc3BsaXRTdHIgPSBkdXJhdGlvbi5zcGxpdCgvKFthLXpdKS8pOwogICAgICB2YXIgZHVyYXRpb25zQXNTZWNvbmRzID0gc3BsaXRTdHIucmVkdWNlKGZ1bmN0aW9uIChvbGQsIG5ldSwgaWR4KSB7CiAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KG5ldSk7CiAgICAgICAgaWYgKGlzTmFOKHBhcnNlZCkpIHsKICAgICAgICAgIHJldHVybiBvbGQ7CiAgICAgICAgfQogICAgICAgIHZhciBpbnRlcnZhbCA9IHNwbGl0U3RyW2lkeCArIDFdOwogICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHsKICAgICAgICAgIGNhc2UgJ2QnOgogICAgICAgICAgICBvbGQucHVzaChwYXJzZWQgKiAyNCAqIDYwICogNjApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2gnOgogICAgICAgICAgICBvbGQucHVzaChwYXJzZWQgKiA2MCAqIDYwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdtJzoKICAgICAgICAgICAgb2xkLnB1c2gocGFyc2VkICogNjApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3MnOgogICAgICAgICAgICBvbGQucHVzaChwYXJzZWQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2xkOwogICAgICB9LCBbXSk7CiAgICAgIHJldHVybiBkdXJhdGlvbnNBc1NlY29uZHMucmVkdWNlKGZ1bmN0aW9uIChvbGQsIG5ldSkgewogICAgICAgIHJldHVybiBvbGQgKyBuZXU7CiAgICAgIH0pOwogICAgfTsKICAgIHJldHVybiB7CiAgICAgIHV1aWQ6IHJhbmRvbVN0cigpLAogICAgICB1bmhlYWx0aHlOb2RlVGltZW91dEludGVnZXI6IHRoaXMudmFsdWUucG9vbC51bmhlYWx0aHlOb2RlVGltZW91dCA/IHBhcnNlRHVyYXRpb24odGhpcy52YWx1ZS5wb29sLnVuaGVhbHRoeU5vZGVUaW1lb3V0KSA6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29uZmlnQ29tcG9uZW50OiBmdW5jdGlvbiBjb25maWdDb21wb25lbnQoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9oYXNDdXN0b21NYWNoaW5lQ29uZmlnQ29tcG9uZW50J10odGhpcy5wcm92aWRlcikpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaW1wb3J0TWFjaGluZUNvbmZpZyddKHRoaXMucHJvdmlkZXIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pbXBvcnRNYWNoaW5lQ29uZmlnJ10oJ2dlbmVyaWMnKTsKICAgIH0sCiAgICBpc1dpbmRvd3M6IGZ1bmN0aW9uIGlzV2luZG93cygpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICByZXR1cm4gKChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUuY29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUub3MpID09PSAnd2luZG93cyc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaXNXaW5kb3dzOiBmdW5jdGlvbiBpc1dpbmRvd3MobmV1KSB7CiAgICAgIGlmIChuZXUpIHsKICAgICAgICB0aGlzLnZhbHVlLnBvb2wuZXRjZFJvbGUgPSBmYWxzZTsKICAgICAgICB0aGlzLnZhbHVlLnBvb2wuY29udHJvbFBsYW5lUm9sZSA9IGZhbHNlOwogICAgICAgIHRoaXMudmFsdWUucG9vbC5tYWNoaW5lT1MgPSAnd2luZG93cyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52YWx1ZS5wb29sLm1hY2hpbmVPUyA9ICdsaW51eCc7CiAgICAgIH0KICAgIH0KICB9LAogIC8qKgogICAqIE9uIGNyZWF0aW9uLCBlbnN1cmUgdGhhdCB0aGUgcG9vbCBpcyBtYXJrZWQgdmFsaWQgLSBjdXN0b20gbWFjaGluZSBwb29scyBjYW4gZW1pdCBmdXJ0aGVyIHZhbGlkYXRpb24gZXZlbnRzCiAgICovCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgdHJ1ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgLy8gRW5zdXJlIHdlIGVtaXQgdmFsaWRhdGlvbiBldmVudCBzbyBwYXJlbnQgY2FuIGZvcmdldCBhbnkgdmFsaWRhdGlvbiBmb3IgdGhpcyBNYWNoaW5lIFBvb2wgd2hlbiBpdCBpcyByZW1vdmVkCiAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsIHVuZGVmaW5lZCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBlbWl0RXJyb3I6IGZ1bmN0aW9uIGVtaXRFcnJvcihlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICB9LAogICAgdGVzdDogZnVuY3Rpb24gdGVzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzJGNvbmZpZ0NvbTsKICAgICAgICB2YXIgZXJyb3JzLCByZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHR5cGVvZiAoKF90aGlzJCRyZWZzJGNvbmZpZ0NvbSA9IF90aGlzLiRyZWZzLmNvbmZpZ0NvbXBvbmVudCkgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkY29uZmlnQ29tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcyRjb25maWdDb20udGVzdCkgPT09ICdmdW5jdGlvbicpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyZWZzLmNvbmZpZ0NvbXBvbmVudC50ZXN0KCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmICghcmVzIHx8IHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHZvaWQgMCAmJiByZXMuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzICE9PSBudWxsICYmIHJlcyAhPT0gdm9pZCAwICYmIHJlcy5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzID0gcmVzLmVycm9yczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICBlcnJvcnMgPSBbX2NvbnRleHQudDBdOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGVycm9ycyk7CiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIGhhbmRsZSBlbWl0dGVkIG1hdGNoZWQgbWFjaGluZSBpbnZlbnRvcmllcyBvbiBzZWxlY3RvciBzbyB0aGF0IG1hY2hpbmUgY291bnQKICAgIC8vIG9uIG1hY2hpbmUgcG9vbCBjYW4gYmUga2VwdCB1cCB0byBkYXRlCiAgICAvLyAob25seSB1c2VkIG9uIEVsZW1lbnRhbCBiZWNhdXNlIGl0IGNvbWVzIGZyb20gIm1hY2hpbmVpbnZlbnRvcnlzZWxlY3RvcnRlbXBsYXRlIiBtYWNoaW5lLWNvbmZpZykKICAgIHVwZGF0ZU1hY2hpbmVDb3VudDogZnVuY3Rpb24gdXBkYXRlTWFjaGluZUNvdW50KHZhbCkgewogICAgICB0aGlzLnZhbHVlLnBvb2wucXVhbnRpdHkgPSB2YWwgfHwgMTsKICAgIH0sCiAgICBleHBhbmRBZHZhbmNlZDogZnVuY3Rpb24gZXhwYW5kQWR2YW5jZWQoKSB7CiAgICAgIHZhciBhZHZhbmNlZENvbXBvbmVudCA9IHRoaXMuJHJlZnMuYWR2YW5jZWQ7CiAgICAgIGlmIChhZHZhbmNlZENvbXBvbmVudCAmJiAhYWR2YW5jZWRDb21wb25lbnQuc2hvdykgewogICAgICAgIGFkdmFuY2VkQ29tcG9uZW50LnRvZ2dsZSgpOwogICAgICB9CiAgICB9LAogICAgLy8gUHJvcGFnYXRlIHVwIHZhbGlkYXRpb24gc3RhdHVzIGZvciB0aGlzIE1hY2hpbmUgUG9vbAogICAgdmFsaWRhdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uIHZhbGlkYXRpb25DaGFuZ2VkKHZhbCkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsIHZhbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["LabeledInput","Checkbox","_EDIT","Taints","KeyValue","AdvancedSection","Banner","UnitInput","randomStr","name","components","props","value","type","Object","required","cluster","default","_default","credentialId","String","mode","provider","idx","Number","machinePools","Array","busy","Boolean","poolId","data","parseDuration","duration","splitStr","split","durationsAsSeconds","reduce","old","neu","parsed","parseInt","isNaN","interval","push","uuid","unhealthyNodeTimeoutInteger","pool","unhealthyNodeTimeout","computed","configComponent","$store","getters","isWindows","_this$value","config","os","watch","etcdRole","controlPlaneRole","machineOS","created","$emit","beforeDestroy","undefined","methods","emitError","e","test","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$$refs$configCom","errors","res","wrap","_callee$","_context","prev","next","$refs","sent","t0","abrupt","stop","updateMachineCount","val","quantity","expandAdvanced","advancedComponent","advanced","show","toggle","validationChanged"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { _EDIT } from '@shell/config/query-params';\nimport Taints from '@shell/components/form/Taints.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport AdvancedSection from '@shell/components/AdvancedSection.vue';\nimport { Banner } from '@components/Banner';\nimport UnitInput from '@shell/components/form/UnitInput.vue';\nimport { randomStr } from '@shell/utils/string';\n\nexport default {\n\n  name: 'MachinePool',\n\n  components: {\n    LabeledInput,\n    Checkbox,\n    Taints,\n    KeyValue,\n    AdvancedSection,\n    Banner,\n    UnitInput\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    cluster: {\n      type:    Object,\n      default: () => ({})\n    },\n\n    // no credentials are required for elemental machine pools\n    credentialId: {\n      type:    String,\n      default: null\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    idx: {\n      type:     Number,\n      required: true,\n    },\n\n    machinePools: {\n      type:    Array,\n      default: () => []\n    },\n\n    // Is the UI busy (e.g. during save)\n    busy: {\n      type:    Boolean,\n      default: false,\n    },\n\n    poolId: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  data() {\n    const parseDuration = (duration) => {\n      // The back end stores the timeout in Duration format, for example, \"42d31h10m30s\".\n      // Here we convert that string to an integer and return the duration as seconds.\n      const splitStr = duration.split(/([a-z])/);\n\n      const durationsAsSeconds = splitStr.reduce((old, neu, idx) => {\n        const parsed = parseInt(neu);\n\n        if ( isNaN(parsed) ) {\n          return old;\n        }\n\n        const interval = splitStr[(idx + 1)];\n\n        switch (interval) {\n        case 'd':\n          old.push(parsed * 24 * 60 * 60);\n          break;\n        case 'h':\n          old.push(parsed * 60 * 60);\n          break;\n        case 'm':\n          old.push(parsed * 60);\n          break;\n        case 's':\n          old.push(parsed);\n          break;\n        default:\n          break;\n        }\n\n        return old;\n      }, []);\n\n      return durationsAsSeconds.reduce((old, neu) => old + neu);\n    };\n\n    return {\n      uuid: randomStr(),\n\n      unhealthyNodeTimeoutInteger: this.value.pool.unhealthyNodeTimeout ? parseDuration(this.value.pool.unhealthyNodeTimeout) : 0,\n    };\n  },\n\n  computed: {\n    configComponent() {\n      if (this.$store.getters['type-map/hasCustomMachineConfigComponent'](this.provider)) {\n        return this.$store.getters['type-map/importMachineConfig'](this.provider);\n      }\n\n      return this.$store.getters['type-map/importMachineConfig']('generic');\n    },\n\n    isWindows() {\n      return this.value?.config?.os === 'windows';\n    },\n  },\n\n  watch: {\n    isWindows(neu) {\n      if (neu) {\n        this.value.pool.etcdRole = false;\n        this.value.pool.controlPlaneRole = false;\n        this.value.pool.machineOS = 'windows';\n      } else {\n        this.value.pool.machineOS = 'linux';\n      }\n    }\n  },\n\n  /**\n   * On creation, ensure that the pool is marked valid - custom machine pools can emit further validation events\n   */\n  created() {\n    this.$emit('validationChanged', true);\n  },\n\n  beforeDestroy() {\n    // Ensure we emit validation event so parent can forget any validation for this Machine Pool when it is removed\n    this.$emit('validationChanged', undefined);\n  },\n\n  methods: {\n    emitError(e) {\n      this.$emit('error', e);\n    },\n    async test() {\n      if ( typeof this.$refs.configComponent?.test === 'function' ) {\n        let errors = [];\n\n        try {\n          const res = await this.$refs.configComponent.test();\n\n          if ( !res || res?.errors) {\n            if (res?.errors) {\n              errors = res.errors;\n            }\n          }\n        } catch (e) {\n          errors = [e];\n        }\n\n        return errors;\n      }\n    },\n    // handle emitted matched machine inventories on selector so that machine count\n    // on machine pool can be kept up to date\n    // (only used on Elemental because it comes from \"machineinventoryselectortemplate\" machine-config)\n    updateMachineCount(val) {\n      this.value.pool.quantity = val || 1;\n    },\n\n    expandAdvanced() {\n      const advancedComponent = this.$refs.advanced;\n\n      if (advancedComponent && !advancedComponent.show) {\n        advancedComponent.toggle();\n      }\n    },\n\n    // Propagate up validation status for this Machine Pool\n    validationChanged(val) {\n      this.$emit('validationChanged', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"value.pool.hostnameLengthLimit\"\n      color=\"info\"\n    >\n      <div class=\"text\">\n        {{ t('cluster.machinePool.truncationPool', { limit: value.pool.hostnameLengthLimit }) }}\n      </div>\n    </Banner>\n    <div class=\"row\">\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model=\"value.pool.name\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.name.label')\"\n          :required=\"true\"\n          :disabled=\"!value.config || !!value.config.id || busy\"\n        />\n      </div>\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model.number=\"value.pool.quantity\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.quantity.label')\"\n          :disabled=\"busy\"\n          type=\"number\"\n          min=\"0\"\n          :required=\"true\"\n        />\n      </div>\n      <div class=\"col span-4 pt-5\">\n        <h3>\n          {{ t('cluster.machinePool.role.label') }}\n        </h3>\n        <Checkbox\n          v-model=\"value.pool.etcdRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.etcd')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.controlPlaneRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.controlPlane')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.workerRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.worker')\"\n          :disabled=\"busy\"\n        />\n      </div>\n    </div>\n    <hr class=\"mt-10\">\n    <component\n      :is=\"configComponent\"\n      v-if=\"value.config && configComponent\"\n      ref=\"configComponent\"\n      :cluster=\"cluster\"\n      :uuid=\"uuid\"\n      :mode=\"mode\"\n      :value=\"value.config\"\n      :provider=\"provider\"\n      :credential-id=\"credentialId\"\n      :pool-index=\"idx\"\n      :pool-id=\"poolId\"\n      :machine-pools=\"machinePools\"\n      :busy=\"busy\"\n      @error=\"emitError\"\n      @updateMachineCount=\"updateMachineCount\"\n      @expandAdvanced=\"expandAdvanced\"\n      @validationChanged=\"validationChanged\"\n    />\n    <Banner\n      v-else-if=\"value.configMissing\"\n      color=\"error\"\n      label-key=\"cluster.machinePool.configNotFound\"\n    />\n    <Banner\n      v-else\n      color=\"info\"\n      label-key=\"cluster.machinePool.noAccessBanner\"\n    />\n\n    <AdvancedSection\n      ref=\"advanced\"\n      :mode=\"mode\"\n      class=\"advanced\"\n    >\n      <portal-target\n        :name=\"'advanced-' + uuid\"\n        multiple\n      />\n\n      <div class=\"spacer\" />\n      <div class=\"row\">\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.autoReplace.label') }}\n            <i\n              v-clean-tooltip=\"t('cluster.machinePool.autoReplace.toolTip')\"\n              class=\"icon icon-info icon-lg\"\n            />\n          </h3>\n          <UnitInput\n            v-model.number=\"unhealthyNodeTimeoutInteger\"\n            :hide-arrows=\"true\"\n            :placeholder=\"t('containerResourceLimit.cpuPlaceholder')\"\n            :mode=\"mode\"\n            :output-modifier=\"true\"\n            :base-unit=\"t('cluster.machinePool.autoReplace.unit')\"\n            :disabled=\"busy\"\n            @input=\"value.pool.unhealthyNodeTimeout = `${unhealthyNodeTimeoutInteger}s`\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.drain.header') }}\n          </h3>\n          <Checkbox\n            v-model=\"value.pool.drainBeforeDelete\"\n            :mode=\"mode\"\n            :label=\"t('cluster.machinePool.drain.label')\"\n            :disabled=\"busy\"\n          />\n        </div>\n      </div>\n      <div class=\"spacer\" />\n      <KeyValue\n        v-model=\"value.pool.labels\"\n        :add-label=\"t('labels.addLabel')\"\n        :disabled=\"busy\"\n        :mode=\"mode\"\n        :title=\"t('cluster.machinePool.labels.label')\"\n        :read-allowed=\"false\"\n        :value-can-be-empty=\"true\"\n      />\n\n      <div class=\"spacer\" />\n\n      <Taints\n        v-model=\"value.pool.taints\"\n        :mode=\"mode\"\n        :disabled=\"busy\"\n      />\n\n      <portal-target\n        :name=\"'advanced-footer-' + uuid\"\n        multiple\n      />\n    </AdvancedSection>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .advanced ::v-deep >.vue-portal-target:empty,\n  .advanced ::v-deep >.vue-portal-target:empty + .spacer {\n    display: none;\n  }\n</style>\n"],"mappings":";;;;;;;AACA,SAAAA,YAAA;AACA,SAAAC,QAAA;AACA,SAAAC,KAAA;AACA,OAAAC,MAAA;AACA,OAAAC,QAAA;AACA,OAAAC,eAAA;AACA,SAAAC,MAAA;AACA,OAAAC,SAAA;AACA,SAAAC,SAAA;AAEA;EAEAC,IAAA;EAEAC,UAAA;IACAV,YAAA,EAAAA,YAAA;IACAC,QAAA,EAAAA,QAAA;IACAE,MAAA,EAAAA,MAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,eAAA,EAAAA,eAAA;IACAC,MAAA,EAAAA,MAAA;IACAC,SAAA,EAAAA;EACA;EAEAI,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,OAAA;MACAH,IAAA,EAAAC,MAAA;MACAG,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IAEA;IACAC,YAAA;MACAN,IAAA,EAAAO,MAAA;MACAH,OAAA;IACA;IAEAI,IAAA;MACAR,IAAA,EAAAO,MAAA;MACAH,OAAA,EAAAf;IACA;IAEAoB,QAAA;MACAT,IAAA,EAAAO,MAAA;MACAL,QAAA;IACA;IAEAQ,GAAA;MACAV,IAAA,EAAAW,MAAA;MACAT,QAAA;IACA;IAEAU,YAAA;MACAZ,IAAA,EAAAa,KAAA;MACAT,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IAEA;IACAS,IAAA;MACAd,IAAA,EAAAe,OAAA;MACAX,OAAA;IACA;IAEAY,MAAA;MACAhB,IAAA,EAAAO,MAAA;MACAL,QAAA;IACA;EACA;EAEAe,IAAA,WAAAA,KAAA;IACA,IAAAC,aAAA,YAAAA,cAAAC,QAAA;MACA;MACA;MACA,IAAAC,QAAA,GAAAD,QAAA,CAAAE,KAAA;MAEA,IAAAC,kBAAA,GAAAF,QAAA,CAAAG,MAAA,WAAAC,GAAA,EAAAC,GAAA,EAAAf,GAAA;QACA,IAAAgB,MAAA,GAAAC,QAAA,CAAAF,GAAA;QAEA,IAAAG,KAAA,CAAAF,MAAA;UACA,OAAAF,GAAA;QACA;QAEA,IAAAK,QAAA,GAAAT,QAAA,CAAAV,GAAA;QAEA,QAAAmB,QAAA;UACA;YACAL,GAAA,CAAAM,IAAA,CAAAJ,MAAA;YACA;UACA;YACAF,GAAA,CAAAM,IAAA,CAAAJ,MAAA;YACA;UACA;YACAF,GAAA,CAAAM,IAAA,CAAAJ,MAAA;YACA;UACA;YACAF,GAAA,CAAAM,IAAA,CAAAJ,MAAA;YACA;UACA;YACA;QACA;QAEA,OAAAF,GAAA;MACA;MAEA,OAAAF,kBAAA,CAAAC,MAAA,WAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAD,GAAA,GAAAC,GAAA;MAAA;IACA;IAEA;MACAM,IAAA,EAAApC,SAAA;MAEAqC,2BAAA,OAAAjC,KAAA,CAAAkC,IAAA,CAAAC,oBAAA,GAAAhB,aAAA,MAAAnB,KAAA,CAAAkC,IAAA,CAAAC,oBAAA;IACA;EACA;EAEAC,QAAA;IACAC,eAAA,WAAAA,gBAAA;MACA,SAAAC,MAAA,CAAAC,OAAA,kDAAA7B,QAAA;QACA,YAAA4B,MAAA,CAAAC,OAAA,sCAAA7B,QAAA;MACA;MAEA,YAAA4B,MAAA,CAAAC,OAAA;IACA;IAEAC,SAAA,WAAAA,UAAA;MAAA,IAAAC,WAAA;MACA,SAAAA,WAAA,QAAAzC,KAAA,cAAAyC,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAC,MAAA,cAAAD,WAAA,uBAAAA,WAAA,CAAAE,EAAA;IACA;EACA;EAEAC,KAAA;IACAJ,SAAA,WAAAA,UAAAd,GAAA;MACA,IAAAA,GAAA;QACA,KAAA1B,KAAA,CAAAkC,IAAA,CAAAW,QAAA;QACA,KAAA7C,KAAA,CAAAkC,IAAA,CAAAY,gBAAA;QACA,KAAA9C,KAAA,CAAAkC,IAAA,CAAAa,SAAA;MACA;QACA,KAAA/C,KAAA,CAAAkC,IAAA,CAAAa,SAAA;MACA;IACA;EACA;EAEA;AACA;AACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,KAAA;EACA;EAEAC,aAAA,WAAAA,cAAA;IACA;IACA,KAAAD,KAAA,sBAAAE,SAAA;EACA;EAEAC,OAAA;IACAC,SAAA,WAAAA,UAAAC,CAAA;MACA,KAAAL,KAAA,UAAAK,CAAA;IACA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,qBAAA;QAAA,IAAAC,MAAA,EAAAC,GAAA;QAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,MACA,SAAAP,qBAAA,GAAAL,KAAA,CAAAa,KAAA,CAAAhC,eAAA,cAAAwB,qBAAA,uBAAAA,qBAAA,CAAAN,IAAA;gBAAAW,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAN,MAAA;cAAAI,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGAZ,KAAA,CAAAa,KAAA,CAAAhC,eAAA,CAAAkB,IAAA;YAAA;cAAAQ,GAAA,GAAAG,QAAA,CAAAI,IAAA;cAEA,KAAAP,GAAA,IAAAA,GAAA,aAAAA,GAAA,eAAAA,GAAA,CAAAD,MAAA;gBACA,IAAAC,GAAA,aAAAA,GAAA,eAAAA,GAAA,CAAAD,MAAA;kBACAA,MAAA,GAAAC,GAAA,CAAAD,MAAA;gBACA;cACA;cAAAI,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;cAEAJ,MAAA,IAAAI,QAAA,CAAAK,EAAA;YAAA;cAAA,OAAAL,QAAA,CAAAM,MAAA,WAGAV,MAAA;YAAA;YAAA;cAAA,OAAAI,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAEA;IACA;IACA;IACA;IACAc,kBAAA,WAAAA,mBAAAC,GAAA;MACA,KAAA3E,KAAA,CAAAkC,IAAA,CAAA0C,QAAA,GAAAD,GAAA;IACA;IAEAE,cAAA,WAAAA,eAAA;MACA,IAAAC,iBAAA,QAAAT,KAAA,CAAAU,QAAA;MAEA,IAAAD,iBAAA,KAAAA,iBAAA,CAAAE,IAAA;QACAF,iBAAA,CAAAG,MAAA;MACA;IACA;IAEA;IACAC,iBAAA,WAAAA,kBAAAP,GAAA;MACA,KAAA1B,KAAA,sBAAA0B,GAAA;IACA;EACA;AACA","ignoreList":[]}]}