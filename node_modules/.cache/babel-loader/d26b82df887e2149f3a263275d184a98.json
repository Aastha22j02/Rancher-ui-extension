{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/AssignTo.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/AssignTo.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgRkxFRVQsIE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgS2V5VmFsdWUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9LZXlWYWx1ZSc7CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAY29tcG9uZW50cy9DYXJkJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CmltcG9ydCB7IHNldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FyZDogQ2FyZCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBLZXlWYWx1ZTogS2V5VmFsdWUsCiAgICBBc3luY0J1dHRvbjogQXN5bmNCdXR0b24sCiAgICBCYW5uZXI6IEJhbm5lcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogW10sCiAgICAgIGxhYmVsczoge30sCiAgICAgIG1vdmVUbzogdGhpcy53b3Jrc3BhY2UsCiAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgIGFsbFdvcmtzcGFjZXM6IFtdLAogICAgICBzaG93TW9kYWw6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdhY3Rpb24tbWVudScsIFsnc2hvd0Fzc2lnblRvJywgJ3RvQXNzaWduJ10pKSwgbWFwR2V0dGVycyh7CiAgICB0OiAnaTE4bi90JwogIH0pKSwgbWFwR2V0dGVycyhbJ3dvcmtzcGFjZSddKSksIHt9LCB7CiAgICB3b3Jrc3BhY2VPcHRpb25zOiBmdW5jdGlvbiB3b3Jrc3BhY2VPcHRpb25zKCkgewogICAgICB2YXIgb3V0ID0gdGhpcy5hbGxXb3Jrc3BhY2VzLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHZhciBfeCRtZXRhZGF0YTsKICAgICAgICByZXR1cm4gKF94JG1ldGFkYXRhID0geC5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3gkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94JG1ldGFkYXRhLm5hbWU7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiAhIXggJiYgeCAhPT0gJ2ZsZWV0LWxvY2FsJzsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgcmVzb3VyY2VDb3VudDogZnVuY3Rpb24gcmVzb3VyY2VDb3VudCgpIHsKICAgICAgdmFyIF90aGlzJHRvQXNzaWduOwogICAgICByZXR1cm4gKChfdGhpcyR0b0Fzc2lnbiA9IHRoaXMudG9Bc3NpZ24pID09PSBudWxsIHx8IF90aGlzJHRvQXNzaWduID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR0b0Fzc2lnbi5sZW5ndGgpIHx8IDA7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIHNob3dBc3NpZ25UbzogZnVuY3Rpb24gc2hvd0Fzc2lnblRvKHNob3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCFzaG93KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLkNMVVNURVIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULldPUktTUEFDRQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3RoaXMuYWxsV29ya3NwYWNlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMubW92ZVRvID0gX3RoaXMud29ya3NwYWNlOwogICAgICAgICAgICAgIF90aGlzLmxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX3RoaXMuc2hvd01vZGFsID0gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgIHRoaXMubGFiZWxzID0ge307CiAgICAgIHRoaXMubW92ZVRvID0gdGhpcy53b3Jrc3BhY2U7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWN0aW9uLW1lbnUvdG9nZ2xlQXNzaWduVG8nKTsKICAgIH0sCiAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoYnV0dG9uRG9uZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHByb21pc2VzLCBfaXRlcmF0b3IsIF9zdGVwLCBmbGVldENsdXN0ZXIsIGMsIF9pLCBfT2JqZWN0JGtleXMsIGs7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBwcm9taXNlcyA9IFtdOwogICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMgPSBbXTsKICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczIudG9Bc3NpZ24pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzsKICAgICAgICAgICAgICBfaXRlcmF0b3IucygpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZmxlZXRDbHVzdGVyID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJyYW5jaGVyL2Nsb25lIiwgewogICAgICAgICAgICAgICAgcmVzb3VyY2U6IGZsZWV0Q2x1c3Rlci5ub3JtYW4KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBpZiAoYykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiY29udGludWUiLCAxNSk7CiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgYy5mbGVldFdvcmtzcGFjZU5hbWUgPSBfdGhpczIubW92ZVRvOwogICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhfdGhpczIubGFiZWxzKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICBrID0gX09iamVjdCRrZXlzW19pXTsKICAgICAgICAgICAgICAgIGlmICghYy5fbGFiZWxzKSB7CiAgICAgICAgICAgICAgICAgIHNldChjLCAnX2xhYmVscycsIHt9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNldChjLl9sYWJlbHMsIGssIF90aGlzMi5sYWJlbHNba10pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGMuc2F2ZSgpKTsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE5OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dDIudDApOwogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgyMik7CiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI4OwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgYnV0dG9uRG9uZSh0cnVlKTsKICAgICAgICAgICAgICBfdGhpczIuY2xvc2UoKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDI1KTsKICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gZXhjZXB0aW9uVG9FcnJvcnNBcnJheShfY29udGV4dDIudDEpOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDE5LCAyMiwgMjVdLCBbMjUsIDMyXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","mapGetters","FLEET","NORMAN","LabeledSelect","KeyValue","AsyncButton","Card","Banner","exceptionToErrorsArray","set","components","data","errors","labels","moveTo","workspace","loaded","allWorkspaces","showModal","computed","_objectSpread","t","workspaceOptions","out","map","x","_x$metadata","metadata","name","filter","resourceCount","_this$toAssign","toAssign","length","watch","showAssignTo","show","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLUSTER","WORKSPACE","sent","stop","methods","close","commit","apply","buttonDone","_this2","_callee2","promises","_iterator","_step","fleetCluster","c","_i","_Object$keys","k","_callee2$","_context2","_createForOfIteratorHelper","s","n","done","value","resource","norman","abrupt","fleetWorkspaceName","Object","keys","_labels","push","save","t0","e","f","finish","Promise","all","t1"],"sources":["node_modules/@rancher/shell/components/AssignTo.vue"],"sourcesContent":["<script>\nimport { mapState, mapGetters } from 'vuex';\nimport { FLEET, NORMAN } from '@shell/config/types';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { set } from '@shell/utils/object';\n\nexport default {\n  components: {\n    Card,\n    LabeledSelect,\n    KeyValue,\n    AsyncButton,\n    Banner,\n  },\n\n  data() {\n    return {\n      errors:        [],\n      labels:        {},\n      moveTo:        this.workspace,\n      loaded:        false,\n      allWorkspaces: [],\n      showModal:     false,\n    };\n  },\n\n  computed: {\n    ...mapState('action-menu', ['showAssignTo', 'toAssign']),\n    ...mapGetters({ t: 'i18n/t' }),\n    ...mapGetters(['workspace']),\n\n    workspaceOptions() {\n      const out = this.allWorkspaces.map((x) => x.metadata?.name).filter((x) => !!x && x !== 'fleet-local');\n\n      return out;\n    },\n\n    resourceCount() {\n      return this.toAssign?.length || 0;\n    }\n  },\n\n  watch: {\n    async showAssignTo(show) {\n      if (show) {\n        await this.$store.dispatch('rancher/findAll', { type: NORMAN.CLUSTER });\n        this.allWorkspaces = await this.$store.dispatch('management/findAll', { type: FLEET.WORKSPACE });\n        this.moveTo = this.workspace;\n        this.loaded = true;\n        this.showModal = true;\n      } else {\n        this.showModal = false;\n      }\n    }\n  },\n\n  methods: {\n    close() {\n      this.errors = [];\n      this.labels = {};\n      this.moveTo = this.workspace;\n      this.$store.commit('action-menu/toggleAssignTo');\n    },\n\n    async apply(buttonDone) {\n      const promises = [];\n\n      this.errors = [];\n\n      for ( const fleetCluster of this.toAssign ) {\n        const c = await this.$store.dispatch(`rancher/clone`, { resource: fleetCluster.norman });\n\n        if ( !c ) {\n          continue;\n        }\n\n        c.fleetWorkspaceName = this.moveTo;\n\n        for ( const k of Object.keys(this.labels) ) {\n          if ( !c._labels ) {\n            set(c, '_labels', {});\n          }\n\n          set(c._labels, k, this.labels[k]);\n        }\n\n        promises.push(c.save());\n      }\n\n      try {\n        await Promise.all(promises);\n        buttonDone(true);\n        this.close();\n      } catch (e) {\n        this.errors = exceptionToErrorsArray(e);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <app-modal\n    v-if=\"showModal\"\n    class=\"assign-modal\"\n    name=\"assignTo\"\n    styles=\"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @close=\"close\"\n  >\n    <Card\n      v-if=\"loaded\"\n      :show-highlight-border=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        v-clean-html=\"t('assignTo.title', {count: resourceCount}, true)\"\n        class=\"text-default-text\"\n      />\n\n      <div\n        slot=\"body\"\n        class=\"pl-10 pr-10\"\n      >\n        <form>\n          <LabeledSelect\n            v-model=\"moveTo\"\n            :label=\"t('assignTo.workspace')\"\n            :options=\"workspaceOptions\"\n            placement=\"bottom\"\n          />\n\n          <KeyValue\n            key=\"labels\"\n            v-model=\"labels\"\n            class=\"mt-20\"\n            :add-label=\"t('labels.addSetLabel')\"\n            :read-allowed=\"false\"\n          />\n\n          <Banner\n            v-for=\"(err, i) in errors\"\n            :key=\"i\"\n            color=\"error\"\n            :label=\"err\"\n          />\n        </form>\n      </div>\n\n      <div slot=\"actions\">\n        <button\n          class=\"btn role-secondary\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n\n        <AsyncButton\n          mode=\"apply\"\n          @click=\"apply\"\n        />\n      </div>\n    </Card>\n  </app-modal>\n</template>\n\n<style lang='scss'>\n  .assign-modal {\n    border-radius: var(--border-radius);\n    overflow: scroll;\n    max-height: 100vh;\n    & ::-webkit-scrollbar-corner {\n      background: rgba(0,0,0,0);\n    }\n  }\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAAAA,QAAA,EAAAC,UAAA;AACA,SAAAC,KAAA,EAAAC,MAAA;AACA,OAAAC,aAAA;AACA,OAAAC,QAAA;AACA,OAAAC,WAAA;AACA,SAAAC,IAAA;AACA,SAAAC,MAAA;AACA,SAAAC,sBAAA;AACA,SAAAC,GAAA;AAEA;EACAC,UAAA;IACAJ,IAAA,EAAAA,IAAA;IACAH,aAAA,EAAAA,aAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,WAAA,EAAAA,WAAA;IACAE,MAAA,EAAAA;EACA;EAEAI,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,MAAA;MACAC,MAAA,OAAAC,SAAA;MACAC,MAAA;MACAC,aAAA;MACAC,SAAA;IACA;EACA;EAEAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACArB,QAAA,gDACAC,UAAA;IAAAqB,CAAA;EAAA,KACArB,UAAA;IAEAsB,gBAAA,WAAAA,iBAAA;MACA,IAAAC,GAAA,QAAAN,aAAA,CAAAO,GAAA,WAAAC,CAAA;QAAA,IAAAC,WAAA;QAAA,QAAAA,WAAA,GAAAD,CAAA,CAAAE,QAAA,cAAAD,WAAA,uBAAAA,WAAA,CAAAE,IAAA;MAAA,GAAAC,MAAA,WAAAJ,CAAA;QAAA,SAAAA,CAAA,IAAAA,CAAA;MAAA;MAEA,OAAAF,GAAA;IACA;IAEAO,aAAA,WAAAA,cAAA;MAAA,IAAAC,cAAA;MACA,SAAAA,cAAA,QAAAC,QAAA,cAAAD,cAAA,uBAAAA,cAAA,CAAAE,MAAA;IACA;EAAA,EACA;EAEAC,KAAA;IACAC,YAAA,WAAAA,aAAAC,IAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,KACAV,IAAA;gBAAAQ,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAT,KAAA,CAAAU,MAAA,CAAAC,QAAA;gBAAAC,IAAA,EAAA/C,MAAA,CAAAgD;cAAA;YAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA,OACAT,KAAA,CAAAU,MAAA,CAAAC,QAAA;gBAAAC,IAAA,EAAAhD,KAAA,CAAAkD;cAAA;YAAA;cAAAd,KAAA,CAAApB,aAAA,GAAA2B,QAAA,CAAAQ,IAAA;cACAf,KAAA,CAAAvB,MAAA,GAAAuB,KAAA,CAAAtB,SAAA;cACAsB,KAAA,CAAArB,MAAA;cACAqB,KAAA,CAAAnB,SAAA;cAAA0B,QAAA,CAAAE,IAAA;cAAA;YAAA;cAEAT,KAAA,CAAAnB,SAAA;YAAA;YAAA;cAAA,OAAA0B,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAZ,OAAA;MAAA;IAEA;EACA;EAEAa,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAA3C,MAAA;MACA,KAAAC,MAAA;MACA,KAAAC,MAAA,QAAAC,SAAA;MACA,KAAAgC,MAAA,CAAAS,MAAA;IACA;IAEAC,KAAA,WAAAA,MAAAC,UAAA;MAAA,IAAAC,MAAA;MAAA,OAAArB,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAoB,SAAA;QAAA,IAAAC,QAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,YAAA,EAAAC,CAAA,EAAAC,EAAA,EAAAC,YAAA,EAAAC,CAAA;QAAA,OAAA7B,mBAAA,CAAAG,IAAA,UAAA2B,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAzB,IAAA,GAAAyB,SAAA,CAAAxB,IAAA;YAAA;cACAe,QAAA;cAEAF,MAAA,CAAA/C,MAAA;cAAAkD,SAAA,GAAAS,0BAAA,CAEAZ,MAAA,CAAA3B,QAAA;cAAAsC,SAAA,CAAAzB,IAAA;cAAAiB,SAAA,CAAAU,CAAA;YAAA;cAAA,KAAAT,KAAA,GAAAD,SAAA,CAAAW,CAAA,IAAAC,IAAA;gBAAAJ,SAAA,CAAAxB,IAAA;gBAAA;cAAA;cAAAkB,YAAA,GAAAD,KAAA,CAAAY,KAAA;cAAAL,SAAA,CAAAxB,IAAA;cAAA,OACAa,MAAA,CAAAZ,MAAA,CAAAC,QAAA;gBAAA4B,QAAA,EAAAZ,YAAA,CAAAa;cAAA;YAAA;cAAAZ,CAAA,GAAAK,SAAA,CAAAlB,IAAA;cAAA,IAEAa,CAAA;gBAAAK,SAAA,CAAAxB,IAAA;gBAAA;cAAA;cAAA,OAAAwB,SAAA,CAAAQ,MAAA;YAAA;cAIAb,CAAA,CAAAc,kBAAA,GAAApB,MAAA,CAAA7C,MAAA;cAEA,KAAAoD,EAAA,MAAAC,YAAA,GAAAa,MAAA,CAAAC,IAAA,CAAAtB,MAAA,CAAA9C,MAAA,GAAAqD,EAAA,GAAAC,YAAA,CAAAlC,MAAA,EAAAiC,EAAA;gBAAAE,CAAA,GAAAD,YAAA,CAAAD,EAAA;gBACA,KAAAD,CAAA,CAAAiB,OAAA;kBACAzE,GAAA,CAAAwD,CAAA;gBACA;gBAEAxD,GAAA,CAAAwD,CAAA,CAAAiB,OAAA,EAAAd,CAAA,EAAAT,MAAA,CAAA9C,MAAA,CAAAuD,CAAA;cACA;cAEAP,QAAA,CAAAsB,IAAA,CAAAlB,CAAA,CAAAmB,IAAA;YAAA;cAAAd,SAAA,CAAAxB,IAAA;cAAA;YAAA;cAAAwB,SAAA,CAAAxB,IAAA;cAAA;YAAA;cAAAwB,SAAA,CAAAzB,IAAA;cAAAyB,SAAA,CAAAe,EAAA,GAAAf,SAAA;cAAAR,SAAA,CAAAwB,CAAA,CAAAhB,SAAA,CAAAe,EAAA;YAAA;cAAAf,SAAA,CAAAzB,IAAA;cAAAiB,SAAA,CAAAyB,CAAA;cAAA,OAAAjB,SAAA,CAAAkB,MAAA;YAAA;cAAAlB,SAAA,CAAAzB,IAAA;cAAAyB,SAAA,CAAAxB,IAAA;cAAA,OAIA2C,OAAA,CAAAC,GAAA,CAAA7B,QAAA;YAAA;cACAH,UAAA;cACAC,MAAA,CAAAJ,KAAA;cAAAe,SAAA,CAAAxB,IAAA;cAAA;YAAA;cAAAwB,SAAA,CAAAzB,IAAA;cAAAyB,SAAA,CAAAqB,EAAA,GAAArB,SAAA;cAEAX,MAAA,CAAA/C,MAAA,GAAAJ,sBAAA,CAAA8D,SAAA,CAAAqB,EAAA;cACAjC,UAAA;YAAA;YAAA;cAAA,OAAAY,SAAA,CAAAjB,IAAA;UAAA;QAAA,GAAAO,QAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}