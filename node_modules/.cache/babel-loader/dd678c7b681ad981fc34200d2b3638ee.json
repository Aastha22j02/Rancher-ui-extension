{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/list/workload.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/list/workload.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuICJPYmplY3QiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gdCB8fCAiU2V0IiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiAiQXJndW1lbnRzIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgeyBXT1JLTE9BRF9UWVBFUywgU0NIRU1BLCBOT0RFLCBQT0QsIExJU1RfV09SS0xPQURfVFlQRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFJlc291cmNlRmV0Y2ggZnJvbSAnQHNoZWxsL21peGlucy9yZXNvdXJjZS1mZXRjaCc7CmltcG9ydCB7IFdPUktMT0FEX0hFQUxUSF9TQ0FMRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdGFibGUtaGVhZGVycyc7CnZhciBfc2NoZW1hMiA9IHsKICBpZDogJ3dvcmtsb2FkJywKICB0eXBlOiBTQ0hFTUEsCiAgYXR0cmlidXRlczogewogICAga2luZDogJ1dvcmtsb2FkJywKICAgIG5hbWVzcGFjZWQ6IHRydWUKICB9LAogIG1ldGFkYXRhOiB7CiAgICBuYW1lOiAnd29ya2xvYWQnCiAgfQp9Owp2YXIgXyRsb2FkaW5nUmVzb3VyY2VzMiA9IGZ1bmN0aW9uICRsb2FkaW5nUmVzb3VyY2VzKCRyb3V0ZSwgJHN0b3JlKSB7CiAgdmFyIGFsbG93ZWRSZXNvdXJjZXMgPSBbXTsKICBPYmplY3QudmFsdWVzKExJU1RfV09SS0xPQURfVFlQRVMpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgIC8vIFlvdSBtYXkgbm90IGhhdmUgUkJBQyB0byBzZWUgc29tZSBvZiB0aGUgdHlwZXMKICAgIGlmICgkc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXSh0eXBlKSkgewogICAgICBhbGxvd2VkUmVzb3VyY2VzLnB1c2godHlwZSk7CiAgICB9CiAgfSk7CiAgdmFyIGFsbFR5cGVzID0gJHJvdXRlLnBhcmFtcy5yZXNvdXJjZSA9PT0gX3NjaGVtYTIuaWQ7CiAgcmV0dXJuIHsKICAgIGxvYWRSZXNvdXJjZXM6IGFsbFR5cGVzID8gYWxsb3dlZFJlc291cmNlcyA6IFskcm91dGUucGFyYW1zLnJlc291cmNlXSwKICAgIGxvYWRJbmRldGVybWluYXRlOiBhbGxUeXBlcwogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTGlzdFdvcmtsb2FkJywKICBjb21wb25lbnRzOiB7CiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlCiAgfSwKICBtaXhpbnM6IFtSZXNvdXJjZUZldGNoXSwKICBwcm9wczogewogICAgdXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3NjaGVtYSwgdHlwZSwgcmVzb3VyY2U7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoX3RoaXMuYWxsVHlwZXMgJiYgX3RoaXMubG9hZFJlc291cmNlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBfdGhpcy4kaW5pdGlhbGl6ZUZldGNoRGF0YShfdGhpcy5sb2FkUmVzb3VyY2VzWzBdLCBfdGhpcy5sb2FkUmVzb3VyY2VzKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kaW5pdGlhbGl6ZUZldGNoRGF0YShfdGhpcy4kcm91dGUucGFyYW1zLnJlc291cmNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIF9zY2hlbWEgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1siY2x1c3Rlci9zY2hlbWFGb3IiXShOT0RFKTsKICAgICAgICAgICAgICBpZiAoX3NjaGVtYSkgewogICAgICAgICAgICAgICAgX3RoaXMuJGZldGNoVHlwZShOT0RFKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9CiAgICAgICAgICAgIF90aGlzLmxvYWRIZWF0aFJlc291cmNlcygpOwogICAgICAgICAgICBpZiAoIV90aGlzLmFsbFR5cGVzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdGhpcy5sb2FkUmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoYWxsb3dlZCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZmV0Y2hUeXBlKGFsbG93ZWQsIF90aGlzLmxvYWRSZXNvdXJjZXMpOwogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF90aGlzLnJlc291cmNlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIHR5cGUgPSBfdGhpcy4kcm91dGUucGFyYW1zLnJlc291cmNlOwogICAgICAgICAgICBpZiAoIV90aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKHR5cGUpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRmZXRjaFR5cGUodHlwZSk7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICByZXNvdXJjZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLnJlc291cmNlcyA9IFtyZXNvdXJjZV07CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8gRW5zdXJlIHRoZXNlIGFyZSBzZXQgb24gbG9hZCAodG8gZGV0ZXJtaW5lIGlmIHRoZSBOUyBmaWx0ZXIgaXMgcmVxdWlyZWQpIHJhdGhlciB0aGFuIHRvbyBsYXRlIG9uIGBmZXRjaGAKICAgIHZhciBfJGxvYWRpbmdSZXNvdXJjZXMgPSBfJGxvYWRpbmdSZXNvdXJjZXMyKHRoaXMuJHJvdXRlLCB0aGlzLiRzdG9yZSksCiAgICAgIGxvYWRSZXNvdXJjZXMgPSBfJGxvYWRpbmdSZXNvdXJjZXMubG9hZFJlc291cmNlcywKICAgICAgbG9hZEluZGV0ZXJtaW5hdGUgPSBfJGxvYWRpbmdSZXNvdXJjZXMubG9hZEluZGV0ZXJtaW5hdGU7CiAgICByZXR1cm4gewogICAgICByZXNvdXJjZXM6IFtdLAogICAgICBsb2FkUmVzb3VyY2VzOiBsb2FkUmVzb3VyY2VzLAogICAgICBsb2FkSW5kZXRlcm1pbmF0ZTogbG9hZEluZGV0ZXJtaW5hdGUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYWxsVHlwZXM6IGZ1bmN0aW9uIGFsbFR5cGVzKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLnJlc291cmNlID09PSBfc2NoZW1hMi5pZDsKICAgIH0sCiAgICBwYWdpbmF0aW9uRW5hYmxlZDogZnVuY3Rpb24gcGFnaW5hdGlvbkVuYWJsZWQoKSB7CiAgICAgIHJldHVybiAhdGhpcy5hbGxUeXBlcyAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJjbHVzdGVyL3BhZ2luYXRpb25FbmFibGVkIl0oKTsKICAgIH0sCiAgICBzY2hlbWE6IGZ1bmN0aW9uIHNjaGVtYSgpIHsKICAgICAgdmFyIHR5cGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucmVzb3VyY2U7CiAgICAgIGlmICh0eXBlICE9PSBfc2NoZW1hMi5pZCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKHR5cGUpOwogICAgICB9CiAgICAgIHJldHVybiBfc2NoZW1hMjsKICAgIH0sCiAgICBmaWx0ZXJlZFJvd3M6IGZ1bmN0aW9uIGZpbHRlcmVkUm93cygpIHsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5yZXNvdXJjZXMpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgdHlwZVJvd3MgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmICghdHlwZVJvd3MpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHR5cGVSb3dzKSwKICAgICAgICAgICAgX3N0ZXAyOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICAgIGlmICghdGhpcy5hbGxUeXBlcyB8fCAhcm93Lm93bmVkQnlXb3JrbG9hZCkgewogICAgICAgICAgICAgICAgb3V0LnB1c2gocm93KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9oZWFkZXJzRm9yJ10odGhpcy5zY2hlbWEsIGZhbHNlKTsKICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbkVuYWJsZWQpIHsKICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JhbmNoZXIvZGFzaGJvYXJkL2lzc3Vlcy8xMDQxNywgaGVhbHRoIGNvbWVzIGZyb20gc2VsZWN0b3JzIGFwcGxpZWQgbG9jYWxseSB0byBhbGwgcG9kcyAoYmFkKQogICAgICAgIHJldHVybiBoZWFkZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkgewogICAgICAgICAgcmV0dXJuIGgubmFtZSAhPT0gV09SS0xPQURfSEVBTFRIX1NDQUxFLm5hbWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGhlYWRlcnM7CiAgICB9CiAgfSwKICAvLyBBbGwgb2YgdGhlIHJlc291cmNlcyB0aGF0IHdlIHdpbGwgbG9hZCB0aGF0IHdlIG5lZWQgZm9yIHRoZSBsb2FkaW5nIGluZGljYXRvcgogICRsb2FkaW5nUmVzb3VyY2VzOiBmdW5jdGlvbiAkbG9hZGluZ1Jlc291cmNlcygkcm91dGUsICRzdG9yZSkgewogICAgcmV0dXJuIF8kbG9hZGluZ1Jlc291cmNlczIoJHJvdXRlLCAkc3RvcmUpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEhlYXRoUmVzb3VyY2VzOiBmdW5jdGlvbiBsb2FkSGVhdGhSZXNvdXJjZXMoKSB7CiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvaXNzdWVzLzEwNDE3LCBoZWFsdGggY29tZXMgZnJvbSBzZWxlY3RvcnMgYXBwbGllZCBsb2NhbGx5IHRvIGFsbCBwb2RzIChiYWQpCiAgICAgIGlmICh0aGlzLnBhZ2luYXRpb25FbmFibGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBGZXRjaCB0aGVzZSBpbiB0aGUgYmFja2dyb3VuZCB0byBwb3B1bGF0ZSB3b3JrbG9hZCBoZWFsdGgKICAgICAgaWYgKHRoaXMuYWxsVHlwZXMpIHsKICAgICAgICB0aGlzLiRmZXRjaFR5cGUoUE9EKTsKICAgICAgICB0aGlzLiRmZXRjaFR5cGUoV09SS0xPQURfVFlQRVMuSk9CKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZTsKICAgICAgICBpZiAodHlwZSA9PT0gV09SS0xPQURfVFlQRVMuSk9CIHx8IHR5cGUgPT09IFBPRCkgewogICAgICAgICAgLy8gSWdub3JlIGpvYiBhbmQgcG9kcyAod2UncmUgZmV0Y2hpbmcgdGhpcyBhbnl3YXksIHBsdXMgdGhleSBjb250YWluIHRoZWlyIG93biBzdGF0ZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09IFdPUktMT0FEX1RZUEVTLkNST05fSk9CKSB7CiAgICAgICAgICB0aGlzLiRmZXRjaFR5cGUoV09SS0xPQURfVFlQRVMuSk9CKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZmV0Y2hUeXBlKFBPRCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICB0eXBlRGlzcGxheTogZnVuY3Rpb24gdHlwZURpc3BsYXkoKSB7CiAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZTsKICAgIHZhciBwYXJhbVNjaGVtYSA9IF9zY2hlbWEyOwogICAgaWYgKHR5cGUgIT09IF9zY2hlbWEyLmlkKSB7CiAgICAgIHBhcmFtU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXSh0eXBlKTsKICAgIH0KICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHBhcmFtU2NoZW1hLCA5OSk7CiAgfQp9Ow=="},{"version":3,"names":["ResourceTable","WORKLOAD_TYPES","SCHEMA","NODE","POD","LIST_WORKLOAD_TYPES","ResourceFetch","WORKLOAD_HEALTH_SCALE","schema","id","type","attributes","kind","namespaced","metadata","name","$loadingResources","$route","$store","allowedResources","Object","values","forEach","getters","push","allTypes","params","resource","loadResources","loadIndeterminate","components","mixins","props","useQueryParamsForSimpleFiltering","Boolean","default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_schema","wrap","_callee$","_context","prev","next","length","$initializeFetchData","$fetchType","_unused","loadHeathResources","Promise","all","map","allowed","resources","sent","stop","data","_$loadingResources","computed","paginationEnabled","filteredRows","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","typeRows","value","_iterator2","_step2","row","ownedByWorkload","err","e","f","headers","filter","h","methods","JOB","CRON_JOB","typeDisplay","paramSchema"],"sources":["node_modules/@rancher/shell/list/workload.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport {\n  WORKLOAD_TYPES, SCHEMA, NODE, POD, LIST_WORKLOAD_TYPES\n} from '@shell/config/types';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\nimport { WORKLOAD_HEALTH_SCALE } from '@shell/config/table-headers';\n\nconst schema = {\n  id:         'workload',\n  type:       SCHEMA,\n  attributes: {\n    kind:       'Workload',\n    namespaced: true\n  },\n  metadata: { name: 'workload' },\n};\n\nconst $loadingResources = ($route, $store) => {\n  const allowedResources = [];\n\n  Object.values(LIST_WORKLOAD_TYPES).forEach((type) => {\n    // You may not have RBAC to see some of the types\n    if ($store.getters['cluster/schemaFor'](type) ) {\n      allowedResources.push(type);\n    }\n  });\n\n  const allTypes = $route.params.resource === schema.id;\n\n  return {\n    loadResources:     allTypes ? allowedResources : [$route.params.resource],\n    loadIndeterminate: allTypes,\n  };\n};\n\nexport default {\n  name:       'ListWorkload',\n  components: { ResourceTable },\n  mixins:     [ResourceFetch],\n\n  props: {\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  async fetch() {\n    if (this.allTypes && this.loadResources.length) {\n      this.$initializeFetchData(this.loadResources[0], this.loadResources);\n    } else {\n      this.$initializeFetchData(this.$route.params.resource);\n    }\n\n    try {\n      const schema = this.$store.getters[`cluster/schemaFor`](NODE);\n\n      if (schema) {\n        this.$fetchType(NODE);\n      }\n    } catch {}\n\n    this.loadHeathResources();\n\n    if ( this.allTypes ) {\n      this.resources = await Promise.all(this.loadResources.map((allowed) => {\n        return this.$fetchType(allowed, this.loadResources);\n      }));\n    } else {\n      const type = this.$route.params.resource;\n\n      if ( this.$store.getters['cluster/schemaFor'](type) ) {\n        const resource = await this.$fetchType(type);\n\n        this.resources = [resource];\n      }\n    }\n  },\n\n  data() {\n    // Ensure these are set on load (to determine if the NS filter is required) rather than too late on `fetch`\n    const { loadResources, loadIndeterminate } = $loadingResources(this.$route, this.$store);\n\n    return {\n      resources: [],\n      loadResources,\n      loadIndeterminate\n    };\n  },\n\n  computed: {\n    allTypes() {\n      return this.$route.params.resource === schema.id;\n    },\n\n    paginationEnabled() {\n      return !this.allTypes && this.$store.getters[`cluster/paginationEnabled`]();\n    },\n\n    schema() {\n      const { params:{ resource:type } } = this.$route;\n\n      if (type !== schema.id) {\n        return this.$store.getters['cluster/schemaFor'](type);\n      }\n\n      return schema;\n    },\n\n    filteredRows() {\n      const out = [];\n\n      for ( const typeRows of this.resources ) {\n        if ( !typeRows ) {\n          continue;\n        }\n\n        for ( const row of typeRows ) {\n          if (!this.allTypes || !row.ownedByWorkload) {\n            out.push(row);\n          }\n        }\n      }\n\n      return out;\n    },\n\n    headers() {\n      const headers = this.$store.getters['type-map/headersFor'](this.schema, false);\n\n      if (this.paginationEnabled) {\n        // See https://github.com/rancher/dashboard/issues/10417, health comes from selectors applied locally to all pods (bad)\n        return headers.filter((h) => h.name !== WORKLOAD_HEALTH_SCALE.name);\n      }\n\n      return headers;\n    }\n  },\n\n  // All of the resources that we will load that we need for the loading indicator\n  $loadingResources($route, $store) {\n    return $loadingResources($route, $store);\n  },\n\n  methods: {\n    loadHeathResources() {\n      // See https://github.com/rancher/dashboard/issues/10417, health comes from selectors applied locally to all pods (bad)\n      if (this.paginationEnabled) {\n        return;\n      }\n\n      // Fetch these in the background to populate workload health\n      if ( this.allTypes ) {\n        this.$fetchType(POD);\n        this.$fetchType(WORKLOAD_TYPES.JOB);\n      } else {\n        const type = this.$route.params.resource;\n\n        if (type === WORKLOAD_TYPES.JOB || type === POD) {\n          // Ignore job and pods (we're fetching this anyway, plus they contain their own state)\n          return;\n        }\n\n        if (type === WORKLOAD_TYPES.CRON_JOB) {\n          this.$fetchType(WORKLOAD_TYPES.JOB);\n        } else {\n          this.$fetchType(POD);\n        }\n      }\n    }\n  },\n\n  typeDisplay() {\n    const { params:{ resource:type } } = this.$route;\n    let paramSchema = schema;\n\n    if (type !== schema.id) {\n      paramSchema = this.$store.getters['cluster/schemaFor'](type);\n    }\n\n    return this.$store.getters['type-map/labelFor'](paramSchema, 99);\n  },\n};\n</script>\n\n<template>\n  <ResourceTable\n    :loading=\"$fetchState.pending\"\n    :schema=\"schema\"\n    :headers=\"headers\"\n    :rows=\"filteredRows\"\n    :overflow-y=\"true\"\n    :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n  />\n</template>\n"],"mappings":"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","ignoreList":[]}]}