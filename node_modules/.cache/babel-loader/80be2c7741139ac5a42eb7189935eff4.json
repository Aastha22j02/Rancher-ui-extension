{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/axios.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/axios.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7CmltcG9ydCB7IENTUkYgfSBmcm9tICdAc2hlbGwvY29uZmlnL2Nvb2tpZXMnOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoX3JlZikgewogIHZhciAkYXhpb3MgPSBfcmVmLiRheGlvcywKICAgICRjb29raWVzID0gX3JlZi4kY29va2llcywKICAgIGlzRGV2ID0gX3JlZi5pc0RldiwKICAgIHJlcSA9IF9yZWYucmVxOwogICRheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQWNjZXB0J10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgJGF4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7CiAgJGF4aW9zLm9uUmVxdWVzdChmdW5jdGlvbiAoY29uZmlnKSB7CiAgICB2YXIgY3NyZiA9ICRjb29raWVzLmdldChDU1JGLCB7CiAgICAgIHBhcnNlSlNPTjogZmFsc2UKICAgIH0pOwogICAgaWYgKGNzcmYpIHsKICAgICAgY29uZmlnLmhlYWRlcnNbJ3gtYXBpLWNzcmYnXSA9IGNzcmY7CiAgICB9CiAgfSk7CiAgaWYgKGlzRGV2KSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbnV4dC1jb21tdW5pdHkvYXhpb3MtbW9kdWxlL2Jsb2IvZGV2L2xpYi9tb2R1bGUuanMjTDc4CiAgICAvLyBmb3JjZXMgbG9jYWxob3N0IHRvIGh0dHAsIGZvciBubyBvYnZpb3VzIHJlYXNvbi4KICAgIC8vIEJ1dCB3ZSBuZXZlciBoYXZlIGFueSByZWFzb24gdG8gdGFsayB0byBhbnl0aGluZyBwbGFpbnRleHQuCiAgICBpZiAoJGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpKSB7CiAgICAgICRheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwucmVwbGFjZSgvXmh0dHA6LywgJ2h0dHBzOicpOwogICAgfQogICAgdmFyIGluc2VjdXJlQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoewogICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICB9KTsKICAgICRheGlvcy5kZWZhdWx0cy5odHRwc0FnZW50ID0gaW5zZWN1cmVBZ2VudDsKICAgICRheGlvcy5odHRwc0FnZW50ID0gaW5zZWN1cmVBZ2VudDsKICB9Cn0="},{"version":3,"names":["https","CSRF","_ref","$axios","$cookies","isDev","req","defaults","headers","common","withCredentials","onRequest","config","csrf","get","parseJSON","baseURL","startsWith","replace","insecureAgent","Agent","rejectUnauthorized","httpsAgent"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/axios.js"],"sourcesContent":["import https from 'https';\nimport { CSRF } from '@shell/config/cookies';\n\nexport default function({\n  $axios, $cookies, isDev, req\n}) {\n  $axios.defaults.headers.common['Accept'] = 'application/json';\n  $axios.defaults.withCredentials = true;\n\n  $axios.onRequest((config) => {\n    const csrf = $cookies.get(CSRF, { parseJSON: false });\n\n    if ( csrf ) {\n      config.headers['x-api-csrf'] = csrf;\n    }\n  });\n\n  if ( isDev ) {\n    // https://github.com/nuxt-community/axios-module/blob/dev/lib/module.js#L78\n    // forces localhost to http, for no obvious reason.\n    // But we never have any reason to talk to anything plaintext.\n    if ( $axios.defaults.baseURL.startsWith('http://') ) {\n      $axios.defaults.baseURL = $axios.defaults.baseURL.replace(/^http:/, 'https:');\n    }\n\n    const insecureAgent = new https.Agent({ rejectUnauthorized: false });\n\n    $axios.defaults.httpsAgent = insecureAgent;\n    $axios.httpsAgent = insecureAgent;\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,uBAAuB;AAE5C,eAAe,UAAAC,IAAA,EAEZ;EAAA,IADDC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAEC,KAAK,GAAAH,IAAA,CAALG,KAAK;IAAEC,GAAG,GAAAJ,IAAA,CAAHI,GAAG;EAE5BH,MAAM,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,QAAQ,CAAC,GAAG,kBAAkB;EAC7DN,MAAM,CAACI,QAAQ,CAACG,eAAe,GAAG,IAAI;EAEtCP,MAAM,CAACQ,SAAS,CAAC,UAACC,MAAM,EAAK;IAC3B,IAAMC,IAAI,GAAGT,QAAQ,CAACU,GAAG,CAACb,IAAI,EAAE;MAAEc,SAAS,EAAE;IAAM,CAAC,CAAC;IAErD,IAAKF,IAAI,EAAG;MACVD,MAAM,CAACJ,OAAO,CAAC,YAAY,CAAC,GAAGK,IAAI;IACrC;EACF,CAAC,CAAC;EAEF,IAAKR,KAAK,EAAG;IACX;IACA;IACA;IACA,IAAKF,MAAM,CAACI,QAAQ,CAACS,OAAO,CAACC,UAAU,CAAC,SAAS,CAAC,EAAG;MACnDd,MAAM,CAACI,QAAQ,CAACS,OAAO,GAAGb,MAAM,CAACI,QAAQ,CAACS,OAAO,CAACE,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC/E;IAEA,IAAMC,aAAa,GAAG,IAAInB,KAAK,CAACoB,KAAK,CAAC;MAAEC,kBAAkB,EAAE;IAAM,CAAC,CAAC;IAEpElB,MAAM,CAACI,QAAQ,CAACe,UAAU,GAAGH,aAAa;IAC1ChB,MAAM,CAACmB,UAAU,GAAGH,aAAa;EACnC;AACF","ignoreList":[]}]}