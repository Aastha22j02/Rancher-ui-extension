{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/PodSecurityAdmission.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/PodSecurityAdmission.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBfVklFVywgX0NSRUFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0LnZ1ZSc7CmltcG9ydCBDaGVja2JveCBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94L0NoZWNrYm94LnZ1ZSc7CmltcG9ydCBMYWJlbGVkSW5wdXQgZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQvTGFiZWxlZElucHV0LnZ1ZSc7CmltcG9ydCB7IFBTQURlZmF1bHRMZXZlbCwgUFNBRGVmYXVsdFZlcnNpb24sIFBTQURpbWVuc2lvbnMsIFBTQUxldmVscywgUFNBTW9kZXMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3BvZC1zZWN1cml0eS1hZG1pc3Npb24nOwppbXBvcnQgeyBwaWNrQnksIHRvRGljdGlvbmFyeSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwp2YXIgZ2V0UHNhQ29udHJvbCA9IGZ1bmN0aW9uIGdldFBzYUNvbnRyb2woKSB7CiAgcmV0dXJuIHsKICAgIGFjdGl2ZTogZmFsc2UsCiAgICBsZXZlbDogUFNBRGVmYXVsdExldmVsLAogICAgdmVyc2lvbjogJycKICB9Owp9Owp2YXIgZ2V0RXhlbXB0aW9uQ29udHJvbCA9IGZ1bmN0aW9uIGdldEV4ZW1wdGlvbkNvbnRyb2woKSB7CiAgcmV0dXJuIHsKICAgIGFjdGl2ZTogZmFsc2UsCiAgICB2YWx1ZTogJycKICB9Owp9OwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dAogIH0sCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICogTGlzdCBvZiBsYWJlbHMgdXNlZCBmb3IgdGhlIHJlc291cmNlCiAgICAgKiBOb3RlOiBQU0EgbGFiZWxzIGFyZSBhbHdheXMgcGFpcmVkCiAgICAgKi8KICAgIGxhYmVsczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIGxhYmVsc0Fsd2F5c0FjdGl2ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8qKgogICAgICogTWFwIGVkaXRpbmcgY2FwYWJpbGl0aWVzIHRvIHRoZSBjb21wb25lbnQKICAgICAqLwogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLyoqCiAgICAgKiBMaXN0IG9mIGV4ZW1wdGlvbnMgdXNlZCBmb3IgdGhlIHJlc291cmNlCiAgICAgKi8KICAgIGV4ZW1wdGlvbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIFByZWZpeCB1c2VkIGZvciBzZXR0aW5nIGxhYmVscwogICAgICovCiAgICBsYWJlbHNQcmVmaXg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8qKgogICAgICogSW5oZXJpdGVkIGdsb2JhbCBpZGVudGlmaWVyIHByZWZpeCBmb3IgdGVzdHMKICAgICAqIERlZmluZSBhIHRlcm0gYmFzZWQgb24gdGhlIHBhcmVudCBjb21wb25lbnQgdG8gYXZvaWQgY29uZmxpY3RzIG9uIG11bHRpcGxlIGNvbXBvbmVudHMKICAgICAqLwogICAgY29tcG9uZW50VGVzdGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3BvZC1zZWN1cml0eS1hZG1pc3Npb24nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiB7CiAgICAgIC8vIEdlbmVyYXRlIFBTQSBmb3JtIGNvbnRyb2xzCiAgICAgIHBzYUNvbnRyb2xzOiB0b0RpY3Rpb25hcnkoUFNBTW9kZXMsIGdldFBzYUNvbnRyb2wpLAogICAgICBwc2FFeGVtcHRpb25zQ29udHJvbHM6IHRvRGljdGlvbmFyeShQU0FEaW1lbnNpb25zLCBnZXRFeGVtcHRpb25Db250cm9sKSwKICAgICAgb3B0aW9uczogUFNBTGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGxldmVsLAogICAgICAgICAgbGFiZWw6IF90aGlzLnQoInBvZFNlY3VyaXR5QWRtaXNzaW9uLmxhYmVscy4iLmNvbmNhdChsZXZlbCkpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH07CiAgfSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmlldzogZnVuY3Rpb24gaXNWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCiAgICAvKioKICAgICAqIEVuYWJsZSBleGVtcHRpb24gZm9ybSBpZiBhbnkKICAgICAqLwogICAgaGFzRXhlbXB0aW9uczogZnVuY3Rpb24gaGFzRXhlbXB0aW9ucygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZXhlbXB0aW9ucykubGVuZ3RoID4gMDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBBc3NpZ24gdmFsdWVzIHRvIHRoZSBmb3JtLCBvdmVycmlkaW5nIGV4aXN0aW5nIHZhbHVlcwogICAgdGhpcy5wc2FDb250cm9scyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5wc2FDb250cm9scyksIHRoaXMuZ2V0UHNhQ29udHJvbHMoKSk7CiAgICB0aGlzLnBzYUV4ZW1wdGlvbnNDb250cm9scyA9IHRoaXMuZ2V0UHNhRXhlbXB0aW9ucygpOwogICAgLy8gRW1pdCBpbml0aWFsIHZhbHVlIG9uIGNyZWF0aW9uIGlmIGxhYmVscyBhbHdheXMgYWN0aXZlLCBhcyBkZWZhdWx0IHByZWRlZmluZWQgdmFsdWVzIGFyZSByZXF1aXJlZAogICAgaWYgKHRoaXMubW9kZSA9PT0gX0NSRUFURSAmJiB0aGlzLmxhYmVsc0Fsd2F5c0FjdGl2ZSkgewogICAgICB0aGlzLnVwZGF0ZUxhYmVscygpOwogICAgICB0aGlzLnVwZGF0ZUV4ZW1wdGlvbnMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogRmlsdGVyIG91dCBleGlzdGluZyBQU0EgbGFiZWxzIGFuZCBlbWl0IGV4aXN0aW5nIGxhYmVscyB3aXRoIG5ldyBQU0Egb25lcwogICAgICovCiAgICB1cGRhdGVMYWJlbHM6IGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBub25QU0FMYWJlbHMgPSBwaWNrQnkodGhpcy5sYWJlbHMsIGZ1bmN0aW9uIChfLCBrZXkpIHsKICAgICAgICByZXR1cm4gIWtleS5pbmNsdWRlcyhfdGhpczIubGFiZWxzUHJlZml4KTsKICAgICAgfSk7CiAgICAgIHZhciBsYWJlbHMgPSBQU0FNb2Rlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbW9kZSkgewogICAgICAgIHJldHVybiBfdGhpczIucHNhQ29udHJvbHNbbW9kZV0uYWN0aXZlIHx8IF90aGlzMi5sYWJlbHNBbHdheXNBY3RpdmUgPyBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFjYyksIHt9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCAiIi5jb25jYXQoX3RoaXMyLmxhYmVsc1ByZWZpeCkuY29uY2F0KG1vZGUpLCBfdGhpczIucHNhQ29udHJvbHNbbW9kZV0ubGV2ZWwgfHwgUFNBRGVmYXVsdExldmVsKSwgIiIuY29uY2F0KF90aGlzMi5sYWJlbHNQcmVmaXgpLmNvbmNhdChtb2RlLCAiLXZlcnNpb24iKSwgX3RoaXMyLnBzYUNvbnRyb2xzW21vZGVdLnZlcnNpb24gfHwgUFNBRGVmYXVsdFZlcnNpb24pKSA6IGFjYzsKICAgICAgfSwgbm9uUFNBTGFiZWxzKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlTGFiZWxzJywgbGFiZWxzKTsKICAgIH0sCiAgICAvKioKICAgICAqIEVtaXQgYWN0aXZlIGV4ZW1wdGlvbnMgaW4gcmVxdWlyZWQgZm9ybWF0CiAgICAgKi8KICAgIHVwZGF0ZUV4ZW1wdGlvbnM6IGZ1bmN0aW9uIHVwZGF0ZUV4ZW1wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgZXhlbXB0aW9ucyA9IFBTQURpbWVuc2lvbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGRpbWVuc2lvbikgewogICAgICAgIHZhciB2YWx1ZSA9IF90aGlzMy5wc2FFeGVtcHRpb25zQ29udHJvbHNbZGltZW5zaW9uXS52YWx1ZS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGFjdGl2ZSA9IF90aGlzMy5wc2FFeGVtcHRpb25zQ29udHJvbHNbZGltZW5zaW9uXS5hY3RpdmU7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYWNjKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZGltZW5zaW9uLCBhY3RpdmUgJiYgdmFsdWUgPyB2YWx1ZSA6IFtdKSk7CiAgICAgIH0sIHt9KTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlRXhlbXB0aW9ucycsIGV4ZW1wdGlvbnMpOwogICAgfSwKICAgIC8qKgogICAgICogR2VuZXJhdGUgZm9ybSBjb250cm9scyBiYXNlZCBvbiBQU0EgbGFiZWxzIGluIHRoZSBwcm92aWRlZCBkaWN0aW9uYXJ5CiAgICAgKi8KICAgIGdldFBzYUNvbnRyb2xzOiBmdW5jdGlvbiBnZXRQc2FDb250cm9scygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBQU0FNb2Rlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbW9kZSkgewogICAgICAgIHZhciBsZXZlbCA9IF90aGlzNC5sYWJlbHNbIiIuY29uY2F0KF90aGlzNC5sYWJlbHNQcmVmaXgpLmNvbmNhdChtb2RlKV07CiAgICAgICAgLy8gUmV0cmlldmUgdmVyc2lvbiwgaGlkaW5nIHRoZSB2YWx1ZSAnbGF0ZXN0JyBmcm9tIHRoZSB1c2VyCiAgICAgICAgdmFyIHZlcnNpb24gPSAoX3RoaXM0LmxhYmVsc1siIi5jb25jYXQoX3RoaXM0LmxhYmVsc1ByZWZpeCkuY29uY2F0KG1vZGUsICItdmVyc2lvbiIpXSB8fCAnJykucmVwbGFjZShQU0FEZWZhdWx0VmVyc2lvbiwgJycpOwogICAgICAgIHJldHVybiBsZXZlbCA/IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYWNjKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbW9kZSwgewogICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgbGV2ZWw6IGxldmVsLAogICAgICAgICAgdmVyc2lvbjogdmVyc2lvbgogICAgICAgIH0pKSA6IGFjYzsKICAgICAgfSwge30pOwogICAgfSwKICAgIC8qKgogICAgICogR2VuZXJhdGUgZm9ybSBleGVtcHRpb25zIGJhc2VkIG9uIFBTQSBleGVtcHRpb25zIHByb3ZpZGVkIGRpY3Rpb25hcnkKICAgICAqLwogICAgZ2V0UHNhRXhlbXB0aW9uczogZnVuY3Rpb24gZ2V0UHNhRXhlbXB0aW9ucygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiBQU0FEaW1lbnNpb25zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBkaW1lbnNpb24pIHsKICAgICAgICB2YXIgdmFsdWVzID0gKF90aGlzNS5leGVtcHRpb25zW2RpbWVuc2lvbl0gfHwgW10pLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7CiAgICAgICAgfSkuam9pbignLCcpOwogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFjYyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGRpbWVuc2lvbiwgewogICAgICAgICAgYWN0aXZlOiAhIXZhbHVlcy5sZW5ndGgsCiAgICAgICAgICB2YWx1ZTogdmFsdWVzCiAgICAgICAgfSkpOwogICAgICB9LCB7fSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBBZGQgY2hlY2tzIG9uIGlucHV0IGZvciBQU0EgY29udHJvbHMgdG8gYmUgYWN0aXZlIG9yIG5vdCwgYWxsb3dpbmcgd2hpdGUgY2FzZXMKICAgICAqLwogICAgaXNQc2FDb250cm9sRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzUHNhQ29udHJvbERpc2FibGVkKGFjdGl2ZSkgewogICAgICByZXR1cm4gIXRoaXMubGFiZWxzQWx3YXlzQWN0aXZlICYmICghYWN0aXZlIHx8IHRoaXMuaXNWaWV3KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["defineComponent","_VIEW","_CREATE","LabeledSelect","Checkbox","LabeledInput","PSADefaultLevel","PSADefaultVersion","PSADimensions","PSALevels","PSAModes","pickBy","toDictionary","getPsaControl","active","level","version","getExemptionControl","value","components","props","labels","type","Object","default","labelsAlwaysActive","Boolean","mode","String","required","exemptions","labelsPrefix","componentTestid","data","_this","psaControls","psaExemptionsControls","options","map","label","t","concat","watch","computed","isView","hasExemptions","keys","length","created","_objectSpread","getPsaControls","getPsaExemptions","updateLabels","updateExemptions","methods","_this2","nonPSALabels","_","key","includes","reduce","acc","_defineProperty","$emit","_this3","dimension","split","trim","_this4","replace","_this5","values","join","isPsaControlDisabled"],"sources":["/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/PodSecurityAdmission.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport { defineComponent } from 'vue';\nimport { _VIEW, _CREATE } from '@shell/config/query-params';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport LabeledInput from '@components/Form/LabeledInput/LabeledInput.vue';\nimport { PSADimension, PSAMode } from '@shell/types/resources/pod-security-admission';\nimport {\n  PSADefaultLevel,\n  PSADefaultVersion, PSADimensions, PSALevels, PSAModes\n} from '@shell/config/pod-security-admission';\nimport { pickBy, toDictionary } from '@shell/utils/object';\n\ninterface PSAControl { active: boolean, level: string, version: string }\nconst getPsaControl = (): PSAControl => ({\n  active:  false,\n  level:   PSADefaultLevel,\n  version: ''\n});\n\n// Type and function for exemptions form builder\ninterface PSAExemptionControl { active: boolean, value: string }\nconst getExemptionControl = (): PSAExemptionControl => ({\n  active: false,\n  value:  ''\n});\n\nexport default defineComponent({\n  components: {\n    Checkbox, LabeledSelect, LabeledInput\n  },\n  props: {\n    /**\n     * List of labels used for the resource\n     * Note: PSA labels are always paired\n     */\n    labels: {\n      type:    Object as () => Record<string, string>,\n      default: () => ({})\n    },\n\n    labelsAlwaysActive: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Map editing capabilities to the component\n     */\n    mode: {\n      type:     String,\n      required: true\n    },\n\n    /**\n     * List of exemptions used for the resource\n     */\n    exemptions: {\n      type:    Object as () => Record<PSADimension, string[]>,\n      default: () => ({} as Record<PSADimension, string[]>)\n    },\n\n    /**\n     * Prefix used for setting labels\n     */\n    labelsPrefix: {\n      type:    String,\n      default: ''\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'pod-security-admission'\n    }\n  },\n\n  data() {\n    return {\n      // Generate PSA form controls\n      psaControls:           toDictionary(PSAModes, getPsaControl) as Record<PSAMode, PSAControl>,\n      psaExemptionsControls: toDictionary(PSADimensions, getExemptionControl) as Record<PSADimension, PSAExemptionControl>,\n      options:               PSALevels.map((level) => ({\n        value: level,\n        label: this.t(`podSecurityAdmission.labels.${ level }`)\n      })),\n    };\n  },\n\n  watch: {},\n\n  computed: {\n    isView(): boolean {\n      return this.mode === _VIEW;\n    },\n\n    /**\n     * Enable exemption form if any\n     */\n    hasExemptions(): boolean {\n      return Object.keys(this.exemptions).length > 0;\n    },\n  },\n\n  created() {\n    // Assign values to the form, overriding existing values\n    this.psaControls = {\n      ...this.psaControls,\n      ...this.getPsaControls()\n    };\n\n    this.psaExemptionsControls = this.getPsaExemptions();\n\n    // Emit initial value on creation if labels always active, as default predefined values are required\n    if (this.mode === _CREATE && this.labelsAlwaysActive) {\n      this.updateLabels();\n      this.updateExemptions();\n    }\n  },\n\n  methods: {\n    /**\n     * Filter out existing PSA labels and emit existing labels with new PSA ones\n     */\n    updateLabels(): void {\n      const nonPSALabels = pickBy(this.labels, (_, key) => !key.includes(this.labelsPrefix));\n      const labels = PSAModes.reduce((acc, mode) => {\n        return this.psaControls[mode].active || this.labelsAlwaysActive ? {\n          ...acc,\n          // Set default level if none\n          [`${ this.labelsPrefix }${ mode }`]:         this.psaControls[mode].level || PSADefaultLevel,\n          // Set default version if none\n          [`${ this.labelsPrefix }${ mode }-version`]: this.psaControls[mode].version || PSADefaultVersion\n        } : acc;\n      }, nonPSALabels);\n\n      this.$emit('updateLabels', labels);\n    },\n\n    /**\n     * Emit active exemptions in required format\n     */\n    updateExemptions(): void {\n      const exemptions = PSADimensions.reduce((acc, dimension) => {\n        const value = this.psaExemptionsControls[dimension].value.split(',').map((value) => value.trim());\n        const active = this.psaExemptionsControls[dimension].active;\n\n        return {\n          ...acc,\n          [dimension]: active && value ? value : []\n        };\n      }, {});\n\n      this.$emit('updateExemptions', exemptions);\n    },\n\n    /**\n     * Generate form controls based on PSA labels in the provided dictionary\n     */\n    getPsaControls(): Record<PSAMode, PSAControl> {\n      return PSAModes.reduce((acc, mode) => {\n        const level = this.labels[`${ this.labelsPrefix }${ mode }`];\n        // Retrieve version, hiding the value 'latest' from the user\n        const version = (this.labels[`${ this.labelsPrefix }${ mode }-version`] || '').replace(PSADefaultVersion, '');\n\n        return level ? {\n          ...acc,\n          [mode]: {\n            active: true,\n            level,\n            version\n          }\n        } : acc;\n      }, {} as Record<PSAMode, PSAControl>);\n    },\n\n    /**\n     * Generate form exemptions based on PSA exemptions provided dictionary\n     */\n    getPsaExemptions(): Record<PSADimension, PSAExemptionControl> {\n      return PSADimensions.reduce((acc, dimension) => {\n        const values = (this.exemptions[dimension] || []).map((value) => value.trim()).join(',');\n\n        return {\n          ...acc,\n          [dimension]: {\n            active: !!values.length,\n            value:  values\n          }\n        };\n      }, {}) as Record<PSADimension, PSAExemptionControl>;\n    },\n\n    /**\n     * Add checks on input for PSA controls to be active or not, allowing white cases\n     */\n    isPsaControlDisabled(active: boolean): boolean {\n      return !this.labelsAlwaysActive && (!active || this.isView);\n    }\n  }\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;AACA,SAASA,eAAe,QAAQ,KAAK;AACrC,SAASC,KAAK,EAAEC,OAAO,QAAQ,4BAA4B;AAC3D,OAAOC,aAAa,MAAM,0CAA0C;AACpE,OAAOC,QAAQ,MAAM,wCAAwC;AAC7D,OAAOC,YAAY,MAAM,gDAAgD;AAEzE,SACEC,eAAe,EACfC,iBAAiB,EAAEC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAChD,sCAAsC;AAC7C,SAASC,MAAM,EAAEC,YAAY,QAAQ,qBAAqB;AAG1D,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;EAAA,OAAsB;IACvCC,MAAM,EAAG,KAAK;IACdC,KAAK,EAAIT,eAAe;IACxBU,OAAO,EAAE;GACV;AAAA,CAAC;AAIF,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA;EAAA,OAA+B;IACtDH,MAAM,EAAE,KAAK;IACbI,KAAK,EAAG;GACT;AAAA,CAAC;AAEF,eAAelB,eAAe,CAAC;EAC7BmB,UAAU,EAAE;IACVf,QAAQ,EAARA,QAAQ;IAAED,aAAa,EAAbA,aAAa;IAAEE,YAAY,EAAZA;GAC1B;EACDe,KAAK,EAAE;IACL;;;;IAIAC,MAAM,EAAE;MACNC,IAAI,EAAKC,MAAsC;MAC/CC,OAAO,EAAE,SAATA,QAAOA,CAAA;QAAA,OAAS,EAAE;MAAA;KACnB;IAEDC,kBAAkB,EAAE;MAClBH,IAAI,EAAKI,OAAO;MAChBF,OAAO,EAAE;KACV;IAED;;;IAGAG,IAAI,EAAE;MACJL,IAAI,EAAMM,MAAM;MAChBC,QAAQ,EAAE;KACX;IAED;;;IAGAC,UAAU,EAAE;MACVR,IAAI,EAAKC,MAA8C;MACvDC,OAAO,EAAE,SAATA,QAAOA,CAAA;QAAA,OAAS,EAAqC;MAAA;KACtD;IAED;;;IAGAO,YAAY,EAAE;MACZT,IAAI,EAAKM,MAAM;MACfJ,OAAO,EAAE;KACV;IAED;;;;IAIAQ,eAAe,EAAE;MACfV,IAAI,EAAKM,MAAM;MACfJ,OAAO,EAAE;;GAEZ;EAEDS,IAAI,WAAJA,IAAIA,CAAA;IAAA,IAAAC,KAAA;IACF,OAAO;MACL;MACAC,WAAW,EAAYvB,YAAY,CAACF,QAAQ,EAAEG,aAAa,CAAgC;MAC3FuB,qBAAqB,EAAExB,YAAY,CAACJ,aAAa,EAAES,mBAAmB,CAA8C;MACpHoB,OAAO,EAAgB5B,SAAS,CAAC6B,GAAG,CAAC,UAACvB,KAAK;QAAA,OAAM;UAC/CG,KAAK,EAAEH,KAAK;UACZwB,KAAK,EAAEL,KAAI,CAACM,CAAC,gCAAAC,MAAA,CAAiC1B,KAAM,CAAE;SACvD;MAAA,CAAC;KACH;EACH,CAAC;EAED2B,KAAK,EAAE,EAAE;EAETC,QAAQ,EAAE;IACRC,MAAM,WAANA,MAAMA,CAAA;MACJ,OAAO,IAAI,CAACjB,IAAI,KAAK1B,KAAK;IAC5B,CAAC;IAED;;;IAGA4C,aAAa,WAAbA,aAAaA,CAAA;MACX,OAAOtB,MAAM,CAACuB,IAAI,CAAC,IAAI,CAAChB,UAAU,CAAC,CAACiB,MAAM,GAAG,CAAC;IAChD;GACD;EAEDC,OAAO,WAAPA,OAAOA,CAAA;IACL;IACA,IAAI,CAACb,WAAW,GAAAc,aAAA,CAAAA,aAAA,KACX,IAAI,CAACd,WAAW,GAChB,IAAI,CAACe,cAAc,EAAE,CACzB;IAED,IAAI,CAACd,qBAAqB,GAAG,IAAI,CAACe,gBAAgB,EAAE;IAEpD;IACA,IAAI,IAAI,CAACxB,IAAI,KAAKzB,OAAO,IAAI,IAAI,CAACuB,kBAAkB,EAAE;MACpD,IAAI,CAAC2B,YAAY,EAAE;MACnB,IAAI,CAACC,gBAAgB,EAAE;;EAE3B,CAAC;EAEDC,OAAO,EAAE;IACP;;;IAGAF,YAAY,WAAZA,YAAYA,CAAA;MAAA,IAAAG,MAAA;MACV,IAAMC,YAAY,GAAG7C,MAAM,CAAC,IAAI,CAACU,MAAM,EAAE,UAACoC,CAAC,EAAEC,GAAG;QAAA,OAAK,CAACA,GAAG,CAACC,QAAQ,CAACJ,MAAI,CAACxB,YAAY,CAAC;MAAA,EAAC;MACtF,IAAMV,MAAM,GAAGX,QAAQ,CAACkD,MAAM,CAAC,UAACC,GAAG,EAAElC,IAAI,EAAI;QAC3C,OAAO4B,MAAI,CAACpB,WAAW,CAACR,IAAI,CAAC,CAACb,MAAM,IAAIyC,MAAI,CAAC9B,kBAAkB,GAAAwB,aAAA,CAAAA,aAAA,KAC1DY,GAAG,OAAAC,eAAA,CAAAA,eAAA,QAAArB,MAAA,CAEDc,MAAI,CAACxB,YAAa,EAAAU,MAAA,CAAId,IAAK,GAAa4B,MAAI,CAACpB,WAAW,CAACR,IAAI,CAAC,CAACZ,KAAK,IAAIT,eAAe,MAAAmC,MAAA,CAEvFc,MAAI,CAACxB,YAAa,EAAAU,MAAA,CAAId,IAAK,eAAa4B,MAAI,CAACpB,WAAW,CAACR,IAAI,CAAC,CAACX,OAAO,IAAIT,iBAAiB,KAC9FsD,GAAG;MACT,CAAC,EAAEL,YAAY,CAAC;MAEhB,IAAI,CAACO,KAAK,CAAC,cAAc,EAAE1C,MAAM,CAAC;IACpC,CAAC;IAED;;;IAGAgC,gBAAgB,WAAhBA,gBAAgBA,CAAA;MAAA,IAAAW,MAAA;MACd,IAAMlC,UAAU,GAAGtB,aAAa,CAACoD,MAAM,CAAC,UAACC,GAAG,EAAEI,SAAS,EAAI;QACzD,IAAM/C,KAAK,GAAG8C,MAAI,CAAC5B,qBAAqB,CAAC6B,SAAS,CAAC,CAAC/C,KAAK,CAACgD,KAAK,CAAC,GAAG,CAAC,CAAC5B,GAAG,CAAC,UAACpB,KAAK;UAAA,OAAKA,KAAK,CAACiD,IAAI,EAAE;QAAA,EAAC;QACjG,IAAMrD,MAAM,GAAGkD,MAAI,CAAC5B,qBAAqB,CAAC6B,SAAS,CAAC,CAACnD,MAAM;QAE3D,OAAAmC,aAAA,CAAAA,aAAA,KACKY,GAAG,OAAAC,eAAA,KACLG,SAAS,EAAGnD,MAAM,IAAII,KAAK,GAAGA,KAAK,GAAG,EAAE;MAE7C,CAAC,EAAE,EAAE,CAAC;MAEN,IAAI,CAAC6C,KAAK,CAAC,kBAAkB,EAAEjC,UAAU,CAAC;IAC5C,CAAC;IAED;;;IAGAoB,cAAc,WAAdA,cAAcA,CAAA;MAAA,IAAAkB,MAAA;MACZ,OAAO1D,QAAQ,CAACkD,MAAM,CAAC,UAACC,GAAG,EAAElC,IAAI,EAAI;QACnC,IAAMZ,KAAK,GAAGqD,MAAI,CAAC/C,MAAM,IAAAoB,MAAA,CAAK2B,MAAI,CAACrC,YAAa,EAAAU,MAAA,CAAId,IAAK,EAAG;QAC5D;QACA,IAAMX,OAAO,GAAG,CAACoD,MAAI,CAAC/C,MAAM,IAAAoB,MAAA,CAAK2B,MAAI,CAACrC,YAAa,EAAAU,MAAA,CAAId,IAAK,cAAW,IAAI,EAAE,EAAE0C,OAAO,CAAC9D,iBAAiB,EAAE,EAAE,CAAC;QAE7G,OAAOQ,KAAK,GAAAkC,aAAA,CAAAA,aAAA,KACPY,GAAG,OAAAC,eAAA,KACLnC,IAAI,EAAG;UACNb,MAAM,EAAE,IAAI;UACZC,KAAK,EAALA,KAAK;UACLC,OAAO,EAAPA;SACD,KACC6C,GAAG;MACT,CAAC,EAAE,EAAiC,CAAC;IACvC,CAAC;IAED;;;IAGAV,gBAAgB,WAAhBA,gBAAgBA,CAAA;MAAA,IAAAmB,MAAA;MACd,OAAO9D,aAAa,CAACoD,MAAM,CAAC,UAACC,GAAG,EAAEI,SAAS,EAAI;QAC7C,IAAMM,MAAM,GAAG,CAACD,MAAI,CAACxC,UAAU,CAACmC,SAAS,CAAC,IAAI,EAAE,EAAE3B,GAAG,CAAC,UAACpB,KAAK;UAAA,OAAKA,KAAK,CAACiD,IAAI,EAAE;QAAA,EAAC,CAACK,IAAI,CAAC,GAAG,CAAC;QAExF,OAAAvB,aAAA,CAAAA,aAAA,KACKY,GAAG,OAAAC,eAAA,KACLG,SAAS,EAAG;UACXnD,MAAM,EAAE,CAAC,CAACyD,MAAM,CAACxB,MAAM;UACvB7B,KAAK,EAAGqD;SACT;MAEL,CAAC,EAAE,EAAE,CAA8C;IACrD,CAAC;IAED;;;IAGAE,oBAAoB,WAApBA,oBAAoBA,CAAC3D,MAAe;MAClC,OAAO,CAAC,IAAI,CAACW,kBAAkB,KAAK,CAACX,MAAM,IAAI,IAAI,CAAC8B,MAAM,CAAC;IAC7D;;CAEH,CAAC","ignoreList":[]}]}