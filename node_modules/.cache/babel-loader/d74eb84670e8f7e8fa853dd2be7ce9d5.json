{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zdHJpbmcuYXQuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICdAc2hlbGwvbWl4aW5zL2Zvcm0tdmFsaWRhdGlvbic7CmltcG9ydCBNb25pdG9yaW5nIGZyb20gJ0BzaGVsbC9lZGl0L21vbml0b3JpbmcuY29yZW9zLmNvbS5wcm9tZXRoZXVzcnVsZS9pbmRleC52dWUnOwppbXBvcnQgeyBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKZGVzY3JpYmUoJ2VkaXQ6IG1hbmFnZW1lbnQuY2F0dGxlLmlvLnNldHRpbmcgc2hvdWxkJywgZnVuY3Rpb24gKCkgewogIHZhciBNT0NLRURfRVJST1JTID0gWydlcnJvcjEnLCAnZXJyb3IyJywgJ2Vycm9yMycsICdlcnJvcjQnLCAnZXJyb3I1J107CiAgdmFyIEVSUk9SX0JBTk5FUl9TRUxFQ1RPUiA9ICdbZGF0YS10ZXN0aWQ9ImJhbm5lci1jbG9zZSJdJzsKICB2YXIgcmVxdWlyZWRTZXR1cCA9IGZ1bmN0aW9uIHJlcXVpcmVkU2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBSZW1vdmUgYWxsIHRoZXNlIG1vY2tzIGFmdGVyIG1pZ3JhdGlvbiB0byBWdWUgMi43LzMgZHVlIG1peGluIGxvZ2ljCiAgICAgIG1vY2tzOiB7CiAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICBkaXNwYXRjaDogamVzdC5mbigpLAogICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICBjdXJyZW50U3RvcmU6IGZ1bmN0aW9uIGN1cnJlbnRTdG9yZSgpIHsKICAgICAgICAgICAgICByZXR1cm4gJ2N1cnJlbnRfc3RvcmUnOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnY3VycmVudF9zdG9yZS9zY2hlbWFGb3InOiBqZXN0LmZuKCksCiAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgJ2kxOG4vdCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgJ2kxOG4vZXhpc3RzJzogamVzdC5mbigpLAogICAgICAgICAgICBuYW1lc3BhY2VzOiBmdW5jdGlvbiBuYW1lc3BhY2VzKCkgewogICAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJHJvdXRlOiB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBBUzogJycKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiAnJwogICAgICAgIH0sCiAgICAgICAgJHJvdXRlcjogewogICAgICAgICAgYXBwbHlRdWVyeTogamVzdC5mbigpCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH07CiAgaXQoJ3Nob3VsZCBjbG9zZSBlcnJvciBiYW5uZXJzJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciB3cmFwcGVyLCBlcnJvckJhbm5lcnMsIGksIHJlc3VsdEVycm9yQmFubmVyczsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBqZXN0LnNweU9uKEZvcm1WYWxpZGF0aW9uLmNvbXB1dGVkLCAnZnZVbnJlcG9ydGVkVmFsaWRhdGlvbkVycm9ycycpLm1vY2tSZXR1cm5WYWx1ZShNT0NLRURfRVJST1JTKTsKICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChNb25pdG9yaW5nLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgY2FuWWFtbDogZmFsc2UsCiAgICAgICAgICAgICAgbW9kZTogX0VESVQsCiAgICAgICAgICAgICAgcmVzb3VyY2U6IHt9LAogICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogJ2FueXRoaW5nJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbmFtZTogJycKICAgICAgICAgICAgfQogICAgICAgICAgfSwgcmVxdWlyZWRTZXR1cCgpKSk7CiAgICAgICAgICBlcnJvckJhbm5lcnMgPSB3cmFwcGVyLmZpbmRBbGwoRVJST1JfQkFOTkVSX1NFTEVDVE9SKTsgLy8gQXNzZXJ0IHRoYXQgYWxsIHRoZSBlcnJvciBiYW5uZXJzIGFyZSByZW5kZXJlZAogICAgICAgICAgZXhwZWN0KGVycm9yQmFubmVycykudG9IYXZlTGVuZ3RoKE1PQ0tFRF9FUlJPUlMubGVuZ3RoKTsKICAgICAgICAgIGkgPSAwOwogICAgICAgIGNhc2UgNToKICAgICAgICAgIGlmICghKGkgPCBNT0NLRURfRVJST1JTLmxlbmd0aCkpIHsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgcmV0dXJuIGVycm9yQmFubmVycy5hdCgwKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIGNhc2UgODoKICAgICAgICAgIHJlc3VsdEVycm9yQmFubmVycyA9IHdyYXBwZXIuZmluZEFsbChFUlJPUl9CQU5ORVJfU0VMRUNUT1IpOyAvLyBBc3NlcnQgdGhhdCBhbiBlcnJvciBiYW5uZXIgaXMgY2xvc2VkIHVudGlsIHRoZSBsYXN0IG9uZQogICAgICAgICAgZXhwZWN0KHJlc3VsdEVycm9yQmFubmVycykudG9IYXZlTGVuZ3RoKE1PQ0tFRF9FUlJPUlMubGVuZ3RoIC0gMSAtIGkpOwogICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBpKys7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTM6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKSk7Cn0pOw=="},{"version":3,"names":["mount","FormValidation","Monitoring","_EDIT","describe","MOCKED_ERRORS","ERROR_BANNER_SELECTOR","requiredSetup","mocks","$store","dispatch","jest","fn","getters","currentStore","namespaces","$route","query","AS","name","$router","applyQuery","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrapper","errorBanners","i","resultErrorBanners","wrap","_callee$","_context","prev","next","spyOn","computed","mockReturnValue","_objectSpread","propsData","canYaml","mode","resource","value","findAll","expect","toHaveLength","length","at","trigger","stop"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/__tests__/monitoring.coreos.com.prometheusrule.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport FormValidation from '@shell/mixins/form-validation';\nimport Monitoring from '@shell/edit/monitoring.coreos.com.prometheusrule/index.vue';\nimport { _EDIT } from '@shell/config/query-params';\n\ndescribe('edit: management.cattle.io.setting should', () => {\n  const MOCKED_ERRORS = ['error1', 'error2', 'error3', 'error4', 'error5'];\n  const ERROR_BANNER_SELECTOR = '[data-testid=\"banner-close\"]';\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        dispatch: jest.fn(),\n        getters:  {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          'i18n/t':                  jest.fn(),\n          'i18n/exists':             jest.fn(),\n          namespaces:                () => ({})\n        }\n      },\n      $route:  { query: { AS: '' }, name: '' },\n      $router: { applyQuery: jest.fn() }\n    }\n  });\n\n  it('should close error banners', async() => {\n    jest.spyOn(FormValidation.computed, 'fvUnreportedValidationErrors').mockReturnValue(MOCKED_ERRORS);\n\n    const wrapper = mount(Monitoring, {\n      propsData: {\n        canYaml:  false,\n        mode:     _EDIT,\n        resource: {},\n        value:    { value: 'anything' },\n        name:     ''\n      },\n      ...requiredSetup()\n    });\n\n    const errorBanners = wrapper.findAll(ERROR_BANNER_SELECTOR);\n\n    // Assert that all the error banners are rendered\n    expect(errorBanners).toHaveLength(MOCKED_ERRORS.length);\n\n    for (let i = 0; i < MOCKED_ERRORS.length; i++) {\n      await errorBanners.at(0).trigger('click');\n      const resultErrorBanners = wrapper.findAll(ERROR_BANNER_SELECTOR);\n\n      // Assert that an error banner is closed until the last one\n      expect(resultErrorBanners).toHaveLength(MOCKED_ERRORS.length - 1 - i);\n    }\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}