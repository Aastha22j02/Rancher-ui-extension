{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/actions.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/actions.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgX3RvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9BcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnOwppbXBvcnQgeyBTQ0hFTUEgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgU1BPT0ZFRF9BUElfUFJFRklYLCBTUE9PRkVEX1BSRUZJWCB9IGZyb20gJ0BzaGVsbC9zdG9yZS90eXBlLW1hcCc7CmltcG9ydCB7IGNyZWF0ZVlhbWwgfSBmcm9tICdAc2hlbGwvdXRpbHMvY3JlYXRlLXlhbWwnOwppbXBvcnQgeyBjbGFzc2lmeSB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9jbGFzc2lmeSc7CmltcG9ydCB7IG5vcm1hbGl6ZVR5cGUgfSBmcm9tICcuL25vcm1hbGl6ZSc7CmltcG9ydCBfZ2FyYmFnZUNvbGxlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2djL2djJzsKaW1wb3J0IHsgYWRkU2NoZW1hSW5kZXhGaWVsZHMgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9zY2hlbWEudXRpbHMnOwppbXBvcnQgeyBhZGRQYXJhbSB9IGZyb20gJ0BzaGVsbC91dGlscy91cmwnOwpleHBvcnQgdmFyIF9BTEwgPSAnYWxsJzsKZXhwb3J0IHZhciBfTUVSR0UgPSAnbWVyZ2UnOwpleHBvcnQgdmFyIF9NVUxUSSA9ICdtdWx0aSc7CmV4cG9ydCB2YXIgX0FMTF9JRl9BVVRIRUQgPSAnYWxsSWZBdXRoZWQnOwpleHBvcnQgdmFyIF9OT05FID0gJ25vbmUnOwp2YXIgU0NIRU1BX0NIRUNLX1JFVFJJRVMgPSAxNTsKdmFyIEhBVkVfQUxMX0NIRUNLX1JFVFJJRVMgPSAxNTsKdmFyIFJFVFJZX0xPRyA9IDEwOwpleHBvcnQgZnVuY3Rpb24gaGFuZGxlU3Bvb2ZlZFJlcXVlc3QoX3gsIF94MiwgX3gzLCBfeDQpIHsKICByZXR1cm4gX2hhbmRsZVNwb29mZWRSZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZnVuY3Rpb24gX2hhbmRsZVNwb29mZWRSZXF1ZXN0KCkgewogIF9oYW5kbGVTcG9vZmVkUmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHJvb3RHZXR0ZXJzLCBzY2hlbWFTdG9yZSwgb3B0LCBwcm9kdWN0KSB7CiAgICB2YXIgX29wdCR1cmwkc3BsaXQsIF9vcHQkdXJsJHNwbGl0MiwgZW1wdHksIHNjaGVtZSwgdHlwZSwgcmVzdCwgaWQsIGlzQXBpLCB0eXBlbWFwR2V0dGVyLCBzY2hlbWFzLCBpbnN0YW5jZSwgZGF0YTsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaWYgKCEob3B0LnVybC5pbmNsdWRlcyhTUE9PRkVEX1BSRUZJWCkgfHwgb3B0LnVybC5pbmNsdWRlcyhTUE9PRkVEX0FQSV9QUkVGSVgpKSkgewogICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDExOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIF9vcHQkdXJsJHNwbGl0ID0gb3B0LnVybC5zcGxpdCgnLycpLCBfb3B0JHVybCRzcGxpdDIgPSBfdG9BcnJheShfb3B0JHVybCRzcGxpdCksIGVtcHR5ID0gX29wdCR1cmwkc3BsaXQyWzBdLCBzY2hlbWUgPSBfb3B0JHVybCRzcGxpdDJbMV0sIHR5cGUgPSBfb3B0JHVybCRzcGxpdDJbMl0sIHJlc3QgPSBfb3B0JHVybCRzcGxpdDIuc2xpY2UoMyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICAgIGlkID0gcmVzdC5qb2luKCcvJyk7IC8vIENvdmVyIGNhc2Ugd2hlcmUgaWQgY29udGFpbnMgJy8nCiAgICAgICAgICBpc0FwaSA9IHNjaGVtZSA9PT0gU1BPT0ZFRF9BUElfUFJFRklYOwogICAgICAgICAgdHlwZW1hcEdldHRlciA9IGlkID8gJ2dldFNwb29mZWRJbnN0YW5jZScgOiAnZ2V0U3Bvb2ZlZEluc3RhbmNlcyc7CiAgICAgICAgICBzY2hlbWFzID0gcm9vdEdldHRlcnNbIiIuY29uY2F0KHNjaGVtYVN0b3JlLCAiL2FsbCIpXShTQ0hFTUEpOyAvLyBnZXR0ZXJzIHJldHVybiBhc3luYyBnZXRTcG9vZmVkSW5zdGFuY2UvZ2V0U3Bvb2ZlZEluc3RhbmNlcyBmbgogICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4OwogICAgICAgICAgcmV0dXJuIHJvb3RHZXR0ZXJzWyJ0eXBlLW1hcC8iLmNvbmNhdCh0eXBlbWFwR2V0dGVyKV0odHlwZSwgcHJvZHVjdCwgaWQpOwogICAgICAgIGNhc2UgODoKICAgICAgICAgIGluc3RhbmNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICBkYXRhID0gaXNBcGkgPyBjcmVhdGVZYW1sKHNjaGVtYXMsIHR5cGUsIGluc3RhbmNlKSA6IGluc3RhbmNlOwogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIGlkICYmICFpc0FwaSA/IGRhdGEgOiB7CiAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMTE6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlNyk7CiAgfSkpOwogIHJldHVybiBfaGFuZGxlU3Bvb2ZlZFJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpleHBvcnQgZnVuY3Rpb24gbG9hZFNjaGVtYXMoX3g1KSB7CiAgcmV0dXJuIF9sb2FkU2NoZW1hcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmZ1bmN0aW9uIF9sb2FkU2NoZW1hcygpIHsKICBfbG9hZFNjaGVtYXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChjdHgpIHsKICAgIHZhciB3YXRjaCwKICAgICAgZ2V0dGVycywKICAgICAgZGlzcGF0Y2gsCiAgICAgIGNvbW1pdCwKICAgICAgcm9vdEdldHRlcnMsCiAgICAgIHJlcywKICAgICAgc3Bvb2ZlZFR5cGVzLAogICAgICBhbGwsCiAgICAgIF9hcmdzOSA9IGFyZ3VtZW50czsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgd2F0Y2ggPSBfYXJnczkubGVuZ3RoID4gMSAmJiBfYXJnczlbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzOVsxXSA6IHRydWU7CiAgICAgICAgICBnZXR0ZXJzID0gY3R4LmdldHRlcnMsIGRpc3BhdGNoID0gY3R4LmRpc3BhdGNoLCBjb21taXQgPSBjdHguY29tbWl0LCByb290R2V0dGVycyA9IGN0eC5yb290R2V0dGVyczsKICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDsKICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZmluZEFsbCcsIHsKICAgICAgICAgICAgdHlwZTogU0NIRU1BLAogICAgICAgICAgICBvcHQ6IHsKICAgICAgICAgICAgICB1cmw6ICdzY2hlbWFzJywKICAgICAgICAgICAgICBsb2FkOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgIHNwb29mZWRUeXBlcyA9IHJvb3RHZXR0ZXJzWyd0eXBlLW1hcC9hbGxTcG9vZmVkU2NoZW1hcyddOwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzLmRhdGEpKSB7CiAgICAgICAgICAgIHJlcy5kYXRhID0gcmVzLmRhdGEuY29uY2F0KHNwb29mZWRUeXBlcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgewogICAgICAgICAgICByZXMuZGF0YSA9IHJlcy5jb25jYXQoc3Bvb2ZlZFR5cGVzKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goYWRkU2NoZW1hSW5kZXhGaWVsZHMpOwogICAgICAgICAgY29tbWl0KCdsb2FkQWxsJywgewogICAgICAgICAgICBjdHg6IGN0eCwKICAgICAgICAgICAgdHlwZTogU0NIRU1BLAogICAgICAgICAgICBkYXRhOiByZXMuZGF0YSwKICAgICAgICAgICAgcmV2aXNpb246IHJlcy5yZXZpc2lvbgogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAod2F0Y2ggIT09IGZhbHNlKSB7CiAgICAgICAgICAgIGRpc3BhdGNoKCd3YXRjaCcsIHsKICAgICAgICAgICAgICB0eXBlOiBTQ0hFTUEsCiAgICAgICAgICAgICAgcmV2aXNpb246IHJlcy5yZXZpc2lvbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGFsbCA9IGdldHRlcnMuYWxsKFNDSEVNQSk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgYWxsKTsKICAgICAgICBjYXNlIDEyOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTgpOwogIH0pKTsKICByZXR1cm4gX2xvYWRTY2hlbWFzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KdmFyIGZpbmRBbGxHZXR0ZXIgPSBmdW5jdGlvbiBmaW5kQWxsR2V0dGVyKGdldHRlcnMsIHR5cGUsIG9wdCkgewogIHJldHVybiBvcHQubmFtZXNwYWNlZCA/IGdldHRlcnMubWF0Y2hpbmcodHlwZSwgbnVsbCwgb3B0Lm5hbWVzcGFjZWQsIHsKICAgIHNraXBTZWxlY3RvcjogdHJ1ZQogIH0pIDogZ2V0dGVycy5hbGwodHlwZSk7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgSW1wbGVtZW50ZWQnKTsKICB9LAogIGxvYWRTY2hlbWFzOiBsb2FkU2NoZW1hcywKICAvLyBMb2FkIGEgcGFnZSBvZiBkYXRhIGZvciBhIGdpdmVuIHR5cGUKICAvLyBVc2VkIGZvciBpbmNyZW1lbnRhbCBsb2FkaW5nIHdoZW4gZW5hYmxlZAogIGxvYWREYXRhUGFnZTogZnVuY3Rpb24gbG9hZERhdGFQYWdlKGN0eCwgX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB0eXBlLCBvcHQsIGdldHRlcnMsIGNvbW1pdCwgZGlzcGF0Y2gsIGxvYWRDb3VudCwgX3JlcyRwYWdpbmF0aW9uLCByZXMsIG5ld0xvYWRDb3VudCwgX3JlcyRwYWdpbmF0aW9uMjsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHR5cGUgPSBfcmVmLnR5cGUsIG9wdCA9IF9yZWYub3B0OwogICAgICAgICAgICBnZXR0ZXJzID0gY3R4LmdldHRlcnMsIGNvbW1pdCA9IGN0eC5jb21taXQsIGRpc3BhdGNoID0gY3R4LmRpc3BhdGNoOwogICAgICAgICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwoKICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBubyByZWdpc3RlcmVkIHR5cGUsIHRoZW4gcmVnaXN0ZXIgaXQgc28KICAgICAgICAgICAgLy8gdGhhdCB3ZSBkb24ndCBoYXZlIGlzc3VlcyBvbiAnbG9hZEFkZCcgbXV0YXRpb24KICAgICAgICAgICAgaWYgKCFnZXR0ZXJzLnR5cGVSZWdpc3RlcmVkKHR5cGUpKSB7CiAgICAgICAgICAgICAgY29tbWl0KCdyZWdpc3RlclR5cGUnLCB0eXBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb2FkQ291bnQgPSBnZXR0ZXJzWydsb2FkQ291bnRlciddKHR5cGUpOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncmVxdWVzdCcsIHsKICAgICAgICAgICAgICBvcHQ6IG9wdCwKICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBuZXdMb2FkQ291bnQgPSBnZXR0ZXJzWydsb2FkQ291bnRlciddKHR5cGUpOyAvLyBMb2FkIGNvdW50IGNoYW5nZWQsIHNvIHdlIGNoYW5nZWQgcGFnZSBvciBzdGFydGVkIGEgbmV3IGxvYWQKICAgICAgICAgICAgLy8gYWZ0ZXIgdGhpcyBwYWdlIGxvYWQgd2FzIHN0YXJ0ZWQsIHNvIGRvbid0IGNvbnRpbnVlIHdpdGggaW5jcmVtZW50YWwgbG9hZAogICAgICAgICAgICBpZiAoIShsb2FkQ291bnQgIT09IG5ld0xvYWRDb3VudCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjb21taXQoJ2xvYWRBZGQnLCB7CiAgICAgICAgICAgICAgY3R4OiBjdHgsCiAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICBkYXRhOiByZXMuZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKChfcmVzJHBhZ2luYXRpb24gPSByZXMucGFnaW5hdGlvbikgIT09IG51bGwgJiYgX3JlcyRwYWdpbmF0aW9uICE9PSB2b2lkIDAgJiYgX3JlcyRwYWdpbmF0aW9uLm5leHQpIHsKICAgICAgICAgICAgICBkaXNwYXRjaCgnbG9hZERhdGFQYWdlJywgewogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgIG9wdDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHQpLCB7fSwgewogICAgICAgICAgICAgICAgICB1cmw6IChfcmVzJHBhZ2luYXRpb24yID0gcmVzLnBhZ2luYXRpb24pID09PSBudWxsIHx8IF9yZXMkcGFnaW5hdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXMkcGFnaW5hdGlvbjIubmV4dAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGV2ZXJ5dGhpbmchCiAgICAgICAgICAgICAgaWYgKG9wdC5oYXNNYW51YWxSZWZyZXNoKSB7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgncmVzb3VyY2UtZmV0Y2gvdXBkYXRlTWFudWFsUmVmcmVzaElzTG9hZGluZycsIGZhbHNlLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAob3B0Lm5hbWVzcGFjZWQpIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SGF2ZU5hbWVzcGFjZScsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcHQubmFtZXNwYWNlZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SGF2ZUFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNSk7CiAgICAgICAgICAgIGlmIChvcHQuaGFzTWFudWFsUmVmcmVzaCkgewogICAgICAgICAgICAgIGRpc3BhdGNoKCdyZXNvdXJjZS1mZXRjaC91cGRhdGVNYW51YWxSZWZyZXNoSXNMb2FkaW5nJywgZmFsc2UsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dC50MCkpOwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzUsIDE2XV0pOwogICAgfSkpKCk7CiAgfSwKICBmaW5kQWxsOiBmdW5jdGlvbiBmaW5kQWxsKGN0eCwgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHR5cGUsIG9wdCwgZ2V0dGVycywgY29tbWl0LCBkaXNwYXRjaCwgcm9vdEdldHRlcnMsIGFyZ3MsIGxvYWQsIGhlYWRlciwgdHlwZU9wdGlvbnMsIHNraXBIYXZlQWxsLCBwYWdlRmV0Y2hPcHRzLCBzdHJlYW1TdGFydGVkLCBvdXQsIHF1ZXVlLCBzdHJlYW1Db2xsZWN0aW9uLCByZXMsIF9hbGwsIF9hcmdzMiwgYWxsOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHR5cGUgPSBfcmVmMi50eXBlLCBvcHQgPSBfcmVmMi5vcHQ7CiAgICAgICAgICAgIGdldHRlcnMgPSBjdHguZ2V0dGVycywgY29tbWl0ID0gY3R4LmNvbW1pdCwgZGlzcGF0Y2ggPSBjdHguZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzID0gY3R4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICBvcHQgPSBvcHQgfHwge307CiAgICAgICAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgICAgICAgIGlmICghZ2V0dGVycy50eXBlUmVnaXN0ZXJlZCh0eXBlKSkgewogICAgICAgICAgICAgIGNvbW1pdCgncmVnaXN0ZXJUeXBlJywgdHlwZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gcmVxdWVzdCB0aGUgcmVzb3VyY2VzIGlmIHdlIGhhdmUgdGhlbSBhbHJlYWR5CiAgICAgICAgICAgIGlmICghKG9wdC5mb3JjZSAhPT0gdHJ1ZSAmJiAoZ2V0dGVyc1snaGF2ZUFsbCddKHR5cGUpIHx8IGdldHRlcnNbJ2hhdmVBbGxOYW1lc3BhY2UnXSh0eXBlLCBvcHQubmFtZXNwYWNlZCkpKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBhcmdzID0gewogICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgcmV2aXNpb246ICcnLAogICAgICAgICAgICAgIC8vIHdhdGNoTmFtZXNwYWNlIC0gdXNlZCBzb21ldGltZXMgd2hlbiB3ZSBoYXZlbid0IGZldGNoZWQgdGhlIHJlc3VsdHMgb2YgYSBzaW5nbGUgbmFtZXNwYWNlCiAgICAgICAgICAgICAgLy8gbmFtZXNwYWNlZCAtIHVzZWQgd2hlbiB3ZSBoYXZlIGZldGNoZWQgdGhlIHJlc3VsdCBvZiBhIHNpbmdsZSBuYW1lc3BhY2UgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvcHVsbC83MzI5L2ZpbGVzKQogICAgICAgICAgICAgIG5hbWVzcGFjZTogb3B0LndhdGNoTmFtZXNwYWNlIHx8IG9wdC5uYW1lc3BhY2VkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChvcHQud2F0Y2ggIT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgZGlzcGF0Y2goJ3dhdGNoJywgYXJncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZpbmRBbGxHZXR0ZXIoZ2V0dGVycywgdHlwZSwgb3B0KSk7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGxvYWQgPSBvcHQubG9hZCA9PT0gdW5kZWZpbmVkID8gX0FMTCA6IG9wdC5sb2FkOwogICAgICAgICAgICBpZiAob3B0LmxvYWQgPT09IGZhbHNlIHx8IG9wdC5sb2FkID09PSBfTk9ORSkgewogICAgICAgICAgICAgIGxvYWQgPSBfTk9ORTsKICAgICAgICAgICAgfSBlbHNlIGlmIChvcHQubG9hZCA9PT0gX0FMTF9JRl9BVVRIRUQpIHsKICAgICAgICAgICAgICBoZWFkZXIgPSByb290R2V0dGVyc1snYXV0aC9mcm9tSGVhZGVyJ107CiAgICAgICAgICAgICAgaWYgKCIiLmNvbmNhdChoZWFkZXIpID09PSAndHJ1ZScgfHwgIiIuY29uY2F0KGhlYWRlcikgPT09ICdub25lJykgewogICAgICAgICAgICAgICAgbG9hZCA9IF9BTEw7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxvYWQgPSBfTVVMVEk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHR5cGVPcHRpb25zID0gcm9vdEdldHRlcnNbJ3R5cGUtbWFwL29wdGlvbnNGb3InXSh0eXBlKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIkZpbmQgQWxsOiBbIi5jb25jYXQoY3R4LnN0YXRlLmNvbmZpZy5uYW1lc3BhY2UsICJdICIpLmNvbmNhdCh0eXBlKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBvcHQgPSBvcHQgfHwge307CiAgICAgICAgICAgIG9wdC51cmwgPSBnZXR0ZXJzLnVybEZvcih0eXBlLCBudWxsLCBvcHQpOwogICAgICAgICAgICBvcHQuc3RyZWFtID0gb3B0LnN0cmVhbSAhPT0gZmFsc2UgJiYgbG9hZCAhPT0gX05PTkU7CiAgICAgICAgICAgIG9wdC5kZXBhZ2luYXRlID0gdHlwZU9wdGlvbnMgPT09IG51bGwgfHwgdHlwZU9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHR5cGVPcHRpb25zLmRlcGFnaW5hdGU7CiAgICAgICAgICAgIHNraXBIYXZlQWxsID0gZmFsc2U7IC8vIGlmIGl0J3MgaW5jcmVtZW50YWwgbG9hZGluZywgd2UgZG8gdHdvIHBhcmFsbGVsIHJlcXVlc3RzCiAgICAgICAgICAgIC8vIG9uIGZvciBhIGxpbWl0IG9mIDEwMCwgdG8gcXVpY2tseSBzaG93IGRhdGEKICAgICAgICAgICAgLy8gYW5vdGhlciBvbmUgd2l0aCAxc3QgcGFnZSBvZiB0aGUgc3Vic2V0IG9mIHRoZSByZXNvdXJjZSB3ZSBhcmUgZmV0Y2hpbmcKICAgICAgICAgICAgLy8gdGhlIGRlZmF1bHQgaXMgNCBwYWdlcywgYnV0IGl0IGNhbiBiZSBjaGFuZ2VkIG9uIG1peGluL3Jlc291cmNlLWZldGNoLmpzCiAgICAgICAgICAgIGlmIChvcHQuaW5jcmVtZW50YWwpIHsKICAgICAgICAgICAgICBjb21taXQoJ2luY3JlbWVudExvYWRDb3VudGVyJywgdHlwZSk7CiAgICAgICAgICAgICAgaWYgKG9wdC5oYXNNYW51YWxSZWZyZXNoKSB7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgncmVzb3VyY2UtZmV0Y2gvdXBkYXRlTWFudWFsUmVmcmVzaElzTG9hZGluZycsIHRydWUsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHBhZ2VGZXRjaE9wdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdCksIHt9LCB7CiAgICAgICAgICAgICAgICB1cmw6IGFkZFBhcmFtKG9wdC51cmwsICdsaW1pdCcsICIiLmNvbmNhdChvcHQuaW5jcmVtZW50YWwpKQogICAgICAgICAgICAgIH0pOyAvLyB0aGlzIGlzIHdoZXJlIHdlICJoaWphY2siIHRoZSBsaW1pdCBmb3IgdGhlIGRpc3BhdGNoKCdyZXF1ZXN0Jykgc29tZSBsaW5lcyBiZWxvdwogICAgICAgICAgICAgIC8vIGFuZCB0aGVyZWZvcmUgaGF2ZSAyIGluaXRpYWwgcmVxdWVzdHMgaW4gcGFyYWxsZWwKICAgICAgICAgICAgICBvcHQudXJsID0gYWRkUGFyYW0ob3B0LnVybCwgJ2xpbWl0JywgJzEwMCcpOwogICAgICAgICAgICAgIHNraXBIYXZlQWxsID0gdHJ1ZTsKCiAgICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIGZvcmNpbmcgYSByZXF1ZXN0LCBjbGVhciB0aGUgaGF2ZUFsbAogICAgICAgICAgICAgIC8vIG5lZWRlZCBmb3IgdGhlIHJlc291cmNlLWZldGNoIG1peGluLCBvdGhlcndpc2UgdGhlIGluY3JlbWVudGFsIGluZGljYXRvcgogICAgICAgICAgICAgIC8vIHdvbid0IHBvcC11cCBhZ2FpbiB3aGVuIG1hbnVhbCByZWZyZXNoaW5nCiAgICAgICAgICAgICAgaWYgKG9wdC5mb3JjZSkgewogICAgICAgICAgICAgICAgY29tbWl0KCdmb3JnZXRUeXBlJywgdHlwZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGRpc3BhdGNoKCdsb2FkRGF0YVBhZ2UnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgb3B0OiBwYWdlRmV0Y2hPcHRzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RyZWFtU3RhcnRlZCA9IGZhbHNlOwogICAgICAgICAgICBxdWV1ZSA9IFtdOwogICAgICAgICAgICBvcHQub25EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICBpZiAoc3RyZWFtU3RhcnRlZCkgewogICAgICAgICAgICAgICAgLy8gQmF0Y2ggbG9hZHMgaW50byBncm91cHMgb2YgMTAgdG8gcmVkdWNlIHZ1ZXggb3ZlcmhlYWQKICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZGF0YSk7CiAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMTApIHsKICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHF1ZXVlOwogICAgICAgICAgICAgICAgICBxdWV1ZSA9IFtdOwogICAgICAgICAgICAgICAgICBjb21taXQoJ2xvYWRNdWx0aScsIHsKICAgICAgICAgICAgICAgICAgICBjdHg6IGN0eCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB0bXAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBsaW5lIGlzIHRoZSBjb2xsZWN0aW9uIG9iamVjdCAoc2FucyBgZGF0YWApCiAgICAgICAgICAgICAgICBjb21taXQoJ2ZvcmdldEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzdHJlYW1TdGFydGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHN0cmVhbUNvbGxlY3Rpb24gPSBkYXRhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMjsKICAgICAgICAgICAgaWYgKCFvcHQuaW5jcmVtZW50YWwgJiYgb3B0Lmhhc01hbnVhbFJlZnJlc2gpIHsKICAgICAgICAgICAgICBkaXNwYXRjaCgncmVzb3VyY2UtZmV0Y2gvdXBkYXRlTWFudWFsUmVmcmVzaElzTG9hZGluZycsIHRydWUsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgb3B0OiBvcHQsCiAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBpZiAoc3RyZWFtU3RhcnRlZCkgewogICAgICAgICAgICAgIC8vIEZsdXNoIGFueSByZW1haW5pbmcgZW50cmllcyBsZWZ0IG92ZXIgdGhhdCBkaWRuJ3QgZ2V0IGxvYWRlZCBieSBvbkRhdGEKICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ2xvYWRNdWx0aScsIHsKICAgICAgICAgICAgICAgICAgY3R4OiBjdHgsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHF1ZXVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHF1ZXVlID0gW107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbW1pdCgnbG9hZGVkQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9hbGwgPSBnZXR0ZXJzLmFsbCh0eXBlKTsKICAgICAgICAgICAgICByZXMuZmluaXNoRGVmZXJyZWQoX2FsbCk7CiAgICAgICAgICAgICAgb3V0ID0gc3RyZWFtQ29sbGVjdGlvbjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBvdXQgPSByZXM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDMwOwogICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMjIpOwogICAgICAgICAgICBpZiAoIW9wdC5pbmNyZW1lbnRhbCAmJiBvcHQuaGFzTWFudWFsUmVmcmVzaCkgewogICAgICAgICAgICAgIGRpc3BhdGNoKCdyZXNvdXJjZS1mZXRjaC91cGRhdGVNYW51YWxSZWZyZXNoSXNMb2FkaW5nJywgZmFsc2UsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyLnQwKSk7CiAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICBpZiAoIShsb2FkID09PSBfTk9ORSkpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghb3B0LmluY3JlbWVudGFsICYmIG9wdC5oYXNNYW51YWxSZWZyZXNoKSB7CiAgICAgICAgICAgICAgZGlzcGF0Y2goJ3Jlc291cmNlLWZldGNoL3VwZGF0ZU1hbnVhbFJlZnJlc2hJc0xvYWRpbmcnLCBmYWxzZSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBvdXQpOwogICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgaWYgKG91dC5kYXRhKSB7CiAgICAgICAgICAgICAgaWYgKGxvYWQgPT09IF9NVUxUSSkgewogICAgICAgICAgICAgICAgLy8gVGhpcyBoYXMgdGhlIGVmZmVjdCBvZiBhZGRpbmcgdGhlIHJlc3BvbnNlIHRvIHRoZSBzdG9yZSwKICAgICAgICAgICAgICAgIC8vIHdpdGhvdXQgcmVwbGFjaW5nIGFsbCB0aGUgZXhpc3RpbmcgY29udGVudCBmb3IgdGhhdCB0eXBlLAogICAgICAgICAgICAgICAgLy8gYW5kIHdpdGhvdXQgbWFya2luZyB0aGF0IHR5cGUgYXMgaGF2aW5nICdhbGwgJ2xvYWRlZC4KICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHVzZWQgZS5nLiB0byBsb2FkIGEgcGFydGlhbCBsaXN0IG9mIHNldHRpbmdzIGJlZm9yZSBsb2dpbgogICAgICAgICAgICAgICAgLy8gd2hpbGUgc3RpbGwga25vd2luZyB3ZSBuZWVkIHRvIGxvYWQgdGhlIGZ1bGwgbGlzdCBsYXRlci4KICAgICAgICAgICAgICAgIGNvbW1pdCgnbG9hZE11bHRpJywgewogICAgICAgICAgICAgICAgICBjdHg6IGN0eCwKICAgICAgICAgICAgICAgICAgZGF0YTogb3V0LmRhdGEKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9hZCA9PT0gX01FUkdFKSB7CiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2UgbG9hZE11bHRpICh1cGRhdGVzIGV4aXN0aW5nIGVudHJpZXMpIGJ1dCBhbHNvIHJlbW92ZXMgZW50cmllcyB0aGF0IG5vIGxvbmdlciBleGlzdAogICAgICAgICAgICAgICAgLy8gVGhpcyBhbGxvd3MgY2hhbmdlcyB0byBleGlzdGluZyByZXNvdXJjZXMgdG8gYmUgcmVmbGVjdGVkIGluIHBsYWNlIGluIHRoZSBVSQogICAgICAgICAgICAgICAgLy8gKG5vcm1hbGx5IG5vdCBuZWVkZWQgYXMgUmFuY2hlciB1cGRhdGVzIGNvbWUgb3ZlciBzb2NrZXQgYW5kIGFyZSBoYW5kbGVkIGluZGl2aWR1YWxseSkKICAgICAgICAgICAgICAgIGNvbW1pdCgnbG9hZE1lcmdlJywgewogICAgICAgICAgICAgICAgICBjdHg6IGN0eCwKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgZGF0YTogb3V0LmRhdGEsCiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KCdsb2FkQWxsJywgewogICAgICAgICAgICAgICAgICBjdHg6IGN0eCwKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgZGF0YTogb3V0LmRhdGEsCiAgICAgICAgICAgICAgICAgIHJldmlzaW9uOiBvdXQucmV2aXNpb24sCiAgICAgICAgICAgICAgICAgIHNraXBIYXZlQWxsOiBza2lwSGF2ZUFsbCwKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcHQubmFtZXNwYWNlZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICAvLyBUb0RvOiBTTSBpZiB3ZSBzdGFydCBhICJiaWdnZXIiIHdhdGNoIChzdWNoIGFzIHdhdGNoIHdpdGhvdXQgYSBuYW1lc3BhY2UgdnMgYSB3YXRjaCB3aXRoIGEgbmFtZXNwYWNlKSwgd2Ugc2hvdWxkIHN0b3AgdGhlIHN0b3AgdGhlICJzbWFsbGVyIiB3YXRjaCBzbyB3ZSBkb24ndCBoYXZlIGR1cGxpY2F0ZSBldmVudHMgY29taW5nIGJhY2sKICAgICAgICAgICAgaWYgKG9wdC53YXRjaCAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICBfYXJnczIgPSB7CiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgcmV2aXNpb246IG91dC5yZXZpc2lvbiwKICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogb3B0LndhdGNoTmFtZXNwYWNlIHx8IG9wdC5uYW1lc3BhY2VkLAogICAgICAgICAgICAgICAgLy8gaXQgY291bGQgYmUgZWl0aGVyIGFwcGFyZW50bHkKICAgICAgICAgICAgICAgIC8vIFRvRG86IFNNIG5hbWVzcGFjZWQgaXMgc29tZXRpbWVzIGEgYm9vbGVhbiBhbmQgc29tZXRpbWVzIGEgc3RyaW5nLCBJIGRvbid0IHNlZSBpdCBhcyBlc3BlY2lhbGx5IGJyb2tlbiBidXQgd2Ugc2hvdWxkIHJlZmFjdG9yIHRoYXQgaW4gdGhlIGZ1dHVyZQogICAgICAgICAgICAgICAgZm9yY2U6IG9wdC5mb3JjZVdhdGNoID09PSB0cnVlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBkaXNwYXRjaCgnd2F0Y2gnLCBfYXJnczIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFsbCA9IGZpbmRBbGxHZXR0ZXIoZ2V0dGVycywgdHlwZSwgb3B0KTsKICAgICAgICAgICAgaWYgKCFvcHQuaW5jcmVtZW50YWwgJiYgb3B0Lmhhc01hbnVhbFJlZnJlc2gpIHsKICAgICAgICAgICAgICBkaXNwYXRjaCgncmVzb3VyY2UtZmV0Y2gvdXBkYXRlTWFudWFsUmVmcmVzaElzTG9hZGluZycsIGZhbHNlLCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2dhcmJhZ2VDb2xsZWN0LmdjVXBkYXRlTGFzdEFjY2Vzc2VkKGN0eCwgdHlwZSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBhbGwpOwogICAgICAgICAgY2FzZSA0NToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMjIsIDMwXV0pOwogICAgfSkpKCk7CiAgfSwKICBmaW5kTWF0Y2hpbmc6IGZ1bmN0aW9uIGZpbmRNYXRjaGluZyhjdHgsIF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciB0eXBlLCBzZWxlY3Rvciwgb3B0LCBuYW1lc3BhY2UsIGdldHRlcnMsIGNvbW1pdCwgZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzLCB0eXBlT3B0aW9ucywgcmVzOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHR5cGUgPSBfcmVmMy50eXBlLCBzZWxlY3RvciA9IF9yZWYzLnNlbGVjdG9yLCBvcHQgPSBfcmVmMy5vcHQsIG5hbWVzcGFjZSA9IF9yZWYzLm5hbWVzcGFjZTsKICAgICAgICAgICAgZ2V0dGVycyA9IGN0eC5nZXR0ZXJzLCBjb21taXQgPSBjdHguY29tbWl0LCBkaXNwYXRjaCA9IGN0eC5kaXNwYXRjaCwgcm9vdEdldHRlcnMgPSBjdHgucm9vdEdldHRlcnM7CiAgICAgICAgICAgIG9wdCA9IG9wdCB8fCB7fTsKICAgICAgICAgICAgY29uc29sZS5sb2coIkZpbmQgTWF0Y2hpbmc6IFsiLmNvbmNhdChjdHguc3RhdGUuY29uZmlnLm5hbWVzcGFjZSwgIl0gIikuY29uY2F0KHR5cGUpLCBzZWxlY3Rvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgICAgICAgICBpZiAoIWdldHRlcnMudHlwZVJlZ2lzdGVyZWQodHlwZSkpIHsKICAgICAgICAgICAgICBjb21taXQoJ3JlZ2lzdGVyVHlwZScsIHR5cGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghKG9wdC5mb3JjZSAhPT0gdHJ1ZSAmJiBnZXR0ZXJzWydoYXZlU2VsZWN0b3InXSh0eXBlLCBzZWxlY3RvcikpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBnZXR0ZXJzLm1hdGNoaW5nKHR5cGUsIHNlbGVjdG9yLCBuYW1lc3BhY2UpKTsKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgdHlwZU9wdGlvbnMgPSByb290R2V0dGVyc1sndHlwZS1tYXAvb3B0aW9uc0ZvciddKHR5cGUpOwogICAgICAgICAgICBvcHQgPSBvcHQgfHwge307CiAgICAgICAgICAgIG9wdC5sYWJlbFNlbGVjdG9yID0gc2VsZWN0b3I7CiAgICAgICAgICAgIG9wdC51cmwgPSBnZXR0ZXJzLnVybEZvcih0eXBlLCBudWxsLCBvcHQpOwogICAgICAgICAgICBvcHQuZGVwYWdpbmF0ZSA9IHR5cGVPcHRpb25zID09PSBudWxsIHx8IHR5cGVPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0eXBlT3B0aW9ucy5kZXBhZ2luYXRlOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgb3B0OiBvcHQsCiAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBpZiAoIShvcHQubG9hZCA9PT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzLmRhdGEpOwogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY29tbWl0KCdsb2FkU2VsZWN0b3InLCB7CiAgICAgICAgICAgICAgY3R4OiBjdHgsCiAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICBlbnRyaWVzOiByZXMuZGF0YSwKICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsCiAgICAgICAgICAgICAgcmV2aXNpb246IHJlcy5yZXZpc2lvbgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG9wdC53YXRjaCAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICBkaXNwYXRjaCgnd2F0Y2gnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLAogICAgICAgICAgICAgICAgcmV2aXNpb246IHJlcy5yZXZpc2lvbiwKICAgICAgICAgICAgICAgIGZvcmNlOiBvcHQuZm9yY2VXYXRjaCA9PT0gdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9nYXJiYWdlQ29sbGVjdC5nY1VwZGF0ZUxhc3RBY2Nlc3NlZChjdHgsIHR5cGUpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZ2V0dGVycy5tYXRjaGluZyh0eXBlLCBzZWxlY3RvciwgbmFtZXNwYWNlKSk7CiAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIC8vIG9wdDoKICAvLyAgZmlsdGVyOiBGaWx0ZXIgYnkgZmllbGRzLCBlLmcuIHtmaWVsZDogdmFsdWUsIGFub3RoZXJGaWVsZDogYW5vdGhlclZhbHVlfSAoZGVmYXVsdDogbm9uZSkKICAvLyAgbGltaXQ6IE51bWJlciBvZiByZWNvcmRzIHRvIHJldHVybiBwZXIgcGFnZSAoZGVmYXVsdDogMTAwMCkKICAvLyAgc29ydEJ5OiBTb3J0IGJ5IGZpZWxkCiAgLy8gIHNvcnRPcmRlcjogYXNjIG9yIGRlc2MKICAvLyAgdXJsOiBVc2UgdGhpcyBzcGVjaWZpYyBVUkwgaW5zdGVhZCBvZiBsb29raW5nIHVwIHRoZSBVUkwgZm9yIHRoZSB0eXBlL2lkLiAgVGhpcyBzaG91bGQgb25seSBiZSB1c2VkIGZvciBib290c3RyYXBwaW5nIHNjaGVtYXMgb24gc3RhcnR1cC4KICAvLyAgQFRPRE8gZGVwYWdpbmF0ZTogSWYgdGhlIHJlc3BvbnNlIGlzIHBhZ2luYXRlZCwgcmV0cmlldmUgYWxsIHRoZSBwYWdlcy4gKGRlZmF1bHQ6IHRydWUpCiAgZmluZDogZnVuY3Rpb24gZmluZChjdHgsIF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciB0eXBlLCBpZCwgb3B0LCBnZXR0ZXJzLCBkaXNwYXRjaCwgb3V0LCByZXMsIF9yZXMkbWV0YWRhdGEsIHdhdGNoTXNnLCBpZHg7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdHlwZSA9IF9yZWY0LnR5cGUsIGlkID0gX3JlZjQuaWQsIG9wdCA9IF9yZWY0Lm9wdDsKICAgICAgICAgICAgaWYgKGlkKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHRpbmcgdG8gZmluZCBhIHJlc291cmNlIHdpdGggbm8gaWQnLCB0eXBlLCBpZCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGdldHRlcnMgPSBjdHguZ2V0dGVycywgZGlzcGF0Y2ggPSBjdHguZGlzcGF0Y2g7CiAgICAgICAgICAgIG9wdCA9IG9wdCB8fCB7fTsKICAgICAgICAgICAgdHlwZSA9IG5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJGaW5kOiBbIi5jb25jYXQoY3R4LnN0YXRlLmNvbmZpZy5uYW1lc3BhY2UsICJdICIpLmNvbmNhdCh0eXBlLCAiICIpLmNvbmNhdChpZCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgaWYgKCEob3B0LmZvcmNlICE9PSB0cnVlKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3V0ID0gZ2V0dGVycy5ieUlkKHR5cGUsIGlkKTsKICAgICAgICAgICAgaWYgKCFvdXQpIHsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBvdXQpOwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgb3B0ID0gb3B0IHx8IHt9OwogICAgICAgICAgICBvcHQudXJsID0gZ2V0dGVycy51cmxGb3IodHlwZSwgaWQsIG9wdCk7CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncmVxdWVzdCcsIHsKICAgICAgICAgICAgICBvcHQ6IG9wdCwKICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTk7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnbG9hZCcsIHsKICAgICAgICAgICAgICBkYXRhOiByZXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBpZiAob3B0LndhdGNoICE9PSBmYWxzZSkgewogICAgICAgICAgICAgIHdhdGNoTXNnID0gewogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgIHJldmlzaW9uOiByZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgfHwgKF9yZXMkbWV0YWRhdGEgPSByZXMubWV0YWRhdGEpID09PSBudWxsIHx8IF9yZXMkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXMkbWV0YWRhdGEucmVzb3VyY2VWZXJzaW9uLAogICAgICAgICAgICAgICAgZm9yY2U6IG9wdC5mb3JjZVdhdGNoID09PSB0cnVlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBpZHggPSBpZC5pbmRleE9mKCcvJyk7CiAgICAgICAgICAgICAgaWYgKGlkeCA+IDApIHsKICAgICAgICAgICAgICAgIHdhdGNoTXNnLm5hbWVzcGFjZSA9IGlkLnN1YnN0cigwLCBpZHgpOwogICAgICAgICAgICAgICAgd2F0Y2hNc2cuaWQgPSBpZC5zdWJzdHIoaWR4ICsgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGRpc3BhdGNoKCd3YXRjaCcsIHdhdGNoTXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvdXQgPSBnZXR0ZXJzLmJ5SWQodHlwZSwgaWQpOwogICAgICAgICAgICBfZ2FyYmFnZUNvbGxlY3QuZ2NVcGRhdGVMYXN0QWNjZXNzZWQoY3R4LCB0eXBlKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG91dCk7CiAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoY3R4LCBfcmVmNSkgewogICAgdmFyIGRhdGEgPSBfcmVmNS5kYXRhLAogICAgICBleGlzdGluZyA9IF9yZWY1LmV4aXN0aW5nOwogICAgdmFyIGdldHRlcnMgPSBjdHguZ2V0dGVycywKICAgICAgY29tbWl0ID0gY3R4LmNvbW1pdDsKICAgIHZhciB0eXBlID0gbm9ybWFsaXplVHlwZShkYXRhLnR5cGUpOwogICAgaWYgKCFnZXR0ZXJzLnR5cGVSZWdpc3RlcmVkKHR5cGUpKSB7CiAgICAgIGNvbW1pdCgncmVnaXN0ZXJUeXBlJywgdHlwZSk7CiAgICB9CiAgICBpZiAoZGF0YS5iYXNlVHlwZSAmJiBkYXRhLmJhc2VUeXBlICE9PSBkYXRhLnR5cGUpIHsKICAgICAgdHlwZSA9IG5vcm1hbGl6ZVR5cGUoZGF0YS5iYXNlVHlwZSk7CiAgICAgIGlmICghZ2V0dGVycy50eXBlUmVnaXN0ZXJlZCh0eXBlKSkgewogICAgICAgIGNvbW1pdCgncmVnaXN0ZXJUeXBlJywgdHlwZSk7CiAgICAgIH0KICAgIH0KICAgIC8vIEluamVjdCBzcGVjaWFsIGZpZWxkcyBmb3IgaW5kZXhpbmcgc2NoZW1hcwogICAgaWYgKHR5cGUgPT09IFNDSEVNQSkgewogICAgICBhZGRTY2hlbWFJbmRleEZpZWxkcyhkYXRhKTsKICAgIH0KICAgIHZhciBrZXlGaWVsZCA9IGdldHRlcnMua2V5RmllbGRGb3JUeXBlKHR5cGUpOwogICAgdmFyIGlkID0gKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YVtrZXlGaWVsZF0pIHx8IChleGlzdGluZyA9PT0gbnVsbCB8fCBleGlzdGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXhpc3Rpbmdba2V5RmllbGRdKTsKICAgIGlmICghaWQpIHsKICAgICAgY29uc29sZS53YXJuKCdBdHRlbXB0aW5nIHRvIGxvYWQgYSByZXNvdXJjZSB3aXRoIG5vIGlkJywgZGF0YSwgZXhpc3RpbmcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbW1pdCgnbG9hZCcsIHsKICAgICAgY3R4OiBjdHgsCiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIGV4aXN0aW5nOiBleGlzdGluZwogICAgfSk7CiAgICBpZiAodHlwZSA9PT0gU0NIRU1BKSB7CiAgICAgIGNvbW1pdCgndHlwZS1tYXAvc2NoZW1hQ2hhbmdlZCcsIG51bGwsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIGdldHRlcnNbJ2J5SWQnXSh0eXBlLCBpZCk7CiAgfSwKICBsb2FkTXVsdGk6IGZ1bmN0aW9uIGxvYWRNdWx0aShjdHgsIGRhdGEpIHsKICAgIHZhciBjb21taXQgPSBjdHguY29tbWl0OwogICAgY29tbWl0KCdsb2FkTXVsdGknLCB7CiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIGN0eDogY3R4CiAgICB9KTsKICB9LAogIGJhdGNoQ2hhbmdlczogZnVuY3Rpb24gYmF0Y2hDaGFuZ2VzKGN0eCwgYmF0Y2gpIHsKICAgIHZhciBjb21taXQgPSBjdHguY29tbWl0OwogICAgY29tbWl0KCdiYXRjaENoYW5nZXMnLCB7CiAgICAgIGN0eDogY3R4LAogICAgICBiYXRjaDogYmF0Y2gKICAgIH0pOwogIH0sCiAgbG9hZEFsbDogZnVuY3Rpb24gbG9hZEFsbChjdHgsIF9yZWY2KSB7CiAgICB2YXIgdHlwZSA9IF9yZWY2LnR5cGUsCiAgICAgIGRhdGEgPSBfcmVmNi5kYXRhOwogICAgdmFyIGNvbW1pdCA9IGN0eC5jb21taXQ7CiAgICBjb21taXQoJ2xvYWRBbGwnLCB7CiAgICAgIGN0eDogY3R4LAogICAgICB0eXBlOiB0eXBlLAogICAgICBkYXRhOiBkYXRhCiAgICB9KTsKICB9LAogIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKGN0eCwgZGF0YSkgewogICAgcmV0dXJuIGNsYXNzaWZ5KGN0eCwgZGF0YSk7CiAgfSwKICBjcmVhdGVNYW55OiBmdW5jdGlvbiBjcmVhdGVNYW55KGN0eCwgZGF0YSkgewogICAgcmV0dXJuIGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBjbGFzc2lmeShjdHgsIGQpOwogICAgfSk7CiAgfSwKICBjcmVhdGVQb3B1bGF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZVBvcHVsYXRlZChjdHgsIHVzZXJEYXRhKSB7CiAgICB2YXIgZGF0YSA9IGN0eC5nZXR0ZXJzWydkZWZhdWx0Rm9yJ10odXNlckRhdGEudHlwZSk7CiAgICBtZXJnZShkYXRhLCB1c2VyRGF0YSk7CiAgICByZXR1cm4gY2xhc3NpZnkoY3R4LCBkYXRhKTsKICB9LAogIGNsb25lOiBmdW5jdGlvbiBjbG9uZShjdHgpIHsKICAgIHZhciBfcmVmNyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sCiAgICAgIHJlc291cmNlID0gX3JlZjcucmVzb3VyY2U7CiAgICByZXR1cm4gY2xhc3NpZnkoY3R4LCByZXNvdXJjZS50b0pTT04oKSwgdHJ1ZSk7CiAgfSwKICAvLyBGb3JnZXQgYSB0eXBlIGluIHRoZSBzdG9yZQogIC8vIFJlbW92ZSBhbGwgZW50cmllcyBmb3IgdGhhdCB0eXBlIGFuZCBzdG9wIHdhdGNoaW5nIGl0CiAgZm9yZ2V0VHlwZTogZnVuY3Rpb24gZm9yZ2V0VHlwZShfcmVmOCwgdHlwZSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaCwKICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZTsKICAgIHN0YXRlLnN0YXJ0ZWQuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICByZXR1cm4gZW50cnkudHlwZSA9PT0gdHlwZTsKICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgIHJldHVybiBkaXNwYXRjaCgndW53YXRjaCcsIGVudHJ5KTsKICAgIH0pOwogICAgY29tbWl0KCdmb3JnZXRUeXBlJywgdHlwZSk7CiAgfSwKICBwcm9tcHRSZW1vdmU6IGZ1bmN0aW9uIHByb21wdFJlbW92ZShfcmVmOSwgcmVzb3VyY2VzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjkuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWY5LnN0YXRlOwogICAgY29tbWl0KCdhY3Rpb24tbWVudS90b2dnbGVQcm9tcHRSZW1vdmUnLCByZXNvdXJjZXMsIHsKICAgICAgcm9vdDogdHJ1ZQogICAgfSk7CiAgfSwKICBwcm9tcHRNb2RhbDogZnVuY3Rpb24gcHJvbXB0TW9kYWwoX3JlZjEwLCBkYXRhKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwKICAgICAgc3RhdGUgPSBfcmVmMTAuc3RhdGU7CiAgICBjb21taXQoJ2FjdGlvbi1tZW51L3RvZ2dsZVByb21wdE1vZGFsJywgZGF0YSwgewogICAgICByb290OiB0cnVlCiAgICB9KTsKICB9LAogIHJlc291cmNlQWN0aW9uOiBmdW5jdGlvbiByZXNvdXJjZUFjdGlvbihfcmVmMTEsIF9yZWYxMikgewogICAgdmFyIGdldHRlcnMgPSBfcmVmMTEuZ2V0dGVycywKICAgICAgZGlzcGF0Y2ggPSBfcmVmMTEuZGlzcGF0Y2g7CiAgICB2YXIgcmVzb3VyY2UgPSBfcmVmMTIucmVzb3VyY2UsCiAgICAgIGFjdGlvbk5hbWUgPSBfcmVmMTIuYWN0aW9uTmFtZSwKICAgICAgYm9keSA9IF9yZWYxMi5ib2R5LAogICAgICBvcHQgPSBfcmVmMTIub3B0OwogICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgSW1wbGVtZW50ZWQnKTsKICB9LAogIGNvbGxlY3Rpb25BY3Rpb246IGZ1bmN0aW9uIGNvbGxlY3Rpb25BY3Rpb24oX3JlZjEzLCBfcmVmMTQpIHsKICAgIHZhciBnZXR0ZXJzID0gX3JlZjEzLmdldHRlcnMsCiAgICAgIGRpc3BhdGNoID0gX3JlZjEzLmRpc3BhdGNoOwogICAgdmFyIHR5cGUgPSBfcmVmMTQudHlwZSwKICAgICAgYWN0aW9uTmFtZSA9IF9yZWYxNC5hY3Rpb25OYW1lLAogICAgICBib2R5ID0gX3JlZjE0LmJvZHksCiAgICAgIG9wdCA9IF9yZWYxNC5vcHQ7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBJbXBsZW1lbnRlZCcpOwogIH0sCiAgY2xlYW5Gb3JOZXc6IGZ1bmN0aW9uIGNsZWFuRm9yTmV3KGN0eCwgcmVzb3VyY2UpIHsKICAgIHRocm93IG5ldyBFcnJvcignTm90IEltcGxlbWVudGVkJyk7CiAgfSwKICBjcmVhdGVOYW1lc3BhY2U6IGZ1bmN0aW9uIGNyZWF0ZU5hbWVzcGFjZShjdHgsIHJlc291cmNlKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBJbXBsZW1lbnRlZCcpOwogIH0sCiAgY2xlYW5Gb3JEaWZmOiBmdW5jdGlvbiBjbGVhbkZvckRpZmYoY3R4LCByZXNvdXJjZSkgewogICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgSW1wbGVtZW50ZWQnKTsKICB9LAogIC8vIENsZWFuIGEgcmVzb3VyY2UgZm9yIHRoZSBSZXNvdXJjZURldGFpbCBwYWdlCiAgLy8gVGhpcyBjYW4gZW5zdXJlIGNvbW1vbiwgcmVxdWlyZWQgcHJvcGVydGllcyBleGlzdHMgdGhhdCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZAogIGNsZWFuRm9yRGV0YWlsOiBmdW5jdGlvbiBjbGVhbkZvckRldGFpbChjdHgsIHJlc291cmNlKSB7CiAgICByZXR1cm4gcmVzb3VyY2U7CiAgfSwKICBjbGVhbkZvckRvd25sb2FkOiBmdW5jdGlvbiBjbGVhbkZvckRvd25sb2FkKGN0eCwgcmVzb3VyY2UpIHsKICAgIHJldHVybiByZXNvdXJjZTsKICB9LAogIC8vIFdhaXQgZm9yIGEgc2NoZW1hIHRoYXQgaXMgZXhwZWN0ZWQgdG8gZXhpc3QgdGhhdCBtYXkgbm90IGhhdmUgYmVlbiBsb2FkZWQgeWV0IChmb3IgaW5zdGFuY2Ugd2hlbiBsb2FkQ2x1c3RlciBpcyBzdGlsbCBydW5uaW5nKS4KICB3YWl0Rm9yU2NoZW1hOiBmdW5jdGlvbiB3YWl0Rm9yU2NoZW1hKF9yZWYxNSwgX3JlZjE2KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHZhciBnZXR0ZXJzLCBkaXNwYXRjaCwgdHlwZSwgdHJpZXMsIHNjaGVtYTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBnZXR0ZXJzID0gX3JlZjE1LmdldHRlcnMsIGRpc3BhdGNoID0gX3JlZjE1LmRpc3BhdGNoOwogICAgICAgICAgICB0eXBlID0gX3JlZjE2LnR5cGU7CiAgICAgICAgICAgIHRyaWVzID0gU0NIRU1BX0NIRUNLX1JFVFJJRVM7CiAgICAgICAgICAgIHNjaGVtYSA9IG51bGw7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGlmICghKCFzY2hlbWEgJiYgdHJpZXMgPiAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2NoZW1hID0gZ2V0dGVyc1snc2NoZW1hRm9yJ10odHlwZSk7CiAgICAgICAgICAgIGlmIChzY2hlbWEpIHsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0cmllcyA9PT0gUkVUUllfTE9HKSB7CiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJTY2hlbWEgZm9yICIuY29uY2F0KHR5cGUsICIgbm90IGF2YWlsYWJsZS4uLiByZXRyeWluZy4uLiIpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgdHJpZXMtLTsKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBpZiAoISh0cmllcyA9PT0gMCkpIHsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFJhbiBvdXQgb2YgdHJpZXMgLSBmZXRjaCB0aGUgc2NoZW1hcyBhZ2FpbgogICAgICAgICAgICBjb25zb2xlLndhcm4oIlNjaGVtYSBmb3IgIi5jb25jYXQodHlwZSwgIiBzdGlsbCB1bmF2YWlsYWJsZS4uLiBsb2FkaW5nIHNjaGVtYXMgYWdhaW4uLi4iKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2xvYWRTY2hlbWFzJywgdHJ1ZSk7CiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9LAogIHdhaXRGb3JIYXZlQWxsOiBmdW5jdGlvbiB3YWl0Rm9ySGF2ZUFsbChfcmVmMTcsIF9yZWYxOCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICB2YXIgZ2V0dGVycywgdHlwZSwgX3JlZjE4JHRocm93RXJyb3IsIHRocm93RXJyb3IsIF9yZWYxOCRhdHRlbXB0cywgYXR0ZW1wdHMsIHRyaWVzLCBoYXZlQWxsOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGdldHRlcnMgPSBfcmVmMTcuZ2V0dGVyczsKICAgICAgICAgICAgdHlwZSA9IF9yZWYxOC50eXBlLCBfcmVmMTgkdGhyb3dFcnJvciA9IF9yZWYxOC50aHJvd0Vycm9yLCB0aHJvd0Vycm9yID0gX3JlZjE4JHRocm93RXJyb3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE4JHRocm93RXJyb3IsIF9yZWYxOCRhdHRlbXB0cyA9IF9yZWYxOC5hdHRlbXB0cywgYXR0ZW1wdHMgPSBfcmVmMTgkYXR0ZW1wdHMgPT09IHZvaWQgMCA/IEhBVkVfQUxMX0NIRUNLX1JFVFJJRVMgOiBfcmVmMTgkYXR0ZW1wdHM7CiAgICAgICAgICAgIHRyaWVzID0gYXR0ZW1wdHM7CiAgICAgICAgICAgIGhhdmVBbGwgPSBudWxsOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpZiAoISghaGF2ZUFsbCAmJiB0cmllcyA+IDApKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBoYXZlQWxsID0gZ2V0dGVyc1snaGF2ZUFsbCddKHR5cGUpOwogICAgICAgICAgICBpZiAoaGF2ZUFsbCkgewogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRyaWVzID09PSBSRVRSWV9MT0cpIHsKICAgICAgICAgICAgICBjb25zb2xlLndhcm4oIndhaXQgZm9yIGFsbCBvZiAiLmNvbmNhdCh0eXBlLCAiIGNvbnRpbnVpbmcuLi4iKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHRyaWVzLS07CiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaWYgKCEodHJpZXMgPT09IDAgJiYgdGhyb3dFcnJvcikpIHsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHdhaXQgZm9yIGFsbCBvZiAiLmNvbmNhdCh0eXBlKSk7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSkoKTsKICB9LAogIGluY3JlbWVudExvYWRDb3VudGVyOiBmdW5jdGlvbiBpbmNyZW1lbnRMb2FkQ291bnRlcihfcmVmMTksIHJlc291cmNlKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjE5LmNvbW1pdDsKICAgIGNvbW1pdCgnaW5jcmVtZW50TG9hZENvdW50ZXInLCByZXNvdXJjZSk7CiAgfSwKICBnYXJiYWdlQ29sbGVjdDogZnVuY3Rpb24gZ2FyYmFnZUNvbGxlY3QoY3R4LCBpZ25vcmVUeXBlcykgewogICAgcmV0dXJuIF9nYXJiYWdlQ29sbGVjdC5nYXJiYWdlQ29sbGVjdChjdHgsIGlnbm9yZVR5cGVzKTsKICB9LAogIGdjUmVzZXRTdG9yZTogZnVuY3Rpb24gZ2NSZXNldFN0b3JlKF9yZWYyMCkgewogICAgdmFyIHN0YXRlID0gX3JlZjIwLnN0YXRlOwogICAgX2dhcmJhZ2VDb2xsZWN0LmdjUmVzZXRTdG9yZShzdGF0ZSk7CiAgfQp9Ow=="},{"version":3,"names":["merge","SCHEMA","SPOOFED_API_PREFIX","SPOOFED_PREFIX","createYaml","classify","normalizeType","garbageCollect","addSchemaIndexFields","addParam","_ALL","_MERGE","_MULTI","_ALL_IF_AUTHED","_NONE","SCHEMA_CHECK_RETRIES","HAVE_ALL_CHECK_RETRIES","RETRY_LOG","handleSpoofedRequest","_x","_x2","_x3","_x4","_handleSpoofedRequest","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee7","rootGetters","schemaStore","opt","product","_opt$url$split","_opt$url$split2","empty","scheme","type","rest","id","isApi","typemapGetter","schemas","instance","data","wrap","_callee7$","_context7","prev","next","url","includes","split","_toArray","slice","join","concat","sent","abrupt","stop","loadSchemas","_x5","_loadSchemas","_callee8","ctx","watch","getters","dispatch","commit","res","spoofedTypes","all","_args9","_callee8$","_context8","length","undefined","load","Array","isArray","forEach","revision","findAllGetter","namespaced","matching","skipSelector","request","Error","loadDataPage","_ref","_callee","loadCount","_res$pagination","newLoadCount","_res$pagination2","_callee$","_context","typeRegistered","pagination","_objectSpread","hasManualRefresh","root","namespace","t0","Promise","reject","findAll","_ref2","_callee2","args","header","typeOptions","skipHaveAll","pageFetchOpts","streamStarted","out","queue","streamCollection","_all","_args2","_callee2$","_context2","force","watchNamespace","console","log","state","config","urlFor","stream","depaginate","incremental","onData","push","tmp","finishDeferred","existing","forceWatch","gcUpdateLastAccessed","findMatching","_ref3","_callee3","selector","_callee3$","_context3","labelSelector","entries","find","_ref4","_callee4","_res$metadata","watchMsg","idx","_callee4$","_context4","error","byId","metadata","resourceVersion","indexOf","substr","_ref5","baseType","keyField","keyFieldForType","warn","loadMulti","batchChanges","batch","loadAll","_ref6","create","createMany","map","d","createPopulated","userData","clone","_ref7","resource","toJSON","forgetType","_ref8","started","filter","entry","promptRemove","_ref9","resources","promptModal","_ref10","resourceAction","_ref11","_ref12","actionName","body","collectionAction","_ref13","_ref14","cleanForNew","createNamespace","cleanForDiff","cleanForDetail","cleanForDownload","waitForSchema","_ref15","_ref16","_callee5","tries","schema","_callee5$","_context5","resolve","setTimeout","waitForHaveAll","_ref17","_ref18","_callee6","_ref18$throwError","throwError","_ref18$attempts","attempts","haveAll","_callee6$","_context6","incrementLoadCounter","_ref19","ignoreTypes","gcResetStore","_ref20"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/actions.js"],"sourcesContent":["import merge from 'lodash/merge';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { SPOOFED_API_PREFIX, SPOOFED_PREFIX } from '@shell/store/type-map';\nimport { createYaml } from '@shell/utils/create-yaml';\nimport { classify } from '@shell/plugins/dashboard-store/classify';\nimport { normalizeType } from './normalize';\nimport garbageCollect from '@shell/utils/gc/gc';\nimport { addSchemaIndexFields } from '@shell/plugins/steve/schema.utils';\nimport { addParam } from '@shell/utils/url';\n\nexport const _ALL = 'all';\nexport const _MERGE = 'merge';\nexport const _MULTI = 'multi';\nexport const _ALL_IF_AUTHED = 'allIfAuthed';\nexport const _NONE = 'none';\n\nconst SCHEMA_CHECK_RETRIES = 15;\nconst HAVE_ALL_CHECK_RETRIES = 15;\nconst RETRY_LOG = 10;\n\nexport async function handleSpoofedRequest(rootGetters, schemaStore, opt, product) {\n  // Handle spoofed types instead of making an actual request\n  // Spoofing is handled here to ensure it's done for both yaml and form editing.\n  // It became apparent that this was the only place that both intersected\n  if (opt.url.includes(SPOOFED_PREFIX) || opt.url.includes(SPOOFED_API_PREFIX)) {\n    const [empty, scheme, type, ...rest] = opt.url.split('/'); // eslint-disable-line no-unused-vars\n    const id = rest.join('/'); // Cover case where id contains '/'\n    const isApi = scheme === SPOOFED_API_PREFIX;\n    const typemapGetter = id ? 'getSpoofedInstance' : 'getSpoofedInstances';\n\n    const schemas = rootGetters[`${ schemaStore }/all`](SCHEMA);\n    // getters return async getSpoofedInstance/getSpoofedInstances fn\n    const instance = await rootGetters[`type-map/${ typemapGetter }`](type, product, id);\n    const data = isApi ? createYaml(schemas, type, instance) : instance;\n\n    return id && !isApi ? data : { data };\n  }\n}\n\nexport async function loadSchemas(ctx, watch = true) {\n  const {\n    getters, dispatch, commit, rootGetters\n  } = ctx;\n  const res = await dispatch('findAll', { type: SCHEMA, opt: { url: 'schemas', load: false } });\n  const spoofedTypes = rootGetters['type-map/allSpoofedSchemas'] ;\n\n  if (Array.isArray(res.data)) {\n    res.data = res.data.concat(spoofedTypes);\n  } else if (Array.isArray(res)) {\n    res.data = res.concat(spoofedTypes);\n  }\n\n  res.data.forEach(addSchemaIndexFields);\n\n  commit('loadAll', {\n    ctx,\n    type:     SCHEMA,\n    data:     res.data,\n    revision: res.revision\n  });\n\n  if ( watch !== false ) {\n    dispatch('watch', {\n      type:     SCHEMA,\n      revision: res.revision\n    });\n  }\n\n  const all = getters.all(SCHEMA);\n\n  return all;\n}\n\nconst findAllGetter = (getters, type, opt) => {\n  return opt.namespaced ? getters.matching(type, null, opt.namespaced, { skipSelector: true }) : getters.all(type);\n};\n\nexport default {\n  request() {\n    throw new Error('Not Implemented');\n  },\n\n  loadSchemas,\n\n  // Load a page of data for a given type\n  // Used for incremental loading when enabled\n  async loadDataPage(ctx, { type, opt }) {\n    const { getters, commit, dispatch } = ctx;\n\n    type = getters.normalizeType(type);\n\n    // if there's no registered type, then register it so\n    // that we don't have issues on 'loadAdd' mutation\n    if ( !getters.typeRegistered(type) ) {\n      commit('registerType', type);\n    }\n\n    const loadCount = getters['loadCounter'](type);\n\n    try {\n      const res = await dispatch('request', { opt, type });\n\n      const newLoadCount = getters['loadCounter'](type);\n\n      // Load count changed, so we changed page or started a new load\n      // after this page load was started, so don't continue with incremental load\n      if (loadCount !== newLoadCount) {\n        return;\n      }\n\n      commit('loadAdd', {\n        ctx,\n        type,\n        data: res.data,\n      });\n\n      if (res.pagination?.next) {\n        dispatch('loadDataPage', {\n          type,\n          opt: {\n            ...opt,\n            url: res.pagination?.next\n          }\n        });\n      } else {\n      // We have everything!\n        if (opt.hasManualRefresh) {\n          dispatch('resource-fetch/updateManualRefreshIsLoading', false, { root: true });\n        }\n        if (opt.namespaced) {\n          commit('setHaveNamespace', { type, namespace: opt.namespaced });\n        } else {\n          commit('setHaveAll', { type });\n        }\n      }\n    } catch (e) {\n      if (opt.hasManualRefresh) {\n        dispatch('resource-fetch/updateManualRefreshIsLoading', false, { root: true });\n      }\n\n      return Promise.reject(e);\n    }\n  },\n\n  async findAll(ctx, { type, opt }) {\n    const {\n      getters, commit, dispatch, rootGetters\n    } = ctx;\n\n    opt = opt || {};\n    type = getters.normalizeType(type);\n\n    if ( !getters.typeRegistered(type) ) {\n      commit('registerType', type);\n    }\n\n    // No need to request the resources if we have them already\n    if ( opt.force !== true && (getters['haveAll'](type) || getters['haveAllNamespace'](type, opt.namespaced))) {\n      const args = {\n        type,\n        revision:  '',\n        // watchNamespace - used sometimes when we haven't fetched the results of a single namespace\n        // namespaced - used when we have fetched the result of a single namespace (see https://github.com/rancher/dashboard/pull/7329/files)\n        namespace: opt.watchNamespace || opt.namespaced\n      };\n\n      if (opt.watch !== false ) {\n        dispatch('watch', args);\n      }\n\n      return findAllGetter(getters, type, opt);\n    }\n\n    let load = (opt.load === undefined ? _ALL : opt.load);\n\n    if ( opt.load === false || opt.load === _NONE ) {\n      load = _NONE;\n    } else if ( opt.load === _ALL_IF_AUTHED ) {\n      const header = rootGetters['auth/fromHeader'];\n\n      if ( `${ header }` === 'true' || `${ header }` === 'none' ) {\n        load = _ALL;\n      } else {\n        load = _MULTI;\n      }\n    }\n\n    const typeOptions = rootGetters['type-map/optionsFor'](type);\n\n    console.log(`Find All: [${ ctx.state.config.namespace }] ${ type }`); // eslint-disable-line no-console\n    opt = opt || {};\n    opt.url = getters.urlFor(type, null, opt);\n    opt.stream = opt.stream !== false && load !== _NONE;\n    opt.depaginate = typeOptions?.depaginate;\n\n    let skipHaveAll = false;\n\n    // if it's incremental loading, we do two parallel requests\n    // on for a limit of 100, to quickly show data\n    // another one with 1st page of the subset of the resource we are fetching\n    // the default is 4 pages, but it can be changed on mixin/resource-fetch.js\n    if (opt.incremental) {\n      commit('incrementLoadCounter', type);\n\n      if (opt.hasManualRefresh) {\n        dispatch('resource-fetch/updateManualRefreshIsLoading', true, { root: true });\n      }\n\n      const pageFetchOpts = {\n        ...opt,\n        url: addParam(opt.url, 'limit', `${ opt.incremental }`),\n      };\n\n      // this is where we \"hijack\" the limit for the dispatch('request') some lines below\n      // and therefore have 2 initial requests in parallel\n      opt.url = addParam(opt.url, 'limit', '100');\n      skipHaveAll = true;\n\n      // since we are forcing a request, clear the haveAll\n      // needed for the resource-fetch mixin, otherwise the incremental indicator\n      // won't pop-up again when manual refreshing\n      if (opt.force) {\n        commit('forgetType', type);\n      }\n\n      dispatch('loadDataPage', { type, opt: pageFetchOpts });\n    }\n\n    let streamStarted = false;\n    let out;\n\n    let queue = [];\n    let streamCollection;\n\n    opt.onData = function(data) {\n      if ( streamStarted ) {\n        // Batch loads into groups of 10 to reduce vuex overhead\n        queue.push(data);\n\n        if ( queue.length > 10 ) {\n          const tmp = queue;\n\n          queue = [];\n          commit('loadMulti', { ctx, data: tmp });\n        }\n      } else {\n        // The first line is the collection object (sans `data`)\n        commit('forgetAll', { type });\n        streamStarted = true;\n        streamCollection = data;\n      }\n    };\n\n    try {\n      if (!opt.incremental && opt.hasManualRefresh) {\n        dispatch('resource-fetch/updateManualRefreshIsLoading', true, { root: true });\n      }\n\n      const res = await dispatch('request', { opt, type });\n\n      if ( streamStarted ) {\n        // Flush any remaining entries left over that didn't get loaded by onData\n        if ( queue.length ) {\n          commit('loadMulti', { ctx, data: queue });\n          queue = [];\n        }\n        commit('loadedAll', { type });\n        const all = getters.all(type);\n\n        res.finishDeferred(all);\n        out = streamCollection;\n      } else {\n        out = res;\n      }\n    } catch (e) {\n      if (!opt.incremental && opt.hasManualRefresh) {\n        dispatch('resource-fetch/updateManualRefreshIsLoading', false, { root: true });\n      }\n\n      return Promise.reject(e);\n    }\n\n    if ( load === _NONE ) {\n      if (!opt.incremental && opt.hasManualRefresh) {\n        dispatch('resource-fetch/updateManualRefreshIsLoading', false, { root: true });\n      }\n\n      return out;\n    } else if ( out.data ) {\n      if ( load === _MULTI ) {\n        // This has the effect of adding the response to the store,\n        // without replacing all the existing content for that type,\n        // and without marking that type as having 'all 'loaded.\n        //\n        // This is used e.g. to load a partial list of settings before login\n        // while still knowing we need to load the full list later.\n        commit('loadMulti', {\n          ctx,\n          data: out.data\n        });\n      } else if (load === _MERGE) {\n        // This is like loadMulti (updates existing entries) but also removes entries that no longer exist\n        // This allows changes to existing resources to be reflected in place in the UI\n        // (normally not needed as Rancher updates come over socket and are handled individually)\n        commit('loadMerge', {\n          ctx,\n          type,\n          data:     out.data,\n          existing: true\n        });\n      } else {\n        commit('loadAll', {\n          ctx,\n          type,\n          data:      out.data,\n          revision:  out.revision,\n          skipHaveAll,\n          namespace: opt.namespaced\n        });\n      }\n    }\n\n    // ToDo: SM if we start a \"bigger\" watch (such as watch without a namespace vs a watch with a namespace), we should stop the stop the \"smaller\" watch so we don't have duplicate events coming back\n    if ( opt.watch !== false ) {\n      const args = {\n        type,\n        revision:  out.revision,\n        namespace: opt.watchNamespace || opt.namespaced, // it could be either apparently\n        // ToDo: SM namespaced is sometimes a boolean and sometimes a string, I don't see it as especially broken but we should refactor that in the future\n        force:     opt.forceWatch === true,\n      };\n\n      dispatch('watch', args);\n    }\n\n    const all = findAllGetter(getters, type, opt);\n\n    if (!opt.incremental && opt.hasManualRefresh) {\n      dispatch('resource-fetch/updateManualRefreshIsLoading', false, { root: true });\n    }\n\n    garbageCollect.gcUpdateLastAccessed(ctx, type);\n\n    return all;\n  },\n\n  async findMatching(ctx, {\n    type,\n    selector,\n    opt,\n    namespace\n  }) {\n    const {\n      getters, commit, dispatch, rootGetters\n    } = ctx;\n\n    opt = opt || {};\n    console.log(`Find Matching: [${ ctx.state.config.namespace }] ${ type }`, selector); // eslint-disable-line no-console\n    type = getters.normalizeType(type);\n\n    if ( !getters.typeRegistered(type) ) {\n      commit('registerType', type);\n    }\n    if ( opt.force !== true && getters['haveSelector'](type, selector) ) {\n      return getters.matching( type, selector, namespace );\n    }\n\n    const typeOptions = rootGetters['type-map/optionsFor'](type);\n\n    opt = opt || {};\n    opt.labelSelector = selector;\n    opt.url = getters.urlFor(type, null, opt);\n    opt.depaginate = typeOptions?.depaginate;\n\n    const res = await dispatch('request', { opt, type });\n\n    if ( opt.load === false ) {\n      return res.data;\n    }\n\n    commit('loadSelector', {\n      ctx,\n      type,\n      entries:  res.data,\n      selector,\n      revision: res.revision,\n    });\n\n    if ( opt.watch !== false ) {\n      dispatch('watch', {\n        type,\n        selector,\n        revision: res.revision,\n        force:    opt.forceWatch === true,\n      });\n    }\n\n    garbageCollect.gcUpdateLastAccessed(ctx, type);\n\n    return getters.matching( type, selector, namespace );\n  },\n\n  // opt:\n  //  filter: Filter by fields, e.g. {field: value, anotherField: anotherValue} (default: none)\n  //  limit: Number of records to return per page (default: 1000)\n  //  sortBy: Sort by field\n  //  sortOrder: asc or desc\n  //  url: Use this specific URL instead of looking up the URL for the type/id.  This should only be used for bootstrapping schemas on startup.\n  //  @TODO depaginate: If the response is paginated, retrieve all the pages. (default: true)\n  async find(ctx, { type, id, opt }) {\n    if (!id) {\n      console.error('Attempting to find a resource with no id', type, id); // eslint-disable-line no-console\n\n      return;\n    }\n\n    const { getters, dispatch } = ctx;\n\n    opt = opt || {};\n\n    type = normalizeType(type);\n\n    console.log(`Find: [${ ctx.state.config.namespace }] ${ type } ${ id }`); // eslint-disable-line no-console\n    let out;\n\n    if ( opt.force !== true ) {\n      out = getters.byId(type, id);\n\n      if ( out ) {\n        return out;\n      }\n    }\n\n    opt = opt || {};\n    opt.url = getters.urlFor(type, id, opt);\n\n    const res = await dispatch('request', { opt, type });\n\n    await dispatch('load', { data: res });\n\n    if ( opt.watch !== false ) {\n      const watchMsg = {\n        type,\n        id,\n        revision: res?.metadata?.resourceVersion,\n        force:    opt.forceWatch === true,\n      };\n\n      const idx = id.indexOf('/');\n\n      if ( idx > 0 ) {\n        watchMsg.namespace = id.substr(0, idx);\n        watchMsg.id = id.substr(idx + 1);\n      }\n\n      dispatch('watch', watchMsg);\n    }\n\n    out = getters.byId(type, id);\n\n    garbageCollect.gcUpdateLastAccessed(ctx, type);\n\n    return out;\n  },\n\n  load(ctx, { data, existing }) {\n    const { getters, commit } = ctx;\n\n    let type = normalizeType(data.type);\n\n    if ( !getters.typeRegistered(type) ) {\n      commit('registerType', type);\n    }\n\n    if ( data.baseType && data.baseType !== data.type ) {\n      type = normalizeType(data.baseType);\n\n      if ( !getters.typeRegistered(type) ) {\n        commit('registerType', type);\n      }\n    }\n    // Inject special fields for indexing schemas\n    if ( type === SCHEMA ) {\n      addSchemaIndexFields(data);\n    }\n\n    const keyField = getters.keyFieldForType(type);\n    const id = data?.[keyField] || existing?.[keyField];\n\n    if ( !id ) {\n      console.warn('Attempting to load a resource with no id', data, existing); // eslint-disable-line no-console\n\n      return;\n    }\n\n    commit('load', {\n      ctx,\n      data,\n      existing\n    });\n\n    if ( type === SCHEMA ) {\n      commit('type-map/schemaChanged', null, { root: true });\n    }\n\n    return getters['byId'](type, id);\n  },\n\n  loadMulti(ctx, data) {\n    const { commit } = ctx;\n\n    commit('loadMulti', {\n      data,\n      ctx,\n    });\n  },\n\n  batchChanges(ctx, batch) {\n    const { commit } = ctx;\n\n    commit('batchChanges', {\n      ctx,\n      batch\n    });\n  },\n\n  loadAll(ctx, { type, data }) {\n    const { commit } = ctx;\n\n    commit('loadAll', {\n      ctx,\n      type,\n      data\n    });\n  },\n\n  create(ctx, data) {\n    return classify(ctx, data);\n  },\n\n  createMany(ctx, data) {\n    return data.map((d) => classify(ctx, d));\n  },\n\n  createPopulated(ctx, userData) {\n    const data = ctx.getters['defaultFor'](userData.type);\n\n    merge(data, userData);\n\n    return classify(ctx, data);\n  },\n\n  clone(ctx, { resource } = {}) {\n    return classify(ctx, resource.toJSON(), true);\n  },\n\n  // Forget a type in the store\n  // Remove all entries for that type and stop watching it\n  forgetType({ commit, dispatch, state }, type) {\n    state.started\n      .filter((entry) => entry.type === type)\n      .forEach((entry) => dispatch('unwatch', entry));\n\n    commit('forgetType', type);\n  },\n\n  promptRemove({ commit, state }, resources ) {\n    commit('action-menu/togglePromptRemove', resources, { root: true });\n  },\n\n  promptModal({ commit, state }, data ) {\n    commit('action-menu/togglePromptModal', data, { root: true });\n  },\n\n  resourceAction({ getters, dispatch }, {\n    resource, actionName, body, opt,\n  }) {\n    throw new Error('Not Implemented');\n  },\n\n  collectionAction({ getters, dispatch }, {\n    type, actionName, body, opt\n  }) {\n    throw new Error('Not Implemented');\n  },\n\n  cleanForNew(ctx, resource) {\n    throw new Error('Not Implemented');\n  },\n\n  createNamespace(ctx, resource) {\n    throw new Error('Not Implemented');\n  },\n\n  cleanForDiff(ctx, resource) {\n    throw new Error('Not Implemented');\n  },\n\n  // Clean a resource for the ResourceDetail page\n  // This can ensure common, required properties exists that might have been removed\n  cleanForDetail(ctx, resource) {\n    return resource;\n  },\n\n  cleanForDownload(ctx, resource) {\n    return resource;\n  },\n\n  // Wait for a schema that is expected to exist that may not have been loaded yet (for instance when loadCluster is still running).\n  async waitForSchema({ getters, dispatch }, { type }) {\n    let tries = SCHEMA_CHECK_RETRIES;\n    let schema = null;\n\n    while (!schema && tries > 0) {\n      schema = getters['schemaFor'](type);\n\n      if (!schema) {\n        if (tries === RETRY_LOG) {\n          console.warn(`Schema for ${ type } not available... retrying...`); // eslint-disable-line no-console\n        }\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        tries--;\n      }\n    }\n\n    if (tries === 0) {\n      // Ran out of tries - fetch the schemas again\n      console.warn(`Schema for ${ type } still unavailable... loading schemas again...`); // eslint-disable-line no-console\n      await dispatch('loadSchemas', true);\n    }\n  },\n\n  async waitForHaveAll({ getters }, { type, throwError = false, attempts = HAVE_ALL_CHECK_RETRIES }) {\n    let tries = attempts;\n    let haveAll = null;\n\n    while (!haveAll && tries > 0) {\n      haveAll = getters['haveAll'](type);\n\n      if (!haveAll) {\n        if (tries === RETRY_LOG) {\n          console.warn(`wait for all of ${ type } continuing...`); // eslint-disable-line no-console\n        }\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        tries--;\n      }\n    }\n\n    if (tries === 0 && throwError) {\n      throw new Error(`Failed to wait for all of ${ type }`);\n    }\n  },\n\n  incrementLoadCounter({ commit }, resource) {\n    commit('incrementLoadCounter', resource);\n  },\n\n  garbageCollect(ctx, ignoreTypes) {\n    return garbageCollect.garbageCollect(ctx, ignoreTypes);\n  },\n\n  gcResetStore({ state }) {\n    garbageCollect.gcResetStore(state);\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}