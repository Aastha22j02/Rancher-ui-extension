{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/poller.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/poller.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CnZhciBQb2xsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBvbGxlcihmbiwgcG9sbFJhdGVNcykgewogICAgdmFyIG1heFJldHJpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2xsZXIpOwogICAgdGhpcy5mbiA9IHZvaWQgMDsKICAgIHRoaXMucG9sbFJhdGVNcyA9IHZvaWQgMDsKICAgIHRoaXMubWF4UmV0cmllcyA9IHZvaWQgMDsKICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHZvaWQgMDsKICAgIHRoaXMudHJ5Q291bnQgPSAwOwogICAgdGhpcy5mbiA9IGZuIHx8IGZ1bmN0aW9uICgpIHt9OwogICAgdGhpcy5wb2xsUmF0ZU1zID0gcG9sbFJhdGVNczsKICAgIHRoaXMubWF4UmV0cmllcyA9IG1heFJldHJpZXM7CiAgfQogIHJldHVybiBfY3JlYXRlQ2xhc3MoUG9sbGVyLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAvLyBFbnN1cmUgb25seSBvbmUgaXMgcnVubmluZwogICAgICB0aGlzLnN0b3AoKTsKICAgICAgdGhpcy5faW50ZXJ2YWxNZXRob2QoKTsKICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5faW50ZXJ2YWxNZXRob2QoKTsKICAgICAgfSwgdGhpcy5wb2xsUmF0ZU1zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpOwogICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIl9pbnRlcnZhbE1ldGhvZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ludGVydmFsTWV0aG9kMiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm4oKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHRoaXMudHJ5Q291bnQgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgcG9sbGluZycsIF9jb250ZXh0LnQwKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgaWYgKCsrdGhpcy50cnlDb3VudCA+PSB0aGlzLm1heFJldHJpZXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgNl1dKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBfaW50ZXJ2YWxNZXRob2QoKSB7CiAgICAgICAgcmV0dXJuIF9pbnRlcnZhbE1ldGhvZDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gX2ludGVydmFsTWV0aG9kOwogICAgfSgpCiAgfV0pOwp9KCk7CmV4cG9ydCB7IFBvbGxlciBhcyBkZWZhdWx0IH07"},{"version":3,"names":["Poller","fn","pollRateMs","maxRetries","arguments","length","undefined","Number","POSITIVE_INFINITY","_classCallCheck","intervalId","tryCount","_createClass","key","value","start","_this","stop","_intervalMethod","setInterval","clearInterval","_intervalMethod2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","console","error","apply","default"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/poller.js"],"sourcesContent":["export default class Poller {\n    fn;\n    pollRateMs;\n    maxRetries;\n    intervalId;\n    tryCount = 0;\n\n    constructor(fn, pollRateMs, maxRetries = Number.POSITIVE_INFINITY) {\n      this.fn = fn || (() => {});\n      this.pollRateMs = pollRateMs;\n      this.maxRetries = maxRetries;\n    }\n\n    start() {\n      // Ensure only one is running\n      this.stop();\n      this._intervalMethod();\n      this.intervalId = setInterval(() => this._intervalMethod(), this.pollRateMs);\n    }\n\n    stop() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = undefined;\n      }\n    }\n\n    async _intervalMethod() {\n      try {\n        await this.fn();\n        this.tryCount = 0;\n      } catch (ex) {\n        console.error('Error encountered while polling', ex); // eslint-disable-line no-console\n        if (++this.tryCount >= this.maxRetries) {\n          this.stop();\n        }\n      }\n    }\n}\n"],"mappings":";;;;;;IAAqBA,MAAM;EAOvB,SAAAA,OAAYC,EAAE,EAAEC,UAAU,EAAyC;IAAA,IAAvCC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGG,MAAM,CAACC,iBAAiB;IAAAC,eAAA,OAAAT,MAAA;IAAA,KANjEC,EAAE;IAAA,KACFC,UAAU;IAAA,KACVC,UAAU;IAAA,KACVO,UAAU;IAAA,KACVC,QAAQ,GAAG,CAAC;IAGV,IAAI,CAACV,EAAE,GAAGA,EAAE,IAAK,YAAM,CAAC,CAAE;IAC1B,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,UAAU,GAAGA,UAAU;EAC9B;EAAC,OAAAS,YAAA,CAAAZ,MAAA;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAC,KAAKA,CAAA,EAAG;MAAA,IAAAC,KAAA;MACN;MACA,IAAI,CAACC,IAAI,CAAC,CAAC;MACX,IAAI,CAACC,eAAe,CAAC,CAAC;MACtB,IAAI,CAACR,UAAU,GAAGS,WAAW,CAAC;QAAA,OAAMH,KAAI,CAACE,eAAe,CAAC,CAAC;MAAA,GAAE,IAAI,CAAChB,UAAU,CAAC;IAC9E;EAAC;IAAAW,GAAA;IAAAC,KAAA,EAED,SAAAG,IAAIA,CAAA,EAAG;MACL,IAAI,IAAI,CAACP,UAAU,EAAE;QACnBU,aAAa,CAAC,IAAI,CAACV,UAAU,CAAC;QAC9B,IAAI,CAACA,UAAU,GAAGJ,SAAS;MAC7B;IACF;EAAC;IAAAO,GAAA;IAAAC,KAAA;MAAA,IAAAO,gBAAA,GAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAED,SAAAC,QAAA;QAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEU,IAAI,CAAC7B,EAAE,CAAC,CAAC;YAAA;cACf,IAAI,CAACU,QAAQ,GAAG,CAAC;cAACiB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAG,EAAA,GAAAH,QAAA;cAElBI,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAAL,QAAA,CAAAG,EAAI,CAAC,CAAC,CAAC;cACtD,IAAI,EAAE,IAAI,CAACpB,QAAQ,IAAI,IAAI,CAACR,UAAU,EAAE;gBACtC,IAAI,CAACc,IAAI,CAAC,CAAC;cACb;YAAC;YAAA;cAAA,OAAAW,QAAA,CAAAX,IAAA;UAAA;QAAA,GAAAQ,OAAA;MAAA,CAEJ;MAAA,SAVKP,eAAeA,CAAA;QAAA,OAAAG,gBAAA,CAAAa,KAAA,OAAA9B,SAAA;MAAA;MAAA,OAAfc,eAAe;IAAA;EAAA;AAAA;AAAA,SA3BJlB,MAAM,IAAAmC,OAAA","ignoreList":[]}]}