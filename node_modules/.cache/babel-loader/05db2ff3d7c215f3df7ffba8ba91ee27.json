{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/machine-config/generic.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/machine-config/generic.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSwgc3RyaW5naWZ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IFF1ZXN0aW9ucyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9RdWVzdGlvbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZywKICAgIEJhbm5lcjogQmFubmVyLAogICAgUXVlc3Rpb25zOiBRdWVzdGlvbnMKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBwcm9wczogewogICAgY3JlZGVudGlhbElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBwcm92aWRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbmFtZSwgbm9ybWFuVHlwZSwgbm9ybWFuU2NoZW1hOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2ZpZWxkc0ZvckRyaXZlciddKF90aGlzLnByb3ZpZGVyKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgX3RoaXMuZmllbGRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgbmFtZSA9ICJya2UtbWFjaGluZS1jb25maWcuY2F0dGxlLmlvLiIuY29uY2F0KF90aGlzLnByb3ZpZGVyLCAiY29uZmlnIik7CiAgICAgICAgICAgIGlmIChfdGhpcy5maWVsZHMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIk1hY2hpbmUgRHJpdmVyIGNvbmZpZyBzY2hlbWEgbm90IGZvdW5kIGZvciAiLmNvbmNhdChuYW1lKSk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoX2NvbnRleHQudDApOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgbm9ybWFuVHlwZSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2NyZWRlbnRpYWxGaWVsZEZvckRyaXZlciddKF90aGlzLnByb3ZpZGVyKTsKICAgICAgICAgICAgbm9ybWFuU2NoZW1hID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbJ3JhbmNoZXIvc2NoZW1hRm9yJ10oIiIuY29uY2F0KG5vcm1hblR5cGUsICJjcmVkZW50aWFsY29uZmlnIikpOwogICAgICAgICAgICBpZiAoIW5vcm1hblNjaGVtYSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5jbG91ZENyZWRlbnRpYWxLZXlzID0gT2JqZWN0LmtleXMobm9ybWFuU2NoZW1hLnJlc291cmNlRmllbGRzIHx8IHt9KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2ZpZWxkTmFtZXNGb3JEcml2ZXInXShfdGhpcy5wcm92aWRlcik7CiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBfdGhpcy5jbG91ZENyZWRlbnRpYWxLZXlzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogbnVsbCwKICAgICAgZmllbGRzOiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICdjcmVkZW50aWFsSWQnOiBmdW5jdGlvbiBjcmVkZW50aWFsSWQoKSB7CiAgICAgIHRoaXMuJGZldGNoKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeQogIH0KfTs="},{"version":3,"names":["Loading","Banner","CreateEditView","exceptionToErrorsArray","stringify","Questions","components","mixins","props","credentialId","type","String","required","provider","disabled","Boolean","default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","name","normanType","normanSchema","wrap","_callee$","_context","prev","next","errors","$store","getters","fields","sent","concat","Error","t0","cloudCredentialKeys","Object","keys","resourceFields","stop","data","watch","$fetch","methods"],"sources":["node_modules/@rancher/shell/machine-config/generic.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport Questions from '@shell/components/Questions';\n\nexport default {\n  components: {\n    Loading, Banner, Questions\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  async fetch() {\n    this.errors = [];\n\n    try {\n      this.fields = await this.$store.getters['plugins/fieldsForDriver'](this.provider);\n      const name = `rke-machine-config.cattle.io.${ this.provider }config`;\n\n      if ( !this.fields ) {\n        throw new Error(`Machine Driver config schema not found for ${ name }`);\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n\n    const normanType = this.$store.getters['plugins/credentialFieldForDriver'](this.provider);\n    const normanSchema = this.$store.getters['rancher/schemaFor'](`${ normanType }credentialconfig`);\n\n    if ( normanSchema ) {\n      this.cloudCredentialKeys = Object.keys(normanSchema.resourceFields || {});\n    } else {\n      this.cloudCredentialKeys = await this.$store.getters['plugins/fieldNamesForDriver'](this.provider);\n    }\n  },\n\n  data() {\n    return {\n      errors: null,\n      fields: null,\n    };\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: { stringify },\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Questions\n      v-model=\"value\"\n      :mode=\"mode\"\n      :tabbed=\"false\"\n      :source=\"fields\"\n      :ignore-variables=\"cloudCredentialKeys\"\n      :target-namespace=\"value.metadata.namespace\"\n      :disabled=\"disabled\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;AACA,OAAAA,OAAA;AACA,SAAAC,MAAA;AACA,OAAAC,cAAA;AACA,SAAAC,sBAAA,EAAAC,SAAA;AACA,OAAAC,SAAA;AAEA;EACAC,UAAA;IACAN,OAAA,EAAAA,OAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAI,SAAA,EAAAA;EACA;EAEAE,MAAA,GAAAL,cAAA;EAEAM,KAAA;IACAC,YAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,QAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAE,QAAA;MACAJ,IAAA,EAAAK,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA,EAAAC,UAAA,EAAAC,YAAA;MAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAZ,KAAA,CAAAa,MAAA;YAAAH,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAGAZ,KAAA,CAAAc,MAAA,CAAAC,OAAA,4BAAAf,KAAA,CAAAL,QAAA;UAAA;YAAAK,KAAA,CAAAgB,MAAA,GAAAN,QAAA,CAAAO,IAAA;YACAZ,IAAA,mCAAAa,MAAA,CAAAlB,KAAA,CAAAL,QAAA;YAAA,IAEAK,KAAA,CAAAgB,MAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,MACA,IAAAO,KAAA,+CAAAD,MAAA,CAAAb,IAAA;UAAA;YAAAK,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;YAGAV,KAAA,CAAAa,MAAA,GAAA5B,sBAAA,CAAAyB,QAAA,CAAAU,EAAA;UAAA;YAGAd,UAAA,GAAAN,KAAA,CAAAc,MAAA,CAAAC,OAAA,qCAAAf,KAAA,CAAAL,QAAA;YACAY,YAAA,GAAAP,KAAA,CAAAc,MAAA,CAAAC,OAAA,yBAAAG,MAAA,CAAAZ,UAAA;YAAA,KAEAC,YAAA;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;YACAZ,KAAA,CAAAqB,mBAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAhB,YAAA,CAAAiB,cAAA;YAAAd,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAEAZ,KAAA,CAAAc,MAAA,CAAAC,OAAA,gCAAAf,KAAA,CAAAL,QAAA;UAAA;YAAAK,KAAA,CAAAqB,mBAAA,GAAAX,QAAA,CAAAO,IAAA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAe,IAAA;QAAA;MAAA,GAAArB,OAAA;IAAA;EAEA;EAEAsB,IAAA,WAAAA,KAAA;IACA;MACAb,MAAA;MACAG,MAAA;IACA;EACA;EAEAW,KAAA;IACA,yBAAApC,aAAA;MACA,KAAAqC,MAAA;IACA;EACA;EAEAC,OAAA;IAAA3C,SAAA,EAAAA;EAAA;AACA","ignoreList":[]}]}