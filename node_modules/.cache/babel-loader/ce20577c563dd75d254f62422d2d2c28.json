{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/cluster.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/cluster.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBOb3JtYW5DbHVzdGVyIGZyb20gJ0BzaGVsbC9tb2RlbHMvY2x1c3Rlcic7CmRlc2NyaWJlKCdjbGFzcyBOb3JtYW5DbHVzdGVyJywgZnVuY3Rpb24gKCkgewogIHZhciB0ID0gamVzdC5mbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gJ2FiYyc7CiAgfSk7CiAgdmFyIGN0eCA9IHsKICAgIHJvb3RHZXR0ZXJzOiB7CiAgICAgICdpMThuL3QnOiB0CiAgICB9LAogICAgZGlzcGF0Y2g6IGplc3QuZm4oKQogIH07CiAgaXQoJ3Nob3VsZCByZXR1cm4gZW1wdHkgYXJyYXlzIG9mIHN5c3RlbSBsYWJlbHMgYW5kIHN5c3RlbSBhbm5vdGF0aW9ucyBpZiBjbHVzdGVyIGxhYmVscyBhbmQgYW5ub3RhdGlvbnMgYXJlIHVuZGVmaW5lZCcsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBjbHVzdGVyID0gbmV3IE5vcm1hbkNsdXN0ZXIoe30sIGN0eCk7CiAgICBleHBlY3QoY2x1c3Rlci5zeXN0ZW1MYWJlbHMpLnRvU3RyaWN0RXF1YWwoW10pOwogICAgZXhwZWN0KGNsdXN0ZXIuc3lzdGVtQW5ub3RhdGlvbnMpLnRvU3RyaWN0RXF1YWwoW10pOwogIH0pOwogIGl0KCdzaG91bGQgbGlzdCBhbGwgdGhlIGNsdXN0ZXJcJ3MgYW5ub3RhdGlvbiBrZXlzIHRoYXQgY29udGFpbiBjb3Jlb3MuY29tLCBjYXR0bGUuaW8sIGszcy5pbywga3ViZXJuZXRlcy5pbywgb3IgazNzLmlvJywgZnVuY3Rpb24gKCkgewogICAgdmFyIHRlc3RBbm5vdGF0aW9ucyA9IFsnY2F0dGxlLmlvL3Rlc3QnLCAnY29yZW9zLmNvbScsICd0ZXN0LmNhdHRsZS5pby9zb21ldGhpbmcnLCAna3ViZXJuZXRlcy5pby90ZXN0J107CiAgICB2YXIgY2x1c3RlciA9IG5ldyBOb3JtYW5DbHVzdGVyKHsKICAgICAgYW5ub3RhdGlvbnM6IHsKICAgICAgICAnY2F0dGxlLmlvL3Rlc3QnOiAnYWJjJywKICAgICAgICAnY29yZW9zLmNvbSc6ICdhYmMnLAogICAgICAgICdrM3MuaW8vdGVzdCc6ICdhYmMnLAogICAgICAgICd0ZXN0LmNhdHRsZS5pby9zb21ldGhpbmcnOiAnYWJjJywKICAgICAgICAna3ViZXJuZXRlcy5pby90ZXN0JzogJ2FiYycsCiAgICAgICAgJ290aGVyLWxhYmVsJzogJ2FiYycKICAgICAgfQogICAgfSwgY3R4KTsKICAgIGV4cGVjdCh0ZXN0QW5ub3RhdGlvbnMuZmluZChmdW5jdGlvbiAoYW5ub3RhdGlvbikgewogICAgICByZXR1cm4gIWNsdXN0ZXIuc3lzdGVtQW5ub3RhdGlvbnMuaW5jbHVkZXMoYW5ub3RhdGlvbik7CiAgICB9KSkudG9CZVVuZGVmaW5lZCgpOwogIH0pOwogIGl0KCdzaG91bGQgbGlzdCBhbGwgdGhlIGNsdXN0ZXJcJ3MgbGFiZWwga2V5cyB0aGF0IGNvbnRhaW4gaW8uY2F0dGxlLmxpZmVjeWNsZSwga3ViZXJuZXRlcy5pbywgY2F0dGxlLmlvLCBvciBrM3MuaW8nLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGVzdExhYmVscyA9IFsnY2F0dGxlLmlvL3Rlc3QnLCAndGVzdC5pby5jYXR0bGUubGlmZWN5Y2xlJywgJ3Rlc3Qua3ViZXJuZXRlcy5pby90ZXN0JywgJ2szcy5pby90ZXN0J107CiAgICB2YXIgY2x1c3RlciA9IG5ldyBOb3JtYW5DbHVzdGVyKHsKICAgICAgbGFiZWxzOiB7CiAgICAgICAgJ2NhdHRsZS5pby90ZXN0JzogJ2FiYycsCiAgICAgICAgJ3Rlc3QuaW8uY2F0dGxlLmxpZmVjeWNsZSc6ICdhYmMnLAogICAgICAgICdrM3MuaW8vdGVzdCc6ICdhYmMnLAogICAgICAgICd0ZXN0Lmt1YmVybmV0ZXMuaW8vdGVzdCc6ICdhYmMnLAogICAgICAgICdvdGhlci1sYWJlbCc6ICdhYmMnCiAgICAgIH0KICAgIH0sIGN0eCk7CiAgICBleHBlY3QodGVzdExhYmVscy5maW5kKGZ1bmN0aW9uIChsYWJlbCkgewogICAgICByZXR1cm4gIWNsdXN0ZXIuc3lzdGVtTGFiZWxzLmluY2x1ZGVzKGxhYmVsKTsKICAgIH0pKS50b0JlVW5kZWZpbmVkKCk7CiAgfSk7Cn0pOw=="},{"version":3,"names":["NormanCluster","describe","t","jest","fn","ctx","rootGetters","dispatch","it","cluster","expect","systemLabels","toStrictEqual","systemAnnotations","testAnnotations","annotations","find","annotation","includes","toBeUndefined","testLabels","labels","label"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/cluster.test.ts"],"sourcesContent":["import NormanCluster from '@shell/models/cluster';\n\ndescribe('class NormanCluster', () => {\n  const t = jest.fn(() => 'abc');\n  const ctx = { rootGetters: { 'i18n/t': t }, dispatch: jest.fn() };\n\n  it('should return empty arrays of system labels and system annotations if cluster labels and annotations are undefined', () => {\n    const cluster = new NormanCluster({}, ctx);\n\n    expect(cluster.systemLabels).toStrictEqual([]);\n    expect(cluster.systemAnnotations).toStrictEqual([]);\n  });\n\n  it('should list all the cluster\\'s annotation keys that contain coreos.com, cattle.io, k3s.io, kubernetes.io, or k3s.io', () => {\n    const testAnnotations = ['cattle.io/test', 'coreos.com', 'test.cattle.io/something', 'kubernetes.io/test'];\n    const cluster = new NormanCluster({\n      annotations: {\n        'cattle.io/test':           'abc',\n        'coreos.com':               'abc',\n        'k3s.io/test':              'abc',\n        'test.cattle.io/something': 'abc',\n        'kubernetes.io/test':       'abc',\n        'other-label':              'abc'\n      }\n    }, ctx);\n\n    expect(testAnnotations.find((annotation) => !cluster.systemAnnotations.includes(annotation))).toBeUndefined();\n  });\n\n  it('should list all the cluster\\'s label keys that contain io.cattle.lifecycle, kubernetes.io, cattle.io, or k3s.io', () => {\n    const testLabels = ['cattle.io/test', 'test.io.cattle.lifecycle', 'test.kubernetes.io/test', 'k3s.io/test'];\n    const cluster = new NormanCluster({\n      labels: {\n        'cattle.io/test':           'abc',\n        'test.io.cattle.lifecycle': 'abc',\n        'k3s.io/test':              'abc',\n        'test.kubernetes.io/test':  'abc',\n        'other-label':              'abc'\n      }\n    }, ctx);\n\n    expect(testLabels.find((label) => !cluster.systemLabels.includes(label))).toBeUndefined();\n  });\n});\n"],"mappings":";;;;AAAA,OAAOA,aAAa,MAAM,uBAAuB;AAEjDC,QAAQ,CAAC,qBAAqB,EAAE,YAAK;EACnC,IAAMC,CAAC,GAAGC,IAAI,CAACC,EAAE,CAAC;IAAA,OAAM,KAAK;EAAA,EAAC;EAC9B,IAAMC,GAAG,GAAG;IAAEC,WAAW,EAAE;MAAE,QAAQ,EAAEJ;IAAC,CAAE;IAAEK,QAAQ,EAAEJ,IAAI,CAACC,EAAE;EAAE,CAAE;EAEjEI,EAAE,CAAC,oHAAoH,EAAE,YAAK;IAC5H,IAAMC,OAAO,GAAG,IAAIT,aAAa,CAAC,EAAE,EAAEK,GAAG,CAAC;IAE1CK,MAAM,CAACD,OAAO,CAACE,YAAY,CAAC,CAACC,aAAa,CAAC,EAAE,CAAC;IAC9CF,MAAM,CAACD,OAAO,CAACI,iBAAiB,CAAC,CAACD,aAAa,CAAC,EAAE,CAAC;EACrD,CAAC,CAAC;EAEFJ,EAAE,CAAC,qHAAqH,EAAE,YAAK;IAC7H,IAAMM,eAAe,GAAG,CAAC,gBAAgB,EAAE,YAAY,EAAE,0BAA0B,EAAE,oBAAoB,CAAC;IAC1G,IAAML,OAAO,GAAG,IAAIT,aAAa,CAAC;MAChCe,WAAW,EAAE;QACX,gBAAgB,EAAY,KAAK;QACjC,YAAY,EAAgB,KAAK;QACjC,aAAa,EAAe,KAAK;QACjC,0BAA0B,EAAE,KAAK;QACjC,oBAAoB,EAAQ,KAAK;QACjC,aAAa,EAAe;;KAE/B,EAAEV,GAAG,CAAC;IAEPK,MAAM,CAACI,eAAe,CAACE,IAAI,CAAC,UAACC,UAAU;MAAA,OAAK,CAACR,OAAO,CAACI,iBAAiB,CAACK,QAAQ,CAACD,UAAU,CAAC;IAAA,EAAC,CAAC,CAACE,aAAa,EAAE;EAC/G,CAAC,CAAC;EAEFX,EAAE,CAAC,iHAAiH,EAAE,YAAK;IACzH,IAAMY,UAAU,GAAG,CAAC,gBAAgB,EAAE,0BAA0B,EAAE,yBAAyB,EAAE,aAAa,CAAC;IAC3G,IAAMX,OAAO,GAAG,IAAIT,aAAa,CAAC;MAChCqB,MAAM,EAAE;QACN,gBAAgB,EAAY,KAAK;QACjC,0BAA0B,EAAE,KAAK;QACjC,aAAa,EAAe,KAAK;QACjC,yBAAyB,EAAG,KAAK;QACjC,aAAa,EAAe;;KAE/B,EAAEhB,GAAG,CAAC;IAEPK,MAAM,CAACU,UAAU,CAACJ,IAAI,CAAC,UAACM,KAAK;MAAA,OAAK,CAACb,OAAO,CAACE,YAAY,CAACO,QAAQ,CAACI,KAAK,CAAC;IAAA,EAAC,CAAC,CAACH,aAAa,EAAE;EAC3F,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}