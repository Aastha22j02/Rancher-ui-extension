{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IF9FRElUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgVGFpbnRzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVGFpbnRzLnZ1ZSc7CmltcG9ydCBLZXlWYWx1ZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0tleVZhbHVlLnZ1ZSc7CmltcG9ydCBBZHZhbmNlZFNlY3Rpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQWR2YW5jZWRTZWN0aW9uLnZ1ZSc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBVbml0SW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Vbml0SW5wdXQudnVlJzsKaW1wb3J0IHsgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFjaGluZVBvb2wnLAogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgVGFpbnRzOiBUYWludHMsCiAgICBLZXlWYWx1ZTogS2V5VmFsdWUsCiAgICBBZHZhbmNlZFNlY3Rpb246IEFkdmFuY2VkU2VjdGlvbiwKICAgIEJhbm5lcjogQmFubmVyLAogICAgVW5pdElucHV0OiBVbml0SW5wdXQKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY2x1c3RlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIC8vIG5vIGNyZWRlbnRpYWxzIGFyZSByZXF1aXJlZCBmb3IgZWxlbWVudGFsIG1hY2hpbmUgcG9vbHMKICAgIGNyZWRlbnRpYWxJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogX0VESVQKICAgIH0sCiAgICBwcm92aWRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaWR4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBtYWNoaW5lUG9vbHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIElzIHRoZSBVSSBidXN5IChlLmcuIGR1cmluZyBzYXZlKQogICAgYnVzeTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBvb2xJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8gdGhpcyBpcyBhIHVzZWZ1bCBpbmZvIHdoZW4gaW4gZWRpdCBtb2RlIHlvdSBhZGQgYSBuZXcgcG9vbCwgZXhhbXBsZSBvZiB1c2UgaW4gdm13YXJldnNwaGVyZS52dWUKICAgIHBvb2xDcmVhdGVNb2RlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHBhcnNlRHVyYXRpb24gPSBmdW5jdGlvbiBwYXJzZUR1cmF0aW9uKGR1cmF0aW9uKSB7CiAgICAgIC8vIFRoZSBiYWNrIGVuZCBzdG9yZXMgdGhlIHRpbWVvdXQgaW4gRHVyYXRpb24gZm9ybWF0LCBmb3IgZXhhbXBsZSwgIjQyZDMxaDEwbTMwcyIuCiAgICAgIC8vIEhlcmUgd2UgY29udmVydCB0aGF0IHN0cmluZyB0byBhbiBpbnRlZ2VyIGFuZCByZXR1cm4gdGhlIGR1cmF0aW9uIGFzIHNlY29uZHMuCiAgICAgIHZhciBzcGxpdFN0ciA9IGR1cmF0aW9uLnNwbGl0KC8oW2Etel0pLyk7CiAgICAgIHZhciBkdXJhdGlvbnNBc1NlY29uZHMgPSBzcGxpdFN0ci5yZWR1Y2UoZnVuY3Rpb24gKG9sZCwgbmV1LCBpZHgpIHsKICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQobmV1KTsKICAgICAgICBpZiAoaXNOYU4ocGFyc2VkKSkgewogICAgICAgICAgcmV0dXJuIG9sZDsKICAgICAgICB9CiAgICAgICAgdmFyIGludGVydmFsID0gc3BsaXRTdHJbaWR4ICsgMV07CiAgICAgICAgc3dpdGNoIChpbnRlcnZhbCkgewogICAgICAgICAgY2FzZSAnZCc6CiAgICAgICAgICAgIG9sZC5wdXNoKHBhcnNlZCAqIDI0ICogNjAgKiA2MCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnaCc6CiAgICAgICAgICAgIG9sZC5wdXNoKHBhcnNlZCAqIDYwICogNjApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ20nOgogICAgICAgICAgICBvbGQucHVzaChwYXJzZWQgKiA2MCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAncyc6CiAgICAgICAgICAgIG9sZC5wdXNoKHBhcnNlZCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvbGQ7CiAgICAgIH0sIFtdKTsKICAgICAgcmV0dXJuIGR1cmF0aW9uc0FzU2Vjb25kcy5yZWR1Y2UoZnVuY3Rpb24gKG9sZCwgbmV1KSB7CiAgICAgICAgcmV0dXJuIG9sZCArIG5ldTsKICAgICAgfSk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdXVpZDogcmFuZG9tU3RyKCksCiAgICAgIHVuaGVhbHRoeU5vZGVUaW1lb3V0SW50ZWdlcjogdGhpcy52YWx1ZS5wb29sLnVuaGVhbHRoeU5vZGVUaW1lb3V0ID8gcGFyc2VEdXJhdGlvbih0aGlzLnZhbHVlLnBvb2wudW5oZWFsdGh5Tm9kZVRpbWVvdXQpIDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb25maWdDb21wb25lbnQ6IGZ1bmN0aW9uIGNvbmZpZ0NvbXBvbmVudCgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbU1hY2hpbmVDb25maWdDb21wb25lbnQnXSh0aGlzLnByb3ZpZGVyKSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pbXBvcnRNYWNoaW5lQ29uZmlnJ10odGhpcy5wcm92aWRlcik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2ltcG9ydE1hY2hpbmVDb25maWcnXSgnZ2VuZXJpYycpOwogICAgfSwKICAgIGlzV2luZG93czogZnVuY3Rpb24gaXNXaW5kb3dzKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWU7CiAgICAgIHJldHVybiAoKF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUgPSBfdGhpcyR2YWx1ZS5jb25maWcpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5vcykgPT09ICd3aW5kb3dzJzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpc1dpbmRvd3M6IGZ1bmN0aW9uIGlzV2luZG93cyhuZXUpIHsKICAgICAgaWYgKG5ldSkgewogICAgICAgIHRoaXMudmFsdWUucG9vbC5ldGNkUm9sZSA9IGZhbHNlOwogICAgICAgIHRoaXMudmFsdWUucG9vbC5jb250cm9sUGxhbmVSb2xlID0gZmFsc2U7CiAgICAgICAgdGhpcy52YWx1ZS5wb29sLm1hY2hpbmVPUyA9ICd3aW5kb3dzJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZhbHVlLnBvb2wubWFjaGluZU9TID0gJ2xpbnV4JzsKICAgICAgfQogICAgfQogIH0sCiAgLyoqCiAgICogT24gY3JlYXRpb24sIGVuc3VyZSB0aGF0IHRoZSBwb29sIGlzIG1hcmtlZCB2YWxpZCAtIGN1c3RvbSBtYWNoaW5lIHBvb2xzIGNhbiBlbWl0IGZ1cnRoZXIgdmFsaWRhdGlvbiBldmVudHMKICAgKi8KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy4kZW1pdCgndmFsaWRhdGlvbkNoYW5nZWQnLCB0cnVlKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyBFbnN1cmUgd2UgZW1pdCB2YWxpZGF0aW9uIGV2ZW50IHNvIHBhcmVudCBjYW4gZm9yZ2V0IGFueSB2YWxpZGF0aW9uIGZvciB0aGlzIE1hY2hpbmUgUG9vbCB3aGVuIGl0IGlzIHJlbW92ZWQKICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgdW5kZWZpbmVkKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVtaXRFcnJvcjogZnVuY3Rpb24gZW1pdEVycm9yKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCBlKTsKICAgIH0sCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyQkcmVmcyRjb25maWdDb207CiAgICAgICAgdmFyIGVycm9ycywgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgKChfdGhpcyQkcmVmcyRjb25maWdDb20gPSBfdGhpcy4kcmVmcy5jb25maWdDb21wb25lbnQpID09PSBudWxsIHx8IF90aGlzJCRyZWZzJGNvbmZpZ0NvbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkY29uZmlnQ29tLnRlc3QpID09PSAnZnVuY3Rpb24nKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcmVmcy5jb25maWdDb21wb25lbnQudGVzdCgpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBpZiAoIXJlcyB8fCByZXMgIT09IG51bGwgJiYgcmVzICE9PSB2b2lkIDAgJiYgcmVzLmVycm9ycykgewogICAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHZvaWQgMCAmJiByZXMuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycyA9IHJlcy5lcnJvcnM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgZXJyb3JzID0gW19jb250ZXh0LnQwXTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBlcnJvcnMpOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBoYW5kbGUgZW1pdHRlZCBtYXRjaGVkIG1hY2hpbmUgaW52ZW50b3JpZXMgb24gc2VsZWN0b3Igc28gdGhhdCBtYWNoaW5lIGNvdW50CiAgICAvLyBvbiBtYWNoaW5lIHBvb2wgY2FuIGJlIGtlcHQgdXAgdG8gZGF0ZQogICAgLy8gKG9ubHkgdXNlZCBvbiBFbGVtZW50YWwgYmVjYXVzZSBpdCBjb21lcyBmcm9tICJtYWNoaW5laW52ZW50b3J5c2VsZWN0b3J0ZW1wbGF0ZSIgbWFjaGluZS1jb25maWcpCiAgICB1cGRhdGVNYWNoaW5lQ291bnQ6IGZ1bmN0aW9uIHVwZGF0ZU1hY2hpbmVDb3VudCh2YWwpIHsKICAgICAgdGhpcy52YWx1ZS5wb29sLnF1YW50aXR5ID0gdmFsIHx8IDE7CiAgICB9LAogICAgZXhwYW5kQWR2YW5jZWQ6IGZ1bmN0aW9uIGV4cGFuZEFkdmFuY2VkKCkgewogICAgICB2YXIgYWR2YW5jZWRDb21wb25lbnQgPSB0aGlzLiRyZWZzLmFkdmFuY2VkOwogICAgICBpZiAoYWR2YW5jZWRDb21wb25lbnQgJiYgIWFkdmFuY2VkQ29tcG9uZW50LnNob3cpIHsKICAgICAgICBhZHZhbmNlZENvbXBvbmVudC50b2dnbGUoKTsKICAgICAgfQogICAgfSwKICAgIC8vIFByb3BhZ2F0ZSB1cCB2YWxpZGF0aW9uIHN0YXR1cyBmb3IgdGhpcyBNYWNoaW5lIFBvb2wKICAgIHZhbGlkYXRpb25DaGFuZ2VkOiBmdW5jdGlvbiB2YWxpZGF0aW9uQ2hhbmdlZCh2YWwpIHsKICAgICAgdGhpcy4kZW1pdCgndmFsaWRhdGlvbkNoYW5nZWQnLCB2YWwpOwogICAgfQogIH0KfTs="},{"version":3,"names":["LabeledInput","Checkbox","_EDIT","Taints","KeyValue","AdvancedSection","Banner","UnitInput","randomStr","name","components","props","value","type","Object","required","cluster","default","credentialId","String","mode","provider","idx","Number","machinePools","Array","busy","Boolean","poolId","poolCreateMode","data","parseDuration","duration","splitStr","split","durationsAsSeconds","reduce","old","neu","parsed","parseInt","isNaN","interval","push","uuid","unhealthyNodeTimeoutInteger","pool","unhealthyNodeTimeout","computed","configComponent","$store","getters","isWindows","_this$value","config","os","watch","etcdRole","controlPlaneRole","machineOS","created","$emit","beforeDestroy","undefined","methods","emitError","e","test","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$$refs$configCom","errors","res","wrap","_callee$","_context","prev","next","$refs","sent","t0","abrupt","stop","updateMachineCount","val","quantity","expandAdvanced","advancedComponent","advanced","show","toggle","validationChanged"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/MachinePool.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { _EDIT } from '@shell/config/query-params';\nimport Taints from '@shell/components/form/Taints.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport AdvancedSection from '@shell/components/AdvancedSection.vue';\nimport { Banner } from '@components/Banner';\nimport UnitInput from '@shell/components/form/UnitInput.vue';\nimport { randomStr } from '@shell/utils/string';\n\nexport default {\n\n  name: 'MachinePool',\n\n  components: {\n    LabeledInput,\n    Checkbox,\n    Taints,\n    KeyValue,\n    AdvancedSection,\n    Banner,\n    UnitInput\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    cluster: {\n      type:    Object,\n      default: () => ({})\n    },\n\n    // no credentials are required for elemental machine pools\n    credentialId: {\n      type:    String,\n      default: null\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    idx: {\n      type:     Number,\n      required: true,\n    },\n\n    machinePools: {\n      type:    Array,\n      default: () => []\n    },\n\n    // Is the UI busy (e.g. during save)\n    busy: {\n      type:    Boolean,\n      default: false,\n    },\n\n    poolId: {\n      type:     String,\n      required: true,\n    },\n\n    // this is a useful info when in edit mode you add a new pool, example of use in vmwarevsphere.vue\n    poolCreateMode: {\n      type:     Boolean,\n      required: true,\n    }\n  },\n\n  data() {\n    const parseDuration = (duration) => {\n      // The back end stores the timeout in Duration format, for example, \"42d31h10m30s\".\n      // Here we convert that string to an integer and return the duration as seconds.\n      const splitStr = duration.split(/([a-z])/);\n\n      const durationsAsSeconds = splitStr.reduce((old, neu, idx) => {\n        const parsed = parseInt(neu);\n\n        if ( isNaN(parsed) ) {\n          return old;\n        }\n\n        const interval = splitStr[(idx + 1)];\n\n        switch (interval) {\n        case 'd':\n          old.push(parsed * 24 * 60 * 60);\n          break;\n        case 'h':\n          old.push(parsed * 60 * 60);\n          break;\n        case 'm':\n          old.push(parsed * 60);\n          break;\n        case 's':\n          old.push(parsed);\n          break;\n        default:\n          break;\n        }\n\n        return old;\n      }, []);\n\n      return durationsAsSeconds.reduce((old, neu) => old + neu);\n    };\n\n    return {\n      uuid: randomStr(),\n\n      unhealthyNodeTimeoutInteger: this.value.pool.unhealthyNodeTimeout ? parseDuration(this.value.pool.unhealthyNodeTimeout) : 0,\n    };\n  },\n\n  computed: {\n    configComponent() {\n      if (this.$store.getters['type-map/hasCustomMachineConfigComponent'](this.provider)) {\n        return this.$store.getters['type-map/importMachineConfig'](this.provider);\n      }\n\n      return this.$store.getters['type-map/importMachineConfig']('generic');\n    },\n\n    isWindows() {\n      return this.value?.config?.os === 'windows';\n    },\n  },\n\n  watch: {\n    isWindows(neu) {\n      if (neu) {\n        this.value.pool.etcdRole = false;\n        this.value.pool.controlPlaneRole = false;\n        this.value.pool.machineOS = 'windows';\n      } else {\n        this.value.pool.machineOS = 'linux';\n      }\n    }\n  },\n\n  /**\n   * On creation, ensure that the pool is marked valid - custom machine pools can emit further validation events\n   */\n  created() {\n    this.$emit('validationChanged', true);\n  },\n\n  beforeDestroy() {\n    // Ensure we emit validation event so parent can forget any validation for this Machine Pool when it is removed\n    this.$emit('validationChanged', undefined);\n  },\n\n  methods: {\n    emitError(e) {\n      this.$emit('error', e);\n    },\n    async test() {\n      if ( typeof this.$refs.configComponent?.test === 'function' ) {\n        let errors = [];\n\n        try {\n          const res = await this.$refs.configComponent.test();\n\n          if ( !res || res?.errors) {\n            if (res?.errors) {\n              errors = res.errors;\n            }\n          }\n        } catch (e) {\n          errors = [e];\n        }\n\n        return errors;\n      }\n    },\n    // handle emitted matched machine inventories on selector so that machine count\n    // on machine pool can be kept up to date\n    // (only used on Elemental because it comes from \"machineinventoryselectortemplate\" machine-config)\n    updateMachineCount(val) {\n      this.value.pool.quantity = val || 1;\n    },\n\n    expandAdvanced() {\n      const advancedComponent = this.$refs.advanced;\n\n      if (advancedComponent && !advancedComponent.show) {\n        advancedComponent.toggle();\n      }\n    },\n\n    // Propagate up validation status for this Machine Pool\n    validationChanged(val) {\n      this.$emit('validationChanged', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"value.pool.hostnameLengthLimit\"\n      color=\"info\"\n    >\n      <div class=\"text\">\n        {{ t('cluster.machinePool.truncationPool', { limit: value.pool.hostnameLengthLimit }) }}\n      </div>\n    </Banner>\n    <div class=\"row\">\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model=\"value.pool.name\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.name.label')\"\n          :required=\"true\"\n          :disabled=\"!value.config || !!value.config.id || busy\"\n        />\n      </div>\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model.number=\"value.pool.quantity\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.quantity.label')\"\n          :disabled=\"busy\"\n          type=\"number\"\n          min=\"0\"\n          :required=\"true\"\n        />\n      </div>\n      <div class=\"col span-4 pt-5\">\n        <h3>\n          {{ t('cluster.machinePool.role.label') }}\n        </h3>\n        <Checkbox\n          v-model=\"value.pool.etcdRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.etcd')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.controlPlaneRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.controlPlane')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.workerRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.worker')\"\n          :disabled=\"busy\"\n        />\n      </div>\n    </div>\n    <hr class=\"mt-10\">\n    <component\n      :is=\"configComponent\"\n      v-if=\"value.config && configComponent\"\n      ref=\"configComponent\"\n      :cluster=\"cluster\"\n      :uuid=\"uuid\"\n      :mode=\"mode\"\n      :value=\"value.config\"\n      :provider=\"provider\"\n      :credential-id=\"credentialId\"\n      :pool-index=\"idx\"\n      :pool-id=\"poolId\"\n      :pool-create-mode=\"value.create\"\n      :machine-pools=\"machinePools\"\n      :busy=\"busy\"\n      @error=\"emitError\"\n      @updateMachineCount=\"updateMachineCount\"\n      @expandAdvanced=\"expandAdvanced\"\n      @validationChanged=\"validationChanged\"\n    />\n    <Banner\n      v-else-if=\"value.configMissing\"\n      color=\"error\"\n      label-key=\"cluster.machinePool.configNotFound\"\n    />\n    <Banner\n      v-else\n      color=\"info\"\n      label-key=\"cluster.machinePool.noAccessBanner\"\n    />\n\n    <AdvancedSection\n      ref=\"advanced\"\n      :mode=\"mode\"\n      class=\"advanced\"\n    >\n      <portal-target\n        :name=\"'advanced-' + uuid\"\n        multiple\n      />\n\n      <div class=\"spacer\" />\n      <div class=\"row\">\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.autoReplace.label') }}\n            <i\n              v-clean-tooltip=\"t('cluster.machinePool.autoReplace.toolTip')\"\n              class=\"icon icon-info icon-lg\"\n            />\n          </h3>\n          <UnitInput\n            v-model.number=\"unhealthyNodeTimeoutInteger\"\n            :hide-arrows=\"true\"\n            :placeholder=\"t('containerResourceLimit.cpuPlaceholder')\"\n            :mode=\"mode\"\n            :output-modifier=\"true\"\n            :base-unit=\"t('cluster.machinePool.autoReplace.unit')\"\n            :disabled=\"busy\"\n            @input=\"value.pool.unhealthyNodeTimeout = `${unhealthyNodeTimeoutInteger}s`\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.drain.header') }}\n          </h3>\n          <Checkbox\n            v-model=\"value.pool.drainBeforeDelete\"\n            :mode=\"mode\"\n            :label=\"t('cluster.machinePool.drain.label')\"\n            :disabled=\"busy\"\n          />\n        </div>\n      </div>\n      <div class=\"spacer\" />\n      <KeyValue\n        v-model=\"value.pool.labels\"\n        :add-label=\"t('labels.addLabel')\"\n        :disabled=\"busy\"\n        :mode=\"mode\"\n        :title=\"t('cluster.machinePool.labels.label')\"\n        :read-allowed=\"false\"\n        :value-can-be-empty=\"true\"\n      />\n\n      <div class=\"spacer\" />\n\n      <Taints\n        v-model=\"value.pool.taints\"\n        :mode=\"mode\"\n        :disabled=\"busy\"\n      />\n\n      <portal-target\n        :name=\"'advanced-footer-' + uuid\"\n        multiple\n      />\n    </AdvancedSection>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .advanced ::v-deep >.vue-portal-target:empty,\n  .advanced ::v-deep >.vue-portal-target:empty + .spacer {\n    display: none;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}