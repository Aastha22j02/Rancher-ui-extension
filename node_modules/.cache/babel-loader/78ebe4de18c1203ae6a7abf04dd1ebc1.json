{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/gc/gc-interval.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/gc/gc-interval.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgZ2MgZnJvbSAnLi9nYyc7Ci8qKgogKiBLaWNrIG9mIHJlZ3VsYXIgR0MKICovCnZhciBHYXJiYWdlQ29sbGVjdEludGVydmFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBHYXJiYWdlQ29sbGVjdEludGVydmFsKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdhcmJhZ2VDb2xsZWN0SW50ZXJ2YWwpOwogIH0KICByZXR1cm4gX2NyZWF0ZUNsYXNzKEdhcmJhZ2VDb2xsZWN0SW50ZXJ2YWwsIFt7CiAgICBrZXk6ICJnY1N0YXJ0SW50ZXJ2YWxzIiwKICAgIHZhbHVlOgogICAgLyoqCiAgICAqIFJlcXVlc3Qgd2Ugc3RhcnQgZ2FyYmFnZSBjb2xsZWN0aW9uIGF0IHJlZ3VsYXIgaW50ZXJ2YWxzCiAgICAqCiAgICAqIElmIEdDIGlzIGRpc2FibGVkIG9yIHJ1bm5pbmcgcmV0dXJuIGVhcmx5CiAgICAqLwogICAgZnVuY3Rpb24gZ2NTdGFydEludGVydmFscyhjdHgpIHsKICAgICAgdmFyIF9nYyRnY0VuYWJsZWRJbnRlcnZhbCA9IGdjLmdjRW5hYmxlZEludGVydmFsKGN0eCksCiAgICAgICAgZW5hYmxlZCA9IF9nYyRnY0VuYWJsZWRJbnRlcnZhbC5lbmFibGVkLAogICAgICAgIGludGVydmFsID0gX2djJGdjRW5hYmxlZEludGVydmFsLmludGVydmFsOwogICAgICBpZiAoIWdjLmdjRW5hYmxlZFNldHRpbmcoY3R4KSB8fCAhZW5hYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5nY0ludGVydmFsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuZ2NJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBjdHguZGlzcGF0Y2goJ2dhcmJhZ2VDb2xsZWN0Jyk7IC8vIGdjLmdhcmJhZ2VDb2xsZWN0IGlzIHBlciBzdG9yZSwgc28gZGlzcGF0Y2ggdmlhIGNlbnRyYWwgcG9pbnQKICAgICAgfSwgaW50ZXJ2YWwgKiAxMDAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnY1N0b3BJbnRlcnZhbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdjU3RvcEludGVydmFscygpIHsKICAgICAgaWYgKHRoaXMuZ2NJbnRlcnZhbCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nY0ludGVydmFsKTsKICAgICAgICBkZWxldGUgdGhpcy5nY0ludGVydmFsOwogICAgICB9CiAgICB9CiAgfV0pOwp9KCk7CnZhciBnY2kgPSBuZXcgR2FyYmFnZUNvbGxlY3RJbnRlcnZhbCgpOwpleHBvcnQgZGVmYXVsdCBnY2k7"},{"version":3,"names":["gc","GarbageCollectInterval","_classCallCheck","_createClass","key","value","gcStartIntervals","ctx","_gc$gcEnabledInterval","gcEnabledInterval","enabled","interval","gcEnabledSetting","gcInterval","setInterval","dispatch","gcStopIntervals","clearInterval","gci"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/gc/gc-interval.ts"],"sourcesContent":["import gc from './gc';\n\n/**\n * Kick of regular GC\n */\nclass GarbageCollectInterval {\n  private gcInterval?: NodeJS.Timer;\n\n  /**\n  * Request we start garbage collection at regular intervals\n  *\n  * If GC is disabled or running return early\n  */\n  gcStartIntervals(ctx: any) {\n    const { enabled, interval } = gc.gcEnabledInterval(ctx);\n\n    if (!gc.gcEnabledSetting(ctx) || !enabled) {\n      return;\n    }\n\n    if (this.gcInterval) {\n      return;\n    }\n\n    this.gcInterval = setInterval(() => {\n      ctx.dispatch('garbageCollect'); // gc.garbageCollect is per store, so dispatch via central point\n    }, interval * 1000);\n  }\n\n  gcStopIntervals() {\n    if (this.gcInterval) {\n      clearInterval(this.gcInterval);\n      delete this.gcInterval;\n    }\n  }\n}\n\nconst gci = new GarbageCollectInterval();\n\nexport default gci;\n"],"mappings":";;AAAA,OAAOA,EAAE,MAAM,MAAM;AAErB;;;AAAA,IAGMC,sBAAsB;EAAA,SAAAA,uBAAA;IAAAC,eAAA,OAAAD,sBAAA;EAAA;EAAA,OAAAE,YAAA,CAAAF,sBAAA;IAAAG,GAAA;IAAAC,KAAA;IAG1B;;;;;IAKA,SAAAC,iBAAiBC,GAAQ;MACvB,IAAAC,qBAAA,GAA8BR,EAAE,CAACS,iBAAiB,CAACF,GAAG,CAAC;QAA/CG,OAAO,GAAAF,qBAAA,CAAPE,OAAO;QAAEC,QAAQ,GAAAH,qBAAA,CAARG,QAAQ;MAEzB,IAAI,CAACX,EAAE,CAACY,gBAAgB,CAACL,GAAG,CAAC,IAAI,CAACG,OAAO,EAAE;QACzC;;MAGF,IAAI,IAAI,CAACG,UAAU,EAAE;QACnB;;MAGF,IAAI,CAACA,UAAU,GAAGC,WAAW,CAAC,YAAK;QACjCP,GAAG,CAACQ,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC;MAClC,CAAC,EAAEJ,QAAQ,GAAG,IAAI,CAAC;IACrB;EAAC;IAAAP,GAAA;IAAAC,KAAA,EAED,SAAAW,gBAAA,EAAe;MACb,IAAI,IAAI,CAACH,UAAU,EAAE;QACnBI,aAAa,CAAC,IAAI,CAACJ,UAAU,CAAC;QAC9B,OAAO,IAAI,CAACA,UAAU;;IAE1B;EAAC;AAAA;AAGH,IAAMK,GAAG,GAAG,IAAIjB,sBAAsB,EAAE;AAExC,eAAeiB,GAAG","ignoreList":[]}]}