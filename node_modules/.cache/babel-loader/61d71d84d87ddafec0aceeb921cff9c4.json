{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHsgTkFNRSwgQ0hBUlRfTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9nYXRla2VlcGVyJzsKaW1wb3J0IEluc3RhbGxSZWRpcmVjdCBmcm9tICdAc2hlbGwvdXRpbHMvaW5zdGFsbC1yZWRpcmVjdCc7CmltcG9ydCBDaGFydEhlYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ2hhcnRIZWFkaW5nJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IENPTlNUUkFJTlRfVklPTEFUSU9OX0NPTlNUUkFJTlRfTElOSywgQ09OU1RSQUlOVF9WSU9MQVRJT05fQ09VTlQsIENPTlNUUkFJTlRfVklPTEFUSU9OX1RFTVBMQVRFX0xJTksgfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgeyBHQVRFS0VFUEVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCB2YXIgT1BBX0dBVEVfS0VFUEVSX0lEID0gJ2NsdXN0ZXIvcmFuY2hlci1jaGFydHMvcmFuY2hlci1nYXRla2VlcGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0SGVhZGluZzogQ2hhcnRIZWFkaW5nLAogICAgU29ydGFibGVUYWJsZTogU29ydGFibGVUYWJsZSwKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICBtaWRkbGV3YXJlOiBJbnN0YWxsUmVkaXJlY3QoTkFNRSwgQ0hBUlRfTkFNRSksCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29uc3RyYWludHM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIV90aGlzLmNvbnN0cmFpbnQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC50MCA9IFtfdGhpcy5jb25zdHJhaW50XTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5UCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgIF90aGlzLnZpb2xhdGlvbnMgPSBjb25zdHJhaW50cy5tYXAoZnVuY3Rpb24gKGNvbnN0cmFpbnQsIGkpIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgaWQ6IGksCiAgICAgICAgICAgICAgICBjb25zdHJhaW50TGluazogewogICAgICAgICAgICAgICAgICB0ZXh0OiBjb25zdHJhaW50Lm5hbWVEaXNwbGF5LAogICAgICAgICAgICAgICAgICB0bzogY29uc3RyYWludC5kZXRhaWxMb2NhdGlvbgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRlbXBsYXRlTGluazogewogICAgICAgICAgICAgICAgICB0ZXh0OiBjb25zdHJhaW50LmtpbmQsCiAgICAgICAgICAgICAgICAgIHRvOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLWlkJywKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiAndGVtcGxhdGVzLmdhdGVrZWVwZXIuc2guY29uc3RyYWludHRlbXBsYXRlJywKICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb25zdHJhaW50LmtpbmQudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdnYXRla2VlcGVyJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvdW50OiBjb25zdHJhaW50LnRvdGFsVmlvbGF0aW9ucwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKGN0eCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyczogW0NPTlNUUkFJTlRfVklPTEFUSU9OX0NPTlNUUkFJTlRfTElOSywgQ09OU1RSQUlOVF9WSU9MQVRJT05fVEVNUExBVEVfTElOSywgQ09OU1RSQUlOVF9WSU9MQVRJT05fQ09VTlRdLAogICAgICB2aW9sYXRpb25zOiBbXQogICAgfTsKICB9Cn07"},{"version":3,"names":["NAME","CHART_NAME","InstallRedirect","ChartHeading","SortableTable","Banner","CONSTRAINT_VIOLATION_CONSTRAINT_LINK","CONSTRAINT_VIOLATION_COUNT","CONSTRAINT_VIOLATION_TEMPLATE_LINK","GATEKEEPER","OPA_GATE_KEEPER_ID","components","middleware","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","constraints","wrap","_callee$","_context","prev","next","constraint","t0","$store","dispatch","type","SPOOFED","CONSTRAINT","sent","violations","map","i","id","constraintLink","text","nameDisplay","to","detailLocation","templateLink","kind","name","params","resource","toLowerCase","product","count","totalViolations","stop","data","ctx","headers"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue"],"sourcesContent":["<script>\nimport { NAME, CHART_NAME } from '@shell/config/product/gatekeeper';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport ChartHeading from '@shell/components/ChartHeading';\nimport SortableTable from '@shell/components/SortableTable';\nimport { Banner } from '@components/Banner';\nimport { CONSTRAINT_VIOLATION_CONSTRAINT_LINK, CONSTRAINT_VIOLATION_COUNT, CONSTRAINT_VIOLATION_TEMPLATE_LINK } from '@shell/config/table-headers';\nimport { GATEKEEPER } from '@shell/config/types';\n\nexport const OPA_GATE_KEEPER_ID = 'cluster/rancher-charts/rancher-gatekeeper';\n\nexport default {\n  components: {\n    ChartHeading, SortableTable, Banner\n  },\n  middleware: InstallRedirect(NAME, CHART_NAME),\n  async fetch() {\n    const constraints = this.constraint ? [this.constraint] : await this.$store.dispatch('cluster/findAll', { type: GATEKEEPER.SPOOFED.CONSTRAINT });\n\n    this.violations = constraints\n      .map((constraint, i) => ({\n        id:             i,\n        constraintLink: {\n          text: constraint.nameDisplay,\n          to:   constraint.detailLocation\n        },\n        templateLink: {\n          text: constraint.kind,\n          to:   {\n            name:   'c-cluster-product-resource-id',\n            params: {\n              resource: 'templates.gatekeeper.sh.constrainttemplate', id: constraint.kind.toLowerCase(), product: 'gatekeeper'\n            }\n          }\n        },\n        count: constraint.totalViolations\n      }));\n  },\n  data(ctx) {\n    return {\n      headers: [\n        CONSTRAINT_VIOLATION_CONSTRAINT_LINK,\n        CONSTRAINT_VIOLATION_TEMPLATE_LINK,\n        CONSTRAINT_VIOLATION_COUNT\n      ],\n      violations: []\n    };\n  }\n};\n</script>\n\n<template>\n  <div>\n    <ChartHeading\n      :label=\"t('gatekeeperIndex.poweredBy')\"\n      url=\"https://github.com/open-policy-agent/gatekeeper\"\n    />\n    <Banner color=\"warning\">\n      <span v-clean-html=\"t('gatekeeperIndex.deprecated', {}, true)\" />\n    </Banner>\n    <div class=\"spacer\" />\n    <div class=\"mb-10\">\n      <h2><t k=\"gatekeeperIndex.violations\" /></h2>\n    </div>\n    <div>\n      <SortableTable\n        :headers=\"headers\"\n        :rows=\"violations\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        :paging=\"true\"\n        :rows-per-page=\"10\"\n        key-field=\"id\"\n        group-by=\"templateLink.text\"\n      />\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;AACA,SAAAA,IAAA,EAAAC,UAAA;AACA,OAAAC,eAAA;AACA,OAAAC,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,MAAA;AACA,SAAAC,oCAAA,EAAAC,0BAAA,EAAAC,kCAAA;AACA,SAAAC,UAAA;AAEA,WAAAC,kBAAA;AAEA;EACAC,UAAA;IACAR,YAAA,EAAAA,YAAA;IAAAC,aAAA,EAAAA,aAAA;IAAAC,MAAA,EAAAA;EACA;EACAO,UAAA,EAAAV,eAAA,CAAAF,IAAA,EAAAC,UAAA;EACAY,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,WAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KACAV,KAAA,CAAAW,UAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAI,EAAA,IAAAZ,KAAA,CAAAW,UAAA;YAAAH,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAAAV,KAAA,CAAAa,MAAA,CAAAC,QAAA;cAAAC,IAAA,EAAApB,UAAA,CAAAqB,OAAA,CAAAC;YAAA;UAAA;YAAAT,QAAA,CAAAI,EAAA,GAAAJ,QAAA,CAAAU,IAAA;UAAA;YAAAb,WAAA,GAAAG,QAAA,CAAAI,EAAA;YAEAZ,KAAA,CAAAmB,UAAA,GAAAd,WAAA,CACAe,GAAA,WAAAT,UAAA,EAAAU,CAAA;cAAA;gBACAC,EAAA,EAAAD,CAAA;gBACAE,cAAA;kBACAC,IAAA,EAAAb,UAAA,CAAAc,WAAA;kBACAC,EAAA,EAAAf,UAAA,CAAAgB;gBACA;gBACAC,YAAA;kBACAJ,IAAA,EAAAb,UAAA,CAAAkB,IAAA;kBACAH,EAAA;oBACAI,IAAA;oBACAC,MAAA;sBACAC,QAAA;sBAAAV,EAAA,EAAAX,UAAA,CAAAkB,IAAA,CAAAI,WAAA;sBAAAC,OAAA;oBACA;kBACA;gBACA;gBACAC,KAAA,EAAAxB,UAAA,CAAAyB;cACA;YAAA;UAAA;UAAA;YAAA,OAAA5B,QAAA,CAAA6B,IAAA;QAAA;MAAA,GAAAjC,OAAA;IAAA;EACA;EACAkC,IAAA,WAAAA,KAAAC,GAAA;IACA;MACAC,OAAA,GACAhD,oCAAA,EACAE,kCAAA,EACAD,0BAAA,CACA;MACA0B,UAAA;IACA;EACA;AACA","ignoreList":[]}]}