{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Basics.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Basics.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuICJPYmplY3QiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gdCB8fCAiU2V0IiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiAiQXJndW1lbnRzIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgZGlmZmVyZW5jZSBmcm9tICdsb2Rhc2gvZGlmZmVyZW5jZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICdAc2hlbGwvbWl4aW5zL2Zvcm0tdmFsaWRhdGlvbic7CmltcG9ydCB7IHNldCwgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBMRUdBQ1kgfSBmcm9tICdAc2hlbGwvc3RvcmUvZmVhdHVyZXMnOwppbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7CmltcG9ydCB7IF9FRElUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwp2YXIgSEFSVkVTVEVSID0gJ2hhcnZlc3Rlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXI6IEJhbm5lciwKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBZYW1sRWRpdG9yOiBZYW1sRWRpdG9yCiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0VmlldywgRm9ybVZhbGlkYXRpb25dLAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcHJvdmlkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNyZWRlbnRpYWw6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICB1c2VyQ2hhcnRWYWx1ZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNpc092ZXJyaWRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgYWxsUHNhczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBhZGRvblZlcnNpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBzZWxlY3RlZFZlcnNpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZlcnNpb25PcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlzSGFydmVzdGVyRHJpdmVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXNIYXJ2ZXN0ZXJJbmNvbXBhdGlibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzaG93RGVwcmVjYXRlZFBhdGNoVmVyc2lvbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpc0VsZW1lbnRhbENsdXN0ZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBoYXZlQXJnSW5mbzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNob3dDbmk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzaG93Q2xvdWRQcm92aWRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsb3VkUHJvdmlkZXJPcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNlbGVjdGVkVmVyc2lvbjogZnVuY3Rpb24gc2VsZWN0ZWRWZXJzaW9uKG5ldSwgb2xkKSB7CiAgICAgIGlmICgobmV1ID09PSBudWxsIHx8IG5ldSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV1LnZhbHVlKSAhPT0gKG9sZCA9PT0gbnVsbCB8fCBvbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9sZC52YWx1ZSkgJiYgdGhpcy5jaWxpdW1JcHY2KSB7CiAgICAgICAgLy8gUmUtYXNzaWduIHNvIHRoYXQgdGhlIHNldHRlciB1cGRhdGVzIHRoZSBzdHJ1Y3R1cmUgZm9yIHRoZSBuZXcgazhzIHZlcnNpb24gaWYgbmVlZGVkCiAgICAgICAgdGhpcy5jaWxpdW1JcHY2ID0gISF0aGlzLmNpbGl1bUlwdjY7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgZmVhdHVyZXM6ICdmZWF0dXJlcy9nZXQnCiAgfSkpLCB7fSwgewogICAgc2VydmVyQ29uZmlnOiBmdW5jdGlvbiBzZXJ2ZXJDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnNwZWMucmtlQ29uZmlnLm1hY2hpbmVHbG9iYWxDb25maWc7CiAgICB9LAogICAgc2hvd0NuaU5vbmVCYW5uZXI6IGZ1bmN0aW9uIHNob3dDbmlOb25lQmFubmVyKCkgewogICAgICB2YXIgX3RoaXMkc2VydmVyQ29uZmlnOwogICAgICByZXR1cm4gKChfdGhpcyRzZXJ2ZXJDb25maWcgPSB0aGlzLnNlcnZlckNvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkc2VydmVyQ29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZXJ2ZXJDb25maWcuY25pKSA9PT0gJ25vbmUnOwogICAgfSwKICAgIHNob3dDaWxpdW1JcHY2Q29udHJvbHM6IGZ1bmN0aW9uIHNob3dDaWxpdW1JcHY2Q29udHJvbHMoKSB7CiAgICAgIHZhciBfdGhpcyRzZXJ2ZXJDb25maWcyLCBfdGhpcyRzZXJ2ZXJDb25maWczOwogICAgICByZXR1cm4gKChfdGhpcyRzZXJ2ZXJDb25maWcyID0gdGhpcy5zZXJ2ZXJDb25maWcpID09PSBudWxsIHx8IF90aGlzJHNlcnZlckNvbmZpZzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNlcnZlckNvbmZpZzIuY25pKSA9PT0gJ2NpbGl1bScgfHwgKChfdGhpcyRzZXJ2ZXJDb25maWczID0gdGhpcy5zZXJ2ZXJDb25maWcpID09PSBudWxsIHx8IF90aGlzJHNlcnZlckNvbmZpZzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNlcnZlckNvbmZpZzMuY25pKSA9PT0gJ211bHR1cyxjaWxpdW0nOwogICAgfSwKICAgIHNob3dOZXR3b3JrUG9saWN5V2FybmluZ0Jhbm5lcjogZnVuY3Rpb24gc2hvd05ldHdvcmtQb2xpY3lXYXJuaW5nQmFubmVyKCkgewogICAgICB2YXIgX3RoaXMkc2VydmVyQ29uZmlnNCwgX3RoaXMkdmFsdWU7CiAgICAgIHJldHVybiAoKF90aGlzJHNlcnZlckNvbmZpZzQgPSB0aGlzLnNlcnZlckNvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkc2VydmVyQ29uZmlnNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VydmVyQ29uZmlnNC5jbmkpID09PSAnY2lsaXVtJyAmJiAoKF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUgPSBfdGhpcyR2YWx1ZS5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUuZW5hYmxlTmV0d29ya1BvbGljeSk7CiAgICB9LAogICAgYWdlbnRDb25maWc6IGZ1bmN0aW9uIGFnZW50Q29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5hZ2VudENvbmZpZzsKICAgIH0sCiAgICBwcm9maWxlT3B0aW9uczogZnVuY3Rpb24gcHJvZmlsZU9wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyRhZ2VudEFyZ3M7CiAgICAgIHZhciBvdXQgPSAoKChfdGhpcyRhZ2VudEFyZ3MgPSB0aGlzLmFnZW50QXJncykgPT09IG51bGwgfHwgX3RoaXMkYWdlbnRBcmdzID09PSB2b2lkIDAgfHwgKF90aGlzJGFnZW50QXJncyA9IF90aGlzJGFnZW50QXJncy5wcm9maWxlKSA9PT0gbnVsbCB8fCBfdGhpcyRhZ2VudEFyZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFnZW50QXJncy5vcHRpb25zKSB8fCBbXSkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiB4LAogICAgICAgICAgdmFsdWU6IHgKICAgICAgICB9OwogICAgICB9KTsKICAgICAgb3V0LnVuc2hpZnQoewogICAgICAgIGxhYmVsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL3QnXSgnY2x1c3Rlci5ya2UyLmNpc1Byb2ZpbGUub3B0aW9uJyksCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIC8qKgogICAgICogQWxsb3cgdG8gZGlzcGxheSBvdmVycmlkZSBpZiBQU0EgaXMgbmVlZGVkIGFuZCBwcm9maWxlIGlzIHNldAogICAgICovCiAgICBoYXNDaXNPdmVycmlkZTogZnVuY3Rpb24gaGFzQ2lzT3ZlcnJpZGUoKSB7CiAgICAgIHZhciBfdGhpcyRzZXJ2ZXJDb25maWc1LCBfdGhpcyRhZ2VudENvbmZpZzsKICAgICAgcmV0dXJuICgoKF90aGlzJHNlcnZlckNvbmZpZzUgPSB0aGlzLnNlcnZlckNvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkc2VydmVyQ29uZmlnNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VydmVyQ29uZmlnNS5wcm9maWxlKSB8fCAoKF90aGlzJGFnZW50Q29uZmlnID0gdGhpcy5hZ2VudENvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkYWdlbnRDb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFnZW50Q29uZmlnLnByb2ZpbGUpKSAmJgogICAgICAvLyBBbHNvIGNoZWNrIG90aGVyIGNhc2VzIG9uIHdoZW4gdG8gZGlzcGxheSB0aGUgb3ZlcnJpZGUKICAgICAgdGhpcy5zaG93Q2lzUHJvZmlsZSAmJiB0aGlzLmlzQ2lzU3VwcG9ydGVkOwogICAgfSwKICAgIC8qKgogICAgICogRGlzYWJsZSBQU0EgaWYgQ0lTIGhhcmRlbmluZyBpcyBlbmFibGVkLCBleGNlcHQgb3ZlcnJpZGUKICAgICAqLwogICAgaXNQc2FEaXNhYmxlZDogZnVuY3Rpb24gaXNQc2FEaXNhYmxlZCgpIHsKICAgICAgdmFyIF90aGlzJGFnZW50Q29uZmlnMiwgX3RoaXMkc2VydmVyQ29uZmlnNjsKICAgICAgdmFyIGNpc1ZhbHVlID0gKChfdGhpcyRhZ2VudENvbmZpZzIgPSB0aGlzLmFnZW50Q29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyRhZ2VudENvbmZpZzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFnZW50Q29uZmlnMi5wcm9maWxlKSB8fCAoKF90aGlzJHNlcnZlckNvbmZpZzYgPSB0aGlzLnNlcnZlckNvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkc2VydmVyQ29uZmlnNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VydmVyQ29uZmlnNi5wcm9maWxlKTsKICAgICAgcmV0dXJuICEoIWNpc1ZhbHVlIHx8IHRoaXMuY2lzT3ZlcnJpZGUpICYmIHRoaXMuaXNDaXNTdXBwb3J0ZWQ7CiAgICB9LAogICAgLyoqCiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgbGFiZWwgZm9yIHRoZSBQU0EgdGVtcGxhdGUgb3B0aW9uCiAgICAgKi8KICAgIGRlZmF1bHRQc2FPcHRpb25MYWJlbDogZnVuY3Rpb24gZGVmYXVsdFBzYU9wdGlvbkxhYmVsKCkgewogICAgICB2YXIgb3B0aW9uQ2FzZSA9ICF0aGlzLnZhbHVlLmlzSzNzID8gJ2RlZmF1bHQnIDogJ25vbmUnOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi90J10oImNsdXN0ZXIucmtlMi5kZWZhdWx0UG9kU2VjdXJpdHlBZG1pc3Npb25Db25maWd1cmF0aW9uVGVtcGxhdGVOYW1lLm9wdGlvbi4iLmNvbmNhdChvcHRpb25DYXNlKSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBDb252ZXJ0IFBTQSB0ZW1wbGF0ZXMgaW50byBvcHRpb25zLCBzb3J0aW5nIGFuZCBmbGFnZ2luZyBpZiBhbnkgc2VsZWN0ZWQKICAgICAqLwogICAgcHNhT3B0aW9uczogZnVuY3Rpb24gcHNhT3B0aW9ucygpIHsKICAgICAgdmFyIG91dCA9IFt7CiAgICAgICAgbGFiZWw6IHRoaXMuZGVmYXVsdFBzYU9wdGlvbkxhYmVsLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9XTsKICAgICAgaWYgKHRoaXMuYWxsUHNhcykgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmFsbFBzYXMpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBwc2EgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgICAgIGxhYmVsOiBwc2EubmFtZURpc3BsYXksCiAgICAgICAgICAgICAgdmFsdWU6IHBzYS5pZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBjdXIgPSB0aGlzLnZhbHVlLnNwZWMuZGVmYXVsdFBvZFNlY3VyaXR5QWRtaXNzaW9uQ29uZmlndXJhdGlvblRlbXBsYXRlTmFtZTsKICAgICAgaWYgKGN1ciAmJiAhb3V0LmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC52YWx1ZSA9PT0gY3VyOwogICAgICB9KSkgewogICAgICAgIG91dC51bnNoaWZ0KHsKICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoY3VyLCAiIChDdXJyZW50KSIpLAogICAgICAgICAgdmFsdWU6IGN1cgogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgLyoqCiAgICAgKiBDaGVjayBpZiBjdXJyZW50IENJUyBwcm9maWxlIGlzIHJlcXVpcmVkIGFuZCBsaXN0ZWQgaW4gdGhlIG9wdGlvbnMKICAgICAqLwogICAgaXNDaXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uIGlzQ2lzU3VwcG9ydGVkKCkgewogICAgICB2YXIgX3RoaXMkc2VydmVyQ29uZmlnNywgX3RoaXMkYWdlbnRDb25maWczOwogICAgICB2YXIgY2lzUHJvZmlsZSA9ICgoX3RoaXMkc2VydmVyQ29uZmlnNyA9IHRoaXMuc2VydmVyQ29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyRzZXJ2ZXJDb25maWc3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZXJ2ZXJDb25maWc3LnByb2ZpbGUpIHx8ICgoX3RoaXMkYWdlbnRDb25maWczID0gdGhpcy5hZ2VudENvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkYWdlbnRDb25maWczID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhZ2VudENvbmZpZzMucHJvZmlsZSk7CiAgICAgIHJldHVybiAhY2lzUHJvZmlsZSB8fCB0aGlzLnByb2ZpbGVPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZTsKICAgICAgfSkuaW5jbHVkZXMoY2lzUHJvZmlsZSk7CiAgICB9LAogICAgZGlzYWJsZU9wdGlvbnM6IGZ1bmN0aW9uIGRpc2FibGVPcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gKHRoaXMuc2VydmVyQXJncy5kaXNhYmxlLm9wdGlvbnMgfHwgW10pLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL3dpdGhGYWxsYmFjayddKCJjbHVzdGVyLiIuY29uY2F0KF90aGlzLnZhbHVlLmlzSzNzID8gJ2szcycgOiAncmtlMicsICIuc3lzdGVtU2VydmljZS5cIiIpLmNvbmNhdCh2YWx1ZSwgIlwiIiksIG51bGwsIHZhbHVlLnJlcGxhY2UoL14ocmtlMnxyYW5jaGVyKS0vLCAnJykpLAogICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgc2VydmVyQXJnczogZnVuY3Rpb24gc2VydmVyQXJncygpIHsKICAgICAgdmFyIF90aGlzJHNlbGVjdGVkVmVyc2lvbjsKICAgICAgcmV0dXJuICgoX3RoaXMkc2VsZWN0ZWRWZXJzaW9uID0gdGhpcy5zZWxlY3RlZFZlcnNpb24pID09PSBudWxsIHx8IF90aGlzJHNlbGVjdGVkVmVyc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VsZWN0ZWRWZXJzaW9uLnNlcnZlckFyZ3MpIHx8IHt9OwogICAgfSwKICAgIGFnZW50QXJnczogZnVuY3Rpb24gYWdlbnRBcmdzKCkgewogICAgICB2YXIgX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMjsKICAgICAgcmV0dXJuICgoX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMiA9IHRoaXMuc2VsZWN0ZWRWZXJzaW9uKSA9PT0gbnVsbCB8fCBfdGhpcyRzZWxlY3RlZFZlcnNpb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZWxlY3RlZFZlcnNpb24yLmFnZW50QXJncykgfHwge307CiAgICB9LAogICAgLyoqCiAgICAgKiBUaGUgYWRkb25zIChrdWJlIGNoYXJ0cykgYXBwbGljYWJsZSBmb3IgdGhlIHNlbGVjdGVkIGt1YmUgdmVyc2lvbgogICAgICoKICAgICAqIHsgW2NoYXJ0TmFtZTpzdHJpbmddOiB7IHJlcG86IHN0cmluZywgdmVyc2lvbjogc3RyaW5nIH0gfQogICAgICovCiAgICBjaGFydFZlcnNpb25zOiBmdW5jdGlvbiBjaGFydFZlcnNpb25zKCkgewogICAgICB2YXIgX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMzsKICAgICAgcmV0dXJuICgoX3RoaXMkc2VsZWN0ZWRWZXJzaW9uMyA9IHRoaXMuc2VsZWN0ZWRWZXJzaW9uKSA9PT0gbnVsbCB8fCBfdGhpcyRzZWxlY3RlZFZlcnNpb24zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZWxlY3RlZFZlcnNpb24zLmNoYXJ0cykgfHwge307CiAgICB9LAogICAgc2hvd0Npc1Byb2ZpbGU6IGZ1bmN0aW9uIHNob3dDaXNQcm9maWxlKCkgewogICAgICB2YXIgX3RoaXMkc2VydmVyQXJncywgX3RoaXMkYWdlbnRBcmdzMjsKICAgICAgcmV0dXJuICh0aGlzLnByb3ZpZGVyID09PSAnY3VzdG9tJyB8fCB0aGlzLmlzRWxlbWVudGFsQ2x1c3RlcikgJiYgKCgoX3RoaXMkc2VydmVyQXJncyA9IHRoaXMuc2VydmVyQXJncykgPT09IG51bGwgfHwgX3RoaXMkc2VydmVyQXJncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc2VydmVyQXJncy5wcm9maWxlKSB8fCAoKF90aGlzJGFnZW50QXJnczIgPSB0aGlzLmFnZW50QXJncykgPT09IG51bGwgfHwgX3RoaXMkYWdlbnRBcmdzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWdlbnRBcmdzMi5wcm9maWxlKSk7CiAgICB9LAogICAgZW5hYmxlZFN5c3RlbVNlcnZpY2VzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHZhciBvdXQgPSBkaWZmZXJlbmNlKHRoaXMuc2VydmVyQXJncy5kaXNhYmxlLm9wdGlvbnMsIHRoaXMuc2VydmVyQ29uZmlnLmRpc2FibGUgfHwgW10pOwogICAgICAgIHJldHVybiBvdXQ7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ldSkgewogICAgICAgIHZhciBvdXQgPSBkaWZmZXJlbmNlKHRoaXMuc2VydmVyQXJncy5kaXNhYmxlLm9wdGlvbnMsIG5ldSk7CiAgICAgICAgdGhpcy4kZW1pdCgnZW5hYmxlZC1zeXN0ZW0tc2VydmljZXMtY2hhbmdlZCcsIG91dCk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93Q2xvdWRDb25maWdZYW1sOiBmdW5jdGlvbiBzaG93Q2xvdWRDb25maWdZYW1sKCkgewogICAgICB2YXIgX3RoaXMkYWdlbnRDb25maWc0OwogICAgICBpZiAoIXRoaXMuYWdlbnRBcmdzWydjbG91ZC1wcm92aWRlci1uYW1lJ10pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIG5hbWUgPSAoX3RoaXMkYWdlbnRDb25maWc0ID0gdGhpcy5hZ2VudENvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkYWdlbnRDb25maWc0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhZ2VudENvbmZpZzRbJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnXTsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgIGNhc2UgJ25vbmUnOgogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGNhc2UgJ2F3cyc6CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgY2FzZSAncmFuY2hlci12c3BoZXJlJzoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICBjYXNlIEhBUlZFU1RFUjoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBzaG93VnNwaGVyZU5vdGU6IGZ1bmN0aW9uIHNob3dWc3BoZXJlTm90ZSgpIHsKICAgICAgdmFyIF90aGlzJGFnZW50Q29uZmlnNTsKICAgICAgaWYgKCF0aGlzLmFnZW50QXJnc1snY2xvdWQtcHJvdmlkZXItbmFtZSddKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBuYW1lID0gKF90aGlzJGFnZW50Q29uZmlnNSA9IHRoaXMuYWdlbnRDb25maWcpID09PSBudWxsIHx8IF90aGlzJGFnZW50Q29uZmlnNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWdlbnRDb25maWc1WydjbG91ZC1wcm92aWRlci1uYW1lJ107CiAgICAgIHJldHVybiBuYW1lID09PSAncmFuY2hlci12c3BoZXJlJzsKICAgIH0sCiAgICBzaG93azhzMjFMZWdhY3lXYXJuaW5nOiBmdW5jdGlvbiBzaG93azhzMjFMZWdhY3lXYXJuaW5nKCkgewogICAgICB2YXIgaXNMZWdhY3lFbmFibGVkID0gdGhpcy5mZWF0dXJlcyhMRUdBQ1kpOwogICAgICBpZiAoIWlzTGVnYWN5RW5hYmxlZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2VsZWN0ZWRWZXJzaW9uID0gc2VtdmVyLmNvZXJjZSh0aGlzLnZhbHVlLnNwZWMua3ViZXJuZXRlc1ZlcnNpb24pOwogICAgICByZXR1cm4gc2VtdmVyLnNhdGlzZmllcyhzZWxlY3RlZFZlcnNpb24sICc+PTEuMjEuMCcpOwogICAgfSwKICAgIGNpbGl1bUlwdjY6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF9jaGFydCRjaWxpdW0sIF9jaGFydCRpcHY7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgICAgdmFyIGNuaSA9IHRoaXMuc2VydmVyQ29uZmlnLmNuaTsgLy8gZm9yY2UgdGhpcyBwcm9wZXJ0eSB0byByZWNhbGN1bGF0ZSBpZiBjbmkgd2FzIGNoYW5nZWQgYXdheSBmcm9tIGNpbGl1bSBhbmQgY2hhcnRWYWx1ZXNbJ3JrZS1jaWxpdW0nXSBkZWxldGVkCgogICAgICAgIHZhciBjaGFydCA9IHRoaXMudXNlckNoYXJ0VmFsdWVzW3RoaXMuY2hhcnRWZXJzaW9uS2V5KCdya2UyLWNpbGl1bScpXTsKICAgICAgICByZXR1cm4gKGNoYXJ0ID09PSBudWxsIHx8IGNoYXJ0ID09PSB2b2lkIDAgfHwgKF9jaGFydCRjaWxpdW0gPSBjaGFydC5jaWxpdW0pID09PSBudWxsIHx8IF9jaGFydCRjaWxpdW0gPT09IHZvaWQgMCB8fCAoX2NoYXJ0JGNpbGl1bSA9IF9jaGFydCRjaWxpdW0uaXB2NikgPT09IG51bGwgfHwgX2NoYXJ0JGNpbGl1bSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYXJ0JGNpbGl1bS5lbmFibGVkKSB8fCAoY2hhcnQgPT09IG51bGwgfHwgY2hhcnQgPT09IHZvaWQgMCB8fCAoX2NoYXJ0JGlwdiA9IGNoYXJ0LmlwdjYpID09PSBudWxsIHx8IF9jaGFydCRpcHYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFydCRpcHYuZW5hYmxlZCkgfHwgZmFsc2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ldSkgewogICAgICAgIHZhciBuYW1lID0gdGhpcy5jaGFydFZlcnNpb25LZXkoJ3JrZTItY2lsaXVtJyk7CiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudXNlckNoYXJ0VmFsdWVzW25hbWVdOwoKICAgICAgICAvLyBSS0UyIG9sZGVyIHRoYW4gMS4yMy41IHVzZXMgZGlmZmVyZW50IEhlbG0gY2hhcnQgdmFsdWVzIHN0cnVjdHVyZSAtIG5lZWQgdG8gdGFrZSB0aGF0IGludG8gYWNjb3VudAogICAgICAgIHZhciB2ZXJzaW9uID0gdGhpcy5zZWxlY3RlZFZlcnNpb24udmFsdWU7CiAgICAgICAgdmFyIGNpbGl1bVZhbHVlcyA9IHt9OwogICAgICAgIGlmIChzZW12ZXIuZ3QodmVyc2lvbiwgJzEuMjMuNScpKSB7CiAgICAgICAgICAvLyBOZXcgc3R5bGUKICAgICAgICAgIGNpbGl1bVZhbHVlcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzKSwge30sIHsKICAgICAgICAgICAgaXB2NjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMgPT09IG51bGwgfHwgdmFsdWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZXMuaXB2NiksIHt9LCB7CiAgICAgICAgICAgICAgZW5hYmxlZDogbmV1CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KTsKICAgICAgICAgIGRlbGV0ZSBjaWxpdW1WYWx1ZXMuY2lsaXVtOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3ZhbHVlcyRjaWxpdW07CiAgICAgICAgICAvLyBPbGQgc3R5bGUKICAgICAgICAgIGNpbGl1bVZhbHVlcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzKSwge30sIHsKICAgICAgICAgICAgY2lsaXVtOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZhbHVlcyA9PT0gbnVsbCB8fCB2YWx1ZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlcy5jaWxpdW0pLCB7fSwgewogICAgICAgICAgICAgIGlwdjY6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzID09PSBudWxsIHx8IHZhbHVlcyA9PT0gdm9pZCAwIHx8IChfdmFsdWVzJGNpbGl1bSA9IHZhbHVlcy5jaWxpdW0pID09PSBudWxsIHx8IF92YWx1ZXMkY2lsaXVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGNpbGl1bS5pcHY2KSwge30sIHsKICAgICAgICAgICAgICAgIGVuYWJsZWQ6IG5ldQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KTsKICAgICAgICAgIGRlbGV0ZSBjaWxpdW1WYWx1ZXMuaXB2NjsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdCgnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJywgY2lsaXVtVmFsdWVzKTsKICAgICAgfQogICAgfSwKICAgIGNpbGl1bUJhbmR3aWR0aE1hbmFnZXI6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzJHVzZXJDaGFydFZhbHVlczsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICB2YXIgY25pID0gdGhpcy5zZXJ2ZXJDb25maWcuY25pOyAvLyBmb3JjZSB0aGlzIHByb3BlcnR5IHRvIHJlY2FsY3VsYXRlIGlmIGNuaSB3YXMgY2hhbmdlZCBhd2F5IGZyb20gY2lsaXVtIGFuZCBjaGFydFZhbHVlc1sncmtlLWNpbGl1bSddIGRlbGV0ZWQKCiAgICAgICAgcmV0dXJuICgoX3RoaXMkdXNlckNoYXJ0VmFsdWVzID0gdGhpcy51c2VyQ2hhcnRWYWx1ZXNbdGhpcy5jaGFydFZlcnNpb25LZXkoJ3JrZTItY2lsaXVtJyldKSA9PT0gbnVsbCB8fCBfdGhpcyR1c2VyQ2hhcnRWYWx1ZXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkdXNlckNoYXJ0VmFsdWVzID0gX3RoaXMkdXNlckNoYXJ0VmFsdWVzLmJhbmR3aWR0aE1hbmFnZXIpID09PSBudWxsIHx8IF90aGlzJHVzZXJDaGFydFZhbHVlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdXNlckNoYXJ0VmFsdWVzLmVuYWJsZWQpIHx8IGZhbHNlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXUpIHsKICAgICAgICB2YXIgbmFtZSA9IHRoaXMuY2hhcnRWZXJzaW9uS2V5KCdya2UyLWNpbGl1bScpOwogICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnVzZXJDaGFydFZhbHVlc1tuYW1lXTsKICAgICAgICB2YXIgY2lsaXVtVmFsdWVzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMpLCB7fSwgewogICAgICAgICAgYmFuZHdpZHRoTWFuYWdlcjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMgPT09IG51bGwgfHwgdmFsdWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZXMuYmFuZHdpZHRoTWFuYWdlciksIHt9LCB7CiAgICAgICAgICAgIGVuYWJsZWQ6IG5ldQogICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRlbWl0KCdjaWxpdW0tdmFsdWVzLWNoYW5nZWQnLCBjaWxpdW1WYWx1ZXMpOwogICAgICB9CiAgICB9LAogICAgaXNFZGl0OiBmdW5jdGlvbiBpc0VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9FRElUOwogICAgfSwKICAgIGNhbk5vdEVkaXRDbG91ZFByb3ZpZGVyOiBmdW5jdGlvbiBjYW5Ob3RFZGl0Q2xvdWRQcm92aWRlcigpIHsKICAgICAgdmFyIGNhbk5vdEVkaXQgPSB0aGlzLmlzRWRpdDsKICAgICAgcmV0dXJuIGNhbk5vdEVkaXQ7CiAgICB9LAogICAgLyoqCiAgICAgKiBEaXNwbGF5IHdhcm5pbmcgYWJvdXQgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIG5lZWRlZCBmb3IgY2xvdWQgcHJvdmlkZXIgQW1hem9uIGlmIGt1YmUgPj0gMS4yNwogICAgICovCiAgICBzaG93Q2xvdWRQcm92aWRlckFtYXpvbkFkZGl0aW9uYWxDb25maWdXYXJuaW5nOiBmdW5jdGlvbiBzaG93Q2xvdWRQcm92aWRlckFtYXpvbkFkZGl0aW9uYWxDb25maWdXYXJuaW5nKCkgewogICAgICB2YXIgX3RoaXMkYWdlbnRDb25maWc2OwogICAgICByZXR1cm4gISFzZW12ZXIuZ3RlKHRoaXMudmFsdWUuc3BlYy5rdWJlcm5ldGVzVmVyc2lvbiwgJ3YxLjI3LjAnKSAmJiAoKF90aGlzJGFnZW50Q29uZmlnNiA9IHRoaXMuYWdlbnRDb25maWcpID09PSBudWxsIHx8IF90aGlzJGFnZW50Q29uZmlnNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWdlbnRDb25maWc2WydjbG91ZC1wcm92aWRlci1uYW1lJ10pID09PSAnYXdzJzsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzZXQ6IHNldCwKICAgIGNoYXJ0VmVyc2lvbktleTogZnVuY3Rpb24gY2hhcnRWZXJzaW9uS2V5KG5hbWUpIHsKICAgICAgdmFyIGFkZG9uVmVyc2lvbiA9IHRoaXMuYWRkb25WZXJzaW9ucy5maW5kKGZ1bmN0aW9uIChhdikgewogICAgICAgIHJldHVybiBhdi5uYW1lID09PSBuYW1lOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFkZG9uVmVyc2lvbiA/ICIiLmNvbmNhdChuYW1lLCAiLSIpLmNvbmNhdChhZGRvblZlcnNpb24udmVyc2lvbikgOiBuYW1lOwogICAgfSwKICAgIGdldDogZ2V0CiAgfQp9Ow=="},{"version":3,"names":["difference","mapGetters","CreateEditView","FormValidation","set","get","Banner","Checkbox","LabeledSelect","YamlEditor","LEGACY","semver","_EDIT","HARVESTER","components","mixins","props","mode","type","String","required","value","Object","provider","credential","default","userChartValues","cisOverride","Boolean","allPsas","Array","addonVersions","selectedVersion","versionOptions","isHarvesterDriver","isHarvesterIncompatible","showDeprecatedPatchVersions","isElementalCluster","haveArgInfo","showCni","showCloudProvider","cloudProviderOptions","watch","neu","old","ciliumIpv6","computed","_objectSpread","features","serverConfig","spec","rkeConfig","machineGlobalConfig","showCniNoneBanner","_this$serverConfig","cni","showCiliumIpv6Controls","_this$serverConfig2","_this$serverConfig3","showNetworkPolicyWarningBanner","_this$serverConfig4","_this$value","enableNetworkPolicy","agentConfig","profileOptions","_this$agentArgs","out","agentArgs","profile","options","map","x","label","unshift","$store","getters","hasCisOverride","_this$serverConfig5","_this$agentConfig","showCisProfile","isCisSupported","isPsaDisabled","_this$agentConfig2","_this$serverConfig6","cisValue","defaultPsaOptionLabel","optionCase","isK3s","concat","psaOptions","_iterator","_createForOfIteratorHelper","_step","s","n","done","psa","push","nameDisplay","id","err","e","f","cur","defaultPodSecurityAdmissionConfigurationTemplateName","find","_this$serverConfig7","_this$agentConfig3","cisProfile","option","includes","disableOptions","_this","serverArgs","disable","replace","_this$selectedVersion","_this$selectedVersion2","chartVersions","_this$selectedVersion3","charts","_this$serverArgs","_this$agentArgs2","enabledSystemServices","$emit","showCloudConfigYaml","_this$agentConfig4","name","showVsphereNote","_this$agentConfig5","showk8s21LegacyWarning","isLegacyEnabled","coerce","kubernetesVersion","satisfies","_chart$cilium","_chart$ipv","chart","chartVersionKey","cilium","ipv6","enabled","values","version","ciliumValues","gt","_values$cilium","ciliumBandwidthManager","_this$userChartValues","bandwidthManager","isEdit","canNotEditCloudProvider","canNotEdit","showCloudProviderAmazonAdditionalConfigWarning","_this$agentConfig6","gte","methods","addonVersion","av"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Basics.vue"],"sourcesContent":["<script>\nimport difference from 'lodash/difference';\nimport { mapGetters } from 'vuex';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\n\nimport { set, get } from '@shell/utils/object';\nimport { Banner } from '@components/Banner';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { LEGACY } from '@shell/store/features';\nimport semver from 'semver';\nimport { _EDIT } from '@shell/config/query-params';\n\nconst HARVESTER = 'harvester';\n\nexport default {\n  components: {\n    Banner,\n    Checkbox,\n    LabeledSelect,\n    YamlEditor,\n  },\n\n  mixins: [CreateEditView, FormValidation],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    credential: {\n      type:     Object,\n      default:  null,\n      required: false\n    },\n\n    userChartValues: {\n      type:     Object,\n      required: true\n    },\n    cisOverride: {\n      type:     Boolean,\n      required: true\n    },\n\n    allPsas: {\n      type:     Array,\n      required: true\n    },\n\n    addonVersions: {\n      type:     Array,\n      required: false,\n      default:  null\n    },\n\n    selectedVersion: {\n      type:     Object,\n      required: true\n    },\n    versionOptions: {\n      type:     Array,\n      required: true\n    },\n    isHarvesterDriver: {\n      type:     Boolean,\n      required: true\n    },\n    isHarvesterIncompatible: {\n      type:     Boolean,\n      required: true\n    },\n    showDeprecatedPatchVersions: {\n      type:     Boolean,\n      required: true\n    },\n    isElementalCluster: {\n      type:     Boolean,\n      required: true\n    },\n    haveArgInfo: {\n      type:     Boolean,\n      required: true\n    },\n    showCni: {\n      type:     Boolean,\n      required: true\n    },\n    showCloudProvider: {\n      type:     Boolean,\n      required: true\n    },\n    cloudProviderOptions: {\n      type:     Array,\n      required: true\n    }\n  },\n\n  watch: {\n    selectedVersion(neu, old) {\n      if (neu?.value !== old?.value && this.ciliumIpv6) {\n        // Re-assign so that the setter updates the structure for the new k8s version if needed\n        this.ciliumIpv6 = !!this.ciliumIpv6;\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters({ features: 'features/get' }),\n\n    serverConfig() {\n      return this.value.spec.rkeConfig.machineGlobalConfig;\n    },\n\n    showCniNoneBanner() {\n      return this.serverConfig?.cni === 'none';\n    },\n\n    showCiliumIpv6Controls() {\n      return this.serverConfig?.cni === 'cilium' || this.serverConfig?.cni === 'multus,cilium';\n    },\n\n    showNetworkPolicyWarningBanner() {\n      return this.serverConfig?.cni === 'cilium' && this.value?.spec?.enableNetworkPolicy;\n    },\n\n    agentConfig() {\n      return this.value.agentConfig;\n    },\n\n    profileOptions() {\n      const out = (this.agentArgs?.profile?.options || []).map((x) => {\n        return { label: x, value: x };\n      });\n\n      out.unshift({\n        label: this.$store.getters['i18n/t']('cluster.rke2.cisProfile.option'),\n        value: ''\n      });\n\n      return out;\n    },\n\n    /**\n     * Allow to display override if PSA is needed and profile is set\n     */\n    hasCisOverride() {\n      return (this.serverConfig?.profile || this.agentConfig?.profile) &&\n        // Also check other cases on when to display the override\n        this.showCisProfile && this.isCisSupported;\n    },\n\n    /**\n     * Disable PSA if CIS hardening is enabled, except override\n     */\n    isPsaDisabled() {\n      const cisValue = this.agentConfig?.profile || this.serverConfig?.profile;\n\n      return !(!cisValue || this.cisOverride) && this.isCisSupported;\n    },\n\n    /**\n     * Get the default label for the PSA template option\n     */\n    defaultPsaOptionLabel() {\n      const optionCase = !this.value.isK3s ? 'default' : 'none';\n\n      return this.$store.getters['i18n/t'](`cluster.rke2.defaultPodSecurityAdmissionConfigurationTemplateName.option.${ optionCase }`);\n    },\n\n    /**\n     * Convert PSA templates into options, sorting and flagging if any selected\n     */\n    psaOptions() {\n      const out = [{\n        label: this.defaultPsaOptionLabel,\n        value: ''\n      }];\n\n      if ( this.allPsas ) {\n        for ( const psa of this.allPsas ) {\n          out.push({\n            label: psa.nameDisplay,\n            value: psa.id,\n          });\n        }\n      }\n      const cur = this.value.spec.defaultPodSecurityAdmissionConfigurationTemplateName;\n\n      if ( cur && !out.find((x) => x.value === cur) ) {\n        out.unshift({ label: `${ cur } (Current)`, value: cur });\n      }\n\n      return out;\n    },\n\n    /**\n     * Check if current CIS profile is required and listed in the options\n     */\n    isCisSupported() {\n      const cisProfile = this.serverConfig?.profile || this.agentConfig?.profile;\n\n      return !cisProfile || this.profileOptions.map((option) => option.value).includes(cisProfile);\n    },\n\n    disableOptions() {\n      return (this.serverArgs.disable.options || []).map((value) => {\n        return {\n          label: this.$store.getters['i18n/withFallback'](`cluster.${ this.value.isK3s ? 'k3s' : 'rke2' }.systemService.\"${ value }\"`, null, value.replace(/^(rke2|rancher)-/, '')),\n          value,\n        };\n      });\n    },\n\n    serverArgs() {\n      return this.selectedVersion?.serverArgs || {};\n    },\n\n    agentArgs() {\n      return this.selectedVersion?.agentArgs || {};\n    },\n\n    /**\n     * The addons (kube charts) applicable for the selected kube version\n     *\n     * { [chartName:string]: { repo: string, version: string } }\n     */\n    chartVersions() {\n      return this.selectedVersion?.charts || {};\n    },\n\n    showCisProfile() {\n      return (this.provider === 'custom' || this.isElementalCluster) && ( this.serverArgs?.profile || this.agentArgs?.profile );\n    },\n\n    enabledSystemServices: {\n      get() {\n        const out = difference(this.serverArgs.disable.options, this.serverConfig.disable || []);\n\n        return out;\n      },\n\n      set(neu) {\n        const out = difference(this.serverArgs.disable.options, neu);\n\n        this.$emit('enabled-system-services-changed', out);\n      },\n    },\n\n    showCloudConfigYaml() {\n      if ( !this.agentArgs['cloud-provider-name'] ) {\n        return false;\n      }\n\n      const name = this.agentConfig?.['cloud-provider-name'];\n\n      if ( !name ) {\n        return false;\n      }\n\n      switch ( name ) {\n      case 'none': return false;\n      case 'aws': return false;\n      case 'rancher-vsphere': return false;\n      case HARVESTER: return false;\n      default: return true;\n      }\n    },\n\n    showVsphereNote() {\n      if ( !this.agentArgs['cloud-provider-name'] ) {\n        return false;\n      }\n\n      const name = this.agentConfig?.['cloud-provider-name'];\n\n      return name === 'rancher-vsphere';\n    },\n\n    showk8s21LegacyWarning() {\n      const isLegacyEnabled = this.features(LEGACY);\n\n      if (!isLegacyEnabled) {\n        return false;\n      }\n      const selectedVersion = semver.coerce(this.value.spec.kubernetesVersion);\n\n      return semver.satisfies(selectedVersion, '>=1.21.0');\n    },\n\n    ciliumIpv6: {\n      get() {\n        // eslint-disable-next-line no-unused-vars\n        const cni = this.serverConfig.cni; // force this property to recalculate if cni was changed away from cilium and chartValues['rke-cilium'] deleted\n\n        const chart = this.userChartValues[this.chartVersionKey('rke2-cilium')];\n\n        return chart?.cilium?.ipv6?.enabled || chart?.ipv6?.enabled || false;\n      },\n      set(neu) {\n        const name = this.chartVersionKey('rke2-cilium');\n        const values = this.userChartValues[name];\n\n        // RKE2 older than 1.23.5 uses different Helm chart values structure - need to take that into account\n        const version = this.selectedVersion.value;\n        let ciliumValues = {};\n\n        if (semver.gt(version, '1.23.5')) {\n          // New style\n          ciliumValues = {\n            ...values,\n            ipv6: {\n              ...values?.ipv6,\n              enabled: neu\n            }\n          };\n\n          delete ciliumValues.cilium;\n        } else {\n          // Old style\n          ciliumValues = {\n            ...values,\n            cilium: {\n              ...values?.cilium,\n              ipv6: {\n                ...values?.cilium?.ipv6,\n                enabled: neu\n              }\n            }\n          };\n\n          delete ciliumValues.ipv6;\n        }\n\n        this.$emit('cilium-values-changed', ciliumValues);\n      }\n    },\n\n    ciliumBandwidthManager: {\n      get() {\n        // eslint-disable-next-line no-unused-vars\n        const cni = this.serverConfig.cni; // force this property to recalculate if cni was changed away from cilium and chartValues['rke-cilium'] deleted\n\n        return this.userChartValues[this.chartVersionKey('rke2-cilium')]?.bandwidthManager?.enabled || false;\n      },\n      set(neu) {\n        const name = this.chartVersionKey('rke2-cilium');\n        const values = this.userChartValues[name];\n\n        const ciliumValues = {\n          ...values,\n          bandwidthManager: {\n            ...values?.bandwidthManager,\n            enabled: neu\n          }\n        };\n\n        this.$emit('cilium-values-changed', ciliumValues);\n      }\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    canNotEditCloudProvider() {\n      const canNotEdit = this.isEdit;\n\n      return canNotEdit;\n    },\n\n    /**\n     * Display warning about additional configuration needed for cloud provider Amazon if kube >= 1.27\n     */\n    showCloudProviderAmazonAdditionalConfigWarning() {\n      return !!semver.gte(this.value.spec.kubernetesVersion, 'v1.27.0') && this.agentConfig?.['cloud-provider-name'] === 'aws';\n    }\n  },\n\n  methods: {\n    set,\n\n    chartVersionKey(name) {\n      const addonVersion = this.addonVersions.find((av) => av.name === name);\n\n      return addonVersion ? `${ name }-${ addonVersion.version }` : name;\n    },\n    get,\n  },\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"!haveArgInfo\"\n      color=\"warning\"\n      :label=\"t('cluster.banner.haveArgInfo')\"\n    />\n    <Banner\n      v-if=\"showk8s21LegacyWarning\"\n      color=\"warning\"\n      :label=\"t('cluster.legacyWarning')\"\n    />\n    <Banner\n      v-if=\"isHarvesterDriver && isHarvesterIncompatible && showCloudProvider\"\n      color=\"warning\"\n    >\n      <span\n        v-clean-html=\"t('cluster.harvester.warning.cloudProvider.incompatible', null, true)\"\n      />\n    </Banner>\n    <Banner\n      v-if=\"showCloudProviderAmazonAdditionalConfigWarning\"\n      color=\"warning\"\n    >\n      <span v-clean-html=\"t('cluster.banner.cloudProviderAddConfig', {}, true)\" />\n    </Banner>\n    <Banner\n      v-if=\"showCniNoneBanner\"\n      color=\"warning\"\n      data-testid=\"clusterBasics__noneOptionSelectedForCni\"\n    >\n      <span v-clean-html=\"t('cluster.rke2.cni.cniNoneBanner', {}, true)\" />\n    </Banner>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"value.spec.kubernetesVersion\"\n          :mode=\"mode\"\n          :options=\"versionOptions\"\n          data-testid=\"clusterBasics__kubernetesVersions\"\n          label-key=\"cluster.kubernetesVersion.label\"\n          @input=\"$emit('kubernetes-changed', $event)\"\n        />\n        <Checkbox\n          :value=\"showDeprecatedPatchVersions\"\n          :label=\"t('cluster.kubernetesVersion.deprecatedPatches')\"\n          :tooltip=\"t('cluster.kubernetesVersion.deprecatedPatchWarning')\"\n          class=\"patch-version\"\n          @input=\"$emit('show-deprecated-patch-versions-changed', $event)\"\n        />\n      </div>\n      <div\n        v-if=\"showCloudProvider\"\n        class=\"col span-6\"\n      >\n        <LabeledSelect\n          v-if=\"agentConfig\"\n          v-model=\"agentConfig['cloud-provider-name']\"\n          :mode=\"mode\"\n          :disabled=\"canNotEditCloudProvider\"\n          :options=\"cloudProviderOptions\"\n          :label=\"t('cluster.rke2.cloudProvider.label')\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"showCni\"\n      :style=\"{'align-items':'center'}\"\n      class=\"row\"\n    >\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"serverConfig.cni\"\n          data-testid=\"cluster-rke2-cni-select\"\n          :mode=\"mode\"\n          :disabled=\"isEdit\"\n          :options=\"serverArgs.cni.options\"\n          :label=\"t('cluster.rke2.cni.label')\"\n        />\n      </div>\n      <div\n        v-if=\"showCiliumIpv6Controls\"\n        class=\"col\"\n      >\n        <Checkbox\n          v-model=\"ciliumIpv6\"\n          data-testid=\"cluster-rke2-cni-ipv6-checkbox\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.address.ipv6.enable')\"\n        />\n        <Checkbox\n          v-model=\"ciliumBandwidthManager\"\n          data-testid=\"cluster-rke2-cni-cilium-bandwidth-manager-checkbox\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.cni.cilium.BandwidthManager.enable')\"\n        />\n      </div>\n    </div>\n    <template v-if=\"showVsphereNote\">\n      <Banner\n        color=\"warning\"\n        label-key=\"cluster.cloudProvider.rancher-vsphere.note\"\n      />\n    </template>\n    <template v-else-if=\"showCloudConfigYaml\">\n      <div class=\"spacer\" />\n\n      <div class=\"col span-12\">\n        <h3>\n          {{ t('cluster.rke2.cloudProvider.header') }}\n        </h3>\n        <YamlEditor\n          v-if=\"agentConfig\"\n          ref=\"yaml\"\n          v-model=\"agentConfig['cloud-provider-config']\"\n          :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n          initial-yaml-values=\"# Cloud Provider Config\"\n          class=\"yaml-editor\"\n        />\n      </div>\n    </template>\n\n    <div class=\"spacer\" />\n\n    <h3>\n      {{ t('cluster.rke2.security.header') }}\n    </h3>\n\n    <Banner\n      v-if=\"showCisProfile && !isCisSupported && isEdit\"\n      color=\"info\"\n    >\n      <p v-clean-html=\"t('cluster.rke2.banner.cisUnsupported', {cisProfile: serverConfig.profile || agentConfig.profile}, true)\" />\n    </Banner>\n\n    <div class=\"row mb-10\">\n      <div\n        v-if=\"showCisProfile\"\n        class=\"col span-6\"\n      >\n        <LabeledSelect\n          v-if=\"serverArgs && serverArgs.profile && serverConfig\"\n          v-model=\"serverConfig.profile\"\n          :mode=\"mode\"\n          :options=\"profileOptions\"\n          :label=\"t('cluster.rke2.cis.sever')\"\n          @input=\"$emit('cis-changed')\"\n        />\n        <LabeledSelect\n          v-else-if=\"agentArgs && agentArgs.profile && agentConfig\"\n          v-model=\"agentConfig.profile\"\n          data-testid=\"rke2-custom-edit-cis-agent\"\n          :mode=\"mode\"\n          :options=\"profileOptions\"\n          :label=\"t('cluster.rke2.cis.agent')\"\n          @input=\"$emit('cis-changed')\"\n        />\n      </div>\n    </div>\n\n    <template v-if=\"hasCisOverride\">\n      <Checkbox\n        v-model=\"cisOverride\"\n        :mode=\"mode\"\n        :label=\"t('cluster.rke2.cis.override')\"\n        @input=\"$emit('psa-default-changed')\"\n      />\n\n      <Banner\n        v-if=\"cisOverride\"\n        color=\"warning\"\n        :label=\"t('cluster.rke2.banner.cisOverride')\"\n      />\n      <Banner\n        v-if=\"!cisOverride\"\n        color=\"info\"\n        :label=\"t('cluster.rke2.banner.psaChange')\"\n      />\n    </template>\n\n    <div\n      class=\"row mb-10 mt-10\"\n    >\n      <div class=\"col span-6\">\n        <!-- PSA template selector -->\n        <LabeledSelect\n          :key=\"defaultPsaOptionLabel\"\n          v-model=\"value.spec.defaultPodSecurityAdmissionConfigurationTemplateName\"\n          :mode=\"mode\"\n          data-testid=\"rke2-custom-edit-psa\"\n          :options=\"psaOptions\"\n          :disabled=\"isPsaDisabled\"\n          :label=\"t('cluster.rke2.defaultPodSecurityAdmissionConfigurationTemplateName.label')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col span-12 mt-20\">\n        <Checkbox\n          v-if=\"serverArgs['secrets-encryption']\"\n          v-model=\"serverConfig['secrets-encryption']\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.secretEncryption.label')\"\n        />\n        <Checkbox\n          v-model=\"value.spec.enableNetworkPolicy\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.enableNetworkPolicy.label')\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"showNetworkPolicyWarningBanner\"\n      class=\"row\"\n    >\n      <div class=\"col span-12\">\n        <Banner\n          color=\"info\"\n          :label=\"t('cluster.rke2.enableNetworkPolicy.warning')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"spacer\" />\n\n    <div\n      v-if=\"serverArgs.disable\"\n      class=\"row\"\n    >\n      <div class=\"col span-12\">\n        <div>\n          <h3>\n            {{ t('cluster.rke2.systemService.header') }}\n          </h3>\n        </div>\n        <Checkbox\n          v-for=\"opt in disableOptions\"\n          :key=\"opt.value\"\n          v-model=\"enabledSystemServices\"\n          :mode=\"mode\"\n          :label=\"opt.label\"\n          :value-when-true=\"opt.value\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .patch-version {\n    margin-top: 5px;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}