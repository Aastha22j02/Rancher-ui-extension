{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgU1VCVFlQRV9NQVBQSU5HLCBDUkVBVEVfVkVSQlMgfSBmcm9tICdAc2hlbGwvbW9kZWxzL21hbmFnZW1lbnQuY2F0dGxlLmlvLnJvbGV0ZW1wbGF0ZSc7CmltcG9ydCB7IE5BTUUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvYXV0aCc7CmltcG9ydCB7IEJMQU5LX0NMVVNURVIgfSBmcm9tICdAc2hlbGwvc3RvcmUvc3RvcmUtdHlwZXMuanMnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwp2YXIgR0xPQkFMID0gU1VCVFlQRV9NQVBQSU5HLkdMT0JBTC5rZXk7CnZhciBDTFVTVEVSID0gU1VCVFlQRV9NQVBQSU5HLkNMVVNURVIua2V5Owp2YXIgUFJPSkVDVCA9IFNVQlRZUEVfTUFQUElORy5OQU1FU1BBQ0Uua2V5Owp2YXIgY3JlYXRlR2xvYmFsUm9sZSA9IHsKICBuYW1lOiAiYy1jbHVzdGVyLSIuY29uY2F0KE5BTUUsICItcm9sZXMtcmVzb3VyY2UtY3JlYXRlIiksCiAgcGFyYW1zOiB7CiAgICBjbHVzdGVyOiBCTEFOS19DTFVTVEVSLAogICAgcmVzb3VyY2U6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEUKICB9Cn07CnZhciBjcmVhdGVSb2xlVGVtcGxhdGUgPSB7CiAgbmFtZTogImMtY2x1c3Rlci0iLmNvbmNhdChOQU1FLCAiLXJvbGVzLXJlc291cmNlLWNyZWF0ZSIpLAogIHBhcmFtczogewogICAgY2x1c3RlcjogQkxBTktfQ0xVU1RFUiwKICAgIHJlc291cmNlOiBNQU5BR0VNRU5ULlJPTEVfVEVNUExBVEUKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUm9sZXMnLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYjogVGFiLAogICAgVGFiYmVkOiBUYWJiZWQsCiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlLAogICAgTG9hZGluZzogTG9hZGluZywKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICBhc3luY0RhdGE6IGZ1bmN0aW9uIGFzeW5jRGF0YShfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0b3JlLCBnbG9iYWxSb2xlU2NoZW1hLCByb2xlVGVtcGxhdGVzU2NoZW1hOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RvcmUgPSBfcmVmLnN0b3JlOwogICAgICAgICAgICBnbG9iYWxSb2xlU2NoZW1hID0gc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9zY2hlbWFGb3IiXShNQU5BR0VNRU5ULkdMT0JBTF9ST0xFKTsKICAgICAgICAgICAgcm9sZVRlbXBsYXRlc1NjaGVtYSA9IHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvc2NoZW1hRm9yIl0oTUFOQUdFTUVOVC5ST0xFX1RFTVBMQVRFKTsKICAgICAgICAgICAgaWYgKCFnbG9iYWxSb2xlU2NoZW1hKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgibWFuYWdlbWVudC9maW5kQWxsIiwgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBbXTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgIGlmICghcm9sZVRlbXBsYXRlc1NjaGVtYSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgibWFuYWdlbWVudC9maW5kQWxsIiwgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuUk9MRV9URU1QTEFURQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIF9jb250ZXh0LnQyID0gW107CiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfY29udGV4dC50MyA9IF9jb250ZXh0LnQyOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgZ2xvYmFsUm9sZXM6IF9jb250ZXh0LnQxLAogICAgICAgICAgICAgIHJvbGVUZW1wbGF0ZXM6IF9jb250ZXh0LnQzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBnbG9iYWxSb2xlU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9zY2hlbWFGb3IiXShNQU5BR0VNRU5ULkdMT0JBTF9ST0xFKTsKICAgIHZhciByb2xlVGVtcGxhdGVzU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9zY2hlbWFGb3IiXShNQU5BR0VNRU5ULlJPTEVfVEVNUExBVEUpOwogICAgdmFyIHJvbGVUZW1wbGF0ZUhlYWRlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9oZWFkZXJzRm9yJ10ocm9sZVRlbXBsYXRlc1NjaGVtYSk7CiAgICB2YXIgZGVmYXVsdEhlYWRlckluZGV4ID0gcm9sZVRlbXBsYXRlSGVhZGVycy5maW5kSW5kZXgoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICByZXR1cm4gaGVhZGVyLm5hbWUgPT09ICdkZWZhdWx0JzsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgdGFiczogX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIEdMT0JBTCwgewogICAgICAgIGNhbkZldGNoOiBnbG9iYWxSb2xlU2NoZW1hID09PSBudWxsIHx8IGdsb2JhbFJvbGVTY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbFJvbGVTY2hlbWEuY29sbGVjdGlvbk1ldGhvZHMuZmluZChmdW5jdGlvbiAodmVyYikgewogICAgICAgICAgcmV0dXJuIHZlcmIgPT09ICdHRVQnOwogICAgICAgIH0pLAogICAgICAgIGNhbkNyZWF0ZTogZ2xvYmFsUm9sZVNjaGVtYSA9PT0gbnVsbCB8fCBnbG9iYWxSb2xlU2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWxSb2xlU2NoZW1hLnJlc291cmNlTWV0aG9kcy5maW5kKGZ1bmN0aW9uICh2ZXJiKSB7CiAgICAgICAgICByZXR1cm4gQ1JFQVRFX1ZFUkJTLmhhcyh2ZXJiKTsKICAgICAgICB9KSwKICAgICAgICB3ZWlnaHQ6IDMsCiAgICAgICAgbGFiZWxLZXk6IFNVQlRZUEVfTUFQUElORy5HTE9CQUwubGFiZWxLZXksCiAgICAgICAgc2NoZW1hOiBnbG9iYWxSb2xlU2NoZW1hLAogICAgICAgIGNyZWF0ZUxvY2F0aW9uOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNyZWF0ZUdsb2JhbFJvbGUpLCB7fSwgewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgcm9sZUNvbnRleHQ6IEdMT0JBTAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLCBDTFVTVEVSLCB7CiAgICAgICAgY2FuRmV0Y2g6IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IG51bGwgfHwgcm9sZVRlbXBsYXRlc1NjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm9sZVRlbXBsYXRlc1NjaGVtYS5jb2xsZWN0aW9uTWV0aG9kcy5maW5kKGZ1bmN0aW9uICh2ZXJiKSB7CiAgICAgICAgICByZXR1cm4gdmVyYiA9PT0gJ0dFVCc7CiAgICAgICAgfSksCiAgICAgICAgY2FuQ3JlYXRlOiByb2xlVGVtcGxhdGVzU2NoZW1hID09PSBudWxsIHx8IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvbGVUZW1wbGF0ZXNTY2hlbWEucmVzb3VyY2VNZXRob2RzLmZpbmQoZnVuY3Rpb24gKHZlcmIpIHsKICAgICAgICAgIHJldHVybiBDUkVBVEVfVkVSQlMuaGFzKHZlcmIpOwogICAgICAgIH0pLAogICAgICAgIGxhYmVsS2V5OiBTVUJUWVBFX01BUFBJTkcuQ0xVU1RFUi5sYWJlbEtleSwKICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgc2NoZW1hOiByb2xlVGVtcGxhdGVzU2NoZW1hLAogICAgICAgIGhlYWRlcnM6IHRoaXMuYXBwbHlEZWZhdWx0SGVhZGVyTGFiZWwocm9sZVRlbXBsYXRlSGVhZGVycywgZGVmYXVsdEhlYWRlckluZGV4LCAndGFibGVIZWFkZXJzLmF1dGhSb2xlcy5jbHVzdGVyRGVmYXVsdCcpLAogICAgICAgIGNyZWF0ZUxvY2F0aW9uOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNyZWF0ZVJvbGVUZW1wbGF0ZSksIHt9LCB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICByb2xlQ29udGV4dDogQ0xVU1RFUgogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLCBQUk9KRUNULCB7CiAgICAgICAgY2FuRmV0Y2g6IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IG51bGwgfHwgcm9sZVRlbXBsYXRlc1NjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm9sZVRlbXBsYXRlc1NjaGVtYS5jb2xsZWN0aW9uTWV0aG9kcy5maW5kKGZ1bmN0aW9uICh2ZXJiKSB7CiAgICAgICAgICByZXR1cm4gdmVyYiA9PT0gJ0dFVCc7CiAgICAgICAgfSksCiAgICAgICAgY2FuQ3JlYXRlOiByb2xlVGVtcGxhdGVzU2NoZW1hID09PSBudWxsIHx8IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvbGVUZW1wbGF0ZXNTY2hlbWEucmVzb3VyY2VNZXRob2RzLmZpbmQoZnVuY3Rpb24gKHZlcmIpIHsKICAgICAgICAgIHJldHVybiBDUkVBVEVfVkVSQlMuaGFzKHZlcmIpOwogICAgICAgIH0pLAogICAgICAgIGxhYmVsS2V5OiBTVUJUWVBFX01BUFBJTkcuTkFNRVNQQUNFLmxhYmVsS2V5LAogICAgICAgIHdlaWdodDogMSwKICAgICAgICBzY2hlbWE6IHJvbGVUZW1wbGF0ZXNTY2hlbWEsCiAgICAgICAgaGVhZGVyczogdGhpcy5hcHBseURlZmF1bHRIZWFkZXJMYWJlbChyb2xlVGVtcGxhdGVIZWFkZXJzLCBkZWZhdWx0SGVhZGVySW5kZXgsICd0YWJsZUhlYWRlcnMuYXV0aFJvbGVzLnByb2plY3REZWZhdWx0JyksCiAgICAgICAgY3JlYXRlTG9jYXRpb246IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY3JlYXRlUm9sZVRlbXBsYXRlKSwge30sIHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHJvbGVDb250ZXh0OiBQUk9KRUNUCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSksCiAgICAgIEdMT0JBTDogR0xPQkFMLAogICAgICBDTFVTVEVSOiBDTFVTVEVSLAogICAgICBQUk9KRUNUOiBQUk9KRUNULAogICAgICBnbG9iYWxSb2xlczogbnVsbCwKICAgICAgcm9sZVRlbXBsYXRlczogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydyZWxlYXNlTm90ZXNVcmwnXSkpLCB7fSwgewogICAgZ2xvYmFsUmVzb3VyY2VzOiBmdW5jdGlvbiBnbG9iYWxSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmdsb2JhbFJvbGVzOwogICAgfSwKICAgIGNsdXN0ZXJSZXNvdXJjZXM6IGZ1bmN0aW9uIGNsdXN0ZXJSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGVUZW1wbGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIuY29udGV4dCA9PT0gU1VCVFlQRV9NQVBQSU5HLkNMVVNURVIuY29udGV4dDsKICAgICAgfSk7CiAgICB9LAogICAgbmFtZXNwYWNlUmVzb3VyY2VzOiBmdW5jdGlvbiBuYW1lc3BhY2VSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGVUZW1wbGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIuY29udGV4dCA9PT0gU1VCVFlQRV9NQVBQSU5HLk5BTUVTUEFDRS5jb250ZXh0OwogICAgICB9KTsKICAgIH0sCiAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKCkgewogICAgICBpZiAodGhpcy4kcm91dGUuaGFzaC5lbmRzV2l0aChQUk9KRUNUKSkgewogICAgICAgIHJldHVybiBQUk9KRUNUOwogICAgICB9CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5oYXNoLmVuZHNXaXRoKENMVVNURVIpKSB7CiAgICAgICAgcmV0dXJuIENMVVNURVI7CiAgICAgIH0KICAgICAgcmV0dXJuIEdMT0JBTDsKICAgIH0sCiAgICBjYW5DcmVhdGU6IGZ1bmN0aW9uIGNhbkNyZWF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGFic1t0aGlzLnR5cGVdLmNhbkNyZWF0ZTsKICAgIH0sCiAgICBjcmVhdGVMYWJlbDogZnVuY3Rpb24gY3JlYXRlTGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnQoInJiYWMucm9sZXRlbXBsYXRlLnN1YnR5cGVzLiIuY29uY2F0KHRoaXMudHlwZSwgIi5jcmVhdGVCdXR0b24iKSk7CiAgICB9LAogICAgY3JlYXRlTG9jYXRpb246IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy50YWJzW3RoaXMudHlwZV0uY3JlYXRlTG9jYXRpb247CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgYXBwbHlEZWZhdWx0SGVhZGVyTGFiZWw6IGZ1bmN0aW9uIGFwcGx5RGVmYXVsdEhlYWRlckxhYmVsKHJvbGVUZW1wbGF0ZUhlYWRlcnMsIGRlZmF1bHRIZWFkZXJJbmRleCwgbGFiZWxLZXkpIHsKICAgICAgdmFyIGhlYWRlcnMgPSBfdG9Db25zdW1hYmxlQXJyYXkocm9sZVRlbXBsYXRlSGVhZGVycyk7CiAgICAgIGhlYWRlcnNbZGVmYXVsdEhlYWRlckluZGV4XSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm9sZVRlbXBsYXRlSGVhZGVyc1tkZWZhdWx0SGVhZGVySW5kZXhdKSwge30sIHsKICAgICAgICBsYWJlbEtleTogbGFiZWxLZXkKICAgICAgfSk7CiAgICAgIHJldHVybiBoZWFkZXJzOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","Tab","Tabbed","MANAGEMENT","ResourceTable","Loading","SUBTYPE_MAPPING","CREATE_VERBS","NAME","BLANK_CLUSTER","Banner","GLOBAL","key","CLUSTER","PROJECT","NAMESPACE","createGlobalRole","name","concat","params","cluster","resource","GLOBAL_ROLE","createRoleTemplate","ROLE_TEMPLATE","components","asyncData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","globalRoleSchema","roleTemplatesSchema","wrap","_callee$","_context","prev","next","getters","dispatch","type","t0","sent","t1","t2","t3","abrupt","globalRoles","roleTemplates","stop","data","$store","roleTemplateHeaders","defaultHeaderIndex","findIndex","header","tabs","_defineProperty","canFetch","collectionMethods","find","verb","canCreate","resourceMethods","has","weight","labelKey","schema","createLocation","_objectSpread","query","roleContext","headers","applyDefaultHeaderLabel","computed","globalResources","clusterResources","filter","r","context","namespaceResources","$route","hash","endsWith","createLabel","t","methods","_toConsumableArray"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { MANAGEMENT } from '@shell/config/types';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport { SUBTYPE_MAPPING, CREATE_VERBS } from '@shell/models/management.cattle.io.roletemplate';\nimport { NAME } from '@shell/config/product/auth';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\nimport { Banner } from '@components/Banner';\n\nconst GLOBAL = SUBTYPE_MAPPING.GLOBAL.key;\nconst CLUSTER = SUBTYPE_MAPPING.CLUSTER.key;\nconst PROJECT = SUBTYPE_MAPPING.NAMESPACE.key;\n\nconst createGlobalRole = {\n  name:   `c-cluster-${ NAME }-roles-resource-create`,\n  params: {\n    cluster:  BLANK_CLUSTER,\n    resource: MANAGEMENT.GLOBAL_ROLE,\n  }\n};\nconst createRoleTemplate = {\n  name:   `c-cluster-${ NAME }-roles-resource-create`,\n  params: {\n    cluster:  BLANK_CLUSTER,\n    resource: MANAGEMENT.ROLE_TEMPLATE,\n  }\n};\n\nexport default {\n  name: 'Roles',\n\n  components: {\n    Tab, Tabbed, ResourceTable, Loading, Banner\n  },\n\n  async asyncData({ store }) {\n    const globalRoleSchema = store.getters[`management/schemaFor`](MANAGEMENT.GLOBAL_ROLE);\n    const roleTemplatesSchema = store.getters[`management/schemaFor`](MANAGEMENT.ROLE_TEMPLATE);\n\n    return {\n      globalRoles:   globalRoleSchema ? await store.dispatch(`management/findAll`, { type: MANAGEMENT.GLOBAL_ROLE }) : [],\n      roleTemplates: roleTemplatesSchema ? await store.dispatch(`management/findAll`, { type: MANAGEMENT.ROLE_TEMPLATE }) : [],\n    };\n  },\n\n  data() {\n    const globalRoleSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.GLOBAL_ROLE);\n    const roleTemplatesSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.ROLE_TEMPLATE);\n\n    const roleTemplateHeaders = this.$store.getters['type-map/headersFor'](roleTemplatesSchema);\n    const defaultHeaderIndex = roleTemplateHeaders.findIndex((header) => header.name === 'default');\n\n    return {\n      tabs: {\n        [GLOBAL]: {\n          canFetch:       globalRoleSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      globalRoleSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          weight:         3,\n          labelKey:       SUBTYPE_MAPPING.GLOBAL.labelKey,\n          schema:         globalRoleSchema,\n          createLocation: {\n            ...createGlobalRole,\n            query: { roleContext: GLOBAL }\n          },\n        },\n        [CLUSTER]: {\n          canFetch:       roleTemplatesSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      roleTemplatesSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          labelKey:       SUBTYPE_MAPPING.CLUSTER.labelKey,\n          weight:         2,\n          schema:         roleTemplatesSchema,\n          headers:        this.applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, 'tableHeaders.authRoles.clusterDefault'),\n          createLocation: {\n            ...createRoleTemplate,\n            query: { roleContext: CLUSTER }\n          },\n        },\n        [PROJECT]: {\n          canFetch:       roleTemplatesSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      roleTemplatesSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          labelKey:       SUBTYPE_MAPPING.NAMESPACE.labelKey,\n          weight:         1,\n          schema:         roleTemplatesSchema,\n          headers:        this.applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, 'tableHeaders.authRoles.projectDefault'),\n          createLocation: {\n            ...createRoleTemplate,\n            query: { roleContext: PROJECT }\n          },\n        },\n      },\n\n      GLOBAL,\n      CLUSTER,\n      PROJECT,\n\n      globalRoles:   null,\n      roleTemplates: null,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['releaseNotesUrl']),\n\n    globalResources() {\n      return this.globalRoles;\n    },\n\n    clusterResources() {\n      return this.roleTemplates.filter((r) => r.context === SUBTYPE_MAPPING.CLUSTER.context);\n    },\n\n    namespaceResources() {\n      return this.roleTemplates.filter((r) => r.context === SUBTYPE_MAPPING.NAMESPACE.context);\n    },\n\n    type() {\n      if (this.$route.hash.endsWith(PROJECT)) {\n        return PROJECT;\n      }\n      if (this.$route.hash.endsWith(CLUSTER)) {\n        return CLUSTER;\n      }\n\n      return GLOBAL;\n    },\n\n    canCreate() {\n      return this.tabs[this.type].canCreate;\n    },\n\n    createLabel() {\n      return this.t(`rbac.roletemplate.subtypes.${ this.type }.createButton`);\n    },\n\n    createLocation() {\n      return this.tabs[this.type].createLocation;\n    }\n\n  },\n\n  methods: {\n    applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, labelKey) {\n      const headers = [...roleTemplateHeaders];\n\n      headers[defaultHeaderIndex] = {\n        ...roleTemplateHeaders[defaultHeaderIndex],\n        labelKey,\n      };\n\n      return headers;\n    }\n  }\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"!globalRoles || !roleTemplates\" />\n  <div v-else>\n    <header>\n      <div class=\"title\">\n        <h1 class=\"m-0\">\n          {{ t('auth.roleTemplate') }}\n        </h1>\n      </div>\n      <div class=\"actions-container\">\n        <div class=\"actions\">\n          <n-link\n            v-if=\"canCreate\"\n            :to=\"createLocation\"\n            class=\"btn role-primary\"\n          >\n            {{ createLabel }}\n          </n-link>\n        </div>\n      </div>\n    </header>\n    <Tabbed>\n      <Tab\n        v-if=\"tabs[GLOBAL].canFetch\"\n        :name=\"GLOBAL\"\n        :weight=\"tabs[GLOBAL].weight\"\n        :label-key=\"tabs[GLOBAL].labelKey\"\n      >\n        <Banner\n          color=\"warning\"\n          class=\"mb-20\"\n        >\n          <span v-clean-html=\"t('rbac.globalRoles.role.restricted-admin.deprecation', { releaseNotesUrl }, true)\" />\n        </Banner>\n        <ResourceTable\n          :schema=\"tabs[GLOBAL].schema\"\n          :rows=\"globalResources\"\n        />\n      </Tab>\n\n      <Tab\n        v-if=\"tabs[CLUSTER].canFetch\"\n        :name=\"CLUSTER\"\n        :weight=\"tabs[CLUSTER].weight\"\n        :label-key=\"tabs[CLUSTER].labelKey\"\n      >\n        <ResourceTable\n          :schema=\"tabs[CLUSTER].schema\"\n          :headers=\"tabs[CLUSTER].headers\"\n          :rows=\"clusterResources\"\n        />\n      </Tab>\n\n      <Tab\n        v-if=\"tabs[PROJECT].canFetch\"\n        :name=\"PROJECT\"\n        :weight=\"tabs[PROJECT].weight\"\n        :label-key=\"tabs[PROJECT].labelKey\"\n      >\n        <ResourceTable\n          :schema=\"tabs[PROJECT].schema\"\n          :headers=\"tabs[PROJECT].headers\"\n          :rows=\"namespaceResources\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]}]}