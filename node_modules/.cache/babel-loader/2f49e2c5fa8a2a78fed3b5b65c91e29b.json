{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/WorkloadDetailEndpoints.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/WorkloadDetailEndpoints.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IE5PREUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFRhZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFtBcnJheSwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgVGFnOiBUYWcKICB9LAogIGNvbXB1dGVkOiB7CiAgICBub2RlczogZnVuY3Rpb24gbm9kZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2FsbCddKE5PREUpOwogICAgfSwKICAgIC8vIHZhbHVlIG1heSBiZSBKU09OIGZyb20gImZpZWxkLmNhdHRsZS5pby9wdWJsaWNFbmRwb2ludHMiIGxhYmVsCiAgICBwYXJzZWQ6IGZ1bmN0aW9uIHBhcnNlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlczsKICAgICAgdmFyIG5vZGVXaXRoRXh0ZXJuYWwgPSBub2Rlcy5maW5kKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgcmV0dXJuICEhbm9kZS5leHRlcm5hbElwOwogICAgICB9KSB8fCB7fTsKICAgICAgdmFyIGV4dGVybmFsSXAgPSBub2RlV2l0aEV4dGVybmFsLmV4dGVybmFsSXA7CiAgICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdmFyIG91dDsKICAgICAgICB0cnkgewogICAgICAgICAgb3V0ID0gSlNPTi5wYXJzZSh0aGlzLnZhbHVlKTsKICAgICAgICAgIG91dC5mb3JFYWNoKGZ1bmN0aW9uIChlbmRwb2ludCkgewogICAgICAgICAgICB2YXIgcHJvdG9jb2wgPSAnaHR0cCc7CiAgICAgICAgICAgIGlmIChlbmRwb2ludC5wb3J0ID09PSA0NDMpIHsKICAgICAgICAgICAgICBwcm90b2NvbCA9ICdodHRwcyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGxpbmtEZWZhdWx0RGlzcGxheSA9IGVuZHBvaW50LnBvcnQgPyAiIi5jb25jYXQoZW5kcG9pbnQucG9ydCwgIi8iKS5jb25jYXQoZW5kcG9pbnQucHJvdG9jb2wpIDogZW5kcG9pbnQucHJvdG9jb2w7CgogICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGluZ3Jlc3MgYW5kIGl0IGhhcyBhIGhvc3RuYW1lLCB3ZSB1c2UgdGhlIGhvc3RuYW1lIGFkZHJlc3MgaW5zdGVhZAogICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvaXNzdWVzLzgwODcKICAgICAgICAgICAgaWYgKGVuZHBvaW50LmluZ3Jlc3NOYW1lICYmIGVuZHBvaW50Lmhvc3RuYW1lKSB7CiAgICAgICAgICAgICAgZW5kcG9pbnQubGluayA9ICIiLmNvbmNhdChwcm90b2NvbCwgIjovLyIpLmNvbmNhdChlbmRwb2ludC5ob3N0bmFtZSkuY29uY2F0KGVuZHBvaW50LnBhdGgpOwogICAgICAgICAgICAgIGVuZHBvaW50LmxpbmtEaXNwbGF5ID0gZW5kcG9pbnQubGluazsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRwb2ludC5hZGRyZXNzZXMgJiYgZW5kcG9pbnQuYWRkcmVzc2VzLmxlbmd0aCkgewogICAgICAgICAgICAgIGVuZHBvaW50LmxpbmsgPSAiIi5jb25jYXQocHJvdG9jb2wsICI6Ly8iKS5jb25jYXQoZW5kcG9pbnQuYWRkcmVzc2VzWzBdLCAiOiIpLmNvbmNhdChlbmRwb2ludC5wb3J0KTsKICAgICAgICAgICAgICBlbmRwb2ludC5saW5rRGlzcGxheSA9IGxpbmtEZWZhdWx0RGlzcGxheTsKICAgICAgICAgICAgfSBlbHNlIGlmIChleHRlcm5hbElwKSB7CiAgICAgICAgICAgICAgZW5kcG9pbnQubGluayA9ICIiLmNvbmNhdChwcm90b2NvbCwgIjovLyIpLmNvbmNhdChleHRlcm5hbElwLCAiOiIpLmNvbmNhdChlbmRwb2ludC5wb3J0KTsKICAgICAgICAgICAgICBlbmRwb2ludC5saW5rRGlzcGxheSA9IGxpbmtEZWZhdWx0RGlzcGxheTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBlbmRwb2ludC5kaXNwbGF5ID0gIlsiLmNvbmNhdChfdGhpcy50KCdzZXJ2aWNlc1BhZ2UuYW55Tm9kZScpLCAiXToiKS5jb25jYXQoZW5kcG9pbnQucG9ydCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIG91dDsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlWzBdOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"names":["NODE","Tag","props","value","type","Array","String","default","components","computed","nodes","$store","getters","parsed","_this","nodeWithExternal","find","node","externalIp","length","out","JSON","parse","forEach","endpoint","protocol","port","linkDefaultDisplay","concat","ingressName","hostname","link","path","linkDisplay","addresses","display","t","err"],"sources":["node_modules/@rancher/shell/components/formatter/WorkloadDetailEndpoints.vue"],"sourcesContent":["<script>\nimport { NODE } from '@shell/config/types';\nimport Tag from '@shell/components/Tag';\n\nexport default {\n  props: {\n    value: {\n      type:    [Array, String],\n      default: null,\n    },\n  },\n\n  components: { Tag },\n\n  computed: {\n    nodes() {\n      return this.$store.getters['cluster/all'](NODE);\n    },\n    // value may be JSON from \"field.cattle.io/publicEndpoints\" label\n    parsed() {\n      const nodes = this.nodes;\n      const nodeWithExternal = nodes.find((node) => !!node.externalIp) || {};\n      const externalIp = nodeWithExternal.externalIp;\n\n      if ( this.value && this.value.length ) {\n        let out ;\n\n        try {\n          out = JSON.parse(this.value);\n\n          out.forEach((endpoint) => {\n            let protocol = 'http';\n\n            if (endpoint.port === 443) {\n              protocol = 'https';\n            }\n\n            const linkDefaultDisplay = endpoint.port ? `${ endpoint.port }/${ endpoint.protocol }` : endpoint.protocol;\n\n            // If there's an ingress and it has a hostname, we use the hostname address instead\n            // https://github.com/rancher/dashboard/issues/8087\n            if (endpoint.ingressName && endpoint.hostname) {\n              endpoint.link = `${ protocol }://${ endpoint.hostname }${ endpoint.path }`;\n              endpoint.linkDisplay = endpoint.link;\n            } else if (endpoint.addresses && endpoint.addresses.length) {\n              endpoint.link = `${ protocol }://${ endpoint.addresses[0] }:${ endpoint.port }`;\n              endpoint.linkDisplay = linkDefaultDisplay;\n            } else if (externalIp) {\n              endpoint.link = `${ protocol }://${ externalIp }:${ endpoint.port }`;\n              endpoint.linkDisplay = linkDefaultDisplay;\n            } else {\n              endpoint.display = `[${ this.t('servicesPage.anyNode') }]:${ endpoint.port }`;\n            }\n          });\n\n          return out;\n        } catch (err) {\n          return this.value[0];\n        }\n      }\n\n      return null;\n    }\n  },\n};\n</script>\n\n<template>\n  <span>\n    <template v-for=\"endpoint in parsed\">\n      <Tag\n        v-if=\"endpoint.display\"\n        :key=\"endpoint.display\"\n        class=\"endpoint-tag\"\n      >{{ endpoint.display }}</Tag>\n      <a\n        v-else\n        :key=\"endpoint.link\"\n        class=\"endpoint-link\"\n        :href=\"endpoint.link\"\n        target=\"_blank\"\n        rel=\"nofollow noopener noreferrer\"\n      >{{ endpoint.linkDisplay }}</a>\n    </template>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.endpoint-tag {\n  display: inline-block;\n}\n.endpoint-tag:not(:first-of-type) {\n  margin: 2px 4px 0 2px;\n}\n.endpoint-link:after {\n  content: ',\\a0';\n  display: inline-block;\n  color: var(--default-text);\n}\n.endpoint-link:last-of-type:after {\n  content: '';\n}\n\n</style>\n"],"mappings":";;;;;;AACA,SAAAA,IAAA;AACA,OAAAC,GAAA;AAEA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,GAAAC,KAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAC,UAAA;IAAAP,GAAA,EAAAA;EAAA;EAEAQ,QAAA;IACAC,KAAA,WAAAA,MAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,gBAAAZ,IAAA;IACA;IACA;IACAa,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,IAAAJ,KAAA,QAAAA,KAAA;MACA,IAAAK,gBAAA,GAAAL,KAAA,CAAAM,IAAA,WAAAC,IAAA;QAAA,SAAAA,IAAA,CAAAC,UAAA;MAAA;MACA,IAAAA,UAAA,GAAAH,gBAAA,CAAAG,UAAA;MAEA,SAAAf,KAAA,SAAAA,KAAA,CAAAgB,MAAA;QACA,IAAAC,GAAA;QAEA;UACAA,GAAA,GAAAC,IAAA,CAAAC,KAAA,MAAAnB,KAAA;UAEAiB,GAAA,CAAAG,OAAA,WAAAC,QAAA;YACA,IAAAC,QAAA;YAEA,IAAAD,QAAA,CAAAE,IAAA;cACAD,QAAA;YACA;YAEA,IAAAE,kBAAA,GAAAH,QAAA,CAAAE,IAAA,MAAAE,MAAA,CAAAJ,QAAA,CAAAE,IAAA,OAAAE,MAAA,CAAAJ,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA;;YAEA;YACA;YACA,IAAAD,QAAA,CAAAK,WAAA,IAAAL,QAAA,CAAAM,QAAA;cACAN,QAAA,CAAAO,IAAA,MAAAH,MAAA,CAAAH,QAAA,SAAAG,MAAA,CAAAJ,QAAA,CAAAM,QAAA,EAAAF,MAAA,CAAAJ,QAAA,CAAAQ,IAAA;cACAR,QAAA,CAAAS,WAAA,GAAAT,QAAA,CAAAO,IAAA;YACA,WAAAP,QAAA,CAAAU,SAAA,IAAAV,QAAA,CAAAU,SAAA,CAAAf,MAAA;cACAK,QAAA,CAAAO,IAAA,MAAAH,MAAA,CAAAH,QAAA,SAAAG,MAAA,CAAAJ,QAAA,CAAAU,SAAA,UAAAN,MAAA,CAAAJ,QAAA,CAAAE,IAAA;cACAF,QAAA,CAAAS,WAAA,GAAAN,kBAAA;YACA,WAAAT,UAAA;cACAM,QAAA,CAAAO,IAAA,MAAAH,MAAA,CAAAH,QAAA,SAAAG,MAAA,CAAAV,UAAA,OAAAU,MAAA,CAAAJ,QAAA,CAAAE,IAAA;cACAF,QAAA,CAAAS,WAAA,GAAAN,kBAAA;YACA;cACAH,QAAA,CAAAW,OAAA,OAAAP,MAAA,CAAAd,KAAA,CAAAsB,CAAA,gCAAAR,MAAA,CAAAJ,QAAA,CAAAE,IAAA;YACA;UACA;UAEA,OAAAN,GAAA;QACA,SAAAiB,GAAA;UACA,YAAAlC,KAAA;QACA;MACA;MAEA;IACA;EACA;AACA","ignoreList":[]}]}