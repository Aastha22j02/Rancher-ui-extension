{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/networking.k8s.io.ingress.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/networking.k8s.io.ingress.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IFNFQ1JFVCwgU0VSVklDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IFJ1bGVzIGZyb20gJ0BzaGVsbC9lZGl0L25ldHdvcmtpbmcuazhzLmlvLmluZ3Jlc3MvUnVsZXMnOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IHsgU0VDUkVUX1RZUEVTIGFzIFRZUEVTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZWNyZXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NSVUluZ3Jlc3MnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlc291cmNlVGFiczogUmVzb3VyY2VUYWJzLAogICAgUnVsZXM6IFJ1bGVzLAogICAgVGFiOiBUYWIKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBoYXNoOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKHsKICAgICAgICAgICAgICBzZWNyZXRzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNFQ1JFVAogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHNlcnZpY2VzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNFUlZJQ0UKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaGFzaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmFsbFNlcnZpY2VzID0gaGFzaC5zZXJ2aWNlczsKICAgICAgICAgICAgX3RoaXMuYWxsU2VjcmV0cyA9IGhhc2guc2VjcmV0czsKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbFNlY3JldHM6IFtdLAogICAgICBhbGxTZXJ2aWNlczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2VydmljZVRhcmdldHM6IGZ1bmN0aW9uIHNlcnZpY2VUYXJnZXRzKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJCeUN1cnJlbnRSZXNvdXJjZU5hbWVzcGFjZSh0aGlzLmFsbFNlcnZpY2VzKS5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsKICAgICAgICB2YXIgX3NlcnZpY2Ukc3BlYyRwb3J0czsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHNlcnZpY2UubWV0YWRhdGEubmFtZSwKICAgICAgICAgIHZhbHVlOiBzZXJ2aWNlLm1ldGFkYXRhLm5hbWUsCiAgICAgICAgICBwb3J0czogKF9zZXJ2aWNlJHNwZWMkcG9ydHMgPSBzZXJ2aWNlLnNwZWMucG9ydHMpID09PSBudWxsIHx8IF9zZXJ2aWNlJHNwZWMkcG9ydHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZXJ2aWNlJHNwZWMkcG9ydHMubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHVybiBwLnBvcnQ7CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGZpcnN0VGFiTGFiZWw6IGZ1bmN0aW9uIGZpcnN0VGFiTGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzVmlldyA/IHRoaXMudCgnaW5ncmVzcy5ydWxlc0FuZENlcnRpZmljYXRlcy50aXRsZScpIDogdGhpcy50KCdpbmdyZXNzLnJ1bGVzLnRpdGxlJyk7CiAgICB9LAogICAgY2VydGlmaWNhdGVzOiBmdW5jdGlvbiBjZXJ0aWZpY2F0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlckJ5Q3VycmVudFJlc291cmNlTmFtZXNwYWNlKHRoaXMuYWxsU2VjcmV0cy5maWx0ZXIoZnVuY3Rpb24gKHNlY3JldCkgewogICAgICAgIHJldHVybiBzZWNyZXQuX3R5cGUgPT09IFRZUEVTLlRMUzsKICAgICAgfSkpLm1hcChmdW5jdGlvbiAoc2VjcmV0KSB7CiAgICAgICAgdmFyIGlkID0gc2VjcmV0LmlkOwogICAgICAgIHJldHVybiBpZC5zbGljZShpZC5pbmRleE9mKCcvJykgKyAxKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJCeUN1cnJlbnRSZXNvdXJjZU5hbWVzcGFjZTogZnVuY3Rpb24gZmlsdGVyQnlDdXJyZW50UmVzb3VyY2VOYW1lc3BhY2UocmVzb3VyY2VzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gcmVzb3VyY2VzLmZpbHRlcihmdW5jdGlvbiAocmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gcmVzb3VyY2UubWV0YWRhdGEubmFtZXNwYWNlID09PSBfdGhpczIudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["allHash","SECRET","SERVICE","CreateEditView","Rules","ResourceTabs","Tab","SECRET_TYPES","TYPES","name","components","mixins","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","secrets","$store","dispatch","type","services","sent","allServices","allSecrets","stop","data","computed","serviceTargets","filterByCurrentResourceNamespace","map","service","_service$spec$ports","label","metadata","value","ports","spec","p","port","firstTabLabel","isView","t","certificates","filter","secret","_type","TLS","id","slice","indexOf","methods","resources","_this2","resource","namespace"],"sources":["node_modules/@rancher/shell/detail/networking.k8s.io.ingress.vue"],"sourcesContent":["<script>\r\nimport { allHash } from '@shell/utils/promise';\r\nimport { SECRET, SERVICE } from '@shell/config/types';\r\nimport CreateEditView from '@shell/mixins/create-edit-view';\r\nimport Rules from '@shell/edit/networking.k8s.io.ingress/Rules';\r\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\r\nimport Tab from '@shell/components/Tabbed/Tab';\r\nimport { SECRET_TYPES as TYPES } from '@shell/config/secret';\r\n\r\nexport default {\r\n  name:       'CRUIngress',\r\n  components: {\r\n    ResourceTabs,\r\n    Rules,\r\n    Tab\r\n  },\r\n  mixins: [CreateEditView],\r\n  async fetch() {\r\n    const hash = await allHash({\r\n      secrets:  this.$store.dispatch('cluster/findAll', { type: SECRET }),\r\n      services: this.$store.dispatch('cluster/findAll', { type: SERVICE }),\r\n    });\r\n\r\n    this.allServices = hash.services;\r\n    this.allSecrets = hash.secrets;\r\n  },\r\n  data() {\r\n    return { allSecrets: [], allServices: [] };\r\n  },\r\n  computed: {\r\n    serviceTargets() {\r\n      return this.filterByCurrentResourceNamespace(this.allServices)\r\n        .map((service) => ({\r\n          label: service.metadata.name,\r\n          value: service.metadata.name,\r\n          ports: service.spec.ports?.map((p) => p.port)\r\n        }));\r\n    },\r\n    firstTabLabel() {\r\n      return this.isView ? this.t('ingress.rulesAndCertificates.title') : this.t('ingress.rules.title');\r\n    },\r\n    certificates() {\r\n      return this.filterByCurrentResourceNamespace(this.allSecrets.filter((secret) => secret._type === TYPES.TLS)).map((secret) => {\r\n        const { id } = secret;\r\n\r\n        return id.slice(id.indexOf('/') + 1);\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    filterByCurrentResourceNamespace(resources) {\r\n      return resources.filter((resource) => {\r\n        return resource.metadata.namespace === this.value.metadata.namespace;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<template>\r\n  <ResourceTabs\n    v-model=\"value\"\n    mode=\"view\"\n    class=\"mt-20\"\n  >\r\n    <Tab\n      :label=\"t('ingress.rules.title')\"\n      name=\"rules\"\n      :weight=\"1\"\n    >\r\n      <Rules\n        v-model=\"value\"\n        :mode=\"mode\"\n        :service-targets=\"serviceTargets\"\n        :certificates=\"certificates\"\n      />\r\n    </Tab>\r\n  </ResourceTabs>\r\n</template>\r\n"],"mappings":";;;;;;;;AACA,SAAAA,OAAA;AACA,SAAAC,MAAA,EAAAC,OAAA;AACA,OAAAC,cAAA;AACA,OAAAC,KAAA;AACA,OAAAC,YAAA;AACA,OAAAC,GAAA;AACA,SAAAC,YAAA,IAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAL,YAAA,EAAAA,YAAA;IACAD,KAAA,EAAAA,KAAA;IACAE,GAAA,EAAAA;EACA;EACAK,MAAA,GAAAR,cAAA;EACAS,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAvB,OAAA;cACAwB,OAAA,EAAAX,KAAA,CAAAY,MAAA,CAAAC,QAAA;gBAAAC,IAAA,EAAA1B;cAAA;cACA2B,QAAA,EAAAf,KAAA,CAAAY,MAAA,CAAAC,QAAA;gBAAAC,IAAA,EAAAzB;cAAA;YACA;UAAA;YAHAgB,IAAA,GAAAG,QAAA,CAAAQ,IAAA;YAKAhB,KAAA,CAAAiB,WAAA,GAAAZ,IAAA,CAAAU,QAAA;YACAf,KAAA,CAAAkB,UAAA,GAAAb,IAAA,CAAAM,OAAA;UAAA;UAAA;YAAA,OAAAH,QAAA,CAAAW,IAAA;QAAA;MAAA,GAAAf,OAAA;IAAA;EACA;EACAgB,IAAA,WAAAA,KAAA;IACA;MAAAF,UAAA;MAAAD,WAAA;IAAA;EACA;EACAI,QAAA;IACAC,cAAA,WAAAA,eAAA;MACA,YAAAC,gCAAA,MAAAN,WAAA,EACAO,GAAA,WAAAC,OAAA;QAAA,IAAAC,mBAAA;QAAA;UACAC,KAAA,EAAAF,OAAA,CAAAG,QAAA,CAAAhC,IAAA;UACAiC,KAAA,EAAAJ,OAAA,CAAAG,QAAA,CAAAhC,IAAA;UACAkC,KAAA,GAAAJ,mBAAA,GAAAD,OAAA,CAAAM,IAAA,CAAAD,KAAA,cAAAJ,mBAAA,uBAAAA,mBAAA,CAAAF,GAAA,WAAAQ,CAAA;YAAA,OAAAA,CAAA,CAAAC,IAAA;UAAA;QACA;MAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAC,MAAA,QAAAC,CAAA,8CAAAA,CAAA;IACA;IACAC,YAAA,WAAAA,aAAA;MACA,YAAAd,gCAAA,MAAAL,UAAA,CAAAoB,MAAA,WAAAC,MAAA;QAAA,OAAAA,MAAA,CAAAC,KAAA,KAAA7C,KAAA,CAAA8C,GAAA;MAAA,IAAAjB,GAAA,WAAAe,MAAA;QACA,IAAAG,EAAA,GAAAH,MAAA,CAAAG,EAAA;QAEA,OAAAA,EAAA,CAAAC,KAAA,CAAAD,EAAA,CAAAE,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACAtB,gCAAA,WAAAA,iCAAAuB,SAAA;MAAA,IAAAC,MAAA;MACA,OAAAD,SAAA,CAAAR,MAAA,WAAAU,QAAA;QACA,OAAAA,QAAA,CAAApB,QAAA,CAAAqB,SAAA,KAAAF,MAAA,CAAAlB,KAAA,CAAAD,QAAA,CAAAqB,SAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}