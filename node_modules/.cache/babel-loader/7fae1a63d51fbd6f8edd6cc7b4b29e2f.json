{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/aws.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/aws.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjdXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjdXIgPSAoX3RoaXMudmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdFJlZ2lvbiB8fCAnJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgaWYgKCFjdXIpIHsKICAgICAgICAgICAgICBjdXIgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snYXdzL2RlZmF1bHRSZWdpb24nXTsKICAgICAgICAgICAgICBfdGhpcy52YWx1ZS5zZXREYXRhKCdkZWZhdWx0UmVnaW9uJywgY3VyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXdzL2RlZmF1bHRSZWdpb25zJyk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF90aGlzLmtub3duUmVnaW9ucyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGlmICghX3RoaXMua25vd25SZWdpb25zLmluY2x1ZGVzKGN1cikpIHsKICAgICAgICAgICAgICBfdGhpcy5rbm93blJlZ2lvbnMudW5zaGlmdChjdXIpOwogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrbm93blJlZ2lvbnM6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJ3ZhbHVlLmRlY29kZWREYXRhLmFjY2Vzc0tleSc6IGZ1bmN0aW9uIHZhbHVlRGVjb2RlZERhdGFBY2Nlc3NLZXkobmV1KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgISFuZXUpOwogICAgfSwKICAgICd2YWx1ZS5kZWNvZGVkRGF0YS5zZWNyZXRLZXknOiBmdW5jdGlvbiB2YWx1ZURlY29kZWREYXRhU2VjcmV0S2V5KG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0sCiAgICAndmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdFJlZ2lvbic6IGZ1bmN0aW9uIHZhbHVlRGVjb2RlZERhdGFEZWZhdWx0UmVnaW9uKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNsaWVudDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ2F3cy9lYzInLCB7CiAgICAgICAgICAgICAgICByZWdpb246IF90aGlzMi52YWx1ZS5kZWNvZGVkRGF0YS5kZWZhdWx0UmVnaW9uIHx8IF90aGlzMi4kc3RvcmUuZ2V0dGVyc1snYXdzL2RlZmF1bHRSZWdpb24nXSwKICAgICAgICAgICAgICAgIGFjY2Vzc0tleTogX3RoaXMyLnZhbHVlLmRlY29kZWREYXRhLmFjY2Vzc0tleSwKICAgICAgICAgICAgICAgIHNlY3JldEtleTogX3RoaXMyLnZhbHVlLmRlY29kZWREYXRhLnNlY3JldEtleQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2xpZW50ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBjbGllbnQuZGVzY3JpYmVSZWdpb25zKHt9KTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Loading","CreateEditView","LabeledInput","LabeledSelect","components","mixins","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cur","wrap","_callee$","_context","prev","next","value","decodedData","defaultRegion","toLowerCase","$store","getters","setData","dispatch","knownRegions","sent","includes","unshift","stop","data","watch","valueDecodedDataAccessKey","neu","$emit","valueDecodedDataSecretKey","valueDecodedDataDefaultRegion","methods","test","_this2","_callee2","client","_callee2$","_context2","region","accessKey","secretKey","describeRegions","abrupt","t0"],"sources":["node_modules/@rancher/shell/cloud-credential/aws.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport default {\n  components: {\n    Loading, LabeledInput, LabeledSelect\n  },\n  mixins: [CreateEditView],\n\n  async fetch() {\n    let cur = (this.value.decodedData.defaultRegion || '').toLowerCase();\n\n    if ( !cur ) {\n      cur = this.$store.getters['aws/defaultRegion'];\n      this.value.setData('defaultRegion', cur);\n    }\n\n    this.knownRegions = await this.$store.dispatch('aws/defaultRegions');\n\n    if ( !this.knownRegions.includes(cur) ) {\n      this.knownRegions.unshift(cur);\n    }\n  },\n\n  data() {\n    return { knownRegions: null };\n  },\n\n  watch: {\n    'value.decodedData.accessKey'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n\n    'value.decodedData.secretKey'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n\n    'value.decodedData.defaultRegion'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n  },\n\n  methods: {\n    async test() {\n      try {\n        const client = await this.$store.dispatch('aws/ec2', {\n          region:    this.value.decodedData.defaultRegion || this.$store.getters['aws/defaultRegion'],\n          accessKey: this.value.decodedData.accessKey,\n          secretKey: this.value.decodedData.secretKey,\n        });\n\n        await client.describeRegions({});\n\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else>\n    <LabeledInput\n      :value=\"value.decodedData.accessKey\"\n      label-key=\"cluster.credential.aws.accessKey.label\"\n      placeholder-key=\"cluster.credential.aws.accessKey.placeholder\"\n      type=\"text\"\n      :mode=\"mode\"\n      @input=\"value.setData('accessKey', $event);\"\n    />\n    <LabeledInput\n      :value=\"value.decodedData.secretKey\"\n      class=\"mt-20\"\n      label-key=\"cluster.credential.aws.secretKey.label\"\n      placeholder-key=\"cluster.credential.aws.secretKey.placeholder\"\n      type=\"password\"\n      :mode=\"mode\"\n      @input=\"value.setData('secretKey', $event);\"\n    />\n    <LabeledSelect\n      :value=\"value.decodedData.defaultRegion\"\n      class=\"mt-20\"\n      label-key=\"cluster.credential.aws.defaultRegion.label\"\n      placeholder-key=\"cluster.credential.aws.defaultRegion.placeholder\"\n      :mode=\"mode\"\n      :taggable=\"true\"\n      :options=\"knownRegions\"\n      @input=\"value.setData('defaultRegion', $event);\"\n    />\n    <p\n      v-clean-html=\"t('cluster.credential.aws.defaultRegion.help', {}, true)\"\n      class=\"text-muted mt-5\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;;AACA,OAAAA,OAAA;AACA,OAAAC,cAAA;AACA,SAAAC,YAAA;AACA,OAAAC,aAAA;AAEA;EACAC,UAAA;IACAJ,OAAA,EAAAA,OAAA;IAAAE,YAAA,EAAAA,YAAA;IAAAC,aAAA,EAAAA;EACA;EACAE,MAAA,GAAAJ,cAAA;EAEAK,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,GAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAL,GAAA,IAAAL,KAAA,CAAAW,KAAA,CAAAC,WAAA,CAAAC,aAAA,QAAAC,WAAA;YAEA,KAAAT,GAAA;cACAA,GAAA,GAAAL,KAAA,CAAAe,MAAA,CAAAC,OAAA;cACAhB,KAAA,CAAAW,KAAA,CAAAM,OAAA,kBAAAZ,GAAA;YACA;YAAAG,QAAA,CAAAE,IAAA;YAAA,OAEAV,KAAA,CAAAe,MAAA,CAAAG,QAAA;UAAA;YAAAlB,KAAA,CAAAmB,YAAA,GAAAX,QAAA,CAAAY,IAAA;YAEA,KAAApB,KAAA,CAAAmB,YAAA,CAAAE,QAAA,CAAAhB,GAAA;cACAL,KAAA,CAAAmB,YAAA,CAAAG,OAAA,CAAAjB,GAAA;YACA;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAe,IAAA;QAAA;MAAA,GAAAnB,OAAA;IAAA;EACA;EAEAoB,IAAA,WAAAA,KAAA;IACA;MAAAL,YAAA;IAAA;EACA;EAEAM,KAAA;IACA,wCAAAC,0BAAAC,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;IAEA,wCAAAE,0BAAAF,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;IAEA,4CAAAG,8BAAAH,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;EACA;EAEAI,OAAA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,MAAA;MAAA,OAAAhC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAA+B,SAAA;QAAA,IAAAC,MAAA;QAAA,OAAAjC,mBAAA,CAAAI,IAAA,UAAA8B,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA5B,IAAA,GAAA4B,SAAA,CAAA3B,IAAA;YAAA;cAAA2B,SAAA,CAAA5B,IAAA;cAAA4B,SAAA,CAAA3B,IAAA;cAAA,OAEAuB,MAAA,CAAAlB,MAAA,CAAAG,QAAA;gBACAoB,MAAA,EAAAL,MAAA,CAAAtB,KAAA,CAAAC,WAAA,CAAAC,aAAA,IAAAoB,MAAA,CAAAlB,MAAA,CAAAC,OAAA;gBACAuB,SAAA,EAAAN,MAAA,CAAAtB,KAAA,CAAAC,WAAA,CAAA2B,SAAA;gBACAC,SAAA,EAAAP,MAAA,CAAAtB,KAAA,CAAAC,WAAA,CAAA4B;cACA;YAAA;cAJAL,MAAA,GAAAE,SAAA,CAAAjB,IAAA;cAAAiB,SAAA,CAAA3B,IAAA;cAAA,OAMAyB,MAAA,CAAAM,eAAA;YAAA;cAAA,OAAAJ,SAAA,CAAAK,MAAA,WAEA;YAAA;cAAAL,SAAA,CAAA5B,IAAA;cAAA4B,SAAA,CAAAM,EAAA,GAAAN,SAAA;cAAA,OAAAA,SAAA,CAAAK,MAAA,WAEA;YAAA;YAAA;cAAA,OAAAL,SAAA,CAAAd,IAAA;UAAA;QAAA,GAAAW,QAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}