{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugins.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugins.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBwcm9kdWN0c0xvYWRlZCB9IGZyb20gJ0BzaGVsbC9zdG9yZS90eXBlLW1hcCc7CmltcG9ydCB7IGNsZWFyTW9kZWxDYWNoZSB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9tb2RlbC1sb2FkZXInOwppbXBvcnQgeyBQbHVnaW4gfSBmcm9tICcuL3BsdWdpbic7CmltcG9ydCB7IFBsdWdpblJvdXRlcyB9IGZyb20gJy4vcGx1Z2luLXJvdXRlcyc7CmltcG9ydCB7IFVJX1BMVUdJTl9CQVNFX1VSTCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdWlwbHVnaW5zJzsKaW1wb3J0IHsgRXh0ZW5zaW9uUG9pbnQgfSBmcm9tICcuL3R5cGVzJzsKdmFyIE1PREVMX1RZUEUgPSAnbW9kZWxzJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGNvbnRleHQsIGluamVjdCwgdnVlQXBwKSB7CiAgdmFyIGFwcCA9IGNvbnRleHQuYXBwLAogICAgc3RvcmUgPSBjb250ZXh0LnN0b3JlLAogICAgJGF4aW9zID0gY29udGV4dC4kYXhpb3MsCiAgICByZWRpcmVjdCA9IGNvbnRleHQucmVkaXJlY3Q7CiAgdmFyIGR5bmFtaWMgPSB7fTsKICB2YXIgdmFsaWRhdG9ycyA9IHt9OwogIHZhciBfbGFzdExvYWRlZCA9IDA7CgogIC8vIFRyYWNrIHdoaWNoIHBsdWdpbiBsb2FkZWQgd2hhdCwgc28gd2UgY2FuIHVubG9hZCBzdHVmZgogIHZhciBwbHVnaW5zID0ge307CiAgdmFyIHBsdWdpblJvdXRlcyA9IG5ldyBQbHVnaW5Sb3V0ZXMoYXBwLnJvdXRlcik7CiAgdmFyIHVpQ29uZmlnID0ge307CiAgZm9yICh2YXIgZXAgaW4gRXh0ZW5zaW9uUG9pbnQpIHsKICAgIHVpQ29uZmlnW0V4dGVuc2lvblBvaW50W2VwXV0gPSB7fTsKICB9CiAgaW5qZWN0KCdwbHVnaW4nLCB7CiAgICAvLyBQbHVnaW5zIHNob3VsZCBub3QgdXNlIHRoZXNlIC0gYnV0IHdlIHdpbGwgcGFzcyB0aGVtIGluIGZvciBub3cgYXMgYSAybmQgYXJndW1lbnQKICAgIC8vIGluIGNhc2UgdGhlcmUgYXJlIHVzZSBjYXNlcyBub3QgY292ZXJlZCB0aGF0IHJlcXVpcmUgZGlyZWN0IGFjY2VzcyAtIHdlIG1heSByZW1vdmUgYWNjZXNzIGxhdGVyCiAgICBpbnRlcm5hbDogZnVuY3Rpb24gaW50ZXJuYWwoKSB7CiAgICAgIHZhciBpbnRlcm5hbCA9IHsKICAgICAgICBhcHA6IGFwcCwKICAgICAgICBzdG9yZTogc3RvcmUsCiAgICAgICAgJGF4aW9zOiAkYXhpb3MsCiAgICAgICAgcmVkaXJlY3Q6IHJlZGlyZWN0LAogICAgICAgIHBsdWdpbnM6IHRoaXMKICAgICAgfTsKICAgICAgcmV0dXJuIGludGVybmFsOwogICAgfSwKICAgIC8vIExvYWQgYSBwbHVnaW4gZnJvbSBhIFVJIHBhY2thZ2UKICAgIGxvYWRQbHVnaW5Bc3luYzogZnVuY3Rpb24gbG9hZFBsdWdpbkFzeW5jKHBsdWdpbikgewogICAgICB2YXIgX3BsdWdpbiRtZXRhZGF0YTsKICAgICAgdmFyIG5hbWUgPSBwbHVnaW4ubmFtZSwKICAgICAgICB2ZXJzaW9uID0gcGx1Z2luLnZlcnNpb247CiAgICAgIHZhciBpZCA9ICIiLmNvbmNhdChuYW1lLCAiLSIpLmNvbmNhdCh2ZXJzaW9uKTsKICAgICAgdmFyIHVybDsKICAgICAgaWYgKChwbHVnaW4gPT09IG51bGwgfHwgcGx1Z2luID09PSB2b2lkIDAgfHwgKF9wbHVnaW4kbWV0YWRhdGEgPSBwbHVnaW4ubWV0YWRhdGEpID09PSBudWxsIHx8IF9wbHVnaW4kbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbHVnaW4kbWV0YWRhdGEuZGlyZWN0KSA9PT0gJ3RydWUnKSB7CiAgICAgICAgdXJsID0gcGx1Z2luLmVuZHBvaW50OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfcGx1Z2luJG1ldGFkYXRhMjsKICAgICAgICAvLyBTZWUgaWYgdGhlIHBsdWdpbiBoYXMgYSBtYWluIG1ldGFkYXRhIHByb3BlcnR5IHNldAogICAgICAgIHZhciBtYWluID0gKHBsdWdpbiA9PT0gbnVsbCB8fCBwbHVnaW4gPT09IHZvaWQgMCB8fCAoX3BsdWdpbiRtZXRhZGF0YTIgPSBwbHVnaW4ubWV0YWRhdGEpID09PSBudWxsIHx8IF9wbHVnaW4kbWV0YWRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGx1Z2luJG1ldGFkYXRhMi5tYWluKSB8fCAiIi5jb25jYXQoaWQsICIudW1kLm1pbi5qcyIpOwogICAgICAgIHVybCA9ICIiLmNvbmNhdChVSV9QTFVHSU5fQkFTRV9VUkwsICIvIikuY29uY2F0KG5hbWUsICIvIikuY29uY2F0KHZlcnNpb24sICIvcGx1Z2luLyIpLmNvbmNhdChtYWluKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5sb2FkQXN5bmMoaWQsIHVybCk7CiAgICB9LAogICAgLy8gTG9hZCBhIHBsdWdpbiBmcm9tIGEgVUkgcGFja2FnZQogICAgbG9hZEFzeW5jOiBmdW5jdGlvbiBsb2FkQXN5bmMoaWQsIG1haW5GaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgLy8gVGhlIHBsdWdpbiBpcyBhbHJlYWR5IGxvYWRlZCBzbyB3ZSBzaG91bGQgYXZvaWQgbG9hZGluZyBpdCBhZ2Fpbi4KICAgICAgICAvLyBUaGlzIHdpbGwgcHJpbWFyaWx5IGFmZmVjdCBwbHVnaW5zIHRoYXQgbG9hZCBwcmlvciB0byBhdXRoZW50aWNhdGlvbiBhbmQgd2UgYXR0ZW1wdCB0byBsb2FkIGFnYWluIGFmdGVyIGF1dGhlbnRpY2F0aW9uLgogICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7CiAgICAgICAgfQogICAgICAgIHZhciBtb2R1bGVVcmwgPSBtYWluRmlsZTsKICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgIGVsZW1lbnQuc3JjID0gbW9kdWxlVXJsOwogICAgICAgIGVsZW1lbnQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogICAgICAgIGVsZW1lbnQuYXN5bmMgPSB0cnVlOwogICAgICAgIGVsZW1lbnQuaWQgPSBpZDsKICAgICAgICBlbGVtZW50LmRhdGFzZXQucHVycG9zZSA9ICdleHRlbnNpb24nOwoKICAgICAgICAvLyBpZCBpcyBgPHByb2R1Y3Q+LTx2ZXJzaW9uPmAuCiAgICAgICAgdmFyIG9sZFBsdWdpbiA9IE9iamVjdC52YWx1ZXMocGx1Z2lucykuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIGlkLnN0YXJ0c1dpdGgocC5uYW1lKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgcmVtb3ZlZCA9IFByb21pc2UucmVzb2x2ZSgpOwogICAgICAgIGlmIChvbGRQbHVnaW4pIHsKICAgICAgICAgIC8vIFVuaW5zdGFsbCBleGlzdGluZyBwbHVnaW4gaWYgdGhlcmUgaXMgb25lLiBUaGlzIGVuc3VyZXMgdGhhdCBsYXN0IGxvYWRlZCBwbHVnaW4gaXMgbm90IGFsd2F5cyB1c2VkCiAgICAgICAgICAvLyAobmF2IGhhcnYxLS0+aGFydjItLT5oYXJ2MSBhbmQgaGFydjIgd291bGQgYmUgc2hvd24pCiAgICAgICAgICByZW1vdmVkID0gX3RoaXMucmVtb3ZlUGx1Z2luKG9sZFBsdWdpbi5uYW1lKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZGVsZXRlIHdpbmRvd1tvbGRQbHVnaW4uaWRdOwogICAgICAgICAgICBkZWxldGUgcGx1Z2luc1tvbGRQbHVnaW4uaWRdOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHJlbW92ZWQudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCF3aW5kb3dbaWRdKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIHBsdWdpbiBjb2RlJykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRpbWVzdGFtcCB0aGF0IG5ldyBwbHVnaW5zIHdlcmUgbG9hZGVkIC0gbWF5IGJlIG5lZWRlZAogICAgICAgICAgICAvLyB0byB1cGRhdGUgY2FjaGVzIHdoZW4gbmV3IHBsdWdpbnMgYXJlIGxvYWRlZAogICAgICAgICAgICBfbGFzdExvYWRlZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoKICAgICAgICAgICAgLy8gbmFtZSBpcyB0aGUgbmFtZSBvZiB0aGUgcGx1Z2luLCBpbmNsdWRpbmcgdGhlIHZlcnNpb24gbnVtYmVyCiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBuZXcgUGx1Z2luKGlkKTsKICAgICAgICAgICAgcGx1Z2luc1tpZF0gPSBwbHVnaW47CgogICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBwbHVnaW4KICAgICAgICAgICAgd2luZG93W2lkXS5kZWZhdWx0KHBsdWdpbiwgX3RoaXMuaW50ZXJuYWwoKSk7CgogICAgICAgICAgICAvLyBVbmluc3RhbGwgZXhpc3RpbmcgcGx1Z2luIGlmIHRoZXJlIGlzIG9uZQogICAgICAgICAgICBfdGhpcy5yZW1vdmVQbHVnaW4ocGx1Z2luLm5hbWUpOyAvLyBSZW1vdmluZyB0aGlzIGNhdXNlcyB0aGUgcGx1Z2luIHRvIG5vdCBsb2FkIG9uIHJlZnJlc2gKCiAgICAgICAgICAgIC8vIExvYWQgYWxsIG9mIHRoZSB0eXBlcyBldGMgZnJvbSB0aGUgcGx1Z2luCiAgICAgICAgICAgIF90aGlzLmFwcGx5UGx1Z2luKHBsdWdpbik7CgogICAgICAgICAgICAvLyBBZGQgdGhlIHBsdWdpbiB0byB0aGUgc3RvcmUKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3VpcGx1Z2lucy9hZGRQbHVnaW4nLCBwbHVnaW4pOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9OwogICAgICAgICAgZWxlbWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgLy8gTWFzc2FnZSB0aGUgZXJyb3IgaW50byBzb21ldGhpbmcgdXNlZnVsCiAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAiRmFpbGVkIHRvIGxvYWQgc2NyaXB0IGZyb20gJyIuY29uY2F0KGUudGFyZ2V0LnNyYywgIiciKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvck1lc3NhZ2UsIGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTsgLy8gVGhpcyBpcyBtb3JlIHVzZWZ1bCB3aGVyZSBpdCdzIHVzZWQKICAgICAgICAgIH07CiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gIkZhaWxlZCB0byB1bmxvYWQgb2xkIHBsdWdpbiIuY29uY2F0KG9sZFBsdWdpbiA9PT0gbnVsbCB8fCBvbGRQbHVnaW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9sZFBsdWdpbi5pZCk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTWVzc2FnZSwgZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTsgLy8gVGhpcyBpcyBtb3JlIHVzZWZ1bCB3aGVyZSBpdCdzIHVzZWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gVXNlZCBieSB0aGUgZHluYW1pYyBsb2FkZXIgd2hlbiBhIHBsdWdpbiBpcyBpbmNsdWRlZCBpbiB0aGUgYnVpbGQKICAgIGluaXRQbHVnaW46IGZ1bmN0aW9uIGluaXRQbHVnaW4oaWQsIG1vZHVsZSkgewogICAgICB2YXIgcGx1Z2luID0gbmV3IFBsdWdpbihpZCk7CgogICAgICAvLyBNYXJrIHRoZSBwbHVnaW4gYXMgYmVpbmcgYnVpbHQtaW4KICAgICAgcGx1Z2luLmJ1aWx0aW4gPSB0cnVlOwogICAgICBwbHVnaW5zW2lkXSA9IHBsdWdpbjsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHBsdWdpbgogICAgICB2YXIgcCA9IG1vZHVsZTsKICAgICAgdHJ5IHsKICAgICAgICBwLmRlZmF1bHQocGx1Z2luLCB0aGlzLmludGVybmFsKCkpOwoKICAgICAgICAvLyBVbmluc3RhbGwgZXhpc3RpbmcgcHJvZHVjdCBpZiB0aGVyZSBpcyBvbmUKICAgICAgICB0aGlzLnJlbW92ZVBsdWdpbihwbHVnaW4ubmFtZSk7CgogICAgICAgIC8vIExvYWQgYWxsIG9mIHRoZSB0eXBlcyBldGMgZnJvbSB0aGUgcGx1Z2luCiAgICAgICAgdGhpcy5hcHBseVBsdWdpbihwbHVnaW4pOwoKICAgICAgICAvLyBBZGQgdGhlIHBsdWdpbiB0byB0aGUgc3RvcmUKICAgICAgICBzdG9yZS5kaXNwYXRjaCgndWlwbHVnaW5zL2FkZFBsdWdpbicsIHBsdWdpbik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBsb2FkaW5nIHBsdWdpbiAiLmNvbmNhdChwbHVnaW4ubmFtZSkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICBjb25zb2xlLmVycm9yKGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgfQogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYWxsLCBpLCBwbHVnaW47CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFsbCA9IE9iamVjdC52YWx1ZXMocGx1Z2lucyk7CiAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpZiAoIShpIDwgYWxsLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBwbHVnaW4gPSBhbGxbaV07CiAgICAgICAgICAgICAgaWYgKCFwbHVnaW4uYnVpbHRpbikgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiY29udGludWUiLCAxNSk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbW92ZVBsdWdpbihwbHVnaW4ubmFtZSk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVtb3ZpbmcgcGx1Z2luJywgX2NvbnRleHQudDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBkZWxldGUgcGx1Z2luc1twbHVnaW4uaWRdOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIFJlbW92ZSB0aGUgcGx1Z2luCiAgICByZW1vdmVQbHVnaW46IGZ1bmN0aW9uIHJlbW92ZVBsdWdpbihuYW1lKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGx1Z2luLCBwcm9taXNlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHBsdWdpbiA9IE9iamVjdC52YWx1ZXMocGx1Z2lucykuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHAubmFtZSA9PT0gbmFtZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAocGx1Z2luKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTsKICAgICAgICAgICAgICBwbHVnaW4ucHJvZHVjdE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goc3RvcmUuZGlzcGF0Y2goJ3R5cGUtbWFwL3JlbW92ZVByb2R1Y3QnLCB7CiAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHByb2R1Y3QsCiAgICAgICAgICAgICAgICAgIHBsdWdpbjogcGx1Z2luCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgb2YgdGhlIHR5cGVzCiAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGx1Z2luLnR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXApIHsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBsdWdpbi50eXBlc1t0eXBdKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy51bnJlZ2lzdGVyKHR5cCwgbmFtZSk7CiAgICAgICAgICAgICAgICAgIGlmICh0eXAgPT09IE1PREVMX1RZUEUpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhck1vZGVsQ2FjaGUobmFtZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBSZW1vdmUgbG9jYWxlcwogICAgICAgICAgICAgIHBsdWdpbi5sb2NhbGVzLmZvckVhY2goZnVuY3Rpb24gKGxvY2FsZU9iaikgewogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzdG9yZS5kaXNwYXRjaCgnaTE4bi9yZW1vdmVMb2NhbGUnLCBsb2NhbGVPYmopKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAocGx1Z2luLnR5cGVzLm1vZGVscykgewogICAgICAgICAgICAgICAgLy8gQXNrIHRoZSBTdGV2ZSBzdG9yZXMgdG8gZm9yZ2V0IGFueSBkYXRhIGl0IGhhcyBmb3IgbW9kZWxzIHRoYXQgd2UgYXJlIHJlbW92aW5nCiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoLmFwcGx5KHByb21pc2VzLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMzLnJlbW92ZVR5cGVGcm9tU3RvcmUoc3RvcmUsICdyYW5jaGVyJywgT2JqZWN0LmtleXMocGx1Z2luLnR5cGVzLm1vZGVscykpKSk7CiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoLmFwcGx5KHByb21pc2VzLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMzLnJlbW92ZVR5cGVGcm9tU3RvcmUoc3RvcmUsICdtYW5hZ2VtZW50JywgT2JqZWN0LmtleXMocGx1Z2luLnR5cGVzLm1vZGVscykpKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBDYWxsIHBsdWdpbiB1bmluc3RhbGwgaG9va3MKICAgICAgICAgICAgICBwbHVnaW4udW5pbnN0YWxsSG9va3MuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsKICAgICAgICAgICAgICAgIHJldHVybiBmbihwbHVnaW4sIF90aGlzMy5pbnRlcm5hbCgpKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBwbHVnaW4gaXRzZWxmCiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzdG9yZS5kaXNwYXRjaCgndWlwbHVnaW5zL3JlbW92ZVBsdWdpbicsIG5hbWUpKTsKCiAgICAgICAgICAgICAgLy8gVW5yZWdpc3RlciB2dWV4IHN0b3JlcwogICAgICAgICAgICAgIHBsdWdpbi5zdG9yZXMuZm9yRWFjaChmdW5jdGlvbiAocFN0b3JlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcFN0b3JlLnVucmVnaXN0ZXIoc3RvcmUpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBSZW1vdmUgdmFsaWRhdG9ycwogICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBsdWdpbi52YWxpZGF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWxpZGF0b3JzW2tleV07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IGxvYWQgc2luY2Ugd2UgcmVtb3ZlZCBhIHBsdWdpbgogICAgICAgICAgICAgIF9sYXN0TG9hZGVkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVUeXBlRnJvbVN0b3JlOiBmdW5jdGlvbiByZW1vdmVUeXBlRnJvbVN0b3JlKHN0b3JlLCBzdG9yZU5hbWUsIHR5cGVzKSB7CiAgICAgIHJldHVybiAodHlwZXMgfHwgW10pLm1hcChmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHJldHVybiBzdG9yZS5jb21taXQoIiIuY29uY2F0KHN0b3JlTmFtZSwgIi9mb3JnZXRUeXBlIiksIHR5cGUpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBBcHBseSB0aGUgcGx1Z2luIGJhc2VkIG9uIGl0cyBtZXRhZGF0YQogICAgYXBwbHlQbHVnaW46IGZ1bmN0aW9uIGFwcGx5UGx1Z2luKHBsdWdpbikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgLy8gVHlwZXMKICAgICAgT2JqZWN0LmtleXMocGx1Z2luLnR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXApIHsKICAgICAgICBPYmplY3Qua2V5cyhwbHVnaW4udHlwZXNbdHlwXSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgX3RoaXM0LnJlZ2lzdGVyKHR5cCwgbmFtZSwgcGx1Z2luLnR5cGVzW3R5cF1bbmFtZV0pOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIC8vIFVJIENvbmZpZ3VyYXRpb24gLSBjb3B5IFVJIGNvbmZpZyBmcm9tIGEgcGx1Z2luIGludG8gdGhlIGdsb2JhbCB1aUNvbmZpZyBvYmplY3QKICAgICAgT2JqZWN0LmtleXMocGx1Z2luLnVpQ29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7CiAgICAgICAgT2JqZWN0LmtleXMocGx1Z2luLnVpQ29uZmlnW2FjdGlvblR5cGVdKS5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb25Mb2NhdGlvbikgewogICAgICAgICAgcGx1Z2luLnVpQ29uZmlnW2FjdGlvblR5cGVdW2FjdGlvbkxvY2F0aW9uXS5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgaWYgKCF1aUNvbmZpZ1thY3Rpb25UeXBlXVthY3Rpb25Mb2NhdGlvbl0pIHsKICAgICAgICAgICAgICB1aUNvbmZpZ1thY3Rpb25UeXBlXVthY3Rpb25Mb2NhdGlvbl0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICB1aUNvbmZpZ1thY3Rpb25UeXBlXVthY3Rpb25Mb2NhdGlvbl0ucHVzaChhY3Rpb24pOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgLy8gbDEwbgogICAgICBPYmplY3Qua2V5cyhwbHVnaW4ubDEwbikuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgIHBsdWdpbi5sMTBuW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7CiAgICAgICAgICBfdGhpczQucmVnaXN0ZXIoJ2wxMG4nLCBuYW1lLCBmbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgcHJvZHVjdCBpZiB0aGUgc3RvcmUgaXMgcmVhZHkKICAgICAgaWYgKHByb2R1Y3RzTG9hZGVkKCkpIHsKICAgICAgICB0aGlzLmxvYWRQcm9kdWN0cyhbcGx1Z2luXSk7CiAgICAgIH0KCiAgICAgIC8vIFJlZ2lzdGVyIHZ1ZXggc3RvcmVzCiAgICAgIHBsdWdpbi5zdG9yZXMuZm9yRWFjaChmdW5jdGlvbiAocFN0b3JlKSB7CiAgICAgICAgcmV0dXJuIHBTdG9yZS5yZWdpc3RlcigpKHN0b3JlKTsKICAgICAgfSk7CgogICAgICAvLyBMb2NhbGVzCiAgICAgIHBsdWdpbi5sb2NhbGVzLmZvckVhY2goZnVuY3Rpb24gKGxvY2FsZU9iaikgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdpMThuL2FkZExvY2FsZScsIGxvY2FsZU9iaik7CiAgICAgIH0pOwoKICAgICAgLy8gUm91dGVzCiAgICAgIHBsdWdpblJvdXRlcy5hZGRSb3V0ZXMocGx1Z2luLCBwbHVnaW4ucm91dGVzKTsKCiAgICAgIC8vIFZhbGlkYXRvcnMKICAgICAgT2JqZWN0LmtleXMocGx1Z2luLnZhbGlkYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhbGlkYXRvcnNba2V5XSA9IHBsdWdpbi52YWxpZGF0b3JzW2tleV07CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgKiBSZWdpc3RlciAnc29tZXRoaW5nJyB0aGF0IGNhbiBiZSBkeW5hbWljYWxseSBsb2FkZWQgLSBlLmcuIG1vZGVsLCBlZGl0LCBjcmVhdGUsIGxpc3QsIGkxOG4KICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgdHlwZSBvZiB0aGluZyB0byByZWdpc3RlciwgZS5nLiAnZWRpdCcKICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgdW5pcXVlIG5hbWUgb2YgJ3NvbWV0aGluZycKICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gZnVuY3Rpb24gdGhhdCBkeW5hbWljYWxseSBsb2FkcyB0aGUgbW9kdWxlIGZvciB0aGUgdGhpbmcgYmVpbmcgcmVnaXN0ZXJlZAogICAgKi8KICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3Rlcih0eXBlLCBuYW1lLCBmbikgewogICAgICBpZiAoIWR5bmFtaWNbdHlwZV0pIHsKICAgICAgICBkeW5hbWljW3R5cGVdID0ge307CiAgICAgIH0KCiAgICAgIC8vIEFjY3VtdWxhdGUgbDEwbiByZXNvdXJjZXMgcmF0aGVyIHRoYW4gcmVwbGFjZQogICAgICBpZiAodHlwZSA9PT0gJ2wxMG4nKSB7CiAgICAgICAgaWYgKCFkeW5hbWljW3R5cGVdW25hbWVdKSB7CiAgICAgICAgICBkeW5hbWljW3R5cGVdW25hbWVdID0gW107CiAgICAgICAgfQogICAgICAgIGR5bmFtaWNbdHlwZV1bbmFtZV0ucHVzaChmbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZHluYW1pY1t0eXBlXVtuYW1lXSA9IGZuOwogICAgICB9CiAgICB9LAogICAgdW5yZWdpc3RlcjogZnVuY3Rpb24gdW5yZWdpc3Rlcih0eXBlLCBuYW1lLCBmbikgewogICAgICB2YXIgX2R5bmFtaWMkdHlwZTI7CiAgICAgIGlmICh0eXBlID09PSAnbDEwbicpIHsKICAgICAgICB2YXIgX2R5bmFtaWMkdHlwZTsKICAgICAgICBpZiAoKF9keW5hbWljJHR5cGUgPSBkeW5hbWljW3R5cGVdKSAhPT0gbnVsbCAmJiBfZHluYW1pYyR0eXBlICE9PSB2b2lkIDAgJiYgX2R5bmFtaWMkdHlwZVtuYW1lXSkgewogICAgICAgICAgdmFyIGluZGV4ID0gZHluYW1pY1t0eXBlXVtuYW1lXS5maW5kKGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgICAgIHJldHVybiBmdW5jID09PSBmbjsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgICBkeW5hbWljW3R5cGVdW25hbWVdLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChfZHluYW1pYyR0eXBlMiA9IGR5bmFtaWNbdHlwZV0pICE9PSBudWxsICYmIF9keW5hbWljJHR5cGUyICE9PSB2b2lkIDAgJiYgX2R5bmFtaWMkdHlwZTJbbmFtZV0pIHsKICAgICAgICBkZWxldGUgZHluYW1pY1t0eXBlXVtuYW1lXTsKICAgICAgfQogICAgfSwKICAgIC8vIEZvciBkZWJ1Z2dpbmcKICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKCkgewogICAgICByZXR1cm4gZHluYW1pYzsKICAgIH0sCiAgICBnZXRQbHVnaW5zOiBmdW5jdGlvbiBnZXRQbHVnaW5zKCkgewogICAgICByZXR1cm4gcGx1Z2luczsKICAgIH0sCiAgICBnZXREeW5hbWljOiBmdW5jdGlvbiBnZXREeW5hbWljKHR5cGVOYW1lLCBuYW1lKSB7CiAgICAgIHZhciBfZHluYW1pYyR0eXBlTmFtZTsKICAgICAgcmV0dXJuIChfZHluYW1pYyR0eXBlTmFtZSA9IGR5bmFtaWNbdHlwZU5hbWVdKSA9PT0gbnVsbCB8fCBfZHluYW1pYyR0eXBlTmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2R5bmFtaWMkdHlwZU5hbWVbbmFtZV07CiAgICB9LAogICAgZ2V0VmFsaWRhdG9yOiBmdW5jdGlvbiBnZXRWYWxpZGF0b3IobmFtZSkgewogICAgICByZXR1cm4gdmFsaWRhdG9yc1tuYW1lXTsKICAgIH0sCiAgICAvKioKICAgICogUmV0dXJuIHRoZSBVSSBjb25maWd1cmF0aW9uIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbG9jYXRpb24KICAgICovCiAgICBnZXRVSUNvbmZpZzogZnVuY3Rpb24gZ2V0VUlDb25maWcodHlwZSwgdWlBcmVhKSB7CiAgICAgIHJldHVybiB1aUNvbmZpZ1t0eXBlXVt1aUFyZWFdIHx8IFtdOwogICAgfSwKICAgIC8qKgogICAgKiBSZXR1cm5zIGFsbCBVSSBDb25maWd1cmF0aW9uICh1c2VmdWwgZm9yIGRlYnVnZ2luZykKICAgICovCiAgICBnZXRBbGxVSUNvbmZpZzogZnVuY3Rpb24gZ2V0QWxsVUlDb25maWcoKSB7CiAgICAgIHJldHVybiB1aUNvbmZpZzsKICAgIH0sCiAgICAvLyBUaW1lc3RhbXAgdGhhdCBhIFVJIHBhY2thZ2Ugd2FzIGxhc3QgbG9hZGVkCiAgICAvLyBUeXBpY2FsbHkgdXNlZCB0byBpbnZhbGlkYXRlIGNhY2hlcyAoZS5nLiBpMThuKSB3aGVuIG5ldyBwbHVnaW5zIGFyZSBsb2FkZWQKICAgIGdldCBsYXN0TG9hZCgpIHsKICAgICAgcmV0dXJuIF9sYXN0TG9hZGVkOwogICAgfSwKICAgIGxpc3REeW5hbWljOiBmdW5jdGlvbiBsaXN0RHluYW1pYyh0eXBlTmFtZSkgewogICAgICBpZiAoIWR5bmFtaWNbdHlwZU5hbWVdKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhkeW5hbWljW3R5cGVOYW1lXSk7CiAgICB9LAogICAgLy8gR2V0IHRoZSBwcm9kdWN0cyBwcm92aWRlZCBieSBwbHVnaW5zCiAgICBnZXQgcHJvZHVjdHMoKSB7CiAgICAgIHJldHVybiBkeW5hbWljLnByb2R1Y3RzIHx8IFtdOwogICAgfSwKICAgIC8vIExvYWQgYWxsIG9mIHRoZSBwcm9kdWN0cyBwcm92aWRlZCBieSBwbHVnaW5zCiAgICBsb2FkUHJvZHVjdHM6IGZ1bmN0aW9uIGxvYWRQcm9kdWN0cyhsb2FkUGx1Z2lucykgewogICAgICBpZiAoIWxvYWRQbHVnaW5zKSB7CiAgICAgICAgbG9hZFBsdWdpbnMgPSBPYmplY3QudmFsdWVzKHBsdWdpbnMpOwogICAgICB9CiAgICAgIGxvYWRQbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikgewogICAgICAgIGlmIChwbHVnaW4ucHJvZHVjdHMpIHsKICAgICAgICAgIHBsdWdpbi5wcm9kdWN0cy5mb3JFYWNoKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhwKSB7CiAgICAgICAgICAgICAgdmFyIGltcGw7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBpbXBsID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKGltcGwuaW5pdCkgewogICAgICAgICAgICAgICAgICAgICAgaW1wbC5pbml0KHBsdWdpbiwgc3RvcmUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgfSkpOwogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCBjb250ZXh0LCB2dWVBcHApOwp9"},{"version":3,"names":["productsLoaded","clearModelCache","Plugin","PluginRoutes","UI_PLUGIN_BASE_URL","ExtensionPoint","MODEL_TYPE","context","inject","vueApp","app","store","$axios","redirect","dynamic","validators","_lastLoaded","plugins","pluginRoutes","router","uiConfig","ep","internal","loadPluginAsync","plugin","_plugin$metadata","name","version","id","concat","url","metadata","direct","endpoint","_plugin$metadata2","main","loadAsync","mainFile","_this","Promise","resolve","reject","document","getElementById","moduleUrl","element","createElement","src","type","async","dataset","purpose","oldPlugin","Object","values","find","p","startsWith","removed","removePlugin","then","window","onload","Error","Date","getTime","default","applyPlugin","dispatch","onerror","e","errorMessage","target","console","error","head","appendChild","catch","initPlugin","module","builtin","logout","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","all","i","wrap","_callee$","_context","prev","next","length","abrupt","t0","stop","_this3","_callee2","promises","_callee2$","_context2","productNames","forEach","product","push","keys","types","typ","unregister","locales","localeObj","models","apply","_toConsumableArray","removeTypeFromStore","uninstallHooks","fn","stores","pStore","key","storeName","map","commit","_this4","register","actionType","actionLocation","action","l10n","loadProducts","addRoutes","routes","_dynamic$type2","_dynamic$type","index","func","splice","getAll","getPlugins","getDynamic","typeName","_dynamic$typeName","getValidator","getUIConfig","uiArea","getAllUIConfig","lastLoad","listDynamic","products","loadPlugins","_ref","_callee3","impl","_callee3$","_context3","sent","init","_x","arguments"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugins.js"],"sourcesContent":["import { productsLoaded } from '@shell/store/type-map';\nimport { clearModelCache } from '@shell/plugins/dashboard-store/model-loader';\nimport { Plugin } from './plugin';\nimport { PluginRoutes } from './plugin-routes';\nimport { UI_PLUGIN_BASE_URL } from '@shell/config/uiplugins';\nimport { ExtensionPoint } from './types';\n\nconst MODEL_TYPE = 'models';\n\nexport default function(context, inject, vueApp) {\n  const {\n    app, store, $axios, redirect\n  } = context;\n  const dynamic = {};\n  const validators = {};\n  let _lastLoaded = 0;\n\n  // Track which plugin loaded what, so we can unload stuff\n  const plugins = {};\n\n  const pluginRoutes = new PluginRoutes(app.router);\n\n  const uiConfig = {};\n\n  for (const ep in ExtensionPoint) {\n    uiConfig[ExtensionPoint[ep]] = {};\n  }\n\n  inject(\n    'plugin',\n    {\n    // Plugins should not use these - but we will pass them in for now as a 2nd argument\n    // in case there are use cases not covered that require direct access - we may remove access later\n      internal() {\n        const internal = {\n          app,\n          store,\n          $axios,\n          redirect,\n          plugins: this\n        };\n\n        return internal;\n      },\n\n      // Load a plugin from a UI package\n      loadPluginAsync(plugin) {\n        const { name, version } = plugin;\n        const id = `${ name }-${ version }`;\n        let url;\n\n        if (plugin?.metadata?.direct === 'true') {\n          url = plugin.endpoint;\n        } else {\n        // See if the plugin has a main metadata property set\n          const main = plugin?.metadata?.main || `${ id }.umd.min.js`;\n\n          url = `${ UI_PLUGIN_BASE_URL }/${ name }/${ version }/plugin/${ main }`;\n        }\n\n        return this.loadAsync(id, url);\n      },\n\n      // Load a plugin from a UI package\n      loadAsync(id, mainFile) {\n        return new Promise((resolve, reject) => {\n        // The plugin is already loaded so we should avoid loading it again.\n        // This will primarily affect plugins that load prior to authentication and we attempt to load again after authentication.\n          if (document.getElementById(id)) {\n            return resolve();\n          }\n          const moduleUrl = mainFile;\n          const element = document.createElement('script');\n\n          element.src = moduleUrl;\n          element.type = 'text/javascript';\n          element.async = true;\n          element.id = id;\n          element.dataset.purpose = 'extension';\n\n          // id is `<product>-<version>`.\n          const oldPlugin = Object.values(plugins).find((p) => id.startsWith(p.name));\n\n          let removed = Promise.resolve();\n\n          if (oldPlugin) {\n          // Uninstall existing plugin if there is one. This ensures that last loaded plugin is not always used\n          // (nav harv1-->harv2-->harv1 and harv2 would be shown)\n            removed = this.removePlugin(oldPlugin.name).then(() => {\n              delete window[oldPlugin.id];\n\n              delete plugins[oldPlugin.id];\n            });\n          }\n\n          removed.then(() => {\n            element.onload = () => {\n              if (!window[id]) {\n                return reject(new Error('Could not load plugin code'));\n              }\n\n              // Update the timestamp that new plugins were loaded - may be needed\n              // to update caches when new plugins are loaded\n              _lastLoaded = new Date().getTime();\n\n              // name is the name of the plugin, including the version number\n              const plugin = new Plugin(id);\n\n              plugins[id] = plugin;\n\n              // Initialize the plugin\n              window[id].default(plugin, this.internal());\n\n              // Uninstall existing plugin if there is one\n              this.removePlugin(plugin.name); // Removing this causes the plugin to not load on refresh\n\n              // Load all of the types etc from the plugin\n              this.applyPlugin(plugin);\n\n              // Add the plugin to the store\n              store.dispatch('uiplugins/addPlugin', plugin);\n\n              resolve();\n            };\n\n            element.onerror = (e) => {\n            // Massage the error into something useful\n              const errorMessage = `Failed to load script from '${ e.target.src }'`;\n\n              console.error(errorMessage, e); // eslint-disable-line no-console\n              reject(new Error(errorMessage)); // This is more useful where it's used\n            };\n\n            document.head.appendChild(element);\n          }).catch((e) => {\n            const errorMessage = `Failed to unload old plugin${ oldPlugin?.id }`;\n\n            console.error(errorMessage, e); // eslint-disable-line no-console\n            reject(new Error(errorMessage)); // This is more useful where it's used\n          });\n        });\n      },\n\n      // Used by the dynamic loader when a plugin is included in the build\n      initPlugin(id, module) {\n        const plugin = new Plugin(id);\n\n        // Mark the plugin as being built-in\n        plugin.builtin = true;\n\n        plugins[id] = plugin;\n\n        // Initialize the plugin\n        const p = module;\n\n        try {\n          p.default(plugin, this.internal());\n\n          // Uninstall existing product if there is one\n          this.removePlugin(plugin.name);\n\n          // Load all of the types etc from the plugin\n          this.applyPlugin(plugin);\n\n          // Add the plugin to the store\n          store.dispatch('uiplugins/addPlugin', plugin);\n        } catch (e) {\n          console.error(`Error loading plugin ${ plugin.name }`); // eslint-disable-line no-console\n          console.error(e); // eslint-disable-line no-console\n        }\n      },\n\n      async logout() {\n        const all = Object.values(plugins);\n\n        for (let i = 0; i < all.length; i++) {\n          const plugin = all[i];\n\n          if (plugin.builtin) {\n            continue;\n          }\n\n          try {\n            await this.removePlugin(plugin.name);\n          } catch (e) {\n            console.error('Error removing plugin', e); // eslint-disable-line no-console\n          }\n\n          delete plugins[plugin.id];\n        }\n      },\n\n      // Remove the plugin\n      async removePlugin(name) {\n        const plugin = Object.values(plugins).find((p) => p.name === name);\n\n        if (!plugin) {\n          return;\n        }\n\n        const promises = [];\n\n        plugin.productNames.forEach((product) => {\n          promises.push(store.dispatch('type-map/removeProduct', { product, plugin }));\n        });\n\n        // Remove all of the types\n        Object.keys(plugin.types).forEach((typ) => {\n          Object.keys(plugin.types[typ]).forEach((name) => {\n            this.unregister(typ, name);\n\n            if (typ === MODEL_TYPE) {\n              clearModelCache(name);\n            }\n          });\n        });\n\n        // Remove locales\n        plugin.locales.forEach((localeObj) => {\n          promises.push(store.dispatch('i18n/removeLocale', localeObj));\n        });\n\n        if (plugin.types.models) {\n        // Ask the Steve stores to forget any data it has for models that we are removing\n          promises.push(...this.removeTypeFromStore(store, 'rancher', Object.keys(plugin.types.models)));\n          promises.push(...this.removeTypeFromStore(store, 'management', Object.keys(plugin.types.models)));\n        }\n\n        // Call plugin uninstall hooks\n        plugin.uninstallHooks.forEach((fn) => fn(plugin, this.internal()));\n\n        // Remove the plugin itself\n        promises.push( store.dispatch('uiplugins/removePlugin', name));\n\n        // Unregister vuex stores\n        plugin.stores.forEach((pStore) => pStore.unregister(store));\n\n        // Remove validators\n        Object.keys(plugin.validators).forEach((key) => {\n          delete validators[key];\n        });\n\n        await Promise.all(promises);\n\n        // Update last load since we removed a plugin\n        _lastLoaded = new Date().getTime();\n      },\n\n      removeTypeFromStore(store, storeName, types) {\n        return (types || []).map((type) => store.commit(`${ storeName }/forgetType`, type));\n      },\n\n      // Apply the plugin based on its metadata\n      applyPlugin(plugin) {\n      // Types\n        Object.keys(plugin.types).forEach((typ) => {\n          Object.keys(plugin.types[typ]).forEach((name) => {\n            this.register(typ, name, plugin.types[typ][name]);\n          });\n        });\n\n        // UI Configuration - copy UI config from a plugin into the global uiConfig object\n        Object.keys(plugin.uiConfig).forEach((actionType) => {\n          Object.keys(plugin.uiConfig[actionType]).forEach((actionLocation) => {\n            plugin.uiConfig[actionType][actionLocation].forEach((action) => {\n              if (!uiConfig[actionType][actionLocation]) {\n                uiConfig[actionType][actionLocation] = [];\n              }\n              uiConfig[actionType][actionLocation].push(action);\n            });\n          });\n        });\n\n        // l10n\n        Object.keys(plugin.l10n).forEach((name) => {\n          plugin.l10n[name].forEach((fn) => {\n            this.register('l10n', name, fn);\n          });\n        });\n\n        // Initialize the product if the store is ready\n        if (productsLoaded()) {\n          this.loadProducts([plugin]);\n        }\n\n        // Register vuex stores\n        plugin.stores.forEach((pStore) => pStore.register()(store));\n\n        // Locales\n        plugin.locales.forEach((localeObj) => {\n          store.dispatch('i18n/addLocale', localeObj);\n        });\n\n        // Routes\n        pluginRoutes.addRoutes(plugin, plugin.routes);\n\n        // Validators\n        Object.keys(plugin.validators).forEach((key) => {\n          validators[key] = plugin.validators[key];\n        });\n      },\n\n      /**\n     * Register 'something' that can be dynamically loaded - e.g. model, edit, create, list, i18n\n     * @param {String} type type of thing to register, e.g. 'edit'\n     * @param {String} name unique name of 'something'\n     * @param {Function} fn function that dynamically loads the module for the thing being registered\n     */\n      register(type, name, fn) {\n        if (!dynamic[type]) {\n          dynamic[type] = {};\n        }\n\n        // Accumulate l10n resources rather than replace\n        if (type === 'l10n') {\n          if (!dynamic[type][name]) {\n            dynamic[type][name] = [];\n          }\n\n          dynamic[type][name].push(fn);\n        } else {\n          dynamic[type][name] = fn;\n        }\n      },\n\n      unregister(type, name, fn) {\n        if (type === 'l10n') {\n          if (dynamic[type]?.[name]) {\n            const index = dynamic[type][name].find((func) => func === fn);\n\n            if (index !== -1) {\n              dynamic[type][name].splice(index, 1);\n            }\n          }\n        } else if (dynamic[type]?.[name]) {\n          delete dynamic[type][name];\n        }\n      },\n\n      // For debugging\n      getAll() {\n        return dynamic;\n      },\n\n      getPlugins() {\n        return plugins;\n      },\n\n      getDynamic(typeName, name) {\n        return dynamic[typeName]?.[name];\n      },\n\n      getValidator(name) {\n        return validators[name];\n      },\n\n      /**\n     * Return the UI configuration for the given type and location\n     */\n      getUIConfig(type, uiArea) {\n        return uiConfig[type][uiArea] || [];\n      },\n\n      /**\n     * Returns all UI Configuration (useful for debugging)\n     */\n      getAllUIConfig() {\n        return uiConfig;\n      },\n\n      // Timestamp that a UI package was last loaded\n      // Typically used to invalidate caches (e.g. i18n) when new plugins are loaded\n      get lastLoad() {\n        return _lastLoaded;\n      },\n\n      listDynamic(typeName) {\n        if (!dynamic[typeName]) {\n          return [];\n        }\n\n        return Object.keys(dynamic[typeName]);\n      },\n\n      // Get the products provided by plugins\n      get products() {\n        return dynamic.products || [];\n      },\n\n      // Load all of the products provided by plugins\n      loadProducts(loadPlugins) {\n        if (!loadPlugins) {\n          loadPlugins = Object.values(plugins);\n        }\n\n        loadPlugins.forEach((plugin) => {\n          if (plugin.products) {\n            plugin.products.forEach(async(p) => {\n              const impl = await p;\n\n              if (impl.init) {\n                impl.init(plugin, store);\n              }\n            });\n          }\n        });\n      },\n    },\n    context,\n    vueApp\n  );\n}\n"],"mappings":"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","ignoreList":[]}]}