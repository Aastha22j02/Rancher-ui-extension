{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFNlbGVjdEljb25HcmlkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NlbGVjdEljb25HcmlkJzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBNT0RFLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgYXV0aFByb3ZpZGVyc0luZm8gfSBmcm9tICdAc2hlbGwvdXRpbHMvYXV0aCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTZWxlY3RJY29uR3JpZDogU2VsZWN0SWNvbkdyaWQsCiAgICBCYW5uZXI6IEJhbm5lcgogIH0sCiAgYXN5bmNEYXRhOiBmdW5jdGlvbiBhc3luY0RhdGEoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzdG9yZSwgcmVkaXJlY3QsIGF1dGhQcm92czsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHN0b3JlID0gX3JlZi5zdG9yZSwgcmVkaXJlY3QgPSBfcmVmLnJlZGlyZWN0OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGF1dGhQcm92aWRlcnNJbmZvKHN0b3JlKTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgYXV0aFByb3ZzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaWYgKCEhYXV0aFByb3ZzLmVuYWJsZWRMb2NhdGlvbikgewogICAgICAgICAgICAgIHJlZGlyZWN0KGF1dGhQcm92cy5lbmFibGVkTG9jYXRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBub25Mb2NhbDogYXV0aFByb3ZzLm5vbkxvY2FsLAogICAgICAgICAgICAgIGVuYWJsZWQ6IGF1dGhQcm92cy5lbmFibGVkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHJlc291cmNlID0gTUFOQUdFTUVOVC5BVVRIX0NPTkZJRzsKICAgIHZhciBnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVyczsKICAgIHZhciBpblN0b3JlID0gZ2V0dGVyc1snY3VycmVudFN0b3JlJ10ocmVzb3VyY2UpOwogICAgdmFyIGhhc0xpc3RDb21wb25lbnQgPSBnZXR0ZXJzWyd0eXBlLW1hcC9oYXNDdXN0b21MaXN0J10ocmVzb3VyY2UpOwogICAgdmFyIGhhc0VkaXRDb21wb25lbnQgPSBnZXR0ZXJzWyd0eXBlLW1hcC9oYXNDdXN0b21FZGl0J10ocmVzb3VyY2UpOwogICAgdmFyIHNjaGVtYSA9IGdldHRlcnNbIiIuY29uY2F0KGluU3RvcmUsICIvc2NoZW1hRm9yIildKHJlc291cmNlKTsKICAgIHJldHVybiB7CiAgICAgIHJlc291cmNlOiByZXNvdXJjZSwKICAgICAgc2NoZW1hOiBzY2hlbWEsCiAgICAgIGhhc0xpc3RDb21wb25lbnQ6IGhhc0xpc3RDb21wb25lbnQsCiAgICAgIGhhc0VkaXRDb21wb25lbnQ6IGhhc0VkaXRDb21wb25lbnQsCiAgICAgIC8vIFByb3ZpZGVkIGJ5IGFzeW5jRGF0YSBsYXRlcgogICAgICBub25Mb2NhbDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3dzOiBmdW5jdGlvbiByb3dzKCkgewogICAgICByZXR1cm4gc29ydEJ5KHRoaXMubm9uTG9jYWwsIFsnc2lkZUxhYmVsJywgJ25hbWVEaXNwbGF5J10pOwogICAgfSwKICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbiBkaXNwbGF5TmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2xhYmVsRm9yJ10odGhpcy5zY2hlbWEsIDIpOwogICAgfSwKICAgIGxvY2FsVXNlcnNSb3V0ZTogZnVuY3Rpb24gbG9jYWxVc2Vyc1JvdXRlKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjbHVzdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlciwKICAgICAgICAgIHByb2R1Y3Q6ICdhdXRoJywKICAgICAgICAgIHJlc291cmNlOiBNQU5BR0VNRU5ULlVTRVIKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb2xvckZvcjogZnVuY3Rpb24gY29sb3JGb3Iocm93KSB7CiAgICAgIHZhciB0eXBlcyA9IFsnbGRhcCcsICdvYXV0aCcsICdzYW1sJywgJ29pZGMnXTsKICAgICAgdmFyIGlkeCA9IHR5cGVzLmluZGV4T2Yocm93LmNvbmZpZ1R5cGUpOwogICAgICBpZiAoaWR4ID09PSAtMSkgewogICAgICAgIHJldHVybiAnY29sb3I4JzsKICAgICAgfQogICAgICByZXR1cm4gImNvbG9yIi5jb25jYXQoaWR4ICsgMSk7CiAgICB9LAogICAgZ29UbzogZnVuY3Rpb24gZ29UbyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1hdXRoLWNvbmZpZy1pZCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9LAogICAgICAgIHF1ZXJ5OiBfZGVmaW5lUHJvcGVydHkoe30sIE1PREUsIF9FRElUKQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["MANAGEMENT","SelectIconGrid","sortBy","MODE","_EDIT","authProvidersInfo","Banner","components","asyncData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","redirect","authProvs","wrap","_callee$","_context","prev","next","sent","enabledLocation","abrupt","nonLocal","enabled","stop","data","resource","AUTH_CONFIG","getters","$store","inStore","hasListComponent","hasEditComponent","schema","concat","computed","rows","displayName","localUsersRoute","name","params","cluster","$route","product","USER","methods","colorFor","row","types","idx","indexOf","configType","goTo","id","$router","push","query","_defineProperty"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue"],"sourcesContent":["<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <nuxt-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </nuxt-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;AACA,SAAAA,UAAA;AACA,OAAAC,cAAA;AACA,SAAAC,MAAA;AACA,SAAAC,IAAA,EAAAC,KAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IAAAN,cAAA,EAAAA,cAAA;IAAAK,MAAA,EAAAA;EAAA;EAEAE,SAAA,WAAAA,UAAAC,IAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAC,SAAA;MAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAP,KAAA,GAAAL,IAAA,CAAAK,KAAA,EAAAC,QAAA,GAAAN,IAAA,CAAAM,QAAA;YAAAI,QAAA,CAAAE,IAAA;YAAA,OACAhB,iBAAA,CAAAS,KAAA;UAAA;YAAAE,SAAA,GAAAG,QAAA,CAAAG,IAAA;YAEA,MAAAN,SAAA,CAAAO,eAAA;cACAR,QAAA,CAAAC,SAAA,CAAAO,eAAA;YACA;YAAA,OAAAJ,QAAA,CAAAK,MAAA,WAEA;cAAAC,QAAA,EAAAT,SAAA,CAAAS,QAAA;cAAAC,OAAA,EAAAV,SAAA,CAAAU;YAAA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAQ,IAAA;QAAA;MAAA,GAAAd,OAAA;IAAA;EACA;EAEAe,IAAA,WAAAA,KAAA;IACA,IAAAC,QAAA,GAAA7B,UAAA,CAAA8B,WAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAD,OAAA;IACA,IAAAE,OAAA,GAAAF,OAAA,iBAAAF,QAAA;IACA,IAAAK,gBAAA,GAAAH,OAAA,2BAAAF,QAAA;IACA,IAAAM,gBAAA,GAAAJ,OAAA,2BAAAF,QAAA;IACA,IAAAO,MAAA,GAAAL,OAAA,IAAAM,MAAA,CAAAJ,OAAA,iBAAAJ,QAAA;IAEA;MACAA,QAAA,EAAAA,QAAA;MACAO,MAAA,EAAAA,MAAA;MACAF,gBAAA,EAAAA,gBAAA;MACAC,gBAAA,EAAAA,gBAAA;MAEA;MACAV,QAAA;IACA;EACA;EAEAa,QAAA;IACAC,IAAA,WAAAA,KAAA;MACA,OAAArC,MAAA,MAAAuB,QAAA;IACA;IAEAe,WAAA,WAAAA,YAAA;MACA,YAAAR,MAAA,CAAAD,OAAA,2BAAAK,MAAA;IACA;IAEAK,eAAA,WAAAA,gBAAA;MACA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAC,MAAA,CAAAF,MAAA,CAAAC,OAAA;UAAAE,OAAA;UAAAjB,QAAA,EAAA7B,UAAA,CAAA+C;QACA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,QAAA,WAAAA,SAAAC,GAAA;MACA,IAAAC,KAAA;MAEA,IAAAC,GAAA,GAAAD,KAAA,CAAAE,OAAA,CAAAH,GAAA,CAAAI,UAAA;MAEA,IAAAF,GAAA;QACA;MACA;MAEA,eAAAf,MAAA,CAAAe,GAAA;IACA;IAEAG,IAAA,WAAAA,KAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAhB,IAAA;QACAC,MAAA;UAAAa,EAAA,EAAAA;QAAA;QACAG,KAAA,EAAAC,eAAA,KAAAzD,IAAA,EAAAC,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}