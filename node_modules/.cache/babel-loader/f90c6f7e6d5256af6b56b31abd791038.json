{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IE5hbWVzcGFjZSBmcm9tICdAc2hlbGwvbW9kZWxzL25hbWVzcGFjZSc7CmltcG9ydCB7IFNZU1RFTV9OQU1FU1BBQ0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCBTWVNURU1fTkFNRVNQQUNFUyBmcm9tICdAc2hlbGwvY29uZmlnL3N5c3RlbS1uYW1lc3BhY2VzJzsKZGVzY3JpYmUoJ2NsYXNzIE5hbWVzcGFjZScsIGZ1bmN0aW9uICgpIHsKICBkZXNjcmliZSgnY2hlY2tpbmcgaWYgaXNTeXN0ZW0nLCBmdW5jdGlvbiAoKSB7CiAgICBpdC5lYWNoKFtbJ3doYXRldmVyMScsIFNZU1RFTV9OQU1FU1BBQ0UsIHRydWVdLCBbJ3doYXRldmVyMicsICdhbnktYW5ub3RhdGlvbicsIGZhbHNlXSwgWyd3aGF0ZXZlcjMnLCAnJywgZmFsc2VdXSkoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBpdCBoYXMgdGhlIGNvcnJlY3QgYW5ub3RhdGlvbicsIGZ1bmN0aW9uIChuYW1lLCBhbm5vdGF0aW9uLCBleHBlY3RhdGlvbikgewogICAgICB2YXIgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmFtZXNwYWNlLm1ldGFkYXRhKSwge30sIHsKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH0pOwogICAgICBpZiAoYW5ub3RhdGlvbikgewogICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YS5hbm5vdGF0aW9ucyA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgYW5ub3RhdGlvbiwgJ3RydWUnKTsKICAgICAgfQogICAgICBleHBlY3QobmFtZXNwYWNlLmlzU3lzdGVtKS50b0JlKGV4cGVjdGF0aW9uKTsKICAgIH0pOwogICAgdmFyIGFzc2VydGlvbnNBcnIgPSBbXTsKICAgIFNZU1RFTV9OQU1FU1BBQ0VTLmZvckVhY2goZnVuY3Rpb24gKG5zKSB7CiAgICAgIGFzc2VydGlvbnNBcnIucHVzaChbbnMsIHRydWVdKTsKICAgIH0pOwogICAgYXNzZXJ0aW9uc0Fyci5wdXNoKFsnYy13aGF0ZXZlci1zeXN0ZW0nLCBmYWxzZV0pOwogICAgYXNzZXJ0aW9uc0Fyci5wdXNoKFsnY2F0dGxlLXdoYXRldmVyJywgZmFsc2VdKTsKICAgIGFzc2VydGlvbnNBcnIucHVzaChbJycsIGZhbHNlXSk7CiAgICBpdC5lYWNoKGFzc2VydGlvbnNBcnIpKCdzaG91bGQgcmV0dXJuIHRydWUgaWYgaXQgYmVsb25ncyB0byB0aGUgY3VyYXRlZCBsaXN0IG9mIG5hbWVzcGFjZXMnLCBmdW5jdGlvbiAobmFtZSwgZXhwZWN0YXRpb24pIHsKICAgICAgdmFyIG5hbWVzcGFjZSA9IG5ldyBOYW1lc3BhY2Uoe30pOwogICAgICBuYW1lc3BhY2UubWV0YWRhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG5hbWVzcGFjZS5tZXRhZGF0YSksIHt9LCB7CiAgICAgICAgbmFtZTogbmFtZQogICAgICB9KTsKICAgICAgZXhwZWN0KG5hbWVzcGFjZS5pc1N5c3RlbSkudG9CZShleHBlY3RhdGlvbik7CiAgICB9KTsKICAgIGl0LmVhY2goW1snY2F0dGxlLWMtd2hhdGV2ZXItc3lzdGVtJywgdHJ1ZV0sIFsnY2F0dGxlLXdoYXRldmVyJywgZmFsc2VdLCBbJ2Mtd2hhdGV2ZXItc3lzdGVtJywgZmFsc2VdXSkoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBzdGFydHMgd2l0aCAiY2F0dGxlLSIgZW5kIHdpdGggIi1zeXN0ZW0nLCBmdW5jdGlvbiAobmFtZSwgZXhwZWN0YXRpb24pIHsKICAgICAgdmFyIG5hbWVzcGFjZSA9IG5ldyBOYW1lc3BhY2Uoe30pOwogICAgICBuYW1lc3BhY2UubWV0YWRhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG5hbWVzcGFjZS5tZXRhZGF0YSksIHt9LCB7CiAgICAgICAgbmFtZTogbmFtZQogICAgICB9KTsKICAgICAgZXhwZWN0KG5hbWVzcGFjZS5pc1N5c3RlbSkudG9CZShleHBlY3RhdGlvbik7CiAgICB9KTsKICB9KTsKICBpdC50b2RvKCdzaG91bGQgY2hlY2sgaWYgaXNGbGVldE1hbmFnZWQnKTsKICBkZXNjcmliZSgnY2hlY2tpbmcgaWYgaXNPYnNjdXJlJywgZnVuY3Rpb24gKCkgewogICAgaXQuZWFjaChbWydjLXdoYXRldmVyLXN5c3RlbScsICdtYW5hZ2VtZW50LmNhdHRsZS5pby9zeXN0ZW0tbmFtZXNwYWNlJywgdHJ1ZV0sIFsncC13aGF0ZXZlcicsIFNZU1RFTV9OQU1FU1BBQ0UsIHRydWVdLCBbJ3Atd2hhdGV2ZXInLCAnJywgZmFsc2VdLCBbJycsICcnLCBmYWxzZV1dKSgnc2hvdWxkIHJldHVybiBhIHZhbHVlIGlmIGlzIHN5c3RlbSBBTkQgaGFzIHRoZSBjb3JyZWN0IHByZWZpeCcsIGZ1bmN0aW9uIChuYW1lLCBhbm5vdGF0aW9uLCBleHBlY3RhdGlvbikgewogICAgICB2YXIgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmFtZXNwYWNlLm1ldGFkYXRhKSwge30sIHsKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH0pOwogICAgICBpZiAoYW5ub3RhdGlvbikgewogICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YS5hbm5vdGF0aW9ucyA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgYW5ub3RhdGlvbiwgJ3RydWUnKTsKICAgICAgfQogICAgICBleHBlY3QobmFtZXNwYWNlLmlzT2JzY3VyZSkudG9CZShleHBlY3RhdGlvbik7CiAgICB9KTsKICB9KTsKICBpdC5lYWNoKFtbJ2ZvbzpiYXInLCAnYmFyJ10sIFsnJywgbnVsbF1dKSgnZ2l2ZW4gJXAgYW5ub3RhdGlvbiwgcHJvamVjdElkIHNob3VsZCBiZSAlcCcsIGZ1bmN0aW9uICh2YWx1ZSwgcmVzdWx0KSB7CiAgICB2YXIgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICBuYW1lc3BhY2UubWV0YWRhdGEgPSB7CiAgICAgIG5hbWU6ICcnLAogICAgICBhbm5vdGF0aW9uczogewogICAgICAgICdmaWVsZC5jYXR0bGUuaW8vcHJvamVjdElkJzogdmFsdWUKICAgICAgfQogICAgfTsKICAgIGV4cGVjdChuYW1lc3BhY2UucHJvamVjdElkKS50b0JlKHJlc3VsdCk7CiAgfSk7CiAgaXQudG9kbygnc2hvdWxkIHJldHVybiB0aGUgcHJvamVjdCcpOwogIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gdGhlIGdyb3VwQnlMYWJlbCB3aXRoIGkxOG4nKTsKICBpdC50b2RvKCdzaG91bGQgcmV0dXJuIHRoZSBwcm9qZWN0IG5hbWUgd2l0aCBpMThuJyk7CiAgaXQudG9kbygnc2hvdWxkIHJldHVybiB0aGUgcHJvamVjdE5hbWVTb3J0Jyk7CiAgaXQudG9kbygnc2hvdWxkIGNoZWNrIGlmIGlzdGlvSW5zdGFsbGVkJyk7CiAgaXQudG9kbygnc2hvdWxkIGNoZWNrIGlmIGluamVjdGlvbkVuYWJsZWQnKTsKICBkZXNjcmliZSgnaGFuZGxpbmcgSXN0aW8gIGxhYmVscycsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzYXZlID0gamVzdC5mbigpOwogICAgaXQuZWFjaChbewogICAgICBtZXRhZGF0YTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGxhYmVsczogewogICAgICAgICAgJ2lzdGlvLWluamVjdGlvbic6ICd3aGF0ZXZlcicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNhdmU6IHNhdmUKICAgIH0sIFt7CiAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgbGFiZWxzOiB7CiAgICAgICAgICAnaXN0aW8taW5qZWN0aW9uJzogJ3doYXRldmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2F2ZTogc2F2ZQogICAgfV1dKSgnc2hvdWxkIGhhbmRsZSBib3RoIGRhdGEgYXMgbGlzdCBhbmQgc2luZ2xlIG9iamVjdCBhbmQgc2F2ZScsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHZhciBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgbmFtZXNwYWNlLmVuYWJsZUF1dG9JbmplY3Rpb24oZGF0YSk7CiAgICAgIGV4cGVjdChzYXZlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpOwogICAgfSk7CiAgICBpdCgnc2hvdWxkIGFkZCBhdXRvIGluamVjdGlvbiBsYWJlbCBhcyBlbmFibGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAnaXN0aW8taW5qZWN0aW9uJzogJ3doYXRldmVyJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZTogc2F2ZQogICAgICB9OwogICAgICB2YXIgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgIG5hbWVzcGFjZS5lbmFibGVBdXRvSW5qZWN0aW9uKGRhdGEpOwogICAgICBleHBlY3QoZGF0YS5tZXRhZGF0YS5sYWJlbHNbJ2lzdGlvLWluamVjdGlvbiddKS50b0JlKCdlbmFibGVkJyk7CiAgICB9KTsKICAgIGl0KCdzaG91bGQgcmVtb3ZlIGxhYmVsIG9uIGRpc2FibGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAnaXN0aW8taW5qZWN0aW9uJzogJ3doYXRldmVyJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZTogc2F2ZQogICAgICB9OwogICAgICB2YXIgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgIG5hbWVzcGFjZS5lbmFibGVBdXRvSW5qZWN0aW9uKGRhdGEsIGZhbHNlKTsKICAgICAgZXhwZWN0KGRhdGEubWV0YWRhdGEubGFiZWxzWydpc3Rpby1pbmplY3Rpb24nXSkudG9CZVVuZGVmaW5lZCgpOwogICAgfSk7CiAgfSk7CiAgaXQudG9kbygnc2hvdWxkIGRpc2FibGVBdXRvSW5qZWN0aW9uJyk7CiAgaXQudG9kbygnc2hvdWxkIGNoZWNrIGlmIGNvbmZpcm1SZW1vdmUnKTsKICBkZXNjcmliZSgnaGFuZGxpbmcgbGlzdExvY2F0aW9uJywgZnVuY3Rpb24gKCkgewogICAgaXQuZWFjaChbWydjLWNsdXN0ZXItcHJvZHVjdC1wcm9qZWN0c25hbWVzcGFjZXMnLCB0cnVlXSwgWydjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsIGZhbHNlXV0pKCdzaG91bGQgcmV0dXJuIHRoZSBuYW1lICVwIGlmIGlzIFJhbmNoZXIgKCVwKScsIGZ1bmN0aW9uIChuYW1lLCBpc1JhbmNoZXIpIHsKICAgICAgdmFyIG5hbWVzcGFjZSA9IG5ldyBOYW1lc3BhY2Uoe30pOwogICAgICBqZXN0LnNweU9uKG5hbWVzcGFjZSwgJyRyb290R2V0dGVycycsICdnZXQnKS5tb2NrUmV0dXJuVmFsdWUoewogICAgICAgIGlzUmFuY2hlcjogaXNSYW5jaGVyLAogICAgICAgIGN1cnJlbnRQcm9kdWN0OiB7CiAgICAgICAgICBpblN0b3JlOiAnJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGV4cGVjdChuYW1lc3BhY2UubGlzdExvY2F0aW9uLm5hbWUpLnRvQmUobmFtZSk7CiAgICB9KTsKICAgIGl0KCdzaG91bGQgcmV0dXJuIHRoZSBuYW1lIGFuZCByZXNvdXJjZSBpZiBIYXJ2ZXN0ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgamVzdC5zcHlPbihuYW1lc3BhY2UsICckcm9vdEdldHRlcnMnLCAnZ2V0JykubW9ja1JldHVyblZhbHVlKHsKICAgICAgICBpc1JhbmNoZXI6IHRydWUsCiAgICAgICAgY3VycmVudFByb2R1Y3Q6IHsKICAgICAgICAgIGluU3RvcmU6ICdoYXJ2ZXN0ZXInCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIHZhbHVlID0gewogICAgICAgIG5hbWU6ICdoYXJ2ZXN0ZXItYy1jbHVzdGVyLXByb2plY3RzbmFtZXNwYWNlcycsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICByZXNvdXJjZTogJ25hbWVzcGFjZScKICAgICAgICB9CiAgICAgIH07CiAgICAgIGV4cGVjdChuYW1lc3BhY2UubGlzdExvY2F0aW9uKS50b1N0cmljdEVxdWFsKHZhbHVlKTsKICAgIH0pOwogIH0pOwogIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gX2RldGFpbExvY2F0aW9uIHdpdGggYSBuYW1lJyk7CiAgaXQudG9kbygnc2hvdWxkIHJldHVybiB0aGUgcmVzb3VyY2VRdW90YScpOwogIGl0LnRvZG8oJ3Nob3VsZCBzZXQgdGhlIHJlc291cmNlUXVvdGEgYXMgcmVhY3RpdmUgVnVlIHByb3BlcnR5Jyk7CiAgaXQudG9kbygnc2hvdWxkIHJlc2V0IHByb2plY3Qgd2l0aCBjbGVhbkZvck5ldycpOwp9KTs="},{"version":3,"names":["Namespace","SYSTEM_NAMESPACE","SYSTEM_NAMESPACES","describe","it","each","name","annotation","expectation","namespace","metadata","_objectSpread","annotations","_defineProperty","expect","isSystem","toBe","assertionsArr","forEach","ns","push","todo","isObscure","value","result","projectId","save","jest","fn","labels","data","enableAutoInjection","toHaveBeenCalledWith","toBeUndefined","isRancher","spyOn","mockReturnValue","currentProduct","inStore","listLocation","params","resource","toStrictEqual"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts"],"sourcesContent":["import Namespace from '@shell/models/namespace';\nimport { SYSTEM_NAMESPACE } from '@shell/config/labels-annotations';\nimport SYSTEM_NAMESPACES from '@shell/config/system-namespaces';\n\ndescribe('class Namespace', () => {\n  describe('checking if isSystem', () => {\n    it.each([\n      ['whatever1', SYSTEM_NAMESPACE, true],\n      ['whatever2', 'any-annotation', false],\n      ['whatever3', '', false]\n    ])('should return true if it has the correct annotation', (name, annotation, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      if (annotation) {\n        namespace.metadata.annotations = { [annotation]: 'true' };\n      }\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n\n    const assertionsArr = [];\n\n    SYSTEM_NAMESPACES.forEach((ns) => {\n      assertionsArr.push([ns, true]);\n    });\n\n    assertionsArr.push(['c-whatever-system', false]);\n    assertionsArr.push(['cattle-whatever', false]);\n    assertionsArr.push(['', false]);\n\n    it.each(assertionsArr)('should return true if it belongs to the curated list of namespaces', (name, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n\n    it.each([\n      ['cattle-c-whatever-system', true],\n      ['cattle-whatever', false],\n      ['c-whatever-system', false]\n    ])('should return true if starts with \"cattle-\" end with \"-system', (name, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n  });\n\n  it.todo('should check if isFleetManaged');\n\n  describe('checking if isObscure', () => {\n    it.each([\n      ['c-whatever-system', 'management.cattle.io/system-namespace', true],\n      ['p-whatever', SYSTEM_NAMESPACE, true],\n      ['p-whatever', '', false],\n      ['', '', false]\n    ])('should return a value if is system AND has the correct prefix', (name, annotation, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      if (annotation) {\n        namespace.metadata.annotations = { [annotation]: 'true' };\n      }\n\n      expect(namespace.isObscure).toBe(expectation);\n    });\n  });\n\n  it.each([\n    ['foo:bar', 'bar'],\n    ['', null]\n  ])('given %p annotation, projectId should be %p', (value, result) => {\n    const namespace = new Namespace({});\n\n    namespace.metadata = { name: '', annotations: { 'field.cattle.io/projectId': value } };\n\n    expect(namespace.projectId).toBe(result);\n  });\n\n  it.todo('should return the project');\n  it.todo('should return the groupByLabel with i18n');\n  it.todo('should return the project name with i18n');\n  it.todo('should return the projectNameSort');\n  it.todo('should check if istioInstalled');\n  it.todo('should check if injectionEnabled');\n\n  describe('handling Istio  labels', () => {\n    const save = jest.fn();\n\n    it.each([\n      { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save },\n      [{ metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save }],\n    ])('should handle both data as list and single object and save', (data) => {\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace);\n\n      expect(save).toHaveBeenCalledWith();\n    });\n\n    it('should add auto injection label as enable', () => {\n      const data = { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save };\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace);\n\n      expect(data.metadata!.labels['istio-injection']).toBe('enabled');\n    });\n\n    it('should remove label on disable', () => {\n      const data = { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save };\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace, false);\n\n      expect(data.metadata!.labels['istio-injection']).toBeUndefined();\n    });\n  });\n\n  it.todo('should disableAutoInjection');\n  it.todo('should check if confirmRemove');\n\n  describe('handling listLocation', () => {\n    it.each([\n      ['c-cluster-product-projectsnamespaces', true],\n      ['c-cluster-product-resource', false],\n    ])('should return the name %p if is Rancher (%p)', (name, isRancher) => {\n      const namespace = new Namespace({});\n\n      jest.spyOn(namespace, '$rootGetters', 'get').mockReturnValue({\n        isRancher,\n        currentProduct: { inStore: '' }\n      });\n\n      expect(namespace.listLocation.name).toBe(name);\n    });\n\n    it('should return the name and resource if Harvester', () => {\n      const namespace = new Namespace({});\n\n      jest.spyOn(namespace, '$rootGetters', 'get').mockReturnValue({\n        isRancher:      true,\n        currentProduct: { inStore: 'harvester' }\n      });\n\n      const value = {\n        name:   'harvester-c-cluster-projectsnamespaces',\n        params: { resource: 'namespace' }\n      };\n\n      expect(namespace.listLocation).toStrictEqual(value);\n    });\n  });\n\n  it.todo('should return _detailLocation with a name');\n  it.todo('should return the resourceQuota');\n  it.todo('should set the resourceQuota as reactive Vue property');\n  it.todo('should reset project with cleanForNew');\n});\n"],"mappings":";;;;;;;;;;;AAAA,OAAOA,SAAS,MAAM,yBAAyB;AAC/C,SAASC,gBAAgB,QAAQ,kCAAkC;AACnE,OAAOC,iBAAiB,MAAM,iCAAiC;AAE/DC,QAAQ,CAAC,iBAAiB,EAAE,YAAK;EAC/BA,QAAQ,CAAC,sBAAsB,EAAE,YAAK;IACpCC,EAAE,CAACC,IAAI,CAAC,CACN,CAAC,WAAW,EAAEJ,gBAAgB,EAAE,IAAI,CAAC,EACrC,CAAC,WAAW,EAAE,gBAAgB,EAAE,KAAK,CAAC,EACtC,CAAC,WAAW,EAAE,EAAE,EAAE,KAAK,CAAC,CACzB,CAAC,CAAC,qDAAqD,EAAE,UAACK,IAAI,EAAEC,UAAU,EAAEC,WAAW,EAAI;MAC1F,IAAMC,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACC,QAAQ,GAAAC,aAAA,CAAAA,aAAA,KAAQF,SAAS,CAACC,QAAQ;QAAEJ,IAAI,EAAJA;MAAI,EAAE;MAEpD,IAAIC,UAAU,EAAE;QACdE,SAAS,CAACC,QAAQ,CAACE,WAAW,GAAAC,eAAA,KAAMN,UAAU,EAAG,MAAM,CAAE;;MAG3DO,MAAM,CAACL,SAAS,CAACM,QAAQ,CAAC,CAACC,IAAI,CAACR,WAAW,CAAC;IAC9C,CAAC,CAAC;IAEF,IAAMS,aAAa,GAAG,EAAE;IAExBf,iBAAiB,CAACgB,OAAO,CAAC,UAACC,EAAE,EAAI;MAC/BF,aAAa,CAACG,IAAI,CAAC,CAACD,EAAE,EAAE,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC;IAEFF,aAAa,CAACG,IAAI,CAAC,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;IAChDH,aAAa,CAACG,IAAI,CAAC,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;IAC9CH,aAAa,CAACG,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAE/BhB,EAAE,CAACC,IAAI,CAACY,aAAa,CAAC,CAAC,oEAAoE,EAAE,UAACX,IAAI,EAAEE,WAAW,EAAI;MACjH,IAAMC,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACC,QAAQ,GAAAC,aAAA,CAAAA,aAAA,KAAQF,SAAS,CAACC,QAAQ;QAAEJ,IAAI,EAAJA;MAAI,EAAE;MAEpDQ,MAAM,CAACL,SAAS,CAACM,QAAQ,CAAC,CAACC,IAAI,CAACR,WAAW,CAAC;IAC9C,CAAC,CAAC;IAEFJ,EAAE,CAACC,IAAI,CAAC,CACN,CAAC,0BAA0B,EAAE,IAAI,CAAC,EAClC,CAAC,iBAAiB,EAAE,KAAK,CAAC,EAC1B,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAC7B,CAAC,CAAC,+DAA+D,EAAE,UAACC,IAAI,EAAEE,WAAW,EAAI;MACxF,IAAMC,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACC,QAAQ,GAAAC,aAAA,CAAAA,aAAA,KAAQF,SAAS,CAACC,QAAQ;QAAEJ,IAAI,EAAJA;MAAI,EAAE;MAEpDQ,MAAM,CAACL,SAAS,CAACM,QAAQ,CAAC,CAACC,IAAI,CAACR,WAAW,CAAC;IAC9C,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFJ,EAAE,CAACiB,IAAI,CAAC,gCAAgC,CAAC;EAEzClB,QAAQ,CAAC,uBAAuB,EAAE,YAAK;IACrCC,EAAE,CAACC,IAAI,CAAC,CACN,CAAC,mBAAmB,EAAE,uCAAuC,EAAE,IAAI,CAAC,EACpE,CAAC,YAAY,EAAEJ,gBAAgB,EAAE,IAAI,CAAC,EACtC,CAAC,YAAY,EAAE,EAAE,EAAE,KAAK,CAAC,EACzB,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,CAChB,CAAC,CAAC,+DAA+D,EAAE,UAACK,IAAI,EAAEC,UAAU,EAAEC,WAAW,EAAI;MACpG,IAAMC,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACC,QAAQ,GAAAC,aAAA,CAAAA,aAAA,KAAQF,SAAS,CAACC,QAAQ;QAAEJ,IAAI,EAAJA;MAAI,EAAE;MAEpD,IAAIC,UAAU,EAAE;QACdE,SAAS,CAACC,QAAQ,CAACE,WAAW,GAAAC,eAAA,KAAMN,UAAU,EAAG,MAAM,CAAE;;MAG3DO,MAAM,CAACL,SAAS,CAACa,SAAS,CAAC,CAACN,IAAI,CAACR,WAAW,CAAC;IAC/C,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFJ,EAAE,CAACC,IAAI,CAAC,CACN,CAAC,SAAS,EAAE,KAAK,CAAC,EAClB,CAAC,EAAE,EAAE,IAAI,CAAC,CACX,CAAC,CAAC,6CAA6C,EAAE,UAACkB,KAAK,EAAEC,MAAM,EAAI;IAClE,IAAMf,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;IAEnCS,SAAS,CAACC,QAAQ,GAAG;MAAEJ,IAAI,EAAE,EAAE;MAAEM,WAAW,EAAE;QAAE,2BAA2B,EAAEW;MAAK;IAAE,CAAE;IAEtFT,MAAM,CAACL,SAAS,CAACgB,SAAS,CAAC,CAACT,IAAI,CAACQ,MAAM,CAAC;EAC1C,CAAC,CAAC;EAEFpB,EAAE,CAACiB,IAAI,CAAC,2BAA2B,CAAC;EACpCjB,EAAE,CAACiB,IAAI,CAAC,0CAA0C,CAAC;EACnDjB,EAAE,CAACiB,IAAI,CAAC,0CAA0C,CAAC;EACnDjB,EAAE,CAACiB,IAAI,CAAC,mCAAmC,CAAC;EAC5CjB,EAAE,CAACiB,IAAI,CAAC,gCAAgC,CAAC;EACzCjB,EAAE,CAACiB,IAAI,CAAC,kCAAkC,CAAC;EAE3ClB,QAAQ,CAAC,wBAAwB,EAAE,YAAK;IACtC,IAAMuB,IAAI,GAAGC,IAAI,CAACC,EAAE,EAAE;IAEtBxB,EAAE,CAACC,IAAI,CAAC,CACN;MAAEK,QAAQ,EAAE;QAAEJ,IAAI,EAAE,EAAE;QAAEuB,MAAM,EAAE;UAAE,iBAAiB,EAAE;QAAU;MAAE,CAAE;MAAEH,IAAI,EAAJA;IAAI,CAAE,EAC3E,CAAC;MAAEhB,QAAQ,EAAE;QAAEJ,IAAI,EAAE,EAAE;QAAEuB,MAAM,EAAE;UAAE,iBAAiB,EAAE;QAAU;MAAE,CAAE;MAAEH,IAAI,EAAJA;IAAI,CAAE,CAAC,CAC9E,CAAC,CAAC,4DAA4D,EAAE,UAACI,IAAI,EAAI;MACxE,IAAMrB,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACsB,mBAAmB,CAACD,IAA4B,CAAC;MAE3DhB,MAAM,CAACY,IAAI,CAAC,CAACM,oBAAoB,EAAE;IACrC,CAAC,CAAC;IAEF5B,EAAE,CAAC,2CAA2C,EAAE,YAAK;MACnD,IAAM0B,IAAI,GAAG;QAAEpB,QAAQ,EAAE;UAAEJ,IAAI,EAAE,EAAE;UAAEuB,MAAM,EAAE;YAAE,iBAAiB,EAAE;UAAU;QAAE,CAAE;QAAEH,IAAI,EAAJA;MAAI,CAAE;MACxF,IAAMjB,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACsB,mBAAmB,CAACD,IAA4B,CAAC;MAE3DhB,MAAM,CAACgB,IAAI,CAACpB,QAAS,CAACmB,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAACb,IAAI,CAAC,SAAS,CAAC;IAClE,CAAC,CAAC;IAEFZ,EAAE,CAAC,gCAAgC,EAAE,YAAK;MACxC,IAAM0B,IAAI,GAAG;QAAEpB,QAAQ,EAAE;UAAEJ,IAAI,EAAE,EAAE;UAAEuB,MAAM,EAAE;YAAE,iBAAiB,EAAE;UAAU;QAAE,CAAE;QAAEH,IAAI,EAAJA;MAAI,CAAE;MACxF,IAAMjB,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnCS,SAAS,CAACsB,mBAAmB,CAACD,IAA4B,EAAE,KAAK,CAAC;MAElEhB,MAAM,CAACgB,IAAI,CAACpB,QAAS,CAACmB,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAACI,aAAa,EAAE;IAClE,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF7B,EAAE,CAACiB,IAAI,CAAC,6BAA6B,CAAC;EACtCjB,EAAE,CAACiB,IAAI,CAAC,+BAA+B,CAAC;EAExClB,QAAQ,CAAC,uBAAuB,EAAE,YAAK;IACrCC,EAAE,CAACC,IAAI,CAAC,CACN,CAAC,sCAAsC,EAAE,IAAI,CAAC,EAC9C,CAAC,4BAA4B,EAAE,KAAK,CAAC,CACtC,CAAC,CAAC,8CAA8C,EAAE,UAACC,IAAI,EAAE4B,SAAS,EAAI;MACrE,IAAMzB,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnC2B,IAAI,CAACQ,KAAK,CAAC1B,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC2B,eAAe,CAAC;QAC3DF,SAAS,EAATA,SAAS;QACTG,cAAc,EAAE;UAAEC,OAAO,EAAE;QAAE;OAC9B,CAAC;MAEFxB,MAAM,CAACL,SAAS,CAAC8B,YAAY,CAACjC,IAAI,CAAC,CAACU,IAAI,CAACV,IAAI,CAAC;IAChD,CAAC,CAAC;IAEFF,EAAE,CAAC,kDAAkD,EAAE,YAAK;MAC1D,IAAMK,SAAS,GAAG,IAAIT,SAAS,CAAC,EAAE,CAAC;MAEnC2B,IAAI,CAACQ,KAAK,CAAC1B,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC2B,eAAe,CAAC;QAC3DF,SAAS,EAAO,IAAI;QACpBG,cAAc,EAAE;UAAEC,OAAO,EAAE;QAAW;OACvC,CAAC;MAEF,IAAMf,KAAK,GAAG;QACZjB,IAAI,EAAI,wCAAwC;QAChDkC,MAAM,EAAE;UAAEC,QAAQ,EAAE;QAAW;OAChC;MAED3B,MAAM,CAACL,SAAS,CAAC8B,YAAY,CAAC,CAACG,aAAa,CAACnB,KAAK,CAAC;IACrD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFnB,EAAE,CAACiB,IAAI,CAAC,2CAA2C,CAAC;EACpDjB,EAAE,CAACiB,IAAI,CAAC,iCAAiC,CAAC;EAC1CjB,EAAE,CAACiB,IAAI,CAAC,uDAAuD,CAAC;EAChEjB,EAAE,CAACiB,IAAI,CAAC,uCAAuC,CAAC;AAClD,CAAC,CAAC","ignoreList":[]}]}