{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/poller.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/poller.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwp2YXIgUG9sbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQb2xsZXIoZm4sIHBvbGxSYXRlTXMpIHsKICAgIHZhciBtYXhSZXRyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9sbGVyKTsKICAgIHRoaXMuZm4gPSB2b2lkIDA7CiAgICB0aGlzLnBvbGxSYXRlTXMgPSB2b2lkIDA7CiAgICB0aGlzLm1heFJldHJpZXMgPSB2b2lkIDA7CiAgICB0aGlzLmludGVydmFsSWQgPSB2b2lkIDA7CiAgICB0aGlzLnRyeUNvdW50ID0gMDsKICAgIHRoaXMuZm4gPSBmbiB8fCBmdW5jdGlvbiAoKSB7fTsKICAgIHRoaXMucG9sbFJhdGVNcyA9IHBvbGxSYXRlTXM7CiAgICB0aGlzLm1heFJldHJpZXMgPSBtYXhSZXRyaWVzOwogIH0KICByZXR1cm4gX2NyZWF0ZUNsYXNzKFBvbGxlciwgW3sKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgLy8gRW5zdXJlIG9ubHkgb25lIGlzIHJ1bm5pbmcKICAgICAgdGhpcy5zdG9wKCk7CiAgICAgIHRoaXMuX2ludGVydmFsTWV0aG9kKCk7CiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuX2ludGVydmFsTWV0aG9kKCk7CiAgICAgIH0sIHRoaXMucG9sbFJhdGVNcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTsKICAgICAgICB0aGlzLmludGVydmFsSWQgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfaW50ZXJ2YWxNZXRob2QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbnRlcnZhbE1ldGhvZDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mbigpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgdGhpcy50cnlDb3VudCA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBwb2xsaW5nJywgX2NvbnRleHQudDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICBpZiAoKyt0aGlzLnRyeUNvdW50ID49IHRoaXMubWF4UmV0cmllcykgewogICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCA2XV0pOwogICAgICB9KSk7CiAgICAgIGZ1bmN0aW9uIF9pbnRlcnZhbE1ldGhvZCgpIHsKICAgICAgICByZXR1cm4gX2ludGVydmFsTWV0aG9kMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBfaW50ZXJ2YWxNZXRob2Q7CiAgICB9KCkKICB9XSk7Cn0oKTsKZXhwb3J0IHsgUG9sbGVyIGFzIGRlZmF1bHQgfTs="},{"version":3,"names":["Poller","fn","pollRateMs","maxRetries","arguments","length","undefined","Number","POSITIVE_INFINITY","_classCallCheck","intervalId","tryCount","_createClass","key","value","start","_this","stop","_intervalMethod","setInterval","clearInterval","_intervalMethod2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","console","error","apply","default"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/poller.js"],"sourcesContent":["export default class Poller {\n    fn;\n    pollRateMs;\n    maxRetries;\n    intervalId;\n    tryCount = 0;\n\n    constructor(fn, pollRateMs, maxRetries = Number.POSITIVE_INFINITY) {\n      this.fn = fn || (() => {});\n      this.pollRateMs = pollRateMs;\n      this.maxRetries = maxRetries;\n    }\n\n    start() {\n      // Ensure only one is running\n      this.stop();\n      this._intervalMethod();\n      this.intervalId = setInterval(() => this._intervalMethod(), this.pollRateMs);\n    }\n\n    stop() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = undefined;\n      }\n    }\n\n    async _intervalMethod() {\n      try {\n        await this.fn();\n        this.tryCount = 0;\n      } catch (ex) {\n        console.error('Error encountered while polling', ex); // eslint-disable-line no-console\n        if (++this.tryCount >= this.maxRetries) {\n          this.stop();\n        }\n      }\n    }\n}\n"],"mappings":";;;;;;IAAqBA,MAAM;EAOvB,SAAAA,OAAYC,EAAE,EAAEC,UAAU,EAAyC;IAAA,IAAvCC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGG,MAAM,CAACC,iBAAiB;IAAAC,eAAA,OAAAT,MAAA;IAAA,KANjEC,EAAE;IAAA,KACFC,UAAU;IAAA,KACVC,UAAU;IAAA,KACVO,UAAU;IAAA,KACVC,QAAQ,GAAG,CAAC;IAGV,IAAI,CAACV,EAAE,GAAGA,EAAE,IAAK,YAAM,CAAC,CAAE;IAC1B,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,UAAU,GAAGA,UAAU;EAC9B;EAAC,OAAAS,YAAA,CAAAZ,MAAA;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAA,EAAQ;MAAA,IAAAC,KAAA;MACN;MACA,IAAI,CAACC,IAAI,CAAC,CAAC;MACX,IAAI,CAACC,eAAe,CAAC,CAAC;MACtB,IAAI,CAACR,UAAU,GAAGS,WAAW,CAAC;QAAA,OAAMH,KAAI,CAACE,eAAe,CAAC,CAAC;MAAA,GAAE,IAAI,CAAChB,UAAU,CAAC;IAC9E;EAAC;IAAAW,GAAA;IAAAC,KAAA,EAED,SAAAG,KAAA,EAAO;MACL,IAAI,IAAI,CAACP,UAAU,EAAE;QACnBU,aAAa,CAAC,IAAI,CAACV,UAAU,CAAC;QAC9B,IAAI,CAACA,UAAU,GAAGJ,SAAS;MAC7B;IACF;EAAC;IAAAO,GAAA;IAAAC,KAAA;MAAA,IAAAO,gBAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAED,SAAAC,QAAA;QAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEU,IAAI,CAAC7B,EAAE,CAAC,CAAC;YAAA;cACf,IAAI,CAACU,QAAQ,GAAG,CAAC;cAACiB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAG,EAAA,GAAAH,QAAA;cAElBI,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAAL,QAAA,CAAAG,EAAI,CAAC,CAAC,CAAC;cACtD,IAAI,EAAE,IAAI,CAACpB,QAAQ,IAAI,IAAI,CAACR,UAAU,EAAE;gBACtC,IAAI,CAACc,IAAI,CAAC,CAAC;cACb;YAAC;YAAA;cAAA,OAAAW,QAAA,CAAAX,IAAA;UAAA;QAAA,GAAAQ,OAAA;MAAA,CAEJ;MAAA,SAAAP,gBAAA;QAAA,OAAAG,gBAAA,CAAAa,KAAA,OAAA9B,SAAA;MAAA;MAAA,OAAAc,eAAA;IAAA;EAAA;AAAA;AAAA,SArCgBlB,MAAM,IAAAmC,OAAA","ignoreList":[]}]}