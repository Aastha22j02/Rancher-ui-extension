{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/explorer/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/explorer/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5hZGQtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5kZWxldGUtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5kaWZmZXJlbmNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pbnRlcnNlY3Rpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmlzLWRpc2pvaW50LWZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmlzLXN1YnNldC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuaXMtc3VwZXJzZXQtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5zeW1tZXRyaWMtZGlmZmVyZW5jZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQudW5pb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBEYXNoYm9hcmRNZXRyaWNzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0Rhc2hib2FyZE1ldHJpY3MnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IENBUEksIEVORFBPSU5UUywgRVZFTlQsIE5BTUVTUEFDRSwgSU5HUkVTUywgTUFOQUdFTUVOVCwgTUVUUklDLCBOT0RFLCBTRVJWSUNFLCBQViwgV09SS0xPQURfVFlQRVMsIENPVU5ULCBDQVRBTE9HLCBTRUNSRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgTk9ERV9BUkNISVRFQ1RVUkUgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IHNldFByb21pc2VSZXN1bHQgfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCBBbGVydFRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FsZXJ0VGFibGUnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBwYXJzZVNpLCBjcmVhdGVNZW1vcnlWYWx1ZXMgfSBmcm9tICdAc2hlbGwvdXRpbHMvdW5pdHMnOwppbXBvcnQgeyBOQU1FLCBST0xFUywgU1RBVEUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgeyBtb25pdG9yaW5nU3RhdHVzLCBjYW5WaWV3R3JhZmFuYUxpbmsgfSBmcm9tICdAc2hlbGwvdXRpbHMvbW9uaXRvcmluZyc7CmltcG9ydCBUYWJiZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IHsgYWxsRGFzaGJvYXJkc0V4aXN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2dyYWZhbmEnOwppbXBvcnQgRXRjZEluZm9CYW5uZXIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvRXRjZEluZm9CYW5uZXInOwppbXBvcnQgbWV0cmljUG9sbGVyIGZyb20gJ0BzaGVsbC9taXhpbnMvbWV0cmljLXBvbGxlcic7CmltcG9ydCBSZXNvdXJjZVN1bW1hcnksIHsgcmVzb3VyY2VDb3VudHMgfSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVN1bW1hcnknOwppbXBvcnQgSGFyZHdhcmVSZXNvdXJjZUdhdWdlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0hhcmR3YXJlUmVzb3VyY2VHYXVnZSc7CmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IENvbmZpZ0JhZGdlIGZyb20gJy4vQ29uZmlnQmFkZ2UnOwppbXBvcnQgRXZlbnRzVGFibGUgZnJvbSAnLi9FdmVudHNUYWJsZSc7CmltcG9ydCB7IGZldGNoQ2x1c3RlclJlc291cmNlcyB9IGZyb20gJy4vZXhwbG9yZXItdXRpbHMnOwppbXBvcnQgU2ltcGxlQm94IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NpbXBsZUJveCc7CmltcG9ydCB7IEV4dGVuc2lvblBvaW50LCBDYXJkTG9jYXRpb24gfSBmcm9tICdAc2hlbGwvY29yZS90eXBlcyc7CmltcG9ydCB7IGdldEFwcGxpY2FibGVFeHRlbnNpb25FbmhhbmNlbWVudHMgfSBmcm9tICdAc2hlbGwvY29yZS9wbHVnaW4taGVscGVycyc7CmltcG9ydCBDZXJ0aWZpY2F0ZXMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ2VydGlmaWNhdGVzJzsKaW1wb3J0IHsgTkFNRSBhcyBFWFBMT1JFUiB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9leHBsb3Jlcic7CmltcG9ydCBUYWJUaXRsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJUaXRsZSc7CmltcG9ydCB7IFNUQVRFU19FTlVNIH0gZnJvbSAnQHNoZWxsL3BsdWdpbnMvZGFzaGJvYXJkLXN0b3JlL3Jlc291cmNlLWNsYXNzJzsKaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnbG9kYXNoL2NhcGl0YWxpemUnOwpleHBvcnQgdmFyIFJFU09VUkNFUyA9IFtOQU1FU1BBQ0UsIElOR1JFU1MsIFBWLCBXT1JLTE9BRF9UWVBFUy5ERVBMT1lNRU5ULCBXT1JLTE9BRF9UWVBFUy5TVEFURUZVTF9TRVQsIFdPUktMT0FEX1RZUEVTLkpPQiwgV09SS0xPQURfVFlQRVMuREFFTU9OX1NFVCwgU0VSVklDRV07CnZhciBDTFVTVEVSX01FVFJJQ1NfREVUQUlMX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWNsdXN0ZXItbm9kZXMtMS9yYW5jaGVyLWNsdXN0ZXItbm9kZXM/b3JnSWQ9MSc7CnZhciBDTFVTVEVSX01FVFJJQ1NfU1VNTUFSWV9VUkwgPSAnL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9zZXJ2aWNlcy9odHRwOnJhbmNoZXItbW9uaXRvcmluZy1ncmFmYW5hOjgwL3Byb3h5L2QvcmFuY2hlci1jbHVzdGVyLTEvcmFuY2hlci1jbHVzdGVyP29yZ0lkPTEnOwp2YXIgSzhTX01FVFJJQ1NfREVUQUlMX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWs4cy1jb21wb25lbnRzLW5vZGVzLTEvcmFuY2hlci1rdWJlcm5ldGVzLWNvbXBvbmVudHMtbm9kZXM/b3JnSWQ9MSc7CnZhciBLOFNfTUVUUklDU19TVU1NQVJZX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWs4cy1jb21wb25lbnRzLTEvcmFuY2hlci1rdWJlcm5ldGVzLWNvbXBvbmVudHM/b3JnSWQ9MSc7CnZhciBFVENEX01FVFJJQ1NfREVUQUlMX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWV0Y2Qtbm9kZXMtMS9yYW5jaGVyLWV0Y2Qtbm9kZXM/b3JnSWQ9MSc7CnZhciBFVENEX01FVFJJQ1NfU1VNTUFSWV9VUkwgPSAnL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9zZXJ2aWNlcy9odHRwOnJhbmNoZXItbW9uaXRvcmluZy1ncmFmYW5hOjgwL3Byb3h5L2QvcmFuY2hlci1ldGNkLTEvcmFuY2hlci1ldGNkP29yZ0lkPTEnOwp2YXIgQ0xVU1RFUl9DT01QT05FTlRTID0gWydldGNkJywgJ3NjaGVkdWxlcicsICdjb250cm9sbGVyLW1hbmFnZXInXTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDbHVzdGVyRXhwbG9yZXJJbmRleFBhZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIEV0Y2RJbmZvQmFubmVyOiBFdGNkSW5mb0Jhbm5lciwKICAgIERhc2hib2FyZE1ldHJpY3M6IERhc2hib2FyZE1ldHJpY3MsCiAgICBIYXJkd2FyZVJlc291cmNlR2F1Z2U6IEhhcmR3YXJlUmVzb3VyY2VHYXVnZSwKICAgIFJlc291cmNlU3VtbWFyeTogUmVzb3VyY2VTdW1tYXJ5LAogICAgVGFiOiBUYWIsCiAgICBUYWJiZWQ6IFRhYmJlZCwKICAgIEFsZXJ0VGFibGU6IEFsZXJ0VGFibGUsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIENvbmZpZ0JhZGdlOiBDb25maWdCYWRnZSwKICAgIEV2ZW50c1RhYmxlOiBFdmVudHNUYWJsZSwKICAgIFNpbXBsZUJveDogU2ltcGxlQm94LAogICAgQ2VydGlmaWNhdGVzOiBDZXJ0aWZpY2F0ZXMsCiAgICBUYWJUaXRsZTogVGFiVGl0bGUKICB9LAogIG1peGluczogW21ldHJpY1BvbGxlcl0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgZmV0Y2hDbHVzdGVyUmVzb3VyY2VzKHRoaXMuJHN0b3JlLCBOT0RFKTsKICAgIGlmICh0aGlzLmN1cnJlbnRDbHVzdGVyKSB7CiAgICAgIHNldFByb21pc2VSZXN1bHQoYWxsRGFzaGJvYXJkc0V4aXN0KHRoaXMuJHN0b3JlLCB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkLCBbQ0xVU1RFUl9NRVRSSUNTX0RFVEFJTF9VUkwsIENMVVNURVJfTUVUUklDU19TVU1NQVJZX1VSTF0pLCB0aGlzLCAnc2hvd0NsdXN0ZXJNZXRyaWNzJywgIkRldGVybWluZSBjbHVzdGVyIG1ldHJpY3MiKTsKICAgICAgc2V0UHJvbWlzZVJlc3VsdChhbGxEYXNoYm9hcmRzRXhpc3QodGhpcy4kc3RvcmUsIHRoaXMuY3VycmVudENsdXN0ZXIuaWQsIFtLOFNfTUVUUklDU19ERVRBSUxfVVJMLCBLOFNfTUVUUklDU19TVU1NQVJZX1VSTF0pLCB0aGlzLCAnc2hvd0s4c01ldHJpY3MnLCAiRGV0ZXJtaW5lIGs4cyBtZXRyaWNzIik7CiAgICAgIHNldFByb21pc2VSZXN1bHQoYWxsRGFzaGJvYXJkc0V4aXN0KHRoaXMuJHN0b3JlLCB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkLCBbRVRDRF9NRVRSSUNTX0RFVEFJTF9VUkwsIEVUQ0RfTUVUUklDU19TVU1NQVJZX1VSTF0pLCB0aGlzLCAnc2hvd0V0Y2RNZXRyaWNzJywgIkRldGVybWluZSBldGNkIG1ldHJpY3MiKTsKCiAgICAgIC8vIEl0J3Mgbm90IGVub3VnaCB0byBjaGVjayB0aGF0IHRoZSBncmFmYW5hIGxpbmtzIGFyZSB3b3JraW5nIGZvciB0aGUgY3VycmVudCB1c2VyOyBlbWJlZGRlZCBjbHVzdGVyLWxldmVsIGRhc2hib2FyZHMgc2hvdWxkIG9ubHkgYmUgc2hvd24gaWYgdGhlIHVzZXIgY2FuIHZpZXcgdGhlIGdyYWZhbmEgZW5kcG9pbnQKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JhbmNoZXIvZGFzaGJvYXJkL2lzc3Vlcy85NzkyCiAgICAgIHNldFByb21pc2VSZXN1bHQoY2FuVmlld0dyYWZhbmFMaW5rKHRoaXMuJHN0b3JlKSwgdGhpcywgJ2NhblZpZXdNZXRyaWNzJywgJ0RldGVybWluZSBHcmFmYW5hIFBlcm1pc3Npb24nKTsKICAgICAgaWYgKHRoaXMuY3VycmVudENsdXN0ZXIuaXNMb2NhbCAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKE1BTkFHRU1FTlQuTk9ERSkpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5jYW5WaWV3QWdlbnRzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9jYW5MaXN0J10oV09SS0xPQURfVFlQRVMuREVQTE9ZTUVOVCkgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9jYW5MaXN0J10oV09SS0xPQURfVFlQRVMuU1RBVEVGVUxfU0VUKTsKICAgICAgaWYgKHRoaXMuY2FuVmlld0FnZW50cykgewogICAgICAgIHRoaXMubG9hZEFnZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGNsdXN0ZXJDb3VudHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJjbHVzdGVyL2FsbCJdKENPVU5UKTsKICAgIHZhciBub2RlSGVhZGVycyA9IFtTVEFURSwgTkFNRSwgUk9MRVNdOwogICAgcmV0dXJuIHsKICAgICAgbm9kZUhlYWRlcnM6IG5vZGVIZWFkZXJzLAogICAgICBjb25zdHJhaW50czogW10sCiAgICAgIGNhdHRsZURlcGxveW1lbnQ6ICdsb2FkaW5nJywKICAgICAgZmxlZXREZXBsb3ltZW50OiAnbG9hZGluZycsCiAgICAgIGZsZWV0U3RhdGVmdWxTZXQ6ICdsb2FkaW5nJywKICAgICAgY2FuVmlld0FnZW50czogZmFsc2UsCiAgICAgIGRpc2Nvbm5lY3RlZDogZmFsc2UsCiAgICAgIGV2ZW50czogW10sCiAgICAgIG5vZGVNZXRyaWNzOiBbXSwKICAgICAgc2hvd0NsdXN0ZXJNZXRyaWNzOiBmYWxzZSwKICAgICAgc2hvd0s4c01ldHJpY3M6IGZhbHNlLAogICAgICBzaG93RXRjZE1ldHJpY3M6IGZhbHNlLAogICAgICBjYW5WaWV3TWV0cmljczogZmFsc2UsCiAgICAgIENMVVNURVJfTUVUUklDU19ERVRBSUxfVVJMOiBDTFVTVEVSX01FVFJJQ1NfREVUQUlMX1VSTCwKICAgICAgQ0xVU1RFUl9NRVRSSUNTX1NVTU1BUllfVVJMOiBDTFVTVEVSX01FVFJJQ1NfU1VNTUFSWV9VUkwsCiAgICAgIEs4U19NRVRSSUNTX0RFVEFJTF9VUkw6IEs4U19NRVRSSUNTX0RFVEFJTF9VUkwsCiAgICAgIEs4U19NRVRSSUNTX1NVTU1BUllfVVJMOiBLOFNfTUVUUklDU19TVU1NQVJZX1VSTCwKICAgICAgRVRDRF9NRVRSSUNTX0RFVEFJTF9VUkw6IEVUQ0RfTUVUUklDU19ERVRBSUxfVVJMLAogICAgICBFVENEX01FVFJJQ1NfU1VNTUFSWV9VUkw6IEVUQ0RfTUVUUklDU19TVU1NQVJZX1VSTCwKICAgICAgU1RBVEVTX0VOVU06IFNUQVRFU19FTlVNLAogICAgICBjbHVzdGVyQ291bnRzOiBjbHVzdGVyQ291bnRzLAogICAgICBzZWxlY3RlZFRhYjogJ2NsdXN0ZXItZXZlbnRzJywKICAgICAgZXh0ZW5zaW9uQ2FyZHM6IGdldEFwcGxpY2FibGVFeHRlbnNpb25FbmhhbmNlbWVudHModGhpcywgRXh0ZW5zaW9uUG9pbnQuQ0FSRCwgQ2FyZExvY2F0aW9uLkNMVVNURVJfREFTSEJPQVJEX0NBUkQsIHRoaXMuJHJvdXRlKQogICAgfTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyBSZW1vdmUgdGhlIGRhdGEgYW5kIHN0b3Agd2F0Y2hpbmcgcmVzb3VyY2VzIHRoYXQgd2VyZSBmZXRjaGVkIGluIHRoaXMgcGFnZQogICAgLy8gRXZlbnRzIGluIHBhcnRpY3VsYXIgY2FuIGxlYWQgdG8gY2hhbmdlIG1lc3NhZ2VzIGhhdmluZyB0byBiZSBwcm9jZXNzZWQgd2hlbiB3ZSBhcmUgbm8gbG9uZ2VyIGludGVyZXN0ZWQgaW4gZXZlbnRzCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9mb3JnZXRUeXBlJywgRVZFTlQpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZm9yZ2V0VHlwZScsIE5PREUpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZm9yZ2V0VHlwZScsIEVORFBPSU5UUyk7IC8vIFVzZWQgYnkgQWxlcnRUYWJsZSB0byBnZXQgYWxlcnRzIHdoZW4gdjIgbW9uaXRvcmluZyBpcyBpbnN0YWxsZWQKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZvcmdldFR5cGUnLCBNRVRSSUMuTk9ERSk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9mb3JnZXRUeXBlJywgTUFOQUdFTUVOVC5OT0RFKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZvcmdldFR5cGUnLCBXT1JLTE9BRF9UWVBFUy5ERVBMT1lNRU5UKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSksIG1vbml0b3JpbmdTdGF0dXMoKSksIHt9LCB7CiAgICBub2RlczogZnVuY3Rpb24gbm9kZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2FsbCddKE5PREUpOwogICAgfSwKICAgIG1nbXROb2RlczogZnVuY3Rpb24gbWdtdE5vZGVzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9hbGwnXShNQU5BR0VNRU5ULkNMVVNURVIpOwogICAgfSwKICAgIHNob3dDbHVzdGVyVG9vbHM6IGZ1bmN0aW9uIHNob3dDbHVzdGVyVG9vbHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2Nhbkxpc3QnXShDQVRBTE9HLkNMVVNURVJfUkVQTykgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9jYW5MaXN0J10oQ0FUQUxPRy5BUFApOwogICAgfSwKICAgIGRpc3BsYXlQcm92aWRlcjogZnVuY3Rpb24gZGlzcGxheVByb3ZpZGVyKCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXI7CiAgICAgIHZhciBvdGhlciA9ICdvdGhlcic7CiAgICAgIHZhciBwcm92aWRlciA9ICgoX3RoaXMkY3VycmVudENsdXN0ZXIgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlciA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlciA9IF90aGlzJGN1cnJlbnRDbHVzdGVyLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyLnByb3ZpZGVyKSB8fCBvdGhlcjsKICAgICAgaWYgKHByb3ZpZGVyID09PSAncmtlLndpbmRvd3MnKSB7CiAgICAgICAgcHJvdmlkZXIgPSAncmtlV2luZG93cyc7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL2V4aXN0cyddKCJjbHVzdGVyLnByb3ZpZGVyLiIuY29uY2F0KHByb3ZpZGVyKSkpIHsKICAgICAgICBwcm92aWRlciA9ICdvdGhlcic7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudCgiY2x1c3Rlci5wcm92aWRlci4iLmNvbmNhdChwcm92aWRlcikpOwogICAgfSwKICAgIG5vZGVzQXJjaGl0ZWN0dXJlOiBmdW5jdGlvbiBub2Rlc0FyY2hpdGVjdHVyZSgpIHsKICAgICAgdmFyIF90aGlzJG5vZGVzLAogICAgICAgIF90aGlzID0gdGhpczsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAoX3RoaXMkbm9kZXMgPSB0aGlzLm5vZGVzKSA9PT0gbnVsbCB8fCBfdGhpcyRub2RlcyA9PT0gdm9pZCAwIHx8IF90aGlzJG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICB2YXIgX25vZGUkbWV0YWRhdGE7CiAgICAgICAgaWYgKCEoKF9ub2RlJG1ldGFkYXRhID0gbm9kZS5tZXRhZGF0YSkgIT09IG51bGwgJiYgX25vZGUkbWV0YWRhdGEgIT09IHZvaWQgMCAmJiAoX25vZGUkbWV0YWRhdGEgPSBfbm9kZSRtZXRhZGF0YS5zdGF0ZSkgIT09IG51bGwgJiYgX25vZGUkbWV0YWRhdGEgIT09IHZvaWQgMCAmJiBfbm9kZSRtZXRhZGF0YS50cmFuc2l0aW9uaW5nKSkgewogICAgICAgICAgdmFyIF9ub2RlJGxhYmVsczsKICAgICAgICAgIHZhciBhcmNoaXRlY3R1cmUgPSAoX25vZGUkbGFiZWxzID0gbm9kZS5sYWJlbHMpID09PSBudWxsIHx8IF9ub2RlJGxhYmVscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkbGFiZWxzW05PREVfQVJDSElURUNUVVJFXTsKICAgICAgICAgIHZhciBrZXkgPSBhcmNoaXRlY3R1cmUgPyBjYXBpdGFsaXplKGFyY2hpdGVjdHVyZSkgOiBfdGhpcy50KCdjbHVzdGVyLmFyY2hpdGVjdHVyZS5sYWJlbC51bmtub3duJyk7CiAgICAgICAgICBvYmpba2V5XSA9IChvYmpba2V5XSB8fCAwKSArIDE7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBhcmNoaXRlY3R1cmU6IGZ1bmN0aW9uIGFyY2hpdGVjdHVyZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5ub2Rlc0FyY2hpdGVjdHVyZSk7CiAgICAgIHN3aXRjaCAoa2V5cy5sZW5ndGgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsYWJlbDogdGhpcy50KCdnZW5lcmljLnByb3Zpc2lvbmluZycpCiAgICAgICAgICB9OwogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxhYmVsOiBrZXlzWzBdCiAgICAgICAgICB9OwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLmFyY2hpdGVjdHVyZS5sYWJlbC5taXhlZCcpLAogICAgICAgICAgICB0b29sdGlwOiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrKSB7CiAgICAgICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChhY2MpLmNvbmNhdChrLCAiOiAiKS5jb25jYXQoX3RoaXMyLm5vZGVzQXJjaGl0ZWN0dXJlW2tdLCAiPGJyPiIpOwogICAgICAgICAgICB9LCAnJykKICAgICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBpc0hhcnZlc3RlckNsdXN0ZXI6IGZ1bmN0aW9uIGlzSGFydmVzdGVyQ2x1c3RlcigpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRDbHVzdGVyMjsKICAgICAgcmV0dXJuIChfdGhpcyRjdXJyZW50Q2x1c3RlcjIgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyMi5pc0hhcnZlc3RlcjsKICAgIH0sCiAgICBpc1JLRTogZnVuY3Rpb24gaXNSS0UoKSB7CiAgICAgIHJldHVybiBbJ3JrZScsICdya2Uud2luZG93cycsICdya2UyJywgJ3JrZTIud2luZG93cyddLmluY2x1ZGVzKCh0aGlzLmN1cnJlbnRDbHVzdGVyLnN0YXR1cy5wcm92aWRlciB8fCAnJykudG9Mb3dlckNhc2UoKSk7CiAgICB9LAogICAgYWNjZXNzaWJsZVJlc291cmNlczogZnVuY3Rpb24gYWNjZXNzaWJsZVJlc291cmNlcygpIHsKICAgICAgdmFyIF90aGlzJGNsdXN0ZXJDb3VudHMsCiAgICAgICAgX3RoaXMzID0gdGhpczsKICAgICAgLy8gVGhpcyBpcyBhIGxpc3Qgb2YgSURzIGZvciBhbGxvd2VkIHJlc291cmNlcyBjb3VudHMuCiAgICAgIHZhciBkZWZhdWx0QWxsb3dlZFJlc291cmNlcyA9IE9iamVjdC5rZXlzKCgoX3RoaXMkY2x1c3RlckNvdW50cyA9IHRoaXMuY2x1c3RlckNvdW50cykgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlckNvdW50cyA9PT0gdm9pZCAwIHx8IChfdGhpcyRjbHVzdGVyQ291bnRzID0gX3RoaXMkY2x1c3RlckNvdW50c1swXSkgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlckNvdW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2x1c3RlckNvdW50cy5jb3VudHMpIHx8IHt9KS5maWx0ZXIoZnVuY3Rpb24gKHR5cGVJZCkgewogICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2lzSWdub3JlZCddKHsKICAgICAgICAgIGlkOiB0eXBlSWQKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICAvLyBNZXJnZSB3aXRoIFJFU09VUkNFUyBsaXN0CiAgICAgIHZhciBhbGxvd2VkUmVzb3VyY2VzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShkZWZhdWx0QWxsb3dlZFJlc291cmNlcyksIFJFU09VUkNFUykpKTsKICAgICAgcmV0dXJuIGFsbG93ZWRSZXNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uIChyZXNvdXJjZSkgewogICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10ocmVzb3VyY2UpOwogICAgICB9KTsKICAgIH0sCiAgICBjbHVzdGVyU2VydmljZXM6IGZ1bmN0aW9uIGNsdXN0ZXJTZXJ2aWNlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBzZXJ2aWNlcyA9IFtdOwogICAgICBDTFVTVEVSX0NPTVBPTkVOVFMuZm9yRWFjaChmdW5jdGlvbiAoY3MpIHsKICAgICAgICBzZXJ2aWNlcy5wdXNoKHsKICAgICAgICAgIG5hbWU6IGNzLAogICAgICAgICAgc3RhdHVzOiBfdGhpczQuZ2V0Q29tcG9uZW50U3RhdHVzKGNzKSwKICAgICAgICAgIGxhYmVsS2V5OiAiY2x1c3RlckluZGV4UGFnZS5zZWN0aW9ucy5jb21wb25lbnRTdGF0dXMuIi5jb25jYXQoY3MpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBpZiAodGhpcy5jYW5WaWV3QWdlbnRzKSB7CiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRDbHVzdGVyLmlzTG9jYWwpIHsKICAgICAgICAgIHNlcnZpY2VzLnB1c2goewogICAgICAgICAgICBuYW1lOiAnY2F0dGxlJywKICAgICAgICAgICAgc3RhdHVzOiB0aGlzLmNhdHRsZVN0YXR1cywKICAgICAgICAgICAgbGFiZWxLZXk6ICdjbHVzdGVySW5kZXhQYWdlLnNlY3Rpb25zLmNvbXBvbmVudFN0YXR1cy5jYXR0bGUnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgc2VydmljZXMucHVzaCh7CiAgICAgICAgICBuYW1lOiAnZmxlZXQnLAogICAgICAgICAgc3RhdHVzOiB0aGlzLmZsZWV0U3RhdHVzLAogICAgICAgICAgbGFiZWxLZXk6ICdjbHVzdGVySW5kZXhQYWdlLnNlY3Rpb25zLmNvbXBvbmVudFN0YXR1cy5mbGVldCcKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gc2VydmljZXM7CiAgICB9LAogICAgY2F0dGxlU3RhdHVzOiBmdW5jdGlvbiBjYXR0bGVTdGF0dXMoKSB7CiAgICAgIHZhciBfcmVzb3VyY2Ukc3RhdHVzJGNvbmQsIF9yZXNvdXJjZSRtZXRhZGF0YSRzdDsKICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5jYXR0bGVEZXBsb3ltZW50OwogICAgICBpZiAocmVzb3VyY2UgPT09ICdsb2FkaW5nJykgewogICAgICAgIHJldHVybiBTVEFURVNfRU5VTS5JTl9QUk9HUkVTUzsKICAgICAgfQogICAgICBpZiAoIXJlc291cmNlIHx8IHRoaXMuZGlzY29ubmVjdGVkIHx8IChfcmVzb3VyY2Ukc3RhdHVzJGNvbmQgPSByZXNvdXJjZS5zdGF0dXMuY29uZGl0aW9ucykgIT09IG51bGwgJiYgX3Jlc291cmNlJHN0YXR1cyRjb25kICE9PSB2b2lkIDAgJiYgX3Jlc291cmNlJHN0YXR1cyRjb25kLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5zdGF0dXMgIT09ICdUcnVlJzsKICAgICAgfSkgfHwgKF9yZXNvdXJjZSRtZXRhZGF0YSRzdCA9IHJlc291cmNlLm1ldGFkYXRhLnN0YXRlKSAhPT0gbnVsbCAmJiBfcmVzb3VyY2UkbWV0YWRhdGEkc3QgIT09IHZvaWQgMCAmJiBfcmVzb3VyY2UkbWV0YWRhdGEkc3QuZXJyb3IpIHsKICAgICAgICByZXR1cm4gU1RBVEVTX0VOVU0uVU5IRUFMVEhZOwogICAgICB9CiAgICAgIGlmIChyZXNvdXJjZS5zcGVjLnJlcGxpY2FzICE9PSByZXNvdXJjZS5zdGF0dXMucmVhZHlSZXBsaWNhcyB8fCByZXNvdXJjZS5zdGF0dXMudW5hdmFpbGFibGVSZXBsaWNhcyA+IDApIHsKICAgICAgICByZXR1cm4gU1RBVEVTX0VOVU0uV0FSTklORzsKICAgICAgfQogICAgICByZXR1cm4gU1RBVEVTX0VOVU0uSEVBTFRIWTsKICAgIH0sCiAgICBmbGVldFN0YXR1czogZnVuY3Rpb24gZmxlZXRTdGF0dXMoKSB7CiAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLmN1cnJlbnRDbHVzdGVyLmlzTG9jYWwgPyBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5mbGVldFN0YXRlZnVsU2V0ID8gW3RoaXMuZmxlZXRTdGF0ZWZ1bFNldCwgdGhpcy5mbGVldERlcGxveW1lbnRdIDogW3RoaXMuZmxlZXREZXBsb3ltZW50XSkgOiBbdGhpcy5mbGVldFN0YXRlZnVsU2V0XTsKICAgICAgaWYgKHJlc291cmNlcy5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIgPT09ICdsb2FkaW5nJzsKICAgICAgfSkpIHsKICAgICAgICByZXR1cm4gU1RBVEVTX0VOVU0uSU5fUFJPR1JFU1M7CiAgICAgIH0KICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlc291cmNlcyksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfcmVzb3VyY2Ukc3RhdHVzJGNvbmQyLCBfcmVzb3VyY2UkbWV0YWRhdGEkc3QyOwogICAgICAgICAgdmFyIHJlc291cmNlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAoIXJlc291cmNlIHx8IChfcmVzb3VyY2Ukc3RhdHVzJGNvbmQyID0gcmVzb3VyY2Uuc3RhdHVzLmNvbmRpdGlvbnMpICE9PSBudWxsICYmIF9yZXNvdXJjZSRzdGF0dXMkY29uZDIgIT09IHZvaWQgMCAmJiBfcmVzb3VyY2Ukc3RhdHVzJGNvbmQyLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGMuc3RhdHVzICE9PSAnVHJ1ZSc7CiAgICAgICAgICB9KSB8fCAoX3Jlc291cmNlJG1ldGFkYXRhJHN0MiA9IHJlc291cmNlLm1ldGFkYXRhLnN0YXRlKSAhPT0gbnVsbCAmJiBfcmVzb3VyY2UkbWV0YWRhdGEkc3QyICE9PSB2b2lkIDAgJiYgX3Jlc291cmNlJG1ldGFkYXRhJHN0Mi5lcnJvcikgewogICAgICAgICAgICByZXR1cm4gU1RBVEVTX0VOVU0uVU5IRUFMVEhZOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzb3VyY2VzKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfcmVzb3VyY2UgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBpZiAoX3Jlc291cmNlLnNwZWMucmVwbGljYXMgIT09IF9yZXNvdXJjZS5zdGF0dXMucmVhZHlSZXBsaWNhcyB8fCBfcmVzb3VyY2Uuc3RhdHVzLnVuYXZhaWxhYmxlUmVwbGljYXMgPiAwKSB7CiAgICAgICAgICAgIHJldHVybiBTVEFURVNfRU5VTS5XQVJOSU5HOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIFNUQVRFU19FTlVNLkhFQUxUSFk7CiAgICB9LAogICAgdG90YWxDb3VudEdhdWdlSW5wdXQ6IGZ1bmN0aW9uIHRvdGFsQ291bnRHYXVnZUlucHV0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIHRvdGFsSW5wdXQgPSB7CiAgICAgICAgbmFtZTogdGhpcy50KCdjbHVzdGVySW5kZXhQYWdlLnJlc291cmNlR2F1Z2UudG90YWxSZXNvdXJjZXMnKSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICB1c2VmdWw6IDAsCiAgICAgICAgd2FybmluZ0NvdW50OiAwLAogICAgICAgIGVycm9yQ291bnQ6IDAKICAgICAgfTsKICAgICAgdGhpcy5hY2Nlc3NpYmxlUmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHJlc291cmNlKSB7CiAgICAgICAgdmFyIGNvdW50cyA9IHJlc291cmNlQ291bnRzKF90aGlzNS4kc3RvcmUsIHJlc291cmNlKTsKICAgICAgICBPYmplY3QuZW50cmllcyhjb3VudHMpLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgICB0b3RhbElucHV0W2VudHJ5WzBdXSArPSBlbnRyeVsxXTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b3RhbElucHV0OwogICAgfSwKICAgIGhhc1N0YXRzOiBmdW5jdGlvbiBoYXNTdGF0cygpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRDbHVzdGVyMywgX3RoaXMkY3VycmVudENsdXN0ZXI0OwogICAgICByZXR1cm4gKChfdGhpcyRjdXJyZW50Q2x1c3RlcjMgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjMgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXIzID0gX3RoaXMkY3VycmVudENsdXN0ZXIzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjMuYWxsb2NhdGFibGUpICYmICgoX3RoaXMkY3VycmVudENsdXN0ZXI0ID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXI0ID09PSB2b2lkIDAgfHwgKF90aGlzJGN1cnJlbnRDbHVzdGVyNCA9IF90aGlzJGN1cnJlbnRDbHVzdGVyNC5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXI0LnJlcXVlc3RlZCk7CiAgICB9LAogICAgY3B1UmVzZXJ2ZWQ6IGZ1bmN0aW9uIGNwdVJlc2VydmVkKCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXI1LCBfdGhpcyRjdXJyZW50Q2x1c3RlcjY7CiAgICAgIHZhciB0b3RhbCA9IHBhcnNlU2koKF90aGlzJGN1cnJlbnRDbHVzdGVyNSA9IHRoaXMuY3VycmVudENsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyNSA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlcjUgPSBfdGhpcyRjdXJyZW50Q2x1c3RlcjUuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjUgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXI1ID0gX3RoaXMkY3VycmVudENsdXN0ZXI1LmFsbG9jYXRhYmxlKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyNS5jcHUpOwogICAgICByZXR1cm4gewogICAgICAgIHRvdGFsOiB0b3RhbCwKICAgICAgICB1c2VmdWw6IHBhcnNlU2koKF90aGlzJGN1cnJlbnRDbHVzdGVyNiA9IHRoaXMuY3VycmVudENsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyNiA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlcjYgPSBfdGhpcyRjdXJyZW50Q2x1c3RlcjYuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjYgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXI2ID0gX3RoaXMkY3VycmVudENsdXN0ZXI2LnJlcXVlc3RlZCkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXI2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjYuY3B1KSwKICAgICAgICB1bml0czogdGhpcy50KCdjbHVzdGVySW5kZXhQYWdlLmhhcmR3YXJlUmVzb3VyY2VHYXVnZS51bml0cy5jb3JlcycsIHsKICAgICAgICAgIGNvdW50OiB0b3RhbAogICAgICAgIH0pCiAgICAgIH07CiAgICB9LAogICAgcG9kc1VzZWQ6IGZ1bmN0aW9uIHBvZHNVc2VkKCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXI3LCBfdGhpcyRjdXJyZW50Q2x1c3Rlcjg7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG90YWw6IHBhcnNlU2koKChfdGhpcyRjdXJyZW50Q2x1c3RlcjcgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjcgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXI3ID0gX3RoaXMkY3VycmVudENsdXN0ZXI3LnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXI3ID09PSB2b2lkIDAgfHwgKF90aGlzJGN1cnJlbnRDbHVzdGVyNyA9IF90aGlzJGN1cnJlbnRDbHVzdGVyNy5hbGxvY2F0YWJsZSkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjcucG9kcykgfHwgJzAnKSwKICAgICAgICB1c2VmdWw6IHBhcnNlU2koKChfdGhpcyRjdXJyZW50Q2x1c3RlcjggPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjggPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXI4ID0gX3RoaXMkY3VycmVudENsdXN0ZXI4LnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXI4ID09PSB2b2lkIDAgfHwgKF90aGlzJGN1cnJlbnRDbHVzdGVyOCA9IF90aGlzJGN1cnJlbnRDbHVzdGVyOC5yZXF1ZXN0ZWQpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXI4LnBvZHMpIHx8ICcwJykKICAgICAgfTsKICAgIH0sCiAgICByYW1SZXNlcnZlZDogZnVuY3Rpb24gcmFtUmVzZXJ2ZWQoKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlcjksIF90aGlzJGN1cnJlbnRDbHVzdGVyMTA7CiAgICAgIHJldHVybiBjcmVhdGVNZW1vcnlWYWx1ZXMoKF90aGlzJGN1cnJlbnRDbHVzdGVyOSA9IHRoaXMuY3VycmVudENsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyOSA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlcjkgPSBfdGhpcyRjdXJyZW50Q2x1c3Rlcjkuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjkgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXI5ID0gX3RoaXMkY3VycmVudENsdXN0ZXI5LmFsbG9jYXRhYmxlKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyOS5tZW1vcnksIChfdGhpcyRjdXJyZW50Q2x1c3RlcjEwID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIxMCA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlcjEwID0gX3RoaXMkY3VycmVudENsdXN0ZXIxMC5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyMTAgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXIxMCA9IF90aGlzJGN1cnJlbnRDbHVzdGVyMTAucmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjEwLm1lbW9yeSk7CiAgICB9LAogICAgbWV0cmljQWdncmVnYXRpb25zOiBmdW5jdGlvbiBtZXRyaWNBZ2dyZWdhdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB2YXIgY2hlY2tOb2RlcyA9IHRoaXMubm9kZXM7CgogICAgICAvLyBTcGVjaWFsIGNhc2UgbG9jYWwgY2x1c3RlcgogICAgICBpZiAodGhpcy5jdXJyZW50Q2x1c3Rlci5pc0xvY2FsKSB7CiAgICAgICAgdmFyIG5vZGVOYW1lcyA9IHRoaXMubm9kZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG4pIHsKICAgICAgICAgIGFjY1tuLmlkXSA9IG47CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0sIHt9KTsKICAgICAgICBjaGVja05vZGVzID0gdGhpcy5tZ210Tm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICB2YXIgX24kbWV0YWRhdGE7CiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSAoKF9uJG1ldGFkYXRhID0gbi5tZXRhZGF0YSkgPT09IG51bGwgfHwgX24kbWV0YWRhdGEgPT09IHZvaWQgMCB8fCAoX24kbWV0YWRhdGEgPSBfbiRtZXRhZGF0YS5sYWJlbHMpID09PSBudWxsIHx8IF9uJG1ldGFkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbiRtZXRhZGF0YVsnbWFuYWdlbWVudC5jYXR0bGUuaW8vbm9kZW5hbWUnXSkgfHwgbi5pZDsKICAgICAgICAgIHJldHVybiAhIW5vZGVOYW1lc1tub2RlTmFtZV07CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdmFyIHNvbWVOb25Xb3JrZXJSb2xlcyA9IGNoZWNrTm9kZXMuc29tZShmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHJldHVybiBub2RlLmhhc0FSb2xlICYmICFub2RlLmlzV29ya2VyOwogICAgICB9KTsKICAgICAgdmFyIG1ldHJpY3MgPSB0aGlzLm5vZGVNZXRyaWNzLmZpbHRlcihmdW5jdGlvbiAobm9kZU1ldHJpY3MpIHsKICAgICAgICB2YXIgbm9kZSA9IF90aGlzNi5ub2Rlcy5maW5kKGZ1bmN0aW9uIChuZCkgewogICAgICAgICAgcmV0dXJuIG5kLmlkID09PSBub2RlTWV0cmljcy5pZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbm9kZSAmJiAoIXNvbWVOb25Xb3JrZXJSb2xlcyB8fCBub2RlLmlzV29ya2VyKTsKICAgICAgfSk7CiAgICAgIHZhciBpbml0aWFsQWdncmVnYXRpb24gPSB7CiAgICAgICAgY3B1OiAwLAogICAgICAgIG1lbW9yeTogMAogICAgICB9OwogICAgICBpZiAoaXNFbXB0eShtZXRyaWNzKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiBtZXRyaWNzLnJlZHVjZShmdW5jdGlvbiAoYWdnLCBtZXRyaWMpIHsKICAgICAgICBhZ2cuY3B1ICs9IHBhcnNlU2kobWV0cmljLnVzYWdlLmNwdSk7CiAgICAgICAgYWdnLm1lbW9yeSArPSBwYXJzZVNpKG1ldHJpYy51c2FnZS5tZW1vcnkpOwogICAgICAgIHJldHVybiBhZ2c7CiAgICAgIH0sIGluaXRpYWxBZ2dyZWdhdGlvbik7CiAgICB9LAogICAgY3B1VXNlZDogZnVuY3Rpb24gY3B1VXNlZCgpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRDbHVzdGVyMTEsIF90aGlzJG1ldHJpY0FnZ3JlZ2F0aTsKICAgICAgdmFyIHRvdGFsID0gcGFyc2VTaSgoX3RoaXMkY3VycmVudENsdXN0ZXIxMSA9IHRoaXMuY3VycmVudENsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyMTEgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXIxMSA9IF90aGlzJGN1cnJlbnRDbHVzdGVyMTEuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjExID09PSB2b2lkIDAgfHwgKF90aGlzJGN1cnJlbnRDbHVzdGVyMTEgPSBfdGhpcyRjdXJyZW50Q2x1c3RlcjExLmNhcGFjaXR5KSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjExLmNwdSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG90YWw6IHRvdGFsLAogICAgICAgIHVzZWZ1bDogKF90aGlzJG1ldHJpY0FnZ3JlZ2F0aSA9IHRoaXMubWV0cmljQWdncmVnYXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRyaWNBZ2dyZWdhdGkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldHJpY0FnZ3JlZ2F0aS5jcHUsCiAgICAgICAgdW5pdHM6IHRoaXMudCgnY2x1c3RlckluZGV4UGFnZS5oYXJkd2FyZVJlc291cmNlR2F1Z2UudW5pdHMuY29yZXMnLCB7CiAgICAgICAgICBjb3VudDogdG90YWwKICAgICAgICB9KQogICAgICB9OwogICAgfSwKICAgIHJhbVVzZWQ6IGZ1bmN0aW9uIHJhbVVzZWQoKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlcjEyLCBfdGhpcyRtZXRyaWNBZ2dyZWdhdGkyOwogICAgICByZXR1cm4gY3JlYXRlTWVtb3J5VmFsdWVzKChfdGhpcyRjdXJyZW50Q2x1c3RlcjEyID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIxMiA9PT0gdm9pZCAwIHx8IChfdGhpcyRjdXJyZW50Q2x1c3RlcjEyID0gX3RoaXMkY3VycmVudENsdXN0ZXIxMi5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyMTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkY3VycmVudENsdXN0ZXIxMiA9IF90aGlzJGN1cnJlbnRDbHVzdGVyMTIuY2FwYWNpdHkpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyMTIubWVtb3J5LCAoX3RoaXMkbWV0cmljQWdncmVnYXRpMiA9IHRoaXMubWV0cmljQWdncmVnYXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRyaWNBZ2dyZWdhdGkyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRyaWNBZ2dyZWdhdGkyLm1lbW9yeSk7CiAgICB9LAogICAgaGFzTW9uaXRvcmluZzogZnVuY3Rpb24gaGFzTW9uaXRvcmluZygpIHsKICAgICAgdmFyIF90aGlzJGNsdXN0ZXJDb3VudHMyOwogICAgICByZXR1cm4gISEoKF90aGlzJGNsdXN0ZXJDb3VudHMyID0gdGhpcy5jbHVzdGVyQ291bnRzKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMiAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzMiA9IF90aGlzJGNsdXN0ZXJDb3VudHMyWzBdKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMiAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzMiA9IF90aGlzJGNsdXN0ZXJDb3VudHMyLmNvdW50cykgIT09IG51bGwgJiYgX3RoaXMkY2x1c3RlckNvdW50czIgIT09IHZvaWQgMCAmJiAoX3RoaXMkY2x1c3RlckNvdW50czIgPSBfdGhpcyRjbHVzdGVyQ291bnRzMltDQVRBTE9HLkFQUF0pICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHMyICE9PSB2b2lkIDAgJiYgKF90aGlzJGNsdXN0ZXJDb3VudHMyID0gX3RoaXMkY2x1c3RlckNvdW50czIubmFtZXNwYWNlcykgIT09IG51bGwgJiYgX3RoaXMkY2x1c3RlckNvdW50czIgIT09IHZvaWQgMCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMlsnY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtJ10pOwogICAgfSwKICAgIGNhbkFjY2Vzc05vZGVzOiBmdW5jdGlvbiBjYW5BY2Nlc3NOb2RlcygpIHsKICAgICAgdmFyIF90aGlzJGNsdXN0ZXJDb3VudHMzOwogICAgICByZXR1cm4gISEoKF90aGlzJGNsdXN0ZXJDb3VudHMzID0gdGhpcy5jbHVzdGVyQ291bnRzKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMyAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzMyA9IF90aGlzJGNsdXN0ZXJDb3VudHMzWzBdKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMyAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzMyA9IF90aGlzJGNsdXN0ZXJDb3VudHMzLmNvdW50cykgIT09IG51bGwgJiYgX3RoaXMkY2x1c3RlckNvdW50czMgIT09IHZvaWQgMCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzM1tOT0RFXSk7CiAgICB9LAogICAgY2FuQWNjZXNzRGVwbG95bWVudHM6IGZ1bmN0aW9uIGNhbkFjY2Vzc0RlcGxveW1lbnRzKCkgewogICAgICB2YXIgX3RoaXMkY2x1c3RlckNvdW50czQ7CiAgICAgIHJldHVybiAhISgoX3RoaXMkY2x1c3RlckNvdW50czQgPSB0aGlzLmNsdXN0ZXJDb3VudHMpICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHM0ICE9PSB2b2lkIDAgJiYgKF90aGlzJGNsdXN0ZXJDb3VudHM0ID0gX3RoaXMkY2x1c3RlckNvdW50czRbMF0pICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHM0ICE9PSB2b2lkIDAgJiYgKF90aGlzJGNsdXN0ZXJDb3VudHM0ID0gX3RoaXMkY2x1c3RlckNvdW50czQuY291bnRzKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzNCAhPT0gdm9pZCAwICYmIF90aGlzJGNsdXN0ZXJDb3VudHM0W1dPUktMT0FEX1RZUEVTLkRFUExPWU1FTlRdKTsKICAgIH0sCiAgICBoYXNNZXRyaWNzVGFiczogZnVuY3Rpb24gaGFzTWV0cmljc1RhYnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhblZpZXdNZXRyaWNzICYmICh0aGlzLnNob3dDbHVzdGVyTWV0cmljcyB8fCB0aGlzLnNob3dLOHNNZXRyaWNzIHx8IHRoaXMuc2hvd0V0Y2RNZXRyaWNzKTsKICAgIH0sCiAgICBoYXNCYWRnZTogZnVuY3Rpb24gaGFzQmFkZ2UoKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlcjEzOwogICAgICByZXR1cm4gISEoKF90aGlzJGN1cnJlbnRDbHVzdGVyMTMgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSAhPT0gbnVsbCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlcjEzICE9PSB2b2lkIDAgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIxMy5iYWRnZSk7CiAgICB9LAogICAgaGFzRGVzY3JpcHRpb246IGZ1bmN0aW9uIGhhc0Rlc2NyaXB0aW9uKCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXIxNDsKICAgICAgcmV0dXJuICEhKChfdGhpcyRjdXJyZW50Q2x1c3RlcjE0ID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgIT09IG51bGwgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIxNCAhPT0gdm9pZCAwICYmIChfdGhpcyRjdXJyZW50Q2x1c3RlcjE0ID0gX3RoaXMkY3VycmVudENsdXN0ZXIxNC5zcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlcjE0ICE9PSB2b2lkIDAgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIxNC5kZXNjcmlwdGlvbik7CiAgICB9LAogICAgYWxsRXZlbnRzTGluazogZnVuY3Rpb24gYWxsRXZlbnRzTGluaygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcHJvZHVjdDogRVhQTE9SRVIsCiAgICAgICAgICByZXNvdXJjZTogRVZFTlQKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgYWxsU2VjcmV0c0xpbms6IGZ1bmN0aW9uIGFsbFNlY3JldHNMaW5rKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9kdWN0OiBFWFBMT1JFUiwKICAgICAgICAgIHJlc291cmNlOiBTRUNSRVQKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgbG9hZEFnZW50czogZnVuY3Rpb24gbG9hZEFnZW50cygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRDbHVzdGVyLmlzTG9jYWwpIHsKICAgICAgICB0aGlzLnNldEFnZW50UmVzb3VyY2UoJ2ZsZWV0RGVwbG95bWVudCcsIFdPUktMT0FEX1RZUEVTLkRFUExPWU1FTlQsICdjYXR0bGUtZmxlZXQtc3lzdGVtL2ZsZWV0LWNvbnRyb2xsZXInKTsKICAgICAgICB0aGlzLnNldEFnZW50UmVzb3VyY2UoJ2ZsZWV0U3RhdGVmdWxTZXQnLCBXT1JLTE9BRF9UWVBFUy5TVEFURUZVTF9TRVQsICdjYXR0bGUtZmxlZXQtbG9jYWwtc3lzdGVtL2ZsZWV0LWFnZW50Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRBZ2VudFJlc291cmNlKCdmbGVldFN0YXRlZnVsU2V0JywgV09SS0xPQURfVFlQRVMuU1RBVEVGVUxfU0VULCAnY2F0dGxlLWZsZWV0LXN5c3RlbS9mbGVldC1hZ2VudCcpOwogICAgICAgIHRoaXMuc2V0QWdlbnRSZXNvdXJjZSgnY2F0dGxlRGVwbG95bWVudCcsIFdPUktMT0FEX1RZUEVTLkRFUExPWU1FTlQsICdjYXR0bGUtc3lzdGVtL2NhdHRsZS1jbHVzdGVyLWFnZW50Jyk7CgogICAgICAgIC8vIFNjYWxpbmcgVXAvRG93biBjYXR0bGUgZGVwbG95bWVudCBjYXVzZXMgd2ViIHNvY2tldHMgZGlzY29ubmVjdGlvbjsKICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM3LmRpc2Nvbm5lY3RlZCA9ICEhX3RoaXM3LiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2luRXJyb3InXSh7CiAgICAgICAgICAgIHR5cGU6IE5PREUKICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnRSZXNvdXJjZTogZnVuY3Rpb24gc2V0QWdlbnRSZXNvdXJjZShhZ2VudCwgdHlwZSwgaWQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczguJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmQnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpczhbYWdlbnRdID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgX3RoaXM4W2FnZW50XSA9IG51bGw7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q29tcG9uZW50U3RhdHVzOiBmdW5jdGlvbiBnZXRDb21wb25lbnRTdGF0dXMoZmllbGQpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRDbHVzdGVyMTU7CiAgICAgIHZhciBtYXRjaGluZyA9ICgoKF90aGlzJGN1cnJlbnRDbHVzdGVyMTUgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjE1ID09PSB2b2lkIDAgfHwgKF90aGlzJGN1cnJlbnRDbHVzdGVyMTUgPSBfdGhpcyRjdXJyZW50Q2x1c3RlcjE1LnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIxNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXIxNS5jb21wb25lbnRTdGF0dXNlcykgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLm5hbWUuc3RhcnRzV2l0aChmaWVsZCk7CiAgICAgIH0pOwoKICAgICAgLy8gSWYgdGhlcmUncyBubyBtYXRjaGluZyBjb21wb25lbnQgc3RhdHVzLCBpdCdzICJoZWFsdGh5IgogICAgICBpZiAoIW1hdGNoaW5nLmxlbmd0aCkgewogICAgICAgIHJldHVybiBTVEFURVNfRU5VTS5IRUFMVEhZOwogICAgICB9CiAgICAgIHZhciBjb3VudCA9IG1hdGNoaW5nLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBzdGF0dXMpIHsKICAgICAgICB2YXIgY29uZGl0aW9ucyA9IHN0YXR1cy5jb25kaXRpb25zLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLnN0YXR1cyAhPT0gJ1RydWUnOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiAhY29uZGl0aW9ucyA/IGFjYyA6IGFjYyArIDE7CiAgICAgIH0sIDApOwogICAgICBpZiAoY291bnQgPiAwKSB7CiAgICAgICAgcmV0dXJuIFNUQVRFU19FTlVNLlVOSEVBTFRIWTsKICAgICAgfQogICAgICByZXR1cm4gU1RBVEVTX0VOVU0uSEVBTFRIWTsKICAgIH0sCiAgICBzaG93QWN0aW9uczogZnVuY3Rpb24gc2hvd0FjdGlvbnMoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWN0aW9uLW1lbnUvc2hvdycsIHsKICAgICAgICByZXNvdXJjZXM6IHRoaXMuY3VycmVudENsdXN0ZXIsCiAgICAgICAgZWxlbTogdGhpcy4kcmVmc1snY2x1c3Rlci1hY3Rpb25zJ10KICAgICAgfSk7CiAgICB9LAogICAgLy8gVXNlZCBieSBtZXRyaWMtcG9sbGVyIG1peGluCiAgICBsb2FkTWV0cmljczogZnVuY3Rpb24gbG9hZE1ldHJpY3MoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hDbHVzdGVyUmVzb3VyY2VzKF90aGlzOS4kc3RvcmUsIE1FVFJJQy5OT0RFLCB7CiAgICAgICAgICAgICAgICBmb3JjZTogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXM5Lm5vZGVNZXRyaWNzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIEV2ZW50cy9BbGVydHMgdGFiIGNoYW5nZWQKICAgIHRhYkNoYW5nZTogZnVuY3Rpb24gdGFiQ2hhbmdlKG5ldSkgewogICAgICB0aGlzLnNlbGVjdGVkVGFiID0gbmV1ID09PSBudWxsIHx8IG5ldSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV1LnNlbGVjdGVkTmFtZTsKICAgIH0sCiAgICBnb1RvSGFydmVzdGVyQ2x1c3RlcjogZnVuY3Rpb24gZ29Ub0hhcnZlc3RlckNsdXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHByb3ZDbHVzdGVycywgcHJvdkNsdXN0ZXI7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FQSS5SQU5DSEVSX0NMVVNURVIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHByb3ZDbHVzdGVycyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHByb3ZDbHVzdGVyID0gcHJvdkNsdXN0ZXJzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwLm1nbXQuaWQgPT09IF90aGlzMTAuY3VycmVudENsdXN0ZXIuaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBwcm92Q2x1c3Rlci5nb1RvSGFydmVzdGVyQ2x1c3RlcigpOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["DashboardMetrics","mapGetters","CAPI","ENDPOINTS","EVENT","NAMESPACE","INGRESS","MANAGEMENT","METRIC","NODE","SERVICE","PV","WORKLOAD_TYPES","COUNT","CATALOG","SECRET","NODE_ARCHITECTURE","setPromiseResult","AlertTable","Banner","parseSi","createMemoryValues","NAME","ROLES","STATE","monitoringStatus","canViewGrafanaLink","Tabbed","Tab","allDashboardsExist","EtcdInfoBanner","metricPoller","ResourceSummary","resourceCounts","HardwareResourceGauge","isEmpty","ConfigBadge","EventsTable","fetchClusterResources","SimpleBox","ExtensionPoint","CardLocation","getApplicableExtensionEnhancements","Certificates","EXPLORER","TabTitle","STATES_ENUM","capitalize","RESOURCES","DEPLOYMENT","STATEFUL_SET","JOB","DAEMON_SET","CLUSTER_METRICS_DETAIL_URL","CLUSTER_METRICS_SUMMARY_URL","K8S_METRICS_DETAIL_URL","K8S_METRICS_SUMMARY_URL","ETCD_METRICS_DETAIL_URL","ETCD_METRICS_SUMMARY_URL","CLUSTER_COMPONENTS","name","components","mixins","fetch","$store","currentCluster","id","isLocal","getters","dispatch","type","canViewAgents","loadAgents","data","clusterCounts","nodeHeaders","constraints","cattleDeployment","fleetDeployment","fleetStatefulSet","disconnected","events","nodeMetrics","showClusterMetrics","showK8sMetrics","showEtcdMetrics","canViewMetrics","selectedTab","extensionCards","CARD","CLUSTER_DASHBOARD_CARD","$route","beforeDestroy","clearInterval","interval","computed","_objectSpread","nodes","mgmtNodes","CLUSTER","showClusterTools","CLUSTER_REPO","APP","displayProvider","_this$currentCluster","other","provider","status","concat","t","nodesArchitecture","_this$nodes","_this","obj","forEach","node","_node$metadata","metadata","state","transitioning","_node$labels","architecture","labels","key","_this2","keys","Object","length","label","tooltip","reduce","acc","k","isHarvesterCluster","_this$currentCluster2","isHarvester","isRKE","includes","toLowerCase","accessibleResources","_this$clusterCounts","_this3","defaultAllowedResources","counts","filter","typeId","allowedResources","_toConsumableArray","Set","resource","clusterServices","_this4","services","cs","push","getComponentStatus","labelKey","cattleStatus","fleetStatus","_resource$status$cond","_resource$metadata$st","IN_PROGRESS","conditions","find","c","error","UNHEALTHY","spec","replicas","readyReplicas","unavailableReplicas","WARNING","HEALTHY","resources","r","_iterator","_createForOfIteratorHelper","_step","s","n","done","_resource$status$cond2","_resource$metadata$st2","value","err","e","f","_iterator2","_step2","totalCountGaugeInput","_this5","totalInput","total","useful","warningCount","errorCount","entries","entry","hasStats","_this$currentCluster3","_this$currentCluster4","allocatable","requested","cpuReserved","_this$currentCluster5","_this$currentCluster6","cpu","units","count","podsUsed","_this$currentCluster7","_this$currentCluster8","pods","ramReserved","_this$currentCluster9","_this$currentCluster10","memory","metricAggregations","_this6","checkNodes","nodeNames","_n$metadata","nodeName","someNonWorkerRoles","some","hasARole","isWorker","metrics","nd","initialAggregation","agg","metric","usage","cpuUsed","_this$currentCluster11","_this$metricAggregati","capacity","ramUsed","_this$currentCluster12","_this$metricAggregati2","hasMonitoring","_this$clusterCounts2","namespaces","canAccessNodes","_this$clusterCounts3","canAccessDeployments","_this$clusterCounts4","hasMetricsTabs","hasBadge","_this$currentCluster13","badge","hasDescription","_this$currentCluster14","description","allEventsLink","params","product","allSecretsLink","methods","_this7","setAgentResource","setInterval","agent","_this8","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","t0","stop","field","_this$currentCluster15","matching","componentStatuses","startsWith","showActions","commit","elem","$refs","loadMetrics","_this9","_callee2","_callee2$","_context2","force","tabChange","neu","selectedName","goToHarvesterCluster","_this10","_callee3","provClusters","provCluster","_callee3$","_context3","RANCHER_CLUSTER","p","mgmt"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/explorer/index.vue"],"sourcesContent":["<script>\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport { mapGetters } from 'vuex';\nimport {\n  CAPI,\n  ENDPOINTS,\n  EVENT,\n  NAMESPACE,\n  INGRESS,\n  MANAGEMENT,\n  METRIC,\n  NODE,\n  SERVICE,\n  PV,\n  WORKLOAD_TYPES,\n  COUNT,\n  CATALOG,\n  SECRET\n} from '@shell/config/types';\nimport { NODE_ARCHITECTURE } from '@shell/config/labels-annotations';\nimport { setPromiseResult } from '@shell/utils/promise';\nimport AlertTable from '@shell/components/AlertTable';\nimport { Banner } from '@components/Banner';\nimport { parseSi, createMemoryValues } from '@shell/utils/units';\nimport {\n  NAME,\n  ROLES,\n  STATE,\n} from '@shell/config/table-headers';\n\nimport { monitoringStatus, canViewGrafanaLink } from '@shell/utils/monitoring';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport EtcdInfoBanner from '@shell/components/EtcdInfoBanner';\nimport metricPoller from '@shell/mixins/metric-poller';\nimport ResourceSummary, { resourceCounts } from '@shell/components/ResourceSummary';\nimport HardwareResourceGauge from '@shell/components/HardwareResourceGauge';\nimport { isEmpty } from '@shell/utils/object';\nimport ConfigBadge from './ConfigBadge';\nimport EventsTable from './EventsTable';\nimport { fetchClusterResources } from './explorer-utils';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport { ExtensionPoint, CardLocation } from '@shell/core/types';\nimport { getApplicableExtensionEnhancements } from '@shell/core/plugin-helpers';\nimport Certificates from '@shell/components/Certificates';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport TabTitle from '@shell/components/TabTitle';\nimport { STATES_ENUM } from '@shell/plugins/dashboard-store/resource-class';\nimport capitalize from 'lodash/capitalize';\n\nexport const RESOURCES = [NAMESPACE, INGRESS, PV, WORKLOAD_TYPES.DEPLOYMENT, WORKLOAD_TYPES.STATEFUL_SET, WORKLOAD_TYPES.JOB, WORKLOAD_TYPES.DAEMON_SET, SERVICE];\n\nconst CLUSTER_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-nodes-1/rancher-cluster-nodes?orgId=1';\nconst CLUSTER_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-1/rancher-cluster?orgId=1';\nconst K8S_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-nodes-1/rancher-kubernetes-components-nodes?orgId=1';\nconst K8S_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-1/rancher-kubernetes-components?orgId=1';\nconst ETCD_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-nodes-1/rancher-etcd-nodes?orgId=1';\nconst ETCD_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-1/rancher-etcd?orgId=1';\n\nconst CLUSTER_COMPONENTS = [\n  'etcd',\n  'scheduler',\n  'controller-manager',\n];\n\nexport default {\n  name: 'ClusterExplorerIndexPage',\n\n  components: {\n    EtcdInfoBanner,\n    DashboardMetrics,\n    HardwareResourceGauge,\n    ResourceSummary,\n    Tab,\n    Tabbed,\n    AlertTable,\n    Banner,\n    ConfigBadge,\n    EventsTable,\n    SimpleBox,\n    Certificates,\n    TabTitle\n  },\n\n  mixins: [metricPoller],\n\n  fetch() {\n    fetchClusterResources(this.$store, NODE);\n\n    if (this.currentCluster) {\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [CLUSTER_METRICS_DETAIL_URL, CLUSTER_METRICS_SUMMARY_URL]),\n        this,\n        'showClusterMetrics',\n        `Determine cluster metrics`\n      );\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [K8S_METRICS_DETAIL_URL, K8S_METRICS_SUMMARY_URL]),\n        this,\n        'showK8sMetrics',\n        `Determine k8s metrics`\n      );\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [ETCD_METRICS_DETAIL_URL, ETCD_METRICS_SUMMARY_URL]),\n        this,\n        'showEtcdMetrics',\n        `Determine etcd metrics`\n      );\n\n      // It's not enough to check that the grafana links are working for the current user; embedded cluster-level dashboards should only be shown if the user can view the grafana endpoint\n      // https://github.com/rancher/dashboard/issues/9792\n      setPromiseResult(canViewGrafanaLink(this.$store), this, 'canViewMetrics', 'Determine Grafana Permission');\n\n      if (this.currentCluster.isLocal && this.$store.getters['management/schemaFor'](MANAGEMENT.NODE)) {\n        this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE });\n      }\n\n      this.canViewAgents = this.$store.getters['cluster/canList'](WORKLOAD_TYPES.DEPLOYMENT) && this.$store.getters['cluster/canList'](WORKLOAD_TYPES.STATEFUL_SET);\n\n      if (this.canViewAgents) {\n        this.loadAgents();\n      }\n    }\n  },\n\n  data() {\n    const clusterCounts = this.$store.getters[`cluster/all`](COUNT);\n    const nodeHeaders = [\n      STATE,\n      NAME,\n      ROLES,\n    ];\n\n    return {\n      nodeHeaders,\n      constraints:        [],\n      cattleDeployment:   'loading',\n      fleetDeployment:    'loading',\n      fleetStatefulSet:   'loading',\n      canViewAgents:      false,\n      disconnected:       false,\n      events:             [],\n      nodeMetrics:        [],\n      showClusterMetrics: false,\n      showK8sMetrics:     false,\n      showEtcdMetrics:    false,\n      canViewMetrics:     false,\n      CLUSTER_METRICS_DETAIL_URL,\n      CLUSTER_METRICS_SUMMARY_URL,\n      K8S_METRICS_DETAIL_URL,\n      K8S_METRICS_SUMMARY_URL,\n      ETCD_METRICS_DETAIL_URL,\n      ETCD_METRICS_SUMMARY_URL,\n      STATES_ENUM,\n      clusterCounts,\n      selectedTab:        'cluster-events',\n      extensionCards:     getApplicableExtensionEnhancements(this, ExtensionPoint.CARD, CardLocation.CLUSTER_DASHBOARD_CARD, this.$route),\n    };\n  },\n\n  beforeDestroy() {\n    // Remove the data and stop watching resources that were fetched in this page\n    // Events in particular can lead to change messages having to be processed when we are no longer interested in events\n    this.$store.dispatch('cluster/forgetType', EVENT);\n    this.$store.dispatch('cluster/forgetType', NODE);\n    this.$store.dispatch('cluster/forgetType', ENDPOINTS); // Used by AlertTable to get alerts when v2 monitoring is installed\n    this.$store.dispatch('cluster/forgetType', METRIC.NODE);\n    this.$store.dispatch('cluster/forgetType', MANAGEMENT.NODE);\n    this.$store.dispatch('cluster/forgetType', WORKLOAD_TYPES.DEPLOYMENT);\n\n    clearInterval(this.interval);\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...monitoringStatus(),\n\n    nodes() {\n      return this.$store.getters['cluster/all'](NODE);\n    },\n\n    mgmtNodes() {\n      return this.$store.getters['management/all'](MANAGEMENT.CLUSTER);\n    },\n\n    showClusterTools() {\n      return this.$store.getters['cluster/canList'](CATALOG.CLUSTER_REPO) &&\n      this.$store.getters['cluster/canList'](CATALOG.APP);\n    },\n\n    displayProvider() {\n      const other = 'other';\n\n      let provider = this.currentCluster?.status?.provider || other;\n\n      if (provider === 'rke.windows') {\n        provider = 'rkeWindows';\n      }\n\n      if (!this.$store.getters['i18n/exists'](`cluster.provider.${ provider }`)) {\n        provider = 'other';\n      }\n\n      return this.t(`cluster.provider.${ provider }`);\n    },\n\n    nodesArchitecture() {\n      const obj = {};\n\n      this.nodes?.forEach((node) => {\n        if (!node.metadata?.state?.transitioning) {\n          const architecture = node.labels?.[NODE_ARCHITECTURE];\n\n          const key = architecture ? capitalize(architecture) : this.t('cluster.architecture.label.unknown');\n\n          obj[key] = (obj[key] || 0) + 1;\n        }\n      });\n\n      return obj;\n    },\n\n    architecture() {\n      const keys = Object.keys(this.nodesArchitecture);\n\n      switch (keys.length) {\n      case 0:\n        return { label: this.t('generic.provisioning') };\n      case 1:\n        return { label: keys[0] };\n      default:\n        return {\n          label:   this.t('cluster.architecture.label.mixed'),\n          tooltip: keys.reduce((acc, k) => `${ acc }${ k }: ${ this.nodesArchitecture[k] }<br>`, '')\n        };\n      }\n    },\n\n    isHarvesterCluster() {\n      return this.currentCluster?.isHarvester;\n    },\n\n    isRKE() {\n      return ['rke', 'rke.windows', 'rke2', 'rke2.windows'].includes((this.currentCluster.status.provider || '').toLowerCase());\n    },\n\n    accessibleResources() {\n      // This is a list of IDs for allowed resources counts.\n      const defaultAllowedResources = Object.keys(this.clusterCounts?.[0]?.counts || {}).filter((typeId) => {\n        return this.$store.getters['type-map/isIgnored']({ id: typeId });\n      });\n\n      // Merge with RESOURCES list\n      const allowedResources = [...new Set([...defaultAllowedResources, ...RESOURCES])];\n\n      return allowedResources.filter((resource) => this.$store.getters['cluster/schemaFor'](resource));\n    },\n\n    clusterServices() {\n      const services = [];\n\n      CLUSTER_COMPONENTS.forEach((cs) => {\n        services.push({\n          name:     cs,\n          status:   this.getComponentStatus(cs),\n          labelKey: `clusterIndexPage.sections.componentStatus.${ cs }`,\n        });\n      });\n\n      if (this.canViewAgents) {\n        if (!this.currentCluster.isLocal) {\n          services.push({\n            name:     'cattle',\n            status:   this.cattleStatus,\n            labelKey: 'clusterIndexPage.sections.componentStatus.cattle',\n          });\n        }\n\n        services.push({\n          name:     'fleet',\n          status:   this.fleetStatus,\n          labelKey: 'clusterIndexPage.sections.componentStatus.fleet',\n        });\n      }\n\n      return services;\n    },\n\n    cattleStatus() {\n      const resource = this.cattleDeployment;\n\n      if (resource === 'loading') {\n        return STATES_ENUM.IN_PROGRESS;\n      }\n\n      if (!resource || this.disconnected || resource.status.conditions?.find((c) => c.status !== 'True') || resource.metadata.state?.error) {\n        return STATES_ENUM.UNHEALTHY;\n      }\n\n      if (resource.spec.replicas !== resource.status.readyReplicas || resource.status.unavailableReplicas > 0) {\n        return STATES_ENUM.WARNING;\n      }\n\n      return STATES_ENUM.HEALTHY;\n    },\n\n    fleetStatus() {\n      const resources = this.currentCluster.isLocal ? [\n        /**\n         * 'fleetStatefulSet' could take a while to be created by rancher.\n         * During that startup period, only 'fleetDeployment' will be used to calculate the fleet agent status.\n         */\n        ...(this.fleetStatefulSet ? [this.fleetStatefulSet, this.fleetDeployment] : [this.fleetDeployment]),\n      ] : [\n        this.fleetStatefulSet\n      ];\n\n      if (resources.find((r) => r === 'loading')) {\n        return STATES_ENUM.IN_PROGRESS;\n      }\n\n      for (const resource of resources) {\n        if (!resource || resource.status.conditions?.find((c) => c.status !== 'True') || resource.metadata.state?.error) {\n          return STATES_ENUM.UNHEALTHY;\n        }\n      }\n\n      for (const resource of resources) {\n        if (resource.spec.replicas !== resource.status.readyReplicas || resource.status.unavailableReplicas > 0) {\n          return STATES_ENUM.WARNING;\n        }\n      }\n\n      return STATES_ENUM.HEALTHY;\n    },\n\n    totalCountGaugeInput() {\n      const totalInput = {\n        name:         this.t('clusterIndexPage.resourceGauge.totalResources'),\n        total:        0,\n        useful:       0,\n        warningCount: 0,\n        errorCount:   0\n      };\n\n      this.accessibleResources.forEach((resource) => {\n        const counts = resourceCounts(this.$store, resource);\n\n        Object.entries(counts).forEach((entry) => {\n          totalInput[entry[0]] += entry[1];\n        });\n      });\n\n      return totalInput;\n    },\n\n    hasStats() {\n      return this.currentCluster?.status?.allocatable && this.currentCluster?.status?.requested;\n    },\n\n    cpuReserved() {\n      const total = parseSi(this.currentCluster?.status?.allocatable?.cpu);\n\n      return {\n        total,\n        useful: parseSi(this.currentCluster?.status?.requested?.cpu),\n        units:  this.t('clusterIndexPage.hardwareResourceGauge.units.cores', { count: total })\n      };\n    },\n\n    podsUsed() {\n      return {\n        total:  parseSi(this.currentCluster?.status?.allocatable?.pods || '0'),\n        useful: parseSi(this.currentCluster?.status?.requested?.pods || '0'),\n      };\n    },\n\n    ramReserved() {\n      return createMemoryValues(this.currentCluster?.status?.allocatable?.memory, this.currentCluster?.status?.requested?.memory);\n    },\n\n    metricAggregations() {\n      let checkNodes = this.nodes;\n\n      // Special case local cluster\n      if (this.currentCluster.isLocal) {\n        const nodeNames = this.nodes.reduce((acc, n) => {\n          acc[n.id] = n;\n\n          return acc;\n        }, {});\n\n        checkNodes = this.mgmtNodes.filter((n) => {\n          const nodeName = n.metadata?.labels?.['management.cattle.io/nodename'] || n.id;\n\n          return !!nodeNames[nodeName];\n        });\n      }\n\n      const someNonWorkerRoles = checkNodes.some((node) => node.hasARole && !node.isWorker);\n      const metrics = this.nodeMetrics.filter((nodeMetrics) => {\n        const node = this.nodes.find((nd) => nd.id === nodeMetrics.id);\n\n        return node && (!someNonWorkerRoles || node.isWorker);\n      });\n      const initialAggregation = {\n        cpu:    0,\n        memory: 0\n      };\n\n      if (isEmpty(metrics)) {\n        return null;\n      }\n\n      return metrics.reduce((agg, metric) => {\n        agg.cpu += parseSi(metric.usage.cpu);\n        agg.memory += parseSi(metric.usage.memory);\n\n        return agg;\n      }, initialAggregation);\n    },\n\n    cpuUsed() {\n      const total = parseSi(this.currentCluster?.status?.capacity?.cpu);\n\n      return {\n        total,\n        useful: this.metricAggregations?.cpu,\n        units:  this.t('clusterIndexPage.hardwareResourceGauge.units.cores', { count: total })\n      };\n    },\n\n    ramUsed() {\n      return createMemoryValues(this.currentCluster?.status?.capacity?.memory, this.metricAggregations?.memory);\n    },\n\n    hasMonitoring() {\n      return !!this.clusterCounts?.[0]?.counts?.[CATALOG.APP]?.namespaces?.['cattle-monitoring-system'];\n    },\n\n    canAccessNodes() {\n      return !!this.clusterCounts?.[0]?.counts?.[NODE];\n    },\n\n    canAccessDeployments() {\n      return !!this.clusterCounts?.[0]?.counts?.[WORKLOAD_TYPES.DEPLOYMENT];\n    },\n\n    hasMetricsTabs() {\n      return this.canViewMetrics && ( this.showClusterMetrics || this.showK8sMetrics || this.showEtcdMetrics);\n    },\n\n    hasBadge() {\n      return !!this.currentCluster?.badge;\n    },\n\n    hasDescription() {\n      return !!this.currentCluster?.spec?.description;\n    },\n\n    allEventsLink() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          product:  EXPLORER,\n          resource: EVENT,\n        }\n      };\n    },\n\n    allSecretsLink() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          product:  EXPLORER,\n          resource: SECRET,\n        }\n      };\n    }\n  },\n\n  methods: {\n    loadAgents() {\n      if (this.currentCluster.isLocal) {\n        this.setAgentResource('fleetDeployment', WORKLOAD_TYPES.DEPLOYMENT, 'cattle-fleet-system/fleet-controller');\n        this.setAgentResource('fleetStatefulSet', WORKLOAD_TYPES.STATEFUL_SET, 'cattle-fleet-local-system/fleet-agent');\n      } else {\n        this.setAgentResource('fleetStatefulSet', WORKLOAD_TYPES.STATEFUL_SET, 'cattle-fleet-system/fleet-agent');\n        this.setAgentResource('cattleDeployment', WORKLOAD_TYPES.DEPLOYMENT, 'cattle-system/cattle-cluster-agent');\n\n        // Scaling Up/Down cattle deployment causes web sockets disconnection;\n        this.interval = setInterval(() => {\n          this.disconnected = !!this.$store.getters['cluster/inError']({ type: NODE });\n        }, 1000);\n      }\n    },\n\n    async setAgentResource(agent, type, id) {\n      try {\n        this[agent] = await this.$store.dispatch('cluster/find', { type, id });\n      } catch (err) {\n        this[agent] = null;\n      }\n    },\n\n    getComponentStatus(field) {\n      const matching = (this.currentCluster?.status?.componentStatuses || []).filter((s) => s.name.startsWith(field));\n\n      // If there's no matching component status, it's \"healthy\"\n      if ( !matching.length ) {\n        return STATES_ENUM.HEALTHY;\n      }\n\n      const count = matching.reduce((acc, status) => {\n        const conditions = status.conditions.find((c) => c.status !== 'True');\n\n        return !conditions ? acc : acc + 1;\n      }, 0);\n\n      if (count > 0) {\n        return STATES_ENUM.UNHEALTHY;\n      }\n\n      return STATES_ENUM.HEALTHY;\n    },\n\n    showActions() {\n      this.$store.commit('action-menu/show', {\n        resources: this.currentCluster,\n        elem:      this.$refs['cluster-actions'],\n      });\n    },\n\n    // Used by metric-poller mixin\n    async loadMetrics() {\n      this.nodeMetrics = await fetchClusterResources(this.$store, METRIC.NODE, { force: true } );\n    },\n\n    // Events/Alerts tab changed\n    tabChange(neu) {\n      this.selectedTab = neu?.selectedName;\n    },\n\n    async goToHarvesterCluster() {\n      try {\n        const provClusters = await this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER });\n        const provCluster = provClusters.find((p) => p.mgmt.id === this.currentCluster.id);\n\n        await provCluster.goToHarvesterCluster();\n      } catch {\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <section class=\"dashboard\">\n    <header>\n      <div class=\"title\">\n        <h1>\n          <TabTitle>\n            {{ t('clusterIndexPage.header') }}\n          </TabTitle>\n        </h1>\n        <div\n          v-if=\"hasDescription\"\n          class=\"cluster-dashboard-description\"\n        >\n          <span>{{ currentCluster.spec.description }}</span>\n        </div>\n      </div>\n    </header>\n    <div\n      class=\"cluster-dashboard-glance\"\n    >\n      <div data-testid=\"clusterProvider__label\">\n        <label>{{ t('glance.provider') }}: </label>\n        <span v-if=\"isHarvesterCluster\">\n          <a\n            role=\"button\"\n            @click=\"goToHarvesterCluster\"\n          >\n            {{ displayProvider }}\n          </a>\n        </span>\n        <span v-else>\n          {{ displayProvider }}\n        </span>\n      </div>\n      <div data-testid=\"kubernetesVersion__label\">\n        <label>{{ t('glance.version') }}: </label>\n        <span>{{ currentCluster.kubernetesVersionBase }}</span>\n        <span\n          v-if=\"currentCluster.kubernetesVersionExtension\"\n          style=\"font-size: 0.75em\"\n        >{{ currentCluster.kubernetesVersionExtension }}</span>\n      </div>\n      <div\n        v-if=\"nodes.length > 0\"\n        data-testid=\"architecture__label\"\n      >\n        <label>{{ t('glance.architecture') }}: </label>\n        <span v-clean-tooltip=\"architecture.tooltip\">\n          {{ architecture.label }}\n        </span>\n      </div>\n      <div data-testid=\"created__label\">\n        <label>{{ t('glance.created') }}: </label>\n        <span><LiveDate\n          :value=\"currentCluster.metadata.creationTimestamp\"\n          :add-suffix=\"true\"\n          :show-tooltip=\"true\"\n        /></span>\n      </div>\n      <div :style=\"{'flex':1}\" />\n      <div v-if=\"showClusterTools\">\n        <router-link\n          :to=\"{name: 'c-cluster-explorer-tools'}\"\n          class=\"cluster-tools-link\"\n        >\n          <span>{{ t('nav.clusterTools') }}</span>\n        </router-link>\n      </div>\n      <ConfigBadge\n        v-if=\"currentCluster.canUpdate\"\n        :cluster=\"currentCluster\"\n      />\n    </div>\n\n    <div class=\"resource-gauges\">\n      <ResourceSummary :spoofed-counts=\"totalCountGaugeInput\" />\n      <ResourceSummary\n        v-if=\"canAccessNodes\"\n        resource=\"node\"\n      />\n      <ResourceSummary\n        v-if=\"canAccessDeployments\"\n        resource=\"apps.deployment\"\n      />\n    </div>\n\n    <!-- extension cards -->\n    <div\n      v-if=\"extensionCards.length\"\n      class=\"extension-card-container mt-20\"\n    >\n      <SimpleBox\n        v-for=\"item, i in extensionCards\"\n        :key=\"`extensionCards${i}`\"\n        class=\"extension-card\"\n        :style=\"item.style\"\n      >\n        <h3>\n          {{ item.label }}\n        </h3>\n        <component\n          :is=\"item.component\"\n          :resource=\"currentCluster\"\n        />\n      </SimpleBox>\n    </div>\n\n    <h3\n      v-if=\"hasStats\"\n      class=\"mt-40\"\n    >\n      {{ t('clusterIndexPage.sections.capacity.label') }}\n    </h3>\n    <div\n      v-if=\"hasStats\"\n      class=\"hardware-resource-gauges\"\n    >\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.pods')\"\n        :used=\"podsUsed\"\n      />\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.cores')\"\n        :reserved=\"cpuReserved\"\n        :used=\"cpuUsed\"\n        :units=\"cpuReserved.units\"\n      />\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.ram')\"\n        :reserved=\"ramReserved\"\n        :used=\"ramUsed\"\n        :units=\"ramReserved.units\"\n      />\n    </div>\n\n    <div v-if=\"clusterServices\">\n      <div\n        v-for=\"service in clusterServices\"\n        :key=\"service.name\"\n        class=\"k8s-service-status\"\n        :class=\"{[service.status]: true }\"\n        :data-testid=\"`k8s-service-${ service.name }`\"\n      >\n        <i\n          v-if=\"service.status === STATES_ENUM.IN_PROGRESS\"\n          class=\"icon icon-spinner icon-spin\"\n        />\n        <i\n          v-else-if=\"service.status === STATES_ENUM.HEALTHY\"\n          class=\"icon icon-checkmark\"\n        />\n        <i\n          v-else\n          class=\"icon icon-warning\"\n        />\n        <div class=\"label\">\n          {{ t(service.labelKey) }}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-30\">\n      <Tabbed @changed=\"tabChange\">\n        <Tab\n          name=\"cluster-events\"\n          :label=\"t('clusterIndexPage.sections.events.label')\"\n          :weight=\"2\"\n        >\n          <span class=\"events-table-link\">\n            <router-link :to=\"allEventsLink\">\n              <span>{{ t('glance.eventsTable') }}</span>\n            </router-link>\n          </span>\n          <EventsTable />\n        </Tab>\n        <Tab\n          v-if=\"hasMonitoring\"\n          name=\"cluster-alerts\"\n          :label=\"t('clusterIndexPage.sections.alerts.label')\"\n          :weight=\"1\"\n        >\n          <AlertTable v-if=\"selectedTab === 'cluster-alerts'\" />\n        </Tab>\n        <Tab\n          name=\"cluster-certs\"\n          :label=\"t('clusterIndexPage.sections.certs.label')\"\n          :weight=\"1\"\n        >\n          <span class=\"cert-table-link\">\n            <router-link :to=\"allSecretsLink\">\n              <span>{{ t('glance.secretsTable') }}</span>\n            </router-link>\n          </span>\n          <Certificates v-if=\"selectedTab === 'cluster-certs'\" />\n        </Tab>\n      </Tabbed>\n    </div>\n    <Tabbed\n      v-if=\"hasMetricsTabs\"\n      default-tab=\"cluster-metrics\"\n      :use-hash=\"false\"\n      class=\"mt-30\"\n    >\n      <Tab\n        v-if=\"showClusterMetrics\"\n        name=\"cluster-metrics\"\n        :label=\"t('clusterIndexPage.sections.clusterMetrics.label')\"\n        :weight=\"2\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"CLUSTER_METRICS_DETAIL_URL\"\n            :summary-url=\"CLUSTER_METRICS_SUMMARY_URL\"\n            graph-height=\"825px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"showK8sMetrics\"\n        name=\"k8s-metrics\"\n        :label=\"t('clusterIndexPage.sections.k8sMetrics.label')\"\n        :weight=\"1\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"K8S_METRICS_DETAIL_URL\"\n            :summary-url=\"K8S_METRICS_SUMMARY_URL\"\n            graph-height=\"550px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"showEtcdMetrics\"\n        name=\"etcd-metrics\"\n        :label=\"t('clusterIndexPage.sections.etcdMetrics.label')\"\n        :weight=\"0\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            class=\"etcd-metrics\"\n            :detail-url=\"ETCD_METRICS_DETAIL_URL\"\n            :summary-url=\"ETCD_METRICS_SUMMARY_URL\"\n            graph-height=\"550px\"\n          >\n            <EtcdInfoBanner />\n          </DashboardMetrics>\n        </template>\n      </Tab>\n    </Tabbed>\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n.extension-card-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(calc((100%/3) - 40px), 1fr));\n  grid-column-gap: 15px;\n  grid-row-gap: 20px;\n}\n\n@media only screen and (max-width: map-get($breakpoints, \"--viewport-9\")) {\n  .extension-card-container {\n    grid-template-columns: 1fr !important;\n  }\n}\n\n.cluster-dashboard-glance {\n  align-items: center;\n  border-top: 1px solid var(--border);\n  border-bottom: 1px solid var(--border);\n  padding: 10px 0px;\n  display: flex;\n\n  &>*:not(:nth-last-child(-n+2)) {\n    margin-right: 40px;\n\n    & SPAN {\n       font-weight: bold\n    }\n  }\n}\n\n.title {\n  h1 {\n    margin: 0;\n  }\n\n  .cluster-dashboard-description {\n    margin: 5px 0;\n    opacity: 0.7;\n  }\n}\n\n.actions-span {\n  align-self: center;\n}\n\n.events {\n  margin-top: 30px;\n}\n\n.graph-options {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.etcd-metrics ::v-deep .external-link {\n  top: -107px;\n}\n\n.cluster-tools-tip {\n  margin-top: 0;\n}\n\n.cluster-tools-link {\n  display: flex;\n  margin-right: 10px;\n\n  > I {\n    line-height: inherit;\n    margin-right: 4px;\n  }\n\n  &:focus {\n    outline: 0;\n  }\n}\n\n.events-table-link, .cert-table-link {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 20px;\n}\n\n.k8s-service-status {\n  align-items: center;\n  display: inline-flex;\n  border: 1px solid;\n  border-color: var(--border);\n  margin-top: 20px;\n\n  .label {\n    border-left: 1px solid var(--border);\n  }\n\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  > div {\n    padding: 5px 20px;\n  }\n\n  > I {\n    text-align: center;\n    padding: 5px 10px;\n  }\n\n  &.unhealthy {\n    border-color: var(--error-border);\n\n    > I {\n      color: var(--error)\n    }\n  }\n\n  &.warning {\n    > I {\n      color: var(--warning)\n    }\n  }\n\n  &.healthy {\n    > I {\n      color: var(--success)\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}