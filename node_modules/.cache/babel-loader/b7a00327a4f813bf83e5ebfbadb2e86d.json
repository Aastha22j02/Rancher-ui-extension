{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBkcm9wS2V5cyB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQganN5YW1sIGZyb20gJ2pzLXlhbWwnOwpleHBvcnQgZnVuY3Rpb24gc3RldmVDbGVhbkZvckRvd25sb2FkKHlhbWwsIGtleXMpIHsKICB2YXIgX2E7CiAgaWYgKCF5YW1sKSB7CiAgICByZXR1cm47CiAgfQogIHZhciBfcmVmID0ga2V5cyB8fCB7fSwKICAgIF9yZWYkcm9vdEtleXMgPSBfcmVmLnJvb3RLZXlzLAogICAgcm9vdEtleXMgPSBfcmVmJHJvb3RLZXlzID09PSB2b2lkIDAgPyBbJ2lkJywgJ2xpbmtzJywgJ3R5cGUnLCAnYWN0aW9ucyddIDogX3JlZiRyb290S2V5cywKICAgIF9yZWYkbWV0YWRhdGFLZXlzID0gX3JlZi5tZXRhZGF0YUtleXMsCiAgICBtZXRhZGF0YUtleXMgPSBfcmVmJG1ldGFkYXRhS2V5cyA9PT0gdm9pZCAwID8gWydmaWVsZHMnLCAncmVsYXRpb25zaGlwcycsICdzdGF0ZSddIDogX3JlZiRtZXRhZGF0YUtleXMsCiAgICBfcmVmJGNvbmRpdGlvbktleXMgPSBfcmVmLmNvbmRpdGlvbktleXMsCiAgICBjb25kaXRpb25LZXlzID0gX3JlZiRjb25kaXRpb25LZXlzID09PSB2b2lkIDAgPyBbJ2Vycm9yJywgJ3RyYW5zaXRpb25pbmcnXSA6IF9yZWYkY29uZGl0aW9uS2V5czsKICB2YXIgb2JqID0ganN5YW1sLmxvYWQoeWFtbCk7CiAgZHJvcEtleXMob2JqLCByb290S2V5cyk7CiAgZHJvcEtleXMob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLm1ldGFkYXRhLCBtZXRhZGF0YUtleXMpOwogICgoKF9hID0gb2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLnN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbmRpdGlvbnMpIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChjb25kaXRpb24pIHsKICAgIHJldHVybiBkcm9wS2V5cyhjb25kaXRpb24sIGNvbmRpdGlvbktleXMpOwogIH0pOwogIHJldHVybiBqc3lhbWwuZHVtcChvYmopOwp9"},{"version":3,"names":["dropKeys","jsyaml","steveCleanForDownload","yaml","keys","_ref","_ref$rootKeys","rootKeys","_ref$metadataKeys","metadataKeys","_ref$conditionKeys","conditionKeys","obj","load","metadata","_a","status","conditions","forEach","condition","dump"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts"],"sourcesContent":["import { dropKeys } from '@shell/utils/object';\nimport jsyaml from 'js-yaml';\n\nexport function steveCleanForDownload(yaml: string, keys?: {\n  rootKeys?: string[],\n  metadataKeys?: string[],\n  conditionKeys?: string[]\n }): string | undefined {\n  if (!yaml) {\n    return;\n  }\n\n  const {\n    rootKeys = [\n      'id',\n      'links',\n      'type',\n      'actions'\n    ],\n    metadataKeys = [\n      'fields',\n      'relationships',\n      'state',\n    ],\n    conditionKeys = [\n      'error',\n      'transitioning',\n    ]\n  } = keys || {};\n\n  const obj: any = jsyaml.load(yaml);\n\n  dropKeys(obj, rootKeys);\n  dropKeys(obj?.metadata, metadataKeys);\n  (obj?.status?.conditions || []).forEach((condition: any) => dropKeys(condition, conditionKeys));\n\n  return jsyaml.dump(obj);\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,qBAAqB;AAC9C,OAAOC,MAAM,MAAM,SAAS;AAE5B,OAAM,SAAUC,qBAAqBA,CAACC,IAAY,EAAEC,IAIlD;;EACA,IAAI,CAACD,IAAI,EAAE;IACT;;EAGF,IAAAE,IAAA,GAgBID,IAAI,IAAI,EAAE;IAAAE,aAAA,GAAAD,IAAA,CAfZE,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,CACT,IAAI,EACJ,OAAO,EACP,MAAM,EACN,SAAS,CACV,GAAAA,aAAA;IAAAE,iBAAA,GAAAH,IAAA,CACDI,YAAY;IAAZA,YAAY,GAAAD,iBAAA,cAAG,CACb,QAAQ,EACR,eAAe,EACf,OAAO,CACR,GAAAA,iBAAA;IAAAE,kBAAA,GAAAL,IAAA,CACDM,aAAa;IAAbA,aAAa,GAAAD,kBAAA,cAAG,CACd,OAAO,EACP,eAAe,CAChB,GAAAA,kBAAA;EAGH,IAAME,GAAG,GAAQX,MAAM,CAACY,IAAI,CAACV,IAAI,CAAC;EAElCH,QAAQ,CAACY,GAAG,EAAEL,QAAQ,CAAC;EACvBP,QAAQ,CAACY,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEE,QAAQ,EAAEL,YAAY,CAAC;EACrC,CAAC,EAAAM,EAAA,GAAAH,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEI,MAAM,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,UAAU,KAAI,EAAE,EAAEC,OAAO,CAAC,UAACC,SAAc;IAAA,OAAKnB,QAAQ,CAACmB,SAAS,EAAER,aAAa,CAAC;EAAA,EAAC;EAE/F,OAAOV,MAAM,CAACmB,IAAI,CAACR,GAAG,CAAC;AACzB","ignoreList":[]}]}