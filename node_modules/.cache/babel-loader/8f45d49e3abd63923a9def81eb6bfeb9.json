{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/install-redirect.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/install-redirect.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IFJFUE9fVFlQRSwgUkVQTywgQ0hBUlQsIFZFUlNJT04gfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwcm9kdWN0LCBjaGFydE5hbWUsIGRlZmF1bHRSZXNvdXJjZU9yUm91dGUpIHsKICB2YXIgaW5zdGFsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICByZXR1cm4gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfbWlkZGxld2FyZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgICB2YXIgX3N0b3JlJGdldHRlcnMkY3VycmVuOwogICAgICB2YXIgcmVkaXJlY3QsIHN0b3JlLCBjbHVzdGVyLCBjaGFydDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJlZGlyZWN0ID0gX3JlZi5yZWRpcmVjdCwgc3RvcmUgPSBfcmVmLnN0b3JlOwogICAgICAgICAgICBjbHVzdGVyID0gKChfc3RvcmUkZ2V0dGVycyRjdXJyZW4gPSBzdG9yZS5nZXR0ZXJzWydjdXJyZW50Q2x1c3RlciddKSA9PT0gbnVsbCB8fCBfc3RvcmUkZ2V0dGVycyRjdXJyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdG9yZSRnZXR0ZXJzJGN1cnJlbi5pZCkgfHwgJ2xvY2FsJzsKICAgICAgICAgICAgaWYgKCFzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pc1Byb2R1Y3RBY3RpdmUnXShwcm9kdWN0KSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghZGVmYXVsdFJlc291cmNlT3JSb3V0ZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghKF90eXBlb2YoZGVmYXVsdFJlc291cmNlT3JSb3V0ZSkgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlZGlyZWN0KGRlZmF1bHRSZXNvdXJjZU9yUm91dGUpKTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVkaXJlY3QoewogICAgICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBjbHVzdGVyOiBjbHVzdGVyLAogICAgICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgICAgICAgIHJlc291cmNlOiBkZWZhdWx0UmVzb3VyY2VPclJvdXRlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGlmICghaW5zdGFsbCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnY2F0YWxvZy9sb2FkJywgewogICAgICAgICAgICAgIGZvcmNlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2hhcnQgPSBzdG9yZS5nZXR0ZXJzWydjYXRhbG9nL2NoYXJ0J10oewogICAgICAgICAgICAgIGNoYXJ0TmFtZTogY2hhcnROYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoIWNoYXJ0KSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlZGlyZWN0KHsKICAgICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWFwcHMtY2hhcnRzLWNoYXJ0JywKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGNsdXN0ZXI6IGNsdXN0ZXIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHF1ZXJ5OiBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIFJFUE9fVFlQRSwgY2hhcnQucmVwb1R5cGUpLCBSRVBPLCBjaGFydC5yZXBvTmFtZSksIENIQVJULCBjaGFydC5jaGFydE5hbWUpLCBWRVJTSU9OLCBjaGFydC52ZXJzaW9uc1swXS52ZXJzaW9uKQogICAgICAgICAgICB9KSk7CiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAvLyBUaGUgY2hhcnQncyBub3QgYXZhaWxhYmxlCiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdsb2FkaW5nRXJyb3InLCAiQ2hhcnQgbm90IGZvdW5kIGZvciAiLmNvbmNhdChwcm9kdWN0KSk7CiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVkaXJlY3QoewogICAgICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItZXhwbG9yZXInLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgY2x1c3RlcjogY2x1c3RlcgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKICAgIGZ1bmN0aW9uIG1pZGRsZXdhcmUoX3gpIHsKICAgICAgcmV0dXJuIF9taWRkbGV3YXJlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CiAgICByZXR1cm4gbWlkZGxld2FyZTsKICB9KCk7Cn0="},{"version":3,"names":["REPO_TYPE","REPO","CHART","VERSION","product","chartName","defaultResourceOrRoute","install","arguments","length","undefined","_middleware","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","_store$getters$curren","redirect","store","cluster","chart","wrap","_callee$","_context","prev","next","getters","id","_typeof","abrupt","name","params","resource","dispatch","force","query","_defineProperty","repoType","repoName","versions","version","concat","stop","middleware","_x","apply"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/install-redirect.js"],"sourcesContent":["import { REPO_TYPE, REPO, CHART, VERSION } from '@shell/config/query-params';\n\nexport default function(product, chartName, defaultResourceOrRoute, install = true) {\n  return async function middleware({ redirect, store } ) {\n    const cluster = store.getters['currentCluster']?.id || 'local';\n\n    if ( store.getters['type-map/isProductActive'](product) ) {\n      // If the product is installed and there's a default resource, redirect there\n\n      if ( defaultResourceOrRoute ) {\n        if ( typeof defaultResourceOrRoute === 'object' ) {\n          return redirect(defaultResourceOrRoute);\n        }\n\n        return redirect({\n          name:   'c-cluster-product-resource',\n          params: {\n            cluster,\n            product,\n            resource: defaultResourceOrRoute\n          },\n        });\n      }\n\n      // Otherwise just let the middleware pass through\n    } else if (install) {\n      // The product is not installed, redirect to the details chart\n\n      await store.dispatch('catalog/load', { force: true });\n\n      const chart = store.getters['catalog/chart']({ chartName });\n\n      if ( chart ) {\n        return redirect({\n          name:   'c-cluster-apps-charts-chart',\n          params: { cluster },\n          query:  {\n            [REPO_TYPE]: chart.repoType,\n            [REPO]:      chart.repoName,\n            [CHART]:     chart.chartName,\n            [VERSION]:   chart.versions[0].version\n          },\n        });\n      } else {\n        // The chart's not available\n        store.dispatch('loadingError', `Chart not found for ${ product }`);\n      }\n    } else {\n      return redirect({\n        name:   'c-cluster-explorer',\n        params: { cluster },\n      });\n    }\n  };\n}\n"],"mappings":"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","ignoreList":[]}]}