{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/dialog/SaveAsRKETemplateDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/dialog/SaveAsRKETemplateDialog.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgQXN5bmNCdXR0b24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQXN5bmNCdXR0b24nOwppbXBvcnQgeyBDYXJkIH0gZnJvbSAnQGNvbXBvbmVudHMvQ2FyZCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CnZhciBERUZBVUxUX1JFVklTSU9OID0gJ3YxJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENhcmQ6IENhcmQsCiAgICBBc3luY0J1dHRvbjogQXN5bmNCdXR0b24sCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0CiAgfSwKICBwcm9wczogewogICAgY2x1c3RlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogW10sCiAgICAgIG5hbWU6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLiRyZWZzLnRlbXBsYXRlTmFtZS5mb2N1cygpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGJ1dHRvbkRvbmUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9yZXF1ZXN0JywgewogICAgICAgICAgICAgICAgdXJsOiAiL3YzL2NsdXN0ZXJzLyIuY29uY2F0KGVzY2FwZShfdGhpczIuY2x1c3Rlci5uYW1lKSwgIj9hY3Rpb249c2F2ZUFzVGVtcGxhdGUiKSwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICBjbHVzdGVyVGVtcGxhdGVOYW1lOiBfdGhpczIubmFtZSwKICAgICAgICAgICAgICAgICAgY2x1c3RlclRlbXBsYXRlUmV2aXNpb25OYW1lOiBERUZBVUxUX1JFVklTSU9OCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBidXR0b25Eb25lKHRydWUpOwogICAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwoKICAgICAgICAgICAgICAvLyBUYWtlIHRoZSB1c2VyIHRvIHRoZSBSS0UgVGVtcGxhdGVzIHZpZXcKICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItbWFuYWdlci1wYWdlcy1wYWdlJywKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICBjbHVzdGVyOiAnbG9jYWwnLAogICAgICAgICAgICAgICAgICBwYWdlOiAncmtlLXRlbXBsYXRlcycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMgPSBleGNlcHRpb25Ub0Vycm9yc0FycmF5KF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICBidXR0b25Eb25lKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["AsyncButton","Card","Banner","LabeledInput","exceptionToErrorsArray","DEFAULT_REVISION","components","props","cluster","type","Object","default","_default","data","errors","name","mounted","_this","$nextTick","$refs","templateName","focus","methods","close","$emit","apply","buttonDone","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","url","concat","escape","method","clusterTemplateName","clusterTemplateRevisionName","$router","replace","params","page","t0","stop"],"sources":["node_modules/@rancher/shell/dialog/SaveAsRKETemplateDialog.vue"],"sourcesContent":["<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\n\nconst DEFAULT_REVISION = 'v1';\n\nexport default {\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n    LabeledInput,\n  },\n  props: {\n    cluster: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  data() {\n    return { errors: [], name: '' };\n  },\n\n  mounted() {\n    this.$nextTick(() => {\n      this.$refs.templateName.focus();\n    });\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n\n    async apply(buttonDone) {\n      try {\n        await this.$store.dispatch('rancher/request', {\n          url:    `/v3/clusters/${ escape(this.cluster.name) }?action=saveAsTemplate`,\n          method: 'post',\n          data:   {\n            clusterTemplateName:         this.name,\n            clusterTemplateRevisionName: DEFAULT_REVISION\n          },\n        });\n\n        buttonDone(true);\n        this.close();\n\n        // Take the user to the RKE Templates view\n        this.$router.replace({\n          name:   'c-cluster-manager-pages-page',\n          params: {\n            cluster: 'local',\n            page:    'rke-templates'\n          }\n        });\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Card\n    class=\"prompt-restore\"\n    :show-highlight-border=\"false\"\n  >\n    <h4\n      slot=\"title\"\n      v-clean-html=\"t('promptSaveAsRKETemplate.title', { cluster: cluster.displayName }, true)\"\n      class=\"text-default-text\"\n    />\n\n    <div\n      slot=\"body\"\n      class=\"pl-10 pr-10\"\n    >\n      <form>\n        <p class=\"pt-10 pb-10\">\n          {{ t('promptSaveAsRKETemplate.description') }}\n        </p>\n        <Banner\n          color=\"warning\"\n          label-key=\"promptSaveAsRKETemplate.warning\"\n        />\n\n        <LabeledInput\n          ref=\"templateName\"\n          v-model=\"name\"\n          :label=\"t('promptSaveAsRKETemplate.name')\"\n          :required=\"true\"\n        />\n      </form>\n    </div>\n\n    <div\n      slot=\"actions\"\n      class=\"buttons\"\n    >\n      <button\n        class=\"btn role-secondary mr-10\"\n        @click=\"close\"\n      >\n        {{ t('generic.cancel') }}\n      </button>\n\n      <AsyncButton\n        mode=\"create\"\n        :disabled=\"name.length <= 0\"\n        @click=\"apply\"\n      />\n\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n  </Card>\n</template>\n<style lang='scss' scoped>\n  .prompt-restore {\n    margin: 0;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n  }\n</style>\n"],"mappings":";;;;;;AACA,OAAAA,WAAA;AACA,SAAAC,IAAA;AACA,SAAAC,MAAA;AACA,SAAAC,YAAA;AACA,SAAAC,sBAAA;AAEA,IAAAC,gBAAA;AAEA;EACAC,UAAA;IACAL,IAAA,EAAAA,IAAA;IACAD,WAAA,EAAAA,WAAA;IACAE,MAAA,EAAAA,MAAA;IACAC,YAAA,EAAAA;EACA;EACAI,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MAAAC,MAAA;MAAAC,IAAA;IAAA;EACA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,KAAAC,SAAA;MACAD,KAAA,CAAAE,KAAA,CAAAC,YAAA,CAAAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAAC,KAAA;IACA;IAEAC,KAAA,WAAAA,MAAAC,UAAA;MAAA,IAAAC,MAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAT,MAAA,CAAAU,MAAA,CAAAC,QAAA;gBACAC,GAAA,kBAAAC,MAAA,CAAAC,MAAA,CAAAd,MAAA,CAAAnB,OAAA,CAAAO,IAAA;gBACA2B,MAAA;gBACA7B,IAAA;kBACA8B,mBAAA,EAAAhB,MAAA,CAAAZ,IAAA;kBACA6B,2BAAA,EAAAvC;gBACA;cACA;YAAA;cAEAqB,UAAA;cACAC,MAAA,CAAAJ,KAAA;;cAEA;cACAI,MAAA,CAAAkB,OAAA,CAAAC,OAAA;gBACA/B,IAAA;gBACAgC,MAAA;kBACAvC,OAAA;kBACAwC,IAAA;gBACA;cACA;cAAAd,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAe,EAAA,GAAAf,QAAA;cAEAP,MAAA,CAAAb,MAAA,GAAAV,sBAAA,CAAA8B,QAAA,CAAAe,EAAA;cACAvB,UAAA;YAAA;YAAA;cAAA,OAAAQ,QAAA,CAAAgB,IAAA;UAAA;QAAA,GAAAnB,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}