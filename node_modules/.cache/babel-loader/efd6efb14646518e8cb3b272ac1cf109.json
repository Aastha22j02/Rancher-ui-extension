{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgVHlwZURlc2NyaXB0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1R5cGVEZXNjcmlwdGlvbic7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgeyBNT05JVE9SSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgVGFiYmVkOiBUYWJiZWQsCiAgICBUYWI6IFRhYiwKICAgIFJlc291cmNlVGFibGU6IFJlc291cmNlVGFibGUsCiAgICBUeXBlRGVzY3JpcHRpb246IFR5cGVEZXNjcmlwdGlvbgogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBoYXNoOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3RoaXMucG9kTW9uaXRvclNjaGVtYSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuUE9ETU9OSVRPUik7CiAgICAgICAgICAgIF90aGlzLnNlcnZpY2VNb25pdG9yU2NoZW1hID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oTU9OSVRPUklORy5TRVJWSUNFTU9OSVRPUik7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYWxsSGFzaCh7CiAgICAgICAgICAgICAgcG9kTW9uaXRvcnM6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTU9OSVRPUklORy5QT0RNT05JVE9SCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgc2VydmljZU1vbml0b3JzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE1PTklUT1JJTkcuU0VSVklDRU1PTklUT1IKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgaGFzaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLnBvZE1vbml0b3JzID0gaGFzaC5wb2RNb25pdG9yczsKICAgICAgICAgICAgX3RoaXMuc2VydmljZU1vbml0b3JzID0gaGFzaC5zZXJ2aWNlTW9uaXRvcnM7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgaW5pdFRhYiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlc291cmNlIHx8IE1PTklUT1JJTkcuU1BPT0ZFRC5QT0RNT05JVE9SOwogICAgcmV0dXJuIHsKICAgICAgcG9kTW9uaXRvcnM6IFtdLAogICAgICBzZXJ2aWNlTW9uaXRvcnM6IFtdLAogICAgICBwb2RNb25pdG9yU2NoZW1hOiBudWxsLAogICAgICBzZXJ2aWNlTW9uaXRvclNjaGVtYTogbnVsbCwKICAgICAgaW5pdFRhYjogaW5pdFRhYgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjcmVhdGVSb3V0ZTogZnVuY3Rpb24gY3JlYXRlUm91dGUoKSB7CiAgICAgIHZhciBfdGhpcyQkcmVmczsKICAgICAgdmFyIGFjdGl2ZVJlc291cmNlID0gKChfdGhpcyQkcmVmcyA9IHRoaXMuJHJlZnMpID09PSBudWxsIHx8IF90aGlzJCRyZWZzID09PSB2b2lkIDAgfHwgKF90aGlzJCRyZWZzID0gX3RoaXMkJHJlZnMudGFicykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyZWZzLmFjdGl2ZVRhYk5hbWUpIHx8IHRoaXMucm91dGVTY2hlbWEuaWQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1tb25pdG9yaW5nLW1vbml0b3ItY3JlYXRlJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyCiAgICAgICAgfSwKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVzb3VyY2U6IGFjdGl2ZVJlc291cmNlCiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["Loading","Tabbed","Tab","TypeDescription","ResourceTable","MONITORING","allHash","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","podMonitorSchema","$store","getters","PODMONITOR","serviceMonitorSchema","SERVICEMONITOR","podMonitors","dispatch","type","serviceMonitors","sent","stop","data","initTab","$route","query","resource","SPOOFED","computed","createRoute","_this$$refs","activeResource","$refs","tabs","activeTabName","routeSchema","id","name","params","cluster"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { MONITORING } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nexport default {\n  components: {\n    Loading, Tabbed, Tab, ResourceTable, TypeDescription\n  },\n\n  async fetch() {\n    this.podMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.PODMONITOR);\n    this.serviceMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR);\n\n    const hash = await allHash( {\n      podMonitors:     this.$store.dispatch('cluster/findAll', { type: MONITORING.PODMONITOR } ),\n      serviceMonitors: this.$store.dispatch('cluster/findAll', { type: MONITORING.SERVICEMONITOR } )\n    });\n\n    this.podMonitors = hash.podMonitors;\n    this.serviceMonitors = hash.serviceMonitors;\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.PODMONITOR;\n\n    return {\n      podMonitors: [], serviceMonitors: [], podMonitorSchema: null, serviceMonitorSchema: null, initTab\n    };\n  },\n\n  computed: {\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-monitor-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-40\">\n      <h1>  {{ t('monitoring.monitors') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.createFromYaml') }}\n        </button>\n      </div>\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"podMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](podMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"podMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"podMonitorSchema\"\n          :rows=\"podMonitors\"\n        />\n      </Tab>\n      <Tab\n        :name=\"serviceMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](serviceMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"serviceMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"serviceMonitorSchema\"\n          :rows=\"serviceMonitors\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n"],"mappings":";;;AACA,OAAAA,OAAA;AACA,OAAAC,MAAA;AACA,OAAAC,GAAA;AACA,OAAAC,eAAA;AAEA,OAAAC,aAAA;AACA,SAAAC,UAAA;AACA,SAAAC,OAAA;AACA;EACAC,UAAA;IACAP,OAAA,EAAAA,OAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAC,GAAA,EAAAA,GAAA;IAAAE,aAAA,EAAAA,aAAA;IAAAD,eAAA,EAAAA;EACA;EAEAK,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAV,KAAA,CAAAW,gBAAA,GAAAX,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAkB,UAAA;YACAd,KAAA,CAAAe,oBAAA,GAAAf,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAoB,cAAA;YAAAR,QAAA,CAAAE,IAAA;YAAA,OAEAb,OAAA;cACAoB,WAAA,EAAAjB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAkB;cAAA;cACAM,eAAA,EAAApB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAoB;cAAA;YACA;UAAA;YAHAX,IAAA,GAAAG,QAAA,CAAAa,IAAA;YAKArB,KAAA,CAAAiB,WAAA,GAAAZ,IAAA,CAAAY,WAAA;YACAjB,KAAA,CAAAoB,eAAA,GAAAf,IAAA,CAAAe,eAAA;UAAA;UAAA;YAAA,OAAAZ,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAlB,OAAA;IAAA;EACA;EAEAmB,IAAA,WAAAA,KAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,IAAA/B,UAAA,CAAAgC,OAAA,CAAAd,UAAA;IAEA;MACAG,WAAA;MAAAG,eAAA;MAAAT,gBAAA;MAAAI,oBAAA;MAAAS,OAAA,EAAAA;IACA;EACA;EAEAK,QAAA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,WAAA;MACA,IAAAC,cAAA,KAAAD,WAAA,QAAAE,KAAA,cAAAF,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAG,IAAA,cAAAH,WAAA,uBAAAA,WAAA,CAAAI,aAAA,UAAAC,WAAA,CAAAC,EAAA;MAEA;QACAC,IAAA;QACAC,MAAA;UAAAC,OAAA,OAAAf,MAAA,CAAAc,MAAA,CAAAC;QAAA;QACAd,KAAA;UAAAC,QAAA,EAAAK;QAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}