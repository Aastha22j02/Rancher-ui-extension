{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfQppbXBvcnQgeyBDQVBJLCBNQU5BR0VNRU5ULCBOT1JNQU4gfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgSHlicmlkTW9kZWwgZnJvbSAnQHNoZWxsL3BsdWdpbnMvc3RldmUvaHlicmlkLWNsYXNzJzsKaW1wb3J0IHsgbm90T25seU9mUm9sZSB9IGZyb20gJ0BzaGVsbC9tb2RlbHMvY2x1c3Rlci54LWs4cy5pby5tYWNoaW5lJzsKdmFyIE1nbXROb2RlUG9vbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0h5YnJpZE1vZGVsKSB7CiAgZnVuY3Rpb24gTWdtdE5vZGVQb29sKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1nbXROb2RlUG9vbCk7CiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBNZ210Tm9kZVBvb2wsIGFyZ3VtZW50cyk7CiAgfQogIF9pbmhlcml0cyhNZ210Tm9kZVBvb2wsIF9IeWJyaWRNb2RlbCk7CiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhNZ210Tm9kZVBvb2wsIFt7CiAgICBrZXk6ICJub2RlVGVtcGxhdGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjOwogICAgICB2YXIgaWQgPSAoKChfdGhpcyRzcGVjID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjLm5vZGVUZW1wbGF0ZU5hbWUpIHx8ICcnKS5yZXBsYWNlKC86LywgJy8nKTsKICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy4kZ2V0dGVyc1snYnlJZCddKE1BTkFHRU1FTlQuTk9ERV9URU1QTEFURSwgaWQpOwogICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRub2RlVGVtcGxhdGU7CiAgICAgIHJldHVybiAoX3RoaXMkbm9kZVRlbXBsYXRlID0gdGhpcy5ub2RlVGVtcGxhdGUpID09PSBudWxsIHx8IF90aGlzJG5vZGVUZW1wbGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9kZVRlbXBsYXRlLnByb3ZpZGVyOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyTmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vZGVUZW1wbGF0ZTI7CiAgICAgIHJldHVybiAoX3RoaXMkbm9kZVRlbXBsYXRlMiA9IHRoaXMubm9kZVRlbXBsYXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRub2RlVGVtcGxhdGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub2RlVGVtcGxhdGUyLm5hbWVEaXNwbGF5OwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyRGlzcGxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vZGVUZW1wbGF0ZTM7CiAgICAgIHJldHVybiAoX3RoaXMkbm9kZVRlbXBsYXRlMyA9IHRoaXMubm9kZVRlbXBsYXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRub2RlVGVtcGxhdGUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub2RlVGVtcGxhdGUzLnByb3ZpZGVyRGlzcGxheTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlckxvY2F0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbm9kZVRlbXBsYXRlNDsKICAgICAgcmV0dXJuIChfdGhpcyRub2RlVGVtcGxhdGU0ID0gdGhpcy5ub2RlVGVtcGxhdGUpID09PSBudWxsIHx8IF90aGlzJG5vZGVUZW1wbGF0ZTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5vZGVUZW1wbGF0ZTQucHJvdmlkZXJMb2NhdGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlclNpemUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRub2RlVGVtcGxhdGU1OwogICAgICByZXR1cm4gKF90aGlzJG5vZGVUZW1wbGF0ZTUgPSB0aGlzLm5vZGVUZW1wbGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbm9kZVRlbXBsYXRlNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9kZVRlbXBsYXRlNS5wcm92aWRlclNpemU7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlzaW9uaW5nQ2x1c3RlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMuJGdldHRlcnNbJ2FsbCddKENBUEkuUkFOQ0hFUl9DTFVTVEVSKS5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMubmFtZSA9PT0gX3RoaXMuc3BlYy5jbHVzdGVyTmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZG9uZU92ZXJyaWRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1OwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZS1uYW1lc3BhY2UtaWQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcmVzb3VyY2U6IENBUEkuUkFOQ0hFUl9DTFVTVEVSLAogICAgICAgICAgbmFtZXNwYWNlOiAoX3RoaXMkcHJvdmlzaW9uaW5nQ2x1ID0gdGhpcy5wcm92aXNpb25pbmdDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRwcm92aXNpb25pbmdDbHUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3Zpc2lvbmluZ0NsdS5uYW1lc3BhY2UsCiAgICAgICAgICBpZDogdGhpcy5zcGVjLmNsdXN0ZXJOYW1lCiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInNjYWxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5ub3JtYW4ucXVhbnRpdHk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2NhbGVQb29sIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FsZVBvb2woZGVsdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMubm9ybWFuLnF1YW50aXR5ICs9IGRlbHRhOwogICAgICBpZiAodGhpcy5zY2FsZVRpbWVyKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2NhbGVUaW1lcik7CiAgICAgIH0KICAgICAgdGhpcy5zY2FsZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIF90aGlzMi5ub3JtYW4uc2F2ZSgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBfdGhpczIuJGRpc3BhdGNoKCdncm93bC9mcm9tRXJyb3InLCB7CiAgICAgICAgICAgIHRpdGxlOiAnRXJyb3Igc2NhbGluZyBwb29sJywKICAgICAgICAgICAgZXJyb3I6IGVycm9yCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9kZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBub2RlUG9vbE5hbWUgPSB0aGlzLmlkLnJlcGxhY2UoJy8nLCAnOicpOwogICAgICByZXR1cm4gdGhpcy4kZ2V0dGVyc1snYWxsJ10oTUFOQUdFTUVOVC5OT0RFKS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICByZXR1cm4gbm9kZS5zcGVjLm5vZGVQb29sTmFtZSA9PT0gbm9kZVBvb2xOYW1lOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJub2RlU3VtbWFyeSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgLy8gVXNlIHRocmVlIGJ1Y2tldHMgb2Ygc3RhdGVzIHJhdGhlciB0aGFuIGFjdHVhbCBzdGF0ZXMuCiAgICAgIC8vIFRoZXNlIGFyZSB1c2VkIGluIGBzdGF0ZVBhcnRzYCB3aGljaCBpcyBzaG93IGluIHRoZSBzYW1lIGNvbnRleHQgYXMgYHN0YXRlUGFydHNgIGZvciBtYWNoaW5lIGRlcGxveW1lbnRzIChya2UyIHBvb2xzKSkKICAgICAgLy8gVXNpbmcgYWN0dWFsIHN0YXRlcyBoZXJlIHdvdWxkIGxvb2sgc3RyYW5nZSB3aGVuIGFnYWluc3QgYnVja2V0IHN0YXRlcyBmb3IgUktFMgogICAgICB2YXIgcmVzID0gewogICAgICAgIHBlbmRpbmc6IDAsCiAgICAgICAgdW5hdmFpbGFibGU6IDAsCiAgICAgICAgcmVhZHk6IDAKICAgICAgfTsKICAgICAgaWYgKCF0aGlzLm5vZGVzKSB7CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5ub2Rlcy5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgbikgewogICAgICAgIGlmIChuLm1ldGFkYXRhLnN0YXRlLmVycm9yKSB7CiAgICAgICAgICByZXMudW5hdmFpbGFibGUrKzsKICAgICAgICB9IGVsc2UgaWYgKG4ubWV0YWRhdGEuc3RhdGUudHJhbnNpdGlvbmluZykgewogICAgICAgICAgcmVzLnBlbmRpbmcrKzsKICAgICAgICB9IGVsc2UgaWYgKG4uc3RhdGUgIT09ICdhY3RpdmUnKSB7CiAgICAgICAgICByZXMudW5hdmFpbGFibGUrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzLnJlYWR5Kys7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXM7CiAgICAgIH0sIF9vYmplY3RTcHJlYWQoe30sIHJlcykpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlc2lyZWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjMjsKICAgICAgcmV0dXJuICgoX3RoaXMkc3BlYzIgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjMi5xdWFudGl0eSkgfHwgMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwZW5kaW5nIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5ub2RlU3VtbWFyeS5wZW5kaW5nOwogICAgfQogIH0sIHsKICAgIGtleTogInJlYWR5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5ub2RlU3VtbWFyeS5yZWFkeTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1bmF2YWlsYWJsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMubm9kZVN1bW1hcnkudW5hdmFpbGFibGU7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RhdGVQYXJ0cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIG91dCA9IFt7CiAgICAgICAgbGFiZWw6ICdQZW5kaW5nJywKICAgICAgICBjb2xvcjogJ2JnLWluZm8nLAogICAgICAgIHRleHRDb2xvcjogJ3RleHQtaW5mbycsCiAgICAgICAgdmFsdWU6IHRoaXMucGVuZGluZywKICAgICAgICBzb3J0OiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ1VuYXZhaWxhYmxlJywKICAgICAgICBjb2xvcjogJ2JnLWVycm9yJywKICAgICAgICB0ZXh0Q29sb3I6ICd0ZXh0LWVycm9yJywKICAgICAgICB2YWx1ZTogdGhpcy51bmF2YWlsYWJsZSwKICAgICAgICBzb3J0OiAzCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ1JlYWR5JywKICAgICAgICBjb2xvcjogJ2JnLXN1Y2Nlc3MnLAogICAgICAgIHRleHRDb2xvcjogJ3RleHQtc3VjY2VzcycsCiAgICAgICAgdmFsdWU6IHRoaXMucmVhZHksCiAgICAgICAgc29ydDogNAogICAgICB9XS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC52YWx1ZSA+IDA7CiAgICAgIH0pOwogICAgICByZXR1cm4gc29ydEJ5KG91dCwgJ3NvcnQ6ZGVzYycpOwogICAgfQogIH0sIHsKICAgIGtleTogIm5vcm1hbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGlkID0gdGhpcy5pZC5yZXBsYWNlKCcvJywgJzonKTsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydyYW5jaGVyL2J5SWQnXShOT1JNQU4uTk9ERV9QT09MLCBpZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuRGVsZXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbm9ybWFuOwogICAgICByZXR1cm4gKF90aGlzJG5vcm1hbiA9IHRoaXMubm9ybWFuKSA9PT0gbnVsbCB8fCBfdGhpcyRub3JtYW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5vcm1hbi5oYXNMaW5rKCdyZW1vdmUnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5VcGRhdGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRub3JtYW4yOwogICAgICByZXR1cm4gKF90aGlzJG5vcm1hbjIgPSB0aGlzLm5vcm1hbikgPT09IG51bGwgfHwgX3RoaXMkbm9ybWFuMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9ybWFuMi5oYXNMaW5rKCd1cGRhdGUnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0NvbnRyb2xQbGFuZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMzOwogICAgICByZXR1cm4gKChfdGhpcyRzcGVjMyA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMzLmNvbnRyb2xQbGFuZSkgPT09IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNFdGNkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzQ7CiAgICAgIHJldHVybiAoKF90aGlzJHNwZWM0ID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzQuZXRjZCkgPT09IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuU2NhbGVEb3duUG9vbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuU2NhbGVEb3duUG9vbCgpIHsKICAgICAgdmFyIF90aGlzJHByb3Zpc2lvbmluZ0NsdTI7CiAgICAgIGlmICghdGhpcy5pc0V0Y2QgJiYgIXRoaXMuaXNDb250cm9sUGxhbmUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gbm90T25seU9mUm9sZSh0aGlzLCB0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkcHJvdmlzaW9uaW5nQ2x1MiA9IHRoaXMucHJvdmlzaW9uaW5nQ2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkcHJvdmlzaW9uaW5nQ2x1MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvdmlzaW9uaW5nQ2x1Mi5ub2Rlcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgIHZhciBfdGhpcyRub3JtYW4zOwogICAgICByZXR1cm4gKF90aGlzJG5vcm1hbjMgPSB0aGlzLm5vcm1hbikgPT09IG51bGwgfHwgX3RoaXMkbm9ybWFuMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9ybWFuMy5yZW1vdmUoKTsKICAgIH0KICB9XSk7Cn0oSHlicmlkTW9kZWwpOwpleHBvcnQgeyBNZ210Tm9kZVBvb2wgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["CAPI","MANAGEMENT","NORMAN","sortBy","HybridModel","notOnlyOfRole","MgmtNodePool","_HybridModel","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","get","_this$spec","id","spec","nodeTemplateName","replace","template","$getters","NODE_TEMPLATE","_this$nodeTemplate","nodeTemplate","provider","_this$nodeTemplate2","nameDisplay","_this$nodeTemplate3","providerDisplay","_this$nodeTemplate4","providerLocation","_this$nodeTemplate5","providerSize","_this","RANCHER_CLUSTER","find","c","name","clusterName","_this$provisioningClu","params","resource","namespace","provisioningCluster","norman","quantity","value","scalePool","delta","_this2","scaleTimer","clearTimeout","setTimeout","save","error","$dispatch","title","root","nodePoolName","NODE","filter","node","res","pending","unavailable","ready","nodes","reduce","n","metadata","state","transitioning","_objectSpread","_this$spec2","nodeSummary","out","label","color","textColor","sort","x","$rootGetters","NODE_POOL","_this$norman","hasLink","_this$norman2","_this$spec3","controlPlane","_this$spec4","etcd","canScaleDownPool","_this$provisioningClu2","isEtcd","isControlPlane","remove","_this$norman3","default"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js"],"sourcesContent":["import { CAPI, MANAGEMENT, NORMAN } from '@shell/config/types';\nimport { sortBy } from '@shell/utils/sort';\nimport HybridModel from '@shell/plugins/steve/hybrid-class';\nimport { notOnlyOfRole } from '@shell/models/cluster.x-k8s.io.machine';\n\nexport default class MgmtNodePool extends HybridModel {\n  get nodeTemplate() {\n    const id = (this.spec?.nodeTemplateName || '').replace(/:/, '/');\n    const template = this.$getters['byId'](MANAGEMENT.NODE_TEMPLATE, id);\n\n    return template;\n  }\n\n  get provider() {\n    return this.nodeTemplate?.provider;\n  }\n\n  get providerName() {\n    return this.nodeTemplate?.nameDisplay;\n  }\n\n  get providerDisplay() {\n    return this.nodeTemplate?.providerDisplay;\n  }\n\n  get providerLocation() {\n    return this.nodeTemplate?.providerLocation;\n  }\n\n  get providerSize() {\n    return this.nodeTemplate?.providerSize;\n  }\n\n  get provisioningCluster() {\n    return this.$getters['all'](CAPI.RANCHER_CLUSTER).find((c) => c.name === this.spec.clusterName);\n  }\n\n  get doneOverride() {\n    return {\n      name:   'c-cluster-product-resource-namespace-id',\n      params: {\n        resource:  CAPI.RANCHER_CLUSTER,\n        namespace: this.provisioningCluster?.namespace,\n        id:        this.spec.clusterName\n      }\n    };\n  }\n\n  get scale() {\n    return this.norman.quantity;\n  }\n\n  scalePool(delta) {\n    this.norman.quantity += delta;\n\n    if ( this.scaleTimer ) {\n      clearTimeout(this.scaleTimer);\n    }\n\n    this.scaleTimer = setTimeout(() => {\n      try {\n        this.norman.save();\n      } catch (error) {\n        this.$dispatch('growl/fromError', {\n          title: 'Error scaling pool',\n          error\n        }, { root: true });\n      }\n    }, 1000);\n  }\n\n  get nodes() {\n    const nodePoolName = this.id.replace('/', ':');\n\n    return this.$getters['all'](MANAGEMENT.NODE).filter((node) => node.spec.nodePoolName === nodePoolName);\n  }\n\n  get nodeSummary() {\n    // Use three buckets of states rather than actual states.\n    // These are used in `stateParts` which is show in the same context as `stateParts` for machine deployments (rke2 pools))\n    // Using actual states here would look strange when against bucket states for RKE2\n    const res = {\n      pending:     0,\n      unavailable: 0,\n      ready:       0,\n    };\n\n    if (!this.nodes) {\n      return res;\n    }\n\n    return this.nodes.reduce((res, n) => {\n      if (n.metadata.state.error ) {\n        res.unavailable++;\n      } else if (n.metadata.state.transitioning) {\n        res.pending++;\n      } else if (n.state !== 'active') {\n        res.unavailable++;\n      } else {\n        res.ready++;\n      }\n\n      return res;\n    }, { ...res });\n  }\n\n  get desired() {\n    return this.spec?.quantity || 0;\n  }\n\n  get pending() {\n    return this.nodeSummary.pending;\n  }\n\n  get ready() {\n    return this.nodeSummary.ready;\n  }\n\n  get unavailable() {\n    return this.nodeSummary.unavailable;\n  }\n\n  get stateParts() {\n    const out = [\n      {\n        label:     'Pending',\n        color:     'bg-info',\n        textColor: 'text-info',\n        value:     this.pending,\n        sort:      1,\n      },\n      {\n        label:     'Unavailable',\n        color:     'bg-error',\n        textColor: 'text-error',\n        value:     this.unavailable,\n        sort:      3,\n      },\n      {\n        label:     'Ready',\n        color:     'bg-success',\n        textColor: 'text-success',\n        value:     this.ready,\n        sort:      4,\n      },\n    ].filter((x) => x.value > 0);\n\n    return sortBy(out, 'sort:desc');\n  }\n\n  get norman() {\n    const id = this.id.replace('/', ':');\n\n    return this.$rootGetters['rancher/byId'](NORMAN.NODE_POOL, id);\n  }\n\n  get canDelete() {\n    return this.norman?.hasLink('remove');\n  }\n\n  get canUpdate() {\n    return this.norman?.hasLink('update');\n  }\n\n  get isControlPlane() {\n    return this.spec?.controlPlane === true;\n  }\n\n  get isEtcd() {\n    return this.spec?.etcd === true;\n  }\n\n  canScaleDownPool() {\n    if (!this.isEtcd && !this.isControlPlane) {\n      return true;\n    }\n\n    return notOnlyOfRole(this, this?.provisioningCluster?.nodes);\n  }\n\n  remove() {\n    return this.norman?.remove();\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}