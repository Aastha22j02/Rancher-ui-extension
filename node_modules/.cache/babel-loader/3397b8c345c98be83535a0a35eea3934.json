{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/promise.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/promise.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgUXVldWUgZnJvbSAnLi9xdWV1ZSc7CmZ1bmN0aW9uIF9oYXNoKF94LCBfeDIpIHsKICByZXR1cm4gX2hhc2gyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZnVuY3Rpb24gX2hhc2gyKCkgewogIF9oYXNoMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaGFzaCwgZm5OYW1lKSB7CiAgICB2YXIga2V5cywgcHJvbWlzZXMsIHJlcywgb3V0LCBpOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhoYXNoKTsKICAgICAgICAgIHByb21pc2VzID0gT2JqZWN0LnZhbHVlcyhoYXNoKTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIFByb21pc2VbZm5OYW1lXShwcm9taXNlcyk7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIG91dCA9IHt9OwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgb3V0W2tleXNbaV1dID0gcmVzW2ldOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgb3V0KTsKICAgICAgICBjYXNlIDg6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2hhc2gyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGFsbEhhc2goaGFzaCkgewogIHJldHVybiBfaGFzaChoYXNoLCAnYWxsJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGFsbEhhc2hTZXR0bGVkKGhhc2gpIHsKICByZXR1cm4gX2hhc2goaGFzaCwgJ2FsbFNldHRsZWQnKTsKfQpleHBvcnQgZnVuY3Rpb24gZWFjaExpbWl0KGl0ZW1zLCBsaW1pdCwgaXRlcmF0b3IpIHsKICB2YXIgZGVidWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlOwogIGlmIChkZWJ1ZykgewogICAgY29uc29sZS5sb2coJ2VhY2hMaW1pdCBvZicsIGl0ZW1zLmxlbmd0aCwgJyBpdGVtcycsIGxpbWl0LCAnYXQgYSB0aW1lJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogIH0KICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHF1ZXVlID0gbmV3IFF1ZXVlKCk7CiAgICB2YXIgcGVuZGluZyA9IDA7CiAgICB2YXIgZmFpbGVkID0gZmFsc2U7CiAgICB2YXIgb3V0ID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHF1ZXVlLmVucXVldWUoewogICAgICAgIGl0ZW06IGl0ZW1zW2ldLAogICAgICAgIGlkeDogaQogICAgICB9KTsKICAgIH0KICAgIHByb2Nlc3MoKTsKICAgIGZ1bmN0aW9uIHByb2Nlc3MoKSB7CiAgICAgIGlmIChkZWJ1ZykgewogICAgICAgIGNvbnNvbGUubG9nKCJwcm9jZXNzLCBxdWV1ZT0iLmNvbmNhdChxdWV1ZS5nZXRMZW5ndGgoKSwgIiwgcGVuZGluZz0iKS5jb25jYXQocGVuZGluZywgIiwgZmFpbGVkPSIpLmNvbmNhdChmYWlsZWQpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIH0KICAgICAgaWYgKGZhaWxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAocXVldWUuaXNFbXB0eSgpICYmIHBlbmRpbmcgPT09IDApIHsKICAgICAgICByZXR1cm4gcmVzb2x2ZShvdXQpOwogICAgICB9CiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgIHZhciBfcXVldWUkZGVxdWV1ZSA9IHF1ZXVlLmRlcXVldWUoKSwKICAgICAgICAgIGl0ZW0gPSBfcXVldWUkZGVxdWV1ZS5pdGVtLAogICAgICAgICAgaWR4ID0gX3F1ZXVlJGRlcXVldWUuaWR4OwogICAgICAgIGlmIChkZWJ1ZykgewogICAgICAgICAgY29uc29sZS5sb2coJ1J1bm5pbmcnLCBpdGVtKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgfQogICAgICAgIHBlbmRpbmcrKzsKICAgICAgICBpdGVyYXRvcihpdGVtLCBpZHgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKGRlYnVnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEb25lJywgaXRlbSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgfQogICAgICAgICAgb3V0W2lkeF0gPSByZXM7CiAgICAgICAgICBwZW5kaW5nLS07CiAgICAgICAgICBwcm9jZXNzKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgaWYgKGRlYnVnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQnLCBlcnIsIGl0ZW0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgIH0KICAgICAgICAgIGZhaWxlZCA9IHRydWU7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgd2hpbGUgKCFxdWV1ZS5pc0VtcHR5KCkgJiYgcGVuZGluZyA8IGxpbWl0ICYmICFmYWlsZWQpIHsKICAgICAgICBfbG9vcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRlZmVycmVkKG5hbWUpIHsKICB2YXIgb3V0ID0ge307CiAgb3V0LnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBvdXQucmVzb2x2ZSA9IHJlc29sdmU7CiAgICBvdXQucmVqZWN0ID0gcmVqZWN0OwogIH0sIG5hbWUpOwogIHJldHVybiBvdXQ7Cn0KCi8qKgogKiBBcHBseSB0aGUgcmVzdWx0IG9mIGEgcHJvbWlzZSB0byBhIGdpdmVuIG9iamVjdCdzIHByb3BlcnR5CiAqCiAqIFRoaXMgaXMgYSBub24tYmxvY2tpbmcgbWV0aG9kCiAqCiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gZmV0Y2ggcmVzdWx0IGZvcgogKiBAcGFyYW0gb2JqIE9iamVjdCB0byBzZXQgcmVzdWx0IG9mIHByb21pc2UgdG8KICogQHBhcmFtIGtleSBQcm9wZXJ0eSBpbiBvYmplY3QgdG8gc2V0IHJlc3VsdCB0bwogKiBAcGFyYW0gbGFiZWwgRGVzY3JpcHRpb24gb2Ygd2hhdCBwcm9taXNlIGlzIHRyeWluZyB0byAgZG8KICovCmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9taXNlUmVzdWx0KHByb21pc2UsIG9iaiwga2V5LCBsYWJlbCkgewogIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBvYmpba2V5XSA9IHJlczsKICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG86ICcsIGxhYmVsLCBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgfSk7Cn0="},{"version":3,"names":["Queue","_hash","_x","_x2","_hash2","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","fnName","keys","promises","res","out","i","wrap","_callee$","_context","prev","next","Object","values","Promise","sent","length","abrupt","stop","allHash","allHashSettled","eachLimit","items","limit","iterator","debug","undefined","console","log","resolve","reject","queue","pending","failed","enqueue","item","idx","process","concat","getLength","isEmpty","_loop","_queue$dequeue","dequeue","then","catch","err","deferred","name","promise","setPromiseResult","obj","key","label","e","warn"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/promise.js"],"sourcesContent":["import Queue from './queue';\n\nasync function _hash(hash, fnName) {\n  const keys = Object.keys(hash);\n  const promises = Object.values(hash);\n\n  const res = await Promise[fnName](promises);\n  const out = {};\n\n  for ( let i = 0 ; i < keys.length ; i++ ) {\n    out[keys[i]] = res[i];\n  }\n\n  return out;\n}\n\nexport function allHash(hash) {\n  return _hash(hash, 'all');\n}\n\nexport function allHashSettled(hash) {\n  return _hash(hash, 'allSettled');\n}\n\nexport function eachLimit(items, limit, iterator, debug = false) {\n  if (debug) {\n    console.log('eachLimit of', items.length, ' items', limit, 'at a time'); // eslint-disable-line no-console\n  }\n\n  return new Promise((resolve, reject) => {\n    const queue = new Queue();\n    let pending = 0;\n    let failed = false;\n    const out = [];\n\n    for (let i = 0; i < items.length; i++) {\n      queue.enqueue({ item: items[i], idx: i });\n    }\n\n    process();\n\n    function process() {\n      if (debug) {\n        console.log(`process, queue=${ queue.getLength() }, pending=${ pending }, failed=${ failed }`); // eslint-disable-line no-console\n      }\n\n      if (failed) {\n        return;\n      }\n\n      if (queue.isEmpty() && pending === 0) {\n        return resolve(out);\n      }\n\n      while (!queue.isEmpty() && pending < limit && !failed) {\n        const { item, idx } = queue.dequeue();\n\n        if (debug) {\n          console.log('Running', item); // eslint-disable-line no-console\n        }\n\n        pending++;\n\n        iterator(item, idx).then((res) => {\n          if (debug) {\n            console.log('Done', item); // eslint-disable-line no-console\n          }\n\n          out[idx] = res;\n\n          pending--;\n          process();\n        }).catch((err) => {\n          if (debug) {\n            console.log('Failed', err, item); // eslint-disable-line no-console\n          }\n\n          failed = true;\n          reject(err);\n        });\n      }\n    }\n  });\n}\n\nexport function deferred(name) {\n  const out = {};\n\n  out.promise = new Promise((resolve, reject) => {\n    out.resolve = resolve;\n    out.reject = reject;\n  }, name);\n\n  return out;\n}\n\n/**\n * Apply the result of a promise to a given object's property\n *\n * This is a non-blocking method\n *\n * @param promise Promise to fetch result for\n * @param obj Object to set result of promise to\n * @param key Property in object to set result to\n * @param label Description of what promise is trying to  do\n */\nexport function setPromiseResult(promise, obj, key, label) {\n  promise\n    .then((res) => {\n      obj[key] = res;\n    })\n    .catch((e) => {\n      console.warn('Failed to: ', label, e); // eslint-disable-line no-console\n    });\n}\n"],"mappings":"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","ignoreList":[]}]}