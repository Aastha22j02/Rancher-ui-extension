{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/AgentConfiguration.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/AgentConfiguration.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBHcm91cFBhbmVsIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0dyb3VwUGFuZWwnOwppbXBvcnQgUG9kQWZmaW5pdHkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Qb2RBZmZpbml0eSc7CmltcG9ydCBOb2RlQWZmaW5pdHkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Ob2RlQWZmaW5pdHknOwppbXBvcnQgQ29udGFpbmVyUmVzb3VyY2VMaW1pdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Db250YWluZXJSZXNvdXJjZUxpbWl0JzsKaW1wb3J0IFRvbGVyYXRpb25zIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVG9sZXJhdGlvbnMnOwppbXBvcnQgeyBjbGVhblVwIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IGZldGNoU2V0dGluZyB9IGZyb20gJ0BzaGVsbC91dGlscy9zZXR0aW5ncyc7CmltcG9ydCB7IFJhZGlvR3JvdXAgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1JhZGlvJzsKCi8vIEFmZmluaXR5IHJhZGlvIGJ1dHRvbiBjaG9pY2VzCnZhciBERUZBVUxUID0gJ2RlZmF1bHQnOwp2YXIgQ1VTVE9NID0gJ2N1c3RvbSc7CgovLyBUaGlzIGlzIHRoZSBmb3JtIGZvciBBZ2VudCBDb25maWd1cmF0aW9uCi8vIFVzZWQgZm9yIGJvdGggQ2x1c3RlciBBZ2VudCBhbmQgRmxlZXQgQWdlbnQgY29uZmlndXJhdGlvbgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDb250YWluZXJSZXNvdXJjZUxpbWl0OiBDb250YWluZXJSZXNvdXJjZUxpbWl0LAogICAgR3JvdXBQYW5lbDogR3JvdXBQYW5lbCwKICAgIFBvZEFmZmluaXR5OiBQb2RBZmZpbml0eSwKICAgIE5vZGVBZmZpbml0eTogTm9kZUFmZmluaXR5LAogICAgUmFkaW9Hcm91cDogUmFkaW9Hcm91cCwKICAgIFRvbGVyYXRpb25zOiBUb2xlcmF0aW9ucwogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzZXR0aW5nSWQsIHNldHRpbmcsIHBhcnNlZDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIC8vIERlZmF1bHQgYWZmaW5pdHkKICAgICAgICAgICAgc2V0dGluZ0lkID0gIiIuY29uY2F0KF90aGlzLnR5cGUsICItYWdlbnQtZGVmYXVsdC1hZmZpbml0eSIpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGZldGNoU2V0dGluZyhfdGhpcy4kc3RvcmUsIHNldHRpbmdJZCk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNldHRpbmcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBpZiAoc2V0dGluZykgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBwYXJzZWQgPSBKU09OLnBhcnNlKHNldHRpbmcudmFsdWUgfHwgc2V0dGluZy5kZWZhdWx0KTsKICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRBZmZpbml0eSA9IHBhcnNlZCB8fCB7fTsKICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgcGFyc2UgYWdlbnQgZGVmYXVsdCBzZXR0aW5nJywgZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgX3RoaXMuZGVmYXVsdEFmZmluaXR5ID0ge307CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMkdmFsdWUsIF90aGlzJHZhbHVlMiwgX3RoaXMkdmFsdWUzOwogICAgdmFyIG5vZGVBZmZpbml0eSA9IChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUub3ZlcnJpZGVBZmZpbml0eSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlLm5vZGVBZmZpbml0eTsKICAgIHZhciBwb2RBZmZpbml0eSA9IChfdGhpcyR2YWx1ZTIgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUyID0gX3RoaXMkdmFsdWUyLm92ZXJyaWRlQWZmaW5pdHkpID09PSBudWxsIHx8IF90aGlzJHZhbHVlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUyLnBvZEFmZmluaXR5OwogICAgdmFyIHBvZEFudGlBZmZpbml0eSA9IChfdGhpcyR2YWx1ZTMgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTMgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUzID0gX3RoaXMkdmFsdWUzLm92ZXJyaWRlQWZmaW5pdHkpID09PSBudWxsIHx8IF90aGlzJHZhbHVlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUzLnBvZEFudGlBZmZpbml0eTsKICAgIHZhciBoYXNBZmZpbml0eVBvcHVsYXRlZCA9IGZhbHNlOwogICAgaWYgKG5vZGVBZmZpbml0eSAmJiBPYmplY3Qua2V5cyhub2RlQWZmaW5pdHkpLmxlbmd0aCB8fCBwb2RBZmZpbml0eSAmJiBPYmplY3Qua2V5cyhwb2RBZmZpbml0eSkubGVuZ3RoIHx8IHBvZEFudGlBZmZpbml0eSAmJiBPYmplY3Qua2V5cyhwb2RBbnRpQWZmaW5pdHkpLmxlbmd0aCkgewogICAgICBoYXNBZmZpbml0eVBvcHVsYXRlZCA9IHRydWU7CiAgICB9CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0QWZmaW5pdHk6IHt9LAogICAgICBhZmZpbml0eVNldHRpbmc6IGhhc0FmZmluaXR5UG9wdWxhdGVkID8gQ1VTVE9NIDogREVGQVVMVCwKICAgICAgbm9kZUFmZmluaXR5OiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZmxhdFJlc291cmNlczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICB2YXIgX3JlZiA9IHRoaXMudmFsdWUub3ZlcnJpZGVSZXNvdXJjZVJlcXVpcmVtZW50cyB8fCB7fSwKICAgICAgICAgIF9yZWYkbGltaXRzID0gX3JlZi5saW1pdHMsCiAgICAgICAgICBsaW1pdHMgPSBfcmVmJGxpbWl0cyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGxpbWl0cywKICAgICAgICAgIF9yZWYkcmVxdWVzdHMgPSBfcmVmLnJlcXVlc3RzLAogICAgICAgICAgcmVxdWVzdHMgPSBfcmVmJHJlcXVlc3RzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkcmVxdWVzdHM7CiAgICAgICAgdmFyIGxpbWl0c0NwdSA9IGxpbWl0cy5jcHUsCiAgICAgICAgICBsaW1pdHNNZW1vcnkgPSBsaW1pdHMubWVtb3J5OwogICAgICAgIHZhciByZXF1ZXN0c0NwdSA9IHJlcXVlc3RzLmNwdSwKICAgICAgICAgIHJlcXVlc3RzTWVtb3J5ID0gcmVxdWVzdHMubWVtb3J5OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsaW1pdHNDcHU6IGxpbWl0c0NwdSwKICAgICAgICAgIGxpbWl0c01lbW9yeTogbGltaXRzTWVtb3J5LAogICAgICAgICAgcmVxdWVzdHNDcHU6IHJlcXVlc3RzQ3B1LAogICAgICAgICAgcmVxdWVzdHNNZW1vcnk6IHJlcXVlc3RzTWVtb3J5CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV1KSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlNDsKICAgICAgICB2YXIgbGltaXRzQ3B1ID0gbmV1LmxpbWl0c0NwdSwKICAgICAgICAgIGxpbWl0c01lbW9yeSA9IG5ldS5saW1pdHNNZW1vcnksCiAgICAgICAgICByZXF1ZXN0c0NwdSA9IG5ldS5yZXF1ZXN0c0NwdSwKICAgICAgICAgIHJlcXVlc3RzTWVtb3J5ID0gbmV1LnJlcXVlc3RzTWVtb3J5OwogICAgICAgIHZhciBleGlzdGluZyA9ICgoX3RoaXMkdmFsdWU0ID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWU0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTQub3ZlcnJpZGVSZXNvdXJjZVJlcXVpcmVtZW50cykgfHwge307CiAgICAgICAgZGVsZXRlIGV4aXN0aW5nLnJlcXVlc3RzOwogICAgICAgIGRlbGV0ZSBleGlzdGluZy5saW1pdHM7CiAgICAgICAgdmFyIG91dCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXhpc3RpbmcpLCB7fSwgewogICAgICAgICAgcmVxdWVzdHM6IHsKICAgICAgICAgICAgY3B1OiByZXF1ZXN0c0NwdSwKICAgICAgICAgICAgbWVtb3J5OiByZXF1ZXN0c01lbW9yeQogICAgICAgICAgfSwKICAgICAgICAgIGxpbWl0czogewogICAgICAgICAgICBjcHU6IGxpbWl0c0NwdSwKICAgICAgICAgICAgbWVtb3J5OiBsaW1pdHNNZW1vcnkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ292ZXJyaWRlUmVzb3VyY2VSZXF1aXJlbWVudHMnLCBjbGVhblVwKG91dCkpOwogICAgICB9CiAgICB9LAogICAgYWZmaW5pdHlPcHRpb25zOiBmdW5jdGlvbiBhZmZpbml0eU9wdGlvbnMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIuYWdlbnRDb25maWcuYWZmaW5pdHkuZGVmYXVsdCcpLAogICAgICAgIHZhbHVlOiBERUZBVUxUCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLmFnZW50Q29uZmlnLmFmZmluaXR5LmN1c3RvbScpLAogICAgICAgIHZhbHVlOiBDVVNUT00KICAgICAgfV07CiAgICB9LAogICAgY2FuRWRpdEFmZmluaXR5OiBmdW5jdGlvbiBjYW5FZGl0QWZmaW5pdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmFmZmluaXR5U2V0dGluZyA9PT0gQ1VTVE9NOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZW5zdXJlVmFsdWU6IGZ1bmN0aW9uIGVuc3VyZVZhbHVlKCkgewogICAgICAvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgbW9kZWwgc3RydWN0dXJlIG5lZWRlZCBmb3IgdGhlIGZvcm0gY29udHJvbHMKICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXMkdmFsdWU1OwogICAgICAgIHRoaXMudmFsdWUub3ZlcnJpZGVBZmZpbml0eSA9IHRoaXMudmFsdWUub3ZlcnJpZGVBZmZpbml0eSB8fCB7fTsKICAgICAgICB0aGlzLnZhbHVlLmFwcGVuZFRvbGVyYXRpb25zID0gdGhpcy52YWx1ZS5hcHBlbmRUb2xlcmF0aW9ucyB8fCBbXTsKICAgICAgICB0aGlzLnZhbHVlLm92ZXJyaWRlUmVzb3VyY2VSZXF1aXJlbWVudHMgPSB0aGlzLnZhbHVlLm92ZXJyaWRlUmVzb3VyY2VSZXF1aXJlbWVudHMgfHwge307CiAgICAgICAgdGhpcy5ub2RlQWZmaW5pdHkgPSAoKF90aGlzJHZhbHVlNSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlNSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTUgPSBfdGhpcyR2YWx1ZTUub3ZlcnJpZGVBZmZpbml0eSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWU1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTUubm9kZUFmZmluaXR5KSB8fCB7fTsKICAgICAgfQogICAgfSwKICAgIGFmZmluaXR5U2V0dGluZ0NoYW5nZTogZnVuY3Rpb24gYWZmaW5pdHlTZXR0aW5nQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy5hZmZpbml0eVNldHRpbmcgPT09IENVU1RPTSkgewogICAgICAgIHZhciBwYXJzZWREZWZhdWx0QWZmaW5pdGVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRlZmF1bHRBZmZpbml0eSkpOwoKICAgICAgICAvLyBDb3B5IHRoZSBkZWZhdWx0IHNvIHRoYXQgdGhlIHVzZXIgY2FuIGVkaXQgaXQKICAgICAgICAvLyB0aGlzIHdpbGwgY292ZXIgdGhlIHBvZCBhZmZpbml0aWVzCiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdvdmVycmlkZUFmZmluaXR5JywgcGFyc2VkRGVmYXVsdEFmZmluaXRlcyk7CgogICAgICAgIC8vIGluIG9yZGVyIG5vdCB0byBicmVhayB0aGUgbm9kZSBhZmZpbml0eSBjb21wb25lbnQsIGxldCdzIGdvIGZvciBhIHNsaWdodGx5IGRpZmZlcmVudCB3YXkgb2YgaGFuZGxpbmcgdGhlIGxvZ2ljIGhlcmUKICAgICAgICBpZiAocGFyc2VkRGVmYXVsdEFmZmluaXRlcy5ub2RlQWZmaW5pdHkpIHsKICAgICAgICAgIHRoaXMubm9kZUFmZmluaXR5ID0gcGFyc2VkRGVmYXVsdEFmZmluaXRlcy5ub2RlQWZmaW5pdHk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnb3ZlcnJpZGVBZmZpbml0eScsIHt9KTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZU5vZGVBZmZpbml0eTogZnVuY3Rpb24gdXBkYXRlTm9kZUFmZmluaXR5KHZhbCkgewogICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5vdmVycmlkZUFmZmluaXR5LCAnbm9kZUFmZmluaXR5JywgdmFsKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Banner","GroupPanel","PodAffinity","NodeAffinity","ContainerResourceLimit","Tolerations","cleanUp","fetchSetting","RadioGroup","DEFAULT","CUSTOM","components","props","value","type","Object","default","mode","String","required","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","settingId","setting","parsed","wrap","_callee$","_context","prev","next","concat","$store","sent","JSON","parse","defaultAffinity","e","console","error","stop","data","_this$value","_this$value2","_this$value3","nodeAffinity","overrideAffinity","podAffinity","podAntiAffinity","hasAffinityPopulated","keys","length","affinitySetting","created","ensureValue","computed","flatResources","get","_ref","overrideResourceRequirements","_ref$limits","limits","_ref$requests","requests","limitsCpu","cpu","limitsMemory","memory","requestsCpu","requestsMemory","set","neu","_this$value4","existing","out","_objectSpread","$set","affinityOptions","label","t","canEditAffinity","watch","methods","_this$value5","appendTolerations","affinitySettingChange","parsedDefaultAffinites","stringify","updateNodeAffinity","val"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/AgentConfiguration.vue"],"sourcesContent":["<script>\nimport { Banner } from '@components/Banner';\nimport GroupPanel from '@shell/components/GroupPanel';\nimport PodAffinity from '@shell/components/form/PodAffinity';\nimport NodeAffinity from '@shell/components/form/NodeAffinity';\nimport ContainerResourceLimit from '@shell/components/ContainerResourceLimit';\nimport Tolerations from '@shell/components/form/Tolerations';\nimport { cleanUp } from '@shell/utils/object';\nimport { fetchSetting } from '@shell/utils/settings';\nimport { RadioGroup } from '@components/Form/Radio';\n\n// Affinity radio button choices\nconst DEFAULT = 'default';\nconst CUSTOM = 'custom';\n\n// This is the form for Agent Configuration\n// Used for both Cluster Agent and Fleet Agent configuration\nexport default {\n  components: {\n    Banner,\n    ContainerResourceLimit,\n    GroupPanel,\n    PodAffinity,\n    NodeAffinity,\n    RadioGroup,\n    Tolerations,\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {},\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    type: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    // Default affinity\n    const settingId = `${ this.type }-agent-default-affinity`;\n    const setting = await fetchSetting(this.$store, settingId);\n\n    if (setting) {\n      try {\n        const parsed = JSON.parse(setting.value || setting.default);\n\n        this.defaultAffinity = parsed || {};\n      } catch (e) {\n        console.error('Could not parse agent default setting', e); // eslint-disable-line no-console\n        this.defaultAffinity = {};\n      }\n    }\n  },\n\n  data() {\n    const nodeAffinity = this.value?.overrideAffinity?.nodeAffinity;\n    const podAffinity = this.value?.overrideAffinity?.podAffinity;\n    const podAntiAffinity = this.value?.overrideAffinity?.podAntiAffinity;\n\n    let hasAffinityPopulated = false;\n\n    if ((nodeAffinity && Object.keys(nodeAffinity).length) ||\n      (podAffinity && Object.keys(podAffinity).length) ||\n      (podAntiAffinity && Object.keys(podAntiAffinity).length)) {\n      hasAffinityPopulated = true;\n    }\n\n    return {\n      defaultAffinity: {},\n      affinitySetting: hasAffinityPopulated ? CUSTOM : DEFAULT,\n      nodeAffinity:    {}\n    };\n  },\n\n  created() {\n    this.ensureValue();\n  },\n\n  computed: {\n    flatResources: {\n      get() {\n        const { limits = {}, requests = {} } = this.value.overrideResourceRequirements || {};\n        const {\n          cpu: limitsCpu,\n          memory: limitsMemory,\n        } = limits;\n        const { cpu: requestsCpu, memory: requestsMemory } = requests;\n\n        return {\n          limitsCpu,\n          limitsMemory,\n          requestsCpu,\n          requestsMemory,\n        };\n      },\n      set(neu) {\n        const {\n          limitsCpu,\n          limitsMemory,\n          requestsCpu,\n          requestsMemory,\n        } = neu;\n\n        const existing = this.value?.overrideResourceRequirements || {};\n\n        delete existing.requests;\n        delete existing.limits;\n\n        const out = {\n          ...existing,\n          requests: {\n            cpu:    requestsCpu,\n            memory: requestsMemory,\n          },\n          limits: {\n            cpu:    limitsCpu,\n            memory: limitsMemory,\n          },\n        };\n\n        this.$set(this.value, 'overrideResourceRequirements', cleanUp(out));\n      },\n    },\n\n    affinityOptions() {\n      return [{\n        label: this.t('cluster.agentConfig.affinity.default'),\n        value: DEFAULT,\n      }, {\n        label: this.t('cluster.agentConfig.affinity.custom'),\n        value: CUSTOM,\n      }];\n    },\n\n    canEditAffinity() {\n      return this.affinitySetting === CUSTOM;\n    }\n  },\n\n  watch: {\n    value() {\n      this.ensureValue();\n    }\n  },\n\n  methods: {\n    ensureValue() {\n      // Ensure we have the model structure needed for the form controls\n      if (this.value) {\n        this.value.overrideAffinity = this.value.overrideAffinity || {};\n        this.value.appendTolerations = this.value.appendTolerations || [];\n        this.value.overrideResourceRequirements = this.value.overrideResourceRequirements || {};\n\n        this.nodeAffinity = this.value?.overrideAffinity?.nodeAffinity || {};\n      }\n    },\n\n    affinitySettingChange() {\n      if (this.affinitySetting === CUSTOM) {\n        const parsedDefaultAffinites = JSON.parse(JSON.stringify(this.defaultAffinity));\n\n        // Copy the default so that the user can edit it\n        // this will cover the pod affinities\n        this.$set(this.value, 'overrideAffinity', parsedDefaultAffinites);\n\n        // in order not to break the node affinity component, let's go for a slightly different way of handling the logic here\n        if (parsedDefaultAffinites.nodeAffinity) {\n          this.nodeAffinity = parsedDefaultAffinites.nodeAffinity;\n        }\n      } else {\n        this.$set(this.value, 'overrideAffinity', {});\n      }\n    },\n    updateNodeAffinity(val) {\n      this.$set(this.value.overrideAffinity, 'nodeAffinity', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      :closable=\"false\"\n      color=\"info\"\n      label-key=\"cluster.agentConfig.banners.advanced\"\n    />\n\n    <GroupPanel\n      label-key=\"cluster.agentConfig.groups.podRequestsAndLimits\"\n      class=\"mt-20\"\n    >\n      <Banner\n        :closable=\"false\"\n        color=\"info\"\n        label-key=\"cluster.agentConfig.banners.limits\"\n      />\n      <ContainerResourceLimit\n        v-model=\"flatResources\"\n        :mode=\"mode\"\n        :show-tip=\"false\"\n        :handle-gpu-limit=\"false\"\n        class=\"mt-10\"\n      />\n    </GroupPanel>\n\n    <GroupPanel\n      label-key=\"cluster.agentConfig.groups.podTolerations\"\n      class=\"mt-20\"\n    >\n      <Banner\n        :closable=\"false\"\n        color=\"info\"\n        label-key=\"cluster.agentConfig.banners.tolerations\"\n      />\n      <Tolerations\n        v-model=\"value.appendTolerations\"\n        :mode=\"mode\"\n        class=\"mt-10\"\n      />\n    </GroupPanel>\n\n    <GroupPanel\n      label-key=\"cluster.agentConfig.groups.podAffinity\"\n      class=\"mt-20\"\n    >\n      <RadioGroup\n        v-model=\"affinitySetting\"\n        name=\"affinity-override\"\n        :mode=\"mode\"\n        :options=\"affinityOptions\"\n        class=\"mt-10\"\n        data-testid=\"affinity-options\"\n        @input=\"affinitySettingChange\"\n      />\n\n      <Banner\n        v-if=\"canEditAffinity\"\n        :closable=\"false\"\n        color=\"warning\"\n      >\n        <p v-clean-html=\"t('cluster.agentConfig.banners.windowsCompatibility', {}, true)\" />\n      </Banner>\n\n      <h4 v-if=\"canEditAffinity\">\n        {{ t('cluster.agentConfig.subGroups.podAffinityAnti') }}\n      </h4>\n\n      <PodAffinity\n        v-if=\"canEditAffinity\"\n        v-model=\"value\"\n        field=\"overrideAffinity\"\n        :mode=\"mode\"\n        class=\"mt-0 mb-20\"\n        :all-namespaces-option-available=\"true\"\n        :force-input-namespace-selection=\"true\"\n        :remove-labeled-input-namespace-label=\"true\"\n        data-testid=\"pod-affinity\"\n      />\n\n      <div\n        v-if=\"canEditAffinity\"\n        class=\"separator\"\n      />\n      <h4\n        v-if=\"canEditAffinity\"\n        class=\"mt-20\"\n      >\n        {{ t('cluster.agentConfig.subGroups.nodeAffinity') }}\n      </h4>\n\n      <NodeAffinity\n        v-if=\"canEditAffinity\"\n        v-model=\"nodeAffinity\"\n        :matching-selector-display=\"true\"\n        :mode=\"mode\"\n        class=\"mt-0\"\n        data-testid=\"node-affinity\"\n        @input=\"updateNodeAffinity\"\n      />\n    </GroupPanel>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.separator {\n  width: 100%;\n  border-top: 1px solid var(--border);\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}