{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/store/aws.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/store/aws.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IEZldGNoSHR0cEhhbmRsZXIgfSBmcm9tICdAYXdzLXNkay9mZXRjaC1odHRwLWhhbmRsZXInOwppbXBvcnQgeyBpc0FycmF5LCBhZGRPYmplY3RzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKZXhwb3J0IHZhciBzdGF0ZSA9IGZ1bmN0aW9uIHN0YXRlKCkgewogIHJldHVybiB7CiAgICBpbnN0YW5jZVR5cGVzOiBbXSwKICAgIGNsaWVudEluZm86IG51bGwKICB9Owp9Owp2YXIgSGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gSGFuZGxlcihjbG91ZENyZWRlbnRpYWxJZCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhhbmRsZXIpOwogICAgdGhpcy5jbG91ZENyZWRlbnRpYWxJZCA9IGNsb3VkQ3JlZGVudGlhbElkIHx8ICcnOwogIH0KICByZXR1cm4gX2NyZWF0ZUNsYXNzKEhhbmRsZXIsIFt7CiAgICBrZXk6ICJoYW5kbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZShodHRwUmVxdWVzdCkgewogICAgICB2YXIgX0ZldGNoSHR0cEhhbmRsZXIkcHJvOwogICAgICBodHRwUmVxdWVzdC5oZWFkZXJzWyd4LWFwaS1oZWFkZXJzLXJlc3RyaWN0J10gPSAnQ29udGVudC1MZW5ndGgnOwogICAgICBpZiAodGhpcy5jbG91ZENyZWRlbnRpYWxJZCkgewogICAgICAgIGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ3gtYXBpLWNhdHRsZWF1dGgtaGVhZGVyJ10gPSAiYXdzdjQgY3JlZElEPSIuY29uY2F0KHRoaXMuY2xvdWRDcmVkZW50aWFsSWQpOwogICAgICB9IGVsc2UgewogICAgICAgIGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ3gtYXBpLWF1dGgtaGVhZGVyJ10gPSBodHRwUmVxdWVzdC5oZWFkZXJzWydhdXRob3JpemF0aW9uJ107CiAgICAgIH0KICAgICAgZGVsZXRlIGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTsKICAgICAgaHR0cFJlcXVlc3QuaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAicmFuY2hlcjoiLmNvbmNhdChodHRwUmVxdWVzdC5oZWFkZXJzWydjb250ZW50LXR5cGUnXSk7CiAgICAgIHZhciBlbmRwb2ludCA9ICIvbWV0YS9wcm94eS8iOwogICAgICBpZiAoIWh0dHBSZXF1ZXN0LnBhdGguc3RhcnRzV2l0aChlbmRwb2ludCkpIHsKICAgICAgICBodHRwUmVxdWVzdC5wYXRoID0gZW5kcG9pbnQgKyBodHRwUmVxdWVzdC5ob3N0bmFtZSArIGh0dHBSZXF1ZXN0LnBhdGg7CiAgICAgIH0KICAgICAgaHR0cFJlcXVlc3QucHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7CiAgICAgIGh0dHBSZXF1ZXN0Lmhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgICBodHRwUmVxdWVzdC5wb3J0ID0gd2luZG93LmxvY2F0aW9uLnBvcnQ7CiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQogICAgICByZXR1cm4gKF9GZXRjaEh0dHBIYW5kbGVyJHBybyA9IEZldGNoSHR0cEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZSkuY2FsbC5hcHBseShfRmV0Y2hIdHRwSGFuZGxlciRwcm8sIFt0aGlzLCBodHRwUmVxdWVzdF0uY29uY2F0KGFyZ3MpKTsKICAgIH0KICB9XSk7Cn0oKTsKZnVuY3Rpb24gY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihhY2Nlc3NLZXksIHNlY3JldEtleSkgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAvLyBUaGUgU0RLIHdpbGwgY29tcGxhaW4gaWYgdGhlc2UgYXJlbid0IHNldCwgc28gZmlsbCB0aGVtIHdpdGggc29tZXRoaW5nCiAgICAvLyBldmVuIHRob3VnaCB0aGUgY2xvdWRDcmVkZW50aWFsIHdpbGwgYmUgdXNlZCBldmVudHVhbGx5CiAgICB2YXIgb3V0ID0gewogICAgICBhY2Nlc3NLZXlJZDogYWNjZXNzS2V5IHx8IHJhbmRvbVN0cigpLAogICAgICBzZWNyZXRBY2Nlc3NLZXk6IHNlY3JldEtleSB8fCByYW5kb21TdHIoKQogICAgfTsKICAgIHJldHVybiBvdXQ7CiAgfTsKfQpleHBvcnQgdmFyIGdldHRlcnMgPSB7CiAgLy8gWW91IGNvdWxkIG92ZXJyaWRlIHRoZXNlIHRvIGRvIHNvbWV0aGluZyBiYXNlZCBvbiB0aGUgdXNlciwgbWF5YmUuCiAgZGVmYXVsdFJlZ2lvbjogZnVuY3Rpb24gZGVmYXVsdFJlZ2lvbigpIHsKICAgIHJldHVybiAndXMtd2VzdC0yJzsKICB9LAogIGRlZmF1bHRJbnN0YW5jZVR5cGU6IGZ1bmN0aW9uIGRlZmF1bHRJbnN0YW5jZVR5cGUoKSB7CiAgICByZXR1cm4gJ3QzYS5tZWRpdW0nOwogIH0sCiAgaW5zdGFuY2VUeXBlczogZnVuY3Rpb24gaW5zdGFuY2VUeXBlcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmluc3RhbmNlVHlwZXM7CiAgfSwKICBjbGllbnRJbmZvOiBmdW5jdGlvbiBjbGllbnRJbmZvKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuY2xpZW50SW5mbzsKICB9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIHNldEluc3RhbmNlVHlwZXM6IGZ1bmN0aW9uIHNldEluc3RhbmNlVHlwZXMoc3RhdGUsIF9yZWYpIHsKICAgIHZhciB0eXBlcyA9IF9yZWYudHlwZXMsCiAgICAgIGNsaWVudEluZm8gPSBfcmVmLmNsaWVudEluZm87CiAgICBzdGF0ZS5pbnN0YW5jZVR5cGVzID0gdHlwZXM7CiAgICBzdGF0ZS5jbGllbnRJbmZvID0gY2xpZW50SW5mbzsKICB9Cn07CmV4cG9ydCB2YXIgYWN0aW9ucyA9IHsKICBlYzJMaWI6IGZ1bmN0aW9uIGVjMkxpYigpIHsKICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImF3cy1lYzIiICovJ0Bhd3Mtc2RrL2NsaWVudC1lYzInKTsKICB9LAogIGVrc0xpYjogZnVuY3Rpb24gZWtzTGliKCkgewogICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYXdzLWVrcyIgKi8nQGF3cy1zZGsvY2xpZW50LWVrcycpOwogIH0sCiAga21zTGliOiBmdW5jdGlvbiBrbXNMaWIoKSB7CiAgICByZXR1cm4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6ICJhd3Mta21zIiAqLydAYXdzLXNkay9jbGllbnQta21zJyk7CiAgfSwKICBpYW1MaWI6IGZ1bmN0aW9uIGlhbUxpYigpIHsKICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImF3cy1pYW0iICovJ0Bhd3Mtc2RrL2NsaWVudC1pYW0nKTsKICB9LAogIGVjMjogZnVuY3Rpb24gZWMyKF9yZWYyLCBfcmVmMykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGRpc3BhdGNoLCByZWdpb24sIGNsb3VkQ3JlZGVudGlhbElkLCBhY2Nlc3NLZXksIHNlY3JldEtleSwgbGliLCBjbGllbnQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgICAgICAgICByZWdpb24gPSBfcmVmMy5yZWdpb24sIGNsb3VkQ3JlZGVudGlhbElkID0gX3JlZjMuY2xvdWRDcmVkZW50aWFsSWQsIGFjY2Vzc0tleSA9IF9yZWYzLmFjY2Vzc0tleSwgc2VjcmV0S2V5ID0gX3JlZjMuc2VjcmV0S2V5OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdlYzJMaWInKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgbGliID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY2xpZW50ID0gbmV3IGxpYi5FQzIoewogICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLAogICAgICAgICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoYWNjZXNzS2V5LCBzZWNyZXRLZXkpLAogICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyOiBuZXcgSGFuZGxlcihjbG91ZENyZWRlbnRpYWxJZCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNsaWVudCk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGVrczogZnVuY3Rpb24gZWtzKF9yZWY0LCBfcmVmNSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgcmVnaW9uLCBjbG91ZENyZWRlbnRpYWxJZCwgYWNjZXNzS2V5LCBzZWNyZXRLZXksIGxpYiwgY2xpZW50OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2g7CiAgICAgICAgICAgIHJlZ2lvbiA9IF9yZWY1LnJlZ2lvbiwgY2xvdWRDcmVkZW50aWFsSWQgPSBfcmVmNS5jbG91ZENyZWRlbnRpYWxJZCwgYWNjZXNzS2V5ID0gX3JlZjUuYWNjZXNzS2V5LCBzZWNyZXRLZXkgPSBfcmVmNS5zZWNyZXRLZXk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdla3NMaWInKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgbGliID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGNsaWVudCA9IG5ldyBsaWIuRUtTKHsKICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbiwKICAgICAgICAgICAgICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKGFjY2Vzc0tleSwgc2VjcmV0S2V5KSwKICAgICAgICAgICAgICByZXF1ZXN0SGFuZGxlcjogbmV3IEhhbmRsZXIoY2xvdWRDcmVkZW50aWFsSWQpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgY2xpZW50KTsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBrbXM6IGZ1bmN0aW9uIGttcyhfcmVmNiwgX3JlZjcpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgZGlzcGF0Y2gsIHJlZ2lvbiwgY2xvdWRDcmVkZW50aWFsSWQsIGFjY2Vzc0tleSwgc2VjcmV0S2V5LCBsaWIsIGNsaWVudDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgICAgICAgICByZWdpb24gPSBfcmVmNy5yZWdpb24sIGNsb3VkQ3JlZGVudGlhbElkID0gX3JlZjcuY2xvdWRDcmVkZW50aWFsSWQsIGFjY2Vzc0tleSA9IF9yZWY3LmFjY2Vzc0tleSwgc2VjcmV0S2V5ID0gX3JlZjcuc2VjcmV0S2V5OwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgna21zTGliJyk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGxpYiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBjbGllbnQgPSBuZXcgbGliLktNUyh7CiAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sCiAgICAgICAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihhY2Nlc3NLZXksIHNlY3JldEtleSksCiAgICAgICAgICAgICAgcmVxdWVzdEhhbmRsZXI6IG5ldyBIYW5kbGVyKGNsb3VkQ3JlZGVudGlhbElkKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGNsaWVudCk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgaWFtOiBmdW5jdGlvbiBpYW0oX3JlZjgsIF9yZWY5KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGRpc3BhdGNoLCByZWdpb24sIGNsb3VkQ3JlZGVudGlhbElkLCBhY2Nlc3NLZXksIHNlY3JldEtleSwgbGliLCBjbGllbnQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaDsKICAgICAgICAgICAgcmVnaW9uID0gX3JlZjkucmVnaW9uLCBjbG91ZENyZWRlbnRpYWxJZCA9IF9yZWY5LmNsb3VkQ3JlZGVudGlhbElkLCBhY2Nlc3NLZXkgPSBfcmVmOS5hY2Nlc3NLZXksIHNlY3JldEtleSA9IF9yZWY5LnNlY3JldEtleTsKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2lhbUxpYicpOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBsaWIgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgY2xpZW50ID0gbmV3IGxpYi5JQU0oewogICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLAogICAgICAgICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoYWNjZXNzS2V5LCBzZWNyZXRLZXkpLAogICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyOiBuZXcgSGFuZGxlcihjbG91ZENyZWRlbnRpYWxJZCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBjbGllbnQpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIGRlc2NyaWJlSW5zdGFuY2VUeXBlczogZnVuY3Rpb24gZGVzY3JpYmVJbnN0YW5jZVR5cGVzKF9yZWYxMCwgX3JlZjExKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIF9jbGllbnQkY29uZmlnLCBfcm9vdEdldHRlcnMkYXdzQ2xpZSwgX3Jvb3RHZXR0ZXJzJGF3c0NsaWUyOwogICAgICB2YXIgZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzLCBzdGF0ZSwgY29tbWl0LCBjbGllbnQsIGNsb3VkQ3JlZGVudGlhbElkLCByZWdpb24sIGRhdGEsIGdyb3VwcywgbGlzdCwgX2l0ZXJhdG9yLCBfc3RlcCwgcm93LCBhcGlOYW1lLCBpbnN0YW5jZUNsYXNzLCBncm91cExhYmVsLCBzdG9yYWdlU2l6ZSwgc3RvcmFnZVVuaXQsIHN0b3JhZ2VUeXBlLCBzdG9yYWdlSW5mbywgX3N0b3JhZ2VJbmZvJERpc2tzLCBkaXNrLCBvdXQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMTAuZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzID0gX3JlZjEwLnJvb3RHZXR0ZXJzLCBzdGF0ZSA9IF9yZWYxMC5zdGF0ZSwgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKICAgICAgICAgICAgY2xpZW50ID0gX3JlZjExLmNsaWVudDsKICAgICAgICAgICAgY2xvdWRDcmVkZW50aWFsSWQgPSBjbGllbnQgPT09IG51bGwgfHwgY2xpZW50ID09PSB2b2lkIDAgfHwgKF9jbGllbnQkY29uZmlnID0gY2xpZW50LmNvbmZpZykgPT09IG51bGwgfHwgX2NsaWVudCRjb25maWcgPT09IHZvaWQgMCB8fCAoX2NsaWVudCRjb25maWcgPSBfY2xpZW50JGNvbmZpZy5yZXF1ZXN0SGFuZGxlcikgPT09IG51bGwgfHwgX2NsaWVudCRjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGllbnQkY29uZmlnLmNsb3VkQ3JlZGVudGlhbElkOwogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBjbGllbnQuY29uZmlnLnJlZ2lvbigpOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZWdpb24gPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgaWYgKCEoY2xvdWRDcmVkZW50aWFsSWQgPT09ICgoX3Jvb3RHZXR0ZXJzJGF3c0NsaWUgPSByb290R2V0dGVyc1snYXdzL2NsaWVudEluZm8nXSkgPT09IG51bGwgfHwgX3Jvb3RHZXR0ZXJzJGF3c0NsaWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290R2V0dGVycyRhd3NDbGllLmNsb3VkQ3JlZGVudGlhbElkKSAmJiByZWdpb24gPT09ICgoX3Jvb3RHZXR0ZXJzJGF3c0NsaWUyID0gcm9vdEdldHRlcnNbJ2F3cy9jbGllbnRJbmZvJ10pID09PSBudWxsIHx8IF9yb290R2V0dGVycyRhd3NDbGllMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jvb3RHZXR0ZXJzJGF3c0NsaWUyLnJlZ2lvbikpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByb290R2V0dGVyc1snYXdzL2luc3RhbmNlVHlwZXMnXSk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZGVwYWdpbmF0ZUxpc3QnLCB7CiAgICAgICAgICAgICAgY2xpZW50OiBjbGllbnQsCiAgICAgICAgICAgICAgY21kOiAnZGVzY3JpYmVJbnN0YW5jZVR5cGVzJwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYXdzLWRhdGEiICovJ0BzaGVsbC9hc3NldHMvZGF0YS9lYzItaW5zdGFuY2UtZ3JvdXBzLmpzb24nKTsKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGdyb3VwcyA9IF9jb250ZXh0NS5zZW50LmRlZmF1bHQ7CiAgICAgICAgICAgIGxpc3QgPSBbXTsKICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YSk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHJvdyA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgYXBpTmFtZSA9IHJvdy5JbnN0YW5jZVR5cGU7CiAgICAgICAgICAgICAgICBpbnN0YW5jZUNsYXNzID0gYXBpTmFtZS5zcGxpdCgnLicpWzBdLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBncm91cExhYmVsID0gZ3JvdXBzW2luc3RhbmNlQ2xhc3NdIHx8ICdVbmtub3duJzsKICAgICAgICAgICAgICAgIHN0b3JhZ2VTaXplID0gMDsKICAgICAgICAgICAgICAgIHN0b3JhZ2VVbml0ID0gJ0dCJzsKICAgICAgICAgICAgICAgIHN0b3JhZ2VUeXBlID0gbnVsbDsKICAgICAgICAgICAgICAgIHN0b3JhZ2VJbmZvID0gcm93Lkluc3RhbmNlU3RvcmFnZUluZm87CiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZUluZm8pIHsKICAgICAgICAgICAgICAgICAgc3RvcmFnZVNpemUgPSBzdG9yYWdlSW5mby5Ub3RhbFNpemVJbkdCOwogICAgICAgICAgICAgICAgICBkaXNrID0gKF9zdG9yYWdlSW5mbyREaXNrcyA9IHN0b3JhZ2VJbmZvLkRpc2tzKSA9PT0gbnVsbCB8fCBfc3RvcmFnZUluZm8kRGlza3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdG9yYWdlSW5mbyREaXNrc1swXTsKICAgICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2VJbmZvLk52bWVTdXBwb3J0ID09PSAnc3VwcG9ydGVkJykgewogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VUeXBlID0gJ05WTWUnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChkaXNrID09PSBudWxsIHx8IGRpc2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc2suVHlwZSkgPT09ICdzc2QnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVR5cGUgPSAnU1NEJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoZGlzayA9PT0gbnVsbCB8fCBkaXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXNrLlR5cGUpID09PSAnaGRkJykgewogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VUeXBlID0gJ0hERCc7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVR5cGUgPSAnVW5rbm93bic7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2VTaXplID4gMTAwMCkgewogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VTaXplIC89IDEwMDA7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVVuaXQgPSAnVEInOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyBzdG9yYWdlU2l6ZSA9PSAwIHNob3dzIEVCUy1Pbmx5CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goewogICAgICAgICAgICAgICAgICBhcGlOYW1lOiBhcGlOYW1lLAogICAgICAgICAgICAgICAgICBjdXJyZW50R2VuZXJhdGlvbjogcm93LkN1cnJlbnRHZW5lcmF0aW9uIHx8IGZhbHNlLAogICAgICAgICAgICAgICAgICBncm91cExhYmVsOiBncm91cExhYmVsLAogICAgICAgICAgICAgICAgICBpbnN0YW5jZUNsYXNzOiBpbnN0YW5jZUNsYXNzLAogICAgICAgICAgICAgICAgICBtZW1vcnlCeXRlczogcm93Lk1lbW9yeUluZm8uU2l6ZUluTWlCICogMTAyNCAqIDEwMjQsCiAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZFVzYWdlQ2xhc3Nlczogcm93LlN1cHBvcnRlZFVzYWdlQ2xhc3NlcywKICAgICAgICAgICAgICAgICAgbGFiZWw6IHJvb3RHZXR0ZXJzWydpMThuL3QnXSgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLmF3cy5zaXplTGFiZWwnLCB7CiAgICAgICAgICAgICAgICAgICAgYXBpTmFtZTogYXBpTmFtZSwKICAgICAgICAgICAgICAgICAgICBjcHU6IHJvdy5WQ3B1SW5mby5EZWZhdWx0VkNwdXMsCiAgICAgICAgICAgICAgICAgICAgbWVtb3J5OiByb3cuTWVtb3J5SW5mby5TaXplSW5NaUIgLyAxMDI0LAogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VTaXplOiBzdG9yYWdlU2l6ZSwKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlVW5pdDogc3RvcmFnZVVuaXQsCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVR5cGU6IHN0b3JhZ2VUeXBlCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvdXQgPSBzb3J0QnkobGlzdCwgWydjdXJyZW50R2VuZXJhdGlvbjpkZXNjJywgJ2dyb3VwTGFiZWwnLCAnaW5zdGFuY2VDbGFzcycsICdtZW1vcnlCeXRlcycsICdhcGlOYW1lJ10pOwogICAgICAgICAgICBjb21taXQoJ3NldEluc3RhbmNlVHlwZXMnLCB7CiAgICAgICAgICAgICAgdHlwZXM6IG91dCwKICAgICAgICAgICAgICBjbGllbnRJbmZvOiB7CiAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbiwKICAgICAgICAgICAgICAgIGNsb3VkQ3JlZGVudGlhbElkOiBjbG91ZENyZWRlbnRpYWxJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBvdXQpOwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBkZXBhZ2luYXRlTGlzdDogZnVuY3Rpb24gZGVwYWdpbmF0ZUxpc3QoY3R4LCBfcmVmMTIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICB2YXIgY2xpZW50LCBjbWQsIGtleSwgb3B0LCBoYXNOZXh0LCBvdXQsIF9sb29wOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDcpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNsaWVudCA9IF9yZWYxMi5jbGllbnQsIGNtZCA9IF9yZWYxMi5jbWQsIGtleSA9IF9yZWYxMi5rZXksIG9wdCA9IF9yZWYxMi5vcHQ7CiAgICAgICAgICAgIGhhc05leHQgPSB0cnVlOwogICAgICAgICAgICBvdXQgPSBbXTsKICAgICAgICAgICAgb3B0ID0gb3B0IHx8IHt9OwogICAgICAgICAgICBfbG9vcCA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9sb29wJChfY29udGV4dDYpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50W2NtZF0ob3B0KTsKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgICAgIGlmICgha2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBPYmplY3Qua2V5cyhyZXMpLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkocmVzW3hdKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhZGRPYmplY3RzKG91dCwgcmVzW2tleV0pOwogICAgICAgICAgICAgICAgICAgIG9wdC5OZXh0VG9rZW4gPSByZXMuTmV4dFRva2VuOwogICAgICAgICAgICAgICAgICAgIGhhc05leHQgPSAhIXJlcy5OZXh0VG9rZW47CiAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfbG9vcCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBpZiAoIWhhc05leHQpIHsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5kZWxlZ2F0ZVlpZWxkKF9sb29wKCksICJ0MCIsIDcpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgb3V0KTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKSgpOwogIH0sCiAgZGVmYXVsdFJlZ2lvbnM6IGZ1bmN0aW9uIGRlZmF1bHRSZWdpb25zKCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgIHZhciBkYXRhOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYXdzLWRhdGEiICovJ0BzaGVsbC9hc3NldHMvZGF0YS9hd3MtcmVnaW9ucy5qc29uJyk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDguc2VudC5kZWZhdWx0OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU3KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"names":["sortBy","randomStr","FetchHttpHandler","isArray","addObjects","state","instanceTypes","clientInfo","Handler","cloudCredentialId","_classCallCheck","_createClass","key","value","handle","httpRequest","_FetchHttpHandler$pro","headers","concat","endpoint","path","startsWith","hostname","protocol","window","location","port","_len","arguments","length","args","Array","_key","prototype","call","apply","credentialDefaultProvider","accessKey","secretKey","out","accessKeyId","secretAccessKey","getters","defaultRegion","defaultInstanceType","mutations","setInstanceTypes","_ref","types","actions","ec2Lib","eksLib","kmsLib","iamLib","ec2","_ref2","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","region","lib","client","wrap","_callee$","_context","prev","next","sent","EC2","requestHandler","abrupt","stop","eks","_ref4","_ref5","_callee2","_callee2$","_context2","EKS","kms","_ref6","_ref7","_callee3","_callee3$","_context3","KMS","iam","_ref8","_ref9","_callee4","_callee4$","_context4","IAM","describeInstanceTypes","_ref10","_ref11","_callee5","_client$config","_rootGetters$awsClie","_rootGetters$awsClie2","rootGetters","commit","data","groups","list","_iterator","_step","row","apiName","instanceClass","groupLabel","storageSize","storageUnit","storageType","storageInfo","_storageInfo$Disks","disk","_callee5$","_context5","config","cmd","default","_createForOfIteratorHelper","s","n","done","InstanceType","split","toLowerCase","InstanceStorageInfo","TotalSizeInGB","Disks","NvmeSupport","Type","push","currentGeneration","CurrentGeneration","memoryBytes","MemoryInfo","SizeInMiB","supportedUsageClasses","SupportedUsageClasses","label","cpu","VCpuInfo","DefaultVCpus","memory","err","e","f","depaginateList","ctx","_ref12","_callee6","opt","hasNext","_loop","_callee6$","_context7","res","_loop$","_context6","Object","keys","find","x","NextToken","delegateYield","defaultRegions","_callee7","_callee7$","_context8"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/store/aws.js"],"sourcesContent":["import { sortBy } from '@shell/utils/sort';\nimport { randomStr } from '@shell/utils/string';\nimport { FetchHttpHandler } from '@aws-sdk/fetch-http-handler';\nimport { isArray, addObjects } from '@shell/utils/array';\n\nexport const state = () => {\n  return {\n    instanceTypes: [],\n    clientInfo:    null\n  };\n};\n\nclass Handler {\n  constructor(cloudCredentialId) {\n    this.cloudCredentialId = (cloudCredentialId || '');\n  }\n\n  handle(httpRequest, ...args) {\n    httpRequest.headers['x-api-headers-restrict'] = 'Content-Length';\n\n    if ( this.cloudCredentialId ) {\n      httpRequest.headers['x-api-cattleauth-header'] = `awsv4 credID=${ this.cloudCredentialId }`;\n    } else {\n      httpRequest.headers['x-api-auth-header'] = httpRequest.headers['authorization'];\n    }\n\n    delete httpRequest.headers['authorization'];\n\n    httpRequest.headers['content-type'] = `rancher:${ httpRequest.headers['content-type'] }`;\n\n    const endpoint = `/meta/proxy/`;\n\n    if ( !httpRequest.path.startsWith(endpoint) ) {\n      httpRequest.path = endpoint + httpRequest.hostname + httpRequest.path;\n    }\n\n    httpRequest.protocol = window.location.protocol;\n    httpRequest.hostname = window.location.hostname;\n    httpRequest.port = window.location.port;\n\n    return FetchHttpHandler.prototype.handle.call(this, httpRequest, ...args);\n  }\n}\n\nfunction credentialDefaultProvider(accessKey, secretKey) {\n  return function() {\n    // The SDK will complain if these aren't set, so fill them with something\n    // even though the cloudCredential will be used eventually\n    const out = {\n      accessKeyId:     accessKey || randomStr(),\n      secretAccessKey: secretKey || randomStr(),\n    };\n\n    return out;\n  };\n}\n\nexport const getters = {\n  // You could override these to do something based on the user, maybe.\n  defaultRegion() {\n    return 'us-west-2';\n  },\n\n  defaultInstanceType() {\n    return 't3a.medium';\n  },\n\n  instanceTypes(state) {\n    return state.instanceTypes;\n  },\n\n  clientInfo(state) {\n    return state.clientInfo;\n  }\n};\n\nexport const mutations = {\n  setInstanceTypes(state, { types, clientInfo }) {\n    state.instanceTypes = types;\n    state.clientInfo = clientInfo;\n  }\n};\n\nexport const actions = {\n  ec2Lib() {\n    return import(/* webpackChunkName: \"aws-ec2\" */ '@aws-sdk/client-ec2');\n  },\n\n  eksLib() {\n    return import(/* webpackChunkName: \"aws-eks\" */ '@aws-sdk/client-eks');\n  },\n\n  kmsLib() {\n    return import(/* webpackChunkName: \"aws-kms\" */ '@aws-sdk/client-kms');\n  },\n\n  iamLib() {\n    return import(/* webpackChunkName: \"aws-iam\" */ '@aws-sdk/client-iam');\n  },\n\n  async ec2({ dispatch }, {\n    region, cloudCredentialId, accessKey, secretKey\n  }) {\n    const lib = await dispatch('ec2Lib');\n\n    const client = new lib.EC2({\n      region,\n      credentialDefaultProvider: credentialDefaultProvider(accessKey, secretKey),\n      requestHandler:            new Handler(cloudCredentialId),\n    });\n\n    return client;\n  },\n\n  async eks({ dispatch }, {\n    region, cloudCredentialId, accessKey, secretKey\n  }) {\n    const lib = await dispatch('eksLib');\n\n    const client = new lib.EKS({\n      region,\n      credentialDefaultProvider: credentialDefaultProvider(accessKey, secretKey),\n      requestHandler:            new Handler(cloudCredentialId),\n    });\n\n    return client;\n  },\n\n  async kms({ dispatch }, {\n    region, cloudCredentialId, accessKey, secretKey\n  }) {\n    const lib = await dispatch('kmsLib');\n\n    const client = new lib.KMS({\n      region,\n      credentialDefaultProvider: credentialDefaultProvider(accessKey, secretKey),\n      requestHandler:            new Handler(cloudCredentialId),\n    });\n\n    return client;\n  },\n\n  async iam({ dispatch }, {\n    region, cloudCredentialId, accessKey, secretKey\n  }) {\n    const lib = await dispatch('iamLib');\n\n    const client = new lib.IAM({\n      region,\n      credentialDefaultProvider: credentialDefaultProvider(accessKey, secretKey),\n      requestHandler:            new Handler(cloudCredentialId),\n    });\n\n    return client;\n  },\n\n  async describeInstanceTypes({\n    dispatch, rootGetters, state, commit\n  }, { client }) {\n    const cloudCredentialId = client?.config?.requestHandler?.cloudCredentialId;\n    const region = await client.config.region();\n\n    if (cloudCredentialId === rootGetters['aws/clientInfo']?.cloudCredentialId && region === rootGetters['aws/clientInfo']?.region) {\n      return rootGetters['aws/instanceTypes'];\n    }\n    const data = await dispatch('depaginateList', { client, cmd: 'describeInstanceTypes' });\n\n    const groups = (await import(/* webpackChunkName: \"aws-data\" */'@shell/assets/data/ec2-instance-groups.json')).default;\n    const list = [];\n\n    for ( const row of data ) {\n      const apiName = row.InstanceType;\n      const instanceClass = apiName.split('.')[0].toLowerCase();\n      const groupLabel = groups[instanceClass] || 'Unknown';\n\n      let storageSize = 0;\n      let storageUnit = 'GB';\n      let storageType = null;\n      const storageInfo = row.InstanceStorageInfo;\n\n      if ( storageInfo) {\n        storageSize = storageInfo.TotalSizeInGB;\n        const disk = storageInfo.Disks?.[0];\n\n        if ( storageInfo.NvmeSupport === 'supported' ) {\n          storageType = 'NVMe';\n        } else if ( disk?.Type === 'ssd' ) {\n          storageType = 'SSD';\n        } else if ( disk?.Type === 'hdd' ) {\n          storageType = 'HDD';\n        } else {\n          storageType = 'Unknown';\n        }\n\n        if ( storageSize > 1000 ) {\n          storageSize /= 1000;\n          storageUnit = 'TB';\n        }\n      } else {\n        // storageSize == 0 shows EBS-Only\n      }\n\n      list.push({\n        apiName,\n        currentGeneration:     row.CurrentGeneration || false,\n        groupLabel,\n        instanceClass,\n        memoryBytes:           row.MemoryInfo.SizeInMiB * 1024 * 1024,\n        supportedUsageClasses: row.SupportedUsageClasses,\n        label:                 rootGetters['i18n/t']('cluster.machineConfig.aws.sizeLabel', {\n          apiName,\n          cpu:    row.VCpuInfo.DefaultVCpus,\n          memory: row.MemoryInfo.SizeInMiB / 1024,\n          storageSize,\n          storageUnit,\n          storageType,\n        }),\n      });\n    }\n\n    const out = sortBy(list, ['currentGeneration:desc', 'groupLabel', 'instanceClass', 'memoryBytes', 'apiName']);\n\n    commit('setInstanceTypes', { types: out, clientInfo: { region, cloudCredentialId } });\n\n    return out;\n  },\n\n  async depaginateList(ctx, {\n    client, cmd, key, opt\n  }) {\n    let hasNext = true;\n    const out = [];\n\n    opt = opt || {};\n\n    while ( hasNext ) {\n      const res = await client[cmd](opt);\n\n      if ( !key ) {\n        key = Object.keys(res).find((x) => isArray(res[x]));\n      }\n\n      addObjects(out, res[key]);\n      opt.NextToken = res.NextToken;\n      hasNext = !!res.NextToken;\n    }\n\n    return out;\n  },\n\n  async defaultRegions() {\n    const data = (await import(/* webpackChunkName: \"aws-data\" */'@shell/assets/data/aws-regions.json')).default;\n\n    return data;\n  }\n};\n"],"mappings":"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","ignoreList":[]}]}