{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/CatalogList/CatalogUninstallDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/CatalogList/CatalogUninstallDialog.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBDQVRBTE9HLCBVSV9QTFVHSU4sIFNFUlZJQ0UsIFdPUktMT0FEX1RZUEVTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFVJX1BMVUdJTl9MQUJFTFMsIFVJX1BMVUdJTl9OQU1FU1BBQ0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL3VpcGx1Z2lucyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBc3luY0J1dHRvbjogQXN5bmNCdXR0b24KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHBsdWdpbnM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvc2NoZW1hRm9yJ10oVUlfUExVR0lOKSkgewogICAgICAgICAgICAgIHBsdWdpbnMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFVJX1BMVUdJTgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzLnBsdWdpbnMgPSBwbHVnaW5zIHx8IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXRhbG9nOiB1bmRlZmluZWQsCiAgICAgIGJ1c3k6IGZhbHNlLAogICAgICBwbHVnaW5zOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBhbGxDaGFydHM6ICdjYXRhbG9nL2NoYXJ0cycKICB9KSksIHt9LCB7CiAgICBwbHVnaW5zRnJvbUNhdGFsb2dJbWFnZTogZnVuY3Rpb24gcGx1Z2luc0Zyb21DYXRhbG9nSW1hZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnBsdWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgdmFyIF9wJG1ldGFkYXRhOwogICAgICAgIHJldHVybiAoX3AkbWV0YWRhdGEgPSBwLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfcCRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfcCRtZXRhZGF0YSA9IF9wJG1ldGFkYXRhLmxhYmVscykgPT09IG51bGwgfHwgX3AkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wJG1ldGFkYXRhW1VJX1BMVUdJTl9MQUJFTFMuQ0FUQUxPR19JTUFHRV07CiAgICAgIH0pOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIHNob3dEaWFsb2c6IGZ1bmN0aW9uIHNob3dEaWFsb2coY2F0YWxvZykgewogICAgICB0aGlzLmNhdGFsb2cgPSBjYXRhbG9nOwogICAgICB0aGlzLmJ1c3kgPSBmYWxzZTsKICAgICAgdGhpcy4kbW9kYWwuc2hvdygndW5pbnN0YWxsQ2F0YWxvZ0RpYWxvZycpOwogICAgfSwKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZyhyZXN1bHQpIHsKICAgICAgdGhpcy4kbW9kYWwuaGlkZSgndW5pbnN0YWxsQ2F0YWxvZ0RpYWxvZycpOwogICAgICB0aGlzLiRlbWl0KCdjbG9zZWQnLCByZXN1bHQpOwogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcpOwogICAgICB9CiAgICB9LAogICAgdW5pbnN0YWxsOiBmdW5jdGlvbiB1bmluc3RhbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNhdGFsb2csIGFwcHMsIHBsdWdpbkFwcHM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIuYnVzeSA9IHRydWU7CiAgICAgICAgICAgICAgY2F0YWxvZyA9IF90aGlzMi5jYXRhbG9nOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5BUFAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGFwcHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBwbHVnaW5BcHBzID0gYXBwcy5maWx0ZXIoZnVuY3Rpb24gKGFwcCkgewogICAgICAgICAgICAgICAgaWYgKGFwcC5uYW1lc3BhY2UgPT09IFVJX1BMVUdJTl9OQU1FU1BBQ0UpIHsKICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgcmVsYXRlZCBhcHBzIGZyb20gdGhlIGRlcGxveWVkIGhlbG0gcmVwb3NpdG9yeQogICAgICAgICAgICAgICAgICB2YXIgY2hhcnRzID0gX3RoaXMyLmFsbENoYXJ0cy5maWx0ZXIoZnVuY3Rpb24gKGNoYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9jYXRhbG9nJHJlcG87CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LnJlcG9OYW1lID09PSAoKF9jYXRhbG9nJHJlcG8gPSBjYXRhbG9nLnJlcG8pID09PSBudWxsIHx8IF9jYXRhbG9nJHJlcG8gPT09IHZvaWQgMCB8fCAoX2NhdGFsb2ckcmVwbyA9IF9jYXRhbG9nJHJlcG8ubWV0YWRhdGEpID09PSBudWxsIHx8IF9jYXRhbG9nJHJlcG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYXRhbG9nJHJlcG8ubmFtZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnRzLnNvbWUoZnVuY3Rpb24gKGNoYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmNoYXJ0TmFtZSA9PT0gYXBwLm1ldGFkYXRhLm5hbWU7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbW92ZUNhdGFsb2dSZXNvdXJjZXMoY2F0YWxvZyk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBpZiAoIXBsdWdpbkFwcHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBwbHVnaW5BcHBzLmZvckVhY2goZnVuY3Rpb24gKGFwcCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3VwZGF0ZScsIGFwcC5uYW1lLCAndW5pbnN0YWxsJyk7CiAgICAgICAgICAgICAgICAgIGFwcC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ2dyb3dsL2Vycm9yJywgewogICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMyLnQoJ3BsdWdpbnMuZXJyb3IuZ2VuZXJpYycpLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UgPyBlLm1lc3NhZ2UgOiBlLAogICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5PUEVSQVRJT04KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEaWFsb2coY2F0YWxvZyk7CiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVDYXRhbG9nUmVzb3VyY2VzOiBmdW5jdGlvbiByZW1vdmVDYXRhbG9nUmVzb3VyY2VzKGNhdGFsb2cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc2VsZWN0b3IsIG5hbWVzcGFjZSwgaGFzaCwgX2ksIF9PYmplY3Qka2V5cywgcmVzb3VyY2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzZWxlY3RvciA9ICIiLmNvbmNhdChVSV9QTFVHSU5fTEFCRUxTLkNBVEFMT0dfSU1BR0UsICI9IikuY29uY2F0KGNhdGFsb2cubmFtZSk7CiAgICAgICAgICAgICAgbmFtZXNwYWNlID0gVUlfUExVR0lOX05BTUVTUEFDRTsKICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKHsKICAgICAgICAgICAgICAgIGRlcGxveW1lbnQ6IF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZE1hdGNoaW5nJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBXT1JLTE9BRF9UWVBFUy5ERVBMT1lNRU5ULAogICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsCiAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHNlcnZpY2U6IF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZE1hdGNoaW5nJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBTRVJWSUNFLAogICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsCiAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHJlcG86IF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZE1hdGNoaW5nJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBDQVRBTE9HLkNMVVNURVJfUkVQTywKICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgaGFzaCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhoYXNoKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICByZXNvdXJjZSA9IF9PYmplY3Qka2V5c1tfaV07CiAgICAgICAgICAgICAgICBpZiAoaGFzaFtyZXNvdXJjZV0pIHsKICAgICAgICAgICAgICAgICAgaGFzaFtyZXNvdXJjZV0uZm9yRWFjaChmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","CATALOG","UI_PLUGIN","SERVICE","WORKLOAD_TYPES","UI_PLUGIN_LABELS","UI_PLUGIN_NAMESPACE","allHash","AsyncButton","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","plugins","wrap","_callee$","_context","prev","next","$store","getters","dispatch","type","stop","data","catalog","undefined","busy","computed","_objectSpread","allCharts","pluginsFromCatalogImage","filter","p","_p$metadata","metadata","labels","CATALOG_IMAGE","methods","showDialog","$modal","show","closeDialog","result","hide","$emit","uninstall","_this2","_callee2","apps","pluginApps","_callee2$","_context2","APP","sent","app","namespace","charts","chart","_catalog$repo","repoName","repo","name","some","chartName","removeCatalogResources","length","forEach","remove","e","title","t","message","timeout","root","OPERATION","_this3","_callee3","selector","hash","_i","_Object$keys","resource","_callee3$","_context3","concat","deployment","DEPLOYMENT","service","CLUSTER_REPO","Object","keys","r"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/uiplugins/CatalogList/CatalogUninstallDialog.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\n\nimport { CATALOG, UI_PLUGIN, SERVICE, WORKLOAD_TYPES } from '@shell/config/types';\nimport { UI_PLUGIN_LABELS, UI_PLUGIN_NAMESPACE } from '@shell/config/uiplugins';\nimport { allHash } from '@shell/utils/promise';\n\nimport AsyncButton from '@shell/components/AsyncButton';\n\nexport default {\n  components: { AsyncButton },\n\n  async fetch() {\n    if ( this.$store.getters['management/schemaFor'](UI_PLUGIN) ) {\n      const plugins = this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n\n      this.plugins = plugins || [];\n    }\n  },\n\n  data() {\n    return {\n      catalog: undefined, busy: false, plugins: null\n    };\n  },\n\n  computed: {\n    ...mapGetters({ allCharts: 'catalog/charts' }),\n\n    pluginsFromCatalogImage() {\n      return this.plugins.filter((p) => p.metadata?.labels?.[UI_PLUGIN_LABELS.CATALOG_IMAGE]);\n    }\n  },\n\n  methods: {\n    showDialog(catalog) {\n      this.catalog = catalog;\n      this.busy = false;\n      this.$modal.show('uninstallCatalogDialog');\n    },\n\n    closeDialog(result) {\n      this.$modal.hide('uninstallCatalogDialog');\n      this.$emit('closed', result);\n\n      if ( result ) {\n        this.$emit('refresh');\n      }\n    },\n\n    async uninstall() {\n      this.busy = true;\n\n      const catalog = this.catalog;\n      const apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      const pluginApps = apps.filter((app) => {\n        if ( app.namespace === UI_PLUGIN_NAMESPACE ) {\n          // Find the related apps from the deployed helm repository\n          const charts = this.allCharts.filter((chart) => chart.repoName === catalog.repo?.metadata?.name);\n\n          return charts.some((chart) => chart.chartName === app.metadata.name);\n        }\n\n        return false;\n      });\n\n      await this.removeCatalogResources(catalog);\n\n      if ( pluginApps.length ) {\n        try {\n          pluginApps.forEach((app) => {\n            this.$emit('update', app.name, 'uninstall');\n            app.remove();\n          });\n        } catch (e) {\n          this.$store.dispatch('growl/error', {\n            title:   this.t('plugins.error.generic'),\n            message: e.message ? e.message : e,\n            timeout: 10000\n          }, { root: true });\n        }\n\n        await this.$store.dispatch('management/findAll', { type: CATALOG.OPERATION });\n      }\n\n      this.closeDialog(catalog);\n    },\n\n    async removeCatalogResources(catalog) {\n      const selector = `${ UI_PLUGIN_LABELS.CATALOG_IMAGE }=${ catalog.name }`;\n      const namespace = UI_PLUGIN_NAMESPACE;\n\n      if ( selector ) {\n        const hash = await allHash({\n          deployment: this.$store.dispatch('management/findMatching', {\n            type: WORKLOAD_TYPES.DEPLOYMENT, selector, namespace\n          }),\n          service: this.$store.dispatch('management/findMatching', {\n            type: SERVICE, selector, namespace\n          }),\n          repo: this.$store.dispatch('management/findMatching', { type: CATALOG.CLUSTER_REPO, selector })\n        });\n\n        for ( const resource of Object.keys(hash) ) {\n          if ( hash[resource] ) {\n            hash[resource].forEach((r) => r.remove());\n          }\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    name=\"uninstallCatalogDialog\"\n    height=\"auto\"\n    :scrollable=\"true\"\n  >\n    <div\n      v-if=\"catalog\"\n      class=\"plugin-install-dialog\"\n    >\n      <h4 class=\"mt-10\">\n        {{ t('plugins.uninstall.title', { name: catalog.name }) }}\n      </h4>\n      <div class=\"mt-10 dialog-panel\">\n        <div class=\"dialog-info\">\n          <p>\n            {{ t('plugins.uninstall.catalog') }}\n          </p>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button\n            :disabled=\"busy\"\n            class=\"btn role-secondary\"\n            data-testid=\"uninstall-ext-modal-cancel-btn\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <AsyncButton\n            mode=\"uninstall\"\n            data-testid=\"uninstall-ext-modal-uninstall-btn\"\n            @click=\"uninstall()\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .plugin-install-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-panel {\n      display: flex;\n      flex-direction: column;\n      min-height: 100px;\n\n      .dialog-info {\n        flex: 1;\n      }\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}