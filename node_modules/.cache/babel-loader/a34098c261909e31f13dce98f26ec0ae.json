{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/__tests__/azure.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/__tests__/azure.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBBenVyZUNsb3VkQ3JlZHMgZnJvbSAnQHNoZWxsL2Nsb3VkLWNyZWRlbnRpYWwvYXp1cmUudnVlJzsKdmFyIG1vY2tTdG9yZSA9IHsKICBnZXR0ZXJzOiB7CiAgICAnaTE4bi90JzogamVzdC5mbigpCiAgfSwKICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICByZXR1cm4gamVzdC5mbigpOwogIH0KfTsKZGVzY3JpYmUoJ2Nsb3VkIGNyZWRlbnRpYWxzOiBBenVyZScsIGZ1bmN0aW9uICgpIHsKICB2YXIgd3JhcHBlciA9IG1vdW50KEF6dXJlQ2xvdWRDcmVkcywgewogICAgcHJvcHNEYXRhOiB7CiAgICAgIHZhbHVlOiB7CiAgICAgICAgZGVjb2RlZERhdGE6IHsKICAgICAgICAgIGVudmlyb25tZW50OiAnJywKICAgICAgICAgIHN1YnNjcmlwdGlvbklkOiAnJywKICAgICAgICAgIGNsaWVudElkOiAnJywKICAgICAgICAgIGNsaWVudFNlY3JldDogJycKICAgICAgICB9LAogICAgICAgIHNldERhdGE6IGplc3QuZm4oKQogICAgICB9CiAgICB9LAogICAgbW9ja3M6IHsKICAgICAgJHN0b3JlOiBtb2NrU3RvcmUKICAgIH0KICB9KTsKICBpdCgnc2hvdWxkIHBhc3MgYWxsIHRoZSBjb3JyZWN0IGZpZWxkcyB3aGVuIGNoZWNraW5nIGlmIGNyZWRlbnRpYWxzIGFyZSB2YWxpZCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgdmFyIHNweURpc3BhdGNoOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHNweURpc3BhdGNoID0gamVzdC5zcHlPbihtb2NrU3RvcmUsICdkaXNwYXRjaCcpOwogICAgICAgICAgd3JhcHBlci5zZXREYXRhKHsKICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICBkZWNvZGVkRGF0YTogewogICAgICAgICAgICAgICAgZW52aXJvbm1lbnQ6ICdteS1lbnYnLAogICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uSWQ6ICdteS1zdWItaWQnLAogICAgICAgICAgICAgICAgY2xpZW50SWQ6ICdteS1jLWlkJywKICAgICAgICAgICAgICAgIGNsaWVudFNlY3JldDogJ215LWMtc2VjcmV0JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgIHJldHVybiB3cmFwcGVyLnZtLnRlc3QoKTsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBleHBlY3Qoc3B5RGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdtYW5hZ2VtZW50L3JlcXVlc3QnLCB7CiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBlbnZpcm9ubWVudDogJ215LWVudicsCiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uSWQ6ICdteS1zdWItaWQnLAogICAgICAgICAgICAgIGNsaWVudElkOiAnbXktYy1pZCcsCiAgICAgICAgICAgICAgY2xpZW50U2VjcmV0OiAnbXktYy1zZWNyZXQnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UsCiAgICAgICAgICAgIHVybDogJy9tZXRhL2Frc0NoZWNrQ3JlZGVudGlhbHMnCiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKSk7Cn0pOw=="},{"version":3,"names":["mount","AzureCloudCreds","mockStore","getters","jest","fn","dispatch","describe","wrapper","propsData","value","decodedData","environment","subscriptionId","clientId","clientSecret","setData","mocks","$store","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","spyDispatch","wrap","_callee$","_context","prev","next","spyOn","vm","test","expect","toHaveBeenCalledWith","data","method","redirectUnauthorized","url","stop"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/cloud-credential/__tests__/azure.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport AzureCloudCreds from '@shell/cloud-credential/azure.vue';\n\nconst mockStore = {\n  getters:  { 'i18n/t': jest.fn() },\n  dispatch: () => jest.fn()\n};\n\ndescribe('cloud credentials: Azure', () => {\n  const wrapper = mount(AzureCloudCreds, {\n    propsData: {\n      value: {\n        decodedData: {\n          environment:    '',\n          subscriptionId: '',\n          clientId:       '',\n          clientSecret:   '',\n        },\n        setData: jest.fn()\n      }\n    },\n    mocks: { $store: mockStore }\n  });\n\n  it('should pass all the correct fields when checking if credentials are valid', async() => {\n    const spyDispatch = jest.spyOn(mockStore, 'dispatch');\n\n    wrapper.setData({\n      value: {\n        decodedData: {\n          environment:    'my-env',\n          subscriptionId: 'my-sub-id',\n          clientId:       'my-c-id',\n          clientSecret:   'my-c-secret',\n        }\n      }\n    });\n\n    await wrapper.vm.test();\n\n    expect(spyDispatch).toHaveBeenCalledWith('management/request', {\n      data: {\n        environment:    'my-env',\n        subscriptionId: 'my-sub-id',\n        clientId:       'my-c-id',\n        clientSecret:   'my-c-secret',\n      },\n      method:               'POST',\n      redirectUnauthorized: false,\n      url:                  '/meta/aksCheckCredentials'\n    });\n  });\n});\n"],"mappings":";;;;AAAA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,eAAe,MAAM,mCAAmC;AAE/D,IAAMC,SAAS,GAAG;EAChBC,OAAO,EAAG;IAAE,QAAQ,EAAEC,IAAI,CAACC,EAAE;EAAE,CAAE;EACjCC,QAAQ,EAAE,SAAAA,SAAA;IAAA,OAAMF,IAAI,CAACC,EAAE,EAAE;EAAA;CAC1B;AAEDE,QAAQ,CAAC,0BAA0B,EAAE,YAAK;EACxC,IAAMC,OAAO,GAAGR,KAAK,CAACC,eAAe,EAAE;IACrCQ,SAAS,EAAE;MACTC,KAAK,EAAE;QACLC,WAAW,EAAE;UACXC,WAAW,EAAK,EAAE;UAClBC,cAAc,EAAE,EAAE;UAClBC,QAAQ,EAAQ,EAAE;UAClBC,YAAY,EAAI;SACjB;QACDC,OAAO,EAAEZ,IAAI,CAACC,EAAE;;KAEnB;IACDY,KAAK,EAAE;MAAEC,MAAM,EAAEhB;IAAS;GAC3B,CAAC;EAEFiB,EAAE,CAAC,2EAA2E,eAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;IAAA,IAAAC,WAAA;IAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACxEL,WAAW,GAAGpB,IAAI,CAAC0B,KAAK,CAAC5B,SAAS,EAAE,UAAU,CAAC;UAErDM,OAAO,CAACQ,OAAO,CAAC;YACdN,KAAK,EAAE;cACLC,WAAW,EAAE;gBACXC,WAAW,EAAK,QAAQ;gBACxBC,cAAc,EAAE,WAAW;gBAC3BC,QAAQ,EAAQ,SAAS;gBACzBC,YAAY,EAAI;;;WAGrB,CAAC;UAACY,QAAA,CAAAE,IAAA;UAAA,OAEGrB,OAAO,CAACuB,EAAE,CAACC,IAAI,EAAE;QAAA;UAEvBC,MAAM,CAACT,WAAW,CAAC,CAACU,oBAAoB,CAAC,oBAAoB,EAAE;YAC7DC,IAAI,EAAE;cACJvB,WAAW,EAAK,QAAQ;cACxBC,cAAc,EAAE,WAAW;cAC3BC,QAAQ,EAAQ,SAAS;cACzBC,YAAY,EAAI;aACjB;YACDqB,MAAM,EAAgB,MAAM;YAC5BC,oBAAoB,EAAE,KAAK;YAC3BC,GAAG,EAAmB;WACvB,CAAC;QAAC;QAAA;UAAA,OAAAX,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAhB,OAAA;EAAA,CACJ,GAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}