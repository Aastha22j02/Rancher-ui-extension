{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBVcGdyYWRpbmcgZnJvbSAnQHNoZWxsL2VkaXQvd29ya2xvYWQvVXBncmFkaW5nLnZ1ZSc7CmRlc2NyaWJlKCdjb21wb25lbnQ6IFVwZ3JhZGluZycsIGZ1bmN0aW9uICgpIHsKICBpdCgnc2hvdWxkIGRpc3BsYXkgYWxsIHRoZSBpbnB1dHMnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgd3JhcHBlciA9IG1vdW50KFVwZ3JhZGluZyk7CiAgICB2YXIgaW5wdXRXcmFwcyA9IHdyYXBwZXIuZmluZEFsbCgnW2RhdGEtdGVzdGlkXj1pbnB1dC1wb2xpY3ktXScpOwogICAgZXhwZWN0KGlucHV0V3JhcHMpLnRvSGF2ZUxlbmd0aCg3KTsKICB9KTsKICBpdC5lYWNoKFtbJ21pbicsICdtaW5SZWFkeVNlY29uZHMnXSwgWydsaW1pdCcsICdyZXZpc2lvbkhpc3RvcnlMaW1pdCddLCBbJ2RlYWRsaW5lJywgJ3Byb2dyZXNzRGVhZGxpbmVTZWNvbmRzJ11dKSgnc2hvdWxkIHNldCB0eXBlZCB2YWx1ZSBpbiAlcCBpbnRvICVwJywgZnVuY3Rpb24gKGZpZWxkLCBrZXkpIHsKICAgIHZhciBfYTsKICAgIHZhciB3cmFwcGVyID0gbW91bnQoVXBncmFkaW5nKTsKICAgIHZhciBpbnB1dCA9IHdyYXBwZXIuZmluZCgiW2RhdGEtdGVzdGlkPVwiaW5wdXQtcG9saWN5LSIuY29uY2F0KGZpZWxkLCAiXCJdIikpLmZpbmQoJ2lucHV0Jyk7CiAgICB2YXIgbmV3VmFsdWUgPSAxMjM7CiAgICBpbnB1dC5zZXRWYWx1ZShuZXdWYWx1ZSk7CiAgICBpbnB1dC50cmlnZ2VyKCdibHVyJyk7CiAgICBleHBlY3QoKF9hID0gd3JhcHBlci5wcm9wcygndmFsdWUnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2tleV0pLnRvQmUobmV3VmFsdWUpOwogIH0pOwogIC8vIFRPRE86ICM2MTc5OiBJbnRlZ3JhdGUgdGVzdCB3aXRoIGNvbXBvbmVudCBmaXgsIGFzIHRoZSBzY29wZSBpcyBub3QgdG8gY2hlY2sgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dAogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqZXN0L25vLWRpc2FibGVkLXRlc3RzCiAgaXQuc2tpcC5lYWNoKFtbJ3N1cmdlJywgJ21heFN1cmdlJywgJyUnXSwgWyd1bmF2YWlsYWJsZScsICdtYXhVbmF2YWlsYWJsZScsICclJ11dKSgnc2hvdWxkIHNldCB0eXBlZCB2YWx1ZSBpbiAlcCBpbnRvICVwIGFuZCB1bml0JywgZnVuY3Rpb24gKGZpZWxkLCBrZXksIHVuaXQpIHsKICAgIHZhciBfYTsKICAgIHZhciB3cmFwcGVyID0gbW91bnQoVXBncmFkaW5nKTsKICAgIHZhciBpbnB1dCA9IHdyYXBwZXIuZmluZCgiW2RhdGEtdGVzdGlkPVwiaW5wdXQtcG9saWN5LSIuY29uY2F0KGZpZWxkLCAiXCJdIikpLmZpbmQoJ2lucHV0Jyk7CiAgICB2YXIgbmV3VmFsdWUgPSAxMjM7CiAgICB2YXIgZXhwZWN0YXRpb24gPSAiIi5jb25jYXQobmV3VmFsdWUpLmNvbmNhdCh1bml0KTsKICAgIGlucHV0LnNldFZhbHVlKG5ld1ZhbHVlKTsKICAgIGlucHV0LnRyaWdnZXIoJ2JsdXInKTsKICAgIGV4cGVjdCgoX2EgPSB3cmFwcGVyLnByb3BzKCd2YWx1ZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RyYXRlZ3kucm9sbGluZ1VwZGF0ZVtrZXldKS50b0JlKGV4cGVjdGF0aW9uKTsKICB9KTsKICBpdC5lYWNoKFsnc3VyZ2UnLCAndW5hdmFpbGFibGUnLCAnbWluJywgJ2xpbWl0JywgJ2RlYWRsaW5lJ10pKCdzaG91bGQgZW1pdCBhbiB1cGRhdGUgb24gJXAgaW5wdXQgYmx1cicsIGZ1bmN0aW9uIChmaWVsZCkgewogICAgdmFyIHdyYXBwZXIgPSBtb3VudChVcGdyYWRpbmcpOwogICAgdmFyIGlucHV0ID0gd3JhcHBlci5maW5kKCJbZGF0YS10ZXN0aWQ9XCJpbnB1dC1wb2xpY3ktIi5jb25jYXQoZmllbGQsICJcIl0iKSkuZmluZCgnaW5wdXQnKTsKICAgIHZhciBuZXdWYWx1ZSA9IDEyMzsKICAgIGlucHV0LnNldFZhbHVlKG5ld1ZhbHVlKTsKICAgIGlucHV0LnRyaWdnZXIoJ2JsdXInKTsKICAgIGV4cGVjdCh3cmFwcGVyLmVtaXR0ZWQoJ2lucHV0JykpLnRvSGF2ZUxlbmd0aCgxKTsKICB9KTsKfSk7"},{"version":3,"names":["mount","Upgrading","describe","it","wrapper","inputWraps","findAll","expect","toHaveLength","each","field","key","input","find","concat","newValue","setValue","trigger","_a","props","toBe","skip","unit","expectation","strategy","rollingUpdate","emitted"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport Upgrading from '@shell/edit/workload/Upgrading.vue';\n\ndescribe('component: Upgrading', () => {\n  it('should display all the inputs', () => {\n    const wrapper = mount(Upgrading);\n\n    const inputWraps = wrapper.findAll('[data-testid^=input-policy-]');\n\n    expect(inputWraps).toHaveLength(7);\n  });\n\n  it.each([\n    ['min', 'minReadySeconds'],\n    ['limit', 'revisionHistoryLimit'],\n    ['deadline', 'progressDeadlineSeconds'],\n  ])('should set typed value in %p into %p', (field, key) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value')?.[key]).toBe(newValue);\n  });\n\n  // TODO: #6179: Integrate test with component fix, as the scope is not to check the value of the input\n  // eslint-disable-next-line jest/no-disabled-tests\n  it.skip.each([\n    ['surge', 'maxSurge', '%'],\n    ['unavailable', 'maxUnavailable', '%'],\n  ])('should set typed value in %p into %p and unit', (field, key, unit) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n    const expectation = `${ newValue }${ unit }`;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value')?.strategy.rollingUpdate[key]).toBe(expectation);\n  });\n\n  it.each([\n    'surge',\n    'unavailable',\n    'min',\n    'limit',\n    'deadline',\n  ])('should emit an update on %p input blur', (field) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.emitted('input')).toHaveLength(1);\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}