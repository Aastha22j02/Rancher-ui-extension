{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBzaGFsbG93TW91bnQsIGNyZWF0ZUxvY2FsVnVlIH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBDbHVzdGVyQ3JlYXRlIGZyb20gJ0BzaGVsbC9lZGl0L3Byb3Zpc2lvbmluZy5jYXR0bGUuaW8uY2x1c3Rlci9pbmRleC52dWUnOwpkZXNjcmliZSgnY29tcG9uZW50OiBDbHVzdGVyOiBDcmVhdGUnLCBmdW5jdGlvbiAoKSB7CiAgaXQoJ3Nob3VsZCBoaWRlIFJLRTEgYW5kIFJLRTIgdG9nZ2xlIGJ1dHRvbiBpZiBSS0UxIHVpIGZlYXR1cmUgZmxhZyBpcyBOT1Qgc2V0JywgZnVuY3Rpb24gKCkgewogICAgdmFyIGxvY2FsVnVlID0gY3JlYXRlTG9jYWxWdWUoKTsKICAgIGxvY2FsVnVlLnVzZShWdWV4KTsKICAgIHZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICAgICAgbW9kdWxlczogewogICAgICAgIGkxOG46IHsKICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgIHQ6IGplc3QuZm4oKSwKICAgICAgICAgICAgd2l0aEZhbGxiYWNrOiBmdW5jdGlvbiB3aXRoRmFsbGJhY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGplc3QuZm4oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZmVhdHVyZXM6IHsKICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgIHJldHVybiBqZXN0LmZuKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpdGhGYWxsYmFjazogamVzdC5mbigpCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwcmVmczogewogICAgICAgICAgbmFtZXNwYWNlZDogdHJ1ZSwKICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgZ2V0OiBqZXN0LmZuKCkKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1hcEZlYXR1cmU6IHsKICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgIGdldDogamVzdC5mbigpCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAndHlwZS1tYXAnOiB7CiAgICAgICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICBhY3RpdmVQcm9kdWN0czogZnVuY3Rpb24gYWN0aXZlUHJvZHVjdHMoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjYXRhbG9nOiB7CiAgICAgICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICBjaGFydHM6IGZ1bmN0aW9uIGNoYXJ0cygpIHsKICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdldHRlcnM6IHsKICAgICAgICBkZWZhdWx0Q2x1c3RlcklkOiBqZXN0LmZuKCksCiAgICAgICAgY2x1c3RlcklkOiBqZXN0LmZuKCkKICAgICAgfQogICAgfSk7CiAgICB2YXIgd3JhcHBlciA9IHNoYWxsb3dNb3VudChDbHVzdGVyQ3JlYXRlLCB7CiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgcmtlMVVpRW5hYmxlZDogZnVuY3Rpb24gcmtlMVVpRW5hYmxlZCgpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb3BzRGF0YTogewogICAgICAgIHZhbHVlOiB7CiAgICAgICAgICBtZXRhZGF0YToge30sCiAgICAgICAgICBzcGVjOiB7CiAgICAgICAgICAgIHRlbXBsYXRlOiB7fQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVhbE1vZGU6ICcnLAogICAgICAgIG1vZGU6ICdlZGl0JywKICAgICAgICBjb21wb25lbnRUZXN0aWQ6ICdjbHVzdGVyLW1hbmFnZXItY3JlYXRlJwogICAgICB9LAogICAgICBtaXhpbnM6IFtdLAogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIGxvY2FsVnVlOiBsb2NhbFZ1ZSwKICAgICAgbW9ja3M6IHsKICAgICAgICAkcm91dGU6IHsKICAgICAgICAgIHBhcmFtczoge30sCiAgICAgICAgICBxdWVyeToge30KICAgICAgICB9LAogICAgICAgICRyb3V0ZXI6IHsKICAgICAgICAgIGFwcGx5UXVlcnk6IGplc3QuZm4oKQogICAgICAgIH0sCiAgICAgICAgJGZldGNoU3RhdGU6IHsKICAgICAgICAgIHBlbmRpbmc6IGZhbHNlCiAgICAgICAgfQogICAgICB9LAogICAgICBzdHViczogewogICAgICAgIENydVJlc291cmNlOiB7CiAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PHNsb3QgbmFtZT0ic3VidHlwZXMiPjwvc2xvdD48L2Rpdj4nCiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHZhciBlbGVtZW50ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9ImNsdXN0ZXItbWFuYWdlci1jcmVhdGUtcmtlLXN3aXRjaCJdJykuZWxlbWVudDsKICAgIGV4cGVjdChlbGVtZW50KS5ub3QudG9CZURlZmluZWQoKTsKICB9KTsKfSk7"},{"version":3,"names":["shallowMount","createLocalVue","Vuex","ClusterCreate","describe","it","localVue","use","store","Store","modules","i18n","namespaced","getters","t","jest","fn","withFallback","features","get","prefs","mapFeature","activeProducts","catalog","charts","defaultClusterId","clusterId","wrapper","computed","rke1UiEnabled","propsData","value","metadata","spec","template","realMode","mode","componentTestid","mixins","mocks","$route","params","query","$router","applyQuery","$fetchState","pending","stubs","CruResource","element","find","expect","not","toBeDefined"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts"],"sourcesContent":["import { shallowMount, createLocalVue } from '@vue/test-utils';\nimport Vuex from 'vuex';\nimport ClusterCreate from '@shell/edit/provisioning.cattle.io.cluster/index.vue';\n\ndescribe('component: Cluster: Create', () => {\n  it('should hide RKE1 and RKE2 toggle button if RKE1 ui feature flag is NOT set', () => {\n    const localVue = createLocalVue();\n\n    localVue.use(Vuex);\n\n    const store = new Vuex.Store({\n      modules: {\n        i18n: {\n          namespaced: true,\n          getters:    {\n            t:            jest.fn(),\n            withFallback: () => jest.fn(),\n          }\n        },\n        features: {\n          namespaced: true,\n          getters:    {\n            get:          () => jest.fn(),\n            withFallback: jest.fn(),\n          }\n        },\n        prefs: {\n          namespaced: true,\n          getters:    { get: jest.fn() }\n        },\n        mapFeature: {\n          namespaced: true,\n          getters:    { get: jest.fn() }\n        },\n        'type-map': {\n          namespaced: true,\n          getters:    { activeProducts: () => [] }\n        },\n        catalog: {\n          namespaced: true,\n          getters:    { charts: () => [] }\n        }\n      },\n      getters: {\n        defaultClusterId: jest.fn(),\n        clusterId:        jest.fn()\n      }\n    });\n\n    const wrapper = shallowMount(ClusterCreate, {\n      computed:  { rke1UiEnabled: () => false },\n      propsData: {\n        value:           { metadata: {}, spec: { template: {} } },\n        realMode:        '',\n        mode:            'edit',\n        componentTestid: 'cluster-manager-create',\n      },\n      mixins: [],\n      store,\n      localVue,\n      mocks:  {\n        $route:      { params: {}, query: {} },\n        $router:     { applyQuery: jest.fn() },\n        $fetchState: { pending: false },\n      },\n      stubs: { CruResource: { template: '<div><slot name=\"subtypes\"></slot></div>' } }\n    });\n\n    const element = wrapper.find('[data-testid=\"cluster-manager-create-rke-switch\"]').element;\n\n    expect(element).not.toBeDefined();\n  });\n});\n"],"mappings":";;AAAA,SAASA,YAAY,EAAEC,cAAc,QAAQ,iBAAiB;AAC9D,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,aAAa,MAAM,sDAAsD;AAEhFC,QAAQ,CAAC,4BAA4B,EAAE,YAAK;EAC1CC,EAAE,CAAC,4EAA4E,EAAE,YAAK;IACpF,IAAMC,QAAQ,GAAGL,cAAc,EAAE;IAEjCK,QAAQ,CAACC,GAAG,CAACL,IAAI,CAAC;IAElB,IAAMM,KAAK,GAAG,IAAIN,IAAI,CAACO,KAAK,CAAC;MAC3BC,OAAO,EAAE;QACPC,IAAI,EAAE;UACJC,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YACVC,CAAC,EAAaC,IAAI,CAACC,EAAE,EAAE;YACvBC,YAAY,EAAE,SAAdA,YAAYA,CAAA;cAAA,OAAQF,IAAI,CAACC,EAAE,EAAE;YAAA;;SAEhC;QACDE,QAAQ,EAAE;UACRN,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YACVM,GAAG,EAAW,SAAdA,GAAGA,CAAA;cAAA,OAAiBJ,IAAI,CAACC,EAAE,EAAE;YAAA;YAC7BC,YAAY,EAAEF,IAAI,CAACC,EAAE;;SAExB;QACDI,KAAK,EAAE;UACLR,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YAAEM,GAAG,EAAEJ,IAAI,CAACC,EAAE;UAAE;SAC7B;QACDK,UAAU,EAAE;UACVT,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YAAEM,GAAG,EAAEJ,IAAI,CAACC,EAAE;UAAE;SAC7B;QACD,UAAU,EAAE;UACVJ,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YAAES,cAAc,EAAE,SAAhBA,cAAcA,CAAA;cAAA,OAAQ,EAAE;YAAA;UAAA;SACvC;QACDC,OAAO,EAAE;UACPX,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAK;YAAEW,MAAM,EAAE,SAARA,MAAMA,CAAA;cAAA,OAAQ,EAAE;YAAA;UAAA;;OAEjC;MACDX,OAAO,EAAE;QACPY,gBAAgB,EAAEV,IAAI,CAACC,EAAE,EAAE;QAC3BU,SAAS,EAASX,IAAI,CAACC,EAAE;;KAE5B,CAAC;IAEF,IAAMW,OAAO,GAAG3B,YAAY,CAACG,aAAa,EAAE;MAC1CyB,QAAQ,EAAG;QAAEC,aAAa,EAAE,SAAfA,aAAaA,CAAA;UAAA,OAAQ,KAAK;QAAA;MAAA,CAAE;MACzCC,SAAS,EAAE;QACTC,KAAK,EAAY;UAAEC,QAAQ,EAAE,EAAE;UAAEC,IAAI,EAAE;YAAEC,QAAQ,EAAE;UAAE;QAAE,CAAE;QACzDC,QAAQ,EAAS,EAAE;QACnBC,IAAI,EAAa,MAAM;QACvBC,eAAe,EAAE;OAClB;MACDC,MAAM,EAAE,EAAE;MACV9B,KAAK,EAALA,KAAK;MACLF,QAAQ,EAARA,QAAQ;MACRiC,KAAK,EAAG;QACNC,MAAM,EAAO;UAAEC,MAAM,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAE,CAAE;QACtCC,OAAO,EAAM;UAAEC,UAAU,EAAE7B,IAAI,CAACC,EAAE;QAAE,CAAE;QACtC6B,WAAW,EAAE;UAAEC,OAAO,EAAE;QAAK;OAC9B;MACDC,KAAK,EAAE;QAAEC,WAAW,EAAE;UAAEd,QAAQ,EAAE;QAA0C;MAAE;KAC/E,CAAC;IAEF,IAAMe,OAAO,GAAGtB,OAAO,CAACuB,IAAI,CAAC,mDAAmD,CAAC,CAACD,OAAO;IAEzFE,MAAM,CAACF,OAAO,CAAC,CAACG,GAAG,CAACC,WAAW,EAAE;EACnC,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}