{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCB7IExPR0dJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgc2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB1bmlxIGZyb20gJ2xvZGFzaC91bmlxJzsKaW1wb3J0IFN0ZXZlTW9kZWwgZnJvbSAnQHNoZWxsL3BsdWdpbnMvc3RldmUvc3RldmUtY2xhc3MnOwpleHBvcnQgZnVuY3Rpb24gbWF0Y2hSdWxlSXNQb3B1bGF0ZWQocnVsZSkgewogIHZhciBfcnVsZSRob3N0cywgX3J1bGUkY29udGFpbmVyX25hbWVzLCBfcnVsZSRuYW1lc3BhY2VzOwogIGlmICghcnVsZSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICBpZiAocnVsZS5sYWJlbHMgJiYgT2JqZWN0LmtleXMocnVsZS5sYWJlbHMpLmxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIGlmICgoX3J1bGUkaG9zdHMgPSBydWxlLmhvc3RzKSAhPT0gbnVsbCAmJiBfcnVsZSRob3N0cyAhPT0gdm9pZCAwICYmIF9ydWxlJGhvc3RzLmxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIGlmICgoX3J1bGUkY29udGFpbmVyX25hbWVzID0gcnVsZS5jb250YWluZXJfbmFtZXMpICE9PSBudWxsICYmIF9ydWxlJGNvbnRhaW5lcl9uYW1lcyAhPT0gdm9pZCAwICYmIF9ydWxlJGNvbnRhaW5lcl9uYW1lcy5sZW5ndGgpIHsKICAgIHJldHVybiB0cnVlOwogIH0KICBpZiAoKF9ydWxlJG5hbWVzcGFjZXMgPSBydWxlLm5hbWVzcGFjZXMpICE9PSBudWxsICYmIF9ydWxlJG5hbWVzcGFjZXMgIT09IHZvaWQgMCAmJiBfcnVsZSRuYW1lc3BhY2VzLmxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIHJldHVybiBmYWxzZTsKfQp2YXIgTG9nRmxvdyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0ZXZlTW9kZWwpIHsKICBmdW5jdGlvbiBMb2dGbG93KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ0Zsb3cpOwogICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgTG9nRmxvdywgYXJndW1lbnRzKTsKICB9CiAgX2luaGVyaXRzKExvZ0Zsb3csIF9TdGV2ZU1vZGVsKTsKICByZXR1cm4gX2NyZWF0ZUNsYXNzKExvZ0Zsb3csIFt7CiAgICBrZXk6ICJhcHBseURlZmF1bHRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseURlZmF1bHRzKCkgewogICAgICBzZXQodGhpcywgJ3NwZWMnLCB0aGlzLnNwZWMgfHwge30pOwogICAgICBzZXQodGhpcy5zcGVjLCAnbWF0Y2gnLCB0aGlzLnNwZWMubWF0Y2ggfHwgW10pOwogICAgICBzZXQodGhpcy5zcGVjLCAnZmlsdGVycycsIHRoaXMuc3BlYy5maWx0ZXJzIHx8IFtdKTsKICAgICAgc2V0KHRoaXMuc3BlYywgJ2xvY2FsT3V0cHV0UmVmcycsIHRoaXMuc3BlYy5sb2NhbE91dHB1dFJlZnMgfHwgW10pOwogICAgICBzZXQodGhpcy5zcGVjLCAnZ2xvYmFsT3V0cHV0UmVmcycsIHRoaXMuc3BlYy5nbG9iYWxPdXRwdXRSZWZzIHx8IFtdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5DdXN0b21FZGl0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzsKICAgICAgaWYgKCEoKF90aGlzJHNwZWMgPSB0aGlzLnNwZWMpICE9PSBudWxsICYmIF90aGlzJHNwZWMgIT09IHZvaWQgMCAmJiAoX3RoaXMkc3BlYyA9IF90aGlzJHNwZWMubWF0Y2gpICE9PSBudWxsICYmIF90aGlzJHNwZWMgIT09IHZvaWQgMCAmJiBfdGhpcyRzcGVjLmxlbmd0aCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICB2YXIgb3V0ID0gdHJ1ZTsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuc3BlYy5tYXRjaCksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBtYXRjaCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgaWYgKG1hdGNoUnVsZUlzUG9wdWxhdGVkKG1hdGNoLnNlbGVjdCkgJiYgbWF0Y2hSdWxlSXNQb3B1bGF0ZWQobWF0Y2guZXhjbHVkZSkpIHsKICAgICAgICAgICAgb3V0ID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWxsT3V0cHV0cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydjbHVzdGVyL2FsbCddKExPR0dJTkcuT1VUUFVUKSB8fCBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbGxDbHVzdGVyT3V0cHV0cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydjbHVzdGVyL2FsbCddKExPR0dJTkcuQ0xVU1RFUl9PVVRQVVQpIHx8IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogIm91dHB1dHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjMjsKICAgICAgdmFyIGxvY2FsT3V0cHV0UmVmcyA9ICgoX3RoaXMkc3BlYzIgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjMi5sb2NhbE91dHB1dFJlZnMpIHx8IFtdOwogICAgICByZXR1cm4gdGhpcy5hbGxPdXRwdXRzLmZpbHRlcihmdW5jdGlvbiAob3V0cHV0KSB7CiAgICAgICAgcmV0dXJuIGxvY2FsT3V0cHV0UmVmcy5pbmNsdWRlcyhvdXRwdXQubmFtZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm91dHB1dHNTb3J0YWJsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGRpc3BsYXlzID0gdGhpcy5vdXRwdXRzLm1hcChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLm5hbWVEaXNwbGF5OwogICAgICB9KTsKICAgICAgZGlzcGxheXMuc29ydCgpOwogICAgICByZXR1cm4gZGlzcGxheXMuam9pbignJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2x1c3Rlck91dHB1dHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjMzsKICAgICAgdmFyIGdsb2JhbE91dHB1dFJlZnMgPSAoKF90aGlzJHNwZWMzID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzMuZ2xvYmFsT3V0cHV0UmVmcykgfHwgW107CiAgICAgIGlmICh0aGlzLmFsbENsdXN0ZXJPdXRwdXRzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWxsQ2x1c3Rlck91dHB1dHMuZmlsdGVyKGZ1bmN0aW9uIChvdXRwdXQpIHsKICAgICAgICAgIHJldHVybiBnbG9iYWxPdXRwdXRSZWZzLmluY2x1ZGVzKG91dHB1dC5uYW1lKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24KICAgICAgICAvLyB0byBzZWUgQ2x1c3Rlck91dHB1dHMKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbHVzdGVyT3V0cHV0c1NvcnRhYmxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgZGlzcGxheXMgPSB0aGlzLmNsdXN0ZXJPdXRwdXRzLm1hcChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLm5hbWVEaXNwbGF5OwogICAgICB9KTsKICAgICAgZGlzcGxheXMuc29ydCgpOwogICAgICByZXR1cm4gZGlzcGxheXMuam9pbignJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJzRGlzcGxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGNvbWJpbmVkT3V0cHV0cyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5vdXRwdXRzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2x1c3Rlck91dHB1dHMpKTsKICAgICAgdmFyIGR1cGxpY2F0ZWRQcm92aWRlcnMgPSBjb21iaW5lZE91dHB1dHMuZmxhdE1hcChmdW5jdGlvbiAob3V0cHV0KSB7CiAgICAgICAgcmV0dXJuIG91dHB1dC5wcm92aWRlcnNEaXNwbGF5OwogICAgICB9KTsKICAgICAgcmV0dXJuIHVuaXEoZHVwbGljYXRlZFByb3ZpZGVycykgfHwgW107CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VzdG9tVmFsaWRhdGlvblJ1bGVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBwYXRoOiAnc3BlYycsCiAgICAgICAgdmFsaWRhdG9yczogWydmbG93T3V0cHV0OnZlcmlmeUxvY2FsJ10KICAgICAgfV07CiAgICB9CiAgfV0pOwp9KFN0ZXZlTW9kZWwpOwpleHBvcnQgeyBMb2dGbG93IGFzIGRlZmF1bHQgfTs="},{"version":3,"names":["LOGGING","set","uniq","SteveModel","matchRuleIsPopulated","rule","_rule$hosts","_rule$container_names","_rule$namespaces","labels","Object","keys","length","hosts","container_names","namespaces","LogFlow","_SteveModel","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","applyDefaults","spec","match","filters","localOutputRefs","globalOutputRefs","get","_this$spec","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","select","exclude","err","e","f","$rootGetters","OUTPUT","CLUSTER_OUTPUT","_this$spec2","allOutputs","filter","output","includes","name","displays","outputs","map","o","nameDisplay","sort","join","_this$spec3","allClusterOutputs","clusterOutputs","combinedOutputs","concat","_toConsumableArray","duplicatedProviders","flatMap","providersDisplay","path","validators","default"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js"],"sourcesContent":["import { LOGGING } from '@shell/config/types';\nimport { set } from '@shell/utils/object';\nimport uniq from 'lodash/uniq';\nimport SteveModel from '@shell/plugins/steve/steve-class';\n\nexport function matchRuleIsPopulated(rule) {\n  if ( !rule ) {\n    return false;\n  }\n\n  if ( rule.labels && Object.keys(rule.labels).length ) {\n    return true;\n  }\n\n  if ( rule.hosts?.length ) {\n    return true;\n  }\n\n  if ( rule.container_names?.length ) {\n    return true;\n  }\n\n  if ( rule.namespaces?.length ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport default class LogFlow extends SteveModel {\n  applyDefaults() {\n    set(this, 'spec', this.spec || {});\n    set(this.spec, 'match', this.spec.match || []);\n    set(this.spec, 'filters', this.spec.filters || []);\n    set(this.spec, 'localOutputRefs', this.spec.localOutputRefs || []);\n    set(this.spec, 'globalOutputRefs', this.spec.globalOutputRefs || []);\n  }\n\n  get canCustomEdit() {\n    if ( !this.spec?.match?.length ) {\n      return true;\n    }\n\n    let out = true;\n\n    for ( const match of this.spec.match ) {\n      if ( matchRuleIsPopulated(match.select) && matchRuleIsPopulated(match.exclude) ) {\n        out = false;\n        break;\n      }\n    }\n\n    return out;\n  }\n\n  get allOutputs() {\n    return this.$rootGetters['cluster/all'](LOGGING.OUTPUT) || [];\n  }\n\n  get allClusterOutputs() {\n    return this.$rootGetters['cluster/all'](LOGGING.CLUSTER_OUTPUT) || [];\n  }\n\n  get outputs() {\n    const localOutputRefs = this.spec?.localOutputRefs || [];\n\n    return this.allOutputs.filter((output) => localOutputRefs.includes(output.name));\n  }\n\n  get outputsSortable() {\n    const displays = this.outputs.map((o) => o.nameDisplay);\n\n    displays.sort();\n\n    return displays.join('');\n  }\n\n  get clusterOutputs() {\n    const globalOutputRefs = this.spec?.globalOutputRefs || [];\n\n    if (this.allClusterOutputs) {\n      return this.allClusterOutputs.filter((output) => globalOutputRefs.includes(output.name));\n    } else {\n      // Handle the case where the user doesn't have permission\n      // to see ClusterOutputs\n      return [];\n    }\n  }\n\n  get clusterOutputsSortable() {\n    const displays = this.clusterOutputs.map((o) => o.nameDisplay);\n\n    displays.sort();\n\n    return displays.join('');\n  }\n\n  get providersDisplay() {\n    const combinedOutputs = [...this.outputs, ...this.clusterOutputs];\n    const duplicatedProviders = combinedOutputs\n      .flatMap((output) => output.providersDisplay);\n\n    return uniq(duplicatedProviders) || [];\n  }\n\n  get customValidationRules() {\n    return [\n      {\n        path:       'spec',\n        validators: ['flowOutput:verifyLocal'],\n      },\n    ];\n  }\n}\n"],"mappings":"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","ignoreList":[]}]}