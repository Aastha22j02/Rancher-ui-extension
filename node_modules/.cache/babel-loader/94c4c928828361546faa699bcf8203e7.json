{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgTWdtdE5vZGUgZnJvbSAnQHNoZWxsL21vZGVscy9tYW5hZ2VtZW50LmNhdHRsZS5pby5ub2RlJzsKZGVzY3JpYmUoJ2NsYXNzIE1nbXROb2RlJywgZnVuY3Rpb24gKCkgewogIHZhciBmb28gPSAnZm9vJzsKICB2YXIgYmFyID0gJ2Jhcic7CiAgdmFyIHQgPSBqZXN0LmZuKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBiYXI7CiAgfSk7CiAgdmFyIGN0eCA9IHsKICAgIHJvb3RHZXR0ZXJzOiB7CiAgICAgICdpMThuL3QnOiB0CiAgICB9CiAgfTsKICB2YXIgcmVzZXRNb2NrcyA9IGZ1bmN0aW9uIHJlc2V0TW9ja3MoKSB7CiAgICAvLyBDbGVhciBhbGwgbW9jayBmdW5jdGlvbiBjYWxsczoKICAgIGplc3QuY2xlYXJBbGxNb2NrcygpOwogIH07CiAgaXQoJ3Nob3VsZCBub3QgcmV0dXJuIGFkZHJlc3NlcyBpZiB0aGV5IGFyZSBub3QgcHJlc2VudCBpbiB0aGUgcmVzb3VyY2Ugc3RhdHVzLCB0aGUgaW50ZXJuYWxOb2RlU3RhdHVzLCBvciB0aGUgcmtlTm9kZSBrZXkgaW4gc3RhdHVzJywgZnVuY3Rpb24gKCkgewogICAgdmFyIG1nbXROb2RlID0gbmV3IE1nbXROb2RlKHsKICAgICAgc3RhdHVzOiB7fQogICAgfSk7CiAgICBleHBlY3QobWdtdE5vZGUuYWRkcmVzc2VzKS50b1N0cmljdEVxdWFsKFtdKTsKICAgIHJlc2V0TW9ja3MoKTsKICB9KTsKICBkZXNjcmliZSgnc2hvdWxkIHJldHVybiBhZGRyZXNzZXMnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWRkcmVzc2VzID0gW2Zvb107CiAgICBpdCgnaWYgdGhleSBhcmUgcHJlc2VudCBkaXJlY3RseSBvbiB0aGUgcmVzb3VyY2Ugc3RhdHVzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHBlY3QobWdtdE5vZGUuYWRkcmVzc2VzKS50b1N0cmljdEVxdWFsKGFkZHJlc3Nlcyk7CiAgICB9KTsKICAgIGl0KCdpZiB0aGV5IGFyZSBub3QgcHJlc2VudCBkaXJlY3RseSBvbiB0aGUgcmVzb3VyY2Ugc3RhdHVzIGJ1dCBhcmUgb24gInN0YXR1cy5pbnRlcm5hbE5vZGVTdGF0dXMiJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgaW50ZXJuYWxOb2RlU3RhdHVzOiB7CiAgICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXhwZWN0KG1nbXROb2RlLmFkZHJlc3NlcykudG9TdHJpY3RFcXVhbChhZGRyZXNzZXMpOwogICAgfSk7CiAgfSk7CiAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gaW50ZXJuYWxJcCcsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZGRyZXNzZXMgPSBbewogICAgICB0eXBlOiAnSW50ZXJuYWxJUCcsCiAgICAgIGFkZHJlc3M6IGZvbwogICAgfV07CiAgICB2YXIgaW50ZXJuYWxBZGRyZXNzID0gZm9vOwogICAgaXQoJ2lmIGFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHBlY3QobWdtdE5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgfSk7CiAgICBpdCgnaWYgaW50ZXJuYWxOb2RlU3RhdHVzLmFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgaW50ZXJuYWxOb2RlU3RhdHVzOiB7CiAgICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXhwZWN0KG1nbXROb2RlLmludGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgIH0pOwogICAgaXQoJ2lmIGFkZHJlc3NlcyBhbmQgaW50ZXJuYWxOb2RlU3RhdHVzLmFkZHJlc3NlcyBkbyBub3QgcHJvdmlkZSBhbiBpbnRlcm5hbCBpcCBhbmQgdGhlIHN0YXR1cyBpbmNsdWRlcyBhbiBya2VOb2RlIGtleSB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7CiAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICBya2VOb2RlOiB7CiAgICAgICAgICAgIGludGVybmFsQWRkcmVzczogaW50ZXJuYWxBZGRyZXNzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXhwZWN0KG1nbXROb2RlLmludGVybmFsSXApLnRvU3RyaWN0RXF1YWwoaW50ZXJuYWxBZGRyZXNzKTsKICAgIH0pOwogIH0pOwogIGRlc2NyaWJlKCdzaG91bGQgcmV0dXJuIGFuIGV4dGVybmFsSXAnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWRkcmVzc2VzID0gW3sKICAgICAgdHlwZTogJ0V4dGVybmFsSVAnLAogICAgICBhZGRyZXNzOiBmb28KICAgIH1dOwogICAgdmFyIGFkZHJlc3MgPSBmb287CiAgICBpdCgnaWYgYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7CiAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICBhZGRyZXNzZXM6IGFkZHJlc3NlcwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGV4cGVjdChtZ210Tm9kZS5leHRlcm5hbElwKS50b1N0cmljdEVxdWFsKGZvbyk7CiAgICB9KTsKICAgIGl0KCdpZiBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7CiAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICBpbnRlcm5hbE5vZGVTdGF0dXM6IHsKICAgICAgICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHBlY3QobWdtdE5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgfSk7CiAgICBpdCgnaWYgYWRkcmVzc2VzIGFuZCBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGRvIG5vdCBwcm92aWRlIGFuIGV4dGVybmFsIGlwIGFuZCB0aGUgc3RhdHVzIGluY2x1ZGVzIGFuIHJrZU5vZGUga2V5IHdpdGggYW4gYXBwcm9wcmlhdGUgdHlwZSBhbmQgYWRkcmVzcycsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG1nbXROb2RlID0gbmV3IE1nbXROb2RlKHsKICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgIHJrZU5vZGU6IHsKICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGV4cGVjdChtZ210Tm9kZS5leHRlcm5hbElwKS50b1N0cmljdEVxdWFsKGFkZHJlc3MpOwogICAgfSk7CiAgfSk7CiAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gYXBwcm9wcmlhdGUgbWVzc2FnZScsIGZ1bmN0aW9uICgpIHsKICAgIGl0KCdpZiB0aGVyZSBpcyBubyBpbnRlcm5hbElwIHRvIGRpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7CiAgICAgICAgc3RhdHVzOiB7fQogICAgICB9LCBjdHgpOwogICAgICBleHBlY3QobWdtdE5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChiYXIpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dlbmVyaWMubm9uZScpOwogICAgICByZXNldE1vY2tzKCk7CiAgICB9KTsKICAgIGl0KCdpZiB0aGVyZSBpcyBubyBleHRlcm5hbElwIHRvIGRpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7CiAgICAgICAgc3RhdHVzOiB7fQogICAgICB9LCBjdHgpOwogICAgICBleHBlY3QobWdtdE5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChiYXIpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dlbmVyaWMubm9uZScpOwogICAgICByZXNldE1vY2tzKCk7CiAgICB9KTsKICB9KTsKICBkZXNjcmliZSgnY2FuU2NhbGVEb3duJywgZnVuY3Rpb24gKCkgewogICAgdmFyIG1nbXRDbHVzdGVySWQgPSAndGVzdCc7CiAgICB2YXIgbm9kZUlkID0gJ3Rlc3QvaWQnOwogICAgdmFyIHNwZWNzID0gewogICAgICB3b3JrZXI6IHsKICAgICAgICB3b3JrZXI6IHRydWUsCiAgICAgICAgZXRjZDogZmFsc2UsCiAgICAgICAgY29udHJvbFBsYW5lOiBmYWxzZQogICAgICB9LAogICAgICBldGNkOiB7CiAgICAgICAgd29ya2VyOiBmYWxzZSwKICAgICAgICBldGNkOiB0cnVlLAogICAgICAgIGNvbnRyb2xQbGFuZTogZmFsc2UKICAgICAgfSwKICAgICAgY29udHJvbFBsYW5lOiB7CiAgICAgICAgd29ya2VyOiBmYWxzZSwKICAgICAgICBldGNkOiBmYWxzZSwKICAgICAgICBjb250cm9sUGxhbmU6IHRydWUKICAgICAgfSwKICAgICAgZXRjZEFuZENvbnRyb2xQbGFuZTogewogICAgICAgIHdvcmtlcjogZmFsc2UsCiAgICAgICAgZXRjZDogdHJ1ZSwKICAgICAgICBjb250cm9sUGxhbmU6IHRydWUKICAgICAgfSwKICAgICAgYWxsOiB7CiAgICAgICAgd29ya2VyOiB0cnVlLAogICAgICAgIGV0Y2Q6IHRydWUsCiAgICAgICAgY29udHJvbFBsYW5lOiB0cnVlCiAgICAgIH0KICAgIH07CiAgICB2YXIgd29ya2VyTm9kZSA9IHsKICAgICAgaWQ6ICcwMScsCiAgICAgIGlzV29ya2VyOiB0cnVlLAogICAgICBpc0NvbnRyb2xQbGFuZTogZmFsc2UsCiAgICAgIGlzRXRjZDogZmFsc2UKICAgIH07CiAgICB2YXIgZXRjZE5vZGUgPSB7CiAgICAgIGlkOiAnMDInLAogICAgICBpc1dvcmtlcjogZmFsc2UsCiAgICAgIGlzQ29udHJvbFBsYW5lOiBmYWxzZSwKICAgICAgaXNFdGNkOiB0cnVlCiAgICB9OwogICAgdmFyIGNvbnRyb2xQbGFuZU5vZGUgPSB7CiAgICAgIGlkOiAnMDMnLAogICAgICBpc1dvcmtlcjogZmFsc2UsCiAgICAgIGlzQ29udHJvbFBsYW5lOiB0cnVlLAogICAgICBpc0V0Y2Q6IGZhbHNlCiAgICB9OwogICAgdmFyIGV0Y2RBbmRDb250cm9sUGxhbmVOb2RlID0gewogICAgICBpZDogJzAzJywKICAgICAgaXNXb3JrZXI6IGZhbHNlLAogICAgICBpc0NvbnRyb2xQbGFuZTogdHJ1ZSwKICAgICAgaXNFdGNkOiB0cnVlCiAgICB9OwogICAgdmFyIGFsbE5vZGUgPSB7CiAgICAgIGlkOiAnMDQnLAogICAgICBpc1dvcmtlcjogdHJ1ZSwKICAgICAgaXNDb250cm9sUGxhbmU6IHRydWUsCiAgICAgIGlzRXRjZDogdHJ1ZQogICAgfTsKICAgIHZhciBiYXNlQ3R4ID0gewogICAgICByb290R2V0dGVyczogewogICAgICAgICdyYW5jaGVyL2J5SWQnOiBmdW5jdGlvbiByYW5jaGVyX2J5SWQoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3Rpb25zOiB7CiAgICAgICAgICAgICAgc2NhbGVkb3duOiAnc2NhbGVkb3duJwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgJ2kxOG4vdCc6IHQKICAgICAgfQogICAgfTsKICAgIGl0LmVhY2goW1t7CiAgICAgIHNwZWM6IHNwZWNzLndvcmtlciwKICAgICAgbm9kZXM6IFt3b3JrZXJOb2RlXQogICAgfSwgdHJ1ZV0sIFt7CiAgICAgIHNwZWM6IHNwZWNzLmV0Y2QsCiAgICAgIG5vZGVzOiBbZXRjZE5vZGUsIGV0Y2ROb2RlLCBjb250cm9sUGxhbmVOb2RlXQogICAgfSwgdHJ1ZV0sIFt7CiAgICAgIHNwZWM6IHNwZWNzLmV0Y2RBbmRDb250cm9sUGxhbmUsCiAgICAgIG5vZGVzOiBbZXRjZEFuZENvbnRyb2xQbGFuZU5vZGUsIGV0Y2RBbmRDb250cm9sUGxhbmVOb2RlXQogICAgfSwgdHJ1ZV0sIFt7CiAgICAgIHNwZWM6IHNwZWNzLmV0Y2RBbmRDb250cm9sUGxhbmUsCiAgICAgIG5vZGVzOiBbZXRjZEFuZENvbnRyb2xQbGFuZU5vZGVdCiAgICB9LCBmYWxzZV0sIFt7CiAgICAgIHNwZWM6IHNwZWNzLmFsbCwKICAgICAgbm9kZXM6IFthbGxOb2RlXQogICAgfSwgZmFsc2VdLCBbewogICAgICBzcGVjOiBzcGVjcy5hbGwsCiAgICAgIG5vZGVzOiBbYWxsTm9kZSwgYWxsTm9kZV0KICAgIH0sIHRydWVdXSkoJ3Nob3VsZCByZXR1cm4gY2FuU2NhbGVEb3duIHByb3Blcmx5JywgZnVuY3Rpb24gKGRhdGEsIGV4cGVjdGVkKSB7CiAgICAgIHZhciBzcGVjID0gZGF0YS5zcGVjLAogICAgICAgIG5vZGVzID0gZGF0YS5ub2RlczsKICAgICAgdmFyIG1nbXROb2RlID0gbmV3IE1nbXROb2RlKHsKICAgICAgICBzcGVjOiBzcGVjLAogICAgICAgIGlkOiBub2RlSWQKICAgICAgfSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ3R4KSwge30sIHsKICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICBhbGw6IGZ1bmN0aW9uIGFsbCgpIHsKICAgICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgbWdtdENsdXN0ZXJJZDogbWdtdENsdXN0ZXJJZCwKICAgICAgICAgICAgICBub2Rlczogbm9kZXMKICAgICAgICAgICAgfV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSk7CiAgICAgIGV4cGVjdChtZ210Tm9kZS5jYW5TY2FsZURvd24pLnRvU3RyaWN0RXF1YWwoZXhwZWN0ZWQpOwogICAgfSk7CiAgfSk7Cn0pOw=="},{"version":3,"names":["MgmtNode","describe","foo","bar","t","jest","fn","ctx","rootGetters","resetMocks","clearAllMocks","it","mgmtNode","status","expect","addresses","toStrictEqual","internalNodeStatus","type","address","internalAddress","internalIp","rkeNode","externalIp","toHaveBeenCalledTimes","toHaveBeenCalledWith","mgmtClusterId","nodeId","specs","worker","etcd","controlPlane","etcdAndControlPlane","all","workerNode","id","isWorker","isControlPlane","isEtcd","etcdNode","controlPlaneNode","etcdAndControlPlaneNode","allNode","baseCtx","rancher_byId","actions","scaledown","each","spec","nodes","data","expected","_objectSpread","getters","canScaleDown"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts"],"sourcesContent":["import MgmtNode from '@shell/models/management.cattle.io.node';\n\ndescribe('class MgmtNode', () => {\n  const foo = 'foo';\n  const bar = 'bar';\n  const t = jest.fn(() => bar);\n  const ctx = { rootGetters: { 'i18n/t': t } };\n\n  const resetMocks = () => {\n    // Clear all mock function calls:\n    jest.clearAllMocks();\n  };\n\n  it('should not return addresses if they are not present in the resource status, the internalNodeStatus, or the rkeNode key in status', () => {\n    const mgmtNode = new MgmtNode({ status: {} });\n\n    expect(mgmtNode.addresses).toStrictEqual([]);\n    resetMocks();\n  });\n\n  describe('should return addresses', () => {\n    const addresses = [foo];\n\n    it('if they are present directly on the resource status', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.addresses).toStrictEqual(addresses);\n    });\n    it('if they are not present directly on the resource status but are on \"status.internalNodeStatus\"', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.addresses).toStrictEqual(addresses);\n    });\n  });\n\n  describe('should return an internalIp', () => {\n    const addresses = [{ type: 'InternalIP', address: foo }];\n    const internalAddress = foo;\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(foo);\n    });\n    it('if addresses and internalNodeStatus.addresses do not provide an internal ip and the status includes an rkeNode key with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { rkeNode: { internalAddress } } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(internalAddress);\n    });\n  });\n\n  describe('should return an externalIp', () => {\n    const addresses = [{ type: 'ExternalIP', address: foo }];\n    const address = foo;\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(foo);\n    });\n    it('if addresses and internalNodeStatus.addresses do not provide an external ip and the status includes an rkeNode key with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { rkeNode: { address } } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(address);\n    });\n  });\n\n  describe('should return an appropriate message', () => {\n    it('if there is no internalIp to display', () => {\n      const mgmtNode = new MgmtNode({ status: {} }, ctx);\n\n      expect(mgmtNode.internalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n    it('if there is no externalIp to display', () => {\n      const mgmtNode = new MgmtNode({ status: {} }, ctx);\n\n      expect(mgmtNode.externalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n  });\n\n  describe('canScaleDown', () => {\n    const mgmtClusterId = 'test';\n    const nodeId = 'test/id';\n    const specs = {\n      worker: {\n        worker: true, etcd: false, controlPlane: false\n      },\n      etcd: {\n        worker: false, etcd: true, controlPlane: false\n      },\n      controlPlane: {\n        worker: false, etcd: false, controlPlane: true\n      },\n      etcdAndControlPlane: {\n        worker: false, etcd: true, controlPlane: true\n      },\n      all: {\n        worker: true, etcd: true, controlPlane: true\n      }\n    };\n\n    const workerNode = {\n      id:             '01',\n      isWorker:       true,\n      isControlPlane: false,\n      isEtcd:         false\n    };\n    const etcdNode = {\n      id:             '02',\n      isWorker:       false,\n      isControlPlane: false,\n      isEtcd:         true\n    };\n    const controlPlaneNode = {\n      id:             '03',\n      isWorker:       false,\n      isControlPlane: true,\n      isEtcd:         false\n    };\n    const etcdAndControlPlaneNode = {\n      id:             '03',\n      isWorker:       false,\n      isControlPlane: true,\n      isEtcd:         true\n    };\n    const allNode = {\n      id:             '04',\n      isWorker:       true,\n      isControlPlane: true,\n      isEtcd:         true\n    };\n\n    const baseCtx = {\n      rootGetters: {\n        'rancher/byId': () => ({ actions: { scaledown: 'scaledown' } }),\n        'i18n/t':       t\n      }\n    };\n\n    it.each([\n      [{ spec: specs.worker, nodes: [workerNode] }, true],\n      [{ spec: specs.etcd, nodes: [etcdNode, etcdNode, controlPlaneNode] }, true],\n      [{ spec: specs.etcdAndControlPlane, nodes: [etcdAndControlPlaneNode, etcdAndControlPlaneNode] }, true],\n      [{ spec: specs.etcdAndControlPlane, nodes: [etcdAndControlPlaneNode] }, false],\n      [{ spec: specs.all, nodes: [allNode] }, false],\n      [{ spec: specs.all, nodes: [allNode, allNode] }, true],\n    ])('should return canScaleDown properly', (data, expected) => {\n      const { spec, nodes } = data;\n      const mgmtNode = new MgmtNode({\n        spec,\n        id: nodeId\n      }, {\n        ...baseCtx,\n        getters: {\n          all: () => [{\n            mgmtClusterId,\n            nodes\n          }]\n        }\n      });\n\n      expect(mgmtNode.canScaleDown).toStrictEqual(expected);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}