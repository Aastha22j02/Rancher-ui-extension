{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/EtcdInfoBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/EtcdInfoBanner.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGhhc0xlYWRlciwgbGVhZGVyQ2hhbmdlcywgZmFpbGVkUHJvcG9zYWxzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2dyYWZhbmEnOwppbXBvcnQgeyBDQVRBTE9HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXI6IEJhbm5lciwKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgaW5TdG9yZSwgbW9uaXRvcmluZ1ZlcnNpb24sIHJlcywgbGVhZGVyOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaW5TdG9yZSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLmluU3RvcmU7CiAgICAgICAgICAgIG1vbml0b3JpbmdWZXJzaW9uID0gJyc7CiAgICAgICAgICAgIGlmICghX3RoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KGluU3RvcmUsICIvY2FuTGlzdCIpXShDQVRBTE9HLkFQUCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCIiLmNvbmNhdChpblN0b3JlLCAiL2ZpbmQiKSwgewogICAgICAgICAgICAgIHR5cGU6IENBVEFMT0cuQVBQLAogICAgICAgICAgICAgIGlkOiAnY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3JhbmNoZXItbW9uaXRvcmluZycKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIG1vbml0b3JpbmdWZXJzaW9uID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmN1cnJlbnRWZXJzaW9uOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gaGFzTGVhZGVyKG1vbml0b3JpbmdWZXJzaW9uLCBfdGhpcy4kc3RvcmUuZGlzcGF0Y2gsIF90aGlzLmN1cnJlbnRDbHVzdGVyLmlkKTsKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGxlYWRlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmhhc0xlYWRlciA9IGxlYWRlciA/ICdZZXMnIDogJ05vJzsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICByZXR1cm4gbGVhZGVyQ2hhbmdlcyhtb25pdG9yaW5nVmVyc2lvbiwgX3RoaXMuJHN0b3JlLmRpc3BhdGNoLCBfdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCk7CiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfdGhpcy5sZWFkZXJDaGFuZ2VzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICByZXR1cm4gZmFpbGVkUHJvcG9zYWxzKG1vbml0b3JpbmdWZXJzaW9uLCBfdGhpcy4kc3RvcmUuZGlzcGF0Y2gsIF90aGlzLmN1cnJlbnRDbHVzdGVyLmlkKTsKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIF90aGlzLmZhaWxlZFByb3Bvc2FscyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTBdXSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNMZWFkZXI6ICdObycsCiAgICAgIGxlYWRlckNoYW5nZXM6IDAsCiAgICAgIGZhaWxlZFByb3Bvc2FsczogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSkpCn07"},{"version":3,"names":["Banner","Loading","mapGetters","hasLeader","leaderChanges","failedProposals","CATALOG","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inStore","monitoringVersion","res","leader","wrap","_callee$","_context","prev","next","$store","getters","concat","APP","dispatch","type","id","sent","currentVersion","t0","currentCluster","stop","data","computed","_objectSpread"],"sources":["node_modules/@rancher/shell/components/EtcdInfoBanner.vue"],"sourcesContent":["<script>\r\nimport { Banner } from '@components/Banner';\r\nimport Loading from '@shell/components/Loading';\r\nimport { mapGetters } from 'vuex';\r\nimport { hasLeader, leaderChanges, failedProposals } from '@shell/utils/grafana';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentProduct'].inStore;\r\n    let monitoringVersion = '';\r\n\r\n    if (this.$store.getters[`${ inStore }/canList`](CATALOG.APP)) {\r\n      try {\r\n        const res = await this.$store.dispatch(`${ inStore }/find`, { type: CATALOG.APP, id: 'cattle-monitoring-system/rancher-monitoring' });\r\n\r\n        monitoringVersion = res?.currentVersion;\r\n      } catch (err) {\r\n\r\n      }\r\n    }\r\n\r\n    const leader = await hasLeader(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n\r\n    this.hasLeader = leader ? 'Yes' : 'No';\r\n    this.leaderChanges = await leaderChanges(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n    this.failedProposals = await failedProposals(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n  },\r\n  data() {\r\n    return {\r\n      hasLeader:       'No',\r\n      leaderChanges:   0,\r\n      failedProposals: 0\r\n    };\r\n  },\r\n  computed: { ...mapGetters(['currentCluster']) }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Loading v-if=\"$fetchState.pending\" />\r\n  <Banner\r\n    v-else\r\n    class=\"banner\"\r\n    color=\"info\"\r\n  >\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.hasLeader') }}</label> {{ hasLeader }},\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.leaderChanges') }}</label> {{ leaderChanges }},\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.failedProposals') }}</label> {{ failedProposals }}\r\n    </div>\r\n  </Banner>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n    .banner {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n\r\n        .datum {\r\n            text-align: center;\r\n            margin-right: 5px;\r\n        }\r\n\r\n        & ::v-deep label {\r\n            color: var(--info);\r\n        }\r\n    }\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;AACA,SAAAA,MAAA;AACA,OAAAC,OAAA;AACA,SAAAC,UAAA;AACA,SAAAC,SAAA,EAAAC,aAAA,EAAAC,eAAA;AACA,SAAAC,OAAA;AAEA;EACAC,UAAA;IAAAP,MAAA,EAAAA,MAAA;IAAAC,OAAA,EAAAA;EAAA;EACAO,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,OAAA,EAAAC,iBAAA,EAAAC,GAAA,EAAAC,MAAA;MAAA,OAAAN,mBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAR,OAAA,GAAAL,KAAA,CAAAc,MAAA,CAAAC,OAAA,mBAAAV,OAAA;YACAC,iBAAA;YAAA,KAEAN,KAAA,CAAAc,MAAA,CAAAC,OAAA,IAAAC,MAAA,CAAAX,OAAA,eAAAR,OAAA,CAAAoB,GAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAEAb,KAAA,CAAAc,MAAA,CAAAI,QAAA,IAAAF,MAAA,CAAAX,OAAA;cAAAc,IAAA,EAAAtB,OAAA,CAAAoB,GAAA;cAAAG,EAAA;YAAA;UAAA;YAAAb,GAAA,GAAAI,QAAA,CAAAU,IAAA;YAEAf,iBAAA,GAAAC,GAAA,aAAAA,GAAA,uBAAAA,GAAA,CAAAe,cAAA;YAAAX,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;UAAA;YAAAA,QAAA,CAAAE,IAAA;YAAA,OAMAnB,SAAA,CAAAY,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAAZ,MAAA,GAAAG,QAAA,CAAAU,IAAA;YAEArB,KAAA,CAAAN,SAAA,GAAAc,MAAA;YAAAG,QAAA,CAAAE,IAAA;YAAA,OACAlB,aAAA,CAAAW,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAApB,KAAA,CAAAL,aAAA,GAAAgB,QAAA,CAAAU,IAAA;YAAAV,QAAA,CAAAE,IAAA;YAAA,OACAjB,eAAA,CAAAU,iBAAA,EAAAN,KAAA,CAAAc,MAAA,CAAAI,QAAA,EAAAlB,KAAA,CAAAwB,cAAA,CAAAJ,EAAA;UAAA;YAAApB,KAAA,CAAAJ,eAAA,GAAAe,QAAA,CAAAU,IAAA;UAAA;UAAA;YAAA,OAAAV,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAArB,OAAA;IAAA;EACA;EACAsB,IAAA,WAAAA,KAAA;IACA;MACAhC,SAAA;MACAC,aAAA;MACAC,eAAA;IACA;EACA;EACA+B,QAAA,EAAAC,aAAA,KAAAnC,UAAA;AACA","ignoreList":[]}]}