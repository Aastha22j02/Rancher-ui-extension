{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFNlbGVjdEljb25HcmlkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NlbGVjdEljb25HcmlkJzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBNT0RFLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgYXV0aFByb3ZpZGVyc0luZm8gfSBmcm9tICdAc2hlbGwvdXRpbHMvYXV0aCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2VsZWN0SWNvbkdyaWQ6IFNlbGVjdEljb25HcmlkLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGF1dGhQcm92czsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXV0aFByb3ZpZGVyc0luZm8oX3RoaXMuJHN0b3JlKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgYXV0aFByb3ZzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaWYgKCFhdXRoUHJvdnMuZW5hYmxlZExvY2F0aW9uKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJHJvdXRlci5yZXBsYWNlKGF1dGhQcm92cy5lbmFibGVkTG9jYXRpb24pKTsKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgX3RoaXMuJHNldChfdGhpcywgJ2VuYWJsZWQnLCBhdXRoUHJvdnMuZW5hYmxlZCk7CiAgICAgICAgICAgIF90aGlzLiRzZXQoX3RoaXMsICdub25Mb2NhbCcsIGF1dGhQcm92cy5ub25Mb2NhbCk7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgcmVzb3VyY2UgPSBNQU5BR0VNRU5ULkFVVEhfQ09ORklHOwogICAgdmFyIGdldHRlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzOwogICAgdmFyIGluU3RvcmUgPSBnZXR0ZXJzWydjdXJyZW50U3RvcmUnXShyZXNvdXJjZSk7CiAgICB2YXIgaGFzTGlzdENvbXBvbmVudCA9IGdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbUxpc3QnXShyZXNvdXJjZSk7CiAgICB2YXIgaGFzRWRpdENvbXBvbmVudCA9IGdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbUVkaXQnXShyZXNvdXJjZSk7CiAgICB2YXIgc2NoZW1hID0gZ2V0dGVyc1siIi5jb25jYXQoaW5TdG9yZSwgIi9zY2hlbWFGb3IiKV0ocmVzb3VyY2UpOwogICAgcmV0dXJuIHsKICAgICAgcmVzb3VyY2U6IHJlc291cmNlLAogICAgICBzY2hlbWE6IHNjaGVtYSwKICAgICAgaGFzTGlzdENvbXBvbmVudDogaGFzTGlzdENvbXBvbmVudCwKICAgICAgaGFzRWRpdENvbXBvbmVudDogaGFzRWRpdENvbXBvbmVudCwKICAgICAgLy8gUHJvdmlkZWQgYnkgZmV0Y2ggbGF0ZXIKICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgIG5vbkxvY2FsOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvd3M6IGZ1bmN0aW9uIHJvd3MoKSB7CiAgICAgIHJldHVybiBzb3J0QnkodGhpcy5ub25Mb2NhbCwgWydzaWRlTGFiZWwnLCAnbmFtZURpc3BsYXknXSk7CiAgICB9LAogICAgZGlzcGxheU5hbWU6IGZ1bmN0aW9uIGRpc3BsYXlOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvbGFiZWxGb3InXSh0aGlzLnNjaGVtYSwgMik7CiAgICB9LAogICAgbG9jYWxVc2Vyc1JvdXRlOiBmdW5jdGlvbiBsb2NhbFVzZXJzUm91dGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyLAogICAgICAgICAgcHJvZHVjdDogJ2F1dGgnLAogICAgICAgICAgcmVzb3VyY2U6IE1BTkFHRU1FTlQuVVNFUgogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbG9yRm9yOiBmdW5jdGlvbiBjb2xvckZvcihyb3cpIHsKICAgICAgdmFyIHR5cGVzID0gWydsZGFwJywgJ29hdXRoJywgJ3NhbWwnLCAnb2lkYyddOwogICAgICB2YXIgaWR4ID0gdHlwZXMuaW5kZXhPZihyb3cuY29uZmlnVHlwZSk7CiAgICAgIGlmIChpZHggPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICdjb2xvcjgnOwogICAgICB9CiAgICAgIHJldHVybiAiY29sb3IiLmNvbmNhdChpZHggKyAxKTsKICAgIH0sCiAgICBnb1RvOiBmdW5jdGlvbiBnb1RvKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWF1dGgtY29uZmlnLWlkJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgTU9ERSwgX0VESVQpCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["MANAGEMENT","SelectIconGrid","sortBy","MODE","_EDIT","authProvidersInfo","Banner","Loading","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","authProvs","wrap","_callee$","_context","prev","next","$store","sent","enabledLocation","abrupt","$router","replace","$set","enabled","nonLocal","stop","data","resource","AUTH_CONFIG","getters","inStore","hasListComponent","hasEditComponent","schema","concat","computed","rows","displayName","localUsersRoute","name","params","cluster","$route","product","USER","methods","colorFor","row","types","idx","indexOf","configType","goTo","id","push","query","_defineProperty"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue"],"sourcesContent":["<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\n\nexport default {\n  components: {\n    SelectIconGrid, Banner, Loading\n  },\n\n  async fetch() {\n    const authProvs = await authProvidersInfo(this.$store);\n\n    if (!!authProvs.enabledLocation) {\n      return this.$router.replace(authProvs.enabledLocation);\n    }\n\n    this.$set(this, 'enabled', authProvs.enabled);\n    this.$set(this, 'nonLocal', authProvs.nonLocal);\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by fetch later\n      enabled:  false,\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <router-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </router-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;;;AACA,SAAAA,UAAA;AACA,OAAAC,cAAA;AACA,SAAAC,MAAA;AACA,SAAAC,IAAA,EAAAC,KAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,MAAA;AACA,OAAAC,OAAA;AAEA;EACAC,UAAA;IACAP,cAAA,EAAAA,cAAA;IAAAK,MAAA,EAAAA,MAAA;IAAAC,OAAA,EAAAA;EACA;EAEAE,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,SAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAf,iBAAA,CAAAK,KAAA,CAAAW,MAAA;UAAA;YAAAN,SAAA,GAAAG,QAAA,CAAAI,IAAA;YAAA,IAEA,CAAAP,SAAA,CAAAQ,eAAA;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,OAAAF,QAAA,CAAAM,MAAA,WACAd,KAAA,CAAAe,OAAA,CAAAC,OAAA,CAAAX,SAAA,CAAAQ,eAAA;UAAA;YAGAb,KAAA,CAAAiB,IAAA,CAAAjB,KAAA,aAAAK,SAAA,CAAAa,OAAA;YACAlB,KAAA,CAAAiB,IAAA,CAAAjB,KAAA,cAAAK,SAAA,CAAAc,QAAA;UAAA;UAAA;YAAA,OAAAX,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;EAEAiB,IAAA,WAAAA,KAAA;IACA,IAAAC,QAAA,GAAAhC,UAAA,CAAAiC,WAAA;IACA,IAAAC,OAAA,QAAAb,MAAA,CAAAa,OAAA;IACA,IAAAC,OAAA,GAAAD,OAAA,iBAAAF,QAAA;IACA,IAAAI,gBAAA,GAAAF,OAAA,2BAAAF,QAAA;IACA,IAAAK,gBAAA,GAAAH,OAAA,2BAAAF,QAAA;IACA,IAAAM,MAAA,GAAAJ,OAAA,IAAAK,MAAA,CAAAJ,OAAA,iBAAAH,QAAA;IAEA;MACAA,QAAA,EAAAA,QAAA;MACAM,MAAA,EAAAA,MAAA;MACAF,gBAAA,EAAAA,gBAAA;MACAC,gBAAA,EAAAA,gBAAA;MAEA;MACAT,OAAA;MACAC,QAAA;IACA;EACA;EAEAW,QAAA;IACAC,IAAA,WAAAA,KAAA;MACA,OAAAvC,MAAA,MAAA2B,QAAA;IACA;IAEAa,WAAA,WAAAA,YAAA;MACA,YAAArB,MAAA,CAAAa,OAAA,2BAAAI,MAAA;IACA;IAEAK,eAAA,WAAAA,gBAAA;MACA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAC,MAAA,CAAAF,MAAA,CAAAC,OAAA;UAAAE,OAAA;UAAAhB,QAAA,EAAAhC,UAAA,CAAAiD;QACA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,QAAA,WAAAA,SAAAC,GAAA;MACA,IAAAC,KAAA;MAEA,IAAAC,GAAA,GAAAD,KAAA,CAAAE,OAAA,CAAAH,GAAA,CAAAI,UAAA;MAEA,IAAAF,GAAA;QACA;MACA;MAEA,eAAAf,MAAA,CAAAe,GAAA;IACA;IAEAG,IAAA,WAAAA,KAAAC,EAAA;MACA,KAAAjC,OAAA,CAAAkC,IAAA;QACAf,IAAA;QACAC,MAAA;UAAAa,EAAA,EAAAA;QAAA;QACAE,KAAA,EAAAC,eAAA,KAAA1D,IAAA,EAAAC,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}