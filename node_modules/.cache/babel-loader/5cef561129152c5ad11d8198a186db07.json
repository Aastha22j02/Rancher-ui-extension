{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFJlc291cmNlVGFicyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1Jlc291cmNlVGFicyc7CmltcG9ydCBGbGVldFN1bW1hcnkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZmxlZXQvRmxlZXRTdW1tYXJ5JzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IEZsZWV0UmVzb3VyY2VzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L0ZsZWV0UmVzb3VyY2VzJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IHsgRkxFRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgaXNIYXJ2ZXN0ZXJDbHVzdGVyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2NsdXN0ZXInOwppbXBvcnQgRmxlZXRCdW5kbGVzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L0ZsZWV0QnVuZGxlcy52dWUnOwppbXBvcnQgeyByZXNvdXJjZUNvdW50cyB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlU3VtbWFyeS52dWUnOwppbXBvcnQgeyBjaGVja1NjaGVtYXNGb3JGaW5kQWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9hdXRoJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXRhaWxHaXRSZXBvJywKICBjb21wb25lbnRzOiB7CiAgICBGbGVldFJlc291cmNlczogRmxlZXRSZXNvdXJjZXMsCiAgICBGbGVldFN1bW1hcnk6IEZsZWV0U3VtbWFyeSwKICAgIEJhbm5lcjogQmFubmVyLAogICAgUmVzb3VyY2VUYWJzOiBSZXNvdXJjZVRhYnMsCiAgICBUYWI6IFRhYiwKICAgIEZsZWV0QnVuZGxlczogRmxlZXRCdW5kbGVzCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbEZsZWV0OiBbXSwKICAgICAgYWxsQnVuZGxlczogW10sCiAgICAgIGFsbEJ1bmRsZURlcGxveW1lbnRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnaXRSZXBvSGFzQ2x1c3RlcnM6IGZ1bmN0aW9uIGdpdFJlcG9IYXNDbHVzdGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3RhdHVzLmRlc2lyZWRSZWFkeUNsdXN0ZXJzOwogICAgfSwKICAgIGhhcnZlc3RlckNsdXN0ZXJzOiBmdW5jdGlvbiBoYXJ2ZXN0ZXJDbHVzdGVycygpIHsKICAgICAgdmFyIGhhcnZlc3RlciA9IHt9OwogICAgICB0aGlzLmFsbEZsZWV0LmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICBpZiAoaXNIYXJ2ZXN0ZXJDbHVzdGVyKGMpKSB7CiAgICAgICAgICBoYXJ2ZXN0ZXJbYy5tZXRhZGF0YS5uYW1lXSA9IGM7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGhhcnZlc3RlcjsKICAgIH0sCiAgICBidW5kbGVDb3VudHM6IGZ1bmN0aW9uIGJ1bmRsZUNvdW50cygpIHsKICAgICAgcmV0dXJuIHJlc291cmNlQ291bnRzKHRoaXMuJHN0b3JlLCBGTEVFVC5CVU5ETEUpOwogICAgfSwKICAgIGJ1bmRsZXM6IGZ1bmN0aW9uIGJ1bmRsZXMoKSB7CiAgICAgIHZhciBoYXJ2ZXN0ZXIgPSB0aGlzLmhhcnZlc3RlckNsdXN0ZXJzOwogICAgICB2YXIgYnVuZGxlcyA9IHRoaXMuYWxsQnVuZGxlcy5maWx0ZXIoZnVuY3Rpb24gKGJ1bmRsZSkgewogICAgICAgIHZhciBfYnVuZGxlJHNwZWM7CiAgICAgICAgdmFyIHRhcmdldHMgPSAoKF9idW5kbGUkc3BlYyA9IGJ1bmRsZS5zcGVjKSA9PT0gbnVsbCB8fCBfYnVuZGxlJHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9idW5kbGUkc3BlYy50YXJnZXRzKSB8fCBbXTsKCiAgICAgICAgLy8gRmlsdGVyIG91dCBhbnkgYnVuZGxlIHRoYXQgaGFzIG9uZSB0YXJnZXQgd2hvc2UgY2x1c3RlciBpcyBhIGhhcnZlc3RlciBjbHVzdGVyCiAgICAgICAgaWYgKHRhcmdldHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gIWhhcnZlc3Rlclt0YXJnZXRzWzBdLmNsdXN0ZXJOYW1lXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gYnVuZGxlczsKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGFsbERpc3BhdGNoZXM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGNoZWNrU2NoZW1hc0ZvckZpbmRBbGxIYXNoKHsKICAgICAgICAgICAgICBhbGxCdW5kbGVzOiB7CiAgICAgICAgICAgICAgICBpblN0b3JlVHlwZTogJ21hbmFnZW1lbnQnLAogICAgICAgICAgICAgICAgdHlwZTogRkxFRVQuQlVORExFCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhbGxCdW5kbGVEZXBsb3ltZW50czogewogICAgICAgICAgICAgICAgaW5TdG9yZVR5cGU6ICdtYW5hZ2VtZW50JywKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULkJVTkRMRV9ERVBMT1lNRU5UCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhbGxGbGVldDogewogICAgICAgICAgICAgICAgaW5TdG9yZVR5cGU6ICdtYW5hZ2VtZW50JywKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULkNMVVNURVIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNsdXN0ZXJHcm91cHM6IHsKICAgICAgICAgICAgICAgIGluU3RvcmVUeXBlOiAnbWFuYWdlbWVudCcsCiAgICAgICAgICAgICAgICB0eXBlOiBGTEVFVC5DTFVTVEVSX0dST1VQCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfdGhpcy4kc3RvcmUpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBhbGxEaXNwYXRjaGVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuYWxsQnVuZGxlRGVwbG95bWVudHMgPSBhbGxEaXNwYXRjaGVzLmFsbEJ1bmRsZURlcGxveW1lbnRzIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5hbGxCdW5kbGVzID0gYWxsRGlzcGF0Y2hlcy5hbGxCdW5kbGVzIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5hbGxGbGVldCA9IGFsbERpc3BhdGNoZXMuYWxsRmxlZXQgfHwgW107CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["ResourceTabs","FleetSummary","Banner","FleetResources","Tab","FLEET","isHarvesterCluster","FleetBundles","resourceCounts","checkSchemasForFindAllHash","name","components","props","value","type","Object","required","data","allFleet","allBundles","allBundleDeployments","computed","gitRepoHasClusters","status","desiredReadyClusters","harvesterClusters","harvester","forEach","c","metadata","bundleCounts","$store","BUNDLE","bundles","filter","bundle","_bundle$spec","targets","spec","length","clusterName","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","allDispatches","wrap","_callee$","_context","prev","next","inStoreType","BUNDLE_DEPLOYMENT","CLUSTER","clusterGroups","CLUSTER_GROUP","sent","stop"],"sources":["node_modules/@rancher/shell/detail/fleet.cattle.io.gitrepo.vue"],"sourcesContent":["<script>\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport FleetSummary from '@shell/components/fleet/FleetSummary';\nimport { Banner } from '@components/Banner';\nimport FleetResources from '@shell/components/fleet/FleetResources';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { FLEET } from '@shell/config/types';\nimport { isHarvesterCluster } from '@shell/utils/cluster';\nimport FleetBundles from '@shell/components/fleet/FleetBundles.vue';\nimport { resourceCounts } from '@shell/components/ResourceSummary.vue';\nimport { checkSchemasForFindAllHash } from '@shell/utils/auth';\n\nexport default {\n  name: 'DetailGitRepo',\n\n  components: {\n    FleetResources,\n    FleetSummary,\n    Banner,\n    ResourceTabs,\n    Tab,\n    FleetBundles,\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      allFleet:             [],\n      allBundles:           [],\n      allBundleDeployments: [],\n    };\n  },\n\n  computed: {\n\n    gitRepoHasClusters() {\n      return this.value.status.desiredReadyClusters;\n    },\n    harvesterClusters() {\n      const harvester = {};\n\n      this.allFleet.forEach((c) => {\n        if (isHarvesterCluster(c)) {\n          harvester[c.metadata.name] = c;\n        }\n      });\n\n      return harvester;\n    },\n\n    bundleCounts() {\n      return resourceCounts(this.$store, FLEET.BUNDLE);\n    },\n    bundles() {\n      const harvester = this.harvesterClusters;\n\n      const bundles = this.allBundles.filter((bundle) => {\n        const targets = bundle.spec?.targets || [];\n\n        // Filter out any bundle that has one target whose cluster is a harvester cluster\n        if (targets.length === 1) {\n          return !harvester[targets[0].clusterName];\n        }\n\n        return true;\n      });\n\n      return bundles;\n    },\n  },\n  async fetch() {\n    const allDispatches = await checkSchemasForFindAllHash({\n      allBundles: {\n        inStoreType: 'management',\n        type:        FLEET.BUNDLE\n      },\n\n      allBundleDeployments: {\n        inStoreType: 'management',\n        type:        FLEET.BUNDLE_DEPLOYMENT\n      },\n\n      allFleet: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER\n      },\n      clusterGroups: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER_GROUP\n      }\n    }, this.$store);\n\n    this.allBundleDeployments = allDispatches.allBundleDeployments || [];\n    this.allBundles = allDispatches.allBundles || [];\n    this.allFleet = allDispatches.allFleet || [];\n  },\n\n};\n</script>\n\n<template>\n  <div class=\"mt-20\">\n    <FleetSummary\n      v-if=\"gitRepoHasClusters\"\n      :value=\"value\"\n      :bundles=\"bundles\"\n      class=\"mb-20\"\n    />\n    <Banner\n      v-else\n      color=\"info\"\n      class=\"mb-20\"\n    >\n      {{ t('fleet.fleetSummary.noClustersGitRepo') }}\n    </Banner>\n    <ResourceTabs\n      v-model=\"value\"\n      mode=\"view\"\n      class=\"mt-20\"\n      :need-related=\"false\"\n    >\n      <Tab\n        v-if=\"!!allBundles.length\"\n        label=\"Bundles\"\n        name=\"bundles\"\n        :weight=\"30\"\n      >\n        <FleetBundles :value=\"value\" />\n      </Tab>\n      <Tab\n        label=\"Resources\"\n        name=\"resources\"\n        :weight=\"20\"\n      >\n        <FleetResources :value=\"value\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n"],"mappings":";;;;;;;AACA,OAAAA,YAAA;AACA,OAAAC,YAAA;AACA,SAAAC,MAAA;AACA,OAAAC,cAAA;AACA,OAAAC,GAAA;AACA,SAAAC,KAAA;AACA,SAAAC,kBAAA;AACA,OAAAC,YAAA;AACA,SAAAC,cAAA;AACA,SAAAC,0BAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAR,cAAA,EAAAA,cAAA;IACAF,YAAA,EAAAA,YAAA;IACAC,MAAA,EAAAA,MAAA;IACAF,YAAA,EAAAA,YAAA;IACAI,GAAA,EAAAA,GAAA;IACAG,YAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,UAAA;MACAC,oBAAA;IACA;EACA;EAEAC,QAAA;IAEAC,kBAAA,WAAAA,mBAAA;MACA,YAAAT,KAAA,CAAAU,MAAA,CAAAC,oBAAA;IACA;IACAC,iBAAA,WAAAA,kBAAA;MACA,IAAAC,SAAA;MAEA,KAAAR,QAAA,CAAAS,OAAA,WAAAC,CAAA;QACA,IAAAtB,kBAAA,CAAAsB,CAAA;UACAF,SAAA,CAAAE,CAAA,CAAAC,QAAA,CAAAnB,IAAA,IAAAkB,CAAA;QACA;MACA;MAEA,OAAAF,SAAA;IACA;IAEAI,YAAA,WAAAA,aAAA;MACA,OAAAtB,cAAA,MAAAuB,MAAA,EAAA1B,KAAA,CAAA2B,MAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MACA,IAAAP,SAAA,QAAAD,iBAAA;MAEA,IAAAQ,OAAA,QAAAd,UAAA,CAAAe,MAAA,WAAAC,MAAA;QAAA,IAAAC,YAAA;QACA,IAAAC,OAAA,KAAAD,YAAA,GAAAD,MAAA,CAAAG,IAAA,cAAAF,YAAA,uBAAAA,YAAA,CAAAC,OAAA;;QAEA;QACA,IAAAA,OAAA,CAAAE,MAAA;UACA,QAAAb,SAAA,CAAAW,OAAA,IAAAG,WAAA;QACA;QAEA;MACA;MAEA,OAAAP,OAAA;IACA;EACA;EACAQ,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,aAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACA3C,0BAAA;cACAU,UAAA;gBACAkC,WAAA;gBACAvC,IAAA,EAAAT,KAAA,CAAA2B;cACA;cAEAZ,oBAAA;gBACAiC,WAAA;gBACAvC,IAAA,EAAAT,KAAA,CAAAiD;cACA;cAEApC,QAAA;gBACAmC,WAAA;gBACAvC,IAAA,EAAAT,KAAA,CAAAkD;cACA;cACAC,aAAA;gBACAH,WAAA;gBACAvC,IAAA,EAAAT,KAAA,CAAAoD;cACA;YACA,GAAAf,KAAA,CAAAX,MAAA;UAAA;YAnBAgB,aAAA,GAAAG,QAAA,CAAAQ,IAAA;YAqBAhB,KAAA,CAAAtB,oBAAA,GAAA2B,aAAA,CAAA3B,oBAAA;YACAsB,KAAA,CAAAvB,UAAA,GAAA4B,aAAA,CAAA5B,UAAA;YACAuB,KAAA,CAAAxB,QAAA,GAAA6B,aAAA,CAAA7B,QAAA;UAAA;UAAA;YAAA,OAAAgC,QAAA,CAAAS,IAAA;QAAA;MAAA,GAAAb,OAAA;IAAA;EACA;AAEA","ignoreList":[]}]}