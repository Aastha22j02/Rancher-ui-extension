{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/auth.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/auth.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHsgUG9wdXAsIHBvcHVwV2luZG93T3B0aW9ucyB9IGZyb20gJ0BzaGVsbC91dGlscy93aW5kb3cnOwppbXBvcnQgeyBwYXJzZSBhcyBwYXJzZVVybCwgYWRkUGFyYW0gfSBmcm9tICdAc2hlbGwvdXRpbHMvdXJsJzsKaW1wb3J0IHsgQkFDS19UTywgU1BBLCBfRURJVCwgX0ZMQUdHRUQsIFRJTUVEX09VVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCwgTk9STUFOIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IGdldFByb2R1Y3RGcm9tUm91dGUsIGdldFJlc291cmNlRnJvbVJvdXRlIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3JvdXRlcic7CmltcG9ydCB7IE5BTUUgYXMgRVhQTE9SRVIgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvZXhwbG9yZXInOwppbXBvcnQgeyBmaW5kQnkgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwpleHBvcnQgZnVuY3Rpb24gb3BlbkF1dGhQb3B1cCh1cmwsIHByb3ZpZGVyKSB7CiAgdmFyIHBvcHVwID0gbmV3IFBvcHVwKGZ1bmN0aW9uICgpIHsKICAgIHBvcHVwLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHBvcHVwLnJlc29sdmUgPSByZXNvbHZlOwogICAgICBwb3B1cC5yZWplY3QgPSByZWplY3Q7CiAgICB9KTsKICAgIHdpbmRvdy5vbkF1dGhUZXN0ID0gZnVuY3Rpb24gKGVycm9yLCBjb2RlKSB7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHBvcHVwLnJlamVjdChlcnJvcik7CiAgICAgIH0KICAgICAgZGVsZXRlIHdpbmRvdy5vbkF1dGhUZXN0OwogICAgICBwb3B1cC5yZXNvbHZlKGNvZGUpOwogICAgfTsKICB9LCBmdW5jdGlvbiAoKSB7CiAgICBwb3B1cC5yZWplY3QobmV3IEVycm9yKCdBY2Nlc3Mgd2FzIG5vdCBhdXRob3JpemVkJykpOwogIH0pOwogIHBvcHVwLm9wZW4odXJsLCAnYXV0aC10ZXN0JywgcG9wdXBXaW5kb3dPcHRpb25zKCkpOwogIHJldHVybiBwb3B1cC5wcm9taXNlOwp9CmV4cG9ydCBmdW5jdGlvbiByZXR1cm5UbyhvcHQsIHZtKSB7CiAgdmFyIF9vcHQkcm91dGUgPSBvcHQucm91dGUsCiAgICByb3V0ZSA9IF9vcHQkcm91dGUgPT09IHZvaWQgMCA/ICIvYXV0aC92ZXJpZnkiIDogX29wdCRyb3V0ZTsKICBpZiAodm0uJHJvdXRlci5vcHRpb25zICYmIHZtLiRyb3V0ZXIub3B0aW9ucy5iYXNlKSB7CiAgICB2YXIgcm91dGVyQmFzZSA9IHZtLiRyb3V0ZXIub3B0aW9ucy5iYXNlOwogICAgaWYgKHJvdXRlckJhc2UgIT09ICcvJykgewogICAgICByb3V0ZSA9ICIiLmNvbmNhdChyb3V0ZXJCYXNlLnJlcGxhY2UoL1wvKyQvLCAnJyksICIvIikuY29uY2F0KHJvdXRlLnJlcGxhY2UoL15cLysvLCAnJykpOwogICAgfQogIH0KICB2YXIgcmV0dXJuVG9VcmwgPSAiIi5jb25jYXQod2luZG93LmxvY2F0aW9uLm9yaWdpbikuY29uY2F0KHJvdXRlKTsKICB2YXIgcGFyc2VkID0gcGFyc2VVcmwod2luZG93LmxvY2F0aW9uLmhyZWYpOwogIGlmIChwYXJzZWQucXVlcnkuc3BhICE9PSB1bmRlZmluZWQpIHsKICAgIHJldHVyblRvVXJsID0gYWRkUGFyYW0ocmV0dXJuVG9VcmwsIFNQQSwgX0ZMQUdHRUQpOwogIH0KICBpZiAob3B0LmJhY2tUbykgewogICAgcmV0dXJuVG9VcmwgPSBhZGRQYXJhbShyZXR1cm5Ub1VybCwgQkFDS19UTywgb3B0LmJhY2tUbyk7CiAgfQogIGlmIChvcHQuY29uZmlnKSB7CiAgICByZXR1cm5Ub1VybCA9IGFkZFBhcmFtKHJldHVyblRvVXJsLCAnY29uZmlnJywgb3B0LmNvbmZpZyk7CiAgfQogIHJldHVybiByZXR1cm5Ub1VybDsKfQoKLyoqDQogKiBEZXRlcm1pbmVzIGNvbW1vbiBhdXRoIHByb3ZpZGVyIGluZm8gYXMgdGhvc2UgdGhhdCBhcmUgYXZhaWxhYmxlIChub24tbG9jYWwpIGFuZCB0aGUgbG9jYXRpb24gb2YgdGhlIGVuYWJsZWQgcHJvdmlkZXINCiAqLwpleHBvcnQgdmFyIGF1dGhQcm92aWRlcnNJbmZvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShzdG9yZSkgewogICAgdmFyIHJvd3MsIG5vbkxvY2FsLCBlbmFibGVkLCBzdXBwb3J0ZWROb25Mb2NhbCwgZW5hYmxlZExvY2F0aW9uOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCJtYW5hZ2VtZW50L2ZpbmRBbGwiLCB7CiAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuQVVUSF9DT05GSUcKICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJvd3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgbm9uTG9jYWwgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgICByZXR1cm4geC5uYW1lICE9PSAnbG9jYWwnOwogICAgICAgICAgfSk7CiAgICAgICAgICBlbmFibGVkID0gbm9uTG9jYWwuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmVuYWJsZWQgPT09IHRydWU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHN1cHBvcnRlZE5vbkxvY2FsID0gbm9uTG9jYWwuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmlkICE9PSAnb2lkYyc7CiAgICAgICAgICB9KTsKICAgICAgICAgIGVuYWJsZWRMb2NhdGlvbiA9IGVuYWJsZWQubGVuZ3RoID09PSAxID8gewogICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWF1dGgtY29uZmlnLWlkJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgaWQ6IGVuYWJsZWRbMF0uaWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICBtb2RlOiBfRURJVAogICAgICAgICAgICB9CiAgICAgICAgICB9IDogbnVsbDsKICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgbm9uTG9jYWw6IHN1cHBvcnRlZE5vbkxvY2FsLAogICAgICAgICAgICBlbmFibGVkTG9jYXRpb246IGVuYWJsZWRMb2NhdGlvbiwKICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZAogICAgICAgICAgfSk7CiAgICAgICAgY2FzZSA4OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIGZ1bmN0aW9uIGF1dGhQcm92aWRlcnNJbmZvKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKZXhwb3J0IHZhciBjaGVja1NjaGVtYXNGb3JGaW5kQWxsSGFzaCA9IGZ1bmN0aW9uIGNoZWNrU2NoZW1hc0ZvckZpbmRBbGxIYXNoKHR5cGVzLCBzdG9yZSkgewogIHZhciBoYXNoID0ge307CiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0eXBlcyk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykgewogICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLAogICAgICBrZXkgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sCiAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwogICAgdmFyIHNjaGVtYSA9IHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KHZhbHVlLmluU3RvcmVUeXBlLCAiL3NjaGVtYUZvciIpXSh2YWx1ZS50eXBlKTsKCiAgICAvLyBJdCBjb3VsZCBiZSB0aGF0IHVzZXIgaGFzIHBlcm1pc3Npb25zIGZvciBHRVQgYnV0IG5vdCBsaXN0CiAgICAvLyBlLmcuIFN0YW5kYXJkIHVzZXIgd2l0aCBHaXRSZXBvIHBlcm1pc3Npb25zIHRyeSB0byBmZXRjaCBsaXN0IG9mIGZsZWV0d29ya3NwYWNlcwogICAgLy8gdXNlciBoYXMgYWJpbGl0eSB0byBHRVQgYnV0IG5vdCBmbGVldCB3b3Jrc3BhY2VzCiAgICAvLyBzbyBvcHRpb25hbGx5IGRlZmluZSBhIGZ1bmN0aW9uIHRoYXQgcmVxdWlyZSBpdCB0byBwYXNzIGJlZm9yZSAvZmluZEFsbAogICAgdmFyIHZhbGlkU2NoZW1hID0gdmFsdWUuc2NoZW1hVmFsaWRhdG9yID8gdmFsdWUuc2NoZW1hVmFsaWRhdG9yKHNjaGVtYSkgOiAhIXNjaGVtYTsKICAgIGlmICh2YWxpZFNjaGVtYSkgewogICAgICBoYXNoW2tleV0gPSBzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQodmFsdWUuaW5TdG9yZVR5cGUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgdHlwZTogdmFsdWUudHlwZQogICAgICB9KTsKICAgIH0KICB9CiAgcmV0dXJuIGFsbEhhc2goaGFzaCk7Cn07CmV4cG9ydCB2YXIgY2hlY2tQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uIGNoZWNrUGVybWlzc2lvbnModHlwZXMsIGdldHRlcnMpIHsKICB2YXIgaGFzaCA9IHt9OwogIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICB2YXIgX09iamVjdCRlbnRyaWVzMiRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllczJbX2kyXSwgMiksCiAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzMiRfaVswXSwKICAgICAgICB2YWx1ZSA9IF9PYmplY3QkZW50cmllczIkX2lbMV07CiAgICAgIHZhciBzY2hlbWEgPSBnZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKHZhbHVlLnR5cGUpOwogICAgICBpZiAoIXNjaGVtYSkgewogICAgICAgIGhhc2hba2V5XSA9IGZhbHNlOwogICAgICAgIHJldHVybiAwOyAvLyBjb250aW51ZQogICAgICB9CgogICAgICAvLyBJdCBjb3VsZCBiZSB0aGF0IHVzZXIgaGFzIHBlcm1pc3Npb25zIGZvciBHRVQgYnV0IG5vdCBsaXN0CiAgICAgIC8vIGUuZy4gU3RhbmRhcmQgdXNlciB3aXRoIEdpdFJlcG8gcGVybWlzc2lvbnMgdHJ5IHRvIGZldGNoIGxpc3Qgb2YgZmxlZXR3b3Jrc3BhY2VzCiAgICAgIC8vIHVzZXIgaGFzIGFiaWxpdHkgdG8gR0VUIGJ1dCBub3QgZmxlZXQgd29ya3NwYWNlcwogICAgICAvLyBzbyBvcHRpb25hbGx5IGRlZmluZSBhIGZ1bmN0aW9uIHRoYXQgcmVxdWlyZSBpdCB0byBwYXNzIGJlZm9yZSAvZmluZEFsbAogICAgICBpZiAodmFsdWUuc2NoZW1hVmFsaWRhdG9yKSB7CiAgICAgICAgaGFzaFtrZXldID0gdmFsdWUuc2NoZW1hVmFsaWRhdG9yKHNjaGVtYSk7CiAgICAgICAgcmV0dXJuIDA7IC8vIGNvbnRpbnVlCiAgICAgIH0KICAgICAgaWYgKHZhbHVlLnJlc291cmNlTWV0aG9kcyAmJiBzY2hlbWEpIHsKICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZS5yZXNvdXJjZU1ldGhvZHMuZXZlcnkoZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIChzY2hlbWEucmVzb3VyY2VNZXRob2RzIHx8IFtdKS5pbmNsdWRlcyhtZXRob2QpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiAwOyAvLyBjb250aW51ZQogICAgICB9CiAgICAgIGlmICh2YWx1ZS5jb2xsZWN0aW9uTWV0aG9kcyAmJiBzY2hlbWEpIHsKICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZS5jb2xsZWN0aW9uTWV0aG9kcy5ldmVyeShmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICByZXR1cm4gKHNjaGVtYS5jb2xsZWN0aW9uTWV0aG9kcyB8fCBbXSkuaW5jbHVkZXMobWV0aG9kKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gMDsgLy8gY29udGludWUKICAgICAgfQogICAgICBoYXNoW2tleV0gPSAhIXNjaGVtYTsKICAgIH0sCiAgICBfcmV0OwogIGZvciAodmFyIF9pMiA9IDAsIF9PYmplY3QkZW50cmllczIgPSBPYmplY3QuZW50cmllcyh0eXBlcyk7IF9pMiA8IF9PYmplY3QkZW50cmllczIubGVuZ3RoOyBfaTIrKykgewogICAgX3JldCA9IF9sb29wKCk7CiAgICBpZiAoX3JldCA9PT0gMCkgY29udGludWU7CiAgfQogIHJldHVybiBhbGxIYXNoKGhhc2gpOwp9OwpleHBvcnQgdmFyIGNhblZpZXdSZXNvdXJjZSA9IGZ1bmN0aW9uIGNhblZpZXdSZXNvdXJjZShzdG9yZSwgcmVzb3VyY2UpIHsKICAvLyBOb3RlIC0gZG9uJ3QgdXNlIHRoZSBjdXJyZW50IHByb2R1Y3RzIHN0b3JlLi4uIGJlY2F1c2UgcHJvZHVjdHMgY2FuIG92ZXJyaWRlIHN0b3JlcyBmb3IgcmVzb3VyY2VzIHdpdGggYHR5cGVTdG9yZU1hcGAKICB2YXIgaW5TdG9yZSA9IHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRTdG9yZSddKHJlc291cmNlKTsKICAvLyBUaGVyZSdzIGEgY2hhbmNlIHdlJ3JlIGluIGFuIGV4dGVuc2lvbidzIHByb2R1Y3Qgd2hvJ3Mgc3RvcmUgY291bGQgYmUgYW55dGhpbmcsIHNvIGNvbmZpcm0gc2NoZW1hRm9yIGV4aXN0cwogIHZhciBzY2hlbWFGb3IgPSBzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdChpblN0b3JlLCAiL3NjaGVtYUZvciIpXTsKCiAgLy8gSW4gb3JkZXIgdG8gY2hlY2sgYSByZXNvdXJjZSBpcyB2YWxpZCB3ZSBuZWVkIHRoZXNlCiAgaWYgKCFpblN0b3JlIHx8ICFzY2hlbWFGb3IpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIC8vIFJlc291cmNlIGlzIHZhbGlkIGlmIGEgc2NoZW1hIGV4aXN0cyBmb3IgaXQgKHN0YW5kYXJkIHJlc291cmNlLCBzcG9vZmVkIHJlc291cmNlKSBvciBpdCdzIGEgdmlydHVhbCByZXNvdXJjZQogIHZhciB2YWxpZFJlc291cmNlID0gc2NoZW1hRm9yKHJlc291cmNlKSB8fCBzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pc1ZpcnR1YWwnXShyZXNvdXJjZSk7CiAgcmV0dXJuICEhdmFsaWRSZXNvdXJjZTsKfTsKCi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgovLwovLyBCRUxPVyBBUkUgTUVUSE9EUyBUSEFUIEFSRSBBIFBBUlQgT0YgVEhFIEFVVEhFTlRJQ0FURUQgTUlERExFV0FSRSBSRU1PVkFMLiBUSElTIElTIEEgVEVNUE9SQVJZIEhPTUUgRk9SIFRIRVNFIFVUSUxTIEFORCBTSE9VTEQgQkUgUkVXUklUVEVOLCBNT1ZFRCBPUiBERUxFVEVELgovLwovLyBUT0RPOiBSZW1vdmUgYW5kIHJlZmFjdG9yIGV2ZXJ5dGhpbmcgYmVsb3cgZm9yIG1vcmUgY2xhcml0eSBhbmQgYmV0dGVyIG9yZ2FuaXphdGlvbi4gaHR0cHM6Ly9naXRodWIuY29tL3JhbmNoZXIvZGFzaGJvYXJkL2lzc3Vlcy8xMTExMQovLwovLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCi8qKg0KICogQXR0ZW1wdCB0byBzZXQgdGhlIHByb2R1Y3QgaW4gb3VyIGRhdGFzdG9yZSBpZiB0aGUgcm91dGUgbWF0Y2hlcyBhIGtub3duIHByb2R1Y3QuIE90aGVyd2lzZSBzaG93IGFuIGVycm9yIHBhZ2UgaW5zdGVhZC4NCiAqLwpleHBvcnQgZnVuY3Rpb24gc2V0UHJvZHVjdChzdG9yZSwgdG8pIHsKICB2YXIgX3N0b3JlJGdldHRlcnMkY3VycmVuLCBfc3RvcmUkZ2V0dGVycyRjdXJyZW4yOwogIHZhciBwcm9kdWN0ID0gZ2V0UHJvZHVjdEZyb21Sb3V0ZSh0byk7CgogIC8vIHNpbmNlIGFsbCBwcm9kdWN0cyBhcmUgaGFyZGNvZGVkIGFzIHJvdXRlcyAoZXg6IGMtbG9jYWwtZXhwbG9yZXIpLCBpZiB3ZSBtYXRjaCB0aGUgd2lsZGNhcmQgcm91dGUgaXQgbWVhbnMgdGhhdCB0aGUgcHJvZHVjdCBkb2VzIG5vdCBleGlzdAogIGlmIChwcm9kdWN0ICYmICghdG8ubWF0Y2hlZC5sZW5ndGggfHwgdG8ubWF0Y2hlZC5sZW5ndGggJiYgdG8ubWF0Y2hlZFswXS5wYXRoID09PSAnL2MvOmNsdXN0ZXIvOnByb2R1Y3QnKSB8fAogIC8vIGlmIHRoZSBwcm9kdWN0IGdyYWJiZWQgZnJvbSB0aGUgcm91dGUgaXMgbm90IHJlZ2lzdGVyZWQsIHRoZW4gd2UgZG9uJ3QgaGF2ZSBpdCEKICBwcm9kdWN0ICYmICFzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pc1Byb2R1Y3RSZWdpc3RlcmVkJ10ocHJvZHVjdCkpIHsKICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihzdG9yZS5nZXR0ZXJzWydpMThuL3QnXSgnbmF2LmZhaWxXaGFsZS5wcm9kdWN0Tm90Rm91bmQnLCB7CiAgICAgIHByb2R1Y3ROb3RGb3VuZDogcHJvZHVjdAogICAgfSwgdHJ1ZSkpOwogICAgc3RvcmUuZGlzcGF0Y2goJ2xvYWRpbmdFcnJvcicsIGVycm9yKTsKICAgIHRocm93IG5ldyBFcnJvcignbG9hZGluZ0Vycm9yJywgbmV3IEVycm9yKHN0b3JlLmdldHRlcnNbJ2kxOG4vdCddKCduYXYuZmFpbFdoYWxlLnByb2R1Y3ROb3RGb3VuZCcsIHsKICAgICAgcHJvZHVjdE5vdEZvdW5kOiBwcm9kdWN0CiAgICB9LCB0cnVlKSkpOwogIH0KICBpZiAoIXByb2R1Y3QpIHsKICAgIHByb2R1Y3QgPSBFWFBMT1JFUjsKICB9CiAgdmFyIG9sZFByb2R1Y3QgPSBzdG9yZS5nZXR0ZXJzWydwcm9kdWN0SWQnXTsKICB2YXIgb2xkU3RvcmUgPSAoX3N0b3JlJGdldHRlcnMkY3VycmVuID0gc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXSkgPT09IG51bGwgfHwgX3N0b3JlJGdldHRlcnMkY3VycmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RvcmUkZ2V0dGVycyRjdXJyZW4uaW5TdG9yZTsKICBpZiAocHJvZHVjdCAhPT0gb2xkUHJvZHVjdCkgewogICAgc3RvcmUuY29tbWl0KCdzZXRQcm9kdWN0JywgcHJvZHVjdCk7CiAgfQogIHZhciBuZXVTdG9yZSA9IChfc3RvcmUkZ2V0dGVycyRjdXJyZW4yID0gc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXSkgPT09IG51bGwgfHwgX3N0b3JlJGdldHRlcnMkY3VycmVuMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJGdldHRlcnMkY3VycmVuMi5pblN0b3JlOwogIGlmIChuZXVTdG9yZSAhPT0gb2xkU3RvcmUpIHsKICAgIC8vIElmIHRoZSBwcm9kdWN0IHN0b3JlIGNoYW5nZXMsIGNsZWFyIHRoZSBjYXRhbG9nLgogICAgLy8gVGhlcmUgbWlnaHQgYmUgbWFuYWdlbWVudCBjYXRhbG9nIGl0ZW1zIGluIGl0IHZzIGNsdXN0ZXIuCiAgICBzdG9yZS5jb21taXQoJ2NhdGFsb2cvcmVzZXQnKTsKICB9Cn0KCi8qKg0KICogQ2hlY2sgdGhhdCB0aGUgcmVzb3VyY2UgaXMgdmFsaWQsIGlmIG5vdCByZWRpcmVjdCB0byBmYWlsIHdoYWxlDQogKg0KICogVGhpcyByZXF1aXJlcyB0aGF0DQogKiAtIHByb2R1Y3QgaXMgc2V0DQogKiAtIHByb2R1Y3QncyBzdG9yZSBpcyBzZXQgYW5kIHNldHVwIChzbyB3ZSBjYW4gY2hlY2sgc2NoZW1hJ3Mgd2l0aGluIGl0KQ0KICogLSBwcm9kdWN0J3Mgc3RvcmUgaGFzIHRoZSBzY2hlbWFGb3IgZ2V0dGVyIChleHRlbnNpb24gc3RvcmVzIG1pZ2h0IG5vdCBoYXZlIGl0KQ0KICogLSB0aGVyZSdzIGEgcmVzb3VyY2UgYXNzb2NpYXRlZCB3aXRoIHJvdXRlIChtZXRhIG9yIHBhcmFtKQ0KICovCmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlc291cmNlKHN0b3JlLCB0bykgewogIHZhciBwcm9kdWN0ID0gc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXTsKICB2YXIgcmVzb3VyY2UgPSBnZXRSZXNvdXJjZUZyb21Sb3V0ZSh0byk7CgogIC8vIEluIG9yZGVyIHRvIGNoZWNrIGEgcmVzb3VyY2UgaXMgdmFsaWQgd2UgbmVlZCB0aGVzZQogIGlmICghcHJvZHVjdCB8fCAhcmVzb3VyY2UpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgaWYgKGNhblZpZXdSZXNvdXJjZShzdG9yZSwgcmVzb3VyY2UpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICAvLyBVbmtub3duIHJlc291cmNlLCByZWRpcmVjdCB0byBmYWlsIHdoYWxlCgogIHZhciBlcnJvciA9IG5ldyBFcnJvcihzdG9yZS5nZXR0ZXJzWydpMThuL3QnXSgnbmF2LmZhaWxXaGFsZS5yZXNvdXJjZU5vdEZvdW5kJywgewogICAgcmVzb3VyY2U6IHJlc291cmNlCiAgfSwgdHJ1ZSkpOwogIHN0b3JlLmRpc3BhdGNoKCdsb2FkaW5nRXJyb3InLCBlcnJvcik7CiAgdGhyb3cgZXJyb3I7Cn0KCi8qKg0KICogQXR0ZW1wdCB0byBsb2FkIHRoZSBjdXJyZW50IHVzZXIncyBwcmluY2lwYWwNCiAqLwpleHBvcnQgZnVuY3Rpb24gZmluZE1lKF94MikgewogIHJldHVybiBfZmluZE1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCi8qKg0KICogQXR0ZW1wdCB0byBsb2dpbiB3aXRoIGRlZmF1bHQgY3JlZGVudGlhbHMuIE5vdGU6IEkgdGhpbmsgdGhhdCB0aGlzIG1heSBhY3R1YWxseSBiZSBvdXRkYXRlZCBzaW5jZSB3ZSBkb24ndCB1c2UgdGhlc2UgZGVmYXVsdCBjcmVkZW50aWFscyBhbnltb3JlIG9uIHNldHVwLg0KICovCmZ1bmN0aW9uIF9maW5kTWUoKSB7CiAgX2ZpbmRNZSA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc3RvcmUpIHsKICAgIHZhciBwcmluY2lwYWxzLCBtZTsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5QUklOQ0lQQUwsCiAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgIHVybDogJy92My9wcmluY2lwYWxzJywKICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgcHJpbmNpcGFscyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgbWUgPSBmaW5kQnkocHJpbmNpcGFscywgJ21lJywgdHJ1ZSk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbWUpOwogICAgICAgIGNhc2UgNToKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9maW5kTWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpleHBvcnQgZnVuY3Rpb24gdHJ5SW5pdGlhbFNldHVwKF94MykgewogIHJldHVybiBfdHJ5SW5pdGlhbFNldHVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCi8qKg0KICogUmVjb3JkIGluIG91ciBzdGF0ZSBtYW5hZ2VtZW50IHRoYXQgd2UncmUgaW5kZWVkIGxvZ2dlZCBpbg0KICovCmZ1bmN0aW9uIF90cnlJbml0aWFsU2V0dXAoKSB7CiAgX3RyeUluaXRpYWxTZXR1cCA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoc3RvcmUpIHsKICAgIHZhciBwYXNzd29yZCwKICAgICAgcmVzLAogICAgICBfYXJnczMgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHBhc3N3b3JkID0gX2FyZ3MzLmxlbmd0aCA+IDEgJiYgX2FyZ3MzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczNbMV0gOiAnYWRtaW4nOwogICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdhdXRoL2xvZ2luJywgewogICAgICAgICAgICBwcm92aWRlcjogJ2xvY2FsJywKICAgICAgICAgICAgYm9keTogewogICAgICAgICAgICAgIHVzZXJuYW1lOiAnYWRtaW4nLAogICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCByZXMuX3N0YXR1cyA9PT0gMjAwKTsKICAgICAgICBjYXNlIDg6CiAgICAgICAgICBfY29udGV4dDMucHJldiA9IDg7CiAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cnlpbmcgaW5pdGlhbCBzZXR1cCcsIF9jb250ZXh0My50MCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICBjYXNlIDEyOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgOF1dKTsKICB9KSk7CiAgcmV0dXJuIF90cnlJbml0aWFsU2V0dXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpleHBvcnQgZnVuY3Rpb24gaXNMb2dnZWRJbihzdG9yZSwgbWUpIHsKICBzdG9yZS5jb21taXQoJ2F1dGgvaGFzQXV0aCcsIHRydWUpOwogIHN0b3JlLmNvbW1pdCgnYXV0aC9sb2dnZWRJbkFzJywgbWUuaWQpOwp9CgovKioNCiAqIFJlY29yZCBpbiBvdXIgc3RhdGUgbWFuYWdlbWVudCB0aGF0IHdlJ3JlIG5vdCBsb2dnZWQgaW4gYW5kIHRoZW4gcmVkaXJlY3QgdG8gdGhlIGxvZ2luIHBhZ2UNCiAqLwpleHBvcnQgZnVuY3Rpb24gbm90TG9nZ2VkSW4oc3RvcmUsIHJlZGlyZWN0LCByb3V0ZSkgewogIHN0b3JlLmNvbW1pdCgnYXV0aC9oYXNBdXRoJywgdHJ1ZSk7CiAgaWYgKHJvdXRlLm5hbWUgPT09ICdpbmRleCcpIHsKICAgIHJldHVybiByZWRpcmVjdCgnL2F1dGgvbG9naW4nKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlZGlyZWN0KCIvYXV0aC9sb2dpbj8iLmNvbmNhdChUSU1FRF9PVVQpKTsKICB9Cn0KCi8qKg0KICogUmVjb3JkIGluIG91ciBzdGF0ZSBtYW5hZ2VtZW50IHRoYXQgd2UgZG9uJ3QgaGF2ZSBhbnkgYXV0aCBwcm92aWRlcnMNCiAqLwpleHBvcnQgZnVuY3Rpb24gbm9BdXRoKHN0b3JlKSB7CiAgc3RvcmUuY29tbWl0KCdhdXRoL2hhc0F1dGgnLCBmYWxzZSk7Cn0="},{"version":3,"names":["Popup","popupWindowOptions","parse","parseUrl","addParam","BACK_TO","SPA","_EDIT","_FLAGGED","TIMED_OUT","MANAGEMENT","NORMAN","allHash","getProductFromRoute","getResourceFromRoute","NAME","EXPLORER","findBy","openAuthPopup","url","provider","popup","promise","Promise","resolve","reject","window","onAuthTest","error","code","Error","open","returnTo","opt","vm","_opt$route","route","$router","options","base","routerBase","concat","replace","returnToUrl","location","origin","parsed","href","query","spa","undefined","backTo","config","authProvidersInfo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","rows","nonLocal","enabled","supportedNonLocal","enabledLocation","wrap","_callee$","_context","prev","next","dispatch","type","AUTH_CONFIG","sent","filter","x","name","id","length","params","mode","abrupt","stop","_x","apply","arguments","checkSchemasForFindAllHash","types","hash","_i","_Object$entries","Object","entries","_Object$entries$_i","_slicedToArray","key","value","schema","getters","inStoreType","validSchema","schemaValidator","checkPermissions","_loop","_Object$entries2$_i","_Object$entries2","_i2","resourceMethods","every","method","includes","collectionMethods","_ret","canViewResource","resource","inStore","schemaFor","validResource","setProduct","to","_store$getters$curren","_store$getters$curren2","product","matched","path","productNotFound","oldProduct","oldStore","commit","neuStore","validateResource","findMe","_x2","_findMe","_callee2","principals","me","_callee2$","_context2","PRINCIPAL","redirectUnauthorized","tryInitialSetup","_x3","_tryInitialSetup","_callee3","password","res","_args3","_callee3$","_context3","body","username","_status","t0","console","isLoggedIn","notLoggedIn","redirect","noAuth"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/auth.js"],"sourcesContent":["import { Popup, popupWindowOptions } from '@shell/utils/window';\r\nimport { parse as parseUrl, addParam } from '@shell/utils/url';\r\nimport {\r\n  BACK_TO, SPA, _EDIT, _FLAGGED, TIMED_OUT\r\n} from '@shell/config/query-params';\r\nimport { MANAGEMENT, NORMAN } from '@shell/config/types';\r\nimport { allHash } from '@shell/utils/promise';\r\nimport { getProductFromRoute, getResourceFromRoute } from '@shell/utils/router';\r\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\r\nimport { findBy } from '@shell/utils/array';\r\n\r\nexport function openAuthPopup(url, provider) {\r\n  const popup = new Popup(() => {\r\n    popup.promise = new Promise((resolve, reject) => {\r\n      popup.resolve = resolve;\r\n      popup.reject = reject;\r\n    });\r\n\r\n    window.onAuthTest = (error, code) => {\r\n      if (error) {\r\n        popup.reject(error);\r\n      }\r\n\r\n      delete window.onAuthTest;\r\n      popup.resolve(code);\r\n    };\r\n  }, () => {\r\n    popup.reject(new Error('Access was not authorized'));\r\n  });\r\n\r\n  popup.open(url, 'auth-test', popupWindowOptions());\r\n\r\n  return popup.promise;\r\n}\r\n\r\nexport function returnTo(opt, vm) {\r\n  let { route = `/auth/verify` } = opt;\r\n\r\n  if ( vm.$router.options && vm.$router.options.base ) {\r\n    const routerBase = vm.$router.options.base;\r\n\r\n    if ( routerBase !== '/' ) {\r\n      route = `${ routerBase.replace(/\\/+$/, '') }/${ route.replace(/^\\/+/, '') }`;\r\n    }\r\n  }\r\n\r\n  let returnToUrl = `${ window.location.origin }${ route }`;\r\n\r\n  const parsed = parseUrl(window.location.href);\r\n\r\n  if ( parsed.query.spa !== undefined ) {\r\n    returnToUrl = addParam(returnToUrl, SPA, _FLAGGED);\r\n  }\r\n\r\n  if ( opt.backTo ) {\r\n    returnToUrl = addParam(returnToUrl, BACK_TO, opt.backTo);\r\n  }\r\n\r\n  if (opt.config) {\r\n    returnToUrl = addParam(returnToUrl, 'config', opt.config);\r\n  }\r\n\r\n  return returnToUrl;\r\n}\r\n\r\n/**\r\n * Determines common auth provider info as those that are available (non-local) and the location of the enabled provider\r\n */\r\nexport const authProvidersInfo = async(store) => {\r\n  const rows = await store.dispatch(`management/findAll`, { type: MANAGEMENT.AUTH_CONFIG });\r\n  const nonLocal = rows.filter((x) => x.name !== 'local');\r\n  const enabled = nonLocal.filter((x) => x.enabled === true );\r\n\r\n  const supportedNonLocal = nonLocal.filter((x) => x.id !== 'oidc');\r\n\r\n  const enabledLocation = enabled.length === 1 ? {\r\n    name:   'c-cluster-auth-config-id',\r\n    params: { id: enabled[0].id },\r\n    query:  { mode: _EDIT }\r\n  } : null;\r\n\r\n  return {\r\n    nonLocal: supportedNonLocal,\r\n    enabledLocation,\r\n    enabled\r\n  };\r\n};\r\n\r\nexport const checkSchemasForFindAllHash = (types, store) => {\r\n  const hash = {};\r\n\r\n  for (const [key, value] of Object.entries(types)) {\r\n    const schema = store.getters[`${ value.inStoreType }/schemaFor`](value.type);\r\n\r\n    // It could be that user has permissions for GET but not list\r\n    // e.g. Standard user with GitRepo permissions try to fetch list of fleetworkspaces\r\n    // user has ability to GET but not fleet workspaces\r\n    // so optionally define a function that require it to pass before /findAll\r\n    const validSchema = value.schemaValidator ? value.schemaValidator(schema) : !!schema;\r\n\r\n    if (validSchema) {\r\n      hash[key] = store.dispatch(`${ value.inStoreType }/findAll`, { type: value.type } );\r\n    }\r\n  }\r\n\r\n  return allHash(hash);\r\n};\r\n\r\nexport const checkPermissions = (types, getters) => {\r\n  const hash = {};\r\n\r\n  for (const [key, value] of Object.entries(types)) {\r\n    const schema = getters['management/schemaFor'](value.type);\r\n\r\n    if (!schema) {\r\n      hash[key] = false;\r\n\r\n      continue;\r\n    }\r\n\r\n    // It could be that user has permissions for GET but not list\r\n    // e.g. Standard user with GitRepo permissions try to fetch list of fleetworkspaces\r\n    // user has ability to GET but not fleet workspaces\r\n    // so optionally define a function that require it to pass before /findAll\r\n    if (value.schemaValidator) {\r\n      hash[key] = value.schemaValidator(schema);\r\n\r\n      continue;\r\n    }\r\n\r\n    if (value.resourceMethods && schema) {\r\n      hash[key] = value.resourceMethods.every((method) => {\r\n        return (schema.resourceMethods || []).includes(method);\r\n      });\r\n\r\n      continue;\r\n    }\r\n\r\n    if (value.collectionMethods && schema) {\r\n      hash[key] = value.collectionMethods.every((method) => {\r\n        return (schema.collectionMethods || []).includes(method);\r\n      });\r\n\r\n      continue;\r\n    }\r\n\r\n    hash[key] = !!schema;\r\n  }\r\n\r\n  return allHash(hash);\r\n};\r\n\r\nexport const canViewResource = (store, resource) => {\r\n  // Note - don't use the current products store... because products can override stores for resources with `typeStoreMap`\r\n  const inStore = store.getters['currentStore'](resource);\r\n  // There's a chance we're in an extension's product who's store could be anything, so confirm schemaFor exists\r\n  const schemaFor = store.getters[`${ inStore }/schemaFor`];\r\n\r\n  // In order to check a resource is valid we need these\r\n  if (!inStore || !schemaFor) {\r\n    return false;\r\n  }\r\n\r\n  // Resource is valid if a schema exists for it (standard resource, spoofed resource) or it's a virtual resource\r\n  const validResource = schemaFor(resource) || store.getters['type-map/isVirtual'](resource);\r\n\r\n  return !!validResource;\r\n};\r\n\r\n// ************************************************************\r\n//\r\n// BELOW ARE METHODS THAT ARE A PART OF THE AUTHENTICATED MIDDLEWARE REMOVAL. THIS IS A TEMPORARY HOME FOR THESE UTILS AND SHOULD BE REWRITTEN, MOVED OR DELETED.\r\n//\r\n// TODO: Remove and refactor everything below for more clarity and better organization. https://github.com/rancher/dashboard/issues/11111\r\n//\r\n// ************************************************************\r\n\r\n/**\r\n * Attempt to set the product in our datastore if the route matches a known product. Otherwise show an error page instead.\r\n */\r\nexport function setProduct(store, to) {\r\n  let product = getProductFromRoute(to);\r\n\r\n  // since all products are hardcoded as routes (ex: c-local-explorer), if we match the wildcard route it means that the product does not exist\r\n  if ((product && (!to.matched.length || (to.matched.length && to.matched[0].path === '/c/:cluster/:product'))) ||\r\n  // if the product grabbed from the route is not registered, then we don't have it!\r\n  (product && !store.getters['type-map/isProductRegistered'](product))) {\r\n    const error = new Error(store.getters['i18n/t']('nav.failWhale.productNotFound', { productNotFound: product }, true));\r\n\r\n    store.dispatch('loadingError', error);\r\n\r\n    throw new Error('loadingError', new Error(store.getters['i18n/t']('nav.failWhale.productNotFound', { productNotFound: product }, true)));\r\n  }\r\n\r\n  if ( !product ) {\r\n    product = EXPLORER;\r\n  }\r\n\r\n  const oldProduct = store.getters['productId'];\r\n  const oldStore = store.getters['currentProduct']?.inStore;\r\n\r\n  if ( product !== oldProduct ) {\r\n    store.commit('setProduct', product);\r\n  }\r\n\r\n  const neuStore = store.getters['currentProduct']?.inStore;\r\n\r\n  if ( neuStore !== oldStore ) {\r\n    // If the product store changes, clear the catalog.\r\n    // There might be management catalog items in it vs cluster.\r\n    store.commit('catalog/reset');\r\n  }\r\n}\r\n\r\n/**\r\n * Check that the resource is valid, if not redirect to fail whale\r\n *\r\n * This requires that\r\n * - product is set\r\n * - product's store is set and setup (so we can check schema's within it)\r\n * - product's store has the schemaFor getter (extension stores might not have it)\r\n * - there's a resource associated with route (meta or param)\r\n */\r\nexport function validateResource(store, to) {\r\n  const product = store.getters['currentProduct'];\r\n  const resource = getResourceFromRoute(to);\r\n\r\n  // In order to check a resource is valid we need these\r\n  if (!product || !resource) {\r\n    return false;\r\n  }\r\n\r\n  if (canViewResource(store, resource)) {\r\n    return false;\r\n  }\r\n\r\n  // Unknown resource, redirect to fail whale\r\n\r\n  const error = new Error(store.getters['i18n/t']('nav.failWhale.resourceNotFound', { resource }, true));\r\n\r\n  store.dispatch('loadingError', error);\r\n\r\n  throw error;\r\n}\r\n\r\n/**\r\n * Attempt to load the current user's principal\r\n */\r\nexport async function findMe(store) {\r\n  // First thing we do in loadManagement is fetch principals anyway.... so don't ?me=true here\r\n  const principals = await store.dispatch('rancher/findAll', {\r\n    type: NORMAN.PRINCIPAL,\r\n    opt:  {\r\n      url:                  '/v3/principals',\r\n      redirectUnauthorized: false,\r\n    }\r\n  });\r\n\r\n  const me = findBy(principals, 'me', true);\r\n\r\n  return me;\r\n}\r\n\r\n/**\r\n * Attempt to login with default credentials. Note: I think that this may actually be outdated since we don't use these default credentials anymore on setup.\r\n */\r\nexport async function tryInitialSetup(store, password = 'admin') {\r\n  try {\r\n    const res = await store.dispatch('auth/login', {\r\n      provider: 'local',\r\n      body:     {\r\n        username: 'admin',\r\n        password\r\n      },\r\n    });\r\n\r\n    return res._status === 200;\r\n  } catch (e) {\r\n    console.error('Error trying initial setup', e); // eslint-disable-line no-console\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Record in our state management that we're indeed logged in\r\n */\r\nexport function isLoggedIn(store, me) {\r\n  store.commit('auth/hasAuth', true);\r\n  store.commit('auth/loggedInAs', me.id);\r\n}\r\n\r\n/**\r\n * Record in our state management that we're not logged in and then redirect to the login page\r\n */\r\nexport function notLoggedIn(store, redirect, route) {\r\n  store.commit('auth/hasAuth', true);\r\n\r\n  if ( route.name === 'index' ) {\r\n    return redirect('/auth/login');\r\n  } else {\r\n    return redirect(`/auth/login?${ TIMED_OUT }`);\r\n  }\r\n}\r\n\r\n/**\r\n * Record in our state management that we don't have any auth providers\r\n */\r\nexport function noAuth(store) {\r\n  store.commit('auth/hasAuth', false);\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}