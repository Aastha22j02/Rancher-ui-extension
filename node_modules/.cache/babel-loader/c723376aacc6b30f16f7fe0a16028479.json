{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnN0cmluZy5yZXBsYWNlLWFsbC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFByb2dyZXNzQmFyTXVsdGkgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUHJvZ3Jlc3NCYXJNdWx0aSc7CmltcG9ydCBQbHVzTWludXMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9QbHVzTWludXMnOwppbXBvcnQgeyBQT0QsIFNDQUxBQkxFX1dPUktMT0FEX1RZUEVTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IHVjRmlyc3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKdmFyIFNDQUxBQkxFX1RZUEVTID0gT2JqZWN0LnZhbHVlcyhTQ0FMQUJMRV9XT1JLTE9BRF9UWVBFUyk7CnZhciBJTlZBTElEX1RZUEVTID0gW1BPRF07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQbHVzTWludXM6IFBsdXNNaW51cywKICAgIFByb2dyZXNzQmFyTXVsdGk6IFByb2dyZXNzQmFyTXVsdGkKICB9LAogIHByb3BzOiB7CiAgICByb3c6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNvbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcm93S2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja091dHNpZGUpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgZXhwYW5kZWQ6IGZhbHNlLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBjUGFydHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLnJvd0tleSwgIi13b3JrbG9hZC1oZWFsdGgtc2NhbGUiKS5yZXBsYWNlQWxsKCctJywgJycpOwogICAgfSwKICAgIGNhblNjYWxlOiBmdW5jdGlvbiBjYW5TY2FsZSgpIHsKICAgICAgcmV0dXJuICEhU0NBTEFCTEVfVFlQRVMuaW5jbHVkZXModGhpcy5yb3cudHlwZSkgJiYgdGhpcy5yb3cuY2FuVXBkYXRlOwogICAgfSwKICAgIGNhblNob3c6IGZ1bmN0aW9uIGNhblNob3coKSB7CiAgICAgIHJldHVybiAhSU5WQUxJRF9UWVBFUy5pbmNsdWRlcyh0aGlzLnJvdy50eXBlKTsKICAgIH0sCiAgICBwYXJ0czogZnVuY3Rpb24gcGFydHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNQYXJ0czsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxpdmVVcGRhdGU6IGZ1bmN0aW9uIGxpdmVVcGRhdGUoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm4gNTsKICAgICAgfQogICAgICB0aGlzLmNQYXJ0cyA9IE9iamVjdC5lbnRyaWVzKHRoaXMucm93LmpvYkdhdWdlcyB8fCB0aGlzLnJvdy5wb2RHYXVnZXMgfHwgW10pLm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgbmFtZSA9IF9yZWYyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29sb3I6ICJiZy0iLmNvbmNhdCh2YWx1ZS5jb2xvciksCiAgICAgICAgICB2YWx1ZTogdmFsdWUuY291bnQgfHwgMCwKICAgICAgICAgIGxhYmVsOiB1Y0ZpcnN0KG5hbWUpCiAgICAgICAgfTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgudmFsdWUgPiAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIDU7CiAgICB9LAogICAgc3RhcnREZWxheWVkTG9hZGluZzogZnVuY3Rpb24gc3RhcnREZWxheWVkTG9hZGluZygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMubGl2ZVVwZGF0ZSgpOwogICAgfSwKICAgIG9uQ2xpY2tPdXRzaWRlOiBmdW5jdGlvbiBvbkNsaWNrT3V0c2lkZShldmVudCkgewogICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy4kcmVmc1sicm9vdC0iLmNvbmNhdCh0aGlzLmlkKV07CiAgICAgIGlmICghY29tcG9uZW50IHx8IGNvbXBvbmVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAgc2NhbGVEb3duOiBmdW5jdGlvbiBzY2FsZURvd24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zY2FsZShmYWxzZSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzY2FsZVVwOiBmdW5jdGlvbiBzY2FsZVVwKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zY2FsZSh0cnVlKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2NhbGU6IGZ1bmN0aW9uIHNjYWxlKGlzVXApIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgVnVlLnNldChfdGhpczMsICdkaXNhYmxlZCcsIHRydWUpOwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICBpZiAoIWlzVXApIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5yb3cuc2NhbGVVcCgpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMucm93LnNjYWxlRG93bigpOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCdncm93bC9mcm9tRXJyb3InLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMzLnQoJ3dvcmtsb2FkLmxpc3QuZXJyb3JDYW5ub3RTY2FsZScsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBpc1VwID8gJ3VwJyA6ICdkb3duJywKICAgICAgICAgICAgICAgICAgd29ya2xvYWROYW1lOiBfdGhpczMucm93Lm5hbWUKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgZXJyOiBfY29udGV4dDMudDAKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgVnVlLnNldChfdGhpczMsICdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaW5zaWRlQm91bmRzOiBmdW5jdGlvbiBpbnNpZGVCb3VuZHMoYm91bmRpbmcsIGJvdW5kcykgewogICAgICByZXR1cm4gYm91bmRpbmcudG9wID49IGJvdW5kcy50b3AgJiYgYm91bmRpbmcubGVmdCA+PSBib3VuZHMubGVmdCAmJiBib3VuZGluZy5yaWdodCA8PSBib3VuZHMucmlnaHQgJiYgYm91bmRpbmcuYm90dG9tIDw9IGJvdW5kcy5ib3R0b207CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZXhwYW5kZWQ6IGZ1bmN0aW9uIGV4cGFuZGVkKG5ldSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgaWYgKG5ldSkgewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrT3V0c2lkZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tPdXRzaWRlKTsKICAgICAgfQoKICAgICAgLy8gSWYgdGhlIGRyb3AgZG93biBjb250ZW50IGFwcGVhcnMgb3V0c2lkZSBvZiB0aGUgd2luZG93IHRoZW4gbW92ZSBpdCB0byBiZSBhYm92ZSB0aGUgdHJpZ2dlcgogICAgICAvLyBEbyB0aGlzIGlzIHRocmVlIHN0ZXBzCiAgICAgIC8vIGV4cGFuZGVkOiBmYWxzZSAmIGV4cGFuZGVkLWNoZWNrZWQgPSBmYWxzZSAtIENvbnRlbnQgZG9lcyBub3QgYXBwZWFyIGluIERPTQogICAgICAvLyBleHBhbmRlZDogdHJ1ZSAmIGV4cGFuZGVkLWNoZWNrZWQgPSBmYWxzZSAtIENvbnRlbnQgYXBwZWFycyBpbiBET00gKHNvIGl0J3MgbG9jYXRpb24gY2FuIGJlIGNhbGN1bGF0ZWQgdG8gYmUgaW4gb3Igb3V0IG9mIGFuIGFyZWEpIGJ1dCBpc24ndCB2aXNpYmxlICh1c2VyIGRvZXNuJ3Qgc2VlIGNvbnRlbnQgYmxpcCBmcm9tIGJlbG93IHRvIGFib3ZlIHRyaWdnZXIpCiAgICAgIC8vIGV4cGFuZGVkOiB0cnVlICYgZXhwYW5kZWQtY2hlY2tlZCA9IHRydWUgLSBDb250ZW50IGFwcGVhcnMgaW4gRE9NIGFuZCBpcyB2aXNpYmxlIChpdCdzIGZpbmFsIGxvY2F0aW9uIGlzIGtub3duIHNvIHVzZXIgY2FuIHNlZSkKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gVGhlcmUgYmUgYmVhc3RzIHdpdGhvdXQgdGhpcyAoY2xhc3NlcyBkb24ndCBnZXQgYXBwbGllZC4uLiBzbyBkcm9wIGRvd24gbmV2ZXIgZ2V0cyBzaG93bikKICAgICAgICB2YXIgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfdGhpczQuaWQpOwogICAgICAgIGlmICghbmV1KSB7CiAgICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZC1jaGVja2VkJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBFbnN1cmUgZHJvcCBkb3duIHdpbGwgYmUgaW5zaWRlIG9mIHRoZSB3aW5kb3csIG90aGVyd2lzZSBzaG93IGFib3ZlIHRoZSB0cmlnZ2VyCiAgICAgICAgdmFyIGJvdW5kaW5nID0gZHJvcGRvd24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIGluc2lkZVdpbmRvdyA9IF90aGlzNC5pbnNpZGVCb3VuZHMoYm91bmRpbmcsIHsKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICByaWdodDogd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLAogICAgICAgICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodAogICAgICAgIH0pOwogICAgICAgIGlmIChpbnNpZGVXaW5kb3cpIHsKICAgICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ291dC1vZi12aWV3Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ291dC1vZi12aWV3Jyk7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciB0aGUgYWN0dWFsIGRpc3BsYXkgb2YgdGhlIGRyb3AgZG93biAoYWZ0ZXIgd2UndmUgY2FsY3VsYXRlZCBpZiBpdCBnb2VzIGJlbG93IG9yIGFib3ZlIHRyaWdnZXIpCiAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnZXhwYW5kZWQtY2hlY2tlZCcpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Vue","ProgressBarMulti","PlusMinus","POD","SCALABLE_WORKLOAD_TYPES","ucFirst","SCALABLE_TYPES","Object","values","INVALID_TYPES","components","props","row","type","required","col","rowKey","String","beforeDestroy","document","removeEventListener","onClickOutside","data","disabled","expanded","loading","cParts","computed","id","concat","replaceAll","canScale","includes","canUpdate","canShow","parts","methods","liveUpdate","entries","jobGauges","podGauges","map","_ref","_ref2","_slicedToArray","name","value","color","count","label","filter","x","startDelayedLoading","event","component","$refs","contains","target","preventDefault","stopPropagation","scaleDown","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","scale","stop","scaleUp","_this2","_callee2","_callee2$","_context2","isUp","_this3","_callee3","_callee3$","_context3","set","t0","$store","dispatch","title","t","direction","workloadName","err","root","insideBounds","bounding","bounds","top","left","right","bottom","watch","neu","_this4","addEventListener","setTimeout","dropdown","getElementById","classList","remove","getBoundingClientRect","insideWindow","window","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","add"],"sources":["node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport PlusMinus from '@shell/components/form/PlusMinus';\nimport { POD, SCALABLE_WORKLOAD_TYPES } from '@shell/config/types';\nimport { ucFirst } from '@shell/utils/string';\n\nconst SCALABLE_TYPES = Object.values(SCALABLE_WORKLOAD_TYPES);\nconst INVALID_TYPES = [POD];\n\nexport default {\n  components: { PlusMinus, ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:     Object,\n      required: true\n    },\n    rowKey: {\n      type:     String,\n      required: true\n    },\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('click', this.onClickOutside);\n  },\n\n  data() {\n    return {\n      disabled: false,\n      expanded: false,\n      loading:  true,\n      cParts:   [],\n    };\n  },\n\n  computed: {\n    id() {\n      return `${ this.rowKey }-workload-health-scale`.replaceAll('-', '');\n    },\n\n    canScale() {\n      return !!SCALABLE_TYPES.includes(this.row.type) && this.row.canUpdate;\n    },\n\n    canShow() {\n      return !INVALID_TYPES.includes(this.row.type);\n    },\n\n    parts() {\n      return this.cParts;\n    },\n  },\n\n  methods: {\n    liveUpdate() {\n      if (this.loading) {\n        return 5;\n      }\n\n      this.cParts = Object.entries(this.row.jobGauges || this.row.podGauges || [])\n        .map(([name, value]) => ({\n          color: `bg-${ value.color }`,\n          value: value.count || 0,\n          label: ucFirst(name)\n        })).filter((x) => x.value > 0);\n\n      return 5;\n    },\n    startDelayedLoading() {\n      this.loading = false;\n      this.liveUpdate();\n    },\n\n    onClickOutside(event) {\n      const { [`root-${ this.id }`]: component } = this.$refs;\n\n      if (!component || component.contains(event.target)) {\n        return;\n      }\n      this.expanded = false;\n      event.preventDefault();\n      event.stopPropagation();\n    },\n\n    async scaleDown() {\n      await this.scale(false);\n    },\n    async scaleUp() {\n      await this.scale(true);\n    },\n    async scale(isUp) {\n      Vue.set(this, 'disabled', true);\n      try {\n        if (isUp) {\n          await this.row.scaleUp();\n        } else {\n          await this.row.scaleDown();\n        }\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', {\n          title: this.t('workload.list.errorCannotScale', { direction: isUp ? 'up' : 'down', workloadName: this.row.name }),\n          err\n        },\n        { root: true });\n      }\n      Vue.set(this, 'disabled', false);\n    },\n\n    insideBounds(bounding, bounds) {\n      return bounding.top >= bounds.top &&\n        bounding.left >= bounds.left &&\n        bounding.right <= bounds.right &&\n        bounding.bottom <= bounds.bottom;\n    },\n\n  },\n\n  watch: {\n    expanded(neu) {\n      if (neu) {\n        document.addEventListener('click', this.onClickOutside);\n      } else {\n        document.removeEventListener('click', this.onClickOutside);\n      }\n\n      // If the drop down content appears outside of the window then move it to be above the trigger\n      // Do this is three steps\n      // expanded: false & expanded-checked = false - Content does not appear in DOM\n      // expanded: true & expanded-checked = false - Content appears in DOM (so it's location can be calculated to be in or out of an area) but isn't visible (user doesn't see content blip from below to above trigger)\n      // expanded: true & expanded-checked = true - Content appears in DOM and is visible (it's final location is known so user can see)\n      setTimeout(() => { // There be beasts without this (classes don't get applied... so drop down never gets shown)\n        const dropdown = document.getElementById(this.id);\n\n        if (!neu) {\n          dropdown.classList.remove('expanded-checked');\n\n          return;\n        }\n\n        // Ensure drop down will be inside of the window, otherwise show above the trigger\n        const bounding = dropdown.getBoundingClientRect();\n        const insideWindow = this.insideBounds(bounding, {\n          top:    0,\n          left:   0,\n          right:  window.innerWidth || document.documentElement.clientWidth,\n          bottom: window.innerHeight || document.documentElement.clientHeight,\n        });\n\n        if (insideWindow) {\n          dropdown.classList.remove('out-of-view');\n        } else {\n          dropdown.classList.add('out-of-view');\n        }\n\n        // This will trigger the actual display of the drop down (after we've calculated if it goes below or above trigger)\n        dropdown.classList.add('expanded-checked');\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"!canShow\" />\n  <div\n    v-else-if=\"loading\"\n    class=\"hs-popover__loader\"\n  >\n    <i class=\"icon icon-spinner\" />\n  </div>\n  <div\n    v-else\n    :id=\"`root-${id}`\"\n    :ref=\"`root-${id}`\"\n    class=\"hs-popover\"\n  >\n    <div\n      id=\"trigger\"\n      class=\"hs-popover__trigger\"\n      :class=\"{expanded}\"\n      @click=\"expanded = !expanded\"\n    >\n      <ProgressBarMulti\n        v-if=\"parts\"\n        class=\"health\"\n        :values=\"parts\"\n        :show-zeros=\"true\"\n      />\n      <i :class=\"{icon: true, 'icon-chevron-up': expanded, 'icon-chevron-down': !expanded}\" />\n    </div>\n    <div\n      :id=\"id\"\n      class=\"hs-popover__content\"\n      :class=\"{expanded, [id]:true}\"\n    >\n      <div>\n        <div\n          v-for=\"obj in parts\"\n          :key=\"obj.label\"\n          class=\"counts\"\n        >\n          <span class=\"counts-label\">{{ obj.label }}</span>\n          <span>{{ obj.value }}</span>\n        </div>\n        <div\n          v-if=\"canScale\"\n          class=\"text-center scale\"\n        >\n          <span>{{ t('tableHeaders.scale') }} </span>\n          <PlusMinus\n            :value=\"row.spec.replicas\"\n            :disabled=\"disabled\"\n            @minus=\"scaleDown\"\n            @plus=\"scaleUp\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n$height: 30px;\n$width: 150px;\n\n.hs-popover {\n  position: relative;\n\n  &__loader {\n    align-items: center;\n    border: solid thin var(--sortable-table-top-divider);\n    display: flex;\n    height: $height;\n    width: $width;\n\n    > i {\n      font-size: 16px;\n      height: 16px;\n      margin-left: 5px;\n      width: 16px;\n    }\n  }\n\n  &__trigger {\n    display: flex;\n    align-items: center;\n\n    width: $width;\n    height: $height;\n\n    border: solid thin var(--sortable-table-top-divider);\n\n    &.expanded {\n      background-color: var(--sortable-table-row-bg);\n    }\n    &:not(.expanded):hover {\n      background-color: var(--accent-btn);\n      .icon {\n        color: unset;\n      }\n    }\n\n    $icon-width: 21px;\n\n    .health {\n      width: $width - $icon-width;\n      margin-left: 5px;\n    }\n    .icon {\n      width: $icon-width;\n      color: var(--primary);\n      margin-top: 1px;\n      padding: 0 5px 0 3px; // It would be better to display flex here... but the icon looks a pixel off to the right\n    }\n  }\n\n  &__content {\n    z-index: 14;\n    width: $width;\n\n    border: solid thin var(--sortable-table-top-divider);\n    background-color: var(--sortable-table-row-bg);\n\n    position: absolute;\n    margin-top: -1px;\n\n    display: none;\n    visibility: hidden;\n    &.expanded {\n      display: inline;\n    }\n    &.expanded-checked {\n      visibility: visible;\n    }\n\n    &.out-of-view {\n      // Flip to show drop down above trigger\n      bottom: 0;\n      margin-bottom: $height - 1px;\n    }\n\n    & > div {\n      padding: 10px;\n    }\n\n    .counts {\n      display: flex;\n      justify-content: space-between;\n\n      &-label {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n    .scale {\n      margin-top: 10px;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n    }\n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}