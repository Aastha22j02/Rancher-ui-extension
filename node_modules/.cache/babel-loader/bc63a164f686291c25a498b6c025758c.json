{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/dialog/DeactivateDriverDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/dialog/DeactivateDriverDialog.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb25mL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAY29tcG9uZW50cy9DYXJkJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CmltcG9ydCB7IHJlc291cmNlTmFtZXMgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FyZDogQ2FyZCwKICAgIEFzeW5jQnV0dG9uOiBBc3luY0J1dHRvbiwKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICBwcm9wczogewogICAgZHJpdmVyczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBkcml2ZXJUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgZm9ybWF0dGVkVGV4dDogZnVuY3Rpb24gZm9ybWF0dGVkVGV4dCgpIHsKICAgICAgdmFyIG5hbWVzU2xpY2VkID0gdGhpcy5kcml2ZXJzLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iai5uYW1lRGlzcGxheTsKICAgICAgfSkuc2xpY2UoMCwgNSk7CiAgICAgIHZhciByZW1haW5pbmcgPSB0aGlzLmRyaXZlcnMubGVuZ3RoIC0gbmFtZXNTbGljZWQubGVuZ3RoOwogICAgICB2YXIgcGx1c01vcmUgPSB0aGlzLnQoJ2RyaXZlcnMuZGVhY3RpdmF0ZS5hbmRPdGhlcnMnLCB7CiAgICAgICAgY291bnQ6IHJlbWFpbmluZwogICAgICB9KTsKICAgICAgdmFyIG5hbWVzID0gcmVzb3VyY2VOYW1lcyhuYW1lc1NsaWNlZCwgcGx1c01vcmUsIHRoaXMudCk7CiAgICAgIHZhciBjb3VudCA9IHJlbWFpbmluZyB8fCBuYW1lc1NsaWNlZC5sZW5ndGg7CiAgICAgIHZhciB3YXJuaW5nRHJpdmVycyA9IHRoaXMudCgnZHJpdmVycy5kZWFjdGl2YXRlLndhcm5pbmdEcml2ZXJzJywgewogICAgICAgIG5hbWVzOiBuYW1lcywKICAgICAgICBjb3VudDogY291bnQKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLnQoJ2RyaXZlcnMuZGVhY3RpdmF0ZS53YXJuaW5nJywgewogICAgICAgIHdhcm5pbmdEcml2ZXJzOiB3YXJuaW5nRHJpdmVycywKICAgICAgICBjb3VudDogbmFtZXNTbGljZWQubGVuZ3RoCiAgICAgIH0pOwogICAgfQogIH0sIG1hcEdldHRlcnMoewogICAgdDogJ2kxOG4vdCcKICB9KSksCiAgbWV0aG9kczogewogICAgcmVzb3VyY2VOYW1lczogcmVzb3VyY2VOYW1lcywKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShidXR0b25Eb25lKSB7CiAgICAgIGlmIChidXR0b25Eb25lICYmIHR5cGVvZiBidXR0b25Eb25lID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgYnV0dG9uRG9uZSh0cnVlKTsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShidXR0b25Eb25lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdGhpcy5kcml2ZXJzLm1hcChmdW5jdGlvbiAoZHJpdmVyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgICAgIHVybDogInYzLyIuY29uY2F0KF90aGlzLmRyaXZlclR5cGUsICIvIikuY29uY2F0KGVzY2FwZShkcml2ZXIuaWQpLCAiP2FjdGlvbj1kZWFjdGl2YXRlIiksCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpcy5jbG9zZShidXR0b25Eb25lKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoX2NvbnRleHQudDApOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["AsyncButton","Card","Banner","exceptionToErrorsArray","resourceNames","mapGetters","components","props","drivers","type","Array","required","driverType","String","data","errors","computed","_objectSpread","formattedText","namesSliced","map","obj","nameDisplay","slice","remaining","length","plusMore","t","count","names","warningDrivers","methods","close","buttonDone","$emit","apply","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","Promise","all","driver","$store","dispatch","url","concat","escape","id","method","t0","stop"],"sources":["node_modules/@rancher/shell/dialog/DeactivateDriverDialog.vue"],"sourcesContent":["<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { resourceNames } from '@shell/utils/string';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n  },\n\n  props: {\n    drivers: {\n      type:     Array,\n      required: true\n    },\n    driverType: {\n      type:     String,\n      required: true\n    }\n  },\n\n  data() {\n    return { errors: [] };\n  },\n  computed: {\n    formattedText() {\n      const namesSliced = this.drivers.map((obj) => obj.nameDisplay).slice(0, 5);\n      const remaining = this.drivers.length - namesSliced.length;\n\n      const plusMore = this.t('drivers.deactivate.andOthers', { count: remaining });\n      const names = resourceNames(namesSliced, plusMore, this.t);\n      const count = remaining || namesSliced.length;\n      const warningDrivers = this.t('drivers.deactivate.warningDrivers', { names, count });\n\n      return this.t('drivers.deactivate.warning', { warningDrivers, count: namesSliced.length });\n    },\n    ...mapGetters({ t: 'i18n/t' }),\n  },\n  methods: {\n    resourceNames,\n    close(buttonDone) {\n      if (buttonDone && typeof buttonDone === 'function') {\n        buttonDone(true);\n      }\n      this.$emit('close');\n    },\n    async apply(buttonDone) {\n      try {\n        await Promise.all(this.drivers.map(\n          (driver) => this.$store.dispatch('rancher/request', {\n            url:    `v3/${ this.driverType }/${ escape(driver.id) }?action=deactivate`,\n            method: 'POST'\n          })\n        ));\n\n        this.close(buttonDone);\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n<template>\n  <Card\n    class=\"prompt-deactivate\"\n    :show-highlight-border=\"false\"\n    :data-testid=\"'prompt-deactivate'\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text\"\n    >\n      {{ t('drivers.deactivate.title') }}\n    </h4>\n\n    <template #body>\n      <div class=\"pl-10 pr-10\">\n        <div class=\"text info mb-10 mt-20\">\n          <span v-clean-html=\"formattedText\" />\n        </div>\n        <Banner\n          v-for=\"(err, i) in errors\"\n          :key=\"i\"\n          color=\"error\"\n          :label=\"err\"\n        />\n      </div>\n    </template>\n\n    <template #actions>\n      <button\n        class=\"btn role-secondary\"\n        @click=\"close\"\n      >\n        {{ t('generic.cancel') }}\n      </button>\n      <div class=\"spacer\" />\n      <AsyncButton\n        mode=\"deactivate\"\n        class=\"btn bg-error ml-10\"\n        :data-testid=\"'deactivate-driver-confirm'\"\n        @click=\"apply\"\n      />\n    </template>\n  </Card>\n</template>\n\n<style lang='scss'>\n  .prompt-deactivate {\n    &.card-container {\n      box-shadow: none;\n    }\n    #confirm {\n      width: 90%;\n      margin-left: 3px;\n    }\n\n    .actions {\n      text-align: right;\n    }\n\n    .card-actions {\n      display: flex;\n\n      .spacer {\n        flex: 1;\n      }\n    }\n  }\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,OAAAA,WAAA;AACA,SAAAC,IAAA;AACA,SAAAC,MAAA;AACA,SAAAC,sBAAA;AACA,SAAAC,aAAA;AACA,SAAAC,UAAA;AAEA;EACAC,UAAA;IACAL,IAAA,EAAAA,IAAA;IACAD,WAAA,EAAAA,WAAA;IACAE,MAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;IACAC,UAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;EACA;EAEAG,IAAA,WAAAA,KAAA;IACA;MAAAC,MAAA;IAAA;EACA;EACAC,QAAA,EAAAC,aAAA;IACAC,aAAA,WAAAA,cAAA;MACA,IAAAC,WAAA,QAAAX,OAAA,CAAAY,GAAA,WAAAC,GAAA;QAAA,OAAAA,GAAA,CAAAC,WAAA;MAAA,GAAAC,KAAA;MACA,IAAAC,SAAA,QAAAhB,OAAA,CAAAiB,MAAA,GAAAN,WAAA,CAAAM,MAAA;MAEA,IAAAC,QAAA,QAAAC,CAAA;QAAAC,KAAA,EAAAJ;MAAA;MACA,IAAAK,KAAA,GAAAzB,aAAA,CAAAe,WAAA,EAAAO,QAAA,OAAAC,CAAA;MACA,IAAAC,KAAA,GAAAJ,SAAA,IAAAL,WAAA,CAAAM,MAAA;MACA,IAAAK,cAAA,QAAAH,CAAA;QAAAE,KAAA,EAAAA,KAAA;QAAAD,KAAA,EAAAA;MAAA;MAEA,YAAAD,CAAA;QAAAG,cAAA,EAAAA,cAAA;QAAAF,KAAA,EAAAT,WAAA,CAAAM;MAAA;IACA;EAAA,GACApB,UAAA;IAAAsB,CAAA;EAAA,GACA;EACAI,OAAA;IACA3B,aAAA,EAAAA,aAAA;IACA4B,KAAA,WAAAA,MAAAC,UAAA;MACA,IAAAA,UAAA,WAAAA,UAAA;QACAA,UAAA;MACA;MACA,KAAAC,KAAA;IACA;IACAC,KAAA,WAAAA,MAAAF,UAAA;MAAA,IAAAG,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAC,OAAA,CAAAC,GAAA,CAAAX,KAAA,CAAA5B,OAAA,CAAAY,GAAA,CACA,UAAA4B,MAAA;gBAAA,OAAAZ,KAAA,CAAAa,MAAA,CAAAC,QAAA;kBACAC,GAAA,QAAAC,MAAA,CAAAhB,KAAA,CAAAxB,UAAA,OAAAwC,MAAA,CAAAC,MAAA,CAAAL,MAAA,CAAAM,EAAA;kBACAC,MAAA;gBACA;cAAA,CACA;YAAA;cAEAnB,KAAA,CAAAJ,KAAA,CAAAC,UAAA;cAAAU,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAa,EAAA,GAAAb,QAAA;cAEAP,KAAA,CAAArB,MAAA,GAAAZ,sBAAA,CAAAwC,QAAA,CAAAa,EAAA;cACAvB,UAAA;YAAA;YAAA;cAAA,OAAAU,QAAA,CAAAc,IAAA;UAAA;QAAA,GAAAjB,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}