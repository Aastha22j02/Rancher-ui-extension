{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/detail/namespace.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/detail/namespace.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgUmVzb3VyY2VzU3VtbWFyeSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mbGVldC9SZXNvdXJjZXNTdW1tYXJ5JzsKaW1wb3J0IFJlc291cmNlVGFicyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1Jlc291cmNlVGFicyc7CmltcG9ydCB7IENPVU5ULCBXT1JLTE9BRF9UWVBFUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBXT1JLTE9BRF9TQ0hFTUEgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NjaGVtYSc7CmltcG9ydCB7IGdldFN0YXRlc0J5VHlwZSB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CmltcG9ydCBNb3ZlTW9kYWwgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTW92ZU1vZGFsJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgZmxhdHRlbiwgY29tcGFjdCwgZmlsdGVyLCBmaW5kS2V5LCB2YWx1ZXMgfSBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUmVzb3VyY2VzU3VtbWFyeTogUmVzb3VyY2VzU3VtbWFyeSwKICAgIFJlc291cmNlVGFibGU6IFJlc291cmNlVGFibGUsCiAgICBSZXNvdXJjZVRhYnM6IFJlc291cmNlVGFicywKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBNb3ZlTW9kYWw6IE1vdmVNb2RhbCwKICAgIFRhYjogVGFiLAogICAgU29ydGFibGVUYWJsZTogU29ydGFibGVUYWJsZQogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICB2YWx1ZTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGhlYWRlcnMgPSBbewogICAgICBuYW1lOiAndHlwZScsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ3RhYmxlSGVhZGVycy5zaW1wbGVUeXBlJyksCiAgICAgIHZhbHVlOiAndHlwZScKICAgIH0sIHsKICAgICAgbmFtZTogJ2Vycm9yJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnJlc291cmNlU3RhdGVzLmVycm9yJyksCiAgICAgIHZhbHVlOiAnYnlTdGF0ZS5lcnJvcicsCiAgICAgIHNvcnQ6ICdieVN0YXRlLmVycm9yOmRlc2MnLAogICAgICBmb3JtYXR0ZXI6ICdOdW1iZXInCiAgICB9LCB7CiAgICAgIG5hbWU6ICd3YXJuaW5nJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnJlc291cmNlU3RhdGVzLndhcm5pbmcnKSwKICAgICAgdmFsdWU6ICdieVN0YXRlLndhcm5pbmcnLAogICAgICBzb3J0OiAnYnlTdGF0ZS53YXJuaW5nOmRlc2MnLAogICAgICBmb3JtYXR0ZXI6ICdOdW1iZXInCiAgICB9LCB7CiAgICAgIG5hbWU6ICd0cmFuc2l0aW9uaW5nJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnJlc291cmNlU3RhdGVzLmluZm8nKSwKICAgICAgdmFsdWU6ICdieVN0YXRlLmluZm8nLAogICAgICBzb3J0OiAnYnlTdGF0ZS5pbmZvOmRlc2MnLAogICAgICBmb3JtYXR0ZXI6ICdOdW1iZXInCiAgICB9LCB7CiAgICAgIG5hbWU6ICdhY3RpdmUnLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UucmVzb3VyY2VTdGF0ZXMuc3VjY2VzcycpLAogICAgICBzb3J0OiAnYnlTdGF0ZS5zdWNjZXNzOmRlc2MnLAogICAgICB2YWx1ZTogJ2J5U3RhdGUuc3VjY2VzcycKICAgIH0sIHsKICAgICAgbmFtZTogJ3Vua25vd24nLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UucmVzb3VyY2VTdGF0ZXMudW5rbm93bicpLAogICAgICBzb3J0OiAnYnlTdGF0ZS51bmtub3duOmRlc2MnLAogICAgICB2YWx1ZTogJ2J5U3RhdGUudW5rbm93bicsCiAgICAgIGZvcm1hdHRlcjogJ051bWJlcicKICAgIH0sIHsKICAgICAgbmFtZTogJ3RvdGFsJywKICAgICAgbGFiZWw6IHRoaXMudCgnbmFtZXNwYWNlLnRvdGFsJyksCiAgICAgIHNvcnQ6ICd0b3RhbENvdW50OmRlc2MnLAogICAgICB2YWx1ZTogJ3RvdGFsQ291bnQnCiAgICB9XTsKICAgIHJldHVybiB7CiAgICAgIGFsbFdvcmtsb2FkczogewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0sCiAgICAgICAgdHlwZTogQXJyYXkKICAgICAgfSwKICAgICAgcmVzb3VyY2VUeXBlczogW10sCiAgICAgIHN1bW1hcnlTdGF0ZXM6IFsnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZXJyb3InLCAndW5rbm93biddLAogICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICB3b3JrbG9hZFNjaGVtYTogV09SS0xPQURfU0NIRU1BCiAgICB9OwogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldEFsbFdvcmtsb2FkcygpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfdGhpcy5hbGxXb3JrbG9hZHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgaW5TdG9yZTogZnVuY3Rpb24gaW5TdG9yZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J10uaW5TdG9yZTsKICAgIH0sCiAgICBuYW1lc3BhY2VkUmVzb3VyY2VDb3VudHM6IGZ1bmN0aW9uIG5hbWVzcGFjZWRSZXNvdXJjZUNvdW50cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBhbGxDbHVzdGVyUmVzb3VyY2VDb3VudHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdCh0aGlzLmluU3RvcmUsICIvYWxsIildKENPVU5UKVswXS5jb3VudHM7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhbGxDbHVzdGVyUmVzb3VyY2VDb3VudHMpLnJlZHVjZShmdW5jdGlvbiAobmFtZXNwYWNlZCwgdHlwZSkgewogICAgICAgIHZhciB0eXBlQ291bnRzID0gYWxsQ2x1c3RlclJlc291cmNlQ291bnRzW3R5cGVdOwogICAgICAgIGlmICghdHlwZUNvdW50cy5uYW1lc3BhY2VzIHx8ICF0eXBlQ291bnRzLm5hbWVzcGFjZXNbX3RoaXMyLnZhbHVlLmlkXSkgewogICAgICAgICAgcmV0dXJuIG5hbWVzcGFjZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBpbk5hbWVzcGFjZSA9IHR5cGVDb3VudHMubmFtZXNwYWNlc1tfdGhpczIudmFsdWUuaWRdOwogICAgICAgIG5hbWVzcGFjZWQucHVzaCh7CiAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgYnlTdGF0ZTogX3RoaXMyLnJlZHVjZVN0YXRlcyhpbk5hbWVzcGFjZS5zdGF0ZXMgfHwge30sIGluTmFtZXNwYWNlLmNvdW50KSwKICAgICAgICAgIHRvdGFsQ291bnQ6IGluTmFtZXNwYWNlLmNvdW50LAogICAgICAgICAgc2NoZW1hOiBfdGhpczIuc2NoZW1hRm9yKHR5cGUpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZWQ7CiAgICAgIH0sIFtdKTsKICAgIH0sCiAgICBhY2N1bXVsYXRlZFN0YXRlQ291bnRzOiBmdW5jdGlvbiBhY2N1bXVsYXRlZFN0YXRlQ291bnRzKCkgewogICAgICB2YXIgdG90YWxzID0ge307CiAgICAgIGZvciAodmFyIHN0YXRlIGluIHRoaXMuc3RhdGVzQnlUeXBlKSB7CiAgICAgICAgdG90YWxzW3N0YXRlXSA9IDA7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMubmFtZXNwYWNlZFJlc291cmNlQ291bnRzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCB0eXBlKSB7CiAgICAgICAgZm9yICh2YXIgX3N0YXRlIGluIHR5cGUuYnlTdGF0ZSkgewogICAgICAgICAgc3VtW19zdGF0ZV0gKz0gdHlwZS5ieVN0YXRlW19zdGF0ZV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdW07CiAgICAgIH0sIHRvdGFscyk7CiAgICB9LAogICAgc3RhdGVzQnlUeXBlOiBmdW5jdGlvbiBzdGF0ZXNCeVR5cGUoKSB7CiAgICAgIHJldHVybiBnZXRTdGF0ZXNCeVR5cGUoKTsKICAgIH0sCiAgICAvKioKICAgICAqIFdvcmtsb2FkIHRhYmxlIGRhdGEgZm9yIGN1cnJlbnQgbmFtZXNwYWNlCiAgICAgKi8KICAgIHdvcmtsb2FkUm93czogZnVuY3Rpb24gd29ya2xvYWRSb3dzKCkgewogICAgICB2YXIgcGFyYW1zID0gdGhpcy4kcm91dGUucGFyYW1zOwogICAgICB2YXIgaWQgPSBwYXJhbXMuaWQ7CiAgICAgIHZhciByb3dzID0gZmxhdHRlbihjb21wYWN0KHRoaXMuYWxsV29ya2xvYWRzKSkuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICByZXR1cm4gIXJvdy5vd25lZEJ5V29ya2xvYWQ7CiAgICAgIH0pOwogICAgICB2YXIgbmFtZXNwYWNlZFJvd3MgPSBmaWx0ZXIocm93cywgZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgbmFtZXNwYWNlID0gX3JlZi5tZXRhZGF0YS5uYW1lc3BhY2U7CiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZSA9PT0gaWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gbmFtZXNwYWNlZFJvd3M7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBzb3J0IHN0YXRlcyBpbnRvIDUgY29sb3ItZGVsaW5lYXRlZCBjYXRlZ29yaWVzOiBpbmZvLCBlcnJvciwgc3VjY2Vzcywgd2FybmluZywgdW5rbm93bgogICAgcmVkdWNlU3RhdGVzOiBmdW5jdGlvbiByZWR1Y2VTdGF0ZXMoc3RhdGVzLCB0b3RhbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIG91dCA9IHsKICAgICAgICBzdWNjZXNzOiB0b3RhbAogICAgICB9OwogICAgICBPYmplY3Qua2V5cyhzdGF0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgb3V0LnN1Y2Nlc3MgLT0gc3RhdGVzW3N0YXRlXTsKICAgICAgICBpZiAoISFvdXRbc3RhdGVdKSB7CiAgICAgICAgICBvdXRbc3RhdGVdICs9IHN0YXRlc1tzdGF0ZV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBnZW5lcmljU3RhdGVLZXkgPSBmaW5kS2V5KF90aGlzMy5zdGF0ZXNCeVR5cGUsIGZ1bmN0aW9uIChzdGF0ZU5hbWVzKSB7CiAgICAgICAgICAgIHJldHVybiBzdGF0ZU5hbWVzLmluY2x1ZGVzKHN0YXRlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGdlbmVyaWNTdGF0ZUtleSkgewogICAgICAgICAgICBvdXRbZ2VuZXJpY1N0YXRlS2V5XSA/IG91dFtnZW5lcmljU3RhdGVLZXldICs9IHN0YXRlc1tzdGF0ZV0gOiBvdXRbZ2VuZXJpY1N0YXRlS2V5XSA9IHN0YXRlc1tzdGF0ZV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvdXQudW5rbm93biA/IG91dC51bmtub3duICs9IHN0YXRlc1tzdGF0ZV0gOiBvdXQudW5rbm93biA9IHN0YXRlc1tzdGF0ZV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICAvKioKICAgICAqIFJldHJpZXZlIHdvcmtsb2FkcyBmb3IgdGhpcyBuYW1lc3BhY2UgYW5kIGVhY2ggdHlwZQogICAgICovCiAgICBnZXRBbGxXb3JrbG9hZHM6IGZ1bmN0aW9uIGdldEFsbFdvcmtsb2FkcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBQcm9taXNlLmFsbCh2YWx1ZXMoV09SS0xPQURfVFlQRVMpCiAgICAgIC8vIFlvdSBtYXkgbm90IGhhdmUgUkJBQyB0byBzZWUgc29tZSBvZiB0aGUgdHlwZXMKICAgICAgLmZpbHRlcihmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHJldHVybiBCb29sZWFuKF90aGlzNC5zY2hlbWFGb3IodHlwZSkpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgdHlwZTogdHlwZQogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9LAogICAgc2NoZW1hRm9yOiBmdW5jdGlvbiBzY2hlbWFGb3IodHlwZSkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQodGhpcy5pblN0b3JlLCAiL3NjaGVtYUZvciIpXSh0eXBlKTsKICAgIH0sCiAgICB0eXBlTGlzdExvY2F0aW9uOiBmdW5jdGlvbiB0eXBlTGlzdExvY2F0aW9uKHNjaGVtYSkgewogICAgICB2YXIgX3NjaGVtYSRsaW5rczsKICAgICAgaWYgKHNjaGVtYSAhPT0gbnVsbCAmJiBzY2hlbWEgIT09IHZvaWQgMCAmJiAoX3NjaGVtYSRsaW5rcyA9IHNjaGVtYS5saW5rcykgIT09IG51bGwgJiYgX3NjaGVtYSRsaW5rcyAhPT0gdm9pZCAwICYmIF9zY2hlbWEkbGlua3MuY29sbGVjdGlvbikgewogICAgICAgIHZhciBsb2NhdGlvbiA9IHsKICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kcm91dGUucGFyYW1zKSwge30sIHsKICAgICAgICAgICAgcmVzb3VyY2U6IHNjaGVtYS5zaG9ydElkCiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGxvY2F0aW9uOwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"names":["CreateEditView","ResourcesSummary","ResourceTabs","COUNT","WORKLOAD_TYPES","WORKLOAD_SCHEMA","getStatesByType","MoveModal","Tab","ResourceTable","SortableTable","Loading","flatten","compact","filter","findKey","values","components","mixins","props","mode","default","type","String","value","required","Object","data","headers","name","label","t","sort","formatter","allWorkloads","Array","resourceTypes","summaryStates","workloadSchema","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getAllWorkloads","sent","stop","computed","inStore","$store","getters","namespacedResourceCounts","_this2","allClusterResourceCounts","concat","counts","keys","reduce","namespaced","typeCounts","namespaces","id","inNamespace","push","byState","reduceStates","states","count","totalCount","schema","schemaFor","accumulatedStateCounts","totals","state","statesByType","sum","workloadRows","params","$route","rows","row","ownedByWorkload","namespacedRows","_ref","namespace","metadata","methods","total","_this3","out","success","forEach","genericStateKey","stateNames","includes","unknown","_this4","Promise","all","Boolean","map","dispatch","typeListLocation","_schema$links","links","collection","location","_objectSpread","resource","shortId"],"sources":["node_modules/@rancher/shell/detail/namespace.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport ResourcesSummary from '@shell/components/fleet/ResourcesSummary';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport { COUNT, WORKLOAD_TYPES } from '@shell/config/types';\nimport { WORKLOAD_SCHEMA } from '@shell/config/schema';\nimport { getStatesByType } from '@shell/plugins/dashboard-store/resource-class';\nimport MoveModal from '@shell/components/MoveModal';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport SortableTable from '@shell/components/SortableTable';\nimport Loading from '@shell/components/Loading';\nimport {\n  flatten, compact, filter, findKey, values\n} from 'lodash';\n\nexport default {\n  components: {\n    ResourcesSummary,\n    ResourceTable,\n    ResourceTabs,\n    Loading,\n    MoveModal,\n    Tab,\n    SortableTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      default: 'create',\n      type:    String,\n    },\n    value: {\n      required: true,\n      type:     Object,\n    },\n  },\n\n  data() {\n    const headers = [\n      {\n        name:  'type',\n        label: this.t('tableHeaders.simpleType'),\n        value: 'type'\n      },\n      {\n        name:      'error',\n        label:     this.t('namespace.resourceStates.error'),\n        value:     'byState.error',\n        sort:      'byState.error:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'warning',\n        label:     this.t('namespace.resourceStates.warning'),\n        value:     'byState.warning',\n        sort:      'byState.warning:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'transitioning',\n        label:     this.t('namespace.resourceStates.info'),\n        value:     'byState.info',\n        sort:      'byState.info:desc',\n        formatter: 'Number'\n      },\n      {\n        name:  'active',\n        label: this.t('namespace.resourceStates.success'),\n        sort:  'byState.success:desc',\n        value: 'byState.success',\n      },\n      {\n        name:      'unknown',\n        label:     this.t('namespace.resourceStates.unknown'),\n        sort:      'byState.unknown:desc',\n        value:     'byState.unknown',\n        formatter: 'Number'\n      },\n      {\n        name:  'total',\n        label: this.t('namespace.total'),\n        sort:  'totalCount:desc',\n        value: 'totalCount',\n      },\n    ];\n\n    return {\n      allWorkloads: {\n        default: () => ([]),\n        type:    Array,\n      },\n      resourceTypes:  [],\n      summaryStates:  ['success', 'info', 'warning', 'error', 'unknown'],\n      headers,\n      workloadSchema: WORKLOAD_SCHEMA\n    };\n  },\n\n  async fetch() {\n    this.allWorkloads = await this.getAllWorkloads();\n  },\n\n  computed: {\n    inStore() {\n      return this.$store.getters['currentProduct'].inStore;\n    },\n\n    namespacedResourceCounts() {\n      const allClusterResourceCounts = this.$store.getters[`${ this.inStore }/all`](COUNT)[0].counts;\n\n      return Object.keys(allClusterResourceCounts).reduce((namespaced, type) => {\n        const typeCounts = allClusterResourceCounts[type];\n\n        if (!typeCounts.namespaces || !typeCounts.namespaces[this.value.id]) {\n          return namespaced;\n        }\n        const inNamespace = typeCounts.namespaces[this.value.id];\n\n        namespaced.push({\n          type,\n          byState:    this.reduceStates(inNamespace.states || {}, inNamespace.count),\n          totalCount: inNamespace.count,\n          schema:     this.schemaFor(type)\n        });\n\n        return namespaced;\n      }, []);\n    },\n\n    accumulatedStateCounts() {\n      const totals = {};\n\n      for (const state in this.statesByType) {\n        totals[state] = 0;\n      }\n\n      return this.namespacedResourceCounts.reduce((sum, type) => {\n        for (const state in type.byState) {\n          sum[state] += type.byState[state];\n        }\n\n        return sum;\n      }, totals);\n    },\n\n    statesByType() {\n      return getStatesByType();\n    },\n\n    /**\n     * Workload table data for current namespace\n     */\n    workloadRows() {\n      const params = this.$route.params;\n      const { id } = params;\n      const rows = flatten(compact(this.allWorkloads)).filter((row) => !row.ownedByWorkload);\n      const namespacedRows = filter(rows, ({ metadata: { namespace } }) => namespace === id);\n\n      return namespacedRows;\n    }\n  },\n\n  methods: {\n    // sort states into 5 color-delineated categories: info, error, success, warning, unknown\n    reduceStates(states, total) {\n      const out = { success: total };\n\n      Object.keys(states).forEach((state) => {\n        out.success -= states[state];\n        if (!!out[state]) {\n          out[state] += states[state];\n        } else {\n          const genericStateKey = findKey(\n            this.statesByType,\n            (stateNames) => stateNames.includes(state)\n          );\n\n          if (genericStateKey) {\n            out[genericStateKey] ? out[genericStateKey] += states[state] : out[genericStateKey] = states[state];\n          } else {\n            out.unknown ? out.unknown += states[state] : out.unknown = states[state];\n          }\n        }\n      });\n\n      return out;\n    },\n\n    /**\n     * Retrieve workloads for this namespace and each type\n     */\n    getAllWorkloads() {\n      return Promise.all(values(WORKLOAD_TYPES)\n        // You may not have RBAC to see some of the types\n        .filter((type) => Boolean(this.schemaFor(type)))\n        .map((type) => this.$store.dispatch('cluster/findAll', { type }))\n      );\n    },\n\n    schemaFor(type) {\n      return this.$store.getters[`${ this.inStore }/schemaFor`](type);\n    },\n\n    typeListLocation(schema) {\n      if (schema?.links?.collection) {\n        const location = {\n          name:   'c-cluster-product-resource',\n          params: { ...this.$route.params, resource: schema.shortId }\n        };\n\n        return location;\n      }\n\n      return null;\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n      <ResourcesSummary\n        state-key=\"namespace.resourceStates\"\n        :value=\"accumulatedStateCounts\"\n        :required-states=\"summaryStates\"\n      />\n    </div>\n    <ResourceTabs\n      v-model=\"value\"\n      :mode=\"mode\"\n    >\n      <Tab :name=\"t('namespace.resources')\">\n        <SortableTable\n          default-sort-by=\"error\"\n          :table-actions=\"false\"\n          :row-actions=\"false\"\n          :rows=\"namespacedResourceCounts\"\n          :headers=\"headers\"\n        >\n          <template #col:type=\"{row}\">\n            <td>\n              <router-link\n                v-if=\"typeListLocation(row.schema)\"\n                :to=\"typeListLocation(row.schema)\"\n              >\n                {{ row.schema.pluralName }}\n              </router-link>\n              <span v-else>{{ row.schema.pluralName }}</span>\n            </td>\n          </template>\n        </SortableTable>\n      </Tab>\n\n      <Tab :name=\"t('namespace.workloads')\">\n        <ResourceTable\n          name=\"workloads\"\n          :groupable=\"false\"\n          v-bind=\"$attrs\"\n          :schema=\"workloadSchema\"\n          :rows=\"workloadRows\"\n        />\n      </Tab>\n    </ResourceTabs>\n    <MoveModal />\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]}]}