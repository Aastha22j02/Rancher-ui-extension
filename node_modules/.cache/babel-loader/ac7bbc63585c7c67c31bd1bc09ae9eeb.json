{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQ0xVU1RFUl9CQURHRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IHsgQ2FyZCB9IGZyb20gJ0Bjb21wb25lbnRzL0NhcmQnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQ2x1c3RlckJhZGdlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NsdXN0ZXJCYWRnZSc7CmltcG9ydCBDbHVzdGVyUHJvdmlkZXJJY29uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NsdXN0ZXJQcm92aWRlckljb24nOwppbXBvcnQgeyBleGNlcHRpb25Ub0Vycm9yc0FycmF5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgQ29sb3JJbnB1dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0NvbG9ySW5wdXQnOwppbXBvcnQgeyBwYXJzZUNvbG9yLCB0ZXh0Q29sb3IgfSBmcm9tICdAc2hlbGwvdXRpbHMvY29sb3InOwppbXBvcnQgeyBOT1JNQU4gfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgYWJicmV2aWF0ZUNsdXN0ZXJOYW1lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2NsdXN0ZXInOwppbXBvcnQgeyBfQ1JFQVRFLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IENsdXN0ZXJJY29uTWVudSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DbHVzdGVySWNvbk1lbnUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZEN1c3RvbUJhZGdlRGlhbG9nJywKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkLAogICAgQXN5bmNCdXR0b246IEFzeW5jQnV0dG9uLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIENvbG9ySW5wdXQ6IENvbG9ySW5wdXQsCiAgICBDbHVzdGVyQmFkZ2U6IENsdXN0ZXJCYWRnZSwKICAgIENsdXN0ZXJJY29uTWVudTogQ2x1c3Rlckljb25NZW51LAogICAgQ2x1c3RlclByb3ZpZGVySWNvbjogQ2x1c3RlclByb3ZpZGVySWNvbgogIH0sCiAgcHJvcHM6IHsKICAgIGlzQ3JlYXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY2x1c3Rlck5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfQ1JFQVRFCiAgICB9LAogICAgY2x1c3RlckV4cGxvcmVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZUN1c3RvbUNvbW1lbnQ6IG51bGwsCiAgICAgIGVycm9yczogW10sCiAgICAgIGJhZGdlQmdDb2xvcjogJycsCiAgICAgIGJhZGdlQ29tbWVudDogJycsCiAgICAgIGJhZGdlQXNJY29uOiBudWxsLAogICAgICBiYWRnZUNvbG9yUGlja2VyOiBmYWxzZSwKICAgICAgbGV0dGVyOiAnJywKICAgICAgY2x1c3Rlcjoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuY2x1c3RlckV4cGxvcmVyKSB7CiAgICAgIHRoaXMuc2V0QmFkZ2VQcm9wZXJ0aWVzKHRoaXMuY2x1c3RlckV4cGxvcmVyKTsKICAgIH0KICAgIGlmICh0aGlzLmlzQ3JlYXRlKSB7CiAgICAgIHRoaXMuc2V0QmFkZ2VQcm9wZXJ0aWVzKHRoaXMuZ2V0UHJldmlld0NsdXN0ZXIpOwogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlciwgX3RoaXMkY3VycmVudENsdXN0ZXIkOwogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXIkMiwgX3RoaXMkYmFkZ2VDb21tZW50LCBfdGhpcyRjdXJyZW50Q2x1c3RlciQzLCBfdGhpcyRjdXJyZW50Q2x1c3RlciQ0LCBfdGhpcyRjdXJyZW50Q2x1c3RlciQ1OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEoX3RoaXMuaXNDcmVhdGUgfHwgX3RoaXMuY2x1c3RlckV4cGxvcmVyKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kJywgewogICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5DTFVTVEVSLAogICAgICAgICAgICAgIGlkOiAoX3RoaXMkY3VycmVudENsdXN0ZXIgPSBfdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyLmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpZiAoKF90aGlzJGN1cnJlbnRDbHVzdGVyJCA9IF90aGlzLmN1cnJlbnRDbHVzdGVyLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlciQgIT09IHZvaWQgMCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlciQuYW5ub3RhdGlvbnMpIHsKICAgICAgICAgICAgICBfdGhpcy5iYWRnZUNvbW1lbnQgPSAoX3RoaXMkY3VycmVudENsdXN0ZXIkMiA9IF90aGlzLmN1cnJlbnRDbHVzdGVyLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlciQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlciQyLmFubm90YXRpb25zW0NMVVNURVJfQkFER0UuVEVYVF07CiAgICAgICAgICAgICAgX3RoaXMudXNlQ3VzdG9tQ29tbWVudCA9ICgoX3RoaXMkYmFkZ2VDb21tZW50ID0gX3RoaXMuYmFkZ2VDb21tZW50KSA9PT0gbnVsbCB8fCBfdGhpcyRiYWRnZUNvbW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGJhZGdlQ29tbWVudC5sZW5ndGgpID4gMDsKICAgICAgICAgICAgICBfdGhpcy5iYWRnZUJnQ29sb3IgPSAoKF90aGlzJGN1cnJlbnRDbHVzdGVyJDMgPSBfdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIkMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXIkMy5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLkNPTE9SXSkgfHwgJ3RyYW5zcGFyZW50JzsKICAgICAgICAgICAgICBfdGhpcy5iYWRnZUFzSWNvbiA9ICEhKChfdGhpcyRjdXJyZW50Q2x1c3RlciQ0ID0gX3RoaXMuY3VycmVudENsdXN0ZXIubWV0YWRhdGEpICE9PSBudWxsICYmIF90aGlzJGN1cnJlbnRDbHVzdGVyJDQgIT09IHZvaWQgMCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlciQ0LmFubm90YXRpb25zW0NMVVNURVJfQkFER0UuSUNPTl9URVhUXSkgfHwgZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMuYmFkZ2VDb2xvclBpY2tlciA9IF90aGlzLmJhZGdlQmdDb2xvciAhPT0gJ3RyYW5zcGFyZW50JzsKICAgICAgICAgICAgICBfdGhpcy5sZXR0ZXIgPSAoKF90aGlzJGN1cnJlbnRDbHVzdGVyJDUgPSBfdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIkNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXIkNS5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLklDT05fVEVYVF0pIHx8IGFiYnJldmlhdGVDbHVzdGVyTmFtZShfdGhpcy5jdXJyZW50Q2x1c3Rlci5uYW1lRGlzcGxheSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIElORk86IElmIHRoZSB1c2VyIGhhcyBhIGN1c3RvbSBjb21tZW50LCBzZXQgdGhlIGJhZGdlIHRleHQKICAgIHVzZUN1c3RvbUNvbW1lbnQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXUsIG9sZCkgewogICAgICAgIGlmIChuZXUgIT09IG9sZCkgewogICAgICAgICAgdGhpcy5iYWRnZUNvbW1lbnQgPSBuZXUgPyB0aGlzLmJhZGdlQ29tbWVudCA6ICcnOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgYmFkZ2VDb2xvclBpY2tlcjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuYmFkZ2VCZ0NvbG9yID0gdGhpcy5iYWRnZUNvbG9yUGlja2VyID8gdGhpcy5iYWRnZUJnQ29sb3IgOiAndHJhbnNwYXJlbnQnOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBiYWRnZUFzSWNvbjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ldSwgb2xkKSB7CiAgICAgICAgaWYgKG5ldSAhPT0gb2xkKSB7CiAgICAgICAgICB0aGlzLmxldHRlciA9IG5ldSA/IHRoaXMubGV0dGVyIDogYWJicmV2aWF0ZUNsdXN0ZXJOYW1lKHRoaXMuY2x1c3Rlck5hbWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSksIG1hcEdldHRlcnMoJ2N1c3RvbWlzYXRpb24nLCBbJ2dldFByZXZpZXdDbHVzdGVyJ10pKSwge30sIHsKICAgIGNhblN1Ym1pdDogZnVuY3Rpb24gY2FuU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudENsdXN0ZXIkNiwgX3RoaXMkY3VycmVudENsdXN0ZXIkNzsKICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX0NSRUFURSkgewogICAgICAgIHJldHVybiB0aGlzLmJhZGdlQXNJY29uIHx8IHRoaXMudXNlQ3VzdG9tQ29tbWVudDsKICAgICAgfQogICAgICBpZiAodGhpcy5tb2RlID09PSBfRURJVCkgewogICAgICAgIGlmICh0aGlzLnVzZUN1c3RvbUNvbW1lbnQgJiYgdGhpcy5iYWRnZUNvbW1lbnQubGVuZ3RoIDw9IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuYmFkZ2VBc0ljb24gJiYgdGhpcy5sZXR0ZXIubGVuZ3RoIDw9IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuYmFkZ2VBc0ljb24gIT09ICgoX3RoaXMkY3VycmVudENsdXN0ZXIkNiA9IHRoaXMuY3VycmVudENsdXN0ZXIubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyJDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyJDYuYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5JQ09OX1RFWFRdKSB8fCB0aGlzLnVzZUN1c3RvbUNvbW1lbnQgIT09ICEhKChfdGhpcyRjdXJyZW50Q2x1c3RlciQ3ID0gdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIkNyAhPT0gdm9pZCAwICYmIF90aGlzJGN1cnJlbnRDbHVzdGVyJDcuYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5URVhUXSkgfHwgdGhpcy5iYWRnZUFzSWNvbiAmJiB0aGlzLmxldHRlci5sZW5ndGggPiAxOwogICAgfSwKICAgIC8vIEZha2UgY2x1c3RlciBvYmplY3QgZm9yIHVzZSB3aXRoIGJhZGdlIGNvbXBvbmVudAogICAgcHJldmlld0NsdXN0ZXI6IGZ1bmN0aW9uIHByZXZpZXdDbHVzdGVyKCkgewogICAgICByZXR1cm4gdGhpcy5pc0NyZWF0ZSB8fCAhdGhpcy5jdXJyZW50Q2x1c3RlciA/IHRoaXMuZ2VuZXJhdGVCYWRnZU9iamVjdChmYWxzZSwgJycsIHRydWUpIDogdGhpcy5nZW5lcmF0ZUJhZGdlT2JqZWN0KHRoaXMuY3VycmVudENsdXN0ZXIuaXNMb2NhbCwgdGhpcy5jdXJyZW50Q2x1c3Rlci5wcm92aWRlck5hdkxvZ28sIHRoaXMuY3VycmVudENsdXN0ZXIucmVhZHkpOwogICAgfSwKICAgIGRpc3BsYXlDbHVzdGVyUHJldkljb246IGZ1bmN0aW9uIGRpc3BsYXlDbHVzdGVyUHJldkljb24oKSB7CiAgICAgIHZhciBfdGhpcyRwcmV2aWV3Q2x1c3RlcjsKICAgICAgcmV0dXJuICF0aGlzLmJhZGdlQXNJY29uID8gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnByZXZpZXdDbHVzdGVyLmJhZGdlKSwge30sIHsKICAgICAgICBpY29uVGV4dDogbnVsbAogICAgICB9KSA6IChfdGhpcyRwcmV2aWV3Q2x1c3RlciA9IHRoaXMucHJldmlld0NsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJHByZXZpZXdDbHVzdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcmV2aWV3Q2x1c3Rlci5iYWRnZTsKICAgIH0sCiAgICBwcmV2aWV3TmFtZTogZnVuY3Rpb24gcHJldmlld05hbWUoKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlcjI7CiAgICAgIGlmICh0aGlzLmlzQ3JlYXRlIHx8IHRoaXMuY2x1c3RlckV4cGxvcmVyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2x1c3Rlck5hbWU7CiAgICAgIH0KICAgICAgcmV0dXJuICgoX3RoaXMkY3VycmVudENsdXN0ZXIyID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50Q2x1c3RlcjIubmFtZURpc3BsYXkpIHx8ICcnOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICAvLyBJTkZPOiBTZXQgdGhlIGJhZGdlIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIGNsdXN0ZXIgb2JqZWN0CiAgICBzZXRCYWRnZVByb3BlcnRpZXM6IGZ1bmN0aW9uIHNldEJhZGdlUHJvcGVydGllcyhjbHVzdGVyKSB7CiAgICAgIHZhciBfdGhpcyRjbHVzdGVyLCBfdGhpcyRjbHVzdGVyMiwgX3RoaXMkY2x1c3RlcjMsIF90aGlzJGNsdXN0ZXI0LCBfdGhpcyRjbHVzdGVyNTsKICAgICAgdGhpcy5jbHVzdGVyID0gY2x1c3RlcjsKICAgICAgdGhpcy5iYWRnZUFzSWNvbiA9ICgoX3RoaXMkY2x1c3RlciA9IHRoaXMuY2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlciA9PT0gdm9pZCAwIHx8IChfdGhpcyRjbHVzdGVyID0gX3RoaXMkY2x1c3Rlci5iYWRnZSkgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlciA9PT0gdm9pZCAwIHx8IChfdGhpcyRjbHVzdGVyID0gX3RoaXMkY2x1c3Rlci5pY29uVGV4dCkgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2x1c3Rlci5sZW5ndGgpID4gMCB8fCBmYWxzZTsKICAgICAgdGhpcy5sZXR0ZXIgPSAoKF90aGlzJGNsdXN0ZXIyID0gdGhpcy5jbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjbHVzdGVyMiA9PT0gdm9pZCAwIHx8IChfdGhpcyRjbHVzdGVyMiA9IF90aGlzJGNsdXN0ZXIyLmJhZGdlKSA9PT0gbnVsbCB8fCBfdGhpcyRjbHVzdGVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2x1c3RlcjIuaWNvblRleHQpIHx8IGFiYnJldmlhdGVDbHVzdGVyTmFtZSh0aGlzLmNsdXN0ZXJOYW1lKTsKICAgICAgdGhpcy51c2VDdXN0b21Db21tZW50ID0gKChfdGhpcyRjbHVzdGVyMyA9IHRoaXMuY2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlcjMgPT09IHZvaWQgMCB8fCAoX3RoaXMkY2x1c3RlcjMgPSBfdGhpcyRjbHVzdGVyMy5iYWRnZSkgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlcjMgPT09IHZvaWQgMCB8fCAoX3RoaXMkY2x1c3RlcjMgPSBfdGhpcyRjbHVzdGVyMy50ZXh0KSA9PT0gbnVsbCB8fCBfdGhpcyRjbHVzdGVyMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2x1c3RlcjMubGVuZ3RoKSA+IDAgfHwgZmFsc2U7CiAgICAgIHRoaXMuYmFkZ2VCZ0NvbG9yID0gKChfdGhpcyRjbHVzdGVyNCA9IHRoaXMuY2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlcjQgPT09IHZvaWQgMCB8fCAoX3RoaXMkY2x1c3RlcjQgPSBfdGhpcyRjbHVzdGVyNC5iYWRnZSkgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlcjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNsdXN0ZXI0LmNvbG9yKSB8fCAndHJhbnNwYXJlbnQnOwogICAgICB0aGlzLmJhZGdlQ29tbWVudCA9ICgoX3RoaXMkY2x1c3RlcjUgPSB0aGlzLmNsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJGNsdXN0ZXI1ID09PSB2b2lkIDAgfHwgKF90aGlzJGNsdXN0ZXI1ID0gX3RoaXMkY2x1c3RlcjUuYmFkZ2UpID09PSBudWxsIHx8IF90aGlzJGNsdXN0ZXI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjbHVzdGVyNS50ZXh0KSB8fCBudWxsOwogICAgICB0aGlzLmJhZGdlQ29sb3JQaWNrZXIgPSB0aGlzLmJhZGdlQmdDb2xvciAhPT0gJ3RyYW5zcGFyZW50JzsKICAgIH0sCiAgICAvLyBJTkZPOiBHZW5lcmF0ZSBhIGJhZGdlIG9iamVjdCBmb3IgdGhlIHByZXZpZXcgY2x1c3RlcgogICAgZ2VuZXJhdGVCYWRnZU9iamVjdDogZnVuY3Rpb24gZ2VuZXJhdGVCYWRnZU9iamVjdChpc0xvY2FsLCBwcm92aWRlck5hdkxvZ28sIHJlYWR5KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXNMb2NhbDogaXNMb2NhbCwKICAgICAgICBwcm92aWRlck5hdkxvZ286IHByb3ZpZGVyTmF2TG9nbywKICAgICAgICByZWFkeTogcmVhZHkgIT09IG51bGwgJiYgcmVhZHkgIT09IHZvaWQgMCA/IHJlYWR5IDogdHJ1ZSwKICAgICAgICByZW1vdmVQcmV2aWV3Q29sb3I6ICF0aGlzLmJhZGdlQXNJY29uLAogICAgICAgIGJhZGdlOiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLmJhZGdlQ29tbWVudCwKICAgICAgICAgIGNvbG9yOiB0aGlzLmJhZGdlQmdDb2xvciwKICAgICAgICAgIHRleHRDb2xvcjogdGV4dENvbG9yKHBhcnNlQ29sb3IodGhpcy5iYWRnZUJnQ29sb3IpKSwKICAgICAgICAgIGljb25UZXh0OiB0aGlzLmJhZGdlQXNJY29uID8gdGhpcy5sZXR0ZXIudG9VcHBlckNhc2UoKSA6IGFiYnJldmlhdGVDbHVzdGVyTmFtZSh0aGlzLnByZXZpZXdOYW1lKQogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoYnV0dG9uRG9uZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMiRjdXJyZW50Q2x1c3Rlciwgbm9ybWFuOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIGlmICghKCFfdGhpczIuaXNDcmVhdGUgJiYgIV90aGlzMi5jbHVzdGVyRXhwbG9yZXIpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLkNMVVNURVIsCiAgICAgICAgICAgICAgICBpZDogKF90aGlzMiRjdXJyZW50Q2x1c3RlciA9IF90aGlzMi5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMyJGN1cnJlbnRDbHVzdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY3VycmVudENsdXN0ZXIuaWQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIG5vcm1hbiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGRlbGV0ZSBub3JtYW4uYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5DT0xPUl07CiAgICAgICAgICAgICAgZGVsZXRlIG5vcm1hbi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLklDT05fVEVYVF07CiAgICAgICAgICAgICAgZGVsZXRlIG5vcm1hbi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLlRFWFRdOwogICAgICAgICAgICAgIF90aGlzMi4kc2V0KG5vcm1hbi5hbm5vdGF0aW9ucywgQ0xVU1RFUl9CQURHRS5DT0xPUiwgX3RoaXMyLmJhZGdlQ29sb3JQaWNrZXIgPyBfdGhpczIuYmFkZ2VCZ0NvbG9yIDogJ3RyYW5zcGFyZW50Jyk7CiAgICAgICAgICAgICAgX3RoaXMyLiRzZXQobm9ybWFuLmFubm90YXRpb25zLCBDTFVTVEVSX0JBREdFLklDT05fVEVYVCwgX3RoaXMyLmxldHRlci50b1VwcGVyQ2FzZSgpKTsKICAgICAgICAgICAgICBfdGhpczIuJHNldChub3JtYW4uYW5ub3RhdGlvbnMsIENMVVNURVJfQkFER0UuVEVYVCwgX3RoaXMyLmJhZGdlQ29tbWVudCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gbm9ybWFuLnNhdmUoKTsKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBidXR0b25Eb25lKHRydWUpOwogICAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgLy8gSU5GTzogSWYgaXQncyBhIGNyZWF0ZSwgdXBkYXRlIHRoZSBwcmV2aWV3IGNsdXN0ZXIgb2JqZWN0IGluIHRoZSBzdG9yZS4KICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnY3VzdG9taXNhdGlvbi9zZXRQcmV2aWV3Q2x1c3RlcicsIF9vYmplY3RTcHJlYWQoe30sIF90aGlzMi5wcmV2aWV3Q2x1c3RlcikpOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gZXhjZXB0aW9uVG9FcnJvcnNBcnJheShfY29udGV4dDIudDApOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","CLUSTER_BADGE","AsyncButton","Card","Banner","ClusterBadge","ClusterProviderIcon","exceptionToErrorsArray","Checkbox","LabeledInput","ColorInput","parseColor","textColor","NORMAN","abbreviateClusterName","_CREATE","_EDIT","ClusterIconMenu","name","components","props","isCreate","type","Boolean","default","clusterName","String","mode","clusterExplorer","Object","data","useCustomComment","errors","badgeBgColor","badgeComment","badgeAsIcon","badgeColorPicker","letter","cluster","created","setBadgeProperties","getPreviewCluster","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$currentCluster","_this$currentCluster$","_this$currentCluster$2","_this$badgeComment","_this$currentCluster$3","_this$currentCluster$4","_this$currentCluster$5","wrap","_callee$","_context","prev","next","abrupt","$store","dispatch","CLUSTER","id","currentCluster","metadata","annotations","TEXT","length","COLOR","ICON_TEXT","nameDisplay","stop","watch","handler","neu","old","immediate","computed","_objectSpread","canSubmit","_this$currentCluster$6","_this$currentCluster$7","previewCluster","generateBadgeObject","isLocal","providerNavLogo","ready","displayClusterPrevIcon","_this$previewCluster","badge","iconText","previewName","_this$currentCluster2","methods","close","$emit","_this$cluster","_this$cluster2","_this$cluster3","_this$cluster4","_this$cluster5","text","color","removePreviewColor","toUpperCase","apply","buttonDone","_this2","_callee2","_this2$currentCluster","norman","_callee2$","_context2","sent","$set","save","commit","t0"],"sources":["node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { CLUSTER_BADGE } from '@shell/config/labels-annotations';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport ClusterBadge from '@shell/components/ClusterBadge';\nimport ClusterProviderIcon from '@shell/components/ClusterProviderIcon';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ColorInput from '@shell/components/form/ColorInput';\nimport { parseColor, textColor } from '@shell/utils/color';\nimport { NORMAN } from '@shell/config/types';\nimport { abbreviateClusterName } from '@shell/utils/cluster';\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport ClusterIconMenu from '@shell/components/ClusterIconMenu';\n\nexport default {\n  name:       'AddCustomBadgeDialog',\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n    Checkbox,\n    LabeledInput,\n    ColorInput,\n    ClusterBadge,\n    ClusterIconMenu,\n    ClusterProviderIcon,\n  },\n  props: {\n    isCreate:        { type: Boolean, default: false },\n    clusterName:     { type: String, default: '' },\n    mode:            { type: String, default: _CREATE },\n    clusterExplorer: {\n      type:    Object,\n      default: null\n    },\n  },\n  data() {\n    return {\n      useCustomComment: null,\n      errors:           [],\n      badgeBgColor:     '',\n      badgeComment:     '',\n      badgeAsIcon:      null,\n      badgeColorPicker: false,\n      letter:           '',\n      cluster:          {},\n    };\n  },\n  created() {\n    if (this.clusterExplorer) {\n      this.setBadgeProperties(this.clusterExplorer);\n    }\n\n    if (this.isCreate) {\n      this.setBadgeProperties(this.getPreviewCluster);\n    }\n  },\n\n  async fetch() {\n    // INFO: Do not fetch the cluster object if it's a create or cluster explorer since it won't exist\n    if (this.isCreate || this.clusterExplorer) {\n      return;\n    }\n    // INFO: Fetch the cluster object if it's an edit\n    await this.$store.dispatch('rancher/find', { type: NORMAN.CLUSTER, id: this.currentCluster?.id });\n\n    if (this.currentCluster.metadata?.annotations) {\n      this.badgeComment = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.TEXT];\n      this.useCustomComment = this.badgeComment?.length > 0;\n      this.badgeBgColor = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.COLOR] || 'transparent';\n      this.badgeAsIcon = !!this.currentCluster.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || false;\n      this.badgeColorPicker = this.badgeBgColor !== 'transparent';\n      this.letter = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || abbreviateClusterName(this.currentCluster.nameDisplay);\n    }\n  },\n  watch: {\n    // INFO: If the user has a custom comment, set the badge text\n    useCustomComment: {\n      handler(neu, old) {\n        if (neu !== old) {\n          this.badgeComment = neu ? this.badgeComment : '';\n        }\n      },\n      immediate: true,\n    },\n    badgeColorPicker: {\n      handler() {\n        this.badgeBgColor = this.badgeColorPicker ? this.badgeBgColor : 'transparent';\n      },\n      immediate: true,\n    },\n    badgeAsIcon: {\n      handler(neu, old) {\n        if (neu !== old) {\n          this.letter = neu ? this.letter : abbreviateClusterName(this.clusterName);\n        }\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters('customisation', ['getPreviewCluster']),\n    canSubmit() {\n      if (this.mode === _CREATE) {\n        return this.badgeAsIcon || this.useCustomComment;\n      }\n\n      if (this.mode === _EDIT) {\n        if (this.useCustomComment && this.badgeComment.length <= 0) {\n          return false;\n        }\n\n        if (this.badgeAsIcon && this.letter.length <= 0) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return this.badgeAsIcon !== this.currentCluster.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || this.useCustomComment !== !!this.currentCluster.metadata?.annotations[CLUSTER_BADGE.TEXT] || (this.badgeAsIcon && this.letter.length > 1);\n    },\n    // Fake cluster object for use with badge component\n    previewCluster() {\n      return this.isCreate || !this.currentCluster ? this.generateBadgeObject(false, '', true) : this.generateBadgeObject(this.currentCluster.isLocal, this.currentCluster.providerNavLogo, this.currentCluster.ready);\n    },\n\n    displayClusterPrevIcon() {\n      return !this.badgeAsIcon ? { ...this.previewCluster.badge, iconText: null } : this.previewCluster?.badge;\n    },\n\n    previewName() {\n      if (this.isCreate || this.clusterExplorer) {\n        return this.clusterName;\n      }\n\n      return this.currentCluster?.nameDisplay || '';\n    },\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n\n    // INFO: Set the badge properties based on the cluster object\n    setBadgeProperties(cluster) {\n      this.cluster = cluster;\n      this.badgeAsIcon = this.cluster?.badge?.iconText?.length > 0 || false;\n      this.letter = this.cluster?.badge?.iconText || abbreviateClusterName(this.clusterName);\n      this.useCustomComment = this.cluster?.badge?.text?.length > 0 || false;\n      this.badgeBgColor = this.cluster?.badge?.color || 'transparent';\n      this.badgeComment = this.cluster?.badge?.text || null;\n      this.badgeColorPicker = this.badgeBgColor !== 'transparent';\n    },\n\n    // INFO: Generate a badge object for the preview cluster\n    generateBadgeObject(isLocal, providerNavLogo, ready) {\n      return {\n        isLocal,\n        providerNavLogo,\n        ready:              ready ?? true,\n        removePreviewColor: !this.badgeAsIcon,\n        badge:              {\n          text:      this.badgeComment,\n          color:     this.badgeBgColor,\n          textColor: textColor(parseColor(this.badgeBgColor)),\n          iconText:  this.badgeAsIcon ? this.letter.toUpperCase() : abbreviateClusterName(this.previewName),\n        }\n      };\n    },\n\n    async apply(buttonDone) {\n      try {\n        // INFO: If we're editing a cluster, update the cluster object\n        if (!this.isCreate && !this.clusterExplorer) {\n          const norman = await this.$store.dispatch('rancher/find', { type: NORMAN.CLUSTER, id: this.currentCluster?.id });\n\n          delete norman.annotations[CLUSTER_BADGE.COLOR];\n          delete norman.annotations[CLUSTER_BADGE.ICON_TEXT];\n          delete norman.annotations[CLUSTER_BADGE.TEXT];\n\n          this.$set(norman.annotations, CLUSTER_BADGE.COLOR, this.badgeColorPicker ? this.badgeBgColor : 'transparent');\n          this.$set(norman.annotations, CLUSTER_BADGE.ICON_TEXT, this.letter.toUpperCase());\n          this.$set(norman.annotations, CLUSTER_BADGE.TEXT, this.badgeComment);\n\n          await norman.save();\n\n          buttonDone(true);\n          this.close();\n        } else {\n          // INFO: If it's a create, update the preview cluster object in the store.\n          this.$store.commit('customisation/setPreviewCluster', { ...this.previewCluster });\n\n          buttonDone(true);\n          this.close();\n        }\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Card\n    class=\"prompt-badge\"\n    :show-highlight-border=\"false\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text\"\n    >\n      {{ t('clusterBadge.modal.title') }}\n    </h4>\n\n    <div\n      slot=\"body\"\n      class=\"cluster-badge-body\"\n    >\n      <div>{{ t('clusterBadge.modal.previewTitle') }}</div>\n      <div class=\"badge-preview\">\n        <div class=\"badge-preview-sidenav\">\n          <p> {{ t('clusterBadge.modal.previewSide') }}</p>\n\n          <div>\n            <ClusterIconMenu :cluster=\"previewCluster\" />\n            <span>{{ clusterName }}</span>\n          </div>\n        </div>\n        <span class=\"badge-preview-separator\" />\n        <div class=\"badge-preview-header\">\n          <p> {{ t('clusterBadge.modal.previewHeader') }}</p>\n          <div\n            class=\"col span-12\"\n          >\n            <ClusterProviderIcon\n              :cluster=\"{...previewCluster, badge: displayClusterPrevIcon}\"\n            />\n            <div class=\"cluster-name\">\n              {{ previewName }}\n            </div>\n            <ClusterBadge\n              v-if=\"useCustomComment\"\n              :cluster=\"previewCluster\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"badge-customisation\">\n        <!-- Badge abbreviation toggle & customisation -->\n        <div class=\"badge-customisation-badge\">\n          <Checkbox\n            v-model=\"badgeAsIcon\"\n            :label=\"t('clusterBadge.modal.badgeAsIcon')\"\n\n            :tooltip=\"t('clusterBadge.modal.maxCharsTooltip')\"\n          />\n\n          <LabeledInput\n            v-model.trim=\"letter\"\n            :disabled=\"!badgeAsIcon\"\n            class=\"badge-icon-text\"\n            :label=\"t('clusterBadge.modal.iconText')\"\n            :maxlength=\"3\"\n          />\n        </div>\n\n        <!-- Comment toggle & customisation section -->\n        <div>\n          <Checkbox\n            v-model=\"useCustomComment\"\n            :label=\"t('clusterBadge.modal.checkbox')\"\n          />\n\n          <LabeledInput\n            v-model.trim=\"badgeComment\"\n            :disabled=\"!useCustomComment\"\n            :label=\"t('clusterBadge.modal.comment')\"\n            :maxlength=\"32\"\n          />\n        </div>\n\n        <!-- Color toggle & customisation section -->\n        <div class=\"badge-customisation-color\">\n          <Checkbox\n            v-model=\"badgeColorPicker\"\n            :label=\"t('clusterBadge.modal.badgeBgColor')\"\n          />\n          <ColorInput\n            v-model=\"badgeBgColor\"\n            :disabled=\"!badgeColorPicker\"\n            :default-value=\"badgeBgColor\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div\n      slot=\"actions\"\n      class=\"bottom\"\n    >\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n      <div class=\"buttons\">\n        <button\n          class=\"btn role-secondary mr-10\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n        <AsyncButton\n          :action-label=\"t('clusterBadge.modal.buttonAction')\"\n          :disabled=\"!canSubmit\"\n          @click=\"apply\"\n        />\n      </div>\n    </div>\n  </Card>\n</template>\n<style lang='scss' scoped>\n.card-container {\n  padding: 1rem;\n}\n\n.badge-preview {\n  display: flex;\n  width: 100%;\n  gap: 40px;\n  padding: 10px 5px;\n  margin-bottom: 30px;\n  margin-top: 5px;\n  background: var(--body-bg);\n  border-radius: 5px;\n\n  p {\n    font-size: 11px;\n    font-weight: light;\n    padding: 5px 0;\n  }\n\n  &-sidenav {\n    display: flex;\n    flex-direction: column;\n\n    div {\n      display: flex;\n      gap: 10px;\n      align-items: center;\n    }\n  }\n\n  &-separator {\n    display: flex;\n    border-left: 1px solid var(--border);\n    width: 2px;\n    height: 30px;\n    align-self: end;\n  }\n\n   &-header {\n    display: flex;\n    flex-direction: column;\n\n    div {\n      display: flex;\n      min-height: 32px;\n      align-items: center;\n\n      .cluster-badge {\n        min-height: auto;\n      }\n    }\n  }\n}\n\n.prompt-badge {\n  margin: 0;\n\n  .cluster-badge-body {\n    min-height: 50px;\n    display: flex;\n    flex-direction: column;\n\n    .cluster-name {\n      margin: 0 10px;\n      font-size: 16px;\n    }\n\n    .cluster-badge-icon-preview {\n      width: 32px;\n      height: 32px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 5px;\n      font-weight: bold;\n    }\n\n    .cluster-badge-preview {\n      cursor: default;\n      border-radius: 10px;\n      font-size: 12px;\n      padding: 2px 10px;\n    }\n\n    ::v-deep .badge-icon-text input {\n      text-transform: uppercase;\n    }\n  }\n}\n\n.badge-customisation {\n  display: flex;\n  gap: 10px;\n\n  div {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    gap: 10px;\n\n    .color-input {\n      display: flex;\n      padding: 6px 10px;\n      min-height: 61px;\n    }\n  }\n\n  &-color {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n}\n\n.bottom {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  .banner {\n    margin-top: 0;\n  }\n\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;AACA,SAAAA,UAAA;AACA,SAAAC,aAAA;AACA,OAAAC,WAAA;AACA,SAAAC,IAAA;AACA,SAAAC,MAAA;AACA,OAAAC,YAAA;AACA,OAAAC,mBAAA;AACA,SAAAC,sBAAA;AACA,SAAAC,QAAA;AACA,SAAAC,YAAA;AACA,OAAAC,UAAA;AACA,SAAAC,UAAA,EAAAC,SAAA;AACA,SAAAC,MAAA;AACA,SAAAC,qBAAA;AACA,SAAAC,OAAA,EAAAC,KAAA;AACA,OAAAC,eAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAhB,IAAA,EAAAA,IAAA;IACAD,WAAA,EAAAA,WAAA;IACAE,MAAA,EAAAA,MAAA;IACAI,QAAA,EAAAA,QAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,UAAA,EAAAA,UAAA;IACAL,YAAA,EAAAA,YAAA;IACAY,eAAA,EAAAA,eAAA;IACAX,mBAAA,EAAAA;EACA;EACAc,KAAA;IACAC,QAAA;MAAAC,IAAA,EAAAC,OAAA;MAAAC,OAAA;IAAA;IACAC,WAAA;MAAAH,IAAA,EAAAI,MAAA;MAAAF,OAAA;IAAA;IACAG,IAAA;MAAAL,IAAA,EAAAI,MAAA;MAAAF,OAAA,EAAAT;IAAA;IACAa,eAAA;MACAN,IAAA,EAAAO,MAAA;MACAL,OAAA;IACA;EACA;EACAM,IAAA,WAAAA,KAAA;IACA;MACAC,gBAAA;MACAC,MAAA;MACAC,YAAA;MACAC,YAAA;MACAC,WAAA;MACAC,gBAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,SAAAX,eAAA;MACA,KAAAY,kBAAA,MAAAZ,eAAA;IACA;IAEA,SAAAP,QAAA;MACA,KAAAmB,kBAAA,MAAAC,iBAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,oBAAA,EAAAC,qBAAA;MAAA,IAAAC,sBAAA,EAAAC,kBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MAAA,OAAAT,mBAAA,CAAAU,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,MAEAhB,KAAA,CAAAtB,QAAA,IAAAsB,KAAA,CAAAf,eAAA;cAAA6B,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,OAAAF,QAAA,CAAAG,MAAA;UAAA;YAAAH,QAAA,CAAAE,IAAA;YAAA,OAIAhB,KAAA,CAAAkB,MAAA,CAAAC,QAAA;cAAAxC,IAAA,EAAAT,MAAA,CAAAkD,OAAA;cAAAC,EAAA,GAAAhB,oBAAA,GAAAL,KAAA,CAAAsB,cAAA,cAAAjB,oBAAA,uBAAAA,oBAAA,CAAAgB;YAAA;UAAA;YAEA,KAAAf,qBAAA,GAAAN,KAAA,CAAAsB,cAAA,CAAAC,QAAA,cAAAjB,qBAAA,eAAAA,qBAAA,CAAAkB,WAAA;cACAxB,KAAA,CAAAT,YAAA,IAAAgB,sBAAA,GAAAP,KAAA,CAAAsB,cAAA,CAAAC,QAAA,cAAAhB,sBAAA,uBAAAA,sBAAA,CAAAiB,WAAA,CAAAlE,aAAA,CAAAmE,IAAA;cACAzB,KAAA,CAAAZ,gBAAA,KAAAoB,kBAAA,GAAAR,KAAA,CAAAT,YAAA,cAAAiB,kBAAA,uBAAAA,kBAAA,CAAAkB,MAAA;cACA1B,KAAA,CAAAV,YAAA,KAAAmB,sBAAA,GAAAT,KAAA,CAAAsB,cAAA,CAAAC,QAAA,cAAAd,sBAAA,uBAAAA,sBAAA,CAAAe,WAAA,CAAAlE,aAAA,CAAAqE,KAAA;cACA3B,KAAA,CAAAR,WAAA,OAAAkB,sBAAA,GAAAV,KAAA,CAAAsB,cAAA,CAAAC,QAAA,cAAAb,sBAAA,eAAAA,sBAAA,CAAAc,WAAA,CAAAlE,aAAA,CAAAsE,SAAA;cACA5B,KAAA,CAAAP,gBAAA,GAAAO,KAAA,CAAAV,YAAA;cACAU,KAAA,CAAAN,MAAA,KAAAiB,sBAAA,GAAAX,KAAA,CAAAsB,cAAA,CAAAC,QAAA,cAAAZ,sBAAA,uBAAAA,sBAAA,CAAAa,WAAA,CAAAlE,aAAA,CAAAsE,SAAA,MAAAzD,qBAAA,CAAA6B,KAAA,CAAAsB,cAAA,CAAAO,WAAA;YACA;UAAA;UAAA;YAAA,OAAAf,QAAA,CAAAgB,IAAA;QAAA;MAAA,GAAA1B,OAAA;IAAA;EACA;EACA2B,KAAA;IACA;IACA3C,gBAAA;MACA4C,OAAA,WAAAA,QAAAC,GAAA,EAAAC,GAAA;QACA,IAAAD,GAAA,KAAAC,GAAA;UACA,KAAA3C,YAAA,GAAA0C,GAAA,QAAA1C,YAAA;QACA;MACA;MACA4C,SAAA;IACA;IACA1C,gBAAA;MACAuC,OAAA,WAAAA,QAAA;QACA,KAAA1C,YAAA,QAAAG,gBAAA,QAAAH,YAAA;MACA;MACA6C,SAAA;IACA;IACA3C,WAAA;MACAwC,OAAA,WAAAA,QAAAC,GAAA,EAAAC,GAAA;QACA,IAAAD,GAAA,KAAAC,GAAA;UACA,KAAAxC,MAAA,GAAAuC,GAAA,QAAAvC,MAAA,GAAAvB,qBAAA,MAAAW,WAAA;QACA;MACA;MACAqD,SAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACAhF,UAAA,uBACAA,UAAA;IACAiF,SAAA,WAAAA,UAAA;MAAA,IAAAC,sBAAA,EAAAC,sBAAA;MACA,SAAAxD,IAAA,KAAAZ,OAAA;QACA,YAAAoB,WAAA,SAAAJ,gBAAA;MACA;MAEA,SAAAJ,IAAA,KAAAX,KAAA;QACA,SAAAe,gBAAA,SAAAG,YAAA,CAAAmC,MAAA;UACA;QACA;QAEA,SAAAlC,WAAA,SAAAE,MAAA,CAAAgC,MAAA;UACA;QACA;QAEA;MACA;MAEA,YAAAlC,WAAA,OAAA+C,sBAAA,QAAAjB,cAAA,CAAAC,QAAA,cAAAgB,sBAAA,uBAAAA,sBAAA,CAAAf,WAAA,CAAAlE,aAAA,CAAAsE,SAAA,WAAAxC,gBAAA,SAAAoD,sBAAA,QAAAlB,cAAA,CAAAC,QAAA,cAAAiB,sBAAA,eAAAA,sBAAA,CAAAhB,WAAA,CAAAlE,aAAA,CAAAmE,IAAA,WAAAjC,WAAA,SAAAE,MAAA,CAAAgC,MAAA;IACA;IACA;IACAe,cAAA,WAAAA,eAAA;MACA,YAAA/D,QAAA,UAAA4C,cAAA,QAAAoB,mBAAA,yBAAAA,mBAAA,MAAApB,cAAA,CAAAqB,OAAA,OAAArB,cAAA,CAAAsB,eAAA,OAAAtB,cAAA,CAAAuB,KAAA;IACA;IAEAC,sBAAA,WAAAA,uBAAA;MAAA,IAAAC,oBAAA;MACA,aAAAvD,WAAA,GAAA6C,aAAA,CAAAA,aAAA,UAAAI,cAAA,CAAAO,KAAA;QAAAC,QAAA;MAAA,MAAAF,oBAAA,QAAAN,cAAA,cAAAM,oBAAA,uBAAAA,oBAAA,CAAAC,KAAA;IACA;IAEAE,WAAA,WAAAA,YAAA;MAAA,IAAAC,qBAAA;MACA,SAAAzE,QAAA,SAAAO,eAAA;QACA,YAAAH,WAAA;MACA;MAEA,SAAAqE,qBAAA,QAAA7B,cAAA,cAAA6B,qBAAA,uBAAAA,qBAAA,CAAAtB,WAAA;IACA;EAAA,EACA;EACAuB,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAAC,KAAA;IACA;IAEA;IACAzD,kBAAA,WAAAA,mBAAAF,OAAA;MAAA,IAAA4D,aAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,cAAA;MACA,KAAAhE,OAAA,GAAAA,OAAA;MACA,KAAAH,WAAA,KAAA+D,aAAA,QAAA5D,OAAA,cAAA4D,aAAA,gBAAAA,aAAA,GAAAA,aAAA,CAAAP,KAAA,cAAAO,aAAA,gBAAAA,aAAA,GAAAA,aAAA,CAAAN,QAAA,cAAAM,aAAA,uBAAAA,aAAA,CAAA7B,MAAA;MACA,KAAAhC,MAAA,KAAA8D,cAAA,QAAA7D,OAAA,cAAA6D,cAAA,gBAAAA,cAAA,GAAAA,cAAA,CAAAR,KAAA,cAAAQ,cAAA,uBAAAA,cAAA,CAAAP,QAAA,KAAA9E,qBAAA,MAAAW,WAAA;MACA,KAAAM,gBAAA,KAAAqE,cAAA,QAAA9D,OAAA,cAAA8D,cAAA,gBAAAA,cAAA,GAAAA,cAAA,CAAAT,KAAA,cAAAS,cAAA,gBAAAA,cAAA,GAAAA,cAAA,CAAAG,IAAA,cAAAH,cAAA,uBAAAA,cAAA,CAAA/B,MAAA;MACA,KAAApC,YAAA,KAAAoE,cAAA,QAAA/D,OAAA,cAAA+D,cAAA,gBAAAA,cAAA,GAAAA,cAAA,CAAAV,KAAA,cAAAU,cAAA,uBAAAA,cAAA,CAAAG,KAAA;MACA,KAAAtE,YAAA,KAAAoE,cAAA,QAAAhE,OAAA,cAAAgE,cAAA,gBAAAA,cAAA,GAAAA,cAAA,CAAAX,KAAA,cAAAW,cAAA,uBAAAA,cAAA,CAAAC,IAAA;MACA,KAAAnE,gBAAA,QAAAH,YAAA;IACA;IAEA;IACAoD,mBAAA,WAAAA,oBAAAC,OAAA,EAAAC,eAAA,EAAAC,KAAA;MACA;QACAF,OAAA,EAAAA,OAAA;QACAC,eAAA,EAAAA,eAAA;QACAC,KAAA,EAAAA,KAAA,aAAAA,KAAA,cAAAA,KAAA;QACAiB,kBAAA,QAAAtE,WAAA;QACAwD,KAAA;UACAY,IAAA,OAAArE,YAAA;UACAsE,KAAA,OAAAvE,YAAA;UACArB,SAAA,EAAAA,SAAA,CAAAD,UAAA,MAAAsB,YAAA;UACA2D,QAAA,OAAAzD,WAAA,QAAAE,MAAA,CAAAqE,WAAA,KAAA5F,qBAAA,MAAA+E,WAAA;QACA;MACA;IACA;IAEAc,KAAA,WAAAA,MAAAC,UAAA;MAAA,IAAAC,MAAA;MAAA,OAAAjE,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAgE,SAAA;QAAA,IAAAC,qBAAA,EAAAC,MAAA;QAAA,OAAAnE,mBAAA,CAAAU,IAAA,UAAA0D,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAxD,IAAA,GAAAwD,SAAA,CAAAvD,IAAA;YAAA;cAAAuD,SAAA,CAAAxD,IAAA;cAAA,MAGA,CAAAmD,MAAA,CAAAxF,QAAA,KAAAwF,MAAA,CAAAjF,eAAA;gBAAAsF,SAAA,CAAAvD,IAAA;gBAAA;cAAA;cAAAuD,SAAA,CAAAvD,IAAA;cAAA,OACAkD,MAAA,CAAAhD,MAAA,CAAAC,QAAA;gBAAAxC,IAAA,EAAAT,MAAA,CAAAkD,OAAA;gBAAAC,EAAA,GAAA+C,qBAAA,GAAAF,MAAA,CAAA5C,cAAA,cAAA8C,qBAAA,uBAAAA,qBAAA,CAAA/C;cAAA;YAAA;cAAAgD,MAAA,GAAAE,SAAA,CAAAC,IAAA;cAEA,OAAAH,MAAA,CAAA7C,WAAA,CAAAlE,aAAA,CAAAqE,KAAA;cACA,OAAA0C,MAAA,CAAA7C,WAAA,CAAAlE,aAAA,CAAAsE,SAAA;cACA,OAAAyC,MAAA,CAAA7C,WAAA,CAAAlE,aAAA,CAAAmE,IAAA;cAEAyC,MAAA,CAAAO,IAAA,CAAAJ,MAAA,CAAA7C,WAAA,EAAAlE,aAAA,CAAAqE,KAAA,EAAAuC,MAAA,CAAAzE,gBAAA,GAAAyE,MAAA,CAAA5E,YAAA;cACA4E,MAAA,CAAAO,IAAA,CAAAJ,MAAA,CAAA7C,WAAA,EAAAlE,aAAA,CAAAsE,SAAA,EAAAsC,MAAA,CAAAxE,MAAA,CAAAqE,WAAA;cACAG,MAAA,CAAAO,IAAA,CAAAJ,MAAA,CAAA7C,WAAA,EAAAlE,aAAA,CAAAmE,IAAA,EAAAyC,MAAA,CAAA3E,YAAA;cAAAgF,SAAA,CAAAvD,IAAA;cAAA,OAEAqD,MAAA,CAAAK,IAAA;YAAA;cAEAT,UAAA;cACAC,MAAA,CAAAb,KAAA;cAAAkB,SAAA,CAAAvD,IAAA;cAAA;YAAA;cAEA;cACAkD,MAAA,CAAAhD,MAAA,CAAAyD,MAAA,oCAAAtC,aAAA,KAAA6B,MAAA,CAAAzB,cAAA;cAEAwB,UAAA;cACAC,MAAA,CAAAb,KAAA;YAAA;cAAAkB,SAAA,CAAAvD,IAAA;cAAA;YAAA;cAAAuD,SAAA,CAAAxD,IAAA;cAAAwD,SAAA,CAAAK,EAAA,GAAAL,SAAA;cAGAL,MAAA,CAAA7E,MAAA,GAAAzB,sBAAA,CAAA2G,SAAA,CAAAK,EAAA;cACAX,UAAA;YAAA;YAAA;cAAA,OAAAM,SAAA,CAAAzC,IAAA;UAAA;QAAA,GAAAqC,QAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}