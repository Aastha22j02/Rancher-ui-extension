{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/GlobalRoleBindings.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/GlobalRoleBindings.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IF9DUkVBVEUsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgYWRkT2JqZWN0cywgaXNBcnJheSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAY29tcG9uZW50cy9DYXJkJzsKCi8vIGkxOG4tdXNlcyByYmFjLmdsb2JhbFJvbGVzLnR5cGVzLioubGFiZWwKLy8gaTE4bi11c2VzIHJiYWMuZ2xvYmFsUm9sZXMudHlwZXMuKi5kZXNjcmlwdGlvbgoKLyoqCiAqIERpc3BsYXkgY2hlY2tib3hlcyBmb3IgZWFjaCBnbG9iYWwgcm9sZSwgY2hlY2tlZCBmb3IgZ2l2ZW4gdXNlciBvciBwcmluY2lwYWwgKGdyb3VwKS4gQ2FuIHNhdmUgY2hhbmdlcy4KICovCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgQ2FyZDogQ2FyZAogIH0sCiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfVklFVwogICAgfSwKICAgIHJlYWxNb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogX1ZJRVcKICAgIH0sCiAgICBhc3NpZ25Pbmx5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdncm91cCcsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgIHJldHVybiB2YWwgPT09ICdncm91cCcgfHwgdmFsID09PSAndXNlcic7CiAgICAgIH0KICAgIH0sCiAgICBncm91cFByaW5jaXBhbElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB1c2VySWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfdGhpcyRzb3J0ZWRSb2xlcyRnbG8sIHNvcnQsIGdsb2JhbFJvbGVzLCBnbG9iYWxSb2xlc0FkZGVkLCByZW1haW5pbmdHbG9iYWxSb2xlczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF90aGlzLmFsbFJvbGVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaWYgKF90aGlzLnNvcnRlZFJvbGVzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnNvcnRlZFJvbGVzID0gewogICAgICAgICAgICAgIGdsb2JhbDogW10sCiAgICAgICAgICAgICAgYnVpbHRpbjogW10sCiAgICAgICAgICAgICAgY3VzdG9tOiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICBfdGhpcy5hbGxSb2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgICAgICAgICAgdmFyIHJvbGVUeXBlID0gX3RoaXMuZ2V0Um9sZVR5cGUocm9sZSk7CiAgICAgICAgICAgICAgaWYgKHJvbGVUeXBlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zb3J0ZWRSb2xlc1tyb2xlVHlwZV0ucHVzaChyb2xlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzb3J0ID0gZnVuY3Rpb24gc29ydChhLCBiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGEubmFtZURpc3BsYXkubG9jYWxlQ29tcGFyZShiLm5hbWVEaXNwbGF5KTsKICAgICAgICAgICAgfTsgLy8gZ2xvYmFsIHJvbGVzIGFyZSBub3Qgc29ydGVkCiAgICAgICAgICAgIF90aGlzLnNvcnRlZFJvbGVzLmJ1aWx0aW4gPSBfdGhpcy5zb3J0ZWRSb2xlcy5idWlsdGluLnNvcnQoc29ydCk7CiAgICAgICAgICAgIF90aGlzLnNvcnRlZFJvbGVzLmN1c3RvbSA9IF90aGlzLnNvcnRlZFJvbGVzLmN1c3RvbS5zb3J0KHNvcnQpOwogICAgICAgICAgICBpZiAoX3RoaXMuaXNDcmVhdGUpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5HTE9CQUxfUk9MRV9CSU5ESU5HLAogICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgZm9yY2U6IHRydWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgX3RoaXMuZ2xvYmFsUm9sZUJpbmRpbmdzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIC8vIFNvcnQgdGhlIGdsb2JhbCByb2xlcyAtIHVzZSB0aGUgb3JkZXIgZGVmaW5lZCBpbiAnZ2xvYmFsUGVybWlzc2lvbnMnIGFuZCB0aGVuIGFkZCB0aGUgcmVtYWluaW5nIHJvbGVzIGFmdGVyCiAgICAgICAgICAgIGdsb2JhbFJvbGVzID0gW107CiAgICAgICAgICAgIGdsb2JhbFJvbGVzQWRkZWQgPSB7fTsKICAgICAgICAgICAgX3RoaXMuZ2xvYmFsUGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICB2YXIgcm9sZSA9IF90aGlzLnNvcnRlZFJvbGVzLmdsb2JhbC5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gci5pZCA9PT0gaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKHJvbGUpIHsKICAgICAgICAgICAgICAgIGdsb2JhbFJvbGVzLnB1c2gocm9sZSk7CiAgICAgICAgICAgICAgICBnbG9iYWxSb2xlc0FkZGVkW2lkXSA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBnbG9iYWwgcm9sZXMKICAgICAgICAgICAgcmVtYWluaW5nR2xvYmFsUm9sZXMgPSBfdGhpcy5zb3J0ZWRSb2xlcy5nbG9iYWwuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgcmV0dXJuICFnbG9iYWxSb2xlc0FkZGVkW3IuaWRdOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMuc29ydGVkUm9sZXMuZ2xvYmFsID0gZ2xvYmFsUm9sZXM7CiAgICAgICAgICAgIChfdGhpcyRzb3J0ZWRSb2xlcyRnbG8gPSBfdGhpcy5zb3J0ZWRSb2xlcy5nbG9iYWwpLnB1c2guYXBwbHkoX3RoaXMkc29ydGVkUm9sZXMkZ2xvLCBfdG9Db25zdW1hYmxlQXJyYXkocmVtYWluaW5nR2xvYmFsUm9sZXMpKTsKICAgICAgICAgICAgLy8gRW5kIHNvcnQgb2YgZ2xvYmFsIHJvbGVzCgogICAgICAgICAgICBfdGhpcy51cGRhdGUoKTsKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjM7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMjNdXSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBUaGlzIG5vdCBvbmx5IGlkZW50aWZpZXMgZ2xvYmFsIHJvbGVzIGJ1dCB0aGUgb3JkZXIgaGVyZSBpcyB0aGUgb3JkZXIgd2Ugd2FudCB0byBkaXNwbGF5IHRoZW0gaW4gdGhlIFVJCiAgICAgIGdsb2JhbFBlcm1pc3Npb25zOiBbJ2FkbWluJywgJ3Jlc3RyaWN0ZWQtYWRtaW4nLCAndXNlcicsICd1c2VyLWJhc2UnXSwKICAgICAgZ2xvYmFsUm9sZUJpbmRpbmdzOiBudWxsLAogICAgICBzb3J0ZWRSb2xlczogbnVsbCwKICAgICAgc2VsZWN0ZWRSb2xlczogW10sCiAgICAgIHN0YXJ0aW5nU2VsZWN0ZWRSb2xlczogW10sCiAgICAgIGFzc2lnbk9ubHlSb2xlczoge30sCiAgICAgIHJvbGVDaGFuZ2VzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3JlbGVhc2VOb3Rlc1VybCddKSksIG1hcEdldHRlcnMoewogICAgdDogJ2kxOG4vdCcKICB9KSksIHt9LCB7CiAgICBpc0NyZWF0ZTogZnVuY3Rpb24gaXNDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlYWxNb2RlID09PSBfQ1JFQVRFOwogICAgfSwKICAgIGlzVXNlcjogZnVuY3Rpb24gaXNVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy50eXBlID09PSAndXNlcic7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIGdyb3VwUHJpbmNpcGFsSWQ6IGZ1bmN0aW9uIGdyb3VwUHJpbmNpcGFsSWQoX2dyb3VwUHJpbmNpcGFsSWQsIG9sZEdyb3VwUHJpbmNpcGFsSWQpIHsKICAgICAgaWYgKF9ncm91cFByaW5jaXBhbElkID09PSBvbGRHcm91cFByaW5jaXBhbElkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICB9LAogICAgdXNlcklkOiBmdW5jdGlvbiB1c2VySWQoX3VzZXJJZCwgb2xkVXNlcklkKSB7CiAgICAgIGlmIChfdXNlcklkID09PSBvbGRVc2VySWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy51cGRhdGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJvbGVUeXBlOiBmdW5jdGlvbiBnZXRSb2xlVHlwZShyb2xlKSB7CiAgICAgIGlmICh0aGlzLmdsb2JhbFBlcm1pc3Npb25zLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcCA9PT0gcm9sZS5pZDsKICAgICAgfSkpIHsKICAgICAgICByZXR1cm4gJ2dsb2JhbCc7CiAgICAgIH0gZWxzZSBpZiAocm9sZS5idWlsdGluKSB7CiAgICAgICAgcmV0dXJuICdidWlsdGluJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ2N1c3RvbSc7CiAgICAgIH0KICAgIH0sCiAgICBnZXRVbmlxdWU6IGZ1bmN0aW9uIGdldFVuaXF1ZSgpIHsKICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGlkcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBpZHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdyb3VwUHJpbmNpcGFsSWQgfHwgdGhpcy51c2VySWQsICItIikuY29uY2F0KGlkcy5qb2luKCctJykpOwogICAgfSwKICAgIHNlbGVjdERlZmF1bHRzOiBmdW5jdGlvbiBzZWxlY3REZWZhdWx0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5zb3J0ZWRSb2xlcykuZm9yRWFjaChmdW5jdGlvbiAocm9sZXMpIHsKICAgICAgICByb2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChtYXBwZWRSb2xlKSB7CiAgICAgICAgICBpZiAobWFwcGVkUm9sZS5uZXdVc2VyRGVmYXVsdCkgewogICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRSb2xlcy5wdXNoKG1hcHBlZFJvbGUuaWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlcyA9IFtdOwogICAgICB0aGlzLnN0YXJ0aW5nU2VsZWN0ZWRSb2xlcyA9IFtdOwogICAgICB0aGlzLmFzc2lnbk9ubHlSb2xlcyA9IHt9OwogICAgICBpZiAodGhpcy5pc0NyZWF0ZSkgewogICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIG5ldyB1c2VyIGRlZmF1bHQgZm9yIGVhY2ggcm9sZQogICAgICAgIHRoaXMuc2VsZWN0RGVmYXVsdHMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBwcmluY2lwYWwvdXNlcidzIHJvbGVzCiAgICAgICAgaWYgKCF0aGlzLmdyb3VwUHJpbmNpcGFsSWQgJiYgIXRoaXMudXNlcklkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBib3VuZFJvbGVzID0gdGhpcy5nbG9iYWxSb2xlQmluZGluZ3MuZmlsdGVyKGZ1bmN0aW9uIChncmIpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuZ3JvdXBQcmluY2lwYWxJZCA/IGdyYi5ncm91cFByaW5jaXBhbE5hbWUgPT09IF90aGlzMy5ncm91cFByaW5jaXBhbElkIDogZ3JiLnVzZXJOYW1lID09PSBfdGhpczMudXNlcklkOwogICAgICAgIH0pOwogICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5zb3J0ZWRSb2xlcykuZm9yRWFjaChmdW5jdGlvbiAocm9sZXMpIHsKICAgICAgICAgIHJvbGVzLmZvckVhY2goZnVuY3Rpb24gKG1hcHBlZFJvbGUpIHsKICAgICAgICAgICAgdmFyIGJvdW5kUm9sZSA9IGJvdW5kUm9sZXMuZmluZChmdW5jdGlvbiAoYm91bmRSb2xlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kUm9sZS5nbG9iYWxSb2xlTmFtZSA9PT0gbWFwcGVkUm9sZS5pZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmICghIWJvdW5kUm9sZSkgewogICAgICAgICAgICAgIF90aGlzMy5zZWxlY3RlZFJvbGVzLnB1c2gobWFwcGVkUm9sZS5pZCk7CiAgICAgICAgICAgICAgX3RoaXMzLnN0YXJ0aW5nU2VsZWN0ZWRSb2xlcy5wdXNoKHsKICAgICAgICAgICAgICAgIHJvbGVJZDogbWFwcGVkUm9sZS5pZCwKICAgICAgICAgICAgICAgIGJpbmRpbmdJZDogYm91bmRSb2xlLmlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy8gQ2hlY2tib3hlcyBzaG91bGQgYmUgZGlzYWJsZWQsIGJlc2lkZXMgbm9ybWFsICdtb2RlJyB3YXlzLCBpZiB3ZSdyZSBvbmx5IGFzc2lnbmluZyBhbmQgbm90IHJlbW92aW5nIGV4aXN0aW5nIHJvbGVzCiAgICAgICAgICAgICAgX3RoaXMzLmFzc2lnbk9ubHlSb2xlc1ttYXBwZWRSb2xlLmlkXSA9IF90aGlzMy5hc3NpZ25Pbmx5OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBpZiAodGhpcy5hc3NpZ25Pbmx5ICYmICF0aGlzLnNlbGVjdGVkUm9sZXMubGVuZ3RoKSB7CiAgICAgICAgICAvLyBJZiB3ZSdyZSBhc3NpZ25pbmcgcm9sZXMgdG8gYSBncm91cCB0aGF0IGhhcyBubyBleGlzdGluZyByb2xlcyBzdGFydCB3aXRoIHRoZSBkZWZhdWx0IHJvbGVzIHNlbGVjdGVkCiAgICAgICAgICB0aGlzLnNlbGVjdERlZmF1bHRzKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBGb3JjZSBhbiB1cGRhdGUgdG8gcHVtcCBvdXQgdGhlIGluaXRpYWwgc3RhdGUKICAgICAgdGhpcy5jaGVja2JveENoYW5nZWQoKTsKICAgIH0sCiAgICBjaGVja2JveENoYW5nZWQ6IGZ1bmN0aW9uIGNoZWNrYm94Q2hhbmdlZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBhZGRSb2xlcyA9IHRoaXMuc2VsZWN0ZWRSb2xlcy5maWx0ZXIoZnVuY3Rpb24gKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICFfdGhpczQuc3RhcnRpbmdTZWxlY3RlZFJvbGVzLmZpbmQoZnVuY3Rpb24gKHN0YXJ0aW5nUm9sZSkgewogICAgICAgICAgcmV0dXJuIHN0YXJ0aW5nUm9sZS5yb2xlSWQgPT09IHNlbGVjdGVkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIHJlbW92ZUJpbmRpbmdzID0gdGhpcy5zdGFydGluZ1NlbGVjdGVkUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChzdGFydGluZ1JvbGUpIHsKICAgICAgICByZXR1cm4gIV90aGlzNC5zZWxlY3RlZFJvbGVzLmZpbmQoZnVuY3Rpb24gKHNlbGVjdGVkKSB7CiAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQgPT09IHN0YXJ0aW5nUm9sZS5yb2xlSWQ7CiAgICAgICAgfSk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoc3RhcnRpbmdSb2xlKSB7CiAgICAgICAgcmV0dXJuIHN0YXJ0aW5nUm9sZS5iaW5kaW5nSWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnJvbGVDaGFuZ2VzID0gewogICAgICAgIGluaXRpYWxSb2xlczogdGhpcy5zdGFydGluZ1NlbGVjdGVkUm9sZXMsCiAgICAgICAgYWRkUm9sZXM6IGFkZFJvbGVzLAogICAgICAgIHJlbW92ZUJpbmRpbmdzOiByZW1vdmVCaW5kaW5ncwogICAgICB9OwogICAgICB0aGlzLiRlbWl0KCdoYXNDaGFuZ2VzJywgISF0aGlzLnJvbGVDaGFuZ2VzLmFkZFJvbGVzLmxlbmd0aCB8fCAhIXRoaXMucm9sZUNoYW5nZXMucmVtb3ZlQmluZGluZ3MubGVuZ3RoKTsKICAgICAgdGhpcy4kZW1pdCgnY2FuTG9nSW4nLCB0aGlzLmNvbmZpcm1Vc2VyQ2FuTG9nSW4oKSk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZWQnLCB0aGlzLnJvbGVDaGFuZ2VzKTsKICAgIH0sCiAgICBzYXZlQWRkZWRSb2xlczogZnVuY3Rpb24gc2F2ZUFkZGVkUm9sZXModXNlcklkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMsIG5ld0JpbmRpbmdzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULkdMT0JBTF9ST0xFX0JJTkRJTkcsCiAgICAgICAgICAgICAgICBtZXRhZGF0YTogewogICAgICAgICAgICAgICAgICBnZW5lcmF0ZU5hbWU6ICJncmItIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKF90aGlzNS5ncm91cFByaW5jaXBhbElkKSB7CiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5ncm91cFByaW5jaXBhbE5hbWUgPSBfdGhpczUuZ3JvdXBQcmluY2lwYWxJZDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMudXNlck5hbWUgPSB1c2VySWQgfHwgX3RoaXM1LnVzZXJJZDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdGhpczUucm9sZUNoYW5nZXMuYWRkUm9sZXMubWFwKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgibWFuYWdlbWVudC9jcmVhdGUiLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlcXVlc3RPcHRpb25zKSwge30sIHsKICAgICAgICAgICAgICAgICAgZ2xvYmFsUm9sZU5hbWU6IHJvbGUKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBuZXdCaW5kaW5ncyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwobmV3QmluZGluZ3MubWFwKGZ1bmN0aW9uIChuZXdCaW5kaW5nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3QmluZGluZy5zYXZlKHsKICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmVSZW1vdmVkUm9sZXM6IGZ1bmN0aW9uIHNhdmVSZW1vdmVkUm9sZXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZXhpc3RpbmdCaW5kaW5nczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoX3RoaXM2LnJvbGVDaGFuZ2VzLnJlbW92ZUJpbmRpbmdzLm1hcChmdW5jdGlvbiAoYmluZGluZ0lkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULkdMT0JBTF9ST0xFX0JJTkRJTkcsCiAgICAgICAgICAgICAgICAgIGlkOiBiaW5kaW5nSWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGV4aXN0aW5nQmluZGluZ3MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGV4aXN0aW5nQmluZGluZ3MubWFwKGZ1bmN0aW9uIChleGlzdGluZ0JpbmRpbmcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0JpbmRpbmcucmVtb3ZlKHsKICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8qKgogICAgICogdXNlcklkIGlzIG9wdGlvbmFsLCB1c2VkIHdoZW4gYSB1c2VyIGhhcyBqdXN0IGJlZW4gY3JlYXRlZAogICAgICovCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKHVzZXJJZCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5zYXZlQWRkZWRSb2xlcyh1c2VySWQpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczcuc2F2ZVJlbW92ZWRSb2xlcygpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczcuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULkdMT0JBTF9ST0xFX0JJTkRJTkcsCiAgICAgICAgICAgICAgICBvcHQ6IHsKICAgICAgICAgICAgICAgICAgZm9yY2U6IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBmb3JjZTogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjb25maXJtVXNlckNhbkxvZ0luOiBmdW5jdGlvbiBjb25maXJtVXNlckNhbkxvZ0luKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIGFsbFJvbGVzUnVsZXMgPSBbXTsKICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnNvcnRlZFJvbGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChyb2xlcykgewogICAgICAgIHJvbGVzLmZvckVhY2goZnVuY3Rpb24gKG1hcHBlZFJvbGUpIHsKICAgICAgICAgIGlmIChfdGhpczguc2VsZWN0ZWRSb2xlcy5pbmNsdWRlcyhtYXBwZWRSb2xlLmlkKSkgewogICAgICAgICAgICBhZGRPYmplY3RzKGFsbFJvbGVzUnVsZXMsIG1hcHBlZFJvbGUucnVsZXMgfHwgW10pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFsbFJvbGVzUnVsZXMuc29tZShmdW5jdGlvbiAocnVsZSkgewogICAgICAgIHJldHVybiBfdGhpczguaXNSdWxlVmFsaWQocnVsZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGlzUnVsZVZhbGlkOiBmdW5jdGlvbiBpc1J1bGVWYWxpZChydWxlKSB7CiAgICAgIC8vIEJyb3VnaHQgb3ZlciBmcm9tIEVtYmVyCgogICAgICBpZiAoKHJ1bGUucmVzb3VyY2VzIHx8IFtdKS5zb21lKHJlc291cmNlVmFsaWRhdG9yKSAmJiAocnVsZS5hcGlHcm91cHMgfHwgW10pLnNvbWUoYXBpR3JvdXBWYWxpZGF0b3IpICYmIHZlcmJzVmFsaWRhdG9yKHJ1bGUudmVyYnMgfHwgW10pKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgICBmdW5jdGlvbiByZXNvdXJjZVZhbGlkYXRvcihyZXNvdXJjZSkgewogICAgICAgIHZhciByZXNvdXJjZXNSZXF1aXJlZEZvckxvZ2luID0gWycqJywgJ3ByZWZlcmVuY2VzJywgJ3NldHRpbmdzJywgJ2ZlYXR1cmVzJ107CgogICAgICAgIC8vIGNvbnNvbGUubG9nKGByZXNvdXJjZVZhbGlkYXRvciBzdGF0dXM6IGAsIHJlc291cmNlc1JlcXVpcmVkRm9yTG9naW4uaW5jbHVkZXMocmVzb3VyY2UpLCByZXNvdXJjZSk7CiAgICAgICAgcmV0dXJuIHJlc291cmNlc1JlcXVpcmVkRm9yTG9naW4uaW5jbHVkZXMocmVzb3VyY2UpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGFwaUdyb3VwVmFsaWRhdG9yKGFwaUdyb3VwKSB7CiAgICAgICAgdmFyIGFwaUdyb3Vwc1JlcXVpcmVkRm9yTG9naW4gPSBbJyonLCAnbWFuYWdlbWVudC5jYXR0bGUuaW8nXTsKCiAgICAgICAgLy8gY29uc29sZS5sb2coYGFwaUdyb3Vwc1JlcXVpcmVkRm9yTG9naW4gc3RhdHVzOiBgLCBhcGlHcm91cHNSZXF1aXJlZEZvckxvZ2luLmluY2x1ZGVzKGFwaUdyb3VwKSwgYXBpR3JvdXApOwogICAgICAgIHJldHVybiBhcGlHcm91cHNSZXF1aXJlZEZvckxvZ2luLmluY2x1ZGVzKGFwaUdyb3VwKTsKICAgICAgfQogICAgICBmdW5jdGlvbiB2ZXJic1ZhbGlkYXRvcih2ZXJicykgewogICAgICAgIHZhciByZXN0cmljdGVkVGFyZ2V0ID0gWydnZXQnLCAnbGlzdCcsICd3YXRjaCddOwogICAgICAgIHZhciB2ZXJic1JlcXVpcmVkRm9yTG9naW4gPSBbJyonXS5jb25jYXQocmVzdHJpY3RlZFRhcmdldCk7CiAgICAgICAgaWYgKGlzQXJyYXkodmVyYnMpICYmIHZlcmJzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB2ZXJic1JlcXVpcmVkRm9yTG9naW4gc3RhdHVzIDE6IGAsIHJlc3RyaWN0ZWRUYXJnZXQuZXZlcnkocnQgPT4gdmVyYnMuaW5jbHVkZXMocnQpKSwgdmVyYnMpOwogICAgICAgICAgcmV0dXJuIHJlc3RyaWN0ZWRUYXJnZXQuZXZlcnkoZnVuY3Rpb24gKHJ0KSB7CiAgICAgICAgICAgIHJldHVybiB2ZXJicy5pbmNsdWRlcyhydCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGNvbnNvbGUubG9nKGB2ZXJic1JlcXVpcmVkRm9yTG9naW4gc3RhdHVzIDI6IGAsIHZlcmJzUmVxdWlyZWRGb3JMb2dpbi5pbmNsdWRlcyh2ZXJic1swXSksIHZlcmJzUmVxdWlyZWRGb3JMb2dpbiwgdmVyYnMpOwogICAgICAgIHJldHVybiB2ZXJic1JlcXVpcmVkRm9yTG9naW4uaW5jbHVkZXModmVyYnNbMF0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapGetters","MANAGEMENT","Checkbox","_CREATE","_VIEW","Loading","addObjects","isArray","Card","components","props","mode","type","String","default","realMode","assignOnly","Boolean","validator","val","groupPrincipalId","userId","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$sortedRoles$glo","sort","globalRoles","globalRolesAdded","remainingGlobalRoles","wrap","_callee$","_context","prev","next","$store","dispatch","GLOBAL_ROLE","allRoles","sent","sortedRoles","global","builtin","custom","forEach","role","roleType","getRoleType","push","a","b","nameDisplay","localeCompare","isCreate","GLOBAL_ROLE_BINDING","opt","force","globalRoleBindings","globalPermissions","id","find","r","filter","apply","_toConsumableArray","update","t0","stop","data","selectedRoles","startingSelectedRoles","assignOnlyRoles","roleChanges","computed","_objectSpread","t","isUser","watch","oldGroupPrincipalId","oldUserId","methods","p","getUnique","_len","arguments","length","ids","Array","_key","concat","join","selectDefaults","_this2","Object","values","roles","mappedRole","newUserDefault","_this3","boundRoles","grb","groupPrincipalName","userName","boundRole","globalRoleName","roleId","bindingId","checkboxChanged","_this4","addRoles","selected","startingRole","removeBindings","map","initialRoles","$emit","confirmUserCanLogIn","saveAddedRoles","_this5","_callee2","requestOptions","newBindings","_callee2$","_context2","metadata","generateName","Promise","all","newBinding","save","redirectUnauthorized","saveRemovedRoles","_this6","_callee3","existingBindings","_callee3$","_context3","existingBinding","remove","_this7","_callee4","_callee4$","_context4","_this8","allRolesRules","includes","rules","some","rule","isRuleValid","resources","resourceValidator","apiGroups","apiGroupValidator","verbsValidator","verbs","resource","resourcesRequiredForLogin","apiGroup","apiGroupsRequiredForLogin","restrictedTarget","verbsRequiredForLogin","every","rt"],"sources":["node_modules/@rancher/shell/components/GlobalRoleBindings.vue"],"sourcesContent":["\n<script>\nimport { mapGetters } from 'vuex';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { _CREATE, _VIEW } from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading';\nimport { addObjects, isArray } from '@shell/utils/array';\nimport { Card } from '@components/Card';\n\n// i18n-uses rbac.globalRoles.types.*.label\n// i18n-uses rbac.globalRoles.types.*.description\n\n/**\n * Display checkboxes for each global role, checked for given user or principal (group). Can save changes.\n */\nexport default {\n  components: {\n    Checkbox,\n    Loading,\n    Card\n  },\n  props: {\n    mode: {\n      type:    String,\n      default: _VIEW,\n    },\n    realMode: {\n      type:    String,\n      default: _VIEW,\n    },\n    assignOnly: {\n      type:    Boolean,\n      default: false,\n    },\n    type: {\n      type:    String,\n      default: 'group',\n      validator(val) {\n        return val === 'group' || val === 'user';\n      }\n    },\n    groupPrincipalId: {\n      type:    String,\n      default: ''\n    },\n    userId: {\n      type:    String,\n      default: ''\n    }\n  },\n  async fetch() {\n    try {\n      this.allRoles = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE });\n      if (!this.sortedRoles) {\n        this.sortedRoles = {\n          global:  [],\n          builtin: [],\n          custom:  []\n        };\n\n        this.allRoles.forEach((role) => {\n          const roleType = this.getRoleType(role);\n\n          if (roleType) {\n            this.sortedRoles[roleType].push(role);\n          }\n        });\n\n        const sort = (a, b) => a.nameDisplay.localeCompare(b.nameDisplay);\n\n        // global roles are not sorted\n        this.sortedRoles.builtin = this.sortedRoles.builtin.sort(sort);\n        this.sortedRoles.custom = this.sortedRoles.custom.sort(sort);\n\n        if (!this.isCreate) {\n          this.globalRoleBindings = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE_BINDING, opt: { force: true } });\n        }\n\n        // Sort the global roles - use the order defined in 'globalPermissions' and then add the remaining roles after\n        const globalRoles = [];\n        const globalRolesAdded = {};\n\n        this.globalPermissions.forEach((id) => {\n          const role = this.sortedRoles.global.find((r) => r.id === id);\n\n          if (role) {\n            globalRoles.push(role);\n            globalRolesAdded[id] = true;\n          }\n        });\n\n        // Remaining global roles\n        const remainingGlobalRoles = this.sortedRoles.global.filter((r) => !globalRolesAdded[r.id]);\n\n        this.sortedRoles.global = globalRoles;\n        this.sortedRoles.global.push(...remainingGlobalRoles);\n        // End sort of global roles\n\n        this.update();\n      }\n    } catch (e) { }\n  },\n  data() {\n    return {\n      // This not only identifies global roles but the order here is the order we want to display them in the UI\n      globalPermissions: [\n        'admin',\n        'restricted-admin',\n        'user',\n        'user-base',\n      ],\n      globalRoleBindings:    null,\n      sortedRoles:           null,\n      selectedRoles:         [],\n      startingSelectedRoles: [],\n      assignOnlyRoles:       {},\n      roleChanges:           {}\n    };\n  },\n  computed: {\n    ...mapGetters(['releaseNotesUrl']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isUser() {\n      return this.type === 'user';\n    }\n  },\n  watch: {\n    groupPrincipalId(groupPrincipalId, oldGroupPrincipalId) {\n      if (groupPrincipalId === oldGroupPrincipalId) {\n        return;\n      }\n      this.update();\n    },\n    userId(userId, oldUserId) {\n      if (userId === oldUserId) {\n        return;\n      }\n      this.update();\n    }\n  },\n  methods: {\n    getRoleType(role) {\n      if (this.globalPermissions.find((p) => p === role.id)) {\n        return 'global';\n      } else if (role.builtin) {\n        return 'builtin';\n      } else {\n        return 'custom';\n      }\n    },\n    getUnique(...ids) {\n      return `${ this.groupPrincipalId || this.userId }-${ ids.join('-') }`;\n    },\n    selectDefaults() {\n      Object.values(this.sortedRoles).forEach((roles) => {\n        roles.forEach((mappedRole) => {\n          if (mappedRole.newUserDefault) {\n            this.selectedRoles.push(mappedRole.id);\n          }\n        });\n      });\n    },\n    update() {\n      this.selectedRoles = [];\n      this.startingSelectedRoles = [];\n      this.assignOnlyRoles = {};\n      if (this.isCreate) {\n        // Start with the new user default for each role\n        this.selectDefaults();\n      } else {\n        // Start with the principal/user's roles\n        if (!this.groupPrincipalId && !this.userId) {\n          return;\n        }\n\n        const boundRoles = this.globalRoleBindings.filter((grb) => {\n          return this.groupPrincipalId ? grb.groupPrincipalName === this.groupPrincipalId : grb.userName === this.userId;\n        });\n\n        Object.values(this.sortedRoles).forEach((roles) => {\n          roles.forEach((mappedRole) => {\n            const boundRole = boundRoles.find((boundRole) => boundRole.globalRoleName === mappedRole.id);\n\n            if (!!boundRole) {\n              this.selectedRoles.push(mappedRole.id);\n              this.startingSelectedRoles.push({\n                roleId:    mappedRole.id,\n                bindingId: boundRole.id\n              });\n              // Checkboxes should be disabled, besides normal 'mode' ways, if we're only assigning and not removing existing roles\n              this.assignOnlyRoles[mappedRole.id] = this.assignOnly;\n            }\n          });\n        });\n\n        if (this.assignOnly && !this.selectedRoles.length) {\n          // If we're assigning roles to a group that has no existing roles start with the default roles selected\n          this.selectDefaults();\n        }\n      }\n\n      // Force an update to pump out the initial state\n      this.checkboxChanged();\n    },\n    checkboxChanged() {\n      const addRoles = this.selectedRoles\n        .filter((selected) => !this.startingSelectedRoles.find((startingRole) => startingRole.roleId === selected));\n      const removeBindings = this.startingSelectedRoles\n        .filter((startingRole) => !this.selectedRoles.find((selected) => selected === startingRole.roleId))\n        .map((startingRole) => startingRole.bindingId);\n\n      this.roleChanges = {\n        initialRoles: this.startingSelectedRoles,\n        addRoles,\n        removeBindings\n      };\n\n      this.$emit('hasChanges', !!this.roleChanges.addRoles.length || !!this.roleChanges.removeBindings.length);\n      this.$emit('canLogIn', this.confirmUserCanLogIn());\n      this.$emit('changed', this.roleChanges);\n    },\n    async saveAddedRoles(userId) {\n      const requestOptions = {\n        type:     MANAGEMENT.GLOBAL_ROLE_BINDING,\n        metadata: { generateName: `grb-` },\n      };\n\n      if (this.groupPrincipalId) {\n        requestOptions.groupPrincipalName = this.groupPrincipalId;\n      } else {\n        requestOptions.userName = userId || this.userId;\n      }\n      const newBindings = await Promise.all(this.roleChanges.addRoles.map((role) => this.$store.dispatch(`management/create`, {\n        ...requestOptions,\n        globalRoleName: role,\n      })));\n\n      // Save all changes (and ensure user isn't logged out if they don't have permissions to make a change)\n      await Promise.all(newBindings.map((newBinding) => newBinding.save({ redirectUnauthorized: false })));\n    },\n    async saveRemovedRoles() {\n      const existingBindings = await Promise.all(this.roleChanges.removeBindings.map((bindingId) => this.$store.dispatch('management/find', {\n        type: MANAGEMENT.GLOBAL_ROLE_BINDING,\n        id:   bindingId\n      })));\n\n      // Save all changes (and ensure user isn't logged out if they don't have permissions to make a change)\n      await Promise.all(existingBindings.map((existingBinding) => existingBinding.remove({ redirectUnauthorized: false })));\n    },\n    /**\n     * userId is optional, used when a user has just been created\n     */\n    async save(userId) {\n      // Ensure roles are added before removed (in case by removing one user is unable to add another)\n      await this.saveAddedRoles(userId);\n      await this.saveRemovedRoles();\n      await this.$store.dispatch('management/findAll', {\n        type: MANAGEMENT.GLOBAL_ROLE_BINDING,\n        opt:  { force: true }\n      }, { force: true });\n    },\n    confirmUserCanLogIn() {\n      const allRolesRules = [];\n\n      Object.values(this.sortedRoles).forEach((roles) => {\n        roles.forEach((mappedRole) => {\n          if (this.selectedRoles.includes(mappedRole.id)) {\n            addObjects(allRolesRules, mappedRole.rules || []);\n          }\n        });\n      });\n\n      return allRolesRules.some((rule) => this.isRuleValid(rule));\n    },\n    isRuleValid(rule) {\n      // Brought over from Ember\n\n      if (( rule.resources || [] ).some(resourceValidator) && ( rule.apiGroups || [] ).some(apiGroupValidator) && verbsValidator(( rule.verbs || [] ))) {\n        return true;\n      }\n\n      return false;\n\n      function resourceValidator(resource) {\n        const resourcesRequiredForLogin = ['*', 'preferences', 'settings', 'features'];\n\n        // console.log(`resourceValidator status: `, resourcesRequiredForLogin.includes(resource), resource);\n        return resourcesRequiredForLogin.includes(resource);\n      }\n\n      function apiGroupValidator(apiGroup) {\n        const apiGroupsRequiredForLogin = ['*', 'management.cattle.io'];\n\n        // console.log(`apiGroupsRequiredForLogin status: `, apiGroupsRequiredForLogin.includes(apiGroup), apiGroup);\n        return apiGroupsRequiredForLogin.includes(apiGroup);\n      }\n\n      function verbsValidator(verbs) {\n        const restrictedTarget = ['get', 'list', 'watch'];\n        const verbsRequiredForLogin = ['*', ...restrictedTarget];\n\n        if (isArray(verbs) && verbs.length > 1) {\n          // console.log(`verbsRequiredForLogin status 1: `, restrictedTarget.every(rt => verbs.includes(rt)), verbs);\n          return restrictedTarget.every((rt) => verbs.includes(rt));\n        }\n\n        // console.log(`verbsRequiredForLogin status 2: `, verbsRequiredForLogin.includes(verbs[0]), verbsRequiredForLogin, verbs);\n        return verbsRequiredForLogin.includes(verbs[0]);\n      }\n    },\n\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n\n  <div v-else>\n    <form v-if=\"selectedRoles\">\n      <div\n        v-for=\"(sortedRole, roleType) in sortedRoles\"\n        :key=\"getUnique(roleType)\"\n        class=\"role-group mb-10\"\n      >\n        <Card\n          v-if=\"Object.keys(sortedRole).length\"\n          :show-highlight-border=\"false\"\n          :show-actions=\"false\"\n        >\n          <template v-slot:title>\n            <div class=\"type-title\">\n              <h3>{{ t(`rbac.globalRoles.types.${roleType}.label`) }}</h3>\n              <div class=\"type-description\">\n                {{ t(`rbac.globalRoles.types.${roleType}.description`, { isUser }) }}\n              </div>\n            </div>\n          </template>\n          <template v-slot:body>\n            <div\n              class=\"checkbox-section\"\n              :class=\"'checkbox-section--' + roleType\"\n            >\n              <div\n                v-for=\"role in sortedRoles[roleType]\"\n                :key=\"getUnique(roleType, role.id)\"\n                class=\"checkbox mb-10 mr-10\"\n              >\n                <Checkbox\n                  :key=\"getUnique(roleType, role.id, 'checkbox')\"\n                  v-model=\"selectedRoles\"\n                  :value-when-true=\"role.id\"\n                  :disabled=\"!!assignOnlyRoles[role.id]\"\n                  :label=\"role.nameDisplay\"\n                  :description=\"role.descriptionDisplay\"\n                  :mode=\"mode\"\n                  :data-testId=\"'grb-checkbox-' + role.id\"\n                  @input=\"checkboxChanged\"\n                >\n                  <template #label>\n                    <div class=\"checkbox-label-slot\">\n                      <span class=\"checkbox-label\">{{ role.nameDisplay }}</span>\n                      <i\n                        v-if=\"!!assignOnlyRoles[role.id]\"\n                        v-clean-tooltip=\"t('rbac.globalRoles.assignOnlyRole')\"\n                        class=\"checkbox-info icon icon-info icon-lg\"\n                      />\n                    </div>\n                  </template>\n                </Checkbox>\n                <p\n                  v-if=\"role.id === 'restricted-admin'\"\n                  v-clean-html=\"t('rbac.globalRoles.role.restricted-admin.deprecation', { releaseNotesUrl }, true)\"\n                  class=\"deprecation-notice\"\n                />\n              </div>\n            </div>\n          </template>\n        </Card>\n      </div>\n    </form>\n  </div>\n</template>\n<style lang='scss'>\n.role-group {\n  .card-container {\n    margin: 0;\n  }\n}\n</style>\n<style lang='scss' scoped>\n  $detailSize: 11px;\n\n  .deprecation-notice {\n    margin: 8px 0 8px 20px;\n  }\n  .role-group {\n    .type-title {\n      display: flex;\n      flex-direction: column;\n      .type-description {\n        font-size: $detailSize;\n      }\n    }\n\n    .checkbox-section {\n      display: grid;\n\n      grid-template-columns: repeat(3, 1fr);\n\n      &--global {\n        grid-template-columns: 100%;\n      }\n\n      .checkbox-label {\n        &-slot {\n          display: inline-flex;\n          align-items: center;\n        }\n        color: var(--body-text);\n        margin: 0;\n      }\n    }\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}