{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuICJPYmplY3QiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gdCB8fCAiU2V0IiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiAiQXJndW1lbnRzIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBJbmZvQm94IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0luZm9Cb3gnOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgQ29weUNvZGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ29weUNvZGUnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBLZXlWYWx1ZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0tleVZhbHVlJzsKaW1wb3J0IFRhaW50cyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1RhaW50cyc7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgc2FuaXRpemVLZXksIHNhbml0aXplSVAsIHNhbml0aXplVmFsdWUgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyLAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgQ29weUNvZGU6IENvcHlDb2RlLAogICAgSW5mb0JveDogSW5mb0JveCwKICAgIEtleVZhbHVlOiBLZXlWYWx1ZSwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgVGFpbnRzOiBUYWludHMKICB9LAogIHByb3BzOiB7CiAgICBjbHVzdGVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjbHVzdGVyVG9rZW46IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuTk9ERQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dBZHZhbmNlZDogZmFsc2UsCiAgICAgIGV0Y2Q6IHRydWUsCiAgICAgIGNvbnRyb2xQbGFuZTogdHJ1ZSwKICAgICAgd29ya2VyOiB0cnVlLAogICAgICBpbnNlY3VyZTogZmFsc2UsCiAgICAgIGluc2VjdXJlV2luZG93czogZmFsc2UsCiAgICAgIGFkZHJlc3M6ICcnLAogICAgICBpbnRlcm5hbEFkZHJlc3M6ICcnLAogICAgICBub2RlTmFtZTogJycsCiAgICAgIGxhYmVsczoge30sCiAgICAgIHRhaW50czogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbGludXhDb21tYW5kOiBmdW5jdGlvbiBsaW51eENvbW1hbmQoKSB7CiAgICAgIHZhciBvdXQgPSB0aGlzLmluc2VjdXJlID8gW3RoaXMuY2x1c3RlclRva2VuLmluc2VjdXJlTm9kZUNvbW1hbmRdIDogW3RoaXMuY2x1c3RlclRva2VuLm5vZGVDb21tYW5kXTsKICAgICAgdGhpcy5ldGNkICYmIG91dC5wdXNoKCctLWV0Y2QnKTsKICAgICAgdGhpcy5jb250cm9sUGxhbmUgJiYgb3V0LnB1c2goJy0tY29udHJvbHBsYW5lJyk7CiAgICAgIHRoaXMud29ya2VyICYmIG91dC5wdXNoKCctLXdvcmtlcicpOwogICAgICB0aGlzLmFkZHJlc3MgJiYgb3V0LnB1c2goIi0tYWRkcmVzcyAiLmNvbmNhdChzYW5pdGl6ZUlQKHRoaXMuYWRkcmVzcykpKTsKICAgICAgdGhpcy5pbnRlcm5hbEFkZHJlc3MgJiYgb3V0LnB1c2goIi0taW50ZXJuYWwtYWRkcmVzcyAiLmNvbmNhdChzYW5pdGl6ZUlQKHRoaXMuaW50ZXJuYWxBZGRyZXNzKSkpOwogICAgICB0aGlzLm5vZGVOYW1lICYmIG91dC5wdXNoKCItLW5vZGUtbmFtZSAiLmNvbmNhdChzYW5pdGl6ZVZhbHVlKHRoaXMubm9kZU5hbWUpKSk7CiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmxhYmVscykgewogICAgICAgIHZhciBrID0gc2FuaXRpemVLZXkoa2V5KTsKICAgICAgICB2YXIgdiA9IHNhbml0aXplVmFsdWUodGhpcy5sYWJlbHNba10pOwogICAgICAgIGlmIChrICYmIHYpIHsKICAgICAgICAgIG91dC5wdXNoKCItLWxhYmVsICIuY29uY2F0KGssICI9IikuY29uY2F0KHYpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFpbnRzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHZhciBfayA9IHNhbml0aXplS2V5KHQua2V5KTsKICAgICAgICAgIHZhciBfdiA9IHNhbml0aXplVmFsdWUodC52YWx1ZSk7CiAgICAgICAgICB2YXIgZSA9IHNhbml0aXplVmFsdWUodC5lZmZlY3QpOwogICAgICAgICAgaWYgKF9rICYmIF92ICYmIGUpIHsKICAgICAgICAgICAgb3V0LnB1c2goIi0tdGFpbnRzICIuY29uY2F0KF9rLCAiPSIpLmNvbmNhdChfdiwgIjoiKS5jb25jYXQoZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHJldHVybiBvdXQuam9pbignICcpOwogICAgfSwKICAgIHdpbmRvd3NDb21tYW5kOiBmdW5jdGlvbiB3aW5kb3dzQ29tbWFuZCgpIHsKICAgICAgdmFyIG91dCA9IHRoaXMuaW5zZWN1cmVXaW5kb3dzID8gW3RoaXMuY2x1c3RlclRva2VuLmluc2VjdXJlV2luZG93c05vZGVDb21tYW5kXSA6IFt0aGlzLmNsdXN0ZXJUb2tlbi53aW5kb3dzTm9kZUNvbW1hbmRdOwogICAgICB0aGlzLmFkZHJlc3MgJiYgb3V0LnB1c2goIi1BZGRyZXNzIFwiIi5jb25jYXQoc2FuaXRpemVWYWx1ZSh0aGlzLmFkZHJlc3MpLCAiXCIiKSk7CiAgICAgIHRoaXMuaW50ZXJuYWxBZGRyZXNzICYmIG91dC5wdXNoKCItSW50ZXJuYWxBZGRyZXNzIFwiIi5jb25jYXQoc2FuaXRpemVWYWx1ZSh0aGlzLmludGVybmFsQWRkcmVzcyksICJcIiIpKTsKICAgICAgdGhpcy5ub2RlTmFtZSAmJiBvdXQucHVzaCgiLU5vZGVOYW1lIFwiIi5jb25jYXQoc2FuaXRpemVWYWx1ZSh0aGlzLm5vZGVOYW1lKSwgIlwiIikpOwogICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5sYWJlbHMpIHsKICAgICAgICB2YXIgayA9IHNhbml0aXplS2V5KGtleSk7CiAgICAgICAgdmFyIHYgPSBzYW5pdGl6ZVZhbHVlKHRoaXMubGFiZWxzW2tdKTsKICAgICAgICBpZiAoayAmJiB2KSB7CiAgICAgICAgICBvdXQucHVzaCgiLUxhYmVsIFwiIi5jb25jYXQoaywgIj0iKS5jb25jYXQodiwgIlwiIikpOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFpbnRzKSwKICAgICAgICBfc3RlcDI7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB0ID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgdmFyIF9rMiA9IHNhbml0aXplS2V5KHQua2V5KTsKICAgICAgICAgIHZhciBfdjIgPSBzYW5pdGl6ZVZhbHVlKHQudmFsdWUpOwogICAgICAgICAgdmFyIGUgPSBzYW5pdGl6ZVZhbHVlKHQuZWZmZWN0KTsKICAgICAgICAgIGlmIChfazIgJiYgX3YyICYmIGUpIHsKICAgICAgICAgICAgb3V0LnB1c2goIi1UYWludCBcIiIuY29uY2F0KF9rMiwgIj0iKS5jb25jYXQoX3YyLCAiOiIpLmNvbmNhdChlLCAiXCIiKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0LmpvaW4oJyAnKTsKICAgIH0sCiAgICAvLyBDbHVzdGVycyBuZWVkIGxpbnV4IG5vZGVzIHdpdGggZXRjZCwgY29udHJvbHBsYW5lLCBhbmQgd29ya2VyIHJvbGVzIGJlZm9yZSB3aW5kb3dzIG5vZGVzIGNhbiBiZSByZWdpc3RyYXRpb24KICAgIHJlYWR5Rm9yV2luZG93czogZnVuY3Rpb24gcmVhZHlGb3JXaW5kb3dzKCkgewogICAgICBpZiAoIXRoaXMuY2x1c3Rlci5tZ210IHx8ICF0aGlzLmNsdXN0ZXIubWdtdC5pc1JlYWR5KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBub2RlcyA9IHRoaXMuY2x1c3Rlci5ub2RlcyB8fCBbXTsKICAgICAgdmFyIGFsbFJvbGVzID0gbm9kZXMucmVkdWNlKGZ1bmN0aW9uIChhbGwsIG5vZGUpIHsKICAgICAgICB2YXIgaXNXb3JrZXIgPSBub2RlLmlzV29ya2VyLAogICAgICAgICAgaXNFdGNkID0gbm9kZS5pc0V0Y2QsCiAgICAgICAgICBpc0NvbnRyb2xQbGFuZSA9IG5vZGUuaXNDb250cm9sUGxhbmU7CiAgICAgICAgaWYgKGlzV29ya2VyICYmICFhbGwuaW5jbHVkZXMoJ3dvcmtlcicpKSB7CiAgICAgICAgICBhbGwucHVzaCgnd29ya2VyJyk7CiAgICAgICAgfQogICAgICAgIGlmIChpc0V0Y2QgJiYgIWFsbC5pbmNsdWRlcygnZXRjZCcpKSB7CiAgICAgICAgICBhbGwucHVzaCgnZXRjZCcpOwogICAgICAgIH0KICAgICAgICBpZiAoaXNDb250cm9sUGxhbmUgJiYgIWFsbC5pbmNsdWRlcygnY29udHJvbFBsYW5lJykpIHsKICAgICAgICAgIGFsbC5wdXNoKCdjb250cm9sUGxhbmUnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFsbDsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gYWxsUm9sZXMubGVuZ3RoID09PSAzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlQWR2YW5jZWQ6IGZ1bmN0aW9uIHRvZ2dsZUFkdmFuY2VkKCkgewogICAgICB0aGlzLnNob3dBZHZhbmNlZCA9ICF0aGlzLnNob3dBZHZhbmNlZDsKICAgIH0sCiAgICBjb3BpZWRXaW5kb3dzOiBmdW5jdGlvbiBjb3BpZWRXaW5kb3dzKCkgewogICAgICB0aGlzLiRlbWl0KCdjb3BpZWQtd2luZG93cycpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Banner","InfoBox","Checkbox","CopyCode","LabeledInput","KeyValue","Taints","MANAGEMENT","sanitizeKey","sanitizeIP","sanitizeValue","components","props","cluster","type","Object","required","clusterToken","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","NODE","stop","data","showAdvanced","etcd","controlPlane","worker","insecure","insecureWindows","address","internalAddress","nodeName","labels","taints","computed","linuxCommand","out","insecureNodeCommand","nodeCommand","push","concat","key","k","v","_iterator","_createForOfIteratorHelper","_step","s","n","done","t","value","e","effect","err","f","join","windowsCommand","insecureWindowsNodeCommand","windowsNodeCommand","_iterator2","_step2","readyForWindows","mgmt","isReady","nodes","allRoles","reduce","all","node","isWorker","isEtcd","isControlPlane","includes","length","methods","toggleAdvanced","copiedWindows","$emit"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue"],"sourcesContent":["<script>\nimport { Banner } from '@components/Banner';\nimport InfoBox from '@shell/components/InfoBox';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CopyCode from '@shell/components/CopyCode';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport Taints from '@shell/components/form/Taints';\nimport { MANAGEMENT } from '@shell/config/types';\n\nimport { sanitizeKey, sanitizeIP, sanitizeValue } from '@shell/utils/string';\n\nexport default {\n  components: {\n    Banner, Checkbox, CopyCode, InfoBox, KeyValue, LabeledInput, Taints\n  },\n\n  props: {\n    cluster: {\n      type:     Object,\n      required: true,\n    },\n\n    clusterToken: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    await this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE });\n  },\n\n  data() {\n    return {\n      showAdvanced:    false,\n      etcd:            true,\n      controlPlane:    true,\n      worker:          true,\n      insecure:        false,\n      insecureWindows: false,\n      address:         '',\n      internalAddress: '',\n      nodeName:        '',\n      labels:          {},\n      taints:          []\n    };\n  },\n\n  computed: {\n    linuxCommand() {\n      const out = this.insecure ? [this.clusterToken.insecureNodeCommand] : [this.clusterToken.nodeCommand];\n\n      this.etcd && out.push('--etcd');\n      this.controlPlane && out.push('--controlplane');\n      this.worker && out.push('--worker');\n      this.address && out.push(`--address ${ sanitizeIP(this.address) }`);\n      this.internalAddress && out.push(`--internal-address ${ sanitizeIP(this.internalAddress) }`);\n      this.nodeName && out.push(`--node-name ${ sanitizeValue(this.nodeName) }`);\n\n      for ( const key in this.labels ) {\n        const k = sanitizeKey(key);\n        const v = sanitizeValue(this.labels[k]);\n\n        if ( k && v ) {\n          out.push(`--label ${ k }=${ v }`);\n        }\n      }\n\n      for ( const t of this.taints ) {\n        const k = sanitizeKey(t.key);\n        const v = sanitizeValue(t.value);\n        const e = sanitizeValue(t.effect);\n\n        if ( k && v && e ) {\n          out.push(`--taints ${ k }=${ v }:${ e }`);\n        }\n      }\n\n      return out.join(' ');\n    },\n\n    windowsCommand() {\n      const out = this.insecureWindows ? [this.clusterToken.insecureWindowsNodeCommand] : [this.clusterToken.windowsNodeCommand];\n\n      this.address && out.push(`-Address \"${ sanitizeValue(this.address) }\"`);\n      this.internalAddress && out.push(`-InternalAddress \"${ sanitizeValue(this.internalAddress) }\"`);\n      this.nodeName && out.push(`-NodeName \"${ sanitizeValue(this.nodeName) }\"`);\n\n      for ( const key in this.labels ) {\n        const k = sanitizeKey(key);\n        const v = sanitizeValue(this.labels[k]);\n\n        if ( k && v ) {\n          out.push(`-Label \"${ k }=${ v }\"`);\n        }\n      }\n\n      for ( const t of this.taints ) {\n        const k = sanitizeKey(t.key);\n        const v = sanitizeValue(t.value);\n        const e = sanitizeValue(t.effect);\n\n        if ( k && v && e ) {\n          out.push(`-Taint \"${ k }=${ v }:${ e }\"`);\n        }\n      }\n\n      return out.join(' ');\n    },\n\n    // Clusters need linux nodes with etcd, controlplane, and worker roles before windows nodes can be registration\n    readyForWindows() {\n      if (!this.cluster.mgmt || !this.cluster.mgmt.isReady) {\n        return false;\n      }\n      const nodes = this.cluster.nodes || [];\n\n      const allRoles = nodes.reduce((all, node) => {\n        const { isWorker, isEtcd, isControlPlane } = node;\n\n        if (isWorker && !all.includes('worker')) {\n          all.push('worker');\n        }\n        if (isEtcd && !all.includes('etcd')) {\n          all.push('etcd');\n        }\n        if (isControlPlane && !all.includes('controlPlane')) {\n          all.push('controlPlane');\n        }\n\n        return all;\n      }, []);\n\n      return allRoles.length === 3;\n    }\n\n  },\n\n  methods: {\n    toggleAdvanced() {\n      this.showAdvanced = !this.showAdvanced;\n    },\n\n    copiedWindows() {\n      this.$emit('copied-windows');\n    }\n  },\n};\n\n</script>\n\n<template>\n  <div>\n    <InfoBox\n      :step=\"1\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.nodeRole.label'\" />\n      <h4 v-t=\"'cluster.custom.nodeRole.detail'\" />\n      <Checkbox\n        v-model=\"etcd\"\n        label-key=\"model.machine.role.etcd\"\n      />\n      <Checkbox\n        v-model=\"controlPlane\"\n        label-key=\"model.machine.role.controlPlane\"\n      />\n      <Checkbox\n        v-model=\"worker\"\n        label-key=\"model.machine.role.worker\"\n      />\n      <Banner\n        v-if=\"!etcd || !controlPlane || !worker\"\n        data-testid=\"node-role-warning\"\n        color=\"warning\"\n        :label=\"t('cluster.custom.nodeRole.warning')\"\n      />\n    </InfoBox>\n\n    <InfoBox\n      v-if=\"showAdvanced\"\n      :step=\"2\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.advanced.label'\" />\n      <h4 v-t=\"'cluster.custom.advanced.detail'\" />\n\n      <div class=\"row mb-10\">\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"nodeName\"\n            label-key=\"cluster.custom.advanced.nodeName\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"address\"\n            label-key=\"cluster.custom.advanced.publicIp\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"internalAddress\"\n            label-key=\"cluster.custom.advanced.privateIp\"\n          />\n        </div>\n      </div>\n\n      <KeyValue\n        v-model=\"labels\"\n        class=\"mb-10\"\n        mode=\"edit\"\n        :title=\"t('cluster.custom.advanced.nodeLabel.title')\"\n        :add-label=\"t('cluster.custom.advanced.nodeLabel.label')\"\n        :read-allowed=\"false\"\n      />\n\n      <Taints\n        v-model=\"taints\"\n        class=\"mb-10\"\n        mode=\"edit\"\n        :value=\"taints\"\n      />\n\n      <a\n        v-t=\"'generic.hideAdvanced'\"\n        @click=\"toggleAdvanced\"\n      />\n    </InfoBox>\n\n    <div\n      v-else\n      class=\"mb-20\"\n    >\n      <a\n        v-t=\"'generic.showAdvanced'\"\n        @click=\"toggleAdvanced\"\n      />\n    </div>\n\n    <InfoBox\n      :step=\"showAdvanced ? 3 : 2\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.registrationCommand.label'\" />\n      <h4 v-t=\"'cluster.custom.registrationCommand.linuxDetail'\" />\n      <CopyCode\n        id=\"copiedLinux\"\n        class=\"m-10 p-10\"\n      >\n        {{ linuxCommand }}\n      </CopyCode>\n      <Checkbox\n        v-if=\"clusterToken.insecureNodeCommand\"\n        v-model=\"insecure\"\n        label-key=\"cluster.custom.registrationCommand.insecure\"\n      />\n\n      <template v-if=\"cluster.supportsWindows\">\n        <hr class=\"mt-20 mb-20\">\n        <h4 v-t=\"'cluster.custom.registrationCommand.windowsDetail'\" />\n        <Banner\n          v-if=\"cluster.isRke1\"\n          color=\"warning\"\n          :label=\"t('cluster.custom.registrationCommand.windowsDeprecatedForRKE1')\"\n        />\n        <template v-if=\"readyForWindows\">\n          <CopyCode\n            id=\"copiedWindows\"\n            class=\"m-10 p-10\"\n            @copied=\"copiedWindows\"\n          >\n            {{ windowsCommand }}\n          </CopyCode>\n          <Checkbox\n            v-if=\"clusterToken.insecureWindowsNodeCommand\"\n            v-model=\"insecureWindows\"\n            label-key=\"cluster.custom.registrationCommand.insecure\"\n          />\n          <Banner\n            color=\"info\"\n            :label=\"t('cluster.custom.registrationCommand.windowsWarning')\"\n          />\n        </template>\n        <Banner\n          v-else\n          color=\"info\"\n          :label=\"t('cluster.custom.registrationCommand.windowsNotReady')\"\n        />\n      </template>\n    </InfoBox>\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]}]}