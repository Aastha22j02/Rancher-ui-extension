{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/secret.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/secret.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFNlY3JldCBmcm9tICdAc2hlbGwvbW9kZWxzL3NlY3JldCc7CmRlc2NyaWJlKCdjbGFzcyBTZWNyZXQnLCBmdW5jdGlvbiAoKSB7CiAgaXQoJ3Nob3VsZCBjb250YWlucyB0aGUgdHlwZSBhdHRyaWJ1dGUgaWYgY2xlYW5Gb3JEb3dubG9hZCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgdmFyIHNlY3JldCwgeWFtbCwgY2xlYW5ZYW1sOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHNlY3JldCA9IG5ldyBTZWNyZXQoe30pOwogICAgICAgICAgeWFtbCA9ICJhcGlWZXJzaW9uOiB2MVxua2luZDogU2VjcmV0XG5tZXRhZGF0YTpcbiAgbmFtZTogbXktc2VjcmV0XG50eXBlOiBPcGFxdWVcbiI7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgIHJldHVybiBzZWNyZXQuY2xlYW5Gb3JEb3dubG9hZCh5YW1sKTsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjbGVhbllhbWwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgZXhwZWN0KGNsZWFuWWFtbCkudG9CZSh5YW1sKTsKICAgICAgICBjYXNlIDY6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKSk7CiAgaXQoJ3Nob3VsZCByZW1vdmUgaWQsIGxpbmtzIGFuZCBhY3Rpb25zIGtleXMgaWYgY2xlYW5Gb3JEb3dubG9hZCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHZhciBzZWNyZXQsIGV4cGVjdGVkWWFtbFN0ciwgcGFydCwgeWFtbCwgY2xlYW5ZYW1sOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBzZWNyZXQgPSBuZXcgU2VjcmV0KHt9KTsKICAgICAgICAgIGV4cGVjdGVkWWFtbFN0ciA9ICJhcGlWZXJzaW9uOiB2MVxua2luZDogU2VjcmV0XG5tZXRhZGF0YTpcbiAgbmFtZTogbXktc2VjcmV0XG4gIG5hbWVzcGFjZTogZGVmYXVsdFxudHlwZTogT3BhcXVlXG4iOwogICAgICAgICAgcGFydCA9ICJpZDogdGVzdF9pZFxubGlua3M6XG4gIHZpZXc6IGh0dHBzOi8vZXhhbXBsZS5jb21cbmFjdGlvbnM6XG4gIHJlbW92ZTogaHR0cHM6Ly9leGFtcGxlLmNvbSI7CiAgICAgICAgICB5YW1sID0gIiIuY29uY2F0KGV4cGVjdGVkWWFtbFN0ciwgIlxuIikuY29uY2F0KHBhcnQpOwogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgcmV0dXJuIHNlY3JldC5jbGVhbkZvckRvd25sb2FkKHlhbWwpOwogICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNsZWFuWWFtbCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgZXhwZWN0KGNsZWFuWWFtbCkudG9CZShleHBlY3RlZFlhbWxTdHIpOwogICAgICAgIGNhc2UgODoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSkpOwp9KTs="},{"version":3,"names":["Secret","describe","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","secret","yaml","cleanYaml","wrap","_callee$","_context","prev","next","cleanForDownload","sent","expect","toBe","stop","_callee2","expectedYamlStr","part","_callee2$","_context2","concat"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/secret.test.ts"],"sourcesContent":["import Secret from '@shell/models/secret';\n\ndescribe('class Secret', () => {\n  it('should contains the type attribute if cleanForDownload', async() => {\n    const secret = new Secret({});\n    const yaml = `apiVersion: v1\nkind: Secret\nmetadata:\n  name: my-secret\ntype: Opaque\n`;\n    const cleanYaml = await secret.cleanForDownload(yaml);\n\n    expect(cleanYaml).toBe(yaml);\n  });\n\n  it('should remove id, links and actions keys if cleanForDownload', async() => {\n    const secret = new Secret({});\n    const expectedYamlStr = `apiVersion: v1\nkind: Secret\nmetadata:\n  name: my-secret\n  namespace: default\ntype: Opaque\n`;\n    const part = `id: test_id\nlinks:\n  view: https://example.com\nactions:\n  remove: https://example.com`;\n    const yaml = `${ expectedYamlStr }\n${ part }`;\n    const cleanYaml = await secret.cleanForDownload(yaml);\n\n    expect(cleanYaml).toBe(expectedYamlStr);\n  });\n});\n"],"mappings":";;;;AAAA,OAAOA,MAAM,MAAM,sBAAsB;AAEzCC,QAAQ,CAAC,cAAc,EAAE,YAAK;EAC5BC,EAAE,CAAC,wDAAwD,eAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;IAAA,IAAAC,MAAA,EAAAC,IAAA,EAAAC,SAAA;IAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACrDP,MAAM,GAAG,IAAIP,MAAM,CAAC,EAAE,CAAC;UACvBQ,IAAI;UAAAI,QAAA,CAAAE,IAAA;UAAA,OAMcP,MAAM,CAACQ,gBAAgB,CAACP,IAAI,CAAC;QAAA;UAA/CC,SAAS,GAAAG,QAAA,CAAAI,IAAA;UAEfC,MAAM,CAACR,SAAS,CAAC,CAACS,IAAI,CAACV,IAAI,CAAC;QAAC;QAAA;UAAA,OAAAI,QAAA,CAAAO,IAAA;MAAA;IAAA,GAAAb,OAAA;EAAA,CAC9B,GAAC;EAEFJ,EAAE,CAAC,8DAA8D,eAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAe,SAAA;IAAA,IAAAb,MAAA,EAAAc,eAAA,EAAAC,IAAA,EAAAd,IAAA,EAAAC,SAAA;IAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAa,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAX,IAAA,GAAAW,SAAA,CAAAV,IAAA;QAAA;UAC3DP,MAAM,GAAG,IAAIP,MAAM,CAAC,EAAE,CAAC;UACvBqB,eAAe;UAOfC,IAAI;UAKJd,IAAI,MAAAiB,MAAA,CAAOJ,eAAgB,QAAAI,MAAA,CAClCH,IAAK;UAAAE,SAAA,CAAAV,IAAA;UAAA,OACoBP,MAAM,CAACQ,gBAAgB,CAACP,IAAI,CAAC;QAAA;UAA/CC,SAAS,GAAAe,SAAA,CAAAR,IAAA;UAEfC,MAAM,CAACR,SAAS,CAAC,CAACS,IAAI,CAACG,eAAe,CAAC;QAAC;QAAA;UAAA,OAAAG,SAAA,CAAAL,IAAA;MAAA;IAAA,GAAAC,QAAA;EAAA,CACzC,GAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}