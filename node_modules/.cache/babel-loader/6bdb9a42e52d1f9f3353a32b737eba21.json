{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/pod-security-admission.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/pod-security-admission.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgeyByZWR1Y2UsIGZpbHRlciwga2V5cyB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IFBTQUxhYmVsUHJlZml4LCBQU0FMYWJlbHNOYW1lc3BhY2VzIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wb2Qtc2VjdXJpdHktYWRtaXNzaW9uJzsKaW1wb3J0IHsgY2FtZWxUb1RpdGxlIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7Ci8qKgogKiBSZXR1cm4gUFNBIGxhYmVscyBwcmVzZW50IGluIHRoZSByZXNvdXJjZQogKiBAcmV0dXJucyBzdHJpbmdbXQogKi8KZXhwb3J0IHZhciBnZXRQU0FMYWJlbHMgPSBmdW5jdGlvbiBnZXRQU0FMYWJlbHMocmVzb3VyY2UpIHsKICB2YXIgX2E7CiAgcmV0dXJuIGZpbHRlcihrZXlzKChfYSA9IHJlc291cmNlID09PSBudWxsIHx8IHJlc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvdXJjZS5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVscyksIGZ1bmN0aW9uIChrZXkpIHsKICAgIHJldHVybiBQU0FMYWJlbHNOYW1lc3BhY2VzLmluY2x1ZGVzKGtleSk7CiAgfSk7Cn07Ci8qKgogKiBSZXR1cm4gYm9vbGVhbiB2YWx1ZSBpZiB0aGUgbGFiZWwgaXMgYSBQU0EgbGFiZWwKICogQHJldHVybnMgQm9vbGVhbgogKi8KZXhwb3J0IHZhciBoYXNQU0FMYWJlbHMgPSBmdW5jdGlvbiBoYXNQU0FMYWJlbHMocmVzb3VyY2UpIHsKICByZXR1cm4gZ2V0UFNBTGFiZWxzKHJlc291cmNlKS5sZW5ndGggPiAwOwp9OwovKioKICogR2VuZXJhdGUgdG9vbHRpcHMgZGljdGlvbmFyeSBmcm9tIGEgZ2l2ZW4gUFNBIG5hbWVzcGFjZWQgbGFiZWwgcGFpciBvZiBrZXkgYW5kIHZhbHVlcwogKi8KZXhwb3J0IHZhciBnZXRQU0FUb29sdGlwc0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24gZ2V0UFNBVG9vbHRpcHNEZXNjcmlwdGlvbihyZXNvdXJjZSkgewogIHZhciBfYTsKICByZXR1cm4gcmVkdWNlKChfYSA9IHJlc291cmNlID09PSBudWxsIHx8IHJlc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvdXJjZS5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVscywgZnVuY3Rpb24gKGFjYywgdmFsdWUsIGtleSkgewogICAgdmFyIF9hOwogICAgdmFyIGlzUFNBID0gUFNBTGFiZWxzTmFtZXNwYWNlcy5pbmNsdWRlcyhrZXkpOwogICAgLy8gUmV0cmlldmUgdmVyc2lvbiBmcm9tIHBhaXJlZCBsYWJlbCBlbmRpbmcgd2l0aCBgLXZlcnNpb25gCiAgICB2YXIgc3VmZml4ID0gJy12ZXJzaW9uJzsKICAgIHZhciBpc1ZlcnNpb25MYWJlbCA9IGtleS5pbmNsdWRlcyhzdWZmaXgpOwogICAgdmFyIHZlcnNpb25MYWJlbCA9IChfYSA9IHJlc291cmNlID09PSBudWxsIHx8IHJlc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvdXJjZS5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVsc1siIi5jb25jYXQoa2V5KS5jb25jYXQoc3VmZml4KV07CiAgICB2YXIgdmVyc2lvbiA9IHZlcnNpb25MYWJlbCB8fCAnbGF0ZXN0JzsKICAgIC8vIEFkZCBTUEEgbGFiZWxzIGFuZCBkaXNjYXJkIHBhaXJlZCB2ZXJzaW9uIGxhYmVsCiAgICByZXR1cm4gaXNQU0EgJiYgIWlzVmVyc2lvbkxhYmVsID8gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksICIiLmNvbmNhdChjYW1lbFRvVGl0bGUoa2V5LnJlcGxhY2UoUFNBTGFiZWxQcmVmaXgsICcnKSksICIgIikuY29uY2F0KGNhbWVsVG9UaXRsZSh2YWx1ZSksICIgKCIpLmNvbmNhdCh2ZXJzaW9uLCAiKSIpKSkgOiBhY2M7CiAgfSwge30pOwp9Ow=="},{"version":3,"names":["reduce","filter","keys","PSALabelPrefix","PSALabelsNamespaces","camelToTitle","getPSALabels","resource","_a","metadata","labels","key","includes","hasPSALabels","length","getPSATooltipsDescription","acc","value","isPSA","suffix","isVersionLabel","versionLabel","concat","version","_objectSpread","_defineProperty","replace"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/pod-security-admission.ts"],"sourcesContent":["import { reduce, filter, keys } from 'lodash';\nimport { PSALabelPrefix, PSALabelsNamespaces } from '@shell/config/pod-security-admission';\nimport { camelToTitle } from '@shell/utils/string';\nimport { PSA } from '@shell/types/resources/pod-security-admission';\n\n/**\n * Return PSA labels present in the resource\n * @returns string[]\n */\nexport const getPSALabels = (resource: PSA): string[] => filter(keys(resource?.metadata?.labels), (key) => PSALabelsNamespaces.includes(key));\n\n/**\n * Return boolean value if the label is a PSA label\n * @returns Boolean\n */\nexport const hasPSALabels = (resource: PSA): boolean => getPSALabels(resource).length > 0;\n\n/**\n * Generate tooltips dictionary from a given PSA namespaced label pair of key and values\n */\nexport const getPSATooltipsDescription = (resource: PSA): Record<string, string> => reduce(\n  resource?.metadata?.labels,\n  (acc, value, key) => {\n    const isPSA = PSALabelsNamespaces.includes(key);\n\n    // Retrieve version from paired label ending with `-version`\n    const suffix = '-version';\n    const isVersionLabel = key.includes(suffix);\n    const versionLabel = resource?.metadata?.labels[`${ key }${ suffix }`];\n    const version = versionLabel || 'latest';\n\n    // Add SPA labels and discard paired version label\n    return isPSA && !isVersionLabel ? {\n      ...acc,\n      [key]: `${ camelToTitle(key.replace(PSALabelPrefix, '')) } ${ camelToTitle(value) } (${ version })`\n    } : acc;\n  },\n  { }\n);\n"],"mappings":";;;;;;;;;;;;;;;AAAA,SAASA,MAAM,EAAEC,MAAM,EAAEC,IAAI,QAAQ,QAAQ;AAC7C,SAASC,cAAc,EAAEC,mBAAmB,QAAQ,sCAAsC;AAC1F,SAASC,YAAY,QAAQ,qBAAqB;AAGlD;;;;AAIA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,QAAa,EAAc;EAAA,IAAAC,EAAA;EAAC,OAAAP,MAAM,CAACC,IAAI,CAAC,CAAAM,EAAA,GAAAD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,QAAQ,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,MAAM,CAAC,EAAE,UAACC,GAAG;IAAA,OAAKP,mBAAmB,CAACQ,QAAQ,CAACD,GAAG,CAAC;EAAA,EAAC;AAAA;AAE7I;;;;AAIA,OAAO,IAAME,YAAY,GAAG,SAAfA,YAAYA,CAAIN,QAAa;EAAA,OAAcD,YAAY,CAACC,QAAQ,CAAC,CAACO,MAAM,GAAG,CAAC;AAAA;AAEzF;;;AAGA,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAIR,QAAa,EAA4B;;EAAC,OAAAP,MAAM,CACxF,CAAAQ,EAAA,GAAAD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,QAAQ,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,MAAM,EAC1B,UAACM,GAAG,EAAEC,KAAK,EAAEN,GAAG,EAAI;;IAClB,IAAMO,KAAK,GAAGd,mBAAmB,CAACQ,QAAQ,CAACD,GAAG,CAAC;IAE/C;IACA,IAAMQ,MAAM,GAAG,UAAU;IACzB,IAAMC,cAAc,GAAGT,GAAG,CAACC,QAAQ,CAACO,MAAM,CAAC;IAC3C,IAAME,YAAY,GAAG,CAAAb,EAAA,GAAAD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,QAAQ,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,MAAM,IAAAY,MAAA,CAAKX,GAAI,EAAAW,MAAA,CAAIH,MAAO,EAAG;IACtE,IAAMI,OAAO,GAAGF,YAAY,IAAI,QAAQ;IAExC;IACA,OAAOH,KAAK,IAAI,CAACE,cAAc,GAAAI,aAAA,CAAAA,aAAA,KAC1BR,GAAG,OAAAS,eAAA,KACLd,GAAG,KAAAW,MAAA,CAAOjB,YAAY,CAACM,GAAG,CAACe,OAAO,CAACvB,cAAc,EAAE,EAAE,CAAC,CAAE,OAAAmB,MAAA,CAAKjB,YAAY,CAACY,KAAK,CAAE,QAAAK,MAAA,CAAMC,OAAQ,WAC9FP,GAAG;EACT,CAAC,EACD,EAAG,CACJ;CAAA","ignoreList":[]}]}