{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/getters.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/getters.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIociwgZSkgeyB2YXIgdCA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbIkBAaXRlcmF0b3IiXTsgaWYgKCF0KSB7IGlmIChBcnJheS5pc0FycmF5KHIpIHx8ICh0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpKSB8fCBlICYmIHIgJiYgIm51bWJlciIgPT0gdHlwZW9mIHIubGVuZ3RoKSB7IHQgJiYgKHIgPSB0KTsgdmFyIF9uID0gMCwgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgcmV0dXJuIF9uID49IHIubGVuZ3RoID8geyBkb25lOiAhMCB9IDogeyBkb25lOiAhMSwgdmFsdWU6IHJbX24rK10gfTsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHRocm93IHI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG8sIGEgPSAhMCwgdSA9ICExOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyB0ID0gdC5jYWxsKHIpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgciA9IHQubmV4dCgpOyByZXR1cm4gYSA9IHIuZG9uZSwgcjsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHUgPSAhMCwgbyA9IHI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGEgfHwgbnVsbCA9PSB0LnJldHVybiB8fCB0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAodSkgdGhyb3cgbzsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKCJzdHJpbmciID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiAiT2JqZWN0IiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgIk1hcCIgPT09IHQgfHwgIlNldCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogIkFyZ3VtZW50cyIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBTQ0hFTUEsIENPVU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IG1hdGNoZXMgfSBmcm9tICdAc2hlbGwvdXRpbHMvc2VsZWN0b3InOwppbXBvcnQgeyB0eXBlTXVuZ2UsIHR5cGVSZWYsIFNJTVBMRV9UWVBFUyB9IGZyb20gJ0BzaGVsbC91dGlscy9jcmVhdGUteWFtbCc7CmltcG9ydCB7IHNwbGl0T2JqZWN0UGF0aCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBwYXJzZVR5cGUgfSBmcm9tICdAc2hlbGwvbW9kZWxzL3NjaGVtYSc7CmltcG9ydCBSZXNvdXJjZSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwppbXBvcnQgbXV0YXRpb25zIGZyb20gJy4vbXV0YXRpb25zJzsKaW1wb3J0IHsga2V5RmllbGRGb3IsIG5vcm1hbGl6ZVR5cGUgYXMgX25vcm1hbGl6ZVR5cGUgfSBmcm9tICcuL25vcm1hbGl6ZSc7CmltcG9ydCB7IGxvb2t1cCB9IGZyb20gJy4vbW9kZWwtbG9hZGVyJzsKaW1wb3J0IGdhcmJhZ2VDb2xsZWN0IGZyb20gJ0BzaGVsbC91dGlscy9nYy9nYyc7CmV4cG9ydCB2YXIgdXJsRm9yID0gZnVuY3Rpb24gdXJsRm9yKHN0YXRlLCBnZXR0ZXJzKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBpZCwgb3B0KSB7CiAgICBvcHQgPSBvcHQgfHwge307CiAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgdmFyIHVybCA9IG9wdC51cmw7CiAgICBpZiAoIXVybCkgewogICAgICB2YXIgc2NoZW1hID0gZ2V0dGVycy5zY2hlbWFGb3IodHlwZSk7CiAgICAgIGlmICghc2NoZW1hKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHNjaGVtYSBmb3IgdHlwZTogIi5jb25jYXQodHlwZSkpOwogICAgICB9CiAgICAgIHVybCA9IHNjaGVtYS5saW5rcy5jb2xsZWN0aW9uOwogICAgICBpZiAoIXVybCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBsaXN0IHRoaXMgdHlwZTogIi5jb25jYXQodHlwZSkpOwogICAgICB9CiAgICAgIGlmIChpZCkgewogICAgICAgIHVybCArPSAiLyIuY29uY2F0KGlkKTsKICAgICAgfQogICAgfQogICAgaWYgKCF1cmwuc3RhcnRzV2l0aCgnLycpICYmICF1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7CiAgICAgIHZhciBiYXNlVXJsID0gc3RhdGUuY29uZmlnLmJhc2VVcmwucmVwbGFjZSgvXC8kLywgJycpOwogICAgICB1cmwgPSAiIi5jb25jYXQoYmFzZVVybCwgIi8iKS5jb25jYXQodXJsKTsKICAgIH0KICAgIHVybCA9IGdldHRlcnMudXJsT3B0aW9ucyh1cmwsIG9wdCk7CiAgICByZXR1cm4gdXJsOwogIH07Cn07CgovKioKICogRmluZCB0aGUgbnVtYmVyIG9mIHJlc291cmNlcyBnaXZlbgogKiAtIGlmIHRoZSB0eXBlIGlzIG5hbWVzcGFjZWQKICogLSBpZiB0aGVyZSBhcmUgYW55IGNvdW50cyBwZXIgbmFtZXNwYWNlCiAqIC0gaWYgdGhlcmUgYXJlIG5vIG5hbWVzcGFjZXMKICogLSBpZiB0aGVyZSBpcyBubyB0b3RhbCBjb3VudAogKi8KZnVuY3Rpb24gbWF0Y2hpbmdDb3VudHModHlwZU9iaiwgbmFtZXNwYWNlcykgewogIC8vIFRoYXQgd2FzIGVhc3kKICBpZiAoIXR5cGVPYmoubmFtZXNwYWNlZCB8fCAhdHlwZU9iai5ieU5hbWVzcGFjZSB8fCBuYW1lc3BhY2VzID09PSBudWxsIHx8IHR5cGVPYmouY291bnQgPT09IG51bGwpIHsKICAgIHJldHVybiB0eXBlT2JqLmNvdW50OwogIH0KICB2YXIgb3V0ID0gMDsKCiAgLy8gT3RoZXJ3aXNlIHN0YXJ0IHdpdGggMCBhbmQgY291bnQgdXAKICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobmFtZXNwYWNlcyksCiAgICBfc3RlcDsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIF90eXBlT2JqJGJ5TmFtZXNwYWNlJDsKICAgICAgdmFyIG5hbWVzcGFjZSA9IF9zdGVwLnZhbHVlOwogICAgICBvdXQgKz0gKChfdHlwZU9iaiRieU5hbWVzcGFjZSQgPSB0eXBlT2JqLmJ5TmFtZXNwYWNlW25hbWVzcGFjZV0pID09PSBudWxsIHx8IF90eXBlT2JqJGJ5TmFtZXNwYWNlJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3R5cGVPYmokYnlOYW1lc3BhY2UkLmNvdW50KSB8fCAwOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CiAgcmV0dXJuIG91dDsKfQpleHBvcnQgZGVmYXVsdCB7CiAgYWxsOiBmdW5jdGlvbiBhbGwoc3RhdGUsIGdldHRlcnMsIHJvb3RTdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgIGlmICghZ2V0dGVycy50eXBlUmVnaXN0ZXJlZCh0eXBlKSkgewogICAgICAgIC8vIFllcyB0aGlzIGlzIG11dGF0aW5nIHN0YXRlIGluIGEgZ2V0dGVyLi4uIGl0J3Mgbm90IHRoZSBlbmQgb2YgdGhlIHdvcmxkLi4KICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYEFsbCBvZiAkeyB0eXBlIH0gaXMgbm90IGxvYWRlZGApOwogICAgICAgIGNvbnNvbGUud2FybigiQWxsIG9mICIuY29uY2F0KHR5cGUsICIgaXMgbm90IGxvYWRlZCB5ZXQiKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgIG11dGF0aW9ucy5yZWdpc3RlclR5cGUoc3RhdGUsIHR5cGUpOwogICAgICB9CiAgICAgIGdhcmJhZ2VDb2xsZWN0LmdjVXBkYXRlTGFzdEFjY2Vzc2VkKHsKICAgICAgICBzdGF0ZTogc3RhdGUsCiAgICAgICAgZ2V0dGVyczogZ2V0dGVycywKICAgICAgICByb290U3RhdGU6IHJvb3RTdGF0ZQogICAgICB9LCB0eXBlKTsKICAgICAgcmV0dXJuIHN0YXRlLnR5cGVzW3R5cGVdLmxpc3Q7CiAgICB9OwogIH0sCiAgbWF0Y2hpbmc6IGZ1bmN0aW9uIG1hdGNoaW5nKHN0YXRlLCBnZXR0ZXJzLCByb290U3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSwgc2VsZWN0b3IsIG5hbWVzcGFjZSkgewogICAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7CiAgICAgICAgc2tpcFNlbGVjdG9yOiBmYWxzZQogICAgICB9OwogICAgICB2YXIgbWF0Y2hpbmcgPSBnZXR0ZXJzWydhbGwnXSh0eXBlKTsKCiAgICAgIC8vIEZpbHRlciBmaXJzdCBieSBuYW1lc3BhY2UgaWYgb25lIGlzIHByb3ZpZGVkLCBzaW5jZSB0aGlzIGlzIGVmZmljaWVudAogICAgICBpZiAobmFtZXNwYWNlICYmIHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgbWF0Y2hpbmcgPSBtYXRjaGluZy5maWx0ZXIoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgcmV0dXJuIG9iai5uYW1lc3BhY2UgPT09IG5hbWVzcGFjZTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBnYXJiYWdlQ29sbGVjdC5nY1VwZGF0ZUxhc3RBY2Nlc3NlZCh7CiAgICAgICAgc3RhdGU6IHN0YXRlLAogICAgICAgIGdldHRlcnM6IGdldHRlcnMsCiAgICAgICAgcm9vdFN0YXRlOiByb290U3RhdGUKICAgICAgfSwgdHlwZSk7CgogICAgICAvLyBMb29rcyBsaWtlIGEgZmFsc3kgc2VsZWN0b3IgaXMgYSB0aGluZywgc28gaWYgd2UncmUgbm90IGludGVyZXN0ZWQgaW4gZmlsdGVyaW5nIGJ5IHRoZSBzZWxlY3Rvci4uLiBleHBsaWNpdGx5IGF2b2lkIGl0CiAgICAgIGlmIChjb25maWcuc2tpcFNlbGVjdG9yKSB7CiAgICAgICAgcmV0dXJuIG1hdGNoaW5nOwogICAgICB9CiAgICAgIHJldHVybiBtYXRjaGluZy5maWx0ZXIoZnVuY3Rpb24gKG9iaikgewogICAgICAgIHJldHVybiBtYXRjaGVzKG9iaiwgc2VsZWN0b3IpOwogICAgICB9KTsKICAgIH07CiAgfSwKICBieUlkOiBmdW5jdGlvbiBieUlkKHN0YXRlLCBnZXR0ZXJzLCByb290U3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSwgaWQpIHsKICAgICAgdHlwZSA9IGdldHRlcnMubm9ybWFsaXplVHlwZSh0eXBlKTsKICAgICAgdmFyIGVudHJ5ID0gc3RhdGUudHlwZXNbdHlwZV07CiAgICAgIGlmIChlbnRyeSkgewogICAgICAgIGdhcmJhZ2VDb2xsZWN0LmdjVXBkYXRlTGFzdEFjY2Vzc2VkKHsKICAgICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICAgIGdldHRlcnM6IGdldHRlcnMsCiAgICAgICAgICByb290U3RhdGU6IHJvb3RTdGF0ZQogICAgICAgIH0sIHR5cGUpOwogICAgICAgIHJldHVybiBlbnRyeS5tYXAuZ2V0KGlkKTsKICAgICAgfQogICAgfTsKICB9LAogIHBhdGhFeGlzdHNJblNjaGVtYTogZnVuY3Rpb24gcGF0aEV4aXN0c0luU2NoZW1hKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUsIHBhdGgpIHsKICAgICAgdmFyIHNjaGVtYSA9IGdldHRlcnMuc2NoZW1hRm9yKHR5cGUpOwogICAgICB2YXIgcGFydHMgPSBzcGxpdE9iamVjdFBhdGgocGF0aCk7CiAgICAgIHdoaWxlIChwYXJ0cy5sZW5ndGgpIHsKICAgICAgICB2YXIgX3NjaGVtYSRyZXNvdXJjZUZpZWxkOwogICAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpOwogICAgICAgIHR5cGUgPSAoX3NjaGVtYSRyZXNvdXJjZUZpZWxkID0gc2NoZW1hLnJlc291cmNlRmllbGRzKSA9PT0gbnVsbCB8fCBfc2NoZW1hJHJlc291cmNlRmllbGQgPT09IHZvaWQgMCB8fCAoX3NjaGVtYSRyZXNvdXJjZUZpZWxkID0gX3NjaGVtYSRyZXNvdXJjZUZpZWxkW2tleV0pID09PSBudWxsIHx8IF9zY2hlbWEkcmVzb3VyY2VGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NjaGVtYSRyZXNvdXJjZUZpZWxkLnR5cGU7CiAgICAgICAgaWYgKCF0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHsKICAgICAgICAgIHR5cGUgPSBwYXJzZVR5cGUodHlwZSkucG9wKCk7IC8vIEdldCB0aGUgbWFpbiBwYXJ0IG9mIGFycmF5W21hcFtzb21ldGhpbmddXSA9PiBzb21ldGhpbmcKICAgICAgICAgIHNjaGVtYSA9IGdldHRlcnMuc2NoZW1hRm9yKHR5cGUpOwogICAgICAgICAgaWYgKCFzY2hlbWEpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgfSwKICAvLyBAVE9ETyByZXNvbHZlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGlzIGFuZCBzY2hlbWFGb3IgYW5kIGhhdmUgb25seSBvbmUgb2YgdGhlbS4KICBzY2hlbWE6IGZ1bmN0aW9uIHNjaGVtYShzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgIHZhciBzY2hlbWFzID0gc3RhdGUudHlwZXNbU0NIRU1BXTsKICAgICAgdmFyIGtleUZpZWxkID0gZ2V0dGVycy5rZXlGaWVsZEZvclR5cGUoU0NIRU1BKTsKICAgICAgcmV0dXJuIHNjaGVtYXMubGlzdC5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIHRoaXNPbmUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUoeFtrZXlGaWVsZF0pOwogICAgICAgIHJldHVybiB0aGlzT25lID09PSB0eXBlIHx8IHRoaXNPbmUuZW5kc1dpdGgoIi4iLmNvbmNhdCh0eXBlKSk7CiAgICAgIH0pOwogICAgfTsKICB9LAogIC8vIEZ1enp5IHNlYXJjaCB0byBmaW5kIGEgbWF0Y2hpbmcgc2NoZW1hIG5hbWUgZm9yIHBsdWdpbnMvbG9va3VwCiAgc2NoZW1hTmFtZTogZnVuY3Rpb24gc2NoZW1hTmFtZShzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgIHZhciBzY2hlbWFzID0gc3RhdGUudHlwZXNbU0NIRU1BXTsKICAgICAgdmFyIGtleUZpZWxkID0gZ2V0dGVycy5rZXlGaWVsZEZvclR5cGUoU0NIRU1BKTsKICAgICAgdmFyIHJlcyA9IHNjaGVtYXMubGlzdC5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIHRoaXNPbmUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUoeFtrZXlGaWVsZF0pOwogICAgICAgIHJldHVybiB0aGlzT25lID09PSB0eXBlIHx8IHRoaXNPbmUuZW5kc1dpdGgoIi4iLmNvbmNhdCh0eXBlKSk7CiAgICAgIH0pOwogICAgICBpZiAoIXJlcykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgYXJyYXlSZXMgPSBBcnJheS5pc0FycmF5KHJlcykgPyByZXMgOiBbcmVzXTsKICAgICAgdmFyIGVudHJpZXMgPSBhcnJheVJlcy5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geFtrZXlGaWVsZF07CiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYS5sZW5ndGggLSBiLmxlbmd0aDsKICAgICAgfSk7CiAgICAgIGlmIChlbnRyaWVzWzBdKSB7CiAgICAgICAgcmV0dXJuIGVudHJpZXNbMF07CiAgICAgIH0KICAgICAgcmV0dXJuIHR5cGU7CiAgICB9OwogIH0sCiAgLy8gRnV6enkgaXMgb25seSBmb3IgcGx1Z2lucy9sb29rdXAsIGRvIG5vdCB1c2UgaW4gcmVhbCBjb2RlCiAgc2NoZW1hRm9yOiBmdW5jdGlvbiBzY2hlbWFGb3Ioc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSkgewogICAgICB2YXIgZnV6enkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICB2YXIgYWxsb3dUaHJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgdmFyIHNjaGVtYXMgPSBzdGF0ZS50eXBlc1tTQ0hFTUFdOwogICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgICBpZiAoIXNjaGVtYXMpIHsKICAgICAgICBpZiAoYWxsb3dUaHJvdykgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJTY2hlbWFzIGFyZW4ndCBsb2FkZWQgeWV0Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgb3V0ID0gc2NoZW1hcy5tYXAuZ2V0KHR5cGUpOwogICAgICBpZiAoIW91dCAmJiBmdXp6eSkgewogICAgICAgIHZhciBjbG9zZSA9IGdldHRlcnMuc2NoZW1hTmFtZSh0eXBlKTsKICAgICAgICBpZiAoY2xvc2UpIHsKICAgICAgICAgIHJldHVybiBnZXR0ZXJzLnNjaGVtYUZvcihjbG9zZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9OwogIH0sCiAgZGVmYXVsdEZvcjogZnVuY3Rpb24gZGVmYXVsdEZvcihzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHZhciBzY2hlbWEgPSBnZXR0ZXJzWydzY2hlbWFGb3InXSh0eXBlKTsKICAgICAgaWYgKCFzY2hlbWEpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgb3V0ID0ge307CiAgICAgIGZvciAodmFyIGtleSBpbiBzY2hlbWEucmVzb3VyY2VGaWVsZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSBzY2hlbWEucmVzb3VyY2VGaWVsZHNba2V5XTsKICAgICAgICBpZiAoIWZpZWxkKSB7CiAgICAgICAgICAvLyBOb3QgbXVjaCB0byBkbyBoZXJlLi4uCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgdmFyIF90eXBlID0gdHlwZU11bmdlKGZpZWxkLnR5cGUpOwogICAgICAgIHZhciBtYXBPZiA9IHR5cGVSZWYoJ21hcCcsIF90eXBlKTsKICAgICAgICB2YXIgYXJyYXlPZiA9IHR5cGVSZWYoJ2FycmF5JywgX3R5cGUpOwogICAgICAgIHZhciByZWZlcmVuY2VUbyA9IHR5cGVSZWYoJ3JlZmVyZW5jZScsIF90eXBlKTsKICAgICAgICBpZiAobWFwT2YgfHwgX3R5cGUgPT09ICdtYXAnIHx8IF90eXBlID09PSAnanNvbicpIHsKICAgICAgICAgIG91dFtrZXldID0gZ2V0dGVycy5kZWZhdWx0Rm9yKF90eXBlKTsKICAgICAgICB9IGVsc2UgaWYgKGFycmF5T2YgfHwgX3R5cGUgPT09ICdhcnJheScpIHsKICAgICAgICAgIG91dFtrZXldID0gW107CiAgICAgICAgfSBlbHNlIGlmIChyZWZlcmVuY2VUbykgewogICAgICAgICAgb3V0W2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChTSU1QTEVfVFlQRVMuaW5jbHVkZXMoX3R5cGUpKSB7CiAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkWydkZWZhdWx0J10gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIG91dFtrZXldID0gdW5kZWZpbmVkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3V0W2tleV0gPSBmaWVsZFsnZGVmYXVsdCddOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvdXRba2V5XSA9IGdldHRlcnMuZGVmYXVsdEZvcihfdHlwZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9OwogIH0sCiAgY2FuTGlzdDogZnVuY3Rpb24gY2FuTGlzdChzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHZhciBzY2hlbWEgPSBnZXR0ZXJzLnNjaGVtYUZvcih0eXBlKTsKICAgICAgcmV0dXJuIHNjaGVtYSAmJiBzY2hlbWEuaGFzTGluaygnY29sbGVjdGlvbicpOwogICAgfTsKICB9LAogIHR5cGVSZWdpc3RlcmVkOiBmdW5jdGlvbiB0eXBlUmVnaXN0ZXJlZChzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgIHJldHVybiAhIXN0YXRlLnR5cGVzW3R5cGVdOwogICAgfTsKICB9LAogIHR5cGVFbnRyeTogZnVuY3Rpb24gdHlwZUVudHJ5KHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgdHlwZSA9IGdldHRlcnMubm9ybWFsaXplVHlwZSh0eXBlKTsKICAgICAgcmV0dXJuIHN0YXRlLnR5cGVzW3R5cGVdOwogICAgfTsKICB9LAogIGhhdmVBbGw6IGZ1bmN0aW9uIGhhdmVBbGwoc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSkgewogICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgICB2YXIgZW50cnkgPSBzdGF0ZS50eXBlc1t0eXBlXTsKICAgICAgaWYgKGVudHJ5KSB7CiAgICAgICAgcmV0dXJuIGVudHJ5LmhhdmVBbGwgfHwgZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICB9LAogIGhhdmVBbGxOYW1lc3BhY2U6IGZ1bmN0aW9uIGhhdmVBbGxOYW1lc3BhY2Uoc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSwgbmFtZXNwYWNlKSB7CiAgICAgIGlmICghbmFtZXNwYWNlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHR5cGUgPSBnZXR0ZXJzLm5vcm1hbGl6ZVR5cGUodHlwZSk7CiAgICAgIHZhciBlbnRyeSA9IHN0YXRlLnR5cGVzW3R5cGVdOwogICAgICBpZiAoZW50cnkpIHsKICAgICAgICByZXR1cm4gZW50cnkuaGF2ZU5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgfSwKICBoYXZlTmFtZXNwYWNlOiBmdW5jdGlvbiBoYXZlTmFtZXNwYWNlKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgdmFyIF9zdGF0ZSR0eXBlcyR0eXBlOwogICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgICByZXR1cm4gKChfc3RhdGUkdHlwZXMkdHlwZSA9IHN0YXRlLnR5cGVzW3R5cGVdKSA9PT0gbnVsbCB8fCBfc3RhdGUkdHlwZXMkdHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJHR5cGVzJHR5cGUuaGF2ZU5hbWVzcGFjZSkgfHwgbnVsbDsKICAgIH07CiAgfSwKICBoYXZlU2VsZWN0b3I6IGZ1bmN0aW9uIGhhdmVTZWxlY3RvcihzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBzZWxlY3RvcikgewogICAgICB0eXBlID0gZ2V0dGVycy5ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgICB2YXIgZW50cnkgPSBzdGF0ZS50eXBlc1t0eXBlXTsKICAgICAgaWYgKGVudHJ5KSB7CiAgICAgICAgcmV0dXJuIGVudHJ5LmhhdmVTZWxlY3RvcltzZWxlY3Rvcl0gfHwgZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICB9LAogIG5vcm1hbGl6ZVR5cGU6IGZ1bmN0aW9uIG5vcm1hbGl6ZVR5cGUoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgcmV0dXJuIF9ub3JtYWxpemVUeXBlKHR5cGUpOwogICAgfTsKICB9LAogIGtleUZpZWxkRm9yVHlwZTogZnVuY3Rpb24ga2V5RmllbGRGb3JUeXBlKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIHJldHVybiBrZXlGaWVsZEZvcih0eXBlKTsKICAgIH07CiAgfSwKICB1cmxGb3I6IHVybEZvciwKICB1cmxPcHRpb25zOiBmdW5jdGlvbiB1cmxPcHRpb25zKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh1cmwsIG9wdCkgewogICAgICByZXR1cm4gdXJsOwogICAgfTsKICB9LAogIHN0b3JlTmFtZTogZnVuY3Rpb24gc3RvcmVOYW1lKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuY29uZmlnLm5hbWVzcGFjZTsKICB9LAogIGRlZmF1bHRNb2RlbDogZnVuY3Rpb24gZGVmYXVsdE1vZGVsKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH07CiAgfSwKICBjbGFzc2lmeTogZnVuY3Rpb24gY2xhc3NpZnkoc3RhdGUsIGdldHRlcnMsIHJvb3RTdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsKICAgICAgdmFyIF9vYmokbWV0YWRhdGE7CiAgICAgIHJldHVybiBsb29rdXAoc3RhdGUuY29uZmlnLm5hbWVzcGFjZSwgb2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLnR5cGUsIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCB8fCAoX29iaiRtZXRhZGF0YSA9IG9iai5tZXRhZGF0YSkgPT09IG51bGwgfHwgX29iaiRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29iaiRtZXRhZGF0YS5uYW1lLCByb290U3RhdGUpIHx8IFJlc291cmNlOwogICAgfTsKICB9LAogIGNsZWFuUmVzb3VyY2U6IGZ1bmN0aW9uIGNsZWFuUmVzb3VyY2UoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGV4aXN0aW5nLCBkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhOwogICAgfTsKICB9LAogIGlzQ2x1c3RlclN0b3JlOiBmdW5jdGlvbiBpc0NsdXN0ZXJTdG9yZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNvbmZpZy5pc0NsdXN0ZXJTdG9yZTsKICB9LAogIC8vIEluY3JlbWVudCB0aGUgbG9hZCBjb3VudGVyIGZvciBhIHJlc291cmNlIHR5cGUKICAvLyBUaGlzIGlzIHVzZWQgZm9yIGluY3JlbWVudGFsIGxvYWRpbmcgZG8gZGV0ZWN0IHdoZW4gYSBwYWdlIGNoYW5nZXMgb2NjdXIgb2YgdGhlIGEgcmVsb2FkIGhhcHBlbmQKICAvLyBXaGlsZSBhIHByZXZpb3VzIGluY3JlbWVudGFsIGxvYWRpbmcgb3BlcmF0aW9uIGlzIHN0aWxsIGluIHByb2dyZXNzCiAgbG9hZENvdW50ZXI6IGZ1bmN0aW9uIGxvYWRDb3VudGVyKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgdHlwZSA9IGdldHRlcnMubm9ybWFsaXplVHlwZSh0eXBlKTsKICAgICAgaWYgKCEhc3RhdGUudHlwZXNbdHlwZV0pIHsKICAgICAgICByZXR1cm4gc3RhdGUudHlwZXNbdHlwZV0ubG9hZENvdW50ZXI7CiAgICAgIH0KICAgICAgcmV0dXJuIDA7CiAgICB9OwogIH0sCiAgZ2NJZ25vcmVUeXBlczogZnVuY3Rpb24gZ2NJZ25vcmVUeXBlcygpIHsKICAgIHJldHVybiB7fTsKICB9LAogIC8qKgogICAqIEZvciB0aGUgZ2l2ZW4gdHlwZSwgYW5kIGl0J3Mgc2V0dGluZ3MsIGZpbmQgdGhlIG51bWJlciBvZiByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIGl0CiAgICoKICAgKiBUaGlzIHRha2VzIGludG8gYWNjb3VudCBpZiB0aGUgdHlwZSBpcyBuYW1lc3BhY2VkLgogICAqCiAgICogQHBhcmFtIHR5cGVPYmogc2VlIGlubmVycyBmb3IgcHJvcGVydGllcy4gbXVzdCBoYXZlIGF0IGxlYXN0IGBuYW1lYCAocmVzb3VyY2UgdHlwZSkKICAgKgogICAqLwogIGNvdW50OiBmdW5jdGlvbiBjb3VudChzdGF0ZSwgZ2V0dGVycywgcm9vdFN0YXRlLCByb290R2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlT2JqKSB7CiAgICAgIHZhciBfdHlwZU9iaiA9IHR5cGVPYmo7CiAgICAgIHZhciBfdHlwZU9iajIgPSBfdHlwZU9iaiwKICAgICAgICB0eXBlID0gX3R5cGVPYmoyLm5hbWUsCiAgICAgICAgY291bnQgPSBfdHlwZU9iajIuY291bnQ7CiAgICAgIGlmICghdHlwZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiUmVzb3VyY2UgdHlwZSByZXF1aXJlZCB0byBjYWxjIGNvdW50OiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0eXBlT2JqKSkpOwogICAgICB9CiAgICAgIGlmICghY291bnQpIHsKICAgICAgICB2YXIgX2dldHRlcnMkYWxsLCBfc2NoZW1hJGF0dHJpYnV0ZXM7CiAgICAgICAgdmFyIHNjaGVtYSA9IGdldHRlcnMuc2NoZW1hRm9yKHR5cGUpOwogICAgICAgIHZhciBjb3VudHMgPSAoKF9nZXR0ZXJzJGFsbCA9IGdldHRlcnMuYWxsKENPVU5UKSkgPT09IG51bGwgfHwgX2dldHRlcnMkYWxsID09PSB2b2lkIDAgfHwgKF9nZXR0ZXJzJGFsbCA9IF9nZXR0ZXJzJGFsbFswXSkgPT09IG51bGwgfHwgX2dldHRlcnMkYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2V0dGVycyRhbGwuY291bnRzKSB8fCB7fTsKICAgICAgICB2YXIgX2NvdW50ID0gY291bnRzW3R5cGVdOwogICAgICAgIF90eXBlT2JqID0gewogICAgICAgICAgY291bnQ6IF9jb3VudCA/IF9jb3VudC5zdW1tYXJ5LmNvdW50IHx8IDAgOiBudWxsLAogICAgICAgICAgYnlOYW1lc3BhY2U6IF9jb3VudCA/IF9jb3VudC5uYW1lc3BhY2VzIDoge30sCiAgICAgICAgICByZXZpc2lvbjogX2NvdW50ID8gX2NvdW50LnJldmlzaW9uIDogbnVsbCwKICAgICAgICAgIG5hbWVzcGFjZWQ6IHNjaGVtYSA9PT0gbnVsbCB8fCBzY2hlbWEgPT09IHZvaWQgMCB8fCAoX3NjaGVtYSRhdHRyaWJ1dGVzID0gc2NoZW1hLmF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF9zY2hlbWEkYXR0cmlidXRlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NjaGVtYSRhdHRyaWJ1dGVzLm5hbWVzcGFjZWQKICAgICAgICB9OwogICAgICB9CiAgICAgIHZhciBuYW1lc3BhY2VzID0gT2JqZWN0LmtleXMocm9vdEdldHRlcnMuYWN0aXZlTmFtZXNwYWNlQ2FjaGUgfHwge30pOwogICAgICByZXR1cm4gbWF0Y2hpbmdDb3VudHMoX3R5cGVPYmosIG5hbWVzcGFjZXMubGVuZ3RoID8gbmFtZXNwYWNlcyA6IG51bGwpOwogICAgfTsKICB9Cn07"},{"version":3,"names":["SCHEMA","COUNT","matches","typeMunge","typeRef","SIMPLE_TYPES","splitObjectPath","parseType","Resource","mutations","keyFieldFor","normalizeType","lookup","garbageCollect","urlFor","state","getters","type","id","opt","url","schema","schemaFor","Error","concat","links","collection","startsWith","baseUrl","config","replace","urlOptions","matchingCounts","typeObj","namespaces","namespaced","byNamespace","count","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","_typeObj$byNamespace$","namespace","value","err","e","f","all","rootState","typeRegistered","console","warn","registerType","gcUpdateLastAccessed","types","list","matching","selector","arguments","length","undefined","skipSelector","filter","obj","byId","entry","map","get","pathExistsInSchema","path","parts","_schema$resourceField","key","shift","resourceFields","pop","schemas","keyField","keyFieldForType","find","x","thisOne","endsWith","schemaName","res","arrayRes","Array","isArray","entries","sort","a","b","fuzzy","allowThrow","close","defaultFor","field","mapOf","arrayOf","referenceTo","includes","canList","hasLink","typeEntry","haveAll","haveAllNamespace","haveNamespace","_state$types$type","haveSelector","storeName","defaultModel","classify","_obj$metadata","metadata","name","cleanResource","existing","data","isClusterStore","loadCounter","gcIgnoreTypes","rootGetters","_typeObj","_typeObj2","JSON","stringify","_getters$all","_schema$attributes","counts","summary","revision","attributes","Object","keys","activeNamespaceCache"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/plugins/dashboard-store/getters.js"],"sourcesContent":["\nimport { SCHEMA, COUNT } from '@shell/config/types';\n\nimport { matches } from '@shell/utils/selector';\nimport { typeMunge, typeRef, SIMPLE_TYPES } from '@shell/utils/create-yaml';\nimport { splitObjectPath } from '@shell/utils/string';\nimport { parseType } from '@shell/models/schema';\nimport Resource from '@shell/plugins/dashboard-store/resource-class';\nimport mutations from './mutations';\nimport { keyFieldFor, normalizeType } from './normalize';\nimport { lookup } from './model-loader';\nimport garbageCollect from '@shell/utils/gc/gc';\n\nexport const urlFor = (state, getters) => (type, id, opt) => {\n  opt = opt || {};\n  type = getters.normalizeType(type);\n  let url = opt.url;\n\n  if ( !url ) {\n    const schema = getters.schemaFor(type);\n\n    if ( !schema ) {\n      throw new Error(`Unknown schema for type: ${ type }`);\n    }\n\n    url = schema.links.collection;\n\n    if ( !url ) {\n      throw new Error(`You don't have permission to list this type: ${ type }`);\n    }\n\n    if ( id ) {\n      url += `/${ id }`;\n    }\n  }\n\n  if ( !url.startsWith('/') && !url.startsWith('http') ) {\n    const baseUrl = state.config.baseUrl.replace(/\\/$/, '');\n\n    url = `${ baseUrl }/${ url }`;\n  }\n\n  url = getters.urlOptions(url, opt);\n\n  return url;\n};\n\n/**\n * Find the number of resources given\n * - if the type is namespaced\n * - if there are any counts per namespace\n * - if there are no namespaces\n * - if there is no total count\n */\nfunction matchingCounts(typeObj, namespaces) {\n  // That was easy\n  if ( !typeObj.namespaced || !typeObj.byNamespace || namespaces === null || typeObj.count === null) {\n    return typeObj.count;\n  }\n\n  let out = 0;\n\n  // Otherwise start with 0 and count up\n  for ( const namespace of namespaces ) {\n    out += typeObj.byNamespace[namespace]?.count || 0;\n  }\n\n  return out;\n}\n\nexport default {\n\n  all: (state, getters, rootState) => (type) => {\n    type = getters.normalizeType(type);\n\n    if ( !getters.typeRegistered(type) ) {\n      // Yes this is mutating state in a getter... it's not the end of the world..\n      // throw new Error(`All of ${ type } is not loaded`);\n      console.warn(`All of ${ type } is not loaded yet`); // eslint-disable-line no-console\n      mutations.registerType(state, type);\n    }\n\n    garbageCollect.gcUpdateLastAccessed({\n      state, getters, rootState\n    }, type);\n\n    return state.types[type].list;\n  },\n\n  matching: (state, getters, rootState) => (type, selector, namespace, config = { skipSelector: false }) => {\n    let matching = getters['all'](type);\n\n    // Filter first by namespace if one is provided, since this is efficient\n    if (namespace && typeof namespace === 'string') {\n      matching = matching.filter((obj) => obj.namespace === namespace);\n    }\n\n    garbageCollect.gcUpdateLastAccessed({\n      state, getters, rootState\n    }, type);\n\n    // Looks like a falsy selector is a thing, so if we're not interested in filtering by the selector... explicitly avoid it\n    if (config.skipSelector) {\n      return matching;\n    }\n\n    return matching.filter((obj) => {\n      return matches(obj, selector);\n    });\n  },\n\n  byId: (state, getters, rootState) => (type, id) => {\n    type = getters.normalizeType(type);\n    const entry = state.types[type];\n\n    if ( entry ) {\n      garbageCollect.gcUpdateLastAccessed({\n        state, getters, rootState\n      }, type);\n\n      return entry.map.get(id);\n    }\n  },\n\n  pathExistsInSchema: (state, getters) => (type, path) => {\n    let schema = getters.schemaFor(type);\n    const parts = splitObjectPath(path);\n\n    while ( parts.length ) {\n      const key = parts.shift();\n\n      type = schema.resourceFields?.[key]?.type;\n\n      if ( !type ) {\n        return false;\n      }\n\n      if ( parts.length ) {\n        type = parseType(type).pop(); // Get the main part of array[map[something]] => something\n        schema = getters.schemaFor(type);\n\n        if ( !schema ) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  // @TODO resolve difference between this and schemaFor and have only one of them.\n  schema: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n    const schemas = state.types[SCHEMA];\n    const keyField = getters.keyFieldForType(SCHEMA);\n\n    return schemas.list.find((x) => {\n      const thisOne = getters.normalizeType(x[keyField]);\n\n      return thisOne === type || thisOne.endsWith(`.${ type }`);\n    });\n  },\n\n  // Fuzzy search to find a matching schema name for plugins/lookup\n  schemaName: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n    const schemas = state.types[SCHEMA];\n    const keyField = getters.keyFieldForType(SCHEMA);\n    const res = schemas.list.find((x) => {\n      const thisOne = getters.normalizeType(x[keyField]);\n\n      return thisOne === type || thisOne.endsWith(`.${ type }`);\n    });\n\n    if (!res) {\n      return;\n    }\n    const arrayRes = Array.isArray(res) ? res : [res];\n    const entries = arrayRes.map((x) => {\n      return x[keyField];\n    }).sort((a, b) => {\n      return a.length - b.length;\n    });\n\n    if ( entries[0] ) {\n      return entries[0];\n    }\n\n    return type;\n  },\n\n  // Fuzzy is only for plugins/lookup, do not use in real code\n  schemaFor: (state, getters) => (type, fuzzy = false, allowThrow = true) => {\n    const schemas = state.types[SCHEMA];\n\n    type = getters.normalizeType(type);\n\n    if ( !schemas ) {\n      if ( allowThrow ) {\n        throw new Error(\"Schemas aren't loaded yet\");\n      } else {\n        return null;\n      }\n    }\n\n    const out = schemas.map.get(type);\n\n    if ( !out && fuzzy ) {\n      const close = getters.schemaName(type);\n\n      if ( close ) {\n        return getters.schemaFor(close);\n      }\n    }\n\n    return out;\n  },\n\n  defaultFor: (state, getters) => (type) => {\n    const schema = getters['schemaFor'](type);\n\n    if ( !schema ) {\n      return null;\n    }\n\n    const out = {};\n\n    for ( const key in schema.resourceFields ) {\n      const field = schema.resourceFields[key];\n\n      if ( !field ) {\n        // Not much to do here...\n        continue;\n      }\n\n      const type = typeMunge(field.type);\n      const mapOf = typeRef('map', type);\n      const arrayOf = typeRef('array', type);\n      const referenceTo = typeRef('reference', type);\n\n      if ( mapOf || type === 'map' || type === 'json' ) {\n        out[key] = getters.defaultFor(type);\n      } else if ( arrayOf || type === 'array' ) {\n        out[key] = [];\n      } else if ( referenceTo ) {\n        out[key] = undefined;\n      } else if ( SIMPLE_TYPES.includes(type) ) {\n        if ( typeof field['default'] === 'undefined' ) {\n          out[key] = undefined;\n        } else {\n          out[key] = field['default'];\n        }\n      } else {\n        out[key] = getters.defaultFor(type);\n      }\n    }\n\n    return out;\n  },\n\n  canList: (state, getters) => (type) => {\n    const schema = getters.schemaFor(type);\n\n    return schema && schema.hasLink('collection');\n  },\n\n  typeRegistered: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n\n    return !!state.types[type];\n  },\n\n  typeEntry: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n\n    return state.types[type];\n  },\n\n  haveAll: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n    const entry = state.types[type];\n\n    if ( entry ) {\n      return entry.haveAll || false;\n    }\n\n    return false;\n  },\n\n  haveAllNamespace: (state, getters) => (type, namespace) => {\n    if (!namespace) {\n      return false;\n    }\n\n    type = getters.normalizeType(type);\n    const entry = state.types[type];\n\n    if ( entry ) {\n      return entry.haveNamespace === namespace;\n    }\n\n    return false;\n  },\n\n  haveNamespace: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n\n    return state.types[type]?.haveNamespace || null;\n  },\n\n  haveSelector: (state, getters) => (type, selector) => {\n    type = getters.normalizeType(type);\n    const entry = state.types[type];\n\n    if ( entry ) {\n      return entry.haveSelector[selector] || false;\n    }\n\n    return false;\n  },\n\n  normalizeType: () => (type) => {\n    return normalizeType(type);\n  },\n\n  keyFieldForType: () => (type) => {\n    return keyFieldFor(type);\n  },\n\n  urlFor,\n\n  urlOptions: () => (url, opt) => {\n    return url;\n  },\n\n  storeName: (state) => {\n    return state.config.namespace;\n  },\n\n  defaultModel: () => () => {\n    return undefined;\n  },\n\n  classify: (state, getters, rootState) => (obj) => {\n    return lookup(state.config.namespace, obj?.type, obj?.metadata?.name, rootState) || Resource;\n  },\n\n  cleanResource: () => (existing, data) => {\n    return data;\n  },\n\n  isClusterStore: (state) => {\n    return state.config.isClusterStore;\n  },\n\n  // Increment the load counter for a resource type\n  // This is used for incremental loading do detect when a page changes occur of the a reload happend\n  // While a previous incremental loading operation is still in progress\n  loadCounter: (state, getters) => (type) => {\n    type = getters.normalizeType(type);\n\n    if (!!state.types[type]) {\n      return state.types[type].loadCounter;\n    }\n\n    return 0;\n  },\n\n  gcIgnoreTypes: () => {\n    return {};\n  },\n\n  /**\n   * For the given type, and it's settings, find the number of resources associated with it\n   *\n   * This takes into account if the type is namespaced.\n   *\n   * @param typeObj see inners for properties. must have at least `name` (resource type)\n   *\n   */\n  count: (state, getters, rootState, rootGetters) => (typeObj) => {\n    let _typeObj = typeObj;\n    const { name: type, count } = _typeObj;\n\n    if (!type) {\n      throw new Error(`Resource type required to calc count: ${ JSON.stringify(typeObj) }`);\n    }\n\n    if (!count) {\n      const schema = getters.schemaFor(type);\n      const counts = getters.all(COUNT)?.[0]?.counts || {};\n      const count = counts[type];\n\n      _typeObj = {\n        count:       count ? count.summary.count || 0 : null,\n        byNamespace: count ? count.namespaces : {},\n        revision:    count ? count.revision : null,\n        namespaced:  schema?.attributes?.namespaced\n      };\n    }\n\n    const namespaces = Object.keys(rootGetters.activeNamespaceCache || {});\n\n    return matchingCounts(_typeObj, namespaces.length ? namespaces : null);\n  },\n\n};\n"],"mappings":"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","ignoreList":[]}]}