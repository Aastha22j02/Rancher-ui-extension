{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/banners.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/banners.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLyoqCiAqCiAqIEhlbHBlciB1dGlsaXRpZXMgZm9yIHRoZSBmaXhlZCBiYW5uZXJzIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gc2hvdyBvbiBwYWdlcwogKgogKi8KCmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgU0VUVElORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2V0dGluZ3MnOwp2YXIgQkFOTkVSX0hFQURFUiA9ICdiYW5uZXJIZWFkZXInOwp2YXIgQkFOTkVSX0ZPT1RFUiA9ICdiYW5uZXJGb290ZXInOwp2YXIgQkFOTkVSX0xPR0lOID0gJ2Jhbm5lckNvbnNlbnQnOwp2YXIgSU5ESVZJRFVBTF9CQU5ORVJTID0gewogICd1aS1iYW5uZXItaGVhZGVyJzogQkFOTkVSX0hFQURFUiwKICAndWktYmFubmVyLWZvb3Rlcic6IEJBTk5FUl9GT09URVIsCiAgJ3VpLWJhbm5lci1sb2dpbi1jb25zZW50JzogQkFOTkVSX0xPR0lOCn07CnZhciBCQU5ORVJfU0hPV19LRVlfTUFQID0gX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIEJBTk5FUl9IRUFERVIsICdzaG93SGVhZGVyJyksIEJBTk5FUl9GT09URVIsICdzaG93Rm9vdGVyJyksIEJBTk5FUl9MT0dJTiwgJ3Nob3dDb25zZW50Jyk7CgovKioKICogR2V0IHRoZSBpbmRpdmlkdWFsIGJhbm5lciBzZXR0aW5ncwogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldEluZGl2aWR1YWxCYW5uZXJzKHN0b3JlKSB7CiAgdmFyIGJhbm5lcnMgPSB7fTsKCiAgLy8gR28gdGhyb3VnaCBhbGwgc2V0dGluZ3MgbG9va2luZyBmb3IgdGhlIGluZGl2aWR1YWwgc2V0dGluZ3MKICB2YXIgYWxsU2V0dGluZ3MgPSBzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2FsbCddKE1BTkFHRU1FTlQuU0VUVElORyk7CiAgYWxsU2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2V0dGluZykgewogICAgaWYgKHNldHRpbmcudmFsdWUgJiYgISFJTkRJVklEVUFMX0JBTk5FUlNbc2V0dGluZy5pZF0pIHsKICAgICAgdmFyIHNldHRpbmdJZCA9IElORElWSURVQUxfQkFOTkVSU1tzZXR0aW5nLmlkXTsKICAgICAgYmFubmVyc1tzZXR0aW5nSWRdID0gc2V0dGluZzsKICAgIH0KICB9KTsKICByZXR1cm4gYmFubmVyczsKfQoKLyoqCiAqIE92ZXJsYXkgc2V0dGluZ3MgZnJvbSB0aGUgaW5kaXZpZHVhbCBiYW5uZXIgc2V0dGluZ3Mgb250byB0aGUgc2luZ2xlIGJhbm5lciBzZXR0aW5nCiAqLwpleHBvcnQgZnVuY3Rpb24gb3ZlcmxheUluZGl2aWR1YWxCYW5uZXJzKHBhcnNlZEJhbm5lciwgYmFubmVycykgewogIE9iamVjdC5rZXlzKGJhbm5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7CiAgICB0cnkgewogICAgICB2YXIgcGFyc2VkSW5kaXZpZHVhbEJhbm5lciA9IEpTT04ucGFyc2UoYmFubmVyc1tpZF0udmFsdWUpOwogICAgICB2YXIgc2hvd25JRCA9IEJBTk5FUl9TSE9XX0tFWV9NQVBbaWRdOwogICAgICBwYXJzZWRCYW5uZXJbaWRdID0gcGFyc2VkSW5kaXZpZHVhbEJhbm5lcjsKICAgICAgcGFyc2VkQmFubmVyW3Nob3duSURdID0gJ3RydWUnOyAvLyBJZiB0aGVyZSBpcyBhbiBpbmRpdmlkdWFsIGJhbm5lciBzZXR0aW5nLCB0aGVuIGJhbm5lciBpcyBzaG93bgogICAgfSBjYXRjaCAoX3VudXNlZCkge30KICB9KTsKfQoKLyoqCiAqIENvbnZlcnRzIGEgcGl4ZWwgdmFsdWUgdG8gYW4gZW0gdmFsdWUgYmFzZWQgb24gdGhlIGRlZmF1bHQgZm9udCBzaXplLgogKiBAcGFyYW0ge251bWJlcn0gZWxlbWVudEZvbnRTaXplIC0gVGhlIGZvbnQgc2l6ZSBvZiB0aGUgZWxlbWVudCBpbiBwaXhlbHMuCiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdEZvbnRTaXplPTE0XSAtIFRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBpbiBwaXhlbHMuCiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb252ZXJ0ZWQgdmFsdWUgaW4gZW0gdW5pdHMuCiAqLwpmdW5jdGlvbiBweFRvRW0oZWxlbWVudEZvbnRTaXplKSB7CiAgdmFyIGRlZmF1bHRGb250U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTQ7CiAgdmFyIGxpbmVIZWlnaHRJblB4ID0gMiAqIHBhcnNlSW50KGVsZW1lbnRGb250U2l6ZSk7CiAgdmFyIGxpbmVIZWlnaHRJbkVtID0gbGluZUhlaWdodEluUHggLyBkZWZhdWx0Rm9udFNpemU7CiAgcmV0dXJuICIiLmNvbmNhdChsaW5lSGVpZ2h0SW5FbSwgImVtIik7Cn0KCi8qKgogKiBHZXQgYmFubmVyIGZvbnQgc2l6ZXMgLSB1c2VkIHRvIGFkZCBtYXJnaW5zIHdoZW4gaGVhZGVyIGFuZCBmb290ZXIgYmFubmVycyBhcmUgcHJlc2VudAogKiovCmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWxCYW5uZXJGb250U2l6ZXMoc3RvcmUpIHsKICB2YXIgc2V0dGluZ3MgPSBzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2FsbCddKE1BTkFHRU1FTlQuU0VUVElORyk7CiAgdmFyIGJhbm5lclNldHRpbmdzID0gc2V0dGluZ3MgPT09IG51bGwgfHwgc2V0dGluZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldHRpbmdzLmZpbmQoZnVuY3Rpb24gKHMpIHsKICAgIHJldHVybiBzLmlkID09PSBTRVRUSU5HLkJBTk5FUlM7CiAgfSk7CiAgdmFyIGluZGl2aWR1YWxCYW5uZXJTZXR0aW5ncyA9IGdldEluZGl2aWR1YWxCYW5uZXJzKHN0b3JlKTsKICBpZiAoYmFubmVyU2V0dGluZ3MpIHsKICAgIHZhciBwYXJzZWQgPSBKU09OLnBhcnNlKGJhbm5lclNldHRpbmdzLnZhbHVlKTsKICAgIG92ZXJsYXlJbmRpdmlkdWFsQmFubmVycyhwYXJzZWQsIGluZGl2aWR1YWxCYW5uZXJTZXR0aW5ncyk7CiAgICB2YXIgc2hvd0Zvb3RlciA9IHBhcnNlZC5zaG93Rm9vdGVyLAogICAgICBzaG93SGVhZGVyID0gcGFyc2VkLnNob3dIZWFkZXIsCiAgICAgIGJhbm5lckZvb3RlciA9IHBhcnNlZC5iYW5uZXJGb290ZXIsCiAgICAgIGJhbm5lckhlYWRlciA9IHBhcnNlZC5iYW5uZXJIZWFkZXIsCiAgICAgIGJhbm5lciA9IHBhcnNlZC5iYW5uZXI7CgogICAgLy8gYWRkIGRlZmF1bHRzIHRvIGFjY29tbW9kYXRlIG9sZGVyIEpTT04gc3RydWN0dXJlcyBmb3IgYmFubmVyIGRlZmluaXRpb25zIHdpdGhvdXQgYnJlYWtpbmcgdGhlIFVJCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvaXNzdWVzLzEwMTQwCiAgICB2YXIgYmFubmVySGVhZGVyRm9udFNpemUgPSAoYmFubmVySGVhZGVyID09PSBudWxsIHx8IGJhbm5lckhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFubmVySGVhZGVyLmZvbnRTaXplKSB8fCAoYmFubmVyID09PSBudWxsIHx8IGJhbm5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFubmVyLmZvbnRTaXplKSB8fCAnMTRweCc7CiAgICB2YXIgYmFubmVyRm9vdGVyRm9udFNpemUgPSAoYmFubmVyRm9vdGVyID09PSBudWxsIHx8IGJhbm5lckZvb3RlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFubmVyRm9vdGVyLmZvbnRTaXplKSB8fCAoYmFubmVyID09PSBudWxsIHx8IGJhbm5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFubmVyLmZvbnRTaXplKSB8fCAnMTRweCc7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJGb250OiBzaG93SGVhZGVyID09PSAndHJ1ZScgPyBweFRvRW0oYmFubmVySGVhZGVyRm9udFNpemUpIDogJzBweCcsCiAgICAgIGZvb3RlckZvbnQ6IHNob3dGb290ZXIgPT09ICd0cnVlJyA/IHB4VG9FbShiYW5uZXJGb290ZXJGb250U2l6ZSkgOiAnMHB4JwogICAgfTsKICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQ=="},{"version":3,"names":["MANAGEMENT","SETTING","BANNER_HEADER","BANNER_FOOTER","BANNER_LOGIN","INDIVIDUAL_BANNERS","BANNER_SHOW_KEY_MAP","_defineProperty","getIndividualBanners","store","banners","allSettings","getters","forEach","setting","value","id","settingId","overlayIndividualBanners","parsedBanner","Object","keys","parsedIndividualBanner","JSON","parse","shownID","_unused","pxToEm","elementFontSize","defaultFontSize","arguments","length","undefined","lineHeightInPx","parseInt","lineHeightInEm","concat","getGlobalBannerFontSizes","settings","bannerSettings","find","s","BANNERS","individualBannerSettings","parsed","showFooter","showHeader","bannerFooter","bannerHeader","banner","bannerHeaderFontSize","fontSize","bannerFooterFontSize","headerFont","footerFont"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/utils/banners.js"],"sourcesContent":["/**\n *\n * Helper utilities for the fixed banners that can be configured to show on pages\n *\n */\n\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\n\nconst BANNER_HEADER = 'bannerHeader';\nconst BANNER_FOOTER = 'bannerFooter';\nconst BANNER_LOGIN = 'bannerConsent';\n\nconst INDIVIDUAL_BANNERS = {\n  'ui-banner-header':        BANNER_HEADER,\n  'ui-banner-footer':        BANNER_FOOTER,\n  'ui-banner-login-consent': BANNER_LOGIN,\n};\n\nconst BANNER_SHOW_KEY_MAP = {\n  [BANNER_HEADER]: 'showHeader',\n  [BANNER_FOOTER]: 'showFooter',\n  [BANNER_LOGIN]:  'showConsent',\n};\n\n/**\n * Get the individual banner settings\n */\nexport function getIndividualBanners(store) {\n  const banners = {};\n\n  // Go through all settings looking for the individual settings\n  const allSettings = store.getters['management/all'](MANAGEMENT.SETTING);\n\n  allSettings.forEach((setting) => {\n    if (setting.value && !!INDIVIDUAL_BANNERS[setting.id]) {\n      const settingId = INDIVIDUAL_BANNERS[setting.id];\n\n      banners[settingId] = setting;\n    }\n  });\n\n  return banners;\n}\n\n/**\n * Overlay settings from the individual banner settings onto the single banner setting\n */\nexport function overlayIndividualBanners(parsedBanner, banners) {\n  Object.keys(banners).forEach((id) => {\n    try {\n      const parsedIndividualBanner = JSON.parse(banners[id].value);\n      const shownID = BANNER_SHOW_KEY_MAP[id];\n\n      parsedBanner[id] = parsedIndividualBanner;\n      parsedBanner[shownID] = 'true'; // If there is an individual banner setting, then banner is shown\n    } catch {}\n  });\n}\n\n/**\n * Converts a pixel value to an em value based on the default font size.\n * @param {number} elementFontSize - The font size of the element in pixels.\n * @param {number} [defaultFontSize=14] - The default font size in pixels.\n * @returns {string} The converted value in em units.\n */\nfunction pxToEm(elementFontSize, defaultFontSize = 14) {\n  const lineHeightInPx = 2 * parseInt(elementFontSize);\n  const lineHeightInEm = lineHeightInPx / defaultFontSize;\n\n  return `${ lineHeightInEm }em`;\n}\n\n/**\n * Get banner font sizes - used to add margins when header and footer banners are present\n **/\nexport function getGlobalBannerFontSizes(store) {\n  const settings = store.getters['management/all'](MANAGEMENT.SETTING);\n  const bannerSettings = settings?.find((s) => s.id === SETTING.BANNERS);\n  const individualBannerSettings = getIndividualBanners(store);\n\n  if (bannerSettings) {\n    const parsed = JSON.parse(bannerSettings.value);\n\n    overlayIndividualBanners(parsed, individualBannerSettings);\n\n    const {\n      showFooter, showHeader, bannerFooter, bannerHeader, banner\n    } = parsed;\n\n    // add defaults to accommodate older JSON structures for banner definitions without breaking the UI\n    // https://github.com/rancher/dashboard/issues/10140\n    const bannerHeaderFontSize = bannerHeader?.fontSize || banner?.fontSize || '14px';\n    const bannerFooterFontSize = bannerFooter?.fontSize || banner?.fontSize || '14px';\n\n    return {\n      headerFont: showHeader === 'true' ? pxToEm(bannerHeaderFontSize) : '0px',\n      footerFont: showFooter === 'true' ? pxToEm(bannerFooterFontSize) : '0px'\n    };\n  }\n\n  return undefined;\n}\n"],"mappings":"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","ignoreList":[]}]}