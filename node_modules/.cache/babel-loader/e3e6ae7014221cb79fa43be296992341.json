{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/mixins/chart.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/mixins/chart.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmICJudW1iZXIiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gIk9iamVjdCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSB0IHx8ICJTZXQiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6ICJBcmd1bWVudHMiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBSRVBPX1RZUEUsIFJFUE8sIENIQVJULCBWRVJTSU9OLCBOQU1FU1BBQ0UsIE5BTUUsIERFU0NSSVBUSU9OIGFzIERFU0NSSVBUSU9OX1FVRVJZLCBERVBSRUNBVEVEIGFzIERFUFJFQ0FURURfUVVFUlksIEhJRERFTiwgX0ZMQUdHRUQsIF9DUkVBVEUsIF9FRElUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBDQVRBTE9HIGFzIENBVEFMT0dfQU5OT1RBVElPTlMgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IFNIT1dfUFJFX1JFTEVBU0UsIG1hcFByZWYgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwppbXBvcnQgeyBOQU1FIGFzIEVYUExPUkVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2V4cGxvcmVyJzsKaW1wb3J0IHsgTkFNRSBhcyBNQU5BR0VSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L21hbmFnZXInOwppbXBvcnQgeyBPUEFfR0FURV9LRUVQRVJfSUQgfSBmcm9tICdAc2hlbGwvcGFnZXMvYy9fY2x1c3Rlci9nYXRla2VlcGVyL2luZGV4LnZ1ZSc7CmltcG9ydCB7IGZvcm1hdFNpLCBwYXJzZVNpIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VuaXRzJzsKaW1wb3J0IHsgQ0FQSSwgQ0FUQUxPRyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBpc1ByZXJlbGVhc2UgfSBmcm9tICdAc2hlbGwvdXRpbHMvdmVyc2lvbic7CmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJzsKaW1wb3J0IHsgTElOVVggfSBmcm9tICdAc2hlbGwvc3RvcmUvY2F0YWxvZyc7CmltcG9ydCB7IGNsb25lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZXJzaW9uOiBudWxsLAogICAgICB2ZXJzaW9uSW5mbzogbnVsbCwKICAgICAgdmVyc2lvbkluZm9FcnJvcjogbnVsbCwKICAgICAgZXhpc3Rpbmc6IG51bGwsCiAgICAgIGlnbm9yZVdhcm5pbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJywgJ2lzUmFuY2hlciddKSksIHt9LCB7CiAgICBzaG93UHJlUmVsZWFzZTogbWFwUHJlZihTSE9XX1BSRV9SRUxFQVNFKSwKICAgIGNoYXJ0OiBmdW5jdGlvbiBjaGFydCgpIHsKICAgICAgaWYgKHRoaXMucmVwbyAmJiB0aGlzLnF1ZXJ5LmNoYXJ0TmFtZSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjYXRhbG9nL2NoYXJ0J10oewogICAgICAgICAgcmVwb1R5cGU6IHRoaXMucXVlcnkucmVwb1R5cGUsCiAgICAgICAgICByZXBvTmFtZTogdGhpcy5xdWVyeS5yZXBvTmFtZSwKICAgICAgICAgIGNoYXJ0TmFtZTogdGhpcy5xdWVyeS5jaGFydE5hbWUsCiAgICAgICAgICBpbmNsdWRlSGlkZGVuOiB0cnVlLAogICAgICAgICAgc2hvd0RlcHJlY2F0ZWQ6IHRoaXMuc2hvd0RlcHJlY2F0ZWQKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICByZXBvOiBmdW5jdGlvbiByZXBvKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2F0YWxvZy9yZXBvJ10oewogICAgICAgIHJlcG9UeXBlOiB0aGlzLnF1ZXJ5LnJlcG9UeXBlLAogICAgICAgIHJlcG9OYW1lOiB0aGlzLnF1ZXJ5LnJlcG9OYW1lCiAgICAgIH0pOwogICAgfSwKICAgIHNob3dSZWFkbWU6IGZ1bmN0aW9uIHNob3dSZWFkbWUoKSB7CiAgICAgIHZhciBfdGhpcyR2ZXJzaW9uSW5mbzsKICAgICAgcmV0dXJuICEhKChfdGhpcyR2ZXJzaW9uSW5mbyA9IHRoaXMudmVyc2lvbkluZm8pICE9PSBudWxsICYmIF90aGlzJHZlcnNpb25JbmZvICE9PSB2b2lkIDAgJiYgX3RoaXMkdmVyc2lvbkluZm8ucmVhZG1lKTsKICAgIH0sCiAgICBoYXNSZWFkbWU6IGZ1bmN0aW9uIGhhc1JlYWRtZSgpIHsKICAgICAgdmFyIF90aGlzJHZlcnNpb25JbmZvMiwgX3RoaXMkdmVyc2lvbkluZm8zOwogICAgICByZXR1cm4gISEoKF90aGlzJHZlcnNpb25JbmZvMiA9IHRoaXMudmVyc2lvbkluZm8pICE9PSBudWxsICYmIF90aGlzJHZlcnNpb25JbmZvMiAhPT0gdm9pZCAwICYmIF90aGlzJHZlcnNpb25JbmZvMi5hcHBSZWFkbWUpIHx8ICEhKChfdGhpcyR2ZXJzaW9uSW5mbzMgPSB0aGlzLnZlcnNpb25JbmZvKSAhPT0gbnVsbCAmJiBfdGhpcyR2ZXJzaW9uSW5mbzMgIT09IHZvaWQgMCAmJiBfdGhpcyR2ZXJzaW9uSW5mbzMucmVhZG1lKTsKICAgIH0sCiAgICBtYXBwZWRWZXJzaW9uczogZnVuY3Rpb24gbWFwcGVkVmVyc2lvbnMoKSB7CiAgICAgIHZhciBfdGhpcyRjaGFydCwKICAgICAgICBfdGhpcyRjdXJyZW50Q2x1c3RlciwKICAgICAgICBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciB2ZXJzaW9ucyA9ICgoX3RoaXMkY2hhcnQgPSB0aGlzLmNoYXJ0KSA9PT0gbnVsbCB8fCBfdGhpcyRjaGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2hhcnQudmVyc2lvbnMpIHx8IFtdOwogICAgICB2YXIgc2VsZWN0ZWRWZXJzaW9uID0gdGhpcy50YXJnZXRWZXJzaW9uOwogICAgICB2YXIgT1NzID0gKF90aGlzJGN1cnJlbnRDbHVzdGVyID0gdGhpcy5jdXJyZW50Q2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyLndvcmtlck9TczsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJzaW9uKSB7CiAgICAgICAgdmFyIF92ZXJzaW9uJGFubm90YXRpb25zOwogICAgICAgIHZhciBudWUgPSB7CiAgICAgICAgICBsYWJlbDogdmVyc2lvbi52ZXJzaW9uLAogICAgICAgICAgdmVyc2lvbjogdmVyc2lvbi52ZXJzaW9uLAogICAgICAgICAgb3JpZ2luYWxWZXJzaW9uOiB2ZXJzaW9uLnZlcnNpb24sCiAgICAgICAgICBzaG9ydExhYmVsOiB2ZXJzaW9uLnZlcnNpb24ubGVuZ3RoID4gMTYgPyAiIi5jb25jYXQodmVyc2lvbi52ZXJzaW9uLnNsaWNlKDAsIDE1KSwgIi4uLiIpIDogdmVyc2lvbi52ZXJzaW9uLAogICAgICAgICAgaWQ6IHZlcnNpb24udmVyc2lvbiwKICAgICAgICAgIGNyZWF0ZWQ6IHZlcnNpb24uY3JlYXRlZCwKICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIGtleXdvcmRzOiB2ZXJzaW9uLmtleXdvcmRzCiAgICAgICAgfTsKICAgICAgICB2YXIgcGVybWl0dGVkU3lzdGVtcyA9ICgodmVyc2lvbiA9PT0gbnVsbCB8fCB2ZXJzaW9uID09PSB2b2lkIDAgfHwgKF92ZXJzaW9uJGFubm90YXRpb25zID0gdmVyc2lvbi5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3ZlcnNpb24kYW5ub3RhdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92ZXJzaW9uJGFubm90YXRpb25zW0NBVEFMT0dfQU5OT1RBVElPTlMuUEVSTUlUVEVEX09TXSkgfHwgTElOVVgpLnNwbGl0KCcsJyk7CiAgICAgICAgaWYgKHBlcm1pdHRlZFN5c3RlbXMubGVuZ3RoID4gMCAmJiBkaWZmZXJlbmNlKE9TcywgcGVybWl0dGVkU3lzdGVtcykubGVuZ3RoID4gMCkgewogICAgICAgICAgbnVlLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgLy8gaWYgb25seSBvbmUgT1MgaXMgYWxsb3dlZCwgc2hvdyAnPE9TPi1vbmx5JyBvbiBob3ZlcgogICAgICAgIGlmIChwZXJtaXR0ZWRTeXN0ZW1zLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgbnVlLmxhYmVsID0gX3RoaXMudCgiY2F0YWxvZy5pbnN0YWxsLnZlcnNpb25zLiIuY29uY2F0KHBlcm1pdHRlZFN5c3RlbXNbMF0pLCB7CiAgICAgICAgICAgIHZlcjogdmVyc2lvbi52ZXJzaW9uCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKCFfdGhpcy5zaG93UHJlUmVsZWFzZSAmJiBpc1ByZXJlbGVhc2UodmVyc2lvbi52ZXJzaW9uKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBvdXQucHVzaChudWUpOwogICAgICB9KTsKICAgICAgdmFyIHNlbGVjdGVkTWF0Y2ggPSBvdXQuZmluZChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LmlkID09PSBzZWxlY3RlZFZlcnNpb247CiAgICAgIH0pOwogICAgICBpZiAoIXNlbGVjdGVkTWF0Y2gpIHsKICAgICAgICBvdXQudW5zaGlmdCh7CiAgICAgICAgICBsYWJlbDogc2VsZWN0ZWRWZXJzaW9uLAogICAgICAgICAgb3JpZ2luYWxWZXJzaW9uOiBzZWxlY3RlZFZlcnNpb24sCiAgICAgICAgICBzaG9ydExhYmVsOiBzZWxlY3RlZFZlcnNpb24ubGVuZ3RoID4gMTYgPyAiIi5jb25jYXQoc2VsZWN0ZWRWZXJzaW9uLnNsaWNlKDAsIDE1KSwgIi4uLiIpIDogc2VsZWN0ZWRWZXJzaW9uLAogICAgICAgICAgaWQ6IHNlbGVjdGVkVmVyc2lvbiwKICAgICAgICAgIGNyZWF0ZWQ6IG51bGwsCiAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICBrZXl3b3JkczogW10KICAgICAgICB9KTsKICAgICAgfQogICAgICB2YXIgY3VycmVudFZlcnNpb24gPSBvdXQuZmluZChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2Lm9yaWdpbmFsVmVyc2lvbiA9PT0gX3RoaXMuY3VycmVudFZlcnNpb247CiAgICAgIH0pOwogICAgICBpZiAoY3VycmVudFZlcnNpb24pIHsKICAgICAgICBjdXJyZW50VmVyc2lvbi5sYWJlbCA9IHRoaXMudCgnY2F0YWxvZy5pbnN0YWxsLnZlcnNpb25zLmN1cnJlbnQnLCB7CiAgICAgICAgICB2ZXI6IHRoaXMuY3VycmVudFZlcnNpb24KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIC8vIENvbmRpdGlvbmFsbHkgZmlsdGVyIG91dCBwcmVyZWxlYXNlIHZlcnNpb25zIG9mIHRoZSBjaGFydC4KICAgIGZpbHRlcmVkVmVyc2lvbnM6IGZ1bmN0aW9uIGZpbHRlcmVkVmVyc2lvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3dQcmVSZWxlYXNlID8gdGhpcy5tYXBwZWRWZXJzaW9ucyA6IHRoaXMubWFwcGVkVmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICF2LmlzUHJlOwogICAgICB9KTsKICAgIH0sCiAgICBxdWVyeTogZnVuY3Rpb24gcXVlcnkoKSB7CiAgICAgIHZhciBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgICByZXR1cm4gewogICAgICAgIHJlcG9UeXBlOiBxdWVyeVtSRVBPX1RZUEVdLAogICAgICAgIHJlcG9OYW1lOiBxdWVyeVtSRVBPXSwKICAgICAgICBjaGFydE5hbWU6IHF1ZXJ5W0NIQVJUXSwKICAgICAgICB2ZXJzaW9uTmFtZTogcXVlcnlbVkVSU0lPTl0sCiAgICAgICAgYXBwTmFtZXNwYWNlOiBxdWVyeVtOQU1FU1BBQ0VdIHx8ICcnLAogICAgICAgIGFwcE5hbWU6IHF1ZXJ5W05BTUVdIHx8ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiBxdWVyeVtERVNDUklQVElPTl9RVUVSWV0sCiAgICAgICAgaGlkZGVuOiBxdWVyeVtISURERU5dLAogICAgICAgIGRlcHJlY2F0ZWQ6IHF1ZXJ5W0RFUFJFQ0FURURfUVVFUlldCiAgICAgIH07CiAgICB9LAogICAgc2hvd0RlcHJlY2F0ZWQ6IGZ1bmN0aW9uIHNob3dEZXByZWNhdGVkKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeS5kZXByZWNhdGVkID09PSAndHJ1ZScgfHwgdGhpcy5xdWVyeS5kZXByZWNhdGVkID09PSBfRkxBR0dFRDsKICAgIH0sCiAgICBzaG93SGlkZGVuOiBmdW5jdGlvbiBzaG93SGlkZGVuKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeS5oaWRkZW4gPT09IF9GTEFHR0VEOwogICAgfSwKICAgIC8vIElmIHRoZSB1c2VyIGlzIGluc3RhbGxpbmcgdGhlIGFwcCBmb3IgdGhlIGZpcnN0IHRpbWUsCiAgICAvLyB3YXJuIHRoZW0gYWJvdXQgQ1BVIGFuZCBtZW1vcnkgcmVxdWlyZW1lbnRzLgogICAgd2FybmluZ3M6IGZ1bmN0aW9uIHdhcm5pbmdzKCkgewogICAgICB2YXIgX3RoaXMkY2hhcnQyOwogICAgICB2YXIgd2FybmluZ3MgPSBbXTsKICAgICAgaWYgKHRoaXMuZXhpc3RpbmcpIHsKICAgICAgICAvLyBJZ25vcmUgdGhlIGxpbWl0cyBvbiB1cGdyYWRlIChvciBpZiBhc2tlZCBieSBxdWVyeSkgYW5kIGRvbid0IHNob3cgYW55IHdhcm5pbmdzCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90aGlzJHZlcnNpb24sIF90aGlzJHZlcnNpb24yLCBfdGhpcyRjdXJyZW50Q2x1c3RlcjIsIF90aGlzJGN1cnJlbnRDbHVzdGVyMzsKICAgICAgICAvLyBUaGUgVUkgd2lsbCBzaG93IHdhcm5pbmdzIGFib3V0IENQVSBhbmQgbWVtb3J5IGlmCiAgICAgICAgLy8gdGhlc2UgYW5ub3RhdGlvbnMgYXJlIGFkZGVkIHRvIEhlbG0gY2hhcnQ6CiAgICAgICAgLy8gLSBjYXRhbG9nLmNhdHRsZS5pby9yZXF1ZXN0cy1jcHUKICAgICAgICAvLyAtIGNhdGFsb2cuY2F0dGxlLmlvL3JlcXVlc3RzLW1lbW9yeQogICAgICAgIHZhciBuZWVkQ3B1ID0gcGFyc2VTaSgoKF90aGlzJHZlcnNpb24gPSB0aGlzLnZlcnNpb24pID09PSBudWxsIHx8IF90aGlzJHZlcnNpb24gPT09IHZvaWQgMCB8fCAoX3RoaXMkdmVyc2lvbiA9IF90aGlzJHZlcnNpb24uYW5ub3RhdGlvbnMpID09PSBudWxsIHx8IF90aGlzJHZlcnNpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZlcnNpb25bQ0FUQUxPR19BTk5PVEFUSU9OUy5SRVFVRVNUU19DUFVdKSB8fCAnMCcpOwogICAgICAgIHZhciBuZWVkTWVtb3J5ID0gcGFyc2VTaSgoKF90aGlzJHZlcnNpb24yID0gdGhpcy52ZXJzaW9uKSA9PT0gbnVsbCB8fCBfdGhpcyR2ZXJzaW9uMiA9PT0gdm9pZCAwIHx8IChfdGhpcyR2ZXJzaW9uMiA9IF90aGlzJHZlcnNpb24yLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyR2ZXJzaW9uMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmVyc2lvbjJbQ0FUQUxPR19BTk5PVEFUSU9OUy5SRVFVRVNUU19NRU1PUlldKSB8fCAnMCcpOwoKICAgICAgICAvLyBOb3RlOiBUaGVzZSBhcmUgbnVsbCBpZiB1bmtub3duCiAgICAgICAgdmFyIGF2YWlsYWJsZUNwdSA9IChfdGhpcyRjdXJyZW50Q2x1c3RlcjIgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyMi5hdmFpbGFibGVDcHU7CiAgICAgICAgdmFyIGF2YWlsYWJsZU1lbW9yeSA9IChfdGhpcyRjdXJyZW50Q2x1c3RlcjMgPSB0aGlzLmN1cnJlbnRDbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50Q2x1c3RlcjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyMy5hdmFpbGFibGVNZW1vcnk7CiAgICAgICAgaWYgKGF2YWlsYWJsZUNwdSAhPT0gbnVsbCAmJiBhdmFpbGFibGVDcHUgPCBuZWVkQ3B1KSB7CiAgICAgICAgICB3YXJuaW5ncy5wdXNoKHRoaXMudCgnY2F0YWxvZy5pbnN0YWxsLmVycm9yLmluc3VmZmljaWVudENwdScsIHsKICAgICAgICAgICAgbmVlZDogTWF0aC5yb3VuZChuZWVkQ3B1ICogMTAwKSAvIDEwMCwKICAgICAgICAgICAgaGF2ZTogTWF0aC5yb3VuZChhdmFpbGFibGVDcHUgKiAxMDApIC8gMTAwCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICAgIGlmIChhdmFpbGFibGVNZW1vcnkgIT09IG51bGwgJiYgYXZhaWxhYmxlTWVtb3J5IDwgbmVlZE1lbW9yeSkgewogICAgICAgICAgd2FybmluZ3MucHVzaCh0aGlzLnQoJ2NhdGFsb2cuaW5zdGFsbC5lcnJvci5pbnN1ZmZpY2llbnRNZW1vcnknLCB7CiAgICAgICAgICAgIG5lZWQ6IGZvcm1hdFNpKG5lZWRNZW1vcnksIHsKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDEwMjQsCiAgICAgICAgICAgICAgc3VmZml4OiAnaUInLAogICAgICAgICAgICAgIGZpcnN0U3VmZml4OiAnQicKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGhhdmU6IGZvcm1hdFNpKGF2YWlsYWJsZU1lbW9yeSwgewogICAgICAgICAgICAgIGluY3JlbWVudDogMTAyNCwKICAgICAgICAgICAgICBzdWZmaXg6ICdpQicsCiAgICAgICAgICAgICAgZmlyc3RTdWZmaXg6ICdCJwogICAgICAgICAgICB9KQogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKChfdGhpcyRjaGFydDIgPSB0aGlzLmNoYXJ0KSA9PT0gbnVsbCB8fCBfdGhpcyRjaGFydDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNoYXJ0Mi5pZCkgPT09IE9QQV9HQVRFX0tFRVBFUl9JRCkgewogICAgICAgIHdhcm5pbmdzLnVuc2hpZnQodGhpcy50KCdnYXRla2VlcGVySW5kZXguZGVwcmVjYXRlZCcsIHt9LCB0cnVlKSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZXhpc3RpbmcgJiYgdGhpcy5leGlzdGluZy51cGdyYWRlQXZhaWxhYmxlID09PSBmYWxzZSkgewogICAgICAgIHdhcm5pbmdzLnVuc2hpZnQodGhpcy50KCdjYXRhbG9nLmluc3RhbGwud2FybmluZy5tYW5hZ2VkJywgewogICAgICAgICAgbmFtZTogdGhpcy5leGlzdGluZy5uYW1lLAogICAgICAgICAgdmVyc2lvbjogdGhpcy5jaGFydCA/IHRoaXMucXVlcnkudmVyc2lvbk5hbWUgOiBudWxsCiAgICAgICAgfSwgdHJ1ZSkpOwogICAgICB9CiAgICAgIHJldHVybiB3YXJuaW5nczsKICAgIH0sCiAgICByZXF1aXJlczogZnVuY3Rpb24gcmVxdWlyZXMoKSB7CiAgICAgIHZhciBfdGhpcyR2ZXJzaW9uMzsKICAgICAgdmFyIHJlcXVpcmVzID0gW107CiAgICAgIHZhciByZXF1aXJlZCA9ICgoKF90aGlzJHZlcnNpb24zID0gdGhpcy52ZXJzaW9uKSA9PT0gbnVsbCB8fCBfdGhpcyR2ZXJzaW9uMyA9PT0gdm9pZCAwIHx8IChfdGhpcyR2ZXJzaW9uMyA9IF90aGlzJHZlcnNpb24zLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyR2ZXJzaW9uMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmVyc2lvbjNbQ0FUQUxPR19BTk5PVEFUSU9OUy5SRVFVSVJFU19HVktdKSB8fCAnJykuc3BsaXQoL1xzKixccyovKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gISF4OwogICAgICB9KS5yZXZlcnNlKCk7CiAgICAgIGlmIChyZXF1aXJlZC5sZW5ndGgpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVxdWlyZWQpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBndnIgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NhdGFsb2cvaXNJbnN0YWxsZWQnXSh7CiAgICAgICAgICAgICAgZ3ZyOiBndnIKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyKGd2cik7CiAgICAgICAgICAgIGlmIChwcm92aWRlcikgewogICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh0aGlzLmNoYXJ0TG9jYXRpb24odHJ1ZSwgcHJvdmlkZXIpKS5ocmVmOwogICAgICAgICAgICAgIHJlcXVpcmVzLnB1c2godGhpcy50KCdjYXRhbG9nLmluc3RhbGwuZXJyb3IucmVxdWlyZXNGb3VuZCcsIHsKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgbmFtZTogcHJvdmlkZXIubmFtZQogICAgICAgICAgICAgIH0sIHRydWUpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXF1aXJlcy5wdXNoKHRoaXMudCgnY2F0YWxvZy5pbnN0YWxsLmVycm9yLnJlcXVpcmVzTWlzc2luZycsIHsKICAgICAgICAgICAgICAgIG5hbWU6IGd2cgogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlcXVpcmVzOwogICAgfSwKICAgIGN1cnJlbnRWZXJzaW9uOiBmdW5jdGlvbiBjdXJyZW50VmVyc2lvbigpIHsKICAgICAgdmFyIF90aGlzJGV4aXN0aW5nOwogICAgICByZXR1cm4gKF90aGlzJGV4aXN0aW5nID0gdGhpcy5leGlzdGluZykgPT09IG51bGwgfHwgX3RoaXMkZXhpc3RpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGV4aXN0aW5nLnNwZWMuY2hhcnQubWV0YWRhdGEudmVyc2lvbjsKICAgIH0sCiAgICB0YXJnZXRWZXJzaW9uOiBmdW5jdGlvbiB0YXJnZXRWZXJzaW9uKCkgewogICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID8gdGhpcy52ZXJzaW9uLnZlcnNpb24gOiB0aGlzLnF1ZXJ5LnZlcnNpb25OYW1lOwogICAgfSwKICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkgewogICAgICBpZiAodGhpcy5leGlzdGluZykgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWZXJzaW9uID09PSB0aGlzLnRhcmdldFZlcnNpb24gPyAndXBkYXRlJyA6ICd1cGdyYWRlJzsKICAgICAgfQogICAgICByZXR1cm4gJ2luc3RhbGwnOwogICAgfSwKICAgIGlzQ2hhcnRUYXJnZXRlZDogZnVuY3Rpb24gaXNDaGFydFRhcmdldGVkKCkgewogICAgICB2YXIgX3RoaXMkY2hhcnQzLCBfdGhpcyRjaGFydDQ7CiAgICAgIHJldHVybiAoKF90aGlzJGNoYXJ0MyA9IHRoaXMuY2hhcnQpID09PSBudWxsIHx8IF90aGlzJGNoYXJ0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2hhcnQzLnRhcmdldE5hbWVzcGFjZSkgJiYgKChfdGhpcyRjaGFydDQgPSB0aGlzLmNoYXJ0KSA9PT0gbnVsbCB8fCBfdGhpcyRjaGFydDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNoYXJ0NC50YXJnZXROYW1lKTsKICAgIH0sCiAgICBoYXNRdWVzdGlvbnM6IGZ1bmN0aW9uIGhhc1F1ZXN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbkluZm8gJiYgISF0aGlzLnZlcnNpb25JbmZvLnF1ZXN0aW9uczsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBmZXRjaENoYXJ0OiBmdW5jdGlvbiBmZXRjaENoYXJ0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyJGNoYXJ0LCBfdGhpczIkY2hhcnQyLCBfdGhpczIkY2hhcnQkdmVyc2lvbnM7CiAgICAgICAgdmFyIGZpcnN0UmVsZWFzZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLnZlcnNpb25JbmZvRXJyb3IgPSBudWxsOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCdjYXRhbG9nL2xvYWQnKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGlmICghKF90aGlzMi5xdWVyeS5hcHBOYW1lc3BhY2UgJiYgX3RoaXMyLnF1ZXJ5LmFwcE5hbWUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IENBVEFMT0cuQVBQLAogICAgICAgICAgICAgICAgaWQ6ICIiLmNvbmNhdChfdGhpczIucXVlcnkuYXBwTmFtZXNwYWNlLCAiLyIpLmNvbmNhdChfdGhpczIucXVlcnkuYXBwTmFtZSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF90aGlzMi5leGlzdGluZyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMyLm1vZGUgPSBfRURJVDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgX3RoaXMyLm1vZGUgPSBfQ1JFQVRFOwogICAgICAgICAgICAgIF90aGlzMi5leGlzdGluZyA9IG51bGw7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGlmICghKChfdGhpczIkY2hhcnQgPSBfdGhpczIuY2hhcnQpICE9PSBudWxsICYmIF90aGlzMiRjaGFydCAhPT0gdm9pZCAwICYmIF90aGlzMiRjaGFydC50YXJnZXROYW1lc3BhY2UgJiYgKF90aGlzMiRjaGFydDIgPSBfdGhpczIuY2hhcnQpICE9PSBudWxsICYmIF90aGlzMiRjaGFydDIgIT09IHZvaWQgMCAmJiBfdGhpczIkY2hhcnQyLnRhcmdldE5hbWUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE4OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5BUFAsCiAgICAgICAgICAgICAgICBpZDogIiIuY29uY2F0KF90aGlzMi5jaGFydC50YXJnZXROYW1lc3BhY2UsICIvIikuY29uY2F0KF90aGlzMi5jaGFydC50YXJnZXROYW1lKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF90aGlzMi5leGlzdGluZyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMyLm1vZGUgPSBfRURJVDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI1OwogICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHRbImNhdGNoIl0oMTgpOwogICAgICAgICAgICAgIF90aGlzMi5tb2RlID0gX0NSRUFURTsKICAgICAgICAgICAgICBfdGhpczIuZXhpc3RpbmcgPSBudWxsOwogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAvLyBSZWd1bGFyIGNyZWF0ZQoKICAgICAgICAgICAgICBfdGhpczIubW9kZSA9IF9DUkVBVEU7CiAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgaWYgKF90aGlzMi5jaGFydCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgIC8vIElmIG5vIHZlcnNpb24gaXMgZ2l2ZW4gaW4gdGhlIFVSTCBxdWVyeSwKICAgICAgICAgICAgICAvLyB1c2UgdGhlIGZpcnN0IHZlcnNpb24gcHJvdmlkZWQgYnkgdGhlIEhlbG0gY2hhcnQKICAgICAgICAgICAgICAvLyBhcyB0aGUgZGVmYXVsdC4KICAgICAgICAgICAgICBpZiAoIV90aGlzMi5xdWVyeS52ZXJzaW9uTmFtZSAmJiAoX3RoaXMyJGNoYXJ0JHZlcnNpb25zID0gX3RoaXMyLmNoYXJ0LnZlcnNpb25zKSAhPT0gbnVsbCAmJiBfdGhpczIkY2hhcnQkdmVyc2lvbnMgIT09IHZvaWQgMCAmJiBfdGhpczIkY2hhcnQkdmVyc2lvbnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnNob3dQcmVSZWxlYXNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5xdWVyeS52ZXJzaW9uTmFtZSA9IF90aGlzMi5jaGFydC52ZXJzaW9uc1swXS52ZXJzaW9uOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmlyc3RSZWxlYXNlID0gX3RoaXMyLmNoYXJ0LnZlcnNpb25zLmZpbmQoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzUHJlcmVsZWFzZSh2LnZlcnNpb24pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnF1ZXJ5LnZlcnNpb25OYW1lID0gKGZpcnN0UmVsZWFzZSA9PT0gbnVsbCB8fCBmaXJzdFJlbGVhc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpcnN0UmVsZWFzZS52ZXJzaW9uKSB8fCBfdGhpczIuY2hhcnQudmVyc2lvbnNbMF0udmVyc2lvbjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKF90aGlzMi5xdWVyeS52ZXJzaW9uTmFtZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBfdGhpczIudmVyc2lvbiA9IF90aGlzMi4kc3RvcmUuZ2V0dGVyc1snY2F0YWxvZy92ZXJzaW9uJ10oewogICAgICAgICAgICAgICAgICByZXBvVHlwZTogX3RoaXMyLnF1ZXJ5LnJlcG9UeXBlLAogICAgICAgICAgICAgICAgICByZXBvTmFtZTogX3RoaXMyLnF1ZXJ5LnJlcG9OYW1lLAogICAgICAgICAgICAgICAgICBjaGFydE5hbWU6IF90aGlzMi5xdWVyeS5jaGFydE5hbWUsCiAgICAgICAgICAgICAgICAgIHZlcnNpb25OYW1lOiBfdGhpczIucXVlcnkudmVyc2lvbk5hbWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBmZXRjaCBWZXJzaW9uOiAnLCBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghX3RoaXMyLnZlcnNpb24pIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gdmVyc2lvbiBmb3VuZDogJywgX3RoaXMyLnF1ZXJ5LnJlcG9UeXBlLCBfdGhpczIucXVlcnkucmVwb05hbWUsIF90aGlzMi5xdWVyeS5jaGFydE5hbWUsIF90aGlzMi5xdWVyeS52ZXJzaW9uTmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCdjYXRhbG9nL2dldFZlcnNpb25JbmZvJywgewogICAgICAgICAgICAgICAgcmVwb1R5cGU6IF90aGlzMi5xdWVyeS5yZXBvVHlwZSwKICAgICAgICAgICAgICAgIHJlcG9OYW1lOiBfdGhpczIucXVlcnkucmVwb05hbWUsCiAgICAgICAgICAgICAgICBjaGFydE5hbWU6IF90aGlzMi5xdWVyeS5jaGFydE5hbWUsCiAgICAgICAgICAgICAgICB2ZXJzaW9uTmFtZTogX3RoaXMyLnF1ZXJ5LnZlcnNpb25OYW1lCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICAgICAgX3RoaXMyLnZlcnNpb25JbmZvID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNDU6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ1OwogICAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHRbImNhdGNoIl0oMzkpOwogICAgICAgICAgICAgIF90aGlzMi52ZXJzaW9uSW5mb0Vycm9yID0gX2NvbnRleHQudDI7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGZldGNoIFZlcnNpb25JbmZvOiAnLCBfY29udGV4dC50Mik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMV0sIFsxOCwgMjVdLCBbMzksIDQ1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBFbmQgb2YgZmV0Y2hDaGFydAogICAgLy8gQ2hhcnRzIGhhdmUgYW4gYW5ub3RhdGlvbiB0aGF0IHNwZWNpZmllcyBhbnkgYWRkaXRpb25hbCBjaGFydHMgdGhhdCBzaG91bGQgYmUgaW5zdGFsbGVkIGF0IHRoZSBzYW1lIHRpbWUgZWcgQ1JEcwogICAgZmV0Y2hBdXRvSW5zdGFsbEluZm86IGZ1bmN0aW9uIGZldGNoQXV0b0luc3RhbGxJbmZvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMyR2ZXJzaW9uOwogICAgICAgIHZhciBvdXQsIGF1dG8sIF9pdGVyYXRvcjIsIF9zdGVwMiwgY29uc3RyYWludCwgcHJvdmlkZXIsIGNyZFZlcnNpb25JbmZvLCBleGlzdGluZ0NSREFwcCwgX2NyZFZlcnNpb25JbmZvJGNoYXJ0LCBfY3JkVmVyc2lvbkluZm8kY2hhcnQyLCB0YXJnZXROYW1lc3BhY2UsIHRhcmdldE5hbWUsIF9leGlzdGluZ0NSREFwcCRzcGVjLCBfZXhpc3RpbmdDUkRBcHAkc3BlYzIsIGV4aXN0aW5nVmFsdWVzLCBkZWZhdWx0VmFsdWVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgb3V0ID0gW107CiAgICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAgIEFuIGV4YW1wbGUgdmFsdWUgZm9yIGF1dG8gaXMgWyJyYW5jaGVyLW1vbml0b3JpbmctY3JkPW1hdGNoIl0uCiAgICAgICAgICAgICAgICBJdCBpcyBhbiBhcnJheSBvZiBjaGFydCBuYW1lcyB0aGF0IGxldHMgUmFuY2hlciBrbm93IG9mIG90aGVyCiAgICAgICAgICAgICAgICBjaGFydHMgdGhhdCBzaG91bGQgYmUgYXV0by1pbnN0YWxsZWQgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIGF1dG8gPSAoKChfdGhpczMkdmVyc2lvbiA9IF90aGlzMy52ZXJzaW9uKSA9PT0gbnVsbCB8fCBfdGhpczMkdmVyc2lvbiA9PT0gdm9pZCAwIHx8IChfdGhpczMkdmVyc2lvbiA9IF90aGlzMyR2ZXJzaW9uLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpczMkdmVyc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJHZlcnNpb25bQ0FUQUxPR19BTk5PVEFUSU9OUy5BVVRPX0lOU1RBTExdKSB8fCAnJykuc3BsaXQoL1xzKixccyovKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAhIXg7CiAgICAgICAgICAgICAgfSkucmV2ZXJzZSgpOwogICAgICAgICAgICAgIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhdXRvKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBpZiAoKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBfdGhpczMuJHN0b3JlLmdldHRlcnNbJ2NhdGFsb2cvdmVyc2lvblNhdGlzZnlpbmcnXSh7CiAgICAgICAgICAgICAgICBjb25zdHJhaW50OiBjb25zdHJhaW50LAogICAgICAgICAgICAgICAgcmVwb05hbWU6IF90aGlzMy5jaGFydC5yZXBvTmFtZSwKICAgICAgICAgICAgICAgIHJlcG9UeXBlOiBfdGhpczMuY2hhcnQucmVwb1R5cGUsCiAgICAgICAgICAgICAgICBjaGFydFZlcnNpb246IF90aGlzMy52ZXJzaW9uLnZlcnNpb24KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvKiBBbiBleGFtcGxlIHJldHVybiB2YWx1ZSBmb3IgInByb3ZpZGVyIjoKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogInJhbmNoZXItbW9uaXRvcmluZy1jcmQiLAogICAgICAgICAgICAgICAgICAgICAgICAidmVyc2lvbiI6ICIxMDAuMS4zK3VwMTkuMC4zIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkluc3RhbGxzIHRoZSBDUkRzIGZvciByYW5jaGVyLW1vbml0b3JpbmcuIiwKICAgICAgICAgICAgICAgICAgICAgICAgImFwaVZlcnNpb24iOiAidjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiYW5ub3RhdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2F0YWxvZy5jYXR0bGUuaW8vY2VydGlmaWVkIjogInJhbmNoZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhdGFsb2cuY2F0dGxlLmlvL2hpZGRlbiI6ICJ0cnVlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXRhbG9nLmNhdHRsZS5pby9uYW1lc3BhY2UiOiAiY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXRhbG9nLmNhdHRsZS5pby9yZWxlYXNlLW5hbWUiOiAicmFuY2hlci1tb25pdG9yaW5nLWNyZCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXBwbGljYXRpb24iLAogICAgICAgICAgICAgICAgICAgICAgICAidXJscyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJodHRwczovLzE5Mi4xNjguMC4xODo4MDA1L2s4cy9jbHVzdGVycy9jLW0taGhwZzY5ZnYvdjEvY2F0YWxvZy5jYXR0bGUuaW8uY2x1c3RlcnJlcG9zL3JhbmNoZXItY2hhcnRzP2NoYXJ0TmFtZT1yYW5jaGVyLW1vbml0b3JpbmctY3JkJmxpbms9Y2hhcnQmdmVyc2lvbj0xMDAuMS4zJTJCdXAxOS4wLjMiCiAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgICJjcmVhdGVkIjogIjIwMjItMDQtMjdUMTA6MDQ6MTguMzQzMTI0LTA3OjAwIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRpZ2VzdCI6ICJlY2YwN2JhMjNhOWNkYWE3ZmZiYmIxNDM0NWQ5NGVhMTI0MGI3ZjNiOGUwY2U5YmU0NjQwZTNlNTg1YzQ4NGUyIiwKICAgICAgICAgICAgICAgICAgICAgICAgImtleSI6ICJjbHVzdGVyL3JhbmNoZXItY2hhcnRzL3JhbmNoZXItbW9uaXRvcmluZy1jcmQvMTAwLjEuMyt1cDE5LjAuMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJyZXBvVHlwZSI6ICJjbHVzdGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgInJlcG9OYW1lIjogInJhbmNoZXItY2hhcnRzIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgaWYgKCFwcm92aWRlcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnY2F0YWxvZy9nZXRWZXJzaW9uSW5mbycsIHsKICAgICAgICAgICAgICAgIHJlcG9UeXBlOiBwcm92aWRlci5yZXBvVHlwZSwKICAgICAgICAgICAgICAgIHJlcG9OYW1lOiBwcm92aWRlci5yZXBvTmFtZSwKICAgICAgICAgICAgICAgIGNoYXJ0TmFtZTogcHJvdmlkZXIubmFtZSwKICAgICAgICAgICAgICAgIHZlcnNpb25OYW1lOiBwcm92aWRlci52ZXJzaW9uCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY3JkVmVyc2lvbkluZm8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBleGlzdGluZ0NSREFwcCA9IHZvaWQgMDsgLy8gc2VhcmNoIGZvciBhbiBleGlzdGluZyBjcmQgYXBwIHRvIHRyYWNrIGFueSBub24tZGVmYXVsdCB2YWx1ZXMgdXNlZCBvbiB0aGUgcHJldmlvdXMgaW5zdGFsbC91cGdyYWRlCiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLm1vZGUgPT09IF9FRElUKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0YXJnZXROYW1lc3BhY2UgPSBjcmRWZXJzaW9uSW5mbyA9PT0gbnVsbCB8fCBjcmRWZXJzaW9uSW5mbyA9PT0gdm9pZCAwIHx8IChfY3JkVmVyc2lvbkluZm8kY2hhcnQgPSBjcmRWZXJzaW9uSW5mby5jaGFydCkgPT09IG51bGwgfHwgX2NyZFZlcnNpb25JbmZvJGNoYXJ0ID09PSB2b2lkIDAgfHwgKF9jcmRWZXJzaW9uSW5mbyRjaGFydCA9IF9jcmRWZXJzaW9uSW5mbyRjaGFydC5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX2NyZFZlcnNpb25JbmZvJGNoYXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY3JkVmVyc2lvbkluZm8kY2hhcnRbQ0FUQUxPR19BTk5PVEFUSU9OUy5OQU1FU1BBQ0VdOwogICAgICAgICAgICAgIHRhcmdldE5hbWUgPSBjcmRWZXJzaW9uSW5mbyA9PT0gbnVsbCB8fCBjcmRWZXJzaW9uSW5mbyA9PT0gdm9pZCAwIHx8IChfY3JkVmVyc2lvbkluZm8kY2hhcnQyID0gY3JkVmVyc2lvbkluZm8uY2hhcnQpID09PSBudWxsIHx8IF9jcmRWZXJzaW9uSW5mbyRjaGFydDIgPT09IHZvaWQgMCB8fCAoX2NyZFZlcnNpb25JbmZvJGNoYXJ0MiA9IF9jcmRWZXJzaW9uSW5mbyRjaGFydDIuYW5ub3RhdGlvbnMpID09PSBudWxsIHx8IF9jcmRWZXJzaW9uSW5mbyRjaGFydDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jcmRWZXJzaW9uSW5mbyRjaGFydDJbQ0FUQUxPR19BTk5PVEFUSU9OUy5SRUxFQVNFX05BTUVdOwogICAgICAgICAgICAgIGlmICghKHRhcmdldE5hbWUgJiYgdGFyZ2V0TmFtZXNwYWNlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmQnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBDQVRBTE9HLkFQUCwKICAgICAgICAgICAgICAgIGlkOiAiIi5jb25jYXQodGFyZ2V0TmFtZXNwYWNlLCAiLyIpLmNvbmNhdCh0YXJnZXROYW1lKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGV4aXN0aW5nQ1JEQXBwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ1JEQXBwKSB7CiAgICAgICAgICAgICAgICAvLyBzcGVjLnZhbHVlcyBhcmUgYW55IG5vbi1kZWZhdWx0IHZhbHVlcyB0aGUgdXNlciBjb25maWd1cmVkCiAgICAgICAgICAgICAgICAvLyB0aGUgaW5zdGFsbGF0aW9uIGZvcm0gc2hvdWxkIHNob3cgdGhlc2UsIGFzIHdlbGwgYXMgYW55IGRlZmF1bHQgdmFsdWVzIGZyb20gdGhlIGNoYXJ0CiAgICAgICAgICAgICAgICBleGlzdGluZ1ZhbHVlcyA9IGNsb25lKCgoX2V4aXN0aW5nQ1JEQXBwJHNwZWMgPSBleGlzdGluZ0NSREFwcC5zcGVjKSA9PT0gbnVsbCB8fCBfZXhpc3RpbmdDUkRBcHAkc3BlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V4aXN0aW5nQ1JEQXBwJHNwZWMudmFsdWVzKSB8fCB7fSk7CiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWVzID0gY2xvbmUoKChfZXhpc3RpbmdDUkRBcHAkc3BlYzIgPSBleGlzdGluZ0NSREFwcC5zcGVjKSA9PT0gbnVsbCB8fCBfZXhpc3RpbmdDUkRBcHAkc3BlYzIgPT09IHZvaWQgMCB8fCAoX2V4aXN0aW5nQ1JEQXBwJHNwZWMyID0gX2V4aXN0aW5nQ1JEQXBwJHNwZWMyLmNoYXJ0KSA9PT0gbnVsbCB8fCBfZXhpc3RpbmdDUkRBcHAkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9leGlzdGluZ0NSREFwcCRzcGVjMi52YWx1ZXMpIHx8IHt9KTsKICAgICAgICAgICAgICAgIGNyZFZlcnNpb25JbmZvLmV4aXN0aW5nVmFsdWVzID0gZXhpc3RpbmdWYWx1ZXM7CiAgICAgICAgICAgICAgICBjcmRWZXJzaW9uSW5mby5hbGxWYWx1ZXMgPSBtZXJnZShkZWZhdWx0VmFsdWVzLCBleGlzdGluZ1ZhbHVlcyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGFsbFZhbHVlcyB3aWxsIHBvdGVudGlhbGx5IGJlIHVwZGF0ZWQgaW4gdGhlIFVJIC0gd2Ugd2FudCB0byB0cmFjayB0aGlzIHNlcGFyYXRlbHkgZnJvbSB2YWx1ZXMgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIGNoYXJ0IG9iamVjdCBpbiB0aGUgc3RvcmUKICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgc2ltaWxhciB0byB1c2VyVmFsdWVzIGZvciB0aGUgbWFpbiBjaGFydAogICAgICAgICAgICAgICAgY3JkVmVyc2lvbkluZm8uYWxsVmFsdWVzID0gY2xvbmUoY3JkVmVyc2lvbkluZm8udmFsdWVzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgb3V0LnB1c2goY3JkVmVyc2lvbkluZm8pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oOSk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGZldGNoIFZlcnNpb25JbmZvOiAnLCBfY29udGV4dDIudDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgiVGhpcyBjaGFydCByZXF1aXJlcyAiLmNvbmNhdChjb25zdHJhaW50LCAiIGJ1dCBubyBtYXRjaGluZyBjaGFydCB3YXMgZm91bmQiKSk7CiAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzNTsKICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSBfY29udGV4dDJbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKF9jb250ZXh0Mi50MSk7CiAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzODsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgzOCk7CiAgICAgICAgICAgIGNhc2UgNDE6CiAgICAgICAgICAgICAgX3RoaXMzLiRzZXQoX3RoaXMzLCAnYXV0b0luc3RhbGxJbmZvJywgb3V0KTsKICAgICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCAzNSwgMzgsIDQxXSwgWzksIDI1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWxlY3RWZXJzaW9uOiBmdW5jdGlvbiBzZWxlY3RWZXJzaW9uKF9yZWYpIHsKICAgICAgdmFyIHZlcnNpb24gPSBfcmVmLmlkOwogICAgICB0aGlzLiRyb3V0ZXIuYXBwbHlRdWVyeShfZGVmaW5lUHJvcGVydHkoe30sIFZFUlNJT04sIHZlcnNpb24pKTsKICAgIH0sCiAgICBwcm92aWRlcjogZnVuY3Rpb24gcHJvdmlkZXIoZ3ZyKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjYXRhbG9nL3ZlcnNpb25Qcm92aWRpbmcnXSh7CiAgICAgICAgZ3ZyOiBndnIsCiAgICAgICAgcmVwb05hbWU6IHRoaXMuY2hhcnQucmVwb05hbWUsCiAgICAgICAgcmVwb1R5cGU6IHRoaXMuY2hhcnQucmVwb1R5cGUKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiBMb2NhdGlvbiBvZiBjaGFydCBpbnN0YWxsIG9yIGRldGFpbHMgcGFnZSBmb3IgZWl0aGVyIHRoZSBjdXJyZW50IGNoYXJ0IG9yIGZyb20gZ3ZyCiAgICAgKi8KICAgIGNoYXJ0TG9jYXRpb246IGZ1bmN0aW9uIGNoYXJ0TG9jYXRpb24oKSB7CiAgICAgIHZhciBpbnN0YWxsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIHByb3YgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdiB8fCB7CiAgICAgICAgcmVwb1R5cGU6IHRoaXMuY2hhcnQucmVwb1R5cGUsCiAgICAgICAgcmVwb05hbWU6IHRoaXMuY2hhcnQucmVwb05hbWUsCiAgICAgICAgbmFtZTogdGhpcy5jaGFydC5jaGFydE5hbWUsCiAgICAgICAgdmVyc2lvbjogdGhpcy5xdWVyeS52ZXJzaW9uTmFtZQogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IGluc3RhbGwgPyAnYy1jbHVzdGVyLWFwcHMtY2hhcnRzLWluc3RhbGwnIDogJ2MtY2x1c3Rlci1hcHBzLWNoYXJ0cy1jaGFydCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjbHVzdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlciwKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddCiAgICAgICAgfSwKICAgICAgICBxdWVyeTogX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCBSRVBPX1RZUEUsIHByb3ZpZGVyLnJlcG9UeXBlKSwgUkVQTywgcHJvdmlkZXIucmVwb05hbWUpLCBDSEFSVCwgcHJvdmlkZXIubmFtZSksIFZFUlNJT04sIHByb3ZpZGVyLnZlcnNpb24pCiAgICAgIH07CiAgICB9LAogICAgYXBwTG9jYXRpb246IGZ1bmN0aW9uIGFwcExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMkZXhpc3RpbmcyOwogICAgICByZXR1cm4gKChfdGhpcyRleGlzdGluZzIgPSB0aGlzLmV4aXN0aW5nKSA9PT0gbnVsbCB8fCBfdGhpcyRleGlzdGluZzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGV4aXN0aW5nMi5kZXRhaWxMb2NhdGlvbikgfHwgewogICAgICAgIG5hbWU6ICJjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZSIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9kdWN0OiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcm9kdWN0SWQnXSwKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXJJZCddLAogICAgICAgICAgcmVzb3VyY2U6IENBVEFMT0cuQVBQCiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGNsdXN0ZXJUb29sc0xvY2F0aW9uOiBmdW5jdGlvbiBjbHVzdGVyVG9vbHNMb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiYy1jbHVzdGVyLWV4cGxvcmVyLXRvb2xzIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2R1Y3Q6IEVYUExPUkVSLAogICAgICAgICAgY2x1c3RlcjogdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3RlcklkJ10sCiAgICAgICAgICByZXNvdXJjZTogQ0FUQUxPRy5BUFAKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgY2x1c3RlcnNMb2NhdGlvbjogZnVuY3Rpb24gY2x1c3RlcnNMb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm91dGUucGFyYW1zLmNsdXN0ZXIsCiAgICAgICAgICBwcm9kdWN0OiBNQU5BR0VSLAogICAgICAgICAgcmVzb3VyY2U6IENBUEkuUkFOQ0hFUl9DTFVTVEVSCiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","REPO_TYPE","REPO","CHART","VERSION","NAMESPACE","NAME","DESCRIPTION","DESCRIPTION_QUERY","DEPRECATED","DEPRECATED_QUERY","HIDDEN","_FLAGGED","_CREATE","_EDIT","CATALOG","CATALOG_ANNOTATIONS","SHOW_PRE_RELEASE","mapPref","EXPLORER","MANAGER","OPA_GATE_KEEPER_ID","formatSi","parseSi","CAPI","isPrerelease","difference","LINUX","clone","merge","data","version","versionInfo","versionInfoError","existing","ignoreWarning","computed","_objectSpread","showPreRelease","chart","repo","query","chartName","$store","getters","repoType","repoName","includeHidden","showDeprecated","showReadme","_this$versionInfo","readme","hasReadme","_this$versionInfo2","_this$versionInfo3","appReadme","mappedVersions","_this$chart","_this$currentCluster","_this","versions","selectedVersion","targetVersion","OSs","currentCluster","workerOSs","out","forEach","_version$annotations","nue","label","originalVersion","shortLabel","length","concat","slice","id","created","disabled","keywords","permittedSystems","annotations","PERMITTED_OS","split","t","ver","push","selectedMatch","find","v","unshift","currentVersion","filteredVersions","filter","isPre","$route","versionName","appNamespace","appName","description","hidden","deprecated","showHidden","warnings","_this$chart2","_this$version","_this$version2","_this$currentCluster2","_this$currentCluster3","needCpu","REQUESTS_CPU","needMemory","REQUESTS_MEMORY","availableCpu","availableMemory","need","Math","round","have","increment","suffix","firstSuffix","upgradeAvailable","name","requires","_this$version3","required","REQUIRES_GVK","x","reverse","_iterator","_createForOfIteratorHelper","_step","s","n","done","gvr","value","provider","url","$router","resolve","chartLocation","href","err","e","f","_this$existing","spec","metadata","action","isChartTargeted","_this$chart3","_this$chart4","targetNamespace","targetName","hasQuestions","questions","methods","fetchChart","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this2$chart","_this2$chart2","_this2$chart$versions","firstRelease","wrap","_callee$","_context","prev","next","dispatch","type","APP","sent","mode","t0","t1","abrupt","console","error","warn","t2","stop","fetchAutoInstallInfo","_this3","_callee2","_this3$version","auto","_iterator2","_step2","constraint","crdVersionInfo","existingCRDApp","_crdVersionInfo$chart","_crdVersionInfo$chart2","_existingCRDApp$spec","_existingCRDApp$spec2","existingValues","defaultValues","_callee2$","_context2","AUTO_INSTALL","chartVersion","RELEASE_NAME","values","allValues","errors","finish","$set","selectVersion","_ref","applyQuery","_defineProperty","install","arguments","undefined","prov","params","cluster","product","appLocation","_this$existing2","detailLocation","resource","clusterToolsLocation","clustersLocation","RANCHER_CLUSTER"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/mixins/chart.js"],"sourcesContent":["\nimport { mapGetters } from 'vuex';\n\nimport {\n  REPO_TYPE, REPO, CHART, VERSION, NAMESPACE, NAME, DESCRIPTION as DESCRIPTION_QUERY, DEPRECATED as DEPRECATED_QUERY, HIDDEN, _FLAGGED, _CREATE, _EDIT\n} from '@shell/config/query-params';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { SHOW_PRE_RELEASE, mapPref } from '@shell/store/prefs';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { NAME as MANAGER } from '@shell/config/product/manager';\nimport { OPA_GATE_KEEPER_ID } from '@shell/pages/c/_cluster/gatekeeper/index.vue';\n\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { CAPI, CATALOG } from '@shell/config/types';\nimport { isPrerelease } from '@shell/utils/version';\nimport difference from 'lodash/difference';\nimport { LINUX } from '@shell/store/catalog';\nimport { clone } from '@shell/utils/object';\nimport { merge } from 'lodash';\n\nexport default {\n  data() {\n    return {\n      version:          null,\n      versionInfo:      null,\n      versionInfoError: null,\n      existing:         null,\n\n      ignoreWarning: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'isRancher']),\n\n    showPreRelease: mapPref(SHOW_PRE_RELEASE),\n\n    chart() {\n      if ( this.repo && this.query.chartName ) {\n        return this.$store.getters['catalog/chart']({\n          repoType:       this.query.repoType,\n          repoName:       this.query.repoName,\n          chartName:      this.query.chartName,\n          includeHidden:  true,\n          showDeprecated: this.showDeprecated\n        });\n      }\n\n      return null;\n    },\n\n    repo() {\n      return this.$store.getters['catalog/repo']({\n        repoType: this.query.repoType,\n        repoName: this.query.repoName,\n      });\n    },\n\n    showReadme() {\n      return !!this.versionInfo?.readme;\n    },\n\n    hasReadme() {\n      return !!this.versionInfo?.appReadme || !!this.versionInfo?.readme;\n    },\n\n    mappedVersions() {\n      const versions = this.chart?.versions || [];\n      const selectedVersion = this.targetVersion;\n      const OSs = this.currentCluster?.workerOSs;\n      const out = [];\n\n      versions.forEach((version) => {\n        const nue = {\n          label:           version.version,\n          version:         version.version,\n          originalVersion: version.version,\n          shortLabel:      version.version.length > 16 ? `${ version.version.slice(0, 15) }...` : version.version,\n          id:              version.version,\n          created:         version.created,\n          disabled:        false,\n          keywords:        version.keywords\n        };\n\n        const permittedSystems = (version?.annotations?.[CATALOG_ANNOTATIONS.PERMITTED_OS] || LINUX).split(',');\n\n        if (permittedSystems.length > 0 && difference(OSs, permittedSystems).length > 0) {\n          nue.disabled = true;\n        }\n        // if only one OS is allowed, show '<OS>-only' on hover\n        if (permittedSystems.length === 1) {\n          nue.label = this.t(`catalog.install.versions.${ permittedSystems[0] }`, { ver: version.version });\n        }\n\n        if (!this.showPreRelease && isPrerelease(version.version)) {\n          return;\n        }\n\n        out.push(nue);\n      });\n\n      const selectedMatch = out.find((v) => v.id === selectedVersion);\n\n      if (!selectedMatch) {\n        out.unshift({\n          label:           selectedVersion,\n          originalVersion: selectedVersion,\n          shortLabel:      selectedVersion.length > 16 ? `${ selectedVersion.slice(0, 15) }...` : selectedVersion,\n          id:              selectedVersion,\n          created:         null,\n          disabled:        false,\n          keywords:        []\n        });\n      }\n\n      const currentVersion = out.find((v) => v.originalVersion === this.currentVersion);\n\n      if (currentVersion) {\n        currentVersion.label = this.t('catalog.install.versions.current', { ver: this.currentVersion });\n      }\n\n      return out;\n    },\n\n    // Conditionally filter out prerelease versions of the chart.\n    filteredVersions() {\n      return this.showPreRelease ? this.mappedVersions : this.mappedVersions.filter((v) => !v.isPre);\n    },\n\n    query() {\n      const query = this.$route.query;\n\n      return {\n        repoType:     query[REPO_TYPE],\n        repoName:     query[REPO],\n        chartName:    query[CHART],\n        versionName:  query[VERSION],\n        appNamespace: query[NAMESPACE] || '',\n        appName:      query[NAME] || '',\n        description:  query[DESCRIPTION_QUERY],\n        hidden:       query[HIDDEN],\n        deprecated:   query[DEPRECATED_QUERY]\n      };\n    },\n\n    showDeprecated() {\n      return this.query.deprecated === 'true' || this.query.deprecated === _FLAGGED;\n    },\n\n    showHidden() {\n      return this.query.hidden === _FLAGGED;\n    },\n\n    // If the user is installing the app for the first time,\n    // warn them about CPU and memory requirements.\n    warnings() {\n      const warnings = [];\n\n      if ( this.existing ) {\n        // Ignore the limits on upgrade (or if asked by query) and don't show any warnings\n      } else {\n        // The UI will show warnings about CPU and memory if\n        // these annotations are added to Helm chart:\n        // - catalog.cattle.io/requests-cpu\n        // - catalog.cattle.io/requests-memory\n        const needCpu = parseSi(this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUESTS_CPU] || '0');\n        const needMemory = parseSi(this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUESTS_MEMORY] || '0');\n\n        // Note: These are null if unknown\n        const availableCpu = this.currentCluster?.availableCpu;\n        const availableMemory = this.currentCluster?.availableMemory;\n\n        if ( availableCpu !== null && availableCpu < needCpu ) {\n          warnings.push(this.t('catalog.install.error.insufficientCpu', {\n            need: Math.round(needCpu * 100) / 100,\n            have: Math.round(availableCpu * 100) / 100,\n          }));\n        }\n\n        if ( availableMemory !== null && availableMemory < needMemory ) {\n          warnings.push(this.t('catalog.install.error.insufficientMemory', {\n            need: formatSi(needMemory, {\n              increment: 1024, suffix: 'iB', firstSuffix: 'B'\n            }),\n            have: formatSi(availableMemory, {\n              increment: 1024, suffix: 'iB', firstSuffix: 'B'\n            }),\n          }));\n        }\n      }\n\n      if (this.chart?.id === OPA_GATE_KEEPER_ID) {\n        warnings.unshift(this.t('gatekeeperIndex.deprecated', {}, true));\n      }\n\n      if (this.existing && this.existing.upgradeAvailable === false) {\n        warnings.unshift(this.t('catalog.install.warning.managed', {\n          name:    this.existing.name,\n          version: this.chart ? this.query.versionName : null\n        }, true));\n      }\n\n      return warnings;\n    },\n\n    requires() {\n      const requires = [];\n\n      const required = (this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUIRES_GVK] || '').split(/\\s*,\\s*/).filter((x) => !!x).reverse();\n\n      if ( required.length ) {\n        for ( const gvr of required ) {\n          if ( this.$store.getters['catalog/isInstalled']({ gvr }) ) {\n            continue;\n          }\n\n          const provider = this.provider(gvr);\n\n          if ( provider ) {\n            const url = this.$router.resolve(this.chartLocation(true, provider)).href;\n\n            requires.push(this.t('catalog.install.error.requiresFound', {\n              url,\n              name: provider.name\n            }, true));\n          } else {\n            requires.push(this.t('catalog.install.error.requiresMissing', { name: gvr }));\n          }\n        }\n      }\n\n      return requires;\n    },\n\n    currentVersion() {\n      return this.existing?.spec.chart.metadata.version;\n    },\n\n    targetVersion() {\n      return this.version ? this.version.version : this.query.versionName;\n    },\n\n    action() {\n      if (this.existing) {\n        return this.currentVersion === this.targetVersion ? 'update' : 'upgrade';\n      }\n\n      return 'install';\n    },\n\n    isChartTargeted() {\n      return this.chart?.targetNamespace && this.chart?.targetName;\n    },\n\n    hasQuestions() {\n      return this.versionInfo && !!this.versionInfo.questions;\n    },\n  },\n\n  methods: {\n    async fetchChart() {\n      this.versionInfoError = null;\n\n      await this.$store.dispatch('catalog/load'); // not the problem\n\n      if ( this.query.appNamespace && this.query.appName ) {\n        // First check the URL query for an app name and namespace.\n        // Use those values to check for a catalog app resource.\n        // If found, set the form to edit mode. If not, set the\n        // form to create mode.\n\n        try {\n          this.existing = await this.$store.dispatch('cluster/find', {\n            type: CATALOG.APP,\n            id:   `${ this.query.appNamespace }/${ this.query.appName }`,\n          });\n\n          this.mode = _EDIT;\n        } catch (e) {\n          this.mode = _CREATE;\n          this.existing = null;\n        }\n      } else if ( this.chart?.targetNamespace && this.chart?.targetName ) {\n        // If the app name and namespace values are not provided in the\n        // query, fall back on target values defined in the Helm chart itself.\n\n        // Ask to install a special chart with fixed namespace/name\n        // or edit it if there's an existing install.\n\n        try {\n          this.existing = await this.$store.dispatch('cluster/find', {\n            type: CATALOG.APP,\n            id:   `${ this.chart.targetNamespace }/${ this.chart.targetName }`,\n          });\n          this.mode = _EDIT;\n        } catch (e) {\n          this.mode = _CREATE;\n          this.existing = null;\n        }\n      } else {\n        // Regular create\n\n        this.mode = _CREATE;\n      }\n\n      if ( !this.chart ) {\n        return;\n      }\n\n      // If no version is given in the URL query,\n      // use the first version provided by the Helm chart\n      // as the default.\n      if ( !this.query.versionName && this.chart.versions?.length ) {\n        if (this.showPreRelease) {\n          this.query.versionName = this.chart.versions[0].version;\n        } else {\n          const firstRelease = this.chart.versions.find((v) => !isPrerelease(v.version));\n\n          this.query.versionName = firstRelease?.version || this.chart.versions[0].version;\n        }\n      }\n\n      if ( !this.query.versionName ) {\n        return;\n      }\n\n      try {\n        this.version = this.$store.getters['catalog/version']({\n          repoType:    this.query.repoType,\n          repoName:    this.query.repoName,\n          chartName:   this.query.chartName,\n          versionName: this.query.versionName\n        });\n      } catch (e) {\n        console.error('Unable to fetch Version: ', e); // eslint-disable-line no-console\n      }\n      if (!this.version) {\n        console.warn('No version found: ', this.query.repoType, this.query.repoName, this.query.chartName, this.query.versionName);// eslint-disable-line no-console\n      }\n\n      try {\n        this.versionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:    this.query.repoType,\n          repoName:    this.query.repoName,\n          chartName:   this.query.chartName,\n          versionName: this.query.versionName\n        });\n        // Here we set us versionInfo. The returned\n        // object contains everything all info\n        // about a currently installed app, and it has the\n        // following keys:\n        //\n        // - appReadme: A short overview of what the app does. This\n        //   forms the first few paragraphs of the chart info when\n        //   you install a Helm chart app through Rancher.\n        // - chart: Metadata about the Helm chart, including the\n        //   name and version.\n        // - readme: This is more detailed information that appears\n        //   under the heading \"Chart Information (Helm README)\" when\n        //   you install or upgrade a Helm chart app through Rancher,\n        //   below the app README.\n        // - values: All Helm chart values for the currently installed\n        //   app.\n      } catch (e) {\n        this.versionInfoError = e;\n\n        console.error('Unable to fetch VersionInfo: ', e); // eslint-disable-line no-console\n      }\n    }, // End of fetchChart\n\n    // Charts have an annotation that specifies any additional charts that should be installed at the same time eg CRDs\n    async fetchAutoInstallInfo() {\n      const out = [];\n      /*\n        An example value for auto is [\"rancher-monitoring-crd=match\"].\n        It is an array of chart names that lets Rancher know of other\n        charts that should be auto-installed at the same time.\n      */\n      const auto = (this.version?.annotations?.[CATALOG_ANNOTATIONS.AUTO_INSTALL] || '').split(/\\s*,\\s*/).filter((x) => !!x).reverse();\n\n      for ( const constraint of auto ) {\n        const provider = this.$store.getters['catalog/versionSatisfying']({\n          constraint,\n          repoName:     this.chart.repoName,\n          repoType:     this.chart.repoType,\n          chartVersion: this.version.version,\n        });\n        /* An example return value for \"provider\":\n          [\n              {\n                  \"name\": \"rancher-monitoring-crd\",\n                  \"version\": \"100.1.3+up19.0.3\",\n                  \"description\": \"Installs the CRDs for rancher-monitoring.\",\n                  \"apiVersion\": \"v1\",\n                  \"annotations\": {\n                      \"catalog.cattle.io/certified\": \"rancher\",\n                      \"catalog.cattle.io/hidden\": \"true\",\n                      \"catalog.cattle.io/namespace\": \"cattle-monitoring-system\",\n                      \"catalog.cattle.io/release-name\": \"rancher-monitoring-crd\"\n                  },\n                  \"type\": \"application\",\n                  \"urls\": [\n                      \"https://192.168.0.18:8005/k8s/clusters/c-m-hhpg69fv/v1/catalog.cattle.io.clusterrepos/rancher-charts?chartName=rancher-monitoring-crd&link=chart&version=100.1.3%2Bup19.0.3\"\n                  ],\n                  \"created\": \"2022-04-27T10:04:18.343124-07:00\",\n                  \"digest\": \"ecf07ba23a9cdaa7ffbbb14345d94ea1240b7f3b8e0ce9be4640e3e585c484e2\",\n                  \"key\": \"cluster/rancher-charts/rancher-monitoring-crd/100.1.3+up19.0.3\",\n                  \"repoType\": \"cluster\",\n                  \"repoName\": \"rancher-charts\"\n              }\n          ]\n          */\n\n        if ( provider ) {\n          try {\n            const crdVersionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n              repoType:    provider.repoType,\n              repoName:    provider.repoName,\n              chartName:   provider.name,\n              versionName: provider.version\n            });\n            let existingCRDApp;\n\n            // search for an existing crd app to track any non-default values used on the previous install/upgrade\n            if (this.mode === _EDIT) {\n              const targetNamespace = crdVersionInfo?.chart?.annotations?.[CATALOG_ANNOTATIONS.NAMESPACE];\n              const targetName = crdVersionInfo?.chart?.annotations?.[CATALOG_ANNOTATIONS.RELEASE_NAME];\n\n              if (targetName && targetNamespace) {\n                existingCRDApp = await this.$store.dispatch('cluster/find', {\n                  type: CATALOG.APP,\n                  id:   `${ targetNamespace }/${ targetName }`,\n                });\n              }\n            }\n            if (existingCRDApp) {\n              // spec.values are any non-default values the user configured\n              // the installation form should show these, as well as any default values from the chart\n              const existingValues = clone(existingCRDApp.spec?.values || {});\n              const defaultValues = clone(existingCRDApp.spec?.chart?.values || {});\n\n              crdVersionInfo.existingValues = existingValues;\n              crdVersionInfo.allValues = merge(defaultValues, existingValues);\n            } else {\n              // allValues will potentially be updated in the UI - we want to track this separately from values to avoid mutating the chart object in the store\n              // this is similar to userValues for the main chart\n              crdVersionInfo.allValues = clone(crdVersionInfo.values);\n            }\n\n            out.push(crdVersionInfo);\n          } catch (e) {\n            console.error('Unable to fetch VersionInfo: ', e); // eslint-disable-line no-console\n          }\n        } else {\n          this.errors.push(`This chart requires ${ constraint } but no matching chart was found`);\n        }\n      }\n\n      this.$set(this, 'autoInstallInfo', out);\n    },\n\n    selectVersion({ id: version }) {\n      this.$router.applyQuery({ [VERSION]: version });\n    },\n\n    provider(gvr) {\n      return this.$store.getters['catalog/versionProviding']({\n        gvr,\n        repoName: this.chart.repoName,\n        repoType: this.chart.repoType\n      });\n    },\n\n    /**\n     * Location of chart install or details page for either the current chart or from gvr\n     */\n    chartLocation(install = false, prov) {\n      const provider = prov || {\n        repoType: this.chart.repoType,\n        repoName: this.chart.repoName,\n        name:     this.chart.chartName,\n        version:  this.query.versionName,\n      };\n\n      return {\n        name:   install ? 'c-cluster-apps-charts-install' : 'c-cluster-apps-charts-chart',\n        params: {\n          cluster: this.$route.params.cluster,\n          product: this.$store.getters['productId'],\n        },\n        query: {\n          [REPO_TYPE]: provider.repoType,\n          [REPO]:      provider.repoName,\n          [CHART]:     provider.name,\n          [VERSION]:   provider.version,\n        }\n      };\n    },\n\n    appLocation() {\n      return this.existing?.detailLocation || {\n        name:   `c-cluster-product-resource`,\n        params: {\n          product:  this.$store.getters['productId'],\n          cluster:  this.$store.getters['clusterId'],\n          resource: CATALOG.APP,\n        }\n      };\n    },\n\n    clusterToolsLocation() {\n      return {\n        name:   `c-cluster-explorer-tools`,\n        params: {\n          product:  EXPLORER,\n          cluster:  this.$store.getters['clusterId'],\n          resource: CATALOG.APP,\n        }\n      };\n    },\n\n    clustersLocation() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  MANAGER,\n          resource: CAPI.RANCHER_CLUSTER,\n        },\n      };\n    }\n  },\n\n};\n"],"mappings":"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","ignoreList":[]}]}