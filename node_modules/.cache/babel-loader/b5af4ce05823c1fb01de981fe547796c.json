{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/store/prefs.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/store/prefs.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CmltcG9ydCB7IE1BTkFHRU1FTlQsIFNURVZFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGNsb25lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKdmFyIGRlZmluaXRpb25zID0ge307Ci8qKgogKiBLZXkvdmFsdWUgb2YgcHJlZnJlbmNlcyBhcmUgc3RvcmVkIGJlZm9yZSBsb2dpbiBoZXJlIGFuZCBjb29raWVzIGR1ZSBsYWNrIG9mIGFjY2VzcyBwZXJtaXNzaW9uLgogKiBPbmNlIHVzZXIgaXMgbG9nZ2VkIGluIHdoaWxlIHNldHRpbmcgYXNVc2VyUHJlZmVyZW5jZSwgdXBkYXRlIHN0b3JlZCBiZWZvcmUgbG9naW4gS2V5L3ZhbHVlIHRvIHRoZSBiYWNrZW5kIGluIGxvYWRTZXJ2ZXIgZnVuY3Rpb24uCiAqLwp2YXIgcHJlZnNCZWZvcmVMb2dpbiA9IHt9OwpleHBvcnQgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBkZWYpIHsKICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICB2YXIgcGFyc2VKU09OID0gb3B0LnBhcnNlSlNPTiA9PT0gdHJ1ZTsKICB2YXIgYXNDb29raWUgPSBvcHQuYXNDb29raWUgPT09IHRydWU7CiAgdmFyIGFzVXNlclByZWZlcmVuY2UgPSBvcHQuYXNVc2VyUHJlZmVyZW5jZSAhPT0gZmFsc2U7CiAgdmFyIG9wdGlvbnMgPSBvcHQub3B0aW9uczsKICB2YXIgaW5oZXJpdEZyb20gPSBvcHQuaW5oZXJpdEZyb207CiAgZGVmaW5pdGlvbnNbbmFtZV0gPSB7CiAgICBkZWY6IGRlZiwKICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICAgIGFzQ29va2llOiBhc0Nvb2tpZSwKICAgIGFzVXNlclByZWZlcmVuY2U6IGFzVXNlclByZWZlcmVuY2UsCiAgICBpbmhlcml0RnJvbTogaW5oZXJpdEZyb20sCiAgICAvLyBpZiB2YWx1ZSBpcyBub3QgZGVmaW5lZCBvbiBzZXJ2ZXIsIHdlIGNhbiBkZWZhdWx0IGl0IHRvIGFub3RoZXIgcHJlZgogICAgbWFuZ2xlUmVhZDogb3B0Lm1hbmdsZVJlYWQsCiAgICAvLyBBbHRlciB0aGUgdmFsdWUgcmVhZCBmcm9tIHRoZSBBUEkgKHRvIG1hdGNoIG9sZCBSYW5jaGVyIGV4cGVjdGF0aW9ucykKICAgIG1hbmdsZVdyaXRlOiBvcHQubWFuZ2xlV3JpdGUgLy8gQWx0ZXIgdGhlIHZhbHVlIHdyaXR0ZW4gYmFjayB0byB0aGUgQVBJIChkaXR0bykKICB9OwogIHJldHVybiBuYW1lOwp9OwpleHBvcnQgdmFyIG1hcFByZWYgPSBmdW5jdGlvbiBtYXBQcmVmKG5hbWUpIHsKICByZXR1cm4gewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmVmcy9nZXQnXShuYW1lKTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJlZnMvc2V0JywgewogICAgICAgIGtleTogbmFtZSwKICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgfSk7CiAgICB9CiAgfTsKfTsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tCnZhciBwYXJzZUpTT04gPSB0cnVlOyAvLyBTaG9ydGN1dCBmb3Igc2V0dGluZyBpdCBiZWxvdwp2YXIgYXNDb29raWUgPSB0cnVlOyAvLyBTdG9yZSBhcyBhIGNvb2tpZSBzbyB0aGF0IGl0J3MgYXZhaWxhYmxlIGJlZm9yZSBhdXRoICsgb24gc2VydmVyLXNpZGUKCi8vIEtleXMgbXVzdCBiZSBsb3dlcmNhc2UgYW5kIHZhbGlkIGRucyBsYWJlbCAoYS16IDAtOSAtKQpleHBvcnQgdmFyIENMVVNURVIgPSBjcmVhdGUoJ2NsdXN0ZXInLCAnJyk7CmV4cG9ydCB2YXIgTEFTVF9OQU1FU1BBQ0UgPSBjcmVhdGUoJ2xhc3QtbmFtZXNwYWNlJywgJycpOwpleHBvcnQgdmFyIE5BTUVTUEFDRV9GSUxURVJTID0gY3JlYXRlKCducy1ieS1jbHVzdGVyJywge30sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBXT1JLU1BBQ0UgPSBjcmVhdGUoJ3dvcmtzcGFjZScsICcnKTsKZXhwb3J0IHZhciBFWFBBTkRFRF9HUk9VUFMgPSBjcmVhdGUoJ29wZW4tZ3JvdXBzJywgWydjbHVzdGVyJywgJ3BvbGljeScsICdyYmFjJywgJ3NlcnZpY2VEaXNjb3ZlcnknLCAnc3RvcmFnZScsICd3b3JrbG9hZCddLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgRkFWT1JJVEVfVFlQRVMgPSBjcmVhdGUoJ2Zhdi10eXBlJywgW10sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBQSU5ORURfQ0xVU1RFUlMgPSBjcmVhdGUoJ3Bpbm5lZC1jbHVzdGVycycsIFtdLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgR1JPVVBfUkVTT1VSQ0VTID0gY3JlYXRlKCdncm91cC1ieScsICduYW1lc3BhY2UnKTsKZXhwb3J0IHZhciBESUZGID0gY3JlYXRlKCdkaWZmJywgJ3VuaWZpZWQnLCB7CiAgb3B0aW9uczogWyd1bmlmaWVkJywgJ3NwbGl0J10KfSk7CmV4cG9ydCB2YXIgVEhFTUUgPSBjcmVhdGUoJ3RoZW1lJywgJ2F1dG8nLCB7CiAgb3B0aW9uczogWydsaWdodCcsICdhdXRvJywgJ2RhcmsnXSwKICBhc0Nvb2tpZTogYXNDb29raWUsCiAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgbWFuZ2xlUmVhZDogZnVuY3Rpb24gbWFuZ2xlUmVhZCh4KSB7CiAgICByZXR1cm4geC5yZXBsYWNlKC9edWktLywgJycpOwogIH0sCiAgbWFuZ2xlV3JpdGU6IGZ1bmN0aW9uIG1hbmdsZVdyaXRlKHgpIHsKICAgIHJldHVybiAidWktIi5jb25jYXQoeCk7CiAgfQp9KTsKZXhwb3J0IHZhciBQUkVGRVJTX1NDSEVNRSA9IGNyZWF0ZSgncGNzJywgJycsIHsKICBhc0Nvb2tpZTogYXNDb29raWUsCiAgYXNVc2VyUHJlZmVyZW5jZTogZmFsc2UKfSk7CmV4cG9ydCB2YXIgTE9DQUxFID0gY3JlYXRlKCdsb2NhbGUnLCAnZW4tdXMnLCB7CiAgYXNDb29raWU6IGFzQ29va2llCn0pOwpleHBvcnQgdmFyIEtFWU1BUCA9IGNyZWF0ZSgna2V5bWFwJywgJ3N1YmxpbWUnLCB7CiAgb3B0aW9uczogWydzdWJsaW1lJywgJ2VtYWNzJywgJ3ZpbSddCn0pOwpleHBvcnQgdmFyIFJPV1NfUEVSX1BBR0UgPSBjcmVhdGUoJ3Blci1wYWdlJywgMTAwLCB7CiAgb3B0aW9uczogWzEwLCAyNSwgNTAsIDEwMF0sCiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgTE9HU19XUkFQID0gY3JlYXRlKCdsb2dzLXdyYXAnLCB0cnVlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgTE9HU19USU1FID0gY3JlYXRlKCdsb2dzLXRpbWUnLCB0cnVlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgTE9HU19SQU5HRSA9IGNyZWF0ZSgnbG9ncy1yYW5nZScsICczMCBtaW51dGVzJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEhJREVfUkVQT1MgPSBjcmVhdGUoJ2hpZGUtcmVwb3MnLCBbXSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEhJREVfREVTQyA9IGNyZWF0ZSgnaGlkZS1kZXNjJywgW10sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBISURFX1NFTlNJVElWRSA9IGNyZWF0ZSgnaGlkZS1zZW5zaXRpdmUnLCB0cnVlLCB7CiAgb3B0aW9uczogW3RydWUsIGZhbHNlXSwKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBTSE9XX1BSRV9SRUxFQVNFID0gY3JlYXRlKCdzaG93LXByZS1yZWxlYXNlJywgZmFsc2UsIHsKICBvcHRpb25zOiBbZmFsc2UsIHRydWVdLAogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFNIT1dfQ0hBUlRfTU9ERSA9IGNyZWF0ZSgnY2hhcnQtbW9kZScsICdmZWF0dXJlZCcsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBEQVRFX0ZPUk1BVCA9IGNyZWF0ZSgnZGF0ZS1mb3JtYXQnLCAnZGRkLCBNTU0gRCBZWVlZJywgewogIG9wdGlvbnM6IFsnZGRkLCBNTU0gRCBZWVlZJywgJ2RkZCwgRCBNTU0gWVlZWScsICdEL00vWVlZWScsICdNL0QvWVlZWScsICdZWVlZLU1NLUREJ10KfSk7CmV4cG9ydCB2YXIgVElNRV9GT1JNQVQgPSBjcmVhdGUoJ3RpbWUtZm9ybWF0JywgJ2g6bW06c3MgYScsIHsKICBvcHRpb25zOiBbJ2g6bW06c3MgYScsICdISDptbTpzcyddCn0pOwpleHBvcnQgdmFyIFRJTUVfWk9ORSA9IGNyZWF0ZSgndGltZS16b25lJywgJ2xvY2FsJyk7Ci8vIERFViB3aWxsIGJlIGRlcHJlY2F0ZWQgb24gdjIuNy4wLCBidXQgaXMgbmVlZGVkIHNvIHRoYXQgd2UgY2FuIGdyYWIgdGhlIHZhbHVlIGZvciB0aGUgbmV3IHNldHRpbmdzIHRoYXQgZGVyaXZlZCBmcm9tIGl0Ci8vIHN1Y2ggYXM6IFZJRVdfSU5fQVBJLCBBTExfTkFNRVNQQUNFUywgVEhFTUVfU0hPUlRDVVQKZXhwb3J0IHZhciBERVYgPSBjcmVhdGUoJ2RldicsIGZhbHNlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgVklFV19JTl9BUEkgPSBjcmVhdGUoJ3ZpZXctaW4tYXBpJywgZmFsc2UsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICBpbmhlcml0RnJvbTogREVWCn0pOwpleHBvcnQgdmFyIEFMTF9OQU1FU1BBQ0VTID0gY3JlYXRlKCdhbGwtbmFtZXNwYWNlcycsIGZhbHNlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgaW5oZXJpdEZyb206IERFVgp9KTsKZXhwb3J0IHZhciBUSEVNRV9TSE9SVENVVCA9IGNyZWF0ZSgndGhlbWUtc2hvcnRjdXQnLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OLAogIGluaGVyaXRGcm9tOiBERVYKfSk7CmV4cG9ydCB2YXIgTEFTVF9WSVNJVEVEID0gY3JlYXRlKCdsYXN0LXZpc2l0ZWQnLCAnaG9tZScsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBTRUVOX1dIQVRTX05FVyA9IGNyZWF0ZSgnc2Vlbi13aGF0c25ldycsICcnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgUkVBRF9XSEFUU19ORVcgPSBjcmVhdGUoJ3JlYWQtd2hhdHNuZXcnLCAnJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEFGVEVSX0xPR0lOX1JPVVRFID0gY3JlYXRlKCdhZnRlci1sb2dpbi1yb3V0ZScsICdob21lJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEhJREVfSE9NRV9QQUdFX0NBUkRTID0gY3JlYXRlKCdob21lLXBhZ2UtY2FyZHMnLCB7fSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFBMVUdJTl9ERVZFTE9QRVIgPSBjcmVhdGUoJ3BsdWdpbi1kZXZlbG9wZXInLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OLAogIGluaGVyaXRGcm9tOiBERVYKfSk7IC8vIElzIHRoZSB1c2VyIGEgcGx1Z2luIGRldmVsb3Blcj8KCmV4cG9ydCB2YXIgX1JLRTEgPSAncmtlMSc7CmV4cG9ydCB2YXIgX1JLRTIgPSAncmtlMic7CmV4cG9ydCB2YXIgUFJPVklTSU9ORVIgPSBjcmVhdGUoJ3Byb3Zpc2lvbmVyJywgX1JLRTIsIHsKICBvcHRpb25zOiBbX1JLRTEsIF9SS0UyXQp9KTsKCi8vIE1heGltdW0gbnVtYmVyIG9mIGNsdXN0ZXJzIHRvIHNob3cgaW4gdGhlIHNsaWRlLWluIG1lbnUKZXhwb3J0IHZhciBNRU5VX01BWF9DTFVTVEVSUyA9IDEwOwovLyBQcm9tcHQgZm9yIGNvbmZpcm0gd2hlbiBzY2FsaW5nIGRvd24gbm9kZSBwb29sIGluIEdVSSBhbmQgc2F2ZSB0aGUgcHJlZgpleHBvcnQgdmFyIFNDQUxFX1BPT0xfUFJPTVBUID0gY3JlYXRlKCdzY2FsZS1wb29sLXByb21wdCcsIG51bGwsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCnZhciBjb29raWVQcmVmaXggPSAnUl8nOwp2YXIgY29va2llT3B0aW9ucyA9IHsKICBtYXhBZ2U6IDM2NSAqIDg2NDAwLAogIHBhdGg6ICcvJywKICBzYW1lU2l0ZTogdHJ1ZSwKICBzZWN1cmU6IHRydWUKfTsKZXhwb3J0IHZhciBzdGF0ZSA9IGZ1bmN0aW9uIHN0YXRlKCkgewogIHJldHVybiB7CiAgICBjb29raWVzTG9hZGVkOiBmYWxzZSwKICAgIGRhdGE6IHt9LAogICAgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25zCiAgfTsKfTsKZXhwb3J0IHZhciBnZXR0ZXJzID0gewogIGdldDogZnVuY3Rpb24gZ2V0KHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgIGlmICghZGVmaW5pdGlvbikgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcmVmZXJlbmNlOiAiLmNvbmNhdChrZXkpKTsKICAgICAgfQogICAgICB2YXIgdXNlciA9IHN0YXRlLmRhdGFba2V5XTsKICAgICAgaWYgKHVzZXIgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBjbG9uZSh1c2VyKTsKICAgICAgfQogICAgICB2YXIgZGVmID0gY2xvbmUoZGVmaW5pdGlvbi5kZWYpOwogICAgICByZXR1cm4gZGVmOwogICAgfTsKICB9LAogIGRlZmF1bHRWYWx1ZTogZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgIGlmICghZGVmaW5pdGlvbikgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcmVmZXJlbmNlOiAiLmNvbmNhdChrZXkpKTsKICAgICAgfQogICAgICByZXR1cm4gY2xvbmUoZGVmaW5pdGlvbi5kZWYpOwogICAgfTsKICB9LAogIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZlcmVuY2U6ICIuY29uY2F0KGtleSkpOwogICAgICB9CiAgICAgIGlmICghZGVmaW5pdGlvbi5vcHRpb25zKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJQcmVmZXJlbmNlIGRvZXMgbm90IGhhdmUgb3B0aW9uczogIi5jb25jYXQoa2V5KSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRlZmluaXRpb24ub3B0aW9ucy5zbGljZSgpOwogICAgfTsKICB9LAogIHRoZW1lOiBmdW5jdGlvbiB0aGVtZShzdGF0ZSwgZ2V0dGVycywgcm9vdFN0YXRlLCByb290R2V0dGVycykgewogICAgdmFyIHNldHRpbmcgPSByb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oTUFOQUdFTUVOVC5TRVRUSU5HLCBTRVRUSU5HLlRIRU1FKTsKICAgIGlmIChzZXR0aW5nICE9PSBudWxsICYmIHNldHRpbmcgIT09IHZvaWQgMCAmJiBzZXR0aW5nLnZhbHVlKSB7CiAgICAgIHJldHVybiBzZXR0aW5nID09PSBudWxsIHx8IHNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldHRpbmcudmFsdWU7CiAgICB9CiAgICB2YXIgdGhlbWUgPSBnZXR0ZXJzWydnZXQnXShUSEVNRSk7CiAgICB2YXIgcGNzID0gZ2V0dGVyc1snZ2V0J10oUFJFRkVSU19TQ0hFTUUpOwoKICAgIC8vIGNvbnNvbGUubG9nKCdHZXQgVGhlbWUnLCB0aGVtZSwgcGNzKTsKCiAgICAvLyBFbWJlciBVSSB1c2VzIHRoaXMgcHJlZml4CiAgICBpZiAodGhlbWUuc3RhcnRzV2l0aCgndWktJykpIHsKICAgICAgdGhlbWUgPSB0aGVtZS5zdWJzdHIoMyk7CiAgICB9CiAgICBpZiAodGhlbWUgPT09ICdhdXRvJykgewogICAgICBpZiAocGNzID09PSAnbGlnaHQnIHx8IHBjcyA9PT0gJ2RhcmsnKSB7CiAgICAgICAgcmV0dXJuIHBjczsKICAgICAgfQogICAgICByZXR1cm4gJ2RhcmsnOwogICAgfQogICAgcmV0dXJuIHRoZW1lOwogIH0sCiAgYWZ0ZXJMb2dpblJvdXRlOiBmdW5jdGlvbiBhZnRlckxvZ2luUm91dGUoc3RhdGUsIGdldHRlcnMpIHsKICAgIHZhciBhZnRlckxvZ2luUm91dGVQcmVmID0gZ2V0dGVyc1snZ2V0J10oQUZURVJfTE9HSU5fUk9VVEUpOwogICAgaWYgKHR5cGVvZiBhZnRlckxvZ2luUm91dGVQcmVmICE9PSAnc3RyaW5nJykgewogICAgICByZXR1cm4gYWZ0ZXJMb2dpblJvdXRlUHJlZjsKICAgIH0KICAgIHN3aXRjaCAodHJ1ZSkgewogICAgICBjYXNlIGFmdGVyTG9naW5Sb3V0ZVByZWYgPT09ICdob21lJzoKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgfTsKICAgICAgY2FzZSBhZnRlckxvZ2luUm91dGVQcmVmID09PSAnbGFzdC12aXNpdGVkJzoKICAgICAgICB7CiAgICAgICAgICB2YXIgbGFzdFZpc2l0ZWRQcmVmID0gZ2V0dGVyc1snZ2V0J10oTEFTVF9WSVNJVEVEKTsKICAgICAgICAgIGlmIChsYXN0VmlzaXRlZFByZWYpIHsKICAgICAgICAgICAgcmV0dXJuIGxhc3RWaXNpdGVkUHJlZjsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBjbHVzdGVyUHJlZiA9IGdldHRlcnNbJ2dldCddKENMVVNURVIpOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1leHBsb3JlcicsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHByb2R1Y3Q6ICdleHBsb3JlcicsCiAgICAgICAgICAgICAgY2x1c3RlcjogY2x1c3RlclByZWYKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIGNhc2UgISFhZnRlckxvZ2luUm91dGVQcmVmLm1hdGNoKC8uKy1kYXNoYm9hcmQkLyk6CiAgICAgICAgewogICAgICAgICAgdmFyIGNsdXN0ZXJJZCA9IGFmdGVyTG9naW5Sb3V0ZVByZWYuc3BsaXQoJy1kYXNoYm9hcmQnKVswXTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItZXhwbG9yZXInLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBwcm9kdWN0OiAnZXhwbG9yZXInLAogICAgICAgICAgICAgIGNsdXN0ZXI6IGNsdXN0ZXJJZAogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogYWZ0ZXJMb2dpblJvdXRlUHJlZgogICAgICAgIH07CiAgICB9CiAgfQp9OwpleHBvcnQgdmFyIG11dGF0aW9ucyA9IHsKICBsb2FkOiBmdW5jdGlvbiBsb2FkKHN0YXRlLCBfcmVmKSB7CiAgICB2YXIga2V5ID0gX3JlZi5rZXksCiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgIFZ1ZS5zZXQoc3RhdGUuZGF0YSwga2V5LCB2YWx1ZSk7CiAgfSwKICBjb29raWVzTG9hZGVkOiBmdW5jdGlvbiBjb29raWVzTG9hZGVkKHN0YXRlKSB7CiAgICBzdGF0ZS5jb29raWVzTG9hZGVkID0gdHJ1ZTsKICB9LAogIHJlc2V0OiBmdW5jdGlvbiByZXNldChzdGF0ZSkgewogICAgZm9yICh2YXIga2V5IGluIHN0YXRlLmRlZmluaXRpb25zKSB7CiAgICAgIHZhciBfc3RhdGUkZGVmaW5pdGlvbnMka2U7CiAgICAgIGlmICgoX3N0YXRlJGRlZmluaXRpb25zJGtlID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XSkgIT09IG51bGwgJiYgX3N0YXRlJGRlZmluaXRpb25zJGtlICE9PSB2b2lkIDAgJiYgX3N0YXRlJGRlZmluaXRpb25zJGtlLmFzQ29va2llKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgZGVsZXRlIHN0YXRlLmRhdGFba2V5XTsKICAgIH0KICB9LAogIHNldERlZmluaXRpb246IGZ1bmN0aW9uIHNldERlZmluaXRpb24oc3RhdGUsIF9yZWYyKSB7CiAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWUsCiAgICAgIF9yZWYyJGRlZmluaXRpb24gPSBfcmVmMi5kZWZpbml0aW9uLAogICAgICBkZWZpbml0aW9uID0gX3JlZjIkZGVmaW5pdGlvbiA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRkZWZpbml0aW9uOwogICAgc3RhdGUuZGVmaW5pdGlvbnNbbmFtZV0gPSBkZWZpbml0aW9uOwogIH0KfTsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIHNldDogZnVuY3Rpb24gc2V0KF9yZWYzLCBvcHQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGRpc3BhdGNoLCBjb21taXQsIHJvb3RHZXR0ZXJzLCBzdGF0ZSwga2V5LCB2YWx1ZSwgZGVmaW5pdGlvbiwgc2VydmVyLCBfb3B0LCBjaGVja0xvZ2luLCBfc2VydmVyOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYzLnJvb3RHZXR0ZXJzLCBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICBrZXkgPSBvcHQua2V5LCB2YWx1ZSA9IG9wdC52YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3QKICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgICAgICAgIGlmICghb3B0LnZhbCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlIHZhbHVlLCBub3QgdmFsJyk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNvbW1pdCgnbG9hZCcsIHsKICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmFzQ29va2llKSB7CiAgICAgICAgICAgICAgX29wdCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29va2llT3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAgICAgICBwYXJzZUpTT046IGRlZmluaXRpb24ucGFyc2VKU09OID09PSB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCIiLmNvbmNhdChjb29raWVQcmVmaXgpLmNvbmNhdChrZXkpLnRvVXBwZXJDYXNlKCksIHZhbHVlLCBfb3B0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWRlZmluaXRpb24uYXNVc2VyUHJlZmVyZW5jZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjaGVja0xvZ2luID0gcm9vdEdldHRlcnNbJ2F1dGgvbG9nZ2VkSW4nXTsgLy8gQ2hlY2sgZm9yIGxvZ2luIHN0YXR1cwogICAgICAgICAgICBpZiAoY2hlY2tMb2dpbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcmVmc0JlZm9yZUxvZ2luW2tleV0gPSB2YWx1ZTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdsb2FkU2VydmVyJywga2V5KTsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIHNlcnZlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGlmICghKChfc2VydmVyID0gc2VydmVyKSAhPT0gbnVsbCAmJiBfc2VydmVyICE9PSB2b2lkIDAgJiYgX3NlcnZlci5kYXRhKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5tYW5nbGVXcml0ZSkgewogICAgICAgICAgICAgIHZhbHVlID0gZGVmaW5pdGlvbi5tYW5nbGVXcml0ZSh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRlZmluaXRpb24ucGFyc2VKU09OKSB7CiAgICAgICAgICAgICAgVnVlLnNldChzZXJ2ZXIuZGF0YSwga2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFZ1ZS5zZXQoc2VydmVyLmRhdGEsIGtleSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgcmV0dXJuIHNlcnZlci5zYXZlKHsKICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIzOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHR5cGU6IF9jb250ZXh0LnQwLnR5cGUsCiAgICAgICAgICAgICAgc3RhdHVzOiBfY29udGV4dC50MC5zdGF0dXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMTIsIDIzXV0pOwogICAgfSkpKCk7CiAgfSwKICBzZXRUaGVtZTogZnVuY3Rpb24gc2V0VGhlbWUoX3JlZjQsIHZhbCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgZGlzcGF0Y2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAgICAgICAgICBrZXk6IFRIRU1FLAogICAgICAgICAgICAgIHZhbHVlOiB2YWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbG9hZENvb2tpZXM6IGZ1bmN0aW9uIGxvYWRDb29raWVzKF9yZWY1KSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgaWYgKHN0YXRlLmNvb2tpZXNMb2FkZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgZm9yICh2YXIga2V5IGluIHN0YXRlLmRlZmluaXRpb25zKSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uLmFzQ29va2llKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgdmFyIG9wdCA9IHsKICAgICAgICBwYXJzZUpTT046IGRlZmluaXRpb24ucGFyc2VKU09OID09PSB0cnVlCiAgICAgIH07CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuJGNvb2tpZXMuZ2V0KCIiLmNvbmNhdChjb29raWVQcmVmaXgpLmNvbmNhdChrZXkpLnRvVXBwZXJDYXNlKCksIG9wdCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29tbWl0KCdsb2FkJywgewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgY29tbWl0KCdjb29raWVzTG9hZGVkJyk7CiAgfSwKICBsb2FkVGhlbWU6IGZ1bmN0aW9uIGxvYWRUaGVtZShfcmVmNikgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICB2YXIgd2F0Y2hEYXJrID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTsKICAgIHZhciB3YXRjaExpZ2h0ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpJyk7CiAgICB2YXIgd2F0Y2hOb25lID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbm8tcHJlZmVyZW5jZSknKTsKICAgIHZhciBpbnRlcnZhbCA9IDMwICogNjAgKiAxMDAwOwogICAgdmFyIG5leHRIYWxmSG91ciA9IGludGVydmFsIC0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgJSBpbnRlcnZhbDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBkaXNwYXRjaCgnbG9hZFRoZW1lJyk7CiAgICB9LCBuZXh0SGFsZkhvdXIpOwogICAgLy8gY29uc29sZS5sb2coJ1VwZGF0ZSB0aGVtZSBpbicsIG5leHRIYWxmSG91ciwgJ21zJyk7CgogICAgaWYgKHdhdGNoRGFyay5tYXRjaGVzKSB7CiAgICAgIGNoYW5nZWQoJ2RhcmsnKTsKICAgIH0gZWxzZSBpZiAod2F0Y2hMaWdodC5tYXRjaGVzKSB7CiAgICAgIGNoYW5nZWQoJ2xpZ2h0Jyk7CiAgICB9IGVsc2UgewogICAgICBjaGFuZ2VkKGZyb21DbG9jaygpKTsKICAgIH0KICAgIHdhdGNoRGFyay5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5tYXRjaGVzKSB7CiAgICAgICAgY2hhbmdlZCgnZGFyaycpOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoTGlnaHQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUubWF0Y2hlcykgewogICAgICAgIGNoYW5nZWQoJ2xpZ2h0Jyk7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2hOb25lLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLm1hdGNoZXMpIHsKICAgICAgICBjaGFuZ2VkKGZyb21DbG9jaygpKTsKICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBjaGFuZ2VkKHZhbHVlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdQcmVmZXJzIFRoZW1lOicsIHZhbHVlKTsKICAgICAgZGlzcGF0Y2goJ3NldCcsIHsKICAgICAgICBrZXk6IFBSRUZFUlNfU0NIRU1FLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGZyb21DbG9jaygpIHsKICAgICAgdmFyIGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgICAgIGlmIChob3VyIDwgNyB8fCBob3VyID49IDE4KSB7CiAgICAgICAgcmV0dXJuICdkYXJrJzsKICAgICAgfQogICAgICByZXR1cm4gJ2xpZ2h0JzsKICAgIH0KICB9LAogIGxvYWRTZXJ2ZXI6IGZ1bmN0aW9uIGxvYWRTZXJ2ZXIoX3JlZjcsIGlnbm9yZUtleSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgX3NlcnZlcjI7CiAgICAgIHZhciBzdGF0ZSwgZGlzcGF0Y2gsIGNvbW1pdCwgcm9vdFN0YXRlLCByb290R2V0dGVycywgc2VydmVyLCBhbGwsIGtleSwgZGVmaW5pdGlvbiwgdmFsdWU7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RhdGUgPSBfcmVmNy5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjcuY29tbWl0LCByb290U3RhdGUgPSBfcmVmNy5yb290U3RhdGUsIHJvb3RHZXR0ZXJzID0gX3JlZjcucm9vdEdldHRlcnM7CiAgICAgICAgICAgIHNlcnZlciA9IHsKICAgICAgICAgICAgICBkYXRhOiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogU1RFVkUuUFJFRkVSRU5DRSwKICAgICAgICAgICAgICBvcHQ6IHsKICAgICAgICAgICAgICAgIHVybDogJ3VzZXJwcmVmZXJlbmNlcycsCiAgICAgICAgICAgICAgICBmb3JjZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHdhdGNoOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBhbGwgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgc2VydmVyID0gYWxsID09PSBudWxsIHx8IGFsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsWzBdOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcHJlZmVyZW5jZXMnLCBfY29udGV4dDMudDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaWYgKChfc2VydmVyMiA9IHNlcnZlcikgIT09IG51bGwgJiYgX3NlcnZlcjIgIT09IHZvaWQgMCAmJiBfc2VydmVyMi5kYXRhKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBpZiAoIShPYmplY3Qua2V5cyhwcmVmc0JlZm9yZUxvZ2luKS5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgT2JqZWN0LmtleXMocHJlZnNCZWZvcmVMb2dpbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgc2VydmVyLmRhdGFba2V5XSA9IHByZWZzQmVmb3JlTG9naW5ba2V5XTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgIHJldHVybiBzZXJ2ZXIuc2F2ZSh7CiAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgLy8gQ2xlYXIgcHJlZnNCZWZvcmVMb2dpbiwgYXMgd2UgaGF2ZSBub3cgc2F2ZWQgdGhlc2VzCiAgICAgICAgICAgIHByZWZzQmVmb3JlTG9naW4gPSB7fTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhzdGF0ZS5kZWZpbml0aW9ucyk7CiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBpZiAoKF9jb250ZXh0My50MiA9IF9jb250ZXh0My50MSgpKS5kb25lKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0MTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBrZXkgPSBfY29udGV4dDMudDIudmFsdWU7CiAgICAgICAgICAgIGRlZmluaXRpb24gPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldOwogICAgICAgICAgICB2YWx1ZSA9IGNsb25lKHNlcnZlci5kYXRhW2tleV0pOwogICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZWZpbml0aW9uLmluaGVyaXRGcm9tKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBjbG9uZShzZXJ2ZXIuZGF0YVtkZWZpbml0aW9uLmluaGVyaXRGcm9tXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCEodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IGlnbm9yZUtleSkpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJjb250aW51ZSIsIDIxKTsKICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgIGlmICghZGVmaW5pdGlvbi5wYXJzZUpTT04pIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjk7CiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzMzsKICAgICAgICAgICAgX2NvbnRleHQzLnQzID0gX2NvbnRleHQzWyJjYXRjaCJdKDI5KTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgcHJlZicsIGtleSwgdmFsdWUsIF9jb250ZXh0My50Myk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiY29udGludWUiLCAyMSk7CiAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5tYW5nbGVSZWFkKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBkZWZpbml0aW9uLm1hbmdsZVJlYWQodmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbW1pdCgnbG9hZCcsIHsKICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHNlcnZlcik7CiAgICAgICAgICBjYXNlIDQyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1syLCA5XSwgWzI5LCAzM11dKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0TGFzdFZpc2l0ZWQ6IGZ1bmN0aW9uIHNldExhc3RWaXNpdGVkKF9yZWY4LCByb3V0ZSkgewogICAgdmFyIHN0YXRlID0gX3JlZjguc3RhdGUsCiAgICAgIGRpc3BhdGNoID0gX3JlZjguZGlzcGF0Y2gsCiAgICAgIGdldHRlcnMgPSBfcmVmOC5nZXR0ZXJzOwogICAgaWYgKCFyb3V0ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gT25seSBzYXZlIHRoZSBsYXN0IHZpc2l0ZWQgcGFnZSBpZiB0aGUgdXNlciBoYXMgdGhhdCBzZXQgYXMgdGhlIGxvZ2luIHJvdXRlIHByZWZlcmVuY2UKICAgIHZhciBhZnRlckxvZ2luUm91dGVQcmVmID0gZ2V0dGVyc1snZ2V0J10oQUZURVJfTE9HSU5fUk9VVEUpOwogICAgdmFyIGRvTm90VHJhY2tMYXN0VmlzaXRlZCA9IHR5cGVvZiBhZnRlckxvZ2luUm91dGVQcmVmICE9PSAnc3RyaW5nJyB8fCBhZnRlckxvZ2luUm91dGVQcmVmICE9PSAnbGFzdC12aXNpdGVkJzsKICAgIGlmIChkb05vdFRyYWNrTGFzdFZpc2l0ZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIHRvU2F2ZSA9IGdldExvZ2luUm91dGUocm91dGUpOwogICAgcmV0dXJuIGRpc3BhdGNoKCdzZXQnLCB7CiAgICAgIGtleTogTEFTVF9WSVNJVEVELAogICAgICB2YWx1ZTogdG9TYXZlCiAgICB9KTsKICB9LAogIHRvZ2dsZVRoZW1lOiBmdW5jdGlvbiB0b2dnbGVUaGVtZShfcmVmOSkgewogICAgdmFyIGdldHRlcnMgPSBfcmVmOS5nZXR0ZXJzLAogICAgICBkaXNwYXRjaCA9IF9yZWY5LmRpc3BhdGNoOwogICAgdmFyIHZhbHVlID0gZ2V0dGVyc1tUSEVNRV0gPT09ICdsaWdodCcgPyAnZGFyaycgOiAnbGlnaHQnOwogICAgcmV0dXJuIGRpc3BhdGNoKCdzZXQnLCB7CiAgICAgIGtleTogVEhFTUUsCiAgICAgIHZhbHVlOiB2YWx1ZQogICAgfSk7CiAgfSwKICBzZXRCcmFuZFN0eWxlOiBmdW5jdGlvbiBzZXRCcmFuZFN0eWxlKF9yZWYxMCkgewogICAgdmFyIHJvb3RTdGF0ZSA9IF9yZWYxMC5yb290U3RhdGUsCiAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjEwLnJvb3RHZXR0ZXJzOwogICAgdmFyIGRhcmsgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgaWYgKHJvb3RTdGF0ZS5tYW5hZ2VtZW50UmVhZHkpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgYnJhbmRTZXR0aW5nID0gcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuU0VUVElORywgU0VUVElORy5CUkFORCk7CiAgICAgICAgaWYgKGJyYW5kU2V0dGluZyAmJiBicmFuZFNldHRpbmcudmFsdWUgJiYgYnJhbmRTZXR0aW5nLnZhbHVlICE9PSAnJykgewogICAgICAgICAgdmFyIGJyYW5kID0gYnJhbmRTZXR0aW5nLnZhbHVlOwogICAgICAgICAgdmFyIGJyYW5kTWV0YSA9IHJlcXVpcmUoIn5zaGVsbC9hc3NldHMvYnJhbmQvIi5jb25jYXQoYnJhbmQsICIvbWV0YWRhdGEuanNvbiIpKTsKICAgICAgICAgIHZhciBoYXNTdHlsZXNoZWV0ID0gYnJhbmRNZXRhLmhhc1N0eWxlc2hlZXQgPT09ICd0cnVlJzsKICAgICAgICAgIGlmIChoYXNTdHlsZXNoZWV0KSB7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChicmFuZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBUT0RPIG9wdGlvbiBhcHBseSBjb2xvciBhdCBydW50aW1lCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChfdW51c2VkKSB7fQogICAgfQogIH0KfTsKZnVuY3Rpb24gZ2V0TG9naW5Sb3V0ZShyb3V0ZSkgewogIHZhciBfcm91dGUkbmFtZTsKICB2YXIgcGFydHMgPSAoKF9yb3V0ZSRuYW1lID0gcm91dGUubmFtZSkgPT09IG51bGwgfHwgX3JvdXRlJG5hbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb3V0ZSRuYW1lLnNwbGl0KCctJykpIHx8IFtdOwogIHZhciBwYXJhbXMgPSB7fTsKICB2YXIgcm91dGVQYXJhbXMgPSByb3V0ZS5wYXJhbXMgfHwge307CgogIC8vIEZpbmQgdGhlICdyZXNvdXJjZScgcGFydCBvZiB0aGUgcm91dGUsIGlmIGl0IGlzIHRoZXJlCiAgdmFyIGluZGV4ID0gcGFydHMuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICByZXR1cm4gcCA9PT0gJ3Jlc291cmNlJzsKICB9KTsKICBpZiAoaW5kZXggPj0gMCkgewogICAgcGFydHMgPSBwYXJ0cy5zbGljZSgwLCBpbmRleCk7CiAgfQoKICAvLyBKdXN0IGtlZXAgdGhlIHBhcmFtcyB0aGF0IGFyZSBuZWVkZWQKICBwYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkgewogICAgaWYgKHJvdXRlUGFyYW1zW3BhcmFtXSkgewogICAgICBwYXJhbXNbcGFyYW1dID0gcm91dGVQYXJhbXNbcGFyYW1dOwogICAgfQogIH0pOwogIHJldHVybiB7CiAgICBuYW1lOiBwYXJ0cy5qb2luKCctJyksCiAgICBwYXJhbXM6IHBhcmFtcwogIH07Cn0="},{"version":3,"names":["SETTING","MANAGEMENT","STEVE","clone","Vue","definitions","prefsBeforeLogin","create","name","def","opt","arguments","length","undefined","parseJSON","asCookie","asUserPreference","options","inheritFrom","mangleRead","mangleWrite","mapPref","get","$store","getters","set","value","dispatch","key","CLUSTER","LAST_NAMESPACE","NAMESPACE_FILTERS","WORKSPACE","EXPANDED_GROUPS","FAVORITE_TYPES","PINNED_CLUSTERS","GROUP_RESOURCES","DIFF","THEME","x","replace","concat","PREFERS_SCHEME","LOCALE","KEYMAP","ROWS_PER_PAGE","LOGS_WRAP","LOGS_TIME","LOGS_RANGE","HIDE_REPOS","HIDE_DESC","HIDE_SENSITIVE","SHOW_PRE_RELEASE","SHOW_CHART_MODE","DATE_FORMAT","TIME_FORMAT","TIME_ZONE","DEV","VIEW_IN_API","ALL_NAMESPACES","THEME_SHORTCUT","LAST_VISITED","SEEN_WHATS_NEW","READ_WHATS_NEW","AFTER_LOGIN_ROUTE","HIDE_HOME_PAGE_CARDS","PLUGIN_DEVELOPER","_RKE1","_RKE2","PROVISIONER","MENU_MAX_CLUSTERS","SCALE_POOL_PROMPT","cookiePrefix","cookieOptions","maxAge","path","sameSite","secure","state","cookiesLoaded","data","definition","Error","user","defaultValue","slice","theme","rootState","rootGetters","setting","pcs","startsWith","substr","afterLoginRoute","afterLoginRoutePref","lastVisitedPref","clusterPref","params","product","cluster","match","clusterId","split","mutations","load","_ref","reset","_state$definitions$ke","setDefinition","_ref2","_ref2$definition","actions","_ref3","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","server","_opt","checkLogin","_server","wrap","_callee$","_context","prev","next","val","_objectSpread","$cookies","toUpperCase","abrupt","sent","JSON","stringify","save","redirectUnauthorized","t0","type","status","stop","setTheme","_ref4","_callee2","_callee2$","_context2","loadCookies","_ref5","loadTheme","_ref6","watchDark","window","matchMedia","watchLight","watchNone","interval","nextHalfHour","Math","round","Date","getTime","setTimeout","matches","changed","fromClock","addListener","e","hour","getHours","loadServer","_ref7","ignoreKey","_callee3","_server2","all","_callee3$","_context3","PREFERENCE","url","force","watch","stream","root","console","error","Object","keys","forEach","t1","t2","done","parse","t3","setLastVisited","_ref8","route","doNotTrackLastVisited","toSave","getLoginRoute","toggleTheme","_ref9","setBrandStyle","_ref10","dark","managementReady","brandSetting","BRAND","brand","brandMeta","require","hasStylesheet","document","body","classList","add","_unused","_route$name","parts","routeParams","index","findIndex","p","param","join"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/store/prefs.js"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT, STEVE } from '@shell/config/types';\nimport { clone } from '@shell/utils/object';\nimport Vue from 'vue';\n\nconst definitions = {};\n/**\n * Key/value of prefrences are stored before login here and cookies due lack of access permission.\n * Once user is logged in while setting asUserPreference, update stored before login Key/value to the backend in loadServer function.\n */\nlet prefsBeforeLogin = {};\n\nexport const create = function(name, def, opt = {}) {\n  const parseJSON = opt.parseJSON === true;\n  const asCookie = opt.asCookie === true;\n  const asUserPreference = opt.asUserPreference !== false;\n  const options = opt.options;\n  const inheritFrom = opt.inheritFrom;\n\n  definitions[name] = {\n    def,\n    options,\n    parseJSON,\n    asCookie,\n    asUserPreference,\n    inheritFrom, // if value is not defined on server, we can default it to another pref\n    mangleRead:  opt.mangleRead, // Alter the value read from the API (to match old Rancher expectations)\n    mangleWrite: opt.mangleWrite, // Alter the value written back to the API (ditto)\n  };\n\n  return name;\n};\n\nexport const mapPref = function(name) {\n  return {\n    get() {\n      return this.$store.getters['prefs/get'](name);\n    },\n\n    set(value) {\n      this.$store.dispatch('prefs/set', { key: name, value });\n    }\n  };\n};\n\n// --------------------\nconst parseJSON = true; // Shortcut for setting it below\nconst asCookie = true; // Store as a cookie so that it's available before auth + on server-side\n\n// Keys must be lowercase and valid dns label (a-z 0-9 -)\nexport const CLUSTER = create('cluster', '');\nexport const LAST_NAMESPACE = create('last-namespace', '');\nexport const NAMESPACE_FILTERS = create('ns-by-cluster', {}, { parseJSON });\nexport const WORKSPACE = create('workspace', '');\nexport const EXPANDED_GROUPS = create('open-groups', ['cluster', 'policy', 'rbac', 'serviceDiscovery', 'storage', 'workload'], { parseJSON });\nexport const FAVORITE_TYPES = create('fav-type', [], { parseJSON });\nexport const PINNED_CLUSTERS = create('pinned-clusters', [], { parseJSON });\nexport const GROUP_RESOURCES = create('group-by', 'namespace');\nexport const DIFF = create('diff', 'unified', { options: ['unified', 'split'] });\nexport const THEME = create('theme', 'auto', {\n  options:     ['light', 'auto', 'dark'],\n  asCookie,\n  parseJSON,\n  mangleRead:  (x) => x.replace(/^ui-/, ''),\n  mangleWrite: (x) => `ui-${ x }`,\n});\nexport const PREFERS_SCHEME = create('pcs', '', { asCookie, asUserPreference: false });\nexport const LOCALE = create('locale', 'en-us', { asCookie });\nexport const KEYMAP = create('keymap', 'sublime', { options: ['sublime', 'emacs', 'vim'] });\nexport const ROWS_PER_PAGE = create('per-page', 100, { options: [10, 25, 50, 100], parseJSON });\nexport const LOGS_WRAP = create('logs-wrap', true, { parseJSON });\nexport const LOGS_TIME = create('logs-time', true, { parseJSON });\nexport const LOGS_RANGE = create('logs-range', '30 minutes', { parseJSON });\nexport const HIDE_REPOS = create('hide-repos', [], { parseJSON });\nexport const HIDE_DESC = create('hide-desc', [], { parseJSON });\nexport const HIDE_SENSITIVE = create('hide-sensitive', true, { options: [true, false], parseJSON });\nexport const SHOW_PRE_RELEASE = create('show-pre-release', false, { options: [false, true], parseJSON });\nexport const SHOW_CHART_MODE = create('chart-mode', 'featured', { parseJSON });\n\nexport const DATE_FORMAT = create('date-format', 'ddd, MMM D YYYY', {\n  options: [\n    'ddd, MMM D YYYY',\n    'ddd, D MMM YYYY',\n    'D/M/YYYY',\n    'M/D/YYYY',\n    'YYYY-MM-DD'\n  ]\n});\n\nexport const TIME_FORMAT = create('time-format', 'h:mm:ss a', {\n  options: [\n    'h:mm:ss a',\n    'HH:mm:ss'\n  ]\n});\n\nexport const TIME_ZONE = create('time-zone', 'local');\n// DEV will be deprecated on v2.7.0, but is needed so that we can grab the value for the new settings that derived from it\n// such as: VIEW_IN_API, ALL_NAMESPACES, THEME_SHORTCUT\nexport const DEV = create('dev', false, { parseJSON });\nexport const VIEW_IN_API = create('view-in-api', false, { parseJSON, inheritFrom: DEV });\nexport const ALL_NAMESPACES = create('all-namespaces', false, { parseJSON, inheritFrom: DEV });\nexport const THEME_SHORTCUT = create('theme-shortcut', false, { parseJSON, inheritFrom: DEV });\nexport const LAST_VISITED = create('last-visited', 'home', { parseJSON });\nexport const SEEN_WHATS_NEW = create('seen-whatsnew', '', { parseJSON });\nexport const READ_WHATS_NEW = create('read-whatsnew', '', { parseJSON });\nexport const AFTER_LOGIN_ROUTE = create('after-login-route', 'home', { parseJSON } );\nexport const HIDE_HOME_PAGE_CARDS = create('home-page-cards', {}, { parseJSON } );\nexport const PLUGIN_DEVELOPER = create('plugin-developer', false, { parseJSON, inheritFrom: DEV }); // Is the user a plugin developer?\n\nexport const _RKE1 = 'rke1';\nexport const _RKE2 = 'rke2';\nexport const PROVISIONER = create('provisioner', _RKE2, { options: [_RKE1, _RKE2] });\n\n// Maximum number of clusters to show in the slide-in menu\nexport const MENU_MAX_CLUSTERS = 10;\n// Prompt for confirm when scaling down node pool in GUI and save the pref\nexport const SCALE_POOL_PROMPT = create('scale-pool-prompt', null, { parseJSON });\n// --------------------\n\nconst cookiePrefix = 'R_';\nconst cookieOptions = {\n  maxAge:   365 * 86400,\n  path:     '/',\n  sameSite: true,\n  secure:   true,\n};\n\nexport const state = function() {\n  return {\n    cookiesLoaded: false,\n    data:          {},\n    definitions,\n  };\n};\n\nexport const getters = {\n  get: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    const user = state.data[key];\n\n    if (user !== undefined) {\n      return clone(user);\n    }\n\n    const def = clone(definition.def);\n\n    return def;\n  },\n\n  defaultValue: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    return clone(definition.def);\n  },\n\n  options: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    if (!definition.options) {\n      throw new Error(`Preference does not have options: ${ key }`);\n    }\n\n    return definition.options.slice();\n  },\n\n  theme: (state, getters, rootState, rootGetters) => {\n    const setting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.THEME);\n\n    if (setting?.value) {\n      return setting?.value;\n    }\n\n    let theme = getters['get'](THEME);\n    const pcs = getters['get'](PREFERS_SCHEME);\n\n    // console.log('Get Theme', theme, pcs);\n\n    // Ember UI uses this prefix\n    if ( theme.startsWith('ui-') ) {\n      theme = theme.substr(3);\n    }\n\n    if ( theme === 'auto' ) {\n      if ( pcs === 'light' || pcs === 'dark' ) {\n        return pcs;\n      }\n\n      return 'dark';\n    }\n\n    return theme;\n  },\n\n  afterLoginRoute: (state, getters) => {\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n\n    if (typeof afterLoginRoutePref !== 'string') {\n      return afterLoginRoutePref;\n    }\n\n    switch (true) {\n    case (afterLoginRoutePref === 'home'):\n      return { name: 'home' };\n    case (afterLoginRoutePref === 'last-visited'): {\n      const lastVisitedPref = getters['get'](LAST_VISITED);\n\n      if (lastVisitedPref) {\n        return lastVisitedPref;\n      }\n      const clusterPref = getters['get'](CLUSTER);\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterPref } };\n    }\n    case (!!afterLoginRoutePref.match(/.+-dashboard$/)):\n    {\n      const clusterId = afterLoginRoutePref.split('-dashboard')[0];\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterId } };\n    }\n    default:\n      return { name: afterLoginRoutePref };\n    }\n  }\n};\n\nexport const mutations = {\n  load(state, { key, value }) {\n    Vue.set(state.data, key, value);\n  },\n\n  cookiesLoaded(state) {\n    state.cookiesLoaded = true;\n  },\n\n  reset(state) {\n    for (const key in state.definitions) {\n      if ( state.definitions[key]?.asCookie ) {\n        continue;\n      }\n      delete state.data[key];\n    }\n  },\n\n  setDefinition(state, { name, definition = {} }) {\n    state.definitions[name] = definition;\n  },\n};\n\nexport const actions = {\n  async set({\n    dispatch, commit, rootGetters, state\n  }, opt) {\n    let { key, value } = opt; // eslint-disable-line prefer-const\n    const definition = state.definitions[key];\n    let server;\n\n    if ( opt.val ) {\n      throw new Error('Use value, not val');\n    }\n\n    commit('load', { key, value });\n\n    if ( definition.asCookie ) {\n      const opt = {\n        ...cookieOptions,\n        parseJSON: definition.parseJSON === true\n      };\n\n      this.$cookies.set(`${ cookiePrefix }${ key }`.toUpperCase(), value, opt);\n    }\n\n    if ( definition.asUserPreference ) {\n      const checkLogin = rootGetters['auth/loggedIn'];\n\n      // Check for login status\n      if (!checkLogin) {\n        prefsBeforeLogin[key] = value;\n\n        return;\n      }\n\n      try {\n        server = await dispatch('loadServer', key); // There's no watch on prefs, so get before set...\n\n        if ( server?.data ) {\n          if ( definition.mangleWrite ) {\n            value = definition.mangleWrite(value);\n          }\n\n          if ( definition.parseJSON ) {\n            Vue.set(server.data, key, JSON.stringify(value));\n          } else {\n            Vue.set(server.data, key, value);\n          }\n\n          await server.save({ redirectUnauthorized: false });\n        }\n      } catch (e) {\n        // Well it failed, but not much to do about it...\n\n        // Return the error\n        return { type: e.type, status: e.status };\n      }\n    }\n  },\n\n  async setTheme({ dispatch }, val) {\n    await dispatch('set', { key: THEME, value: val });\n  },\n\n  loadCookies({ state, commit }) {\n    if ( state.cookiesLoaded ) {\n      return;\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n\n      if ( !definition.asCookie ) {\n        continue;\n      }\n\n      const opt = { parseJSON: definition.parseJSON === true };\n      const value = this.$cookies.get(`${ cookiePrefix }${ key }`.toUpperCase(), opt);\n\n      if (value !== undefined) {\n        commit('load', { key, value });\n      }\n    }\n\n    commit('cookiesLoaded');\n  },\n\n  loadTheme({ dispatch }) {\n    const watchDark = window.matchMedia('(prefers-color-scheme: dark)');\n    const watchLight = window.matchMedia('(prefers-color-scheme: light)');\n    const watchNone = window.matchMedia('(prefers-color-scheme: no-preference)');\n\n    const interval = 30 * 60 * 1000;\n    const nextHalfHour = interval - Math.round(new Date().getTime()) % interval;\n\n    setTimeout(() => {\n      dispatch('loadTheme');\n    }, nextHalfHour);\n    // console.log('Update theme in', nextHalfHour, 'ms');\n\n    if ( watchDark.matches ) {\n      changed('dark');\n    } else if ( watchLight.matches ) {\n      changed('light');\n    } else {\n      changed(fromClock());\n    }\n\n    watchDark.addListener((e) => {\n      if ( e.matches ) {\n        changed('dark');\n      }\n    });\n\n    watchLight.addListener((e) => {\n      if ( e.matches ) {\n        changed('light');\n      }\n    });\n\n    watchNone.addListener((e) => {\n      if ( e.matches ) {\n        changed(fromClock());\n      }\n    });\n\n    function changed(value) {\n      // console.log('Prefers Theme:', value);\n      dispatch('set', { key: PREFERS_SCHEME, value });\n    }\n\n    function fromClock() {\n      const hour = new Date().getHours();\n\n      if ( hour < 7 || hour >= 18 ) {\n        return 'dark';\n      }\n\n      return 'light';\n    }\n  },\n\n  async loadServer( {\n    state, dispatch, commit, rootState, rootGetters\n  }, ignoreKey) {\n    let server = { data: {} };\n\n    try {\n      const all = await dispatch('management/findAll', {\n        type: STEVE.PREFERENCE,\n        opt:  {\n          url:                  'userpreferences',\n          force:                true,\n          watch:                false,\n          redirectUnauthorized: false,\n          stream:               false,\n        }\n      }, { root: true });\n\n      server = all?.[0];\n    } catch (e) {\n      console.error('Error loading preferences', e); // eslint-disable-line no-console\n\n      return;\n    }\n\n    if ( !server?.data ) {\n      return;\n    }\n\n    // if prefsBeforeLogin has values from login page, update the backend\n    if (Object.keys(prefsBeforeLogin).length > 0) {\n      Object.keys(prefsBeforeLogin).forEach((key) => {\n        server.data[key] = prefsBeforeLogin[key];\n      });\n\n      await server.save({ redirectUnauthorized: false });\n\n      // Clear prefsBeforeLogin, as we have now saved theses\n      prefsBeforeLogin = {};\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n      let value = clone(server.data[key]);\n\n      if (value === undefined && definition.inheritFrom) {\n        value = clone(server.data[definition.inheritFrom]);\n      }\n\n      if ( value === undefined || key === ignoreKey) {\n        continue;\n      }\n\n      if ( definition.parseJSON ) {\n        try {\n          value = JSON.parse(value);\n        } catch (err) {\n          console.error('Error parsing server pref', key, value, err); // eslint-disable-line no-console\n          continue;\n        }\n      }\n\n      if ( definition.mangleRead ) {\n        value = definition.mangleRead(value);\n      }\n\n      commit('load', { key, value });\n    }\n\n    return server;\n  },\n\n  setLastVisited({ state, dispatch, getters }, route) {\n    if (!route) {\n      return;\n    }\n\n    // Only save the last visited page if the user has that set as the login route preference\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n    const doNotTrackLastVisited = typeof afterLoginRoutePref !== 'string' || afterLoginRoutePref !== 'last-visited';\n\n    if (doNotTrackLastVisited) {\n      return;\n    }\n\n    const toSave = getLoginRoute(route);\n\n    return dispatch('set', { key: LAST_VISITED, value: toSave });\n  },\n\n  toggleTheme({ getters, dispatch }) {\n    const value = getters[THEME] === 'light' ? 'dark' : 'light';\n\n    return dispatch('set', { key: THEME, value });\n  },\n\n  setBrandStyle({ rootState, rootGetters }, dark = false) {\n    if (rootState.managementReady) {\n      try {\n        const brandSetting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n\n        if (brandSetting && brandSetting.value && brandSetting.value !== '') {\n          const brand = brandSetting.value;\n\n          const brandMeta = require(`~shell/assets/brand/${ brand }/metadata.json`);\n          const hasStylesheet = brandMeta.hasStylesheet === 'true';\n\n          if (hasStylesheet) {\n            document.body.classList.add(brand);\n          } else {\n            // TODO option apply color at runtime\n          }\n        }\n      } catch {}\n    }\n  }\n};\n\nfunction getLoginRoute(route) {\n  let parts = route.name?.split('-') || [];\n  const params = {};\n  const routeParams = route.params || {};\n\n  // Find the 'resource' part of the route, if it is there\n  const index = parts.findIndex((p) => p === 'resource');\n\n  if (index >= 0) {\n    parts = parts.slice(0, index);\n  }\n\n  // Just keep the params that are needed\n  parts.forEach((param) => {\n    if (routeParams[param]) {\n      params[param] = routeParams[param];\n    }\n  });\n\n  return {\n    name: parts.join('-'),\n    params\n  };\n}\n"],"mappings":"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","ignoreList":[]}]}