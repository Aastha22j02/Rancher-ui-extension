{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/auth/RoleDetailEdit.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/auth/RoleDetailEdit.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IE1BTkFHRU1FTlQsIFJCQUMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICdAc2hlbGwvbWl4aW5zL2Zvcm0tdmFsaWRhdGlvbic7CmltcG9ydCBFcnJvciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0Vycm9yJzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VsZWN0JzsKaW1wb3J0IEFycmF5TGlzdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdCc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBfQ0xPTkUsIF9ERVRBSUwgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IFNDT1BFRF9SRVNPVVJDRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3JvbGVzJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgU1VCVFlQRV9NQVBQSU5HLCBWRVJCUyB9IGZyb20gJ0BzaGVsbC9tb2RlbHMvbWFuYWdlbWVudC5jYXR0bGUuaW8ucm9sZXRlbXBsYXRlJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CnZhciBHTE9CQUwgPSBTVUJUWVBFX01BUFBJTkcuR0xPQkFMLmtleTsKdmFyIENMVVNURVIgPSBTVUJUWVBFX01BUFBJTkcuQ0xVU1RFUi5rZXk7CnZhciBOQU1FU1BBQ0UgPSBTVUJUWVBFX01BUFBJTkcuTkFNRVNQQUNFLmtleTsKdmFyIFJCQUNfUk9MRSA9IFNVQlRZUEVfTUFQUElORy5SQkFDX1JPTEUua2V5OwoKLyoqCiAqIEhhbmRsZXMgdGhlIFZpZXcsIENyZWF0ZSBhbmQgRWRpdCBvZgogKiAtIG1hbmFnZW1lbnQuY2F0dGxlLmlvLmdsb2JhbHJvbGUKICogLSBtYW5hZ2VtZW50LmNhdHRsZS5pby5yb2xldGVtcGxhdGUKICogLSByYmFjLmF1dGhvcml6YXRpb24uazhzLmlvLnJvbGUKICogLSByYmFjLmF1dGhvcml6YXRpb24uazhzLmlvLmNsdXN0ZXJyb2xlCiAqCiAqIG1hbmFnZW1lbnQuY2F0dGxlLmlvLnJvbGV0ZW1wbGF0ZSBpcyBmdXJ0aGVyIHNwbGl0IGludG8gdHdvIHR5cGVzCiAqIC0gQ2x1c3RlcgogKiAtIFByb2plY3QvTmFtZXNwYWNlCiAqCiAqIFRoZSBhYm92ZSBtZWFucyB0aGVyZSBhcmUgNCB0eXBlcyA9PT4gNSBzdWJ0eXBlcyBoYW5kbGVkIGJ5IHRoaXMgY29tcG9uZW50CiAqCiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgaW4gdGhlc2UgZml2ZSBmb3JtczoKICoKICogMS4gQ2x1c3RlciBFeHBsb3JlciA+IE1vcmUgUmVzb3VyY2VzID4gUkJBQyA+IENsdXN0ZXJSb2xlcwogKiAgIC0gU2hvdWxkIHNob3cgbGlzdCBvZiBjbHVzdGVyIHNjb3BlZCByZXNvdXJjZXMgYW5kIG5hbWVzcGFjZWQgcmVzb3VyY2VzCiAqIDIuIENsdXN0ZXIgRXhwbG9yZXIgPiBNb3JlIFJlc291cmNlcyA+IFJCQUMgPiBSb2xlcwogKiAgIC0gU2hvdWxkIHNob3cgbGlzdCBvZiBuYW1lc3BhY2VkIHJlc291cmNlcwogKiAzLiBVc2VycyAmIEF1dGhlbnRpY2F0aW9uID4gUm9sZXMgPiBHbG9iYWwKICogICAtIFNob3VsZCBzaG93IGdsb2JhbCwgY2x1c3RlciBhbmQgbmFtZXNwYWNlIHNjb3BlZCByZXNvdXJjZXMKICogNC4gVXNlcnMgJiBBdXRoZW50aWNhdGlvbiA+IFJvbGVzID4gQ2x1c3RlcgogKiAgIC0gU2hvdWxkIHNob3cgY2x1c3RlciBhbmQgbmFtZXNwYWNlIHNjb3BlZCByZXNvdXJjZXMKICogNS4gVXNlcnMgJiBBdXRoZW50aWNhdGlvbiA+IFJvbGVzID4gUHJvamVjdHMgJiBOYW1lc3BhY2VzCiAqICAgLSBTaG91bGQgc2hvdyBvbmx5IG5hbWVzcGFjZSBzY29wZWQgcmVzb3VyY2VzCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0OiBBcnJheUxpc3QsCiAgICBDcnVSZXNvdXJjZTogQ3J1UmVzb3VyY2UsCiAgICBSYWRpb0dyb3VwOiBSYWRpb0dyb3VwLAogICAgU2VsZWN0OiBTZWxlY3QsCiAgICBOYW1lTnNEZXNjcmlwdGlvbjogTmFtZU5zRGVzY3JpcHRpb24sCiAgICBUYWI6IFRhYiwKICAgIFRhYmJlZDogVGFiYmVkLAogICAgU29ydGFibGVUYWJsZTogU29ydGFibGVUYWJsZSwKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBFcnJvcjogRXJyb3IsCiAgICBCYW5uZXI6IEJhbm5lcgogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXcsIEZvcm1WYWxpZGF0aW9uXSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKF90aGlzLnZhbHVlLnN1YnR5cGUgPT09IENMVVNURVIgfHwgX3RoaXMudmFsdWUuc3VidHlwZSA9PT0gTkFNRVNQQUNFKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJtYW5hZ2VtZW50L2ZpbmRBbGwiLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5ST0xFX1RFTVBMQVRFCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBfY29udGV4dC5zZW50LmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7CiAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGhhdmUgcXVpY2sgYWNjZXNzIHRvIGEgc3BlY2lmaWMgdGVtcGxhdGUuIFRoaXMgYWxsb3dzIHVuc2VsZWN0ZWQgZHJvcCBkb3ducyB0byBzaG93IHRoZSBjb3JyZWN0IHZhbHVlCiAgICAgICAgICAgICAgX3RoaXMua2V5ZWRUZW1wbGF0ZU9wdGlvbnNbdGVtcGxhdGUuaWRdID0gewogICAgICAgICAgICAgICAgbGFiZWw6IHRlbXBsYXRlLm5hbWVEaXNwbGF5LAogICAgICAgICAgICAgICAgdmFsdWU6IHRlbXBsYXRlLmlkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzLnRlbXBsYXRlT3B0aW9ucyA9IE9iamVjdC52YWx1ZXMoX3RoaXMua2V5ZWRUZW1wbGF0ZU9wdGlvbnMpOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBpZiAoX3RoaXMucmVhbE1vZGUgPT09IF9DTE9ORSkgewogICAgICAgICAgICAgIF90aGlzLnZhbHVlLmRpc3BsYXlOYW1lID0gJyc7CiAgICAgICAgICAgICAgX3RoaXMudmFsdWUuYnVpbHRpbiA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0UnVsZTogewogICAgICAgIGFwaUdyb3VwczogWycnXSwKICAgICAgICBub25SZXNvdXJjZVVSTHM6IFtdLAogICAgICAgIHJlc291cmNlTmFtZXM6IFtdLAogICAgICAgIHJlc291cmNlczogW10sCiAgICAgICAgdmVyYnM6IFtdCiAgICAgIH0sCiAgICAgIHZlcmJPcHRpb25zOiBWRVJCUywKICAgICAgdGVtcGxhdGVPcHRpb25zOiBbXSwKICAgICAga2V5ZWRUZW1wbGF0ZU9wdGlvbnM6IHt9LAogICAgICByZXNvdXJjZXM6IHRoaXMudmFsdWUucmVzb3VyY2VzLAogICAgICBzY29wZWRSZXNvdXJjZXM6IFNDT1BFRF9SRVNPVVJDRVMsCiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UsCiAgICAgIHNlbGVjdEZvY3VzZWQ6IG51bGwsCiAgICAgIGZ2Rm9ybVJ1bGVTZXRzOiBbewogICAgICAgIHBhdGg6ICdkaXNwbGF5TmFtZScsCiAgICAgICAgcnVsZXM6IFsncmVxdWlyZWQnXQogICAgICB9XQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpcywKICAgICAgX3RoaXMkdmFsdWU7CiAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3J1bGVzJywgdGhpcy52YWx1ZS5ydWxlcyB8fCBbXSk7CiAgICB0aGlzLnZhbHVlLnJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgaWYgKHJ1bGUudmVyYnNbMF0gPT09ICcqJykgewogICAgICAgIF90aGlzMi4kc2V0KHJ1bGUsICd2ZXJicycsIF90b0NvbnN1bWFibGVBcnJheShWRVJCUykpOwogICAgICB9CiAgICB9KTsKICAgIHZhciBxdWVyeSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHJvdXRlLnF1ZXJ5KTsKICAgIHZhciByb2xlQ29udGV4dCA9IHF1ZXJ5LnJvbGVDb250ZXh0OwogICAgaWYgKHJvbGVDb250ZXh0ICYmIHRoaXMudmFsdWUudXBkYXRlU3VidHlwZSkgewogICAgICB0aGlzLnZhbHVlLnVwZGF0ZVN1YnR5cGUocm9sZUNvbnRleHQpOwogICAgfQoKICAgIC8vIFNldCB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIG1hcHBlZCBzdWJ0eXBlCiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9ICEhdGhpcy52YWx1ZVtTVUJUWVBFX01BUFBJTkdbdGhpcy52YWx1ZS5zdWJ0eXBlXS5kZWZhdWx0S2V5XTsKICAgIHN3aXRjaCAodGhpcy52YWx1ZS5zdWJ0eXBlKSB7CiAgICAgIGNhc2UgQ0xVU1RFUjoKICAgICAgY2FzZSBOQU1FU1BBQ0U6CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdyb2xlVGVtcGxhdGVOYW1lcycsIHRoaXMudmFsdWUucm9sZVRlbXBsYXRlTmFtZXMgfHwgW10pOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnbG9ja2VkJywgISF0aGlzLnZhbHVlLmxvY2tlZCk7CiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgLy8gT24gc2F2ZSBob29rIHJlcXVlc3QKICAgIGlmICh0aGlzLnJlZ2lzdGVyQmVmb3JlSG9vaykgewogICAgICB0aGlzLnJlZ2lzdGVyQmVmb3JlSG9vayhmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gTWFwIGRlZmF1bHQgdmFsdWUgYmFjayB0byBpdHMgb3duIGtleSBmb3IgZ2l2ZW4gc3VidHlwZQogICAgICAgIF90aGlzMi52YWx1ZVtTVUJUWVBFX01BUFBJTkdbX3RoaXMyLnZhbHVlLnN1YnR5cGVdLmRlZmF1bHRLZXldID0gISFfdGhpczIuZGVmYXVsdFZhbHVlOwogICAgICB9KTsKICAgIH0KICAgIGlmICgoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSAhPT0gdm9pZCAwICYmIF90aGlzJHZhbHVlLm5hbWUgJiYgIXRoaXMudmFsdWUuZGlzcGxheU5hbWUpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdkaXNwbGF5TmFtZScsIHRoaXMudmFsdWUubWV0YWRhdGEubmFtZSk7CiAgICB9CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi4kZW1pdCgnc2V0LXN1YnR5cGUnLCBfdGhpczIubGFiZWwpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsncmVsZWFzZU5vdGVzVXJsJ10pKSwge30sIHsKICAgIHNob3dSZXN0cmljdGVkQWRtaW5EZXByZWNhdGlvbkJhbm5lcjogZnVuY3Rpb24gc2hvd1Jlc3RyaWN0ZWRBZG1pbkRlcHJlY2F0aW9uQmFubmVyKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJ0eXBlID09PSBHTE9CQUwgJiYgdGhpcy52YWx1ZS5pZCA9PT0gJ3Jlc3RyaWN0ZWQtYWRtaW4nOwogICAgfSwKICAgIGxhYmVsOiBmdW5jdGlvbiBsYWJlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMudCgicmJhYy5yb2xldGVtcGxhdGUuc3VidHlwZXMuIi5jb25jYXQodGhpcy52YWx1ZS5zdWJ0eXBlLCAiLmxhYmVsIikpOwogICAgfSwKICAgIGRlZmF1bHRMYWJlbDogZnVuY3Rpb24gZGVmYXVsdExhYmVsKCkgewogICAgICByZXR1cm4gdGhpcy50KCJyYmFjLnJvbGV0ZW1wbGF0ZS5zdWJ0eXBlcy4iLmNvbmNhdCh0aGlzLnZhbHVlLnN1YnR5cGUsICIuZGVmYXVsdExhYmVsIikpOwogICAgfSwKICAgIGxvY2tlZE9wdGlvbnM6IGZ1bmN0aW9uIGxvY2tlZE9wdGlvbnMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHZhbHVlOiB0cnVlLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ3JiYWMucm9sZXRlbXBsYXRlLmxvY2tlZC55ZXMnKQogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IGZhbHNlLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ3JiYWMucm9sZXRlbXBsYXRlLmxvY2tlZC5ubycpCiAgICAgIH1dOwogICAgfSwKICAgIHJlc291cmNlT3B0aW9uczogZnVuY3Rpb24gcmVzb3VyY2VPcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIG9wdGlvbnMgPSBbXTsKICAgICAgdmFyIHNjb3BlcyA9IE9iamVjdC5rZXlzKHRoaXMuc2NvcGVkUmVzb3VyY2VzKTsKICAgICAgc2NvcGVzLmZvckVhY2goZnVuY3Rpb24gKHNjb3BlKSB7CiAgICAgICAgaWYgKHNjb3BlID09PSAnZ2xvYmFsU2NvcGVkQXBpR3JvdXBzJyAmJiBfdGhpczMudmFsdWUudHlwZSAhPT0gTUFOQUdFTUVOVC5HTE9CQUxfUk9MRSkgewogICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBpbiB0aGUgZ2xvYmFsIHJvbGUgY3JlYXRpb24gZm9ybSwKICAgICAgICAgIC8vIHNraXAgYWRkaW5nIHRoZSBnbG9iYWwtc2NvcGVkIHJlc291cmNlcy4KICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHNjb3BlID09PSAnY2x1c3RlclNjb3BlZEFwaUdyb3VwcycgJiYgKF90aGlzMy52YWx1ZS50eXBlID09PSBSQkFDLlJPTEUgfHwgX3RoaXMzLnZhbHVlLnN1YnR5cGUgPT09IE5BTUVTUEFDRSkpIHsKICAgICAgICAgIC8vIElmIHdlIGFyZSBpbiBhIHByb2plY3QvbmFtZXNwYWNlIHJvbGUgY3JlYXRpb24gZm9ybSwKICAgICAgICAgIC8vIGFkZGl0aW9uYWxseSBza2lwIGFkZGluZyB0aGUgY2x1c3Rlci1zY29wZWQgcmVzb3VyY2VzLgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgYXBpR3JvdXBzSW5TY29wZSA9IF90aGlzMy5zY29wZWRSZXNvdXJjZXNbc2NvcGVdOwogICAgICAgIHZhciBhcGlHcm91cE5hbWVzID0gT2JqZWN0LmtleXMoYXBpR3JvdXBzSW5TY29wZSk7CgogICAgICAgIC8vIFB1dCBlYWNoIEFQSSBncm91cCBhcyBhIGhlYWRlciBhbmQgcHV0IGl0cyByZXNvdXJjZXMgdW5kZXIgaXQuCiAgICAgICAgYXBpR3JvdXBOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChhcGlHcm91cCkgewogICAgICAgICAgLy8gQWRkIEFQSSBncm91cCBhcyB0aGUgaGVhZGVyIGZvciBhIGdyb3VwIG9mIHJlbGF0ZWQgcmVzb3VyY2VzLgogICAgICAgICAgdmFyIGFwaUdyb3VwTGFiZWwgPSBhcGlHcm91cDsKICAgICAgICAgIHZhciBhcGlHcm91cFZhbHVlID0gYXBpR3JvdXA7CiAgICAgICAgICBpZiAoYXBpR3JvdXAgPT09ICdjb3JlS3ViZXJuZXRlc0FwaScpIHsKICAgICAgICAgICAgLy8gSWYgYSByZXNvdXJjZSBiZWxvbmdzIHRvIHRoZSBjb3JlIEt1YmVybmV0ZXMgQVBJLAogICAgICAgICAgICAvLyB0aGUgQVBJIGdyb3VwIGlzIHRlY2huaWNhbGx5IGFuIGVtcHR5IHN0cmluZyBidXQKICAgICAgICAgICAgLy8gd2Ugd2lsbCBsYWJlbCBpdCAiQ29yZSBLOHMgQVBJLCBDbHVzdGVyIFNjb3BlZC4iCgogICAgICAgICAgICAvLyBTb21lIGNvcmUgS3ViZXJuZXRlcyByZXNvdXJjZXMgYXJlIG5hbWVzcGFjZWQsCiAgICAgICAgICAgIC8vIGluIHdoaWNoIGNhc2UgdGhleSBnbyB1bmRlciBhIGRpZmZlcmVudCBoZWFkaW5nCiAgICAgICAgICAgIC8vICJDb3JlIEs4cyBBUEksIE5hbWVzcGFjZWQuIiBUaGlzIGxldHMgdXMKICAgICAgICAgICAgLy8gc2VwYXJhdGUgdGhlbSBieSBzY29wZS4KICAgICAgICAgICAgdmFyIGxhYmVsRm9yTm9BcGlHcm91cCA9IF90aGlzMy50KCdyYmFjLnJvbGV0ZW1wbGF0ZS50YWJzLmdyYW50UmVzb3VyY2VzLm5vQXBpR3JvdXBDbHVzdGVyU2NvcGUnKTsKICAgICAgICAgICAgdmFyIGxhYmVsRm9yTmFtZXNwYWNlZFJlc291cmNlc1dpdGhOb0FwaUdyb3VwID0gX3RoaXMzLnQoJ3JiYWMucm9sZXRlbXBsYXRlLnRhYnMuZ3JhbnRSZXNvdXJjZXMubm9BcGlHcm91cE5hbWVzcGFjZVNjb3BlJyk7CiAgICAgICAgICAgIGFwaUdyb3VwTGFiZWwgPSBzY29wZS5pbmNsdWRlcygnY2x1c3RlcicpID8gbGFiZWxGb3JOb0FwaUdyb3VwIDogbGFiZWxGb3JOYW1lc3BhY2VkUmVzb3VyY2VzV2l0aE5vQXBpR3JvdXA7CiAgICAgICAgICAgIGFwaUdyb3VwVmFsdWUgPSAnJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhcGlHcm91cCA9PT0gJ25ldXZlY3RvckFwaScpIHsKICAgICAgICAgICAgLy8gU29tZSBOZXVWZWN0b3IgcmVzb3VyY2VzIGFyZSBuYW1lc3BhY2VkLCBpbiB3aGljaCBjYXNlIHRoZXkgZ28gdW5kZXIgYSBkaWZmZXJlbnQgaGVhZGluZwogICAgICAgICAgICB2YXIgbGFiZWxGb3JDbHVzdGVyU2NvcGVkID0gX3RoaXMzLnQoJ3JiYWMucm9sZXRlbXBsYXRlLnRhYnMuZ3JhbnRSZXNvdXJjZXMubmV1dmVjdG9yLmxhYmVsQ2x1c3RlclNjb3BlZCcpOwogICAgICAgICAgICB2YXIgbGFiZWxGb3JOYW1lc3BhY2VTY29wZWQgPSBfdGhpczMudCgncmJhYy5yb2xldGVtcGxhdGUudGFicy5ncmFudFJlc291cmNlcy5uZXV2ZWN0b3IubGFiZWxOYW1lc3BhY2VTY29wZWQnKTsKICAgICAgICAgICAgYXBpR3JvdXBMYWJlbCA9IHNjb3BlLmluY2x1ZGVzKCdjbHVzdGVyJykgPyBsYWJlbEZvckNsdXN0ZXJTY29wZWQgOiBsYWJlbEZvck5hbWVzcGFjZVNjb3BlZDsKICAgICAgICAgICAgYXBpR3JvdXBWYWx1ZSA9ICdhcGkubmV1dmVjdG9yLmNvbSc7CiAgICAgICAgICB9CiAgICAgICAgICBvcHRpb25zLnB1c2goewogICAgICAgICAgICBraW5kOiAnZ3JvdXAnLAogICAgICAgICAgICBvcHRpb25LZXk6IGFwaUdyb3VwTGFiZWwsCiAgICAgICAgICAgIGxhYmVsOiBhcGlHcm91cExhYmVsLAogICAgICAgICAgICB2YWx1ZTogYXBpR3JvdXBWYWx1ZSwKICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHJlc291cmNlc0luQXBpR3JvdXAgPSBfdGhpczMuc2NvcGVkUmVzb3VyY2VzW3Njb3BlXVthcGlHcm91cF0ucmVzb3VyY2VzOwoKICAgICAgICAgIC8vIEFkZCBub24tZGVwcmVjYXRlZCByZXNvdXJjZXMgdG8gdGhlIHJlc291cmNlIG9wdGlvbnMgbGlzdAogICAgICAgICAgcmVzb3VyY2VzSW5BcGlHcm91cC5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvdXJjZU5hbWUpIHsKICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICBsYWJlbDogcmVzb3VyY2VOYW1lLAogICAgICAgICAgICAgIC8vIFVzZSB1bmlxdWUga2V5IGZvciByZXNvdXJjZSBsaXN0IGluIHRoZSBTZWxlY3QgZHJvcGRvd24KICAgICAgICAgICAgICBvcHRpb25LZXk6IGFwaUdyb3VwVmFsdWUuY29uY2F0KHJlc291cmNlTmFtZSksCiAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgIHJlc291cmNlTmFtZTogcmVzb3VyY2VOYW1lLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgICAgICBhcGlHcm91cFZhbHVlOiBhcGlHcm91cFZhbHVlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIElmIHRoZSBBUEkgZ3JvdXAgaGFzIGFueSBkZXByZWNhdGVkIG9wdGlvbnMsCiAgICAgICAgICAvLyBsaXN0IHRoZW0gYXMgIlJlc291cmNlIE5hbWUgKGRlcHJlY2F0ZWQpIgogICAgICAgICAgaWYgKF90aGlzMy5zY29wZWRSZXNvdXJjZXNbc2NvcGVdW2FwaUdyb3VwXS5kZXByZWNhdGVkUmVzb3VyY2VzKSB7CiAgICAgICAgICAgIHZhciBkZXByZWNhdGVkUmVzb3VyY2VzSW5BcGlHcm91cCA9IF90aGlzMy5zY29wZWRSZXNvdXJjZXNbc2NvcGVdW2FwaUdyb3VwXS5kZXByZWNhdGVkUmVzb3VyY2VzOwogICAgICAgICAgICB2YXIgZGVwcmVjYXRlZExhYmVsID0gX3RoaXMzLnQoJ3JiYWMucm9sZXRlbXBsYXRlLnRhYnMuZ3JhbnRSZXNvdXJjZXMuZGVwcmVjYXRlZExhYmVsJyk7CiAgICAgICAgICAgIGRlcHJlY2F0ZWRSZXNvdXJjZXNJbkFwaUdyb3VwLmZvckVhY2goZnVuY3Rpb24gKHJlc291cmNlTmFtZSkgewogICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KHJlc291cmNlTmFtZSwgIiAiKS5jb25jYXQoZGVwcmVjYXRlZExhYmVsKSwKICAgICAgICAgICAgICAgIG9wdGlvbktleTogYXBpR3JvdXBWYWx1ZS5jb25jYXQocmVzb3VyY2VOYW1lKSwKICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgIHJlc291cmNlTmFtZTogcmVzb3VyY2VOYW1lLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgICAgICAgIGFwaUdyb3VwVmFsdWU6IGFwaUdyb3VwVmFsdWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvcHRpb25zLnB1c2goewogICAgICAgIC8vIFRoaXMgaGlkZGVuIG9wdGlvbiBpcyB0byB3b3JrIGFyb3VuZCBhIGJ1ZyBpbiB0aGUgU2VsZWN0CiAgICAgICAgLy8gY29tcG9uZW50IHdoZXJlIGFuIG9wdGlvbiBtYXJrZWQgYXMgZGlzYWJsZWQKICAgICAgICAvLyBpcyBzdGlsbCBzZWxlY3RlZCBieSBkZWZhdWx0IGlmIGlzIHZhbHVlIGlzIGFuIGVtcHR5IHN0cmluZy4KCiAgICAgICAgLy8gSW4gdGhlIFJvbGUgb3IgUHJvamVjdCBSb2xlIGZvcm0sIGFuIEFQSSBncm91cCB3aWxsIGJlIHRoZQogICAgICAgIC8vIGRlZmF1bHQgY2hvaWNlIGZvciB0aGUgbmFtZXNwYWNlIHZhbHVlIGJlY2F1c2UgdGhlcmUncyBvbmx5CiAgICAgICAgLy8gb25lIG9wdGlvbiB3aXRoIHRoZSB2YWx1ZSBhcyBhbiBlbXB0eSBzdHJpbmcgYW5kIHRoYXQncyB0aGUgZGVmYXVsdAogICAgICAgIC8vIHZhbHVlIGZvciB0aGUgbmFtZXNwYWNlLiBJdCdzIG5vdCBnb29kIHRvIGhhdmUgYW4gQVBJCiAgICAgICAgLy8gZ3JvdXAgYXMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGEgcmVzb3VyY2UuCiAgICAgICAgLy8gQWRkaW5nIHRoaXMgb3B0aW9uIG1lYW5zIHRoZXJlIGFyZSBsZWFzdCB0d28gdmFsdWVzIHdpdGggYW4KICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaW4gdGhlIG9wdGlvbnMsIHByZXZlbnRpbmcgdGhlIFNlbGVjdCBmcm9tCiAgICAgICAgLy8gc2VsZWN0aW5nIGEgZGlzYWJsZWQgaGVhZGVyIGdyb3VwIGFzIHRoZSByZXNvdXJjZSBieSBkZWZhdWx0LgoKICAgICAgICAvLyBUaGlzIGJ1ZyBpcyBzdWNoIGFuIGVkZ2UgY2FzZSB0aGF0IEkgY2FuJ3QgaW1hZ2luZSBhbnlvbmUKICAgICAgICAvLyBlbHNlIGhpdHRpbmcgaXQsIHNvIEkgZmlndXJlZCB0aGUgd29ya2Fyb3VuZCBpcyBiZXR0ZXIKICAgICAgICAvLyB0aGFuIGZpeGluZyB0aGUgc2VsZWN0LgogICAgICAgIGtpbmQ6ICdncm91cCcsCiAgICAgICAgb3B0aW9uS2V5OiAnaGlkZGVuT3B0aW9uJywKICAgICAgICBsYWJlbDogJ18nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBkaXNhYmxlZDogdHJ1ZQogICAgICB9KTsKICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICB9LAogICAgbmV3VXNlckRlZmF1bHRPcHRpb25zOiBmdW5jdGlvbiBuZXdVc2VyRGVmYXVsdE9wdGlvbnMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHZhbHVlOiB0cnVlLAogICAgICAgIGxhYmVsOiB0aGlzLnQoInJiYWMucm9sZXRlbXBsYXRlLnN1YnR5cGVzLiIuY29uY2F0KHRoaXMudmFsdWUuc3VidHlwZSwgIi55ZXMiKSkKICAgICAgfSwgewogICAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgICBsYWJlbDogdGhpcy50KCdyYmFjLnJvbGV0ZW1wbGF0ZS5uZXdVc2VyRGVmYXVsdC5ubycpCiAgICAgIH1dOwogICAgfSwKICAgIGlzUmFuY2hlclJvbGVUZW1wbGF0ZTogZnVuY3Rpb24gaXNSYW5jaGVyUm9sZVRlbXBsYXRlKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJ0eXBlID09PSBDTFVTVEVSIHx8IHRoaXMudmFsdWUuc3VidHlwZSA9PT0gTkFNRVNQQUNFOwogICAgfSwKICAgIGlzTmFtZXNwYWNlZDogZnVuY3Rpb24gaXNOYW1lc3BhY2VkKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJ0eXBlID09PSBSQkFDX1JPTEU7CiAgICB9LAogICAgaXNSYW5jaGVyVHlwZTogZnVuY3Rpb24gaXNSYW5jaGVyVHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3VidHlwZSA9PT0gR0xPQkFMIHx8IHRoaXMudmFsdWUuc3VidHlwZSA9PT0gQ0xVU1RFUiB8fCB0aGlzLnZhbHVlLnN1YnR5cGUgPT09IE5BTUVTUEFDRTsKICAgIH0sCiAgICBpc0RldGFpbDogZnVuY3Rpb24gaXNEZXRhaWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmFzID09PSBfREVUQUlMOwogICAgfSwKICAgIGlzQnVpbHRpbjogZnVuY3Rpb24gaXNCdWlsdGluKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5idWlsdGluOwogICAgfSwKICAgIGRvbmVMb2NhdGlvbk92ZXJyaWRlOiBmdW5jdGlvbiBkb25lTG9jYXRpb25PdmVycmlkZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGlzdExvY2F0aW9uOwogICAgfSwKICAgIHJ1bGVDbGFzczogZnVuY3Rpb24gcnVsZUNsYXNzKCkgewogICAgICByZXR1cm4gImNvbCAiLmNvbmNhdCh0aGlzLmlzTmFtZXNwYWNlZCA/ICdzcGFuLTQnIDogJ3NwYW4tMycpOwogICAgfSwKICAgIC8vIERldGFpbCBWaWV3CiAgICBydWxlczogZnVuY3Rpb24gcnVsZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJ1bGVzKHRoaXMudmFsdWUpOwogICAgfSwKICAgIHJ1bGVIZWFkZXJzOiBmdW5jdGlvbiBydWxlSGVhZGVycygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciB2ZXJiSGVhZGVycyA9IFZFUkJTLm1hcChmdW5jdGlvbiAodmVyYikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiB2ZXJiLAogICAgICAgICAga2V5OiB1Y0ZpcnN0KHZlcmIpLAogICAgICAgICAgdmFsdWU6IF90aGlzNC52ZXJiS2V5KHZlcmIpLAogICAgICAgICAgZm9ybWF0dGVyOiAnQ2hlY2tlZCcsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicKICAgICAgICB9OwogICAgICB9KTsKICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmVyYkhlYWRlcnMpLCBbewogICAgICAgIG5hbWU6ICdjdXN0b20nLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLmN1c3RvbVZlcmJzJywKICAgICAgICBrZXk6IHVjRmlyc3QoJ2N1c3RvbScpLAogICAgICAgIHZhbHVlOiAnaGFzQ3VzdG9tVmVyYnMnLAogICAgICAgIGZvcm1hdHRlcjogJ0NoZWNrZWQnLAogICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3Jlc291cmNlcycsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMucmVzb3VyY2VzJywKICAgICAgICB2YWx1ZTogJ3Jlc291cmNlcycsCiAgICAgICAgZm9ybWF0dGVyOiAnbGlzdCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICd1cmwnLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnVybCcsCiAgICAgICAgdmFsdWU6ICdub25SZXNvdXJjZVVSTHMnLAogICAgICAgIGZvcm1hdHRlcjogJ2xpc3QnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnYXBpR3JvdXBzJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5hcGlHcm91cCcsCiAgICAgICAgdmFsdWU6ICdhcGlHcm91cHMnLAogICAgICAgIGZvcm1hdHRlcjogJ2xpc3QnCiAgICAgIH1dKTsKICAgIH0sCiAgICBpbmhlcml0ZWRSdWxlczogZnVuY3Rpb24gaW5oZXJpdGVkUnVsZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUluaGVyaXRlZFJ1bGVzKHRoaXMudmFsdWUsIFtdLCBmYWxzZSk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgc2V0UnVsZTogZnVuY3Rpb24gc2V0UnVsZShrZXksIHJ1bGUsIGV2ZW50KSB7CiAgICAgIC8vIFRoZSBrZXkgaXMgdGhlIGFzcGVjdCBvZiBhIHBlcm1pc3Npb25zIHJ1bGUKICAgICAgLy8gdGhhdCBpcyBiZWluZyBzZXQsIGZvciBleGFtcGxlLCAidmVyYnMsIiAicmVzb3VyY2VzIiwKICAgICAgLy8gImFwaUdyb3VwcyIgb3IgIm5vblJlc291cmNlVXJscy4iCgogICAgICAvLyBUaGUgZXZlbnQvdmFsdWUgY29udGFpbnMgbmFtZSBvZiBhIHJlc291cmNlLAogICAgICAvLyBmb3IgZXhhbXBsZSwgIkFwcHMuIgoKICAgICAgLy8gVGhlICdydWxlJyBjb250YWlucyB0aGUgdGhlIGNvbnRlbnRzIG9mIGVhY2ggcm93IG9mIHRoZQogICAgICAvLyByb2xlIGNyZWF0aW9uIGZvcm0gdW5kZXIgR3JhbnQgUmVzb3VyY2VzLiBFYWNoCiAgICAgIC8vIHJ1bGUgY29udGFpbnMgdGhlc2UgZmllbGRzOgogICAgICAvLyAtIGFwaUdyb3VwcwogICAgICAvLyAtIG5vblJlc291cmNlVVJMcwogICAgICAvLyAtIHJlc291cmNlTmFtZXMKICAgICAgLy8gLSByZXNvdXJjZXMKICAgICAgLy8gLSB2ZXJicwoKICAgICAgc3dpdGNoIChrZXkpIHsKICAgICAgICBjYXNlICdhcGlHcm91cHMnOgogICAgICAgICAgaWYgKGV2ZW50IHx8IGV2ZW50ID09PSAnJykgewogICAgICAgICAgICB0aGlzLiRzZXQocnVsZSwgJ2FwaUdyb3VwcycsIFtldmVudF0pOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAndmVyYnMnOgogICAgICAgICAgaWYgKGV2ZW50KSB7CiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAndmVyYnMnLCBbZXZlbnRdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAndmVyYnMnLCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdyZXNvdXJjZXMnOgogICAgICAgICAgaWYgKGV2ZW50ICE9PSBudWxsICYmIGV2ZW50ICE9PSB2b2lkIDAgJiYgZXZlbnQucmVzb3VyY2VOYW1lKSB7CiAgICAgICAgICAgIC8vIElmIHdlIGFyZSB1cGRhdGluZyB0aGUgcmVzb3VyY2VzIGRlZmluZWQgaW4gYSBydWxlLAogICAgICAgICAgICAvLyB0aGUgZXZlbnQgd2lsbCBiZSBhbiBvYmplY3Qgd2l0aCB0aGUKICAgICAgICAgICAgLy8gcHJvcGVydGllcyBhcGlHcm91cFZhbHVlIGFuZCByZXNvdXJjZU5hbWUuCiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAncmVzb3VyY2VzJywgW2V2ZW50LnJlc291cmNlTmFtZV0pOwogICAgICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IGZpbGwgaW4gdGhlIEFQSSBncm91cCBvZiB0aGUKICAgICAgICAgICAgLy8gc2VsZWN0ZWQgcmVzb3VyY2UuCiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAnYXBpR3JvdXBzJywgW2V2ZW50LmFwaUdyb3VwVmFsdWVdKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgIT09IG51bGwgJiYgZXZlbnQgIT09IHZvaWQgMCAmJiBldmVudC5sYWJlbCkgewogICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGNyZWF0ZXMgYSBuZXcgcmVzb3VyY2UgbmFtZSBpbiB0aGUgcmVzb3VyY2UKICAgICAgICAgICAgLy8gZmllbGQgaW5zdGVhZCBvZiBzZWxlY3RpbmcgYW4gZXhpc3Rpbmcgb25lLAogICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIHRyZWF0IHRoYXQgZGlmZmVyZW50bHkgYmVjYXVzZSB0aGUgaW5jb21pbmcgZXZlbnQKICAgICAgICAgICAgLy8gaXMgc2hhcGVkIGxpa2UgeyJsYWJlbCI6InNvbWV0aGluZyJ9IGluc3RlYWQgb2YKICAgICAgICAgICAgLy8gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBvdGhlciBvcHRpb25zOgogICAgICAgICAgICAvLyB7IHJlc291cmNlTmFtZTogInNvbWV0aGluZyIsIGFwaUdyb3VwVmFsdWU6ICIiIH0KICAgICAgICAgICAgdGhpcy4kc2V0KHJ1bGUsICdyZXNvdXJjZXMnLCBbZXZlbnQubGFiZWxdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAncmVzb3VyY2VzJywgW10pOwogICAgICAgICAgICB0aGlzLiRzZXQocnVsZSwgJ2FwaUdyb3VwcycsIFtdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ25vblJlc291cmNlVVJMcyc6CiAgICAgICAgICBpZiAoZXZlbnQpIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHJ1bGUsICdub25SZXNvdXJjZVVSTHMnLCBbZXZlbnRdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHNldChydWxlLCAnbm9uUmVzb3VyY2VVUkxzJywgW10pOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgZ2V0UnVsZTogZnVuY3Rpb24gZ2V0UnVsZShrZXksIHJ1bGUpIHsKICAgICAgdmFyIF9ydWxlJGtleTsKICAgICAgcmV0dXJuICgoX3J1bGUka2V5ID0gcnVsZVtrZXldKSA9PT0gbnVsbCB8fCBfcnVsZSRrZXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ydWxlJGtleVswXSkgfHwgbnVsbDsKICAgIH0sCiAgICB1cGRhdGVTZWxlY3RWYWx1ZTogZnVuY3Rpb24gdXBkYXRlU2VsZWN0VmFsdWUocm93LCBrZXksIGV2ZW50KSB7CiAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LmxhYmVsID8gZXZlbnQudmFsdWUgOiBldmVudDsKICAgICAgdGhpcy4kc2V0KHJvdywga2V5LCB2YWx1ZSk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuZG9uZSgpOwogICAgfSwKICAgIGFjdHVhbGx5U2F2ZTogZnVuY3Rpb24gYWN0dWFsbHlTYXZlKHVybCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzNSR2YWx1ZSRydWxlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggYWxsIG9mIHRoZSBncnVsZXMgYW5kIHJlcGxhY2UgZG91YmxlIHF1b3RlIGFwaUdyb3VwcwogICAgICAgICAgICAgIC8vIGs4UyBkb2N1bWVudGF0aW9uIHNob3dzIHVzaW5nIGVtcHR5IHJ1bGVzIGFzICIiIC0gd2UgY2hhbmdlIHRoaXMgdG8gZW1wdHkgc3RyaW5nIHdoZW4gdXNlZAogICAgICAgICAgICAgIChfdGhpczUkdmFsdWUkcnVsZXMgPSBfdGhpczUudmFsdWUucnVsZXMpID09PSBudWxsIHx8IF90aGlzNSR2YWx1ZSRydWxlcyA9PT0gdm9pZCAwIHx8IF90aGlzNSR2YWx1ZSRydWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChydWxlKSB7CiAgICAgICAgICAgICAgICBpZiAocnVsZS5hcGlHcm91cHMpIHsKICAgICAgICAgICAgICAgICAgcnVsZS5hcGlHcm91cHMgPSBydWxlLmFwaUdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGdyb3VwIGlzIHR3byBkb3VibGUgcXVvdGVzICgiIikgcmVwbGFjZSBpZiB3aXRoIGVtcHR5IHN0cmluZwogICAgICAgICAgICAgICAgICAgIGlmIChncm91cC50cmltKCkgPT09ICdcIlwiJykgewogICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSAnJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoIV90aGlzNS5pc0NyZWF0ZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHVybCA9IHVybCB8fCBfdGhpczUuc2NoZW1hLmxpbmtGb3IoJ2NvbGxlY3Rpb24nKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS52YWx1ZS5zYXZlKHsKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS52YWx1ZS5zYXZlKHsKICAgICAgICAgICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBEZXRhaWwgVmlldwogICAgdmVyYktleTogZnVuY3Rpb24gdmVyYktleSh2ZXJiKSB7CiAgICAgIHJldHVybiAiaGFzIi5jb25jYXQodWNGaXJzdCh2ZXJiKSk7CiAgICB9LAogICAgY3JlYXRlUnVsZXM6IGZ1bmN0aW9uIGNyZWF0ZVJ1bGVzKHJvbGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiAocm9sZS5ydWxlcyB8fCBbXSkubWFwKGZ1bmN0aW9uIChydWxlLCBpKSB7CiAgICAgICAgdmFyIHRhYmxlUnVsZSA9IHsKICAgICAgICAgIGluZGV4OiBpLAogICAgICAgICAgYXBpR3JvdXBzOiBydWxlLmFwaUdyb3VwcyB8fCBbJyddLAogICAgICAgICAgcmVzb3VyY2VzOiBydWxlLnJlc291cmNlcyB8fCBbXSwKICAgICAgICAgIG5vblJlc291cmNlVVJMczogcnVsZS5ub25SZXNvdXJjZVVSTHMgfHwgW10KICAgICAgICB9OwogICAgICAgIFZFUkJTLmZvckVhY2goZnVuY3Rpb24gKHZlcmIpIHsKICAgICAgICAgIHZhciBrZXkgPSBfdGhpczYudmVyYktleSh2ZXJiKTsKICAgICAgICAgIHRhYmxlUnVsZVtrZXldID0gcnVsZS52ZXJic1swXSA9PT0gJyonIHx8IHJ1bGUudmVyYnMuaW5jbHVkZXModmVyYik7CiAgICAgICAgICB0YWJsZVJ1bGUuaGFzQ3VzdG9tVmVyYnMgPSBydWxlLnZlcmJzLnNvbWUoZnVuY3Rpb24gKHZlcmIpIHsKICAgICAgICAgICAgcmV0dXJuICFWRVJCUy5pbmNsdWRlcyh2ZXJiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0YWJsZVJ1bGU7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZUluaGVyaXRlZFJ1bGVzOiBmdW5jdGlvbiBjcmVhdGVJbmhlcml0ZWRSdWxlcyhwYXJlbnQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICB2YXIgc2hvd1BhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgaWYgKCFwYXJlbnQucm9sZVRlbXBsYXRlTmFtZXMpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgcGFyZW50LnJvbGVUZW1wbGF0ZU5hbWVzLm1hcChmdW5jdGlvbiAocnRuKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9ieUlkIl0oTUFOQUdFTUVOVC5ST0xFX1RFTVBMQVRFLCBydG4pOwogICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChydCkgewogICAgICAgIC8vIEFkZCBTZWxmCiAgICAgICAgcmVzLnB1c2goewogICAgICAgICAgc2hvd1BhcmVudDogc2hvd1BhcmVudCwKICAgICAgICAgIHBhcmVudDogcGFyZW50LAogICAgICAgICAgdGVtcGxhdGU6IHJ0LAogICAgICAgICAgcnVsZXM6IF90aGlzNy5jcmVhdGVSdWxlcyhydCkKICAgICAgICB9KTsKICAgICAgICAvLyBBZGQgaW5oZXJpdGVkCiAgICAgICAgX3RoaXM3LmNyZWF0ZUluaGVyaXRlZFJ1bGVzKHJ0LCByZXMpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlczsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","MANAGEMENT","RBAC","CruResource","CreateEditView","FormValidation","Error","RadioGroup","Select","ArrayList","NameNsDescription","Tab","Tabbed","ucFirst","SortableTable","_CLONE","_DETAIL","SCOPED_RESOURCES","Banner","SUBTYPE_MAPPING","VERBS","Loading","GLOBAL","key","CLUSTER","NAMESPACE","RBAC_ROLE","components","mixins","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","value","subtype","$store","dispatch","type","ROLE_TEMPLATE","sent","forEach","template","keyedTemplateOptions","id","label","nameDisplay","templateOptions","Object","values","realMode","displayName","builtin","stop","data","defaultRule","apiGroups","nonResourceURLs","resourceNames","resources","verbs","verbOptions","scopedResources","defaultValue","selectFocused","fvFormRuleSets","path","rules","created","_this2","_this$value","$set","rule","_toConsumableArray","query","_objectSpread","$route","roleContext","updateSubtype","defaultKey","roleTemplateNames","locked","registerBeforeHook","metadata","name","$nextTick","$emit","computed","showRestrictedAdminDeprecationBanner","t","concat","defaultLabel","lockedOptions","resourceOptions","_this3","options","scopes","keys","scope","GLOBAL_ROLE","ROLE","apiGroupsInScope","apiGroupNames","apiGroup","apiGroupLabel","apiGroupValue","labelForNoApiGroup","labelForNamespacedResourcesWithNoApiGroup","includes","labelForClusterScoped","labelForNamespaceScoped","push","kind","optionKey","disabled","resourcesInApiGroup","resourceName","toLowerCase","deprecatedResources","deprecatedResourcesInApiGroup","deprecatedLabel","newUserDefaultOptions","isRancherRoleTemplate","isNamespaced","isRancherType","isDetail","as","isBuiltin","doneLocationOverride","listLocation","ruleClass","createRules","ruleHeaders","_this4","verbHeaders","map","verb","verbKey","formatter","align","labelKey","inheritedRules","createInheritedRules","methods","setRule","event","getRule","_rule$key","updateSelectValue","row","cancel","done","actuallySave","url","_this5","_callee2","_this5$value$rules","_callee2$","_context2","group","trim","isCreate","schema","linkFor","save","redirectUnauthorized","role","_this6","i","tableRule","index","hasCustomVerbs","some","parent","_this7","res","arguments","length","undefined","showParent","rtn","getters","rt"],"sources":["node_modules/@rancher/shell/components/auth/RoleDetailEdit.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { MANAGEMENT, RBAC } from '@shell/config/types';\nimport CruResource from '@shell/components/CruResource';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\nimport Error from '@shell/components/form/Error';\nimport { RadioGroup } from '@components/Form/Radio';\nimport Select from '@shell/components/form/Select';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { ucFirst } from '@shell/utils/string';\nimport SortableTable from '@shell/components/SortableTable';\nimport { _CLONE, _DETAIL } from '@shell/config/query-params';\nimport { SCOPED_RESOURCES } from '@shell/config/roles';\nimport { Banner } from '@components/Banner';\n\nimport { SUBTYPE_MAPPING, VERBS } from '@shell/models/management.cattle.io.roletemplate';\nimport Loading from '@shell/components/Loading';\n\nconst GLOBAL = SUBTYPE_MAPPING.GLOBAL.key;\nconst CLUSTER = SUBTYPE_MAPPING.CLUSTER.key;\nconst NAMESPACE = SUBTYPE_MAPPING.NAMESPACE.key;\nconst RBAC_ROLE = SUBTYPE_MAPPING.RBAC_ROLE.key;\n\n/**\n * Handles the View, Create and Edit of\n * - management.cattle.io.globalrole\n * - management.cattle.io.roletemplate\n * - rbac.authorization.k8s.io.role\n * - rbac.authorization.k8s.io.clusterrole\n *\n * management.cattle.io.roletemplate is further split into two types\n * - Cluster\n * - Project/Namespace\n *\n * The above means there are 4 types ==> 5 subtypes handled by this component\n *\n * This component is used in these five forms:\n *\n * 1. Cluster Explorer > More Resources > RBAC > ClusterRoles\n *   - Should show list of cluster scoped resources and namespaced resources\n * 2. Cluster Explorer > More Resources > RBAC > Roles\n *   - Should show list of namespaced resources\n * 3. Users & Authentication > Roles > Global\n *   - Should show global, cluster and namespace scoped resources\n * 4. Users & Authentication > Roles > Cluster\n *   - Should show cluster and namespace scoped resources\n * 5. Users & Authentication > Roles > Projects & Namespaces\n *   - Should show only namespace scoped resources\n */\nexport default {\n  components: {\n    ArrayList,\n    CruResource,\n    RadioGroup,\n    Select,\n    NameNsDescription,\n    Tab,\n    Tabbed,\n    SortableTable,\n    Loading,\n    Error,\n    Banner\n  },\n\n  mixins: [CreateEditView, FormValidation],\n\n  async fetch() {\n    // We don't want to get all schemas from the cluster because there are\n    // two problems with that:\n    // - In the local cluster, that yields over 500-1,000 schemas, most of which aren't meant to\n    //   be edited by humans.\n    // - Populating the list directly from the schemas wouldn't include resources that may\n    //   be in downstream clusters but not the local cluster. For example, if the logging\n    //   application isn't installed in the local cluster, you wouldn't see logging resources\n    //   such as Flows in the resource list, which you might want in order to\n    //   create a role that is intended to be used by someone with access to a cluster where\n    //   logging is installed.\n    // Therefore we use a hardcoded list that is essentially intended\n    // to be in-app documentation for convenience only, while allowing\n    // users to freely type in resources that are not shown in the list.\n\n    if (this.value.subtype === CLUSTER || this.value.subtype === NAMESPACE) {\n      (await this.$store.dispatch(`management/findAll`, { type: MANAGEMENT.ROLE_TEMPLATE })).forEach((template) => {\n        // Ensure we have quick access to a specific template. This allows unselected drop downs to show the correct value\n        this.keyedTemplateOptions[template.id] = {\n          label: template.nameDisplay,\n          value: template.id\n        };\n      });\n      this.templateOptions = Object.values(this.keyedTemplateOptions);\n    }\n    if (this.realMode === _CLONE) {\n      this.value.displayName = '';\n      this.value.builtin = false;\n    }\n  },\n\n  data() {\n    return {\n      defaultRule: {\n        apiGroups:       [''],\n        nonResourceURLs: [],\n        resourceNames:   [],\n        resources:       [],\n        verbs:           []\n      },\n      verbOptions:          VERBS,\n      templateOptions:      [],\n      keyedTemplateOptions: {},\n      resources:            this.value.resources,\n      scopedResources:      SCOPED_RESOURCES,\n      defaultValue:         false,\n      selectFocused:        null,\n      fvFormRuleSets:       [\n        { path: 'displayName', rules: ['required'] }\n      ],\n    };\n  },\n\n  created() {\n    this.$set(this.value, 'rules', this.value.rules || []);\n    this.value.rules.forEach((rule) => {\n      if (rule.verbs[0] === '*') {\n        this.$set(rule, 'verbs', [...VERBS]);\n      }\n    });\n\n    const query = { ...this.$route.query };\n    const { roleContext } = query;\n\n    if (roleContext && this.value.updateSubtype) {\n      this.value.updateSubtype(roleContext);\n    }\n\n    // Set the default value for the mapped subtype\n    this.defaultValue = !!this.value[SUBTYPE_MAPPING[this.value.subtype].defaultKey];\n\n    switch (this.value.subtype) {\n    case CLUSTER:\n    case NAMESPACE:\n      this.$set(this.value, 'roleTemplateNames', this.value.roleTemplateNames || []);\n      this.$set(this.value, 'locked', !!this.value.locked);\n      break;\n    }\n\n    // On save hook request\n    if (this.registerBeforeHook) {\n      this.registerBeforeHook(() => {\n        // Map default value back to its own key for given subtype\n        this.value[SUBTYPE_MAPPING[this.value.subtype].defaultKey] = !!this.defaultValue;\n      });\n    }\n\n    if (this.value?.metadata?.name && !this.value.displayName) {\n      this.$set(this.value, 'displayName', this.value.metadata.name);\n    }\n\n    this.$nextTick(() => {\n      this.$emit('set-subtype', this.label);\n    });\n  },\n\n  computed: {\n    ...mapGetters(['releaseNotesUrl']),\n\n    showRestrictedAdminDeprecationBanner() {\n      return this.value.subtype === GLOBAL && this.value.id === 'restricted-admin';\n    },\n\n    label() {\n      return this.t(`rbac.roletemplate.subtypes.${ this.value.subtype }.label`);\n    },\n    defaultLabel() {\n      return this.t(`rbac.roletemplate.subtypes.${ this.value.subtype }.defaultLabel`);\n    },\n    lockedOptions() {\n      return [\n        {\n          value: true,\n          label: this.t('rbac.roletemplate.locked.yes')\n        },\n        {\n          value: false,\n          label: this.t('rbac.roletemplate.locked.no')\n        }\n      ];\n    },\n    resourceOptions() {\n      const options = [];\n\n      const scopes = Object.keys(this.scopedResources);\n\n      scopes.forEach((scope) => {\n        if (scope === 'globalScopedApiGroups' && this.value.type !== MANAGEMENT.GLOBAL_ROLE) {\n          // If we are not in the global role creation form,\n          // skip adding the global-scoped resources.\n          return;\n        }\n        if (scope === 'clusterScopedApiGroups' && (this.value.type === RBAC.ROLE || this.value.subtype === NAMESPACE)) {\n          // If we are in a project/namespace role creation form,\n          // additionally skip adding the cluster-scoped resources.\n          return;\n        }\n        const apiGroupsInScope = this.scopedResources[scope];\n\n        const apiGroupNames = Object.keys(apiGroupsInScope);\n\n        // Put each API group as a header and put its resources under it.\n        apiGroupNames.forEach((apiGroup) => {\n          // Add API group as the header for a group of related resources.\n          let apiGroupLabel = apiGroup;\n          let apiGroupValue = apiGroup;\n\n          if (apiGroup === 'coreKubernetesApi') {\n            // If a resource belongs to the core Kubernetes API,\n            // the API group is technically an empty string but\n            // we will label it \"Core K8s API, Cluster Scoped.\"\n\n            // Some core Kubernetes resources are namespaced,\n            // in which case they go under a different heading\n            // \"Core K8s API, Namespaced.\" This lets us\n            // separate them by scope.\n            const labelForNoApiGroup = this.t('rbac.roletemplate.tabs.grantResources.noApiGroupClusterScope');\n            const labelForNamespacedResourcesWithNoApiGroup = this.t('rbac.roletemplate.tabs.grantResources.noApiGroupNamespaceScope');\n\n            apiGroupLabel = scope.includes('cluster') ? labelForNoApiGroup : labelForNamespacedResourcesWithNoApiGroup;\n            apiGroupValue = '';\n          }\n\n          if (apiGroup === 'neuvectorApi') {\n            // Some NeuVector resources are namespaced, in which case they go under a different heading\n            const labelForClusterScoped = this.t('rbac.roletemplate.tabs.grantResources.neuvector.labelClusterScoped');\n            const labelForNamespaceScoped = this.t('rbac.roletemplate.tabs.grantResources.neuvector.labelNamespaceScoped');\n\n            apiGroupLabel = scope.includes('cluster') ? labelForClusterScoped : labelForNamespaceScoped;\n            apiGroupValue = 'api.neuvector.com';\n          }\n\n          options.push({\n            kind:      'group',\n            optionKey: apiGroupLabel,\n            label:     apiGroupLabel,\n            value:     apiGroupValue,\n            disabled:  true,\n          });\n\n          const resourcesInApiGroup = this.scopedResources[scope][apiGroup].resources;\n\n          // Add non-deprecated resources to the resource options list\n          resourcesInApiGroup.forEach((resourceName) => {\n            options.push({\n              label:     resourceName,\n              // Use unique key for resource list in the Select dropdown\n              optionKey: apiGroupValue.concat(resourceName),\n              value:     {\n                resourceName: resourceName.toLowerCase(),\n                apiGroupValue\n              }\n            });\n          });\n\n          // If the API group has any deprecated options,\n          // list them as \"Resource Name (deprecated)\"\n          if (this.scopedResources[scope][apiGroup].deprecatedResources) {\n            const deprecatedResourcesInApiGroup = this.scopedResources[scope][apiGroup].deprecatedResources;\n            const deprecatedLabel = this.t('rbac.roletemplate.tabs.grantResources.deprecatedLabel');\n\n            deprecatedResourcesInApiGroup.forEach((resourceName) => {\n              options.push({\n                label:     `${ resourceName } ${ deprecatedLabel }`,\n                optionKey: apiGroupValue.concat(resourceName),\n                value:     {\n                  resourceName: resourceName.toLowerCase(),\n                  apiGroupValue\n                }\n              });\n            });\n          }\n        });\n      });\n\n      options.push({\n        // This hidden option is to work around a bug in the Select\n        // component where an option marked as disabled\n        // is still selected by default if is value is an empty string.\n\n        // In the Role or Project Role form, an API group will be the\n        // default choice for the namespace value because there's only\n        // one option with the value as an empty string and that's the default\n        // value for the namespace. It's not good to have an API\n        // group as the default value for a resource.\n        // Adding this option means there are least two values with an\n        // empty string in the options, preventing the Select from\n        // selecting a disabled header group as the resource by default.\n\n        // This bug is such an edge case that I can't imagine anyone\n        // else hitting it, so I figured the workaround is better\n        // than fixing the select.\n        kind:      'group',\n        optionKey: 'hiddenOption',\n        label:     '_',\n        value:     '',\n        disabled:  true,\n      });\n\n      return options;\n    },\n\n    newUserDefaultOptions() {\n      return [\n        {\n          value: true,\n          label: this.t(`rbac.roletemplate.subtypes.${ this.value.subtype }.yes`)\n        },\n        {\n          value: false,\n          label: this.t('rbac.roletemplate.newUserDefault.no')\n        }\n      ];\n    },\n    isRancherRoleTemplate() {\n      return this.value.subtype === CLUSTER || this.value.subtype === NAMESPACE;\n    },\n    isNamespaced() {\n      return this.value.subtype === RBAC_ROLE;\n    },\n    isRancherType() {\n      return this.value.subtype === GLOBAL || this.value.subtype === CLUSTER || this.value.subtype === NAMESPACE;\n    },\n    isDetail() {\n      return this.as === _DETAIL;\n    },\n    isBuiltin() {\n      return this.value.builtin;\n    },\n    doneLocationOverride() {\n      return this.value.listLocation;\n    },\n    ruleClass() {\n      return `col ${ this.isNamespaced ? 'span-4' : 'span-3' }`;\n    },\n    // Detail View\n    rules() {\n      return this.createRules(this.value);\n    },\n    ruleHeaders() {\n      const verbHeaders = VERBS.map((verb) => ({\n        name:      verb,\n        key:       ucFirst(verb),\n        value:     this.verbKey(verb),\n        formatter: 'Checked',\n        align:     'center'\n      }));\n\n      return [\n        ...verbHeaders,\n        {\n          name:      'custom',\n          labelKey:  'tableHeaders.customVerbs',\n          key:       ucFirst('custom'),\n          value:     'hasCustomVerbs',\n          formatter: 'Checked',\n          align:     'center'\n        },\n        {\n          name:      'resources',\n          labelKey:  'tableHeaders.resources',\n          value:     'resources',\n          formatter: 'list',\n        },\n        {\n          name:      'url',\n          labelKey:  'tableHeaders.url',\n          value:     'nonResourceURLs',\n          formatter: 'list',\n        },\n        {\n          name:      'apiGroups',\n          labelKey:  'tableHeaders.apiGroup',\n          value:     'apiGroups',\n          formatter: 'list',\n        }\n      ];\n    },\n    inheritedRules() {\n      return this.createInheritedRules(this.value, [], false);\n    }\n  },\n\n  methods: {\n\n    setRule(key, rule, event) {\n      // The key is the aspect of a permissions rule\n      // that is being set, for example, \"verbs,\" \"resources\",\n      // \"apiGroups\" or \"nonResourceUrls.\"\n\n      // The event/value contains name of a resource,\n      // for example, \"Apps.\"\n\n      // The 'rule' contains the the contents of each row of the\n      // role creation form under Grant Resources. Each\n      // rule contains these fields:\n      // - apiGroups\n      // - nonResourceURLs\n      // - resourceNames\n      // - resources\n      // - verbs\n\n      switch (key) {\n      case 'apiGroups':\n\n        if (event || (event === '')) {\n          this.$set(rule, 'apiGroups', [event]);\n        }\n\n        break;\n\n      case 'verbs':\n\n        if (event) {\n          this.$set(rule, 'verbs', [event]);\n        } else {\n          this.$set(rule, 'verbs', []);\n        }\n        break;\n\n      case 'resources':\n        if (event?.resourceName) {\n          // If we are updating the resources defined in a rule,\n          // the event will be an object with the\n          // properties apiGroupValue and resourceName.\n          this.$set(rule, 'resources', [event.resourceName]);\n          // Automatically fill in the API group of the\n          // selected resource.\n          this.$set(rule, 'apiGroups', [event.apiGroupValue]);\n        } else if (event?.label) {\n          // When the user creates a new resource name in the resource\n          // field instead of selecting an existing one,\n          // we have to treat that differently because the incoming event\n          // is shaped like {\"label\":\"something\"} instead of\n          // the same format as the other options:\n          // { resourceName: \"something\", apiGroupValue: \"\" }\n          this.$set(rule, 'resources', [event.label]);\n        } else {\n          this.$set(rule, 'resources', []);\n          this.$set(rule, 'apiGroups', []);\n        }\n        break;\n\n      case 'nonResourceURLs':\n        if (event) {\n          this.$set(rule, 'nonResourceURLs', [event]);\n        } else {\n          this.$set(rule, 'nonResourceURLs', []);\n        }\n        break;\n\n      default:\n        break;\n      }\n    },\n    getRule(key, rule) {\n      return rule[key]?.[0] || null;\n    },\n    updateSelectValue(row, key, event) {\n      const value = event.label ? event.value : event;\n\n      this.$set(row, key, value);\n    },\n    cancel() {\n      this.done();\n    },\n    async actuallySave(url) {\n      // Go through all of the grules and replace double quote apiGroups\n      // k8S documentation shows using empty rules as \"\" - we change this to empty string when used\n      this.value.rules?.forEach((rule) => {\n        if (rule.apiGroups) {\n          rule.apiGroups = rule.apiGroups.map((group) => {\n            // If the group is two double quotes (\"\") replace if with empty string\n            if (group.trim() === '\\\"\\\"') {\n              group = '';\n            }\n\n            return group;\n          });\n        }\n      });\n\n      if ( this.isCreate ) {\n        url = url || this.schema.linkFor('collection');\n        await this.value.save({ url, redirectUnauthorized: false });\n      } else {\n        await this.value.save({ redirectUnauthorized: false });\n      }\n    },\n    // Detail View\n    verbKey(verb) {\n      return `has${ ucFirst(verb) }`;\n    },\n    createRules(role) {\n      return (role.rules || []).map((rule, i) => {\n        const tableRule = {\n          index:           i,\n          apiGroups:       rule.apiGroups || [''],\n          resources:       rule.resources || [],\n          nonResourceURLs: rule.nonResourceURLs || []\n        };\n\n        VERBS.forEach((verb) => {\n          const key = this.verbKey(verb);\n\n          tableRule[key] = rule.verbs[0] === '*' || rule.verbs.includes(verb);\n          tableRule.hasCustomVerbs = rule.verbs.some((verb) => !VERBS.includes(verb));\n        });\n\n        return tableRule;\n      });\n    },\n    createInheritedRules(parent, res = [], showParent = true) {\n      if (!parent.roleTemplateNames) {\n        return [];\n      }\n\n      parent.roleTemplateNames\n        .map((rtn) => this.$store.getters[`management/byId`](MANAGEMENT.ROLE_TEMPLATE, rtn))\n        .forEach((rt) => {\n          // Add Self\n          res.push({\n            showParent,\n            parent,\n            template: rt,\n            rules:    this.createRules(rt)\n          });\n          // Add inherited\n          this.createInheritedRules(rt, res);\n        });\n\n      return res;\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    class=\"receiver\"\n    :can-yaml=\"!isCreate\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"fvUnreportedValidationErrors\"\n    :validation-passed=\"fvFormIsValid\"\n    :cancel-event=\"true\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"cancel\"\n  >\n    <Banner\n      v-if=\"showRestrictedAdminDeprecationBanner\"\n      color=\"warning\"\n      class=\"mb-20\"\n    >\n      <span v-clean-html=\"t('rbac.globalRoles.role.restricted-admin.deprecation', { releaseNotesUrl }, true)\" />\n    </Banner>\n    <template v-if=\"isDetail\">\n      <SortableTable\n        key-field=\"index\"\n        :rows=\"rules\"\n        :headers=\"ruleHeaders\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        :search=\"false\"\n      />\n      <div\n        v-for=\"(inherited, index) of inheritedRules\"\n        :key=\"index\"\n      >\n        <div class=\"spacer\" />\n        <h3>\n          Inherited from {{ inherited.template.nameDisplay }}\n          <template v-if=\"inherited.showParent\">\n            {{ inherited.parent ? '(' + inherited.parent.nameDisplay + ')' : '' }}\n          </template>\n        </h3>\n        <SortableTable\n          key-field=\"index\"\n          :rows=\"inherited.rules\"\n          :headers=\"ruleHeaders\"\n          :table-actions=\"false\"\n          :row-actions=\"false\"\n          :search=\"false\"\n        />\n      </div>\n    </template>\n    <template v-else>\n      <NameNsDescription\n        v-model=\"value\"\n        :namespaced=\"isNamespaced\"\n        :mode=\"mode\"\n        name-key=\"displayName\"\n        description-key=\"description\"\n        label=\"Name\"\n        :rules=\"{ name: fvGetAndReportPathRules('displayName') }\"\n      />\n      <div\n        v-if=\"isRancherType\"\n        class=\"row\"\n      >\n        <div class=\"col span-6\">\n          <RadioGroup\n            v-model=\"defaultValue\"\n            name=\"storageSource\"\n            :label=\"defaultLabel\"\n            class=\"mb-10\"\n            data-testid=\"roletemplate-creator-default-options\"\n            :options=\"newUserDefaultOptions\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div\n          v-if=\"isRancherRoleTemplate\"\n          class=\"col span-6\"\n        >\n          <RadioGroup\n            v-model=\"value.locked\"\n            name=\"storageSource\"\n            :label=\"t('rbac.roletemplate.locked.label')\"\n            class=\"mb-10\"\n            data-testid=\"roletemplate-locked-options\"\n            :options=\"lockedOptions\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"spacer\" />\n      <Tabbed :side-tabs=\"true\">\n        <Tab\n          name=\"grant-resources\"\n          :label=\"t('rbac.roletemplate.tabs.grantResources.label')\"\n          :weight=\"1\"\n        >\n          <Error\n            :value=\"value.rules\"\n            :rules=\"fvGetAndReportPathRules('rules')\"\n            as-banner\n          />\n          <ArrayList\n            v-model=\"value.rules\"\n            label=\"Resources\"\n            :disabled=\"isBuiltin\"\n            :remove-allowed=\"!isBuiltin\"\n            :add-allowed=\"!isBuiltin\"\n            :default-add-value=\"defaultRule\"\n            :initial-empty-row=\"true\"\n            :show-header=\"true\"\n            add-label=\"Add Resource\"\n            :mode=\"mode\"\n          >\n            <template #column-headers>\n              <div class=\"column-headers row\">\n                <div :class=\"ruleClass\">\n                  <span class=\"text-label\">{{ t('rbac.roletemplate.tabs.grantResources.tableHeaders.verbs') }}\n                    <span class=\"required\">*</span>\n                  </span>\n                </div>\n                <div :class=\"ruleClass\">\n                  <span class=\"text-label\">\n                    {{ t('rbac.roletemplate.tabs.grantResources.tableHeaders.resources') }}\n                    <i\n                      v-clean-tooltip=\"t('rbac.roletemplate.tabs.grantResources.resourceOptionInfo')\"\n                      class=\"icon icon-info\"\n                    />\n                    <span\n                      v-if=\"isNamespaced\"\n                      class=\"required\"\n                    >*</span>\n                  </span>\n                </div>\n                <div :class=\"ruleClass\">\n                  <span class=\"text-label\">{{ t('rbac.roletemplate.tabs.grantResources.tableHeaders.apiGroups') }}</span>\n                </div>\n                <div\n                  v-if=\"!isNamespaced\"\n                  :class=\"ruleClass\"\n                >\n                  <span class=\"text-label\">{{ t('rbac.roletemplate.tabs.grantResources.tableHeaders.nonResourceUrls') }}</span>\n                </div>\n              </div>\n            </template>\n            <template #columns=\"props\">\n              <div class=\"columns row mr-20\">\n                <div :class=\"ruleClass\">\n                  <Select\n                    :value=\"props.row.value.verbs\"\n                    class=\"lg\"\n                    :disabled=\"isBuiltin\"\n                    :taggable=\"true\"\n                    :searchable=\"true\"\n                    :options=\"verbOptions\"\n                    :multiple=\"true\"\n                    :mode=\"mode\"\n                    :data-testid=\"`grant-resources-verbs${props.i}`\"\n                    @input=\"updateSelectValue(props.row.value, 'verbs', $event)\"\n                  />\n                </div>\n                <div :class=\"ruleClass\">\n                  <Select\n                    :value=\"getRule('resources', props.row.value)\"\n                    :disabled=\"isBuiltin\"\n                    :options=\"resourceOptions\"\n                    option-key=\"optionKey\"\n                    :searchable=\"true\"\n                    :taggable=\"true\"\n                    :mode=\"mode\"\n                    :data-testid=\"`grant-resources-resources${props.i}`\"\n                    @input=\"setRule('resources', props.row.value, $event)\"\n                    @createdListItem=\"setRule('resources', props.row.value, $event)\"\n                  />\n                </div>\n                <div :class=\"ruleClass\">\n                  <input\n                    :value=\"getRule('apiGroups', props.row.value)\"\n                    :disabled=\"isBuiltin\"\n                    :mode=\"mode\"\n                    :data-testid=\"`grant-resources-api-groups${props.i}`\"\n                    @input=\"setRule('apiGroups', props.row.value, $event.target.value)\"\n                  >\n                </div>\n                <div\n                  v-if=\"!isNamespaced\"\n                  :class=\"ruleClass\"\n                >\n                  <input\n                    :value=\"getRule('nonResourceURLs', props.row.value)\"\n                    :disabled=\"isBuiltin\"\n                    :mode=\"mode\"\n                    :data-testid=\"`grant-resources-non-resource-urls${props.i}`\"\n                    @input=\"setRule('nonResourceURLs', props.row.value, $event.target.value)\"\n                  >\n                </div>\n              </div>\n            </template>\n          </ArrayList>\n        </Tab>\n        <Tab\n          v-if=\"isRancherRoleTemplate\"\n          name=\"inherit-from\"\n          label=\"Inherit From\"\n          :weight=\"0\"\n        >\n          <ArrayList\n            v-model=\"value.roleTemplateNames\"\n            :disabled=\"isBuiltin\"\n            :remove-allowed=\"!isBuiltin\"\n            :add-allowed=\"!isBuiltin\"\n            label=\"Resources\"\n            add-label=\"Add Resource\"\n            :mode=\"mode\"\n          >\n            <template #columns=\"props\">\n              <div class=\"columns row mr-20\">\n                <div class=\"col span-12\">\n                  <Select\n                    v-model=\"props.row.value\"\n                    class=\"lg\"\n                    :taggable=\"false\"\n                    :disabled=\"isBuiltin\"\n                    :searchable=\"true\"\n                    :options=\"selectFocused === props.i ? templateOptions : [keyedTemplateOptions[props.row.value]]\"\n                    option-key=\"value\"\n                    option-label=\"label\"\n                    :mode=\"mode\"\n                    @on-focus=\"selectFocused = props.i\"\n                    @on-blur=\"selectFocused = null\"\n                  />\n                </div>\n              </div>\n            </template>\n          </ArrayList>\n        </Tab>\n      </Tabbed>\n    </template>\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n  .required {\n    color: var(--error);\n  }\n\n  ::v-deep {\n    .column-headers {\n      margin-right: 75px;\n      margin-bottom: 5px;\n    }\n\n    .box {\n      align-items: initial;\n\n      .remove {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-end;\n      }\n    }\n\n    .columns {\n      & > .col {\n        &:not(:first-of-type) {\n          height: $input-height;\n        }\n\n        &:first-of-type {\n          min-height: $input-height;\n        }\n\n        & > * {\n          height: 100%;\n        }\n      }\n    }\n  }\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA,SAAAA,UAAA;AACA,SAAAC,UAAA,EAAAC,IAAA;AACA,OAAAC,WAAA;AACA,OAAAC,cAAA;AACA,OAAAC,cAAA;AACA,OAAAC,KAAA;AACA,SAAAC,UAAA;AACA,OAAAC,MAAA;AACA,OAAAC,SAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,GAAA;AACA,OAAAC,MAAA;AACA,SAAAC,OAAA;AACA,OAAAC,aAAA;AACA,SAAAC,MAAA,EAAAC,OAAA;AACA,SAAAC,gBAAA;AACA,SAAAC,MAAA;AAEA,SAAAC,eAAA,EAAAC,KAAA;AACA,OAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAH,eAAA,CAAAG,MAAA,CAAAC,GAAA;AACA,IAAAC,OAAA,GAAAL,eAAA,CAAAK,OAAA,CAAAD,GAAA;AACA,IAAAE,SAAA,GAAAN,eAAA,CAAAM,SAAA,CAAAF,GAAA;AACA,IAAAG,SAAA,GAAAP,eAAA,CAAAO,SAAA,CAAAH,GAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAI,UAAA;IACAlB,SAAA,EAAAA,SAAA;IACAN,WAAA,EAAAA,WAAA;IACAI,UAAA,EAAAA,UAAA;IACAC,MAAA,EAAAA,MAAA;IACAE,iBAAA,EAAAA,iBAAA;IACAC,GAAA,EAAAA,GAAA;IACAC,MAAA,EAAAA,MAAA;IACAE,aAAA,EAAAA,aAAA;IACAO,OAAA,EAAAA,OAAA;IACAf,KAAA,EAAAA,KAAA;IACAY,MAAA,EAAAA;EACA;EAEAU,MAAA,GAAAxB,cAAA,EAAAC,cAAA;EAEAwB,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,MAeAT,KAAA,CAAAU,KAAA,CAAAC,OAAA,KAAAjB,OAAA,IAAAM,KAAA,CAAAU,KAAA,CAAAC,OAAA,KAAAhB,SAAA;cAAAY,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAY,MAAA,CAAAC,QAAA;cAAAC,IAAA,EAAA3C,UAAA,CAAA4C;YAAA;UAAA;YAAAR,QAAA,CAAAS,IAAA,CAAAC,OAAA,WAAAC,QAAA;cACA;cACAlB,KAAA,CAAAmB,oBAAA,CAAAD,QAAA,CAAAE,EAAA;gBACAC,KAAA,EAAAH,QAAA,CAAAI,WAAA;gBACAZ,KAAA,EAAAQ,QAAA,CAAAE;cACA;YACA;YACApB,KAAA,CAAAuB,eAAA,GAAAC,MAAA,CAAAC,MAAA,CAAAzB,KAAA,CAAAmB,oBAAA;UAAA;YAEA,IAAAnB,KAAA,CAAA0B,QAAA,KAAAzC,MAAA;cACAe,KAAA,CAAAU,KAAA,CAAAiB,WAAA;cACA3B,KAAA,CAAAU,KAAA,CAAAkB,OAAA;YACA;UAAA;UAAA;YAAA,OAAArB,QAAA,CAAAsB,IAAA;QAAA;MAAA,GAAAzB,OAAA;IAAA;EACA;EAEA0B,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;QACAC,SAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,KAAA;MACA;MACAC,WAAA,EAAA/C,KAAA;MACAiC,eAAA;MACAJ,oBAAA;MACAgB,SAAA,OAAAzB,KAAA,CAAAyB,SAAA;MACAG,eAAA,EAAAnD,gBAAA;MACAoD,YAAA;MACAC,aAAA;MACAC,cAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;MAAAC,WAAA;IACA,KAAAC,IAAA,MAAArC,KAAA,gBAAAA,KAAA,CAAAiC,KAAA;IACA,KAAAjC,KAAA,CAAAiC,KAAA,CAAA1B,OAAA,WAAA+B,IAAA;MACA,IAAAA,IAAA,CAAAZ,KAAA;QACAS,MAAA,CAAAE,IAAA,CAAAC,IAAA,WAAAC,kBAAA,CAAA3D,KAAA;MACA;IACA;IAEA,IAAA4D,KAAA,GAAAC,aAAA,UAAAC,MAAA,CAAAF,KAAA;IACA,IAAAG,WAAA,GAAAH,KAAA,CAAAG,WAAA;IAEA,IAAAA,WAAA,SAAA3C,KAAA,CAAA4C,aAAA;MACA,KAAA5C,KAAA,CAAA4C,aAAA,CAAAD,WAAA;IACA;;IAEA;IACA,KAAAd,YAAA,UAAA7B,KAAA,CAAArB,eAAA,MAAAqB,KAAA,CAAAC,OAAA,EAAA4C,UAAA;IAEA,aAAA7C,KAAA,CAAAC,OAAA;MACA,KAAAjB,OAAA;MACA,KAAAC,SAAA;QACA,KAAAoD,IAAA,MAAArC,KAAA,4BAAAA,KAAA,CAAA8C,iBAAA;QACA,KAAAT,IAAA,MAAArC,KAAA,mBAAAA,KAAA,CAAA+C,MAAA;QACA;IACA;;IAEA;IACA,SAAAC,kBAAA;MACA,KAAAA,kBAAA;QACA;QACAb,MAAA,CAAAnC,KAAA,CAAArB,eAAA,CAAAwD,MAAA,CAAAnC,KAAA,CAAAC,OAAA,EAAA4C,UAAA,MAAAV,MAAA,CAAAN,YAAA;MACA;IACA;IAEA,KAAAO,WAAA,QAAApC,KAAA,cAAAoC,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAa,QAAA,cAAAb,WAAA,eAAAA,WAAA,CAAAc,IAAA,UAAAlD,KAAA,CAAAiB,WAAA;MACA,KAAAoB,IAAA,MAAArC,KAAA,sBAAAA,KAAA,CAAAiD,QAAA,CAAAC,IAAA;IACA;IAEA,KAAAC,SAAA;MACAhB,MAAA,CAAAiB,KAAA,gBAAAjB,MAAA,CAAAxB,KAAA;IACA;EACA;EAEA0C,QAAA,EAAAZ,aAAA,CAAAA,aAAA,KACAjF,UAAA;IAEA8F,oCAAA,WAAAA,qCAAA;MACA,YAAAtD,KAAA,CAAAC,OAAA,KAAAnB,MAAA,SAAAkB,KAAA,CAAAU,EAAA;IACA;IAEAC,KAAA,WAAAA,MAAA;MACA,YAAA4C,CAAA,+BAAAC,MAAA,MAAAxD,KAAA,CAAAC,OAAA;IACA;IACAwD,YAAA,WAAAA,aAAA;MACA,YAAAF,CAAA,+BAAAC,MAAA,MAAAxD,KAAA,CAAAC,OAAA;IACA;IACAyD,aAAA,WAAAA,cAAA;MACA,QACA;QACA1D,KAAA;QACAW,KAAA,OAAA4C,CAAA;MACA,GACA;QACAvD,KAAA;QACAW,KAAA,OAAA4C,CAAA;MACA,EACA;IACA;IACAI,eAAA,WAAAA,gBAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,OAAA;MAEA,IAAAC,MAAA,GAAAhD,MAAA,CAAAiD,IAAA,MAAAnC,eAAA;MAEAkC,MAAA,CAAAvD,OAAA,WAAAyD,KAAA;QACA,IAAAA,KAAA,gCAAAJ,MAAA,CAAA5D,KAAA,CAAAI,IAAA,KAAA3C,UAAA,CAAAwG,WAAA;UACA;UACA;UACA;QACA;QACA,IAAAD,KAAA,kCAAAJ,MAAA,CAAA5D,KAAA,CAAAI,IAAA,KAAA1C,IAAA,CAAAwG,IAAA,IAAAN,MAAA,CAAA5D,KAAA,CAAAC,OAAA,KAAAhB,SAAA;UACA;UACA;UACA;QACA;QACA,IAAAkF,gBAAA,GAAAP,MAAA,CAAAhC,eAAA,CAAAoC,KAAA;QAEA,IAAAI,aAAA,GAAAtD,MAAA,CAAAiD,IAAA,CAAAI,gBAAA;;QAEA;QACAC,aAAA,CAAA7D,OAAA,WAAA8D,QAAA;UACA;UACA,IAAAC,aAAA,GAAAD,QAAA;UACA,IAAAE,aAAA,GAAAF,QAAA;UAEA,IAAAA,QAAA;YACA;YACA;YACA;;YAEA;YACA;YACA;YACA;YACA,IAAAG,kBAAA,GAAAZ,MAAA,CAAAL,CAAA;YACA,IAAAkB,yCAAA,GAAAb,MAAA,CAAAL,CAAA;YAEAe,aAAA,GAAAN,KAAA,CAAAU,QAAA,cAAAF,kBAAA,GAAAC,yCAAA;YACAF,aAAA;UACA;UAEA,IAAAF,QAAA;YACA;YACA,IAAAM,qBAAA,GAAAf,MAAA,CAAAL,CAAA;YACA,IAAAqB,uBAAA,GAAAhB,MAAA,CAAAL,CAAA;YAEAe,aAAA,GAAAN,KAAA,CAAAU,QAAA,cAAAC,qBAAA,GAAAC,uBAAA;YACAL,aAAA;UACA;UAEAV,OAAA,CAAAgB,IAAA;YACAC,IAAA;YACAC,SAAA,EAAAT,aAAA;YACA3D,KAAA,EAAA2D,aAAA;YACAtE,KAAA,EAAAuE,aAAA;YACAS,QAAA;UACA;UAEA,IAAAC,mBAAA,GAAArB,MAAA,CAAAhC,eAAA,CAAAoC,KAAA,EAAAK,QAAA,EAAA5C,SAAA;;UAEA;UACAwD,mBAAA,CAAA1E,OAAA,WAAA2E,YAAA;YACArB,OAAA,CAAAgB,IAAA;cACAlE,KAAA,EAAAuE,YAAA;cACA;cACAH,SAAA,EAAAR,aAAA,CAAAf,MAAA,CAAA0B,YAAA;cACAlF,KAAA;gBACAkF,YAAA,EAAAA,YAAA,CAAAC,WAAA;gBACAZ,aAAA,EAAAA;cACA;YACA;UACA;;UAEA;UACA;UACA,IAAAX,MAAA,CAAAhC,eAAA,CAAAoC,KAAA,EAAAK,QAAA,EAAAe,mBAAA;YACA,IAAAC,6BAAA,GAAAzB,MAAA,CAAAhC,eAAA,CAAAoC,KAAA,EAAAK,QAAA,EAAAe,mBAAA;YACA,IAAAE,eAAA,GAAA1B,MAAA,CAAAL,CAAA;YAEA8B,6BAAA,CAAA9E,OAAA,WAAA2E,YAAA;cACArB,OAAA,CAAAgB,IAAA;gBACAlE,KAAA,KAAA6C,MAAA,CAAA0B,YAAA,OAAA1B,MAAA,CAAA8B,eAAA;gBACAP,SAAA,EAAAR,aAAA,CAAAf,MAAA,CAAA0B,YAAA;gBACAlF,KAAA;kBACAkF,YAAA,EAAAA,YAAA,CAAAC,WAAA;kBACAZ,aAAA,EAAAA;gBACA;cACA;YACA;UACA;QACA;MACA;MAEAV,OAAA,CAAAgB,IAAA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACAC,IAAA;QACAC,SAAA;QACApE,KAAA;QACAX,KAAA;QACAgF,QAAA;MACA;MAEA,OAAAnB,OAAA;IACA;IAEA0B,qBAAA,WAAAA,sBAAA;MACA,QACA;QACAvF,KAAA;QACAW,KAAA,OAAA4C,CAAA,+BAAAC,MAAA,MAAAxD,KAAA,CAAAC,OAAA;MACA,GACA;QACAD,KAAA;QACAW,KAAA,OAAA4C,CAAA;MACA,EACA;IACA;IACAiC,qBAAA,WAAAA,sBAAA;MACA,YAAAxF,KAAA,CAAAC,OAAA,KAAAjB,OAAA,SAAAgB,KAAA,CAAAC,OAAA,KAAAhB,SAAA;IACA;IACAwG,YAAA,WAAAA,aAAA;MACA,YAAAzF,KAAA,CAAAC,OAAA,KAAAf,SAAA;IACA;IACAwG,aAAA,WAAAA,cAAA;MACA,YAAA1F,KAAA,CAAAC,OAAA,KAAAnB,MAAA,SAAAkB,KAAA,CAAAC,OAAA,KAAAjB,OAAA,SAAAgB,KAAA,CAAAC,OAAA,KAAAhB,SAAA;IACA;IACA0G,QAAA,WAAAA,SAAA;MACA,YAAAC,EAAA,KAAApH,OAAA;IACA;IACAqH,SAAA,WAAAA,UAAA;MACA,YAAA7F,KAAA,CAAAkB,OAAA;IACA;IACA4E,oBAAA,WAAAA,qBAAA;MACA,YAAA9F,KAAA,CAAA+F,YAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,cAAAxC,MAAA,MAAAiC,YAAA;IACA;IACA;IACAxD,KAAA,WAAAA,MAAA;MACA,YAAAgE,WAAA,MAAAjG,KAAA;IACA;IACAkG,WAAA,WAAAA,YAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,WAAA,GAAAxH,KAAA,CAAAyH,GAAA,WAAAC,IAAA;QAAA;UACApD,IAAA,EAAAoD,IAAA;UACAvH,GAAA,EAAAV,OAAA,CAAAiI,IAAA;UACAtG,KAAA,EAAAmG,MAAA,CAAAI,OAAA,CAAAD,IAAA;UACAE,SAAA;UACAC,KAAA;QACA;MAAA;MAEA,UAAAjD,MAAA,CAAAjB,kBAAA,CACA6D,WAAA,IACA;QACAlD,IAAA;QACAwD,QAAA;QACA3H,GAAA,EAAAV,OAAA;QACA2B,KAAA;QACAwG,SAAA;QACAC,KAAA;MACA,GACA;QACAvD,IAAA;QACAwD,QAAA;QACA1G,KAAA;QACAwG,SAAA;MACA,GACA;QACAtD,IAAA;QACAwD,QAAA;QACA1G,KAAA;QACAwG,SAAA;MACA,GACA;QACAtD,IAAA;QACAwD,QAAA;QACA1G,KAAA;QACAwG,SAAA;MACA;IAEA;IACAG,cAAA,WAAAA,eAAA;MACA,YAAAC,oBAAA,MAAA5G,KAAA;IACA;EAAA,EACA;EAEA6G,OAAA;IAEAC,OAAA,WAAAA,QAAA/H,GAAA,EAAAuD,IAAA,EAAAyE,KAAA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA,QAAAhI,GAAA;QACA;UAEA,IAAAgI,KAAA,IAAAA,KAAA;YACA,KAAA1E,IAAA,CAAAC,IAAA,gBAAAyE,KAAA;UACA;UAEA;QAEA;UAEA,IAAAA,KAAA;YACA,KAAA1E,IAAA,CAAAC,IAAA,YAAAyE,KAAA;UACA;YACA,KAAA1E,IAAA,CAAAC,IAAA;UACA;UACA;QAEA;UACA,IAAAyE,KAAA,aAAAA,KAAA,eAAAA,KAAA,CAAA7B,YAAA;YACA;YACA;YACA;YACA,KAAA7C,IAAA,CAAAC,IAAA,gBAAAyE,KAAA,CAAA7B,YAAA;YACA;YACA;YACA,KAAA7C,IAAA,CAAAC,IAAA,gBAAAyE,KAAA,CAAAxC,aAAA;UACA,WAAAwC,KAAA,aAAAA,KAAA,eAAAA,KAAA,CAAApG,KAAA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,KAAA0B,IAAA,CAAAC,IAAA,gBAAAyE,KAAA,CAAApG,KAAA;UACA;YACA,KAAA0B,IAAA,CAAAC,IAAA;YACA,KAAAD,IAAA,CAAAC,IAAA;UACA;UACA;QAEA;UACA,IAAAyE,KAAA;YACA,KAAA1E,IAAA,CAAAC,IAAA,sBAAAyE,KAAA;UACA;YACA,KAAA1E,IAAA,CAAAC,IAAA;UACA;UACA;QAEA;UACA;MACA;IACA;IACA0E,OAAA,WAAAA,QAAAjI,GAAA,EAAAuD,IAAA;MAAA,IAAA2E,SAAA;MACA,SAAAA,SAAA,GAAA3E,IAAA,CAAAvD,GAAA,eAAAkI,SAAA,uBAAAA,SAAA;IACA;IACAC,iBAAA,WAAAA,kBAAAC,GAAA,EAAApI,GAAA,EAAAgI,KAAA;MACA,IAAA/G,KAAA,GAAA+G,KAAA,CAAApG,KAAA,GAAAoG,KAAA,CAAA/G,KAAA,GAAA+G,KAAA;MAEA,KAAA1E,IAAA,CAAA8E,GAAA,EAAApI,GAAA,EAAAiB,KAAA;IACA;IACAoH,MAAA,WAAAA,OAAA;MACA,KAAAC,IAAA;IACA;IACAC,YAAA,WAAAA,aAAAC,GAAA;MAAA,IAAAC,MAAA;MAAA,OAAAjI,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAgI,SAAA;QAAA,IAAAC,kBAAA;QAAA,OAAAlI,mBAAA,CAAAG,IAAA,UAAAgI,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA9H,IAAA,GAAA8H,SAAA,CAAA7H,IAAA;YAAA;cACA;cACA;cACA,CAAA2H,kBAAA,GAAAF,MAAA,CAAAxH,KAAA,CAAAiC,KAAA,cAAAyF,kBAAA,eAAAA,kBAAA,CAAAnH,OAAA,WAAA+B,IAAA;gBACA,IAAAA,IAAA,CAAAhB,SAAA;kBACAgB,IAAA,CAAAhB,SAAA,GAAAgB,IAAA,CAAAhB,SAAA,CAAA+E,GAAA,WAAAwB,KAAA;oBACA;oBACA,IAAAA,KAAA,CAAAC,IAAA;sBACAD,KAAA;oBACA;oBAEA,OAAAA,KAAA;kBACA;gBACA;cACA;cAAA,KAEAL,MAAA,CAAAO,QAAA;gBAAAH,SAAA,CAAA7H,IAAA;gBAAA;cAAA;cACAwH,GAAA,GAAAA,GAAA,IAAAC,MAAA,CAAAQ,MAAA,CAAAC,OAAA;cAAAL,SAAA,CAAA7H,IAAA;cAAA,OACAyH,MAAA,CAAAxH,KAAA,CAAAkI,IAAA;gBAAAX,GAAA,EAAAA,GAAA;gBAAAY,oBAAA;cAAA;YAAA;cAAAP,SAAA,CAAA7H,IAAA;cAAA;YAAA;cAAA6H,SAAA,CAAA7H,IAAA;cAAA,OAEAyH,MAAA,CAAAxH,KAAA,CAAAkI,IAAA;gBAAAC,oBAAA;cAAA;YAAA;YAAA;cAAA,OAAAP,SAAA,CAAAzG,IAAA;UAAA;QAAA,GAAAsG,QAAA;MAAA;IAEA;IACA;IACAlB,OAAA,WAAAA,QAAAD,IAAA;MACA,aAAA9C,MAAA,CAAAnF,OAAA,CAAAiI,IAAA;IACA;IACAL,WAAA,WAAAA,YAAAmC,IAAA;MAAA,IAAAC,MAAA;MACA,QAAAD,IAAA,CAAAnG,KAAA,QAAAoE,GAAA,WAAA/D,IAAA,EAAAgG,CAAA;QACA,IAAAC,SAAA;UACAC,KAAA,EAAAF,CAAA;UACAhH,SAAA,EAAAgB,IAAA,CAAAhB,SAAA;UACAG,SAAA,EAAAa,IAAA,CAAAb,SAAA;UACAF,eAAA,EAAAe,IAAA,CAAAf,eAAA;QACA;QAEA3C,KAAA,CAAA2B,OAAA,WAAA+F,IAAA;UACA,IAAAvH,GAAA,GAAAsJ,MAAA,CAAA9B,OAAA,CAAAD,IAAA;UAEAiC,SAAA,CAAAxJ,GAAA,IAAAuD,IAAA,CAAAZ,KAAA,eAAAY,IAAA,CAAAZ,KAAA,CAAAgD,QAAA,CAAA4B,IAAA;UACAiC,SAAA,CAAAE,cAAA,GAAAnG,IAAA,CAAAZ,KAAA,CAAAgH,IAAA,WAAApC,IAAA;YAAA,QAAA1H,KAAA,CAAA8F,QAAA,CAAA4B,IAAA;UAAA;QACA;QAEA,OAAAiC,SAAA;MACA;IACA;IACA3B,oBAAA,WAAAA,qBAAA+B,MAAA;MAAA,IAAAC,MAAA;MAAA,IAAAC,GAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MAAA,IAAAG,UAAA,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA,KAAAH,MAAA,CAAA7F,iBAAA;QACA;MACA;MAEA6F,MAAA,CAAA7F,iBAAA,CACAuD,GAAA,WAAA6C,GAAA;QAAA,OAAAN,MAAA,CAAA1I,MAAA,CAAAiJ,OAAA,oBAAA1L,UAAA,CAAA4C,aAAA,EAAA6I,GAAA;MAAA,GACA3I,OAAA,WAAA6I,EAAA;QACA;QACAP,GAAA,CAAAhE,IAAA;UACAoE,UAAA,EAAAA,UAAA;UACAN,MAAA,EAAAA,MAAA;UACAnI,QAAA,EAAA4I,EAAA;UACAnH,KAAA,EAAA2G,MAAA,CAAA3C,WAAA,CAAAmD,EAAA;QACA;QACA;QACAR,MAAA,CAAAhC,oBAAA,CAAAwC,EAAA,EAAAP,GAAA;MACA;MAEA,OAAAA,GAAA;IACA;EACA;AACA","ignoreList":[]}]}