{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQovKiBlc2xpbnQtZGlzYWJsZSBqZXN0L25vLWhvb2tzICovCmltcG9ydCB7IG1vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IENsdXN0ZXJSb2xlVGVtcGxhdGVCaW5kaW5nIGZyb20gJ0BzaGVsbC9lZGl0L21hbmFnZW1lbnQuY2F0dGxlLmlvLmNsdXN0ZXJyb2xldGVtcGxhdGViaW5kaW5nLnZ1ZSc7CmltcG9ydCBCYW5uZXIgZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyL0Jhbm5lci52dWUnOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwpkZXNjcmliZSgndmlldzogbWFuYWdlbWVudC5jYXR0bGUuaW8uY2x1c3RlcnJvbGV0ZW1wbGF0ZWJpbmRpbmcgc2hvdWxkJywgZnVuY3Rpb24gKCkgewogIHZhciB3cmFwcGVyOwogIHZhciBzdHVicyA9IHsKICAgIENsdXN0ZXJQZXJtaXNzaW9uc0VkaXRvcjogdHJ1ZSwKICAgIExvYWRpbmc6IHRydWUKICB9OwogIHZhciByZXF1aXJlZFNldHVwID0gZnVuY3Rpb24gcmVxdWlyZWRTZXR1cCgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIFJlbW92ZSBhbGwgdGhlc2UgbW9ja3MgYWZ0ZXIgbWlncmF0aW9uIHRvIFZ1ZSAyLjcvMyBkdWUgbWl4aW4gbG9naWMKICAgICAgbW9ja3M6IHsKICAgICAgICAkc3RvcmU6IHsKICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgY3VycmVudFN0b3JlOiBmdW5jdGlvbiBjdXJyZW50U3RvcmUoKSB7CiAgICAgICAgICAgICAgcmV0dXJuICdjdXJyZW50X3N0b3JlJzsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ2N1cnJlbnRfc3RvcmUvc2NoZW1hRm9yJzogamVzdC5mbigpLAogICAgICAgICAgICAnY3VycmVudF9zdG9yZS9hbGwnOiBqZXN0LmZuKCksCiAgICAgICAgICAgIGN1cnJlbnRDbHVzdGVyOiB7CiAgICAgICAgICAgICAgaWQ6ICdteS1jbHVzdGVyJwogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXJyZW50UHJvZHVjdDogewogICAgICAgICAgICAgIGluU3RvcmU6ICd3aGF0ZXZlcicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ2kxOG4vdCc6IGZ1bmN0aW9uIGkxOG5UKHZhbCkgewogICAgICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdpMThuL2V4aXN0cyc6IGplc3QuZm4oKQogICAgICAgICAgfSwKICAgICAgICAgIGRpc3BhdGNoOiB7CiAgICAgICAgICAgICdtYW5hZ2VtZW50L2ZpbmRBbGwnOiBmdW5jdGlvbiBtYW5hZ2VtZW50RmluZEFsbCgpIHsKICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICRmZXRjaFN0YXRlOiB7CiAgICAgICAgICBwZW5kaW5nOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgJHJvdXRlOiB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBBUzogJycKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICRyb3V0ZXI6IHsKICAgICAgICAgIGFwcGx5UXVlcnk6IGplc3QuZm4oKSwKICAgICAgICAgIHJlcGxhY2U6IGplc3QuZm4oKQogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgdmFsdWU6IHt9CiAgICAgIH0sCiAgICAgIHN0dWJzOiBzdHVicwogICAgfTsKICB9OwogIGFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgICB3cmFwcGVyLmRlc3Ryb3koKTsKICB9KTsKICBpdCgnc2hvdWxkIG9ubHkgc2hvdyBvbmUgZXJyb3IgYmFubmVyJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgZXJyb3JzLCBjcnVSZXNvdXJjZUVsZW0sIGJhbm5lckVsZW1zOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGVycm9ycyA9IFsnbWlzdGFrZSEnXTsKICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChDbHVzdGVyUm9sZVRlbXBsYXRlQmluZGluZywgX29iamVjdFNwcmVhZCh7fSwgcmVxdWlyZWRTZXR1cCgpKSk7CiAgICAgICAgICBjcnVSZXNvdXJjZUVsZW0gPSB3cmFwcGVyLmZpbmRDb21wb25lbnQoQ3J1UmVzb3VyY2UpOwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICByZXR1cm4gY3J1UmVzb3VyY2VFbGVtLnZtLiRlbWl0KCdlcnJvcicsIGVycm9ycyk7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgYmFubmVyRWxlbXMgPSB3cmFwcGVyLmZpbmRBbGxDb21wb25lbnRzKEJhbm5lcik7CiAgICAgICAgICBleHBlY3QoYmFubmVyRWxlbXMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICBjYXNlIDc6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKSk7Cn0pOw=="},{"version":3,"names":["mount","ClusterRoleTemplateBinding","Banner","CruResource","describe","wrapper","stubs","ClusterPermissionsEditor","Loading","requiredSetup","mocks","$store","getters","currentStore","jest","fn","currentCluster","id","currentProduct","inStore","i18nT","val","dispatch","managementFindAll","$fetchState","pending","$route","query","AS","$router","applyQuery","replace","propsData","value","afterEach","destroy","it","_asyncToGenerator","_regeneratorRuntime","mark","_callee","errors","cruResourceElem","bannerElems","wrap","_callee$","_context","prev","next","_objectSpread","findComponent","vm","$emit","findAllComponents","expect","toHaveLength","stop"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts"],"sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount } from '@vue/test-utils';\nimport ClusterRoleTemplateBinding from '@shell/edit/management.cattle.io.clusterroletemplatebinding.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport CruResource from '@shell/components/CruResource';\n\ndescribe('view: management.cattle.io.clusterroletemplatebinding should', () => {\n  let wrapper: any;\n\n  const stubs = {\n    ClusterPermissionsEditor: true,\n    Loading:                  true\n  };\n\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          currentCluster:            { id: 'my-cluster' },\n          currentProduct:            { inStore: 'whatever' },\n          'i18n/t':                  (val) => val,\n          'i18n/exists':             jest.fn(),\n        },\n        dispatch: { 'management/findAll': () => ([]) }\n      },\n      $fetchState: { pending: false },\n      $route:      { query: { AS: '' } },\n      $router:     {\n        applyQuery: jest.fn(),\n        replace:    jest.fn()\n      },\n    },\n    propsData: { value: {} },\n    stubs,\n  });\n\n  afterEach(() => {\n    wrapper.destroy();\n  });\n\n  it('should only show one error banner', async() => {\n    const errors = ['mistake!'];\n\n    wrapper = mount(ClusterRoleTemplateBinding, { ...requiredSetup() });\n\n    const cruResourceElem = wrapper.findComponent(CruResource);\n\n    await cruResourceElem.vm.$emit('error', errors);\n\n    const bannerElems = wrapper.findAllComponents(Banner);\n\n    expect(bannerElems).toHaveLength(1);\n  });\n});\n"],"mappings":";;;;;;;;;;;;;AAAA;AACA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,0BAA0B,MAAM,iEAAiE;AACxG,OAAOC,MAAM,MAAM,+BAA+B;AAClD,OAAOC,WAAW,MAAM,+BAA+B;AAEvDC,QAAQ,CAAC,8DAA8D,EAAE,YAAK;EAC5E,IAAIC,OAAY;EAEhB,IAAMC,KAAK,GAAG;IACZC,wBAAwB,EAAE,IAAI;IAC9BC,OAAO,EAAmB;GAC3B;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;IAAA,OAAU;MAC3B;MACAC,KAAK,EAAE;QACLC,MAAM,EAAE;UACNC,OAAO,EAAE;YACPC,YAAY,EAAe,SAAAA,aAAA;cAAA,OAAM,eAAe;YAAA;YAChD,yBAAyB,EAAEC,IAAI,CAACC,EAAE,EAAE;YACpC,mBAAmB,EAAQD,IAAI,CAACC,EAAE,EAAE;YACpCC,cAAc,EAAa;cAAEC,EAAE,EAAE;YAAY,CAAE;YAC/CC,cAAc,EAAa;cAAEC,OAAO,EAAE;YAAU,CAAE;YAClD,QAAQ,EAAmB,SAAAC,MAACC,GAAG;cAAA,OAAKA,GAAG;YAAA;YACvC,aAAa,EAAcP,IAAI,CAACC,EAAE;WACnC;UACDO,QAAQ,EAAE;YAAE,oBAAoB,EAAE,SAAAC,kBAAA;cAAA,OAAO,EAAE;YAAA;UAAC;SAC7C;QACDC,WAAW,EAAE;UAAEC,OAAO,EAAE;QAAK,CAAE;QAC/BC,MAAM,EAAO;UAAEC,KAAK,EAAE;YAAEC,EAAE,EAAE;UAAE;QAAE,CAAE;QAClCC,OAAO,EAAM;UACXC,UAAU,EAAEhB,IAAI,CAACC,EAAE,EAAE;UACrBgB,OAAO,EAAKjB,IAAI,CAACC,EAAE;;OAEtB;MACDiB,SAAS,EAAE;QAAEC,KAAK,EAAE;MAAE,CAAE;MACxB3B,KAAK,EAALA;KACD;EAAA,CAAC;EAEF4B,SAAS,CAAC,YAAK;IACb7B,OAAO,CAAC8B,OAAO,EAAE;EACnB,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,eAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;IAAA,IAAAC,MAAA,EAAAC,eAAA,EAAAC,WAAA;IAAA,OAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAChCP,MAAM,GAAG,CAAC,UAAU,CAAC;UAE3BpC,OAAO,GAAGL,KAAK,CAACC,0BAA0B,EAAAgD,aAAA,KAAOxC,aAAa,EAAE,CAAE,CAAC;UAE7DiC,eAAe,GAAGrC,OAAO,CAAC6C,aAAa,CAAC/C,WAAW,CAAC;UAAA2C,QAAA,CAAAE,IAAA;UAAA,OAEpDN,eAAe,CAACS,EAAE,CAACC,KAAK,CAAC,OAAO,EAAEX,MAAM,CAAC;QAAA;UAEzCE,WAAW,GAAGtC,OAAO,CAACgD,iBAAiB,CAACnD,MAAM,CAAC;UAErDoD,MAAM,CAACX,WAAW,CAAC,CAACY,YAAY,CAAC,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAT,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAhB,OAAA;EAAA,CACrC,GAAC;AACJ,CAAC,CAAC","ignoreList":[]}]}