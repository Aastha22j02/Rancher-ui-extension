{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/RoleBindings.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/RoleBindings.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuICJPYmplY3QiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gdCB8fCAiU2V0IiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiAiQXJndW1lbnRzIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBSQkFDIGFzIFJCQUNfTEFCRUxTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBSQkFDLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IF9DT05GSUcsIF9ERVRBSUwsIF9FRElULCBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgZmluZEJ5LCByZW1vdmVBdCwgcmVtb3ZlT2JqZWN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwpleHBvcnQgdmFyIFNDT1BFX05BTUVTUEFDRSA9ICdSb2xlJzsKZXhwb3J0IHZhciBTQ09QRV9DTFVTVEVSID0gJ0NsdXN0ZXJSb2xlJzsKLy8gZXhwb3J0IGNvbnN0IFNDT1BFX0dMT0JBTCA9ICdHbG9iYWxSb2xlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdCwKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUKICB9LAogIHByb3BzOiB7CiAgICByZWdpc3RlckFmdGVySG9vazogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIGFzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogX0NPTkZJRwogICAgfSwKICAgIGluU3RvcmU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2x1c3RlcicKICAgIH0sCiAgICByb2xlU2NvcGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgcmV0dXJuIFtTQ09QRV9OQU1FU1BBQ0UsIFNDT1BFX0NMVVNURVJdLmluY2x1ZGVzKHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICBiaW5kaW5nU2NvcGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgcmV0dXJuIFtTQ09QRV9OQU1FU1BBQ0UsIFNDT1BFX0NMVVNURVJdLmluY2x1ZGVzKHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICBuYW1lc3BhY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZmlsdGVyUm9sZUtleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IFJCQUNfTEFCRUxTLlBST0RVQ1QKICAgIH0sCiAgICBmaWx0ZXJSb2xlVmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBoYXNoLCBpblN0b3JlLCBvdXQsIGtleTsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGhhc2ggPSB7CiAgICAgICAgICAgICAgYWxsVXNlcnM6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5VU0VSCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaW5TdG9yZSA9IF90aGlzLmluU3RvcmU7CiAgICAgICAgICAgIGlmICghKF90aGlzLnJvbGVTY29wZSA9PT0gU0NPUEVfTkFNRVNQQUNFKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhhc2guYWxsUm9sZXMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogUkJBQy5ST0xFCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoIShfdGhpcy5yb2xlU2NvcGUgPT09IFNDT1BFX0NMVVNURVIpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhhc2guYWxsUm9sZXMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogUkJBQy5DTFVTVEVSX1JPTEUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAoIHRoaXMucm9sZVNjb3BlID09PSBTQ09QRV9HTE9CQUwgKSB7CiAgICAgICAgICAgIC8vIGhhc2guYWxsUm9sZXMgPSB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgeyB0eXBlOiBNQU5BR0VNRU5ULkdMT0JBTF9ST0xFIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHJvbGVTY29wZScpOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgaWYgKCEoX3RoaXMuYmluZGluZ1Njb3BlID09PSBTQ09QRV9OQU1FU1BBQ0UpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhhc2guYWxsQmluZGluZ3MgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogUkJBQy5ST0xFX0JJTkRJTkcKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBpZiAoIShfdGhpcy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX0NMVVNURVIpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhhc2guYWxsQmluZGluZ3MgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogUkJBQy5DTFVTVEVSX1JPTEVfQklORElORwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gfSBlbHNlIGlmICggdGhpcy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX0dMT0JBTCApIHsKICAgICAgICAgICAgLy8gaGFzaC5hbGxCaW5kaW5ncyA9IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7IHR5cGU6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEVfQklORElORyB9KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBzY29wZScpOwogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICByZXR1cm4gYWxsSGFzaChoYXNoKTsKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgIG91dCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGZvciAoa2V5IGluIG91dCkgewogICAgICAgICAgICAgIF90aGlzW2tleV0gPSBvdXRba2V5XTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5yZWFkRXhpc3RpbmdCaW5kaW5ncygpOwogICAgICAgICAgY2FzZSAyNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbFJvbGVzOiBudWxsLAogICAgICBhbGxCaW5kaW5nczogbnVsbCwKICAgICAgYWxsVXNlcnM6IG51bGwsCiAgICAgIHJvd3M6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNWaWV3OiBmdW5jdGlvbiBpc1ZpZXcoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9WSUVXOwogICAgfSwKICAgIHNob3dEZXRhaWw6IGZ1bmN0aW9uIHNob3dEZXRhaWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmFzID09PSBfREVUQUlMOwogICAgfSwKICAgIGRldGFpbEhlYWRlcnM6IGZ1bmN0aW9uIGRldGFpbEhlYWRlcnMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIG5hbWU6ICd0eXBlJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy50eXBlJywKICAgICAgICB2YWx1ZTogJ3N1YmplY3RLaW5kJywKICAgICAgICBzb3J0OiAnc3ViamVjdEtpbmQnLAogICAgICAgIHNlYXJjaDogJ3N1YmplY3RLaW5kJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3N1YmplY3QnLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnN1YmplY3QnLAogICAgICAgIHZhbHVlOiAndXNlck9iai5sYWJlbEZvclNlbGVjdCcsCiAgICAgICAgc29ydDogJ3VzZXJPYmoubGFiZWxGb3JTZWxlY3QnLAogICAgICAgIHNlYXJjaDogJ3VzZXJPYmoubGFiZWxGb3JTZWxlY3QnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncm9sZScsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMucm9sZScsCiAgICAgICAgdmFsdWU6ICdyb2xlT2JqLm5hbWVXaXRoaW5Qcm9kdWN0JywKICAgICAgICBzb3J0OiAncm9sZU9iai5uYW1lV2l0aGluUHJvZHVjdCcsCiAgICAgICAgc2VhcmNoOiAncm9sZU9iai5uYW1lV2l0aGluUHJvZHVjdCcKICAgICAgfV07CiAgICB9LAogICAgdXNlck9wdGlvbnM6IGZ1bmN0aW9uIHVzZXJPcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5hbGxVc2Vycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gIXguaXNTeXN0ZW07CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogeC5sYWJlbEZvclNlbGVjdCwKICAgICAgICAgIHZhbHVlOiB4LmlkCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgcm9sZU9wdGlvbnM6IGZ1bmN0aW9uIHJvbGVPcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5yb2xlcy5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHgubmFtZVdpdGhpblByb2R1Y3QsCiAgICAgICAgICB2YWx1ZTogeC5uYW1lCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgcm9sZXM6IGZ1bmN0aW9uIHJvbGVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGFsbCA9IHRoaXMuYWxsUm9sZXM7CiAgICAgIGlmICghdGhpcy5maWx0ZXJSb2xlS2V5IHx8ICF0aGlzLmZpbHRlclJvbGVWYWx1ZSkgewogICAgICAgIHJldHVybiBhbGw7CiAgICAgIH0KICAgICAgdmFyIG91dCA9IGFsbC5maWx0ZXIoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICB2YXIgX3JvbGUkbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuICgoX3JvbGUkbWV0YWRhdGEgPSByb2xlLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfcm9sZSRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfcm9sZSRtZXRhZGF0YSA9IF9yb2xlJG1ldGFkYXRhLmxhYmVscykgPT09IG51bGwgfHwgX3JvbGUkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb2xlJG1ldGFkYXRhW190aGlzMi5maWx0ZXJSb2xlS2V5XSkgPT09IF90aGlzMi5maWx0ZXJSb2xlVmFsdWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIGV4aXN0aW5nQmluZGluZ3M6IGZ1bmN0aW9uIGV4aXN0aW5nQmluZGluZ3MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgcm9sZXMgPSB0aGlzLnJvbGVzLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Lm5hbWU7CiAgICAgIH0pOwogICAgICB2YXIgb3V0ID0gdGhpcy5hbGxCaW5kaW5ncy5maWx0ZXIoZnVuY3Rpb24gKGJpbmRpbmcpIHsKICAgICAgICB2YXIgX2JpbmRpbmckcm9sZVJlZiwgX2JpbmRpbmckbWV0YWRhdGE7CiAgICAgICAgaWYgKGJpbmRpbmcucm9sZVJlZi5raW5kICE9PSBfdGhpczMucm9sZVNjb3BlIHx8ICEoKF9iaW5kaW5nJHJvbGVSZWYgPSBiaW5kaW5nLnJvbGVSZWYpICE9PSBudWxsICYmIF9iaW5kaW5nJHJvbGVSZWYgIT09IHZvaWQgMCAmJiBfYmluZGluZyRyb2xlUmVmLm5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpczMuYmluZGluZ1Njb3BlID09PSBTQ09QRV9OQU1FU1BBQ0UgJiYgKChfYmluZGluZyRtZXRhZGF0YSA9IGJpbmRpbmcubWV0YWRhdGEpID09PSBudWxsIHx8IF9iaW5kaW5nJG1ldGFkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYmluZGluZyRtZXRhZGF0YS5uYW1lc3BhY2UpICE9PSBfdGhpczMubmFtZXNwYWNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiByb2xlcy5pbmNsdWRlcyhiaW5kaW5nLnJvbGVSZWYubmFtZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIHVucmVtb3ZlZFJvd3M6IGZ1bmN0aW9uIHVucmVtb3ZlZFJvd3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvd3MuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgucmVtb3ZlICE9PSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5tb2RlICE9PSBfVklFVykgewogICAgICB0aGlzLnJlZ2lzdGVyQWZ0ZXJIb29rKHRoaXMuc2F2ZVJvbGVCaW5kaW5ncywgJ3NhdmVSb2xlQmluZGluZ3MnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlYWRFeGlzdGluZ0JpbmRpbmdzOiBmdW5jdGlvbiByZWFkRXhpc3RpbmdCaW5kaW5ncygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMucm93cyA9IHRoaXMuZXhpc3RpbmdCaW5kaW5ncy5tYXAoZnVuY3Rpb24gKGJpbmRpbmcpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmRpbmcuc3ViamVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBzdWJqZWN0ID0gYmluZGluZy5zdWJqZWN0c1tpXTsKCiAgICAgICAgICAvLyBXZSBoYXZlIG5vIHdheSB0byBkbyBncm91cHMgcmlnaHQgbm93Li4uCiAgICAgICAgICBpZiAoc3ViamVjdC5raW5kICE9PSAnVXNlcicpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdWJqZWN0S2luZDogc3ViamVjdC5raW5kLAogICAgICAgICAgICBzdWJqZWN0OiBzdWJqZWN0Lm5hbWUsCiAgICAgICAgICAgIHVzZXJPYmo6IGZpbmRCeShfdGhpczQuYWxsVXNlcnMsICdpZCcsIHN1YmplY3QubmFtZSksCiAgICAgICAgICAgIHJvbGVLaW5kOiBiaW5kaW5nLnJvbGVSZWYua2luZCwKICAgICAgICAgICAgcm9sZTogYmluZGluZy5yb2xlUmVmLm5hbWUsCiAgICAgICAgICAgIHJvbGVPYmo6IGZpbmRCeShfdGhpczQuYWxsUm9sZXMsICdpZCcsIGJpbmRpbmcucm9sZVJlZi5uYW1lKSwKICAgICAgICAgICAgZXhpc3Rpbmc6IGJpbmRpbmcsCiAgICAgICAgICAgIGV4aXN0aW5nSWR4OiBpLAogICAgICAgICAgICByZW1vdmU6IGZhbHNlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVJvbGVCaW5kaW5nczogZnVuY3Rpb24gc2F2ZVJvbGVCaW5kaW5ncygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcHJvbWlzZXMsIF9pdGVyYXRvciwgX3N0ZXAsIHJvdywgb2JqLCBzdWJqLCBuZXUsIF9vYmo7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTsKICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczUucm93cyk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByb3cgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICBpZiAoIXJvdy5yZW1vdmUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFuIGV4aXN0aW5nIGVudHJ5CgogICAgICAgICAgICAgIGlmIChyb3cuZXhpc3Rpbmcuc3ViamVjdHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG9ubHkgb25lIHN1YmplY3QsIHJlbW92ZSB0aGUgd2hvbGUgYmluZGluZwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnb25seSBvbmUgc3ViamVjdCcpOwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyb3cuZXhpc3RpbmcucmVtb3ZlKCkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG11bHRpcGxlIHN1YmplY3RzLCByZW1vdmUganVzdCB0aGlzIG9uZQogICAgICAgICAgICAgICAgcmVtb3ZlQXQocm93LmV4aXN0aW5nLnN1YmplY3RzLCByb3cuZXhpc3RpbmdJZHgpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnc3ViamVjdCcsIHJvdy5leGlzdGluZ0lkeCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgaWYgKCFyb3cuZXhpc3RpbmcpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gTWF5YmUgdXBkYXRlIGV4aXN0aW5nLCB3aGljaCBtaWdodCBiZSBhIFBVVCwgb3IgYSBQVVQgKyBQT1NULCBvciBhIERFTEVURSArIFBPU1QKICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSByb2xlIG9mIGFuIGV4aXN0aW5nIGJpbmRpbmcgY2FuJ3QgYmUgZWRpdGVkIGluIGs4cyAoYmVjYXVzZSByZWFzb25zLCBwcmVzdW1hYmx5KS4KICAgICAgICAgICAgICBvYmogPSByb3cuZXhpc3Rpbmc7CiAgICAgICAgICAgICAgc3ViaiA9IG9iai5zdWJqZWN0c1tyb3cuZXhpc3RpbmdJZHhdOwogICAgICAgICAgICAgIGlmICghKG9iai5yb2xlUmVmLm5hbWUgIT09IHJvdy5yb2xlIHx8IG9iai5yb2xlUmVmLmtpbmQgIT09IHJvdy5yb2xlS2luZCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmNyZWF0ZUZyb20ocm93KTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBuZXUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAvLyBNYWtlIGEgbmV3IGJpbmRpbmcKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKG5ldS5zYXZlKCkpOwogICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NyZWF0ZSBiaW5kaW5nIGZyb20nLCByb3cuZXhpc3RpbmcuaWQsICdiZWNhdXNlIHJvbGUgY2hhbmdlZCcpOwogICAgICAgICAgICAgIGlmIChvYmouc3ViamVjdHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG9ubHkgb25lIHN1YmplY3QsIHJlbW92ZSB0aGUgd2hvbGUgYmluZGluZwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmoucmVtb3ZlKCkpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnYmVjYXVzZSByb2xlIGNoYW5nZWQsIG9ubHkgb25lIHN1YmplY3QnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gVGhlcmUncyBtdWx0aXBsZSBzdWJqZWN0LCByZW1vdmUgdGhpcyBvbmUganVzdCB0aGlzIG9uZQogICAgICAgICAgICAgICAgcmVtb3ZlQXQob2JqLnN1YmplY3RzLCByb3cuZXhpc3RpbmdJZHgpOwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmouc2F2ZSgpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1VwZGF0ZScsIHJvdy5leGlzdGluZy5pZCwgJ3JlbW92ZSBzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4LCAnYmVjYXVzZSByb2xlIGNoYW5nZWQnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBpZiAoc3Viai5uYW1lICE9PSByb3cuc3ViamVjdCB8fCBzdWJqLmtpbmQgIT09IHJvdy5zdWJqZWN0S2luZCkgewogICAgICAgICAgICAgICAgLy8gVGhpcyBzdWJqZWN0IGNoYW5nZWQKICAgICAgICAgICAgICAgIHN1Ymoua2luZCA9IHJvdy5zdWJqZWN0S2luZDsKICAgICAgICAgICAgICAgIHN1YmoubmFtZSA9IHJvdy5zdWJqZWN0OwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmouc2F2ZSgpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NoYW5nZWQnLCByb3cuZXhpc3RpbmcuaWQsICdzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gTm90aGluZyBjaGFuZ2VkCiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdVbmNoYW5nZWQnLCByb3cuZXhpc3RpbmcuaWQsICdzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY3JlYXRlRnJvbShyb3cpOwogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9vYmogPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKF9vYmouc2F2ZSgpKTsKICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDcmVhdGUgYmluZGluZycpOwogICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzNzsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDM3KTsKICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDQwKTsKICAgICAgICAgICAgICAvLyBJZiBzb21ldGhpbmcgZ29lcyB3cm9uZywgZm9yZ2V0IGV2ZXJ5dGhpbmcgYW5kIHJlbG9hZCB0byBnZXQgdGhlIGN1cnJlbnQgc3RhdGUuCiAgICAgICAgICAgICAgX3RoaXM1LnJlYWRFeGlzdGluZ0JpbmRpbmdzKCk7CiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQxOwogICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDM0LCAzNywgNDBdLCBbNDAsIDQ1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVGcm9tOiBmdW5jdGlvbiBjcmVhdGVGcm9tKHJvdykgewogICAgICB2YXIgdHlwZSwgYXBpR3JvdXA7CiAgICAgIHZhciBpblN0b3JlID0gdGhpcy5pblN0b3JlOwogICAgICBpZiAodGhpcy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX05BTUVTUEFDRSkgewogICAgICAgIHR5cGUgPSBSQkFDLlJPTEVfQklORElORzsKICAgICAgICBhcGlHcm91cCA9ICdyYmFjLmF1dGhvcml6YXRpb24uazhzLmlvJzsKICAgICAgfSBlbHNlIGlmICh0aGlzLmJpbmRpbmdTY29wZSA9PT0gU0NPUEVfQ0xVU1RFUikgewogICAgICAgIHR5cGUgPSBSQkFDLkNMVVNURVJfUk9MRV9CSU5ESU5HOwogICAgICAgIGFwaUdyb3VwID0gJ3JiYWMuYXV0aG9yaXphdGlvbi5rOHMuaW8nOwogICAgICAgIC8vIH0gZWxzZSBpZiAoIHRoaXMuYmluZGluZ1Njb3BlID09PSBTQ09QRV9HTE9CQUwgKSB7CiAgICAgICAgLy8gICB0eXBlID0gTUFOQUdFTUVOVC5HTE9CQUxfUk9MRV9CSU5ESU5HOwogICAgICAgIC8vICAgaW5TdG9yZSA9ICdtYW5hZ2VtZW50JwogICAgICAgIC8vICAgYXBpR3JvdXAgPSAnbWFuYWdlbWVudC5jYXR0bGUuaW8nID8KICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYmluZGluZyBzY29wZScpOwogICAgICB9CiAgICAgIHZhciBvYmogPSB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9jcmVhdGUiKSwgewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgIGdlbmVyYXRlTmFtZTogInVpLSIuY29uY2F0KHRoaXMuZmlsdGVyUm9sZVZhbHVlID8gIiIuY29uY2F0KHRoaXMuZmlsdGVyUm9sZVZhbHVlLCAiLSIpIDogJycpLAogICAgICAgICAgbmFtZXNwYWNlOiB0aGlzLm5hbWVzcGFjZQogICAgICAgIH0sCiAgICAgICAgcm9sZVJlZjogewogICAgICAgICAgYXBpR3JvdXA6IGFwaUdyb3VwLAogICAgICAgICAga2luZDogcm93LnJvbGVLaW5kLAogICAgICAgICAgbmFtZTogcm93LnJvbGUKICAgICAgICB9LAogICAgICAgIHN1YmplY3RzOiBbewogICAgICAgICAgYXBpR3JvdXA6IGFwaUdyb3VwLAogICAgICAgICAga2luZDogcm93LnN1YmplY3RLaW5kLAogICAgICAgICAgbmFtZTogcm93LnN1YmplY3QKICAgICAgICB9XQogICAgICB9KTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShyb3cpIHsKICAgICAgaWYgKHJvdy5leGlzdGluZykgewogICAgICAgIHRoaXMuJHNldChyb3csICdyZW1vdmUnLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZW1vdmVPYmplY3QodGhpcy5yb3dzLCByb3cpOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMucm93cy5wdXNoKHsKICAgICAgICBzdWJqZWN0S2luZDogJ1VzZXInLAogICAgICAgIHN1YmplY3Q6ICcnLAogICAgICAgIHJvbGVLaW5kOiB0aGlzLnJvbGVTY29wZSwKICAgICAgICByb2xlOiAnJwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["RBAC","RBAC_LABELS","allHash","MANAGEMENT","_CONFIG","_DETAIL","_EDIT","_VIEW","findBy","removeAt","removeObject","Loading","SortableTable","LabeledSelect","SCOPE_NAMESPACE","SCOPE_CLUSTER","components","props","registerAfterHook","type","Function","default","mode","String","as","inStore","roleScope","required","validator","val","includes","bindingScope","namespace","filterRoleKey","PRODUCT","filterRoleValue","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","out","key","wrap","_callee$","_context","prev","next","allUsers","$store","dispatch","USER","allRoles","concat","ROLE","CLUSTER_ROLE","Error","allBindings","ROLE_BINDING","CLUSTER_ROLE_BINDING","sent","readExistingBindings","stop","data","rows","computed","isView","showDetail","detailHeaders","name","labelKey","value","sort","search","userOptions","filter","x","isSystem","map","label","labelForSelect","id","roleOptions","roles","nameWithinProduct","_this2","all","role","_role$metadata","metadata","labels","existingBindings","_this3","binding","_binding$roleRef","_binding$metadata","roleRef","kind","unremovedRows","remove","created","saveRoleBindings","methods","_this4","i","subjects","length","subject","subjectKind","userObj","roleKind","roleObj","existing","existingIdx","_this5","_callee2","promises","_iterator","_step","row","obj","subj","neu","_obj","_callee2$","_context2","_createForOfIteratorHelper","s","n","done","console","debug","push","createFrom","save","t0","e","f","finish","Promise","t1","apiGroup","generateName","$set","add"],"sources":["node_modules/@rancher/shell/components/RoleBindings.vue"],"sourcesContent":["<script>\nimport { RBAC as RBAC_LABELS } from '@shell/config/labels-annotations';\nimport { allHash } from '@shell/utils/promise';\nimport { RBAC, MANAGEMENT } from '@shell/config/types';\nimport { _CONFIG, _DETAIL, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { findBy, removeAt, removeObject } from '@shell/utils/array';\nimport Loading from '@shell/components/Loading';\nimport SortableTable from '@shell/components/SortableTable';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport const SCOPE_NAMESPACE = 'Role';\nexport const SCOPE_CLUSTER = 'ClusterRole';\n// export const SCOPE_GLOBAL = 'GlobalRole';\n\nexport default {\n  components: {\n    Loading, LabeledSelect, SortableTable\n  },\n\n  props: {\n    registerAfterHook: {\n      type:    Function,\n      default: null,\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    as: {\n      type:    String,\n      default: _CONFIG,\n    },\n\n    inStore: {\n      type:    String,\n      default: 'cluster',\n    },\n\n    roleScope: {\n      type:     String,\n      required: true,\n      validator(val) {\n        return [SCOPE_NAMESPACE, SCOPE_CLUSTER].includes(val);\n      }\n    },\n\n    bindingScope: {\n      type:     String,\n      required: true,\n      validator(val) {\n        return [SCOPE_NAMESPACE, SCOPE_CLUSTER].includes(val);\n      }\n    },\n\n    namespace: {\n      type:    String,\n      default: null,\n    },\n\n    filterRoleKey: {\n      type:    String,\n      default: RBAC_LABELS.PRODUCT\n    },\n\n    filterRoleValue: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  async fetch() {\n    const hash = { allUsers: this.$store.dispatch('management/findAll', { type: MANAGEMENT.USER }) };\n    const inStore = this.inStore;\n\n    if ( this.roleScope === SCOPE_NAMESPACE ) {\n      hash.allRoles = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.ROLE });\n    } else if ( this.roleScope === SCOPE_CLUSTER ) {\n      hash.allRoles = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.CLUSTER_ROLE });\n    // } else if ( this.roleScope === SCOPE_GLOBAL ) {\n    // hash.allRoles = this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE });\n    } else {\n      throw new Error('Unknown roleScope');\n    }\n\n    if ( this.bindingScope === SCOPE_NAMESPACE ) {\n      hash.allBindings = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.ROLE_BINDING });\n    } else if ( this.bindingScope === SCOPE_CLUSTER ) {\n      hash.allBindings = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.CLUSTER_ROLE_BINDING });\n    // } else if ( this.bindingScope === SCOPE_GLOBAL ) {\n    // hash.allBindings = this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE_BINDING });\n    } else {\n      throw new Error('Unknown scope');\n    }\n\n    const out = await allHash(hash);\n\n    for ( const key in out ) {\n      this[key] = out[key];\n    }\n\n    this.readExistingBindings();\n  },\n\n  data() {\n    return {\n      allRoles:    null,\n      allBindings: null,\n      allUsers:    null,\n      rows:        null,\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    showDetail() {\n      return this.as === _DETAIL;\n    },\n\n    detailHeaders() {\n      return [\n        {\n          name:     'type',\n          labelKey: 'tableHeaders.type',\n          value:    'subjectKind',\n          sort:     'subjectKind',\n          search:   'subjectKind',\n        },\n        {\n          name:     'subject',\n          labelKey: 'tableHeaders.subject',\n          value:    'userObj.labelForSelect',\n          sort:     'userObj.labelForSelect',\n          search:   'userObj.labelForSelect',\n        },\n        {\n          name:     'role',\n          labelKey: 'tableHeaders.role',\n          value:    'roleObj.nameWithinProduct',\n          sort:     'roleObj.nameWithinProduct',\n          search:   'roleObj.nameWithinProduct',\n        },\n      ];\n    },\n\n    userOptions() {\n      return this.allUsers.filter((x) => {\n        return !x.isSystem;\n      }).map((x) => {\n        return {\n          label: x.labelForSelect,\n          value: x.id,\n        };\n      });\n    },\n\n    roleOptions() {\n      return this.roles.map((x) => {\n        return { label: x.nameWithinProduct, value: x.name };\n      });\n    },\n\n    roles() {\n      const all = this.allRoles;\n\n      if ( !this.filterRoleKey || !this.filterRoleValue ) {\n        return all;\n      }\n\n      const out = all.filter((role) => {\n        return role.metadata?.labels?.[this.filterRoleKey] === this.filterRoleValue;\n      });\n\n      return out;\n    },\n\n    existingBindings() {\n      const roles = this.roles.map((x) => x.name);\n\n      const out = this.allBindings.filter((binding) => {\n        if ( binding.roleRef.kind !== this.roleScope || !binding.roleRef?.name) {\n          return false;\n        }\n\n        if ( this.bindingScope === SCOPE_NAMESPACE && binding.metadata?.namespace !== this.namespace ) {\n          return false;\n        }\n\n        return roles.includes(binding.roleRef.name);\n      });\n\n      return out;\n    },\n\n    unremovedRows() {\n      return this.rows.filter((x) => x.remove !== true);\n    },\n  },\n\n  created() {\n    if ( this.mode !== _VIEW ) {\n      this.registerAfterHook(this.saveRoleBindings, 'saveRoleBindings');\n    }\n  },\n\n  methods: {\n    readExistingBindings() {\n      this.rows = this.existingBindings.map((binding) => {\n        for ( let i = 0 ; i < binding.subjects.length ; i++ ) {\n          const subject = binding.subjects[i];\n\n          // We have no way to do groups right now...\n          if ( subject.kind !== 'User' ) {\n            continue;\n          }\n\n          return {\n            subjectKind: subject.kind,\n            subject:     subject.name,\n            userObj:     findBy(this.allUsers, 'id', subject.name),\n            roleKind:    binding.roleRef.kind,\n            role:        binding.roleRef.name,\n            roleObj:     findBy(this.allRoles, 'id', binding.roleRef.name),\n            existing:    binding,\n            existingIdx: i,\n            remove:      false,\n          };\n        }\n      });\n    },\n\n    async saveRoleBindings() {\n      /* eslint-disable no-console */\n\n      const promises = [];\n\n      for ( const row of this.rows ) {\n        if ( row.remove ) {\n          // Remove an existing entry\n\n          if ( row.existing.subjects.length === 1 ) {\n            // There's only one subject, remove the whole binding\n            console.debug('Remove', row.existing.id, 'only one subject');\n            promises.push(row.existing.remove());\n          } else {\n          // There's multiple subjects, remove just this one\n            removeAt(row.existing.subjects, row.existingIdx);\n            console.debug('Remove', row.existing.id, 'subject', row.existingIdx);\n          }\n        } else if ( row.existing ) {\n          // Maybe update existing, which might be a PUT, or a PUT + POST, or a DELETE + POST\n          // because the role of an existing binding can't be edited in k8s (because reasons, presumably).\n          const obj = row.existing;\n          const subj = obj.subjects[row.existingIdx];\n\n          if ( obj.roleRef.name !== row.role || obj.roleRef.kind !== row.roleKind ) {\n            // The role changed\n            const neu = await this.createFrom(row);\n\n            // Make a new binding\n            promises.push(neu.save());\n            console.debug('Create binding from', row.existing.id, 'because role changed');\n\n            if ( obj.subjects.length === 1 ) {\n              // There's only one subject, remove the whole binding\n              promises.push(obj.remove());\n              console.debug('Remove', row.existing.id, 'because role changed, only one subject');\n            } else {\n              // There's multiple subject, remove this one just this one\n              removeAt(obj.subjects, row.existingIdx);\n              promises.push(obj.save());\n              console.debug('Update', row.existing.id, 'remove subject', row.existingIdx, 'because role changed');\n            }\n          } else if ( subj.name !== row.subject || subj.kind !== row.subjectKind ) {\n            // This subject changed\n            subj.kind = row.subjectKind;\n            subj.name = row.subject;\n\n            promises.push(obj.save());\n            console.debug('Changed', row.existing.id, 'subject', row.existingIdx);\n          } else {\n            // Nothing changed\n            console.debug('Unchanged', row.existing.id, 'subject', row.existingIdx);\n          }\n        } else {\n          // Create new\n          const obj = await this.createFrom(row);\n\n          promises.push(obj.save());\n          console.debug('Create binding');\n        }\n      }\n\n      try {\n        await Promise.all(promises);\n      } catch (e) {\n        // If something goes wrong, forget everything and reload to get the current state.\n        this.readExistingBindings();\n        throw e;\n      }\n\n      /* eslint-enable no-console */\n    },\n\n    createFrom(row) {\n      let type, apiGroup;\n      const inStore = this.inStore;\n\n      if ( this.bindingScope === SCOPE_NAMESPACE ) {\n        type = RBAC.ROLE_BINDING;\n        apiGroup = 'rbac.authorization.k8s.io';\n      } else if ( this.bindingScope === SCOPE_CLUSTER ) {\n        type = RBAC.CLUSTER_ROLE_BINDING;\n        apiGroup = 'rbac.authorization.k8s.io';\n      // } else if ( this.bindingScope === SCOPE_GLOBAL ) {\n      //   type = MANAGEMENT.GLOBAL_ROLE_BINDING;\n      //   inStore = 'management'\n      //   apiGroup = 'management.cattle.io' ?\n      } else {\n        throw new Error('Unknown binding scope');\n      }\n\n      const obj = this.$store.dispatch(`${ inStore }/create`, {\n        type,\n        metadata: {\n          generateName: `ui-${ this.filterRoleValue ? `${ this.filterRoleValue }-` : '' }`,\n          namespace:    this.namespace,\n        },\n        roleRef: {\n          apiGroup,\n          kind: row.roleKind,\n          name: row.role,\n        },\n        subjects: [\n          {\n            apiGroup,\n            kind: row.subjectKind,\n            name: row.subject,\n          },\n        ]\n      });\n\n      return obj;\n    },\n\n    remove(row) {\n      if ( row.existing ) {\n        this.$set(row, 'remove', true);\n      } else {\n        removeObject(this.rows, row);\n      }\n    },\n\n    add() {\n      this.rows.push({\n        subjectKind: 'User',\n        subject:     '',\n        roleKind:    this.roleScope,\n        role:        '',\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else-if=\"showDetail\">\n    <SortableTable\n      :rows=\"unremovedRows\"\n      :headers=\"detailHeaders\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"existing.id\"\n      default-sort-by=\"subject\"\n      :paged=\"true\"\n    />\n  </div>\n  <div v-else>\n    <div\n      v-for=\"(row, idx) in unremovedRows\"\n      :key=\"idx\"\n      class=\"role-row\"\n      :class=\"{[mode]: true}\"\n    >\n      <div class=\"subject\">\n        <LabeledSelect\n          v-model=\"row.subject\"\n          label-key=\"rbac.roleBinding.user.label\"\n          :mode=\"mode\"\n          :searchable=\"true\"\n          :taggable=\"true\"\n          :options=\"userOptions\"\n        />\n      </div>\n      <div class=\"binding\">\n        <LabeledSelect\n          v-model=\"row.role\"\n          label-key=\"rbac.roleBinding.role.label\"\n          :mode=\"mode\"\n          :searchable=\"true\"\n          :taggable=\"true\"\n          :options=\"roleOptions\"\n        />\n      </div>\n      <div class=\"remove\">\n        <button\n          v-t=\"'generic.remove'\"\n          :disabled=\"isView\"\n          type=\"button\"\n          class=\"btn role-link\"\n          @click=\"remove(row)\"\n        />\n      </div>\n    </div>\n    <div>\n      <button\n        v-t=\"'rbac.roleBinding.add'\"\n        :disabled=\"isView\"\n        type=\"button\"\n        class=\"btn role-tertiary add\"\n        @click=\"add()\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.role-row{\n  display: grid;\n  grid-template-columns: 45% 45% 10%;\n\n  grid-column-gap: $column-gutter;\n  margin-bottom: 10px;\n  align-items: center;\n  & .port{\n    display: flex;\n    justify-content: space-between;\n  }\n\n  &.show-host{\n    grid-template-columns: 30% 16% 10% 15% 15% 5%;\n  }\n\n}\n\n.add-host {\n  justify-self: center;\n}\n\n.protocol {\n  height: 100%;\n}\n\n.ports-headers {\n  color: var(--input-label);\n}\n\n.toggle-host-ports {\n  color: var(--primary);\n}\n\n.remove BUTTON {\n  padding: 0px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}