{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/config/product/gatekeeper.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/config/product/gatekeeper.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2NvcGFibGVzLmZsYXQuanMiOwppbXBvcnQgeyBEU0wgfSBmcm9tICdAc2hlbGwvc3RvcmUvdHlwZS1tYXAnOwppbXBvcnQgeyBHQVRFS0VFUEVSLCBPQkpFQ1RfTUVUQSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBBR0UsIE5BTUUgYXMgTkFNRV9DT0wsIFNUQVRFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IHsgZmluZEFsbENvbnN0cmFpbnRzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2dhdGVrZWVwZXIvdXRpbCc7CmV4cG9ydCB2YXIgTkFNRSA9ICdnYXRla2VlcGVyJzsKZXhwb3J0IHZhciBDSEFSVF9OQU1FID0gJ3JhbmNoZXItZ2F0ZWtlZXBlcic7CmV4cG9ydCBmdW5jdGlvbiBpbml0KHN0b3JlKSB7CiAgdmFyIF9EU0wgPSBEU0woc3RvcmUsIE5BTUUpLAogICAgcHJvZHVjdCA9IF9EU0wucHJvZHVjdCwKICAgIGJhc2ljVHlwZSA9IF9EU0wuYmFzaWNUeXBlLAogICAgZ3JvdXBCeSA9IF9EU0wuZ3JvdXBCeSwKICAgIGhlYWRlcnMgPSBfRFNMLmhlYWRlcnMsCiAgICBtYXBHcm91cCA9IF9EU0wubWFwR3JvdXAsCiAgICBtYXBUeXBlID0gX0RTTC5tYXBUeXBlLAogICAgc3Bvb2ZlZFR5cGUgPSBfRFNMLnNwb29mZWRUeXBlLAogICAgdmlydHVhbFR5cGUgPSBfRFNMLnZpcnR1YWxUeXBlOwogIHByb2R1Y3QoewogICAgaWZIYXZlR3JvdXA6IC9eKC4qXC4pP2dhdGVrZWVwZXJcLnNoJC8sCiAgICBpY29uOiAnZ2F0ZWtlZXBlcicKICB9KTsKICBtYXBHcm91cCgvXiguKlwuKT9nYXRla2VlcGVyXC5zaCQvLCAnT1BBIEdhdGVrZWVwZXInKTsKICBtYXBUeXBlKC9edGVtcGxhdGVzXC5nYXRla2VlcGVyXC5zaFwuY29uc3RyYWludHRlbXBsYXRlJC8sICdUZW1wbGF0ZScpOwogIG1hcFR5cGUoR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsICdDb25zdHJhaW50Jyk7CiAgYmFzaWNUeXBlKFsnZ2F0ZWtlZXBlci1vdmVydmlldycsICdnYXRla2VlcGVyLWNvbnN0cmFpbnQnLCAnZ2F0ZWtlZXBlci10ZW1wbGF0ZScsIEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULCBHQVRFS0VFUEVSLkNPTlNUUkFJTlRfVEVNUExBVEVdKTsKICBzcG9vZmVkVHlwZSh7CiAgICBsYWJlbDogJ0NvbnN0cmFpbnRzJywKICAgIHR5cGU6IEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULAogICAgY29sbGVjdGlvbk1ldGhvZHM6IFsnUE9TVCddLAogICAgc2NoZW1hczogW3sKICAgICAgaWQ6IEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULAogICAgICB0eXBlOiAnc2NoZW1hJywKICAgICAgY29sbGVjdGlvbk1ldGhvZHM6IFsnUE9TVCddLAogICAgICByZXNvdXJjZUZpZWxkczogewogICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICB0eXBlOiBPQkpFQ1RfTUVUQQogICAgICAgIH0sCiAgICAgICAgc3BlYzogewogICAgICAgICAgdHlwZTogJ2pzb24nCiAgICAgICAgfSwKICAgICAgICBraW5kOiB7CiAgICAgICAgICB0eXBlOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfQogICAgfV0sCiAgICBnZXRJbnN0YW5jZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRJbnN0YW5jZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByYXdDb25zdHJhaW50czsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGZpbmRBbGxDb25zdHJhaW50cyhzdG9yZSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByYXdDb25zdHJhaW50cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmF3Q29uc3RyYWludHMuZmxhdCgpLm1hcChmdW5jdGlvbiAoY29uc3RyYWludCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGNvbnN0cmFpbnQuaWQsCiAgICAgICAgICAgICAgICAgIGtpbmQ6IGNvbnN0cmFpbnQua2luZCwKICAgICAgICAgICAgICAgICAgdHlwZTogR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsCiAgICAgICAgICAgICAgICAgIHNwZWM6IGNvbnN0cmFpbnQuc3BlYywKICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IGNvbnN0cmFpbnQubWV0YWRhdGEsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogY29uc3RyYWludC5zdGF0dXMsCiAgICAgICAgICAgICAgICAgIGxpbmtzOiB7CiAgICAgICAgICAgICAgICAgICAgc2VsZjogY29uc3RyYWludC5saW5rcy5zZWxmLAogICAgICAgICAgICAgICAgICAgIHZpZXc6IGNvbnN0cmFpbnQubGlua3MudmlldwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBjb25zdHJhaW50OiBjb25zdHJhaW50CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VzKCkgewogICAgICAgIHJldHVybiBfZ2V0SW5zdGFuY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGdldEluc3RhbmNlczsKICAgIH0oKQogIH0pOwogIHZpcnR1YWxUeXBlKHsKICAgIGxhYmVsOiAnT3ZlcnZpZXcnLAogICAgbmFtZXNwYWNlZDogZmFsc2UsCiAgICBuYW1lOiAnZ2F0ZWtlZXBlci1vdmVydmlldycsCiAgICByb3V0ZTogewogICAgICBuYW1lOiAnYy1jbHVzdGVyLWdhdGVrZWVwZXInCiAgICB9LAogICAgZXhhY3Q6IHRydWUsCiAgICB3ZWlnaHQ6IDMsCiAgICBvdmVydmlldzogdHJ1ZQogIH0pOwogIGhlYWRlcnMoR0FURUtFRVBFUi5DT05TVFJBSU5UX1RFTVBMQVRFLCBbU1RBVEUsIE5BTUVfQ09MLCB7CiAgICBuYW1lOiAnS2luZCcsCiAgICBsYWJlbDogJ0tpbmQnLAogICAgdmFsdWU6ICdraW5kJywKICAgIHNvcnQ6ICdraW5kJwogIH0sIEFHRV0pOwogIGhlYWRlcnMoR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsIFtTVEFURSwgTkFNRV9DT0wsIHsKICAgIG5hbWU6ICdEZXNjcmlwdGlvbicsCiAgICBsYWJlbDogJ0Rlc2NyaXB0aW9uJywKICAgIHZhbHVlOiAiZGVzY3JpcHRpb24iLAogICAgc29ydDogImRlc2NyaXB0aW9uIgogIH0sIHsKICAgIG5hbWU6ICdWaW9sYXRpb25zJywKICAgIGxhYmVsOiAnVmlvbGF0aW9ucycsCiAgICB2YWx1ZTogJ3N0YXR1cy50b3RhbFZpb2xhdGlvbnMnLAogICAgc29ydDogJ3N0YXR1cy50b3RhbFZpb2xhdGlvbnMnLAogICAgd2lkdGg6IDEyMAogIH0sIEFHRV0pOwogIGdyb3VwQnkoR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsICdraW5kJyk7Cn0="},{"version":3,"names":["DSL","GATEKEEPER","OBJECT_META","AGE","NAME","NAME_COL","STATE","findAllConstraints","CHART_NAME","init","store","_DSL","product","basicType","groupBy","headers","mapGroup","mapType","spoofedType","virtualType","ifHaveGroup","icon","SPOOFED","CONSTRAINT","CONSTRAINT_TEMPLATE","label","type","collectionMethods","schemas","id","resourceFields","metadata","spec","kind","getInstances","_getInstances","_asyncToGenerator","_regeneratorRuntime","mark","_callee","rawConstraints","wrap","_callee$","_context","prev","next","sent","abrupt","flat","map","constraint","status","links","self","view","stop","apply","arguments","namespaced","name","route","exact","weight","overview","value","sort","width"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/config/product/gatekeeper.js"],"sourcesContent":["import { DSL } from '@shell/store/type-map';\nimport { GATEKEEPER, OBJECT_META } from '@shell/config/types';\nimport { AGE, NAME as NAME_COL, STATE } from '@shell/config/table-headers';\nimport { findAllConstraints } from '@shell/utils/gatekeeper/util';\n\nexport const NAME = 'gatekeeper';\nexport const CHART_NAME = 'rancher-gatekeeper';\n\nexport function init(store) {\n  const {\n    product,\n    basicType,\n    groupBy,\n    headers,\n    mapGroup,\n    mapType,\n    spoofedType,\n    virtualType\n  } = DSL(store, NAME);\n\n  product({\n    ifHaveGroup: /^(.*\\.)?gatekeeper\\.sh$/,\n    icon:        'gatekeeper',\n  });\n\n  mapGroup(/^(.*\\.)?gatekeeper\\.sh$/, 'OPA Gatekeeper');\n  mapType(/^templates\\.gatekeeper\\.sh\\.constrainttemplate$/, 'Template');\n  mapType(GATEKEEPER.SPOOFED.CONSTRAINT, 'Constraint');\n\n  basicType([\n    'gatekeeper-overview',\n    'gatekeeper-constraint',\n    'gatekeeper-template',\n    GATEKEEPER.SPOOFED.CONSTRAINT,\n    GATEKEEPER.CONSTRAINT_TEMPLATE\n  ]);\n\n  spoofedType({\n    label:             'Constraints',\n    type:              GATEKEEPER.SPOOFED.CONSTRAINT,\n    collectionMethods: ['POST'],\n    schemas:           [\n      {\n        id:                GATEKEEPER.SPOOFED.CONSTRAINT,\n        type:              'schema',\n        collectionMethods: ['POST'],\n        resourceFields:    {\n          metadata: { type: OBJECT_META },\n          spec:     { type: 'json' },\n          kind:     { type: 'string' }\n        }\n      }\n    ],\n    getInstances: async() => {\n      const rawConstraints = await findAllConstraints(store);\n\n      return rawConstraints\n        .flat()\n        .map((constraint) => {\n          return {\n            id:       constraint.id,\n            kind:     constraint.kind,\n            type:     GATEKEEPER.SPOOFED.CONSTRAINT,\n            spec:     constraint.spec,\n            metadata: constraint.metadata,\n            status:   constraint.status,\n            links:    {\n              self: constraint.links.self,\n              view: constraint.links.view\n            },\n            constraint\n          };\n        });\n    }\n  });\n\n  virtualType({\n    label:      'Overview',\n    namespaced: false,\n    name:       'gatekeeper-overview',\n    route:      { name: 'c-cluster-gatekeeper' },\n    exact:      true,\n    weight:     3,\n    overview:   true,\n  });\n\n  headers(GATEKEEPER.CONSTRAINT_TEMPLATE, [\n    STATE,\n    NAME_COL,\n    {\n      name:  'Kind',\n      label: 'Kind',\n      value: 'kind',\n      sort:  'kind'\n    },\n    AGE,\n  ]);\n\n  headers(GATEKEEPER.SPOOFED.CONSTRAINT, [\n    STATE,\n    NAME_COL,\n    {\n      name:  'Description',\n      label: 'Description',\n      value: `description`,\n      sort:  `description`\n    },\n    {\n      name:  'Violations',\n      label: 'Violations',\n      value: 'status.totalViolations',\n      sort:  'status.totalViolations',\n      width: 120\n    },\n    AGE,\n  ]);\n\n  groupBy(GATEKEEPER.SPOOFED.CONSTRAINT, 'kind');\n}\n"],"mappings":";;;;;;AAAA,SAASA,GAAG,QAAQ,uBAAuB;AAC3C,SAASC,UAAU,EAAEC,WAAW,QAAQ,qBAAqB;AAC7D,SAASC,GAAG,EAAEC,IAAI,IAAIC,QAAQ,EAAEC,KAAK,QAAQ,6BAA6B;AAC1E,SAASC,kBAAkB,QAAQ,8BAA8B;AAEjE,OAAO,IAAMH,IAAI,GAAG,YAAY;AAChC,OAAO,IAAMI,UAAU,GAAG,oBAAoB;AAE9C,OAAO,SAASC,IAAIA,CAACC,KAAK,EAAE;EAC1B,IAAAC,IAAA,GASIX,GAAG,CAACU,KAAK,EAAEN,IAAI,CAAC;IARlBQ,OAAO,GAAAD,IAAA,CAAPC,OAAO;IACPC,SAAS,GAAAF,IAAA,CAATE,SAAS;IACTC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IACPC,OAAO,GAAAJ,IAAA,CAAPI,OAAO;IACPC,QAAQ,GAAAL,IAAA,CAARK,QAAQ;IACRC,OAAO,GAAAN,IAAA,CAAPM,OAAO;IACPC,WAAW,GAAAP,IAAA,CAAXO,WAAW;IACXC,WAAW,GAAAR,IAAA,CAAXQ,WAAW;EAGbP,OAAO,CAAC;IACNQ,WAAW,EAAE,yBAAyB;IACtCC,IAAI,EAAS;EACf,CAAC,CAAC;EAEFL,QAAQ,CAAC,yBAAyB,EAAE,gBAAgB,CAAC;EACrDC,OAAO,CAAC,iDAAiD,EAAE,UAAU,CAAC;EACtEA,OAAO,CAAChB,UAAU,CAACqB,OAAO,CAACC,UAAU,EAAE,YAAY,CAAC;EAEpDV,SAAS,CAAC,CACR,qBAAqB,EACrB,uBAAuB,EACvB,qBAAqB,EACrBZ,UAAU,CAACqB,OAAO,CAACC,UAAU,EAC7BtB,UAAU,CAACuB,mBAAmB,CAC/B,CAAC;EAEFN,WAAW,CAAC;IACVO,KAAK,EAAc,aAAa;IAChCC,IAAI,EAAezB,UAAU,CAACqB,OAAO,CAACC,UAAU;IAChDI,iBAAiB,EAAE,CAAC,MAAM,CAAC;IAC3BC,OAAO,EAAY,CACjB;MACEC,EAAE,EAAiB5B,UAAU,CAACqB,OAAO,CAACC,UAAU;MAChDG,IAAI,EAAe,QAAQ;MAC3BC,iBAAiB,EAAE,CAAC,MAAM,CAAC;MAC3BG,cAAc,EAAK;QACjBC,QAAQ,EAAE;UAAEL,IAAI,EAAExB;QAAY,CAAC;QAC/B8B,IAAI,EAAM;UAAEN,IAAI,EAAE;QAAO,CAAC;QAC1BO,IAAI,EAAM;UAAEP,IAAI,EAAE;QAAS;MAC7B;IACF,CAAC,CACF;IACDQ,YAAY;MAAA,IAAAC,aAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;QAAA,IAAAC,cAAA;QAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACiBtC,kBAAkB,CAACG,KAAK,CAAC;YAAA;cAAhD8B,cAAc,GAAAG,QAAA,CAAAG,IAAA;cAAA,OAAAH,QAAA,CAAAI,MAAA,WAEbP,cAAc,CAClBQ,IAAI,CAAC,CAAC,CACNC,GAAG,CAAC,UAACC,UAAU,EAAK;gBACnB,OAAO;kBACLrB,EAAE,EAAQqB,UAAU,CAACrB,EAAE;kBACvBI,IAAI,EAAMiB,UAAU,CAACjB,IAAI;kBACzBP,IAAI,EAAMzB,UAAU,CAACqB,OAAO,CAACC,UAAU;kBACvCS,IAAI,EAAMkB,UAAU,CAAClB,IAAI;kBACzBD,QAAQ,EAAEmB,UAAU,CAACnB,QAAQ;kBAC7BoB,MAAM,EAAID,UAAU,CAACC,MAAM;kBAC3BC,KAAK,EAAK;oBACRC,IAAI,EAAEH,UAAU,CAACE,KAAK,CAACC,IAAI;oBAC3BC,IAAI,EAAEJ,UAAU,CAACE,KAAK,CAACE;kBACzB,CAAC;kBACDJ,UAAU,EAAVA;gBACF,CAAC;cACH,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAP,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA,CACL;MAAA,SAAAL,aAAA;QAAA,OAAAC,aAAA,CAAAqB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAvB,YAAA;IAAA;EACH,CAAC,CAAC;EAEFf,WAAW,CAAC;IACVM,KAAK,EAAO,UAAU;IACtBiC,UAAU,EAAE,KAAK;IACjBC,IAAI,EAAQ,qBAAqB;IACjCC,KAAK,EAAO;MAAED,IAAI,EAAE;IAAuB,CAAC;IAC5CE,KAAK,EAAO,IAAI;IAChBC,MAAM,EAAM,CAAC;IACbC,QAAQ,EAAI;EACd,CAAC,CAAC;EAEFhD,OAAO,CAACd,UAAU,CAACuB,mBAAmB,EAAE,CACtClB,KAAK,EACLD,QAAQ,EACR;IACEsD,IAAI,EAAG,MAAM;IACblC,KAAK,EAAE,MAAM;IACbuC,KAAK,EAAE,MAAM;IACbC,IAAI,EAAG;EACT,CAAC,EACD9D,GAAG,CACJ,CAAC;EAEFY,OAAO,CAACd,UAAU,CAACqB,OAAO,CAACC,UAAU,EAAE,CACrCjB,KAAK,EACLD,QAAQ,EACR;IACEsD,IAAI,EAAG,aAAa;IACpBlC,KAAK,EAAE,aAAa;IACpBuC,KAAK,eAAe;IACpBC,IAAI;EACN,CAAC,EACD;IACEN,IAAI,EAAG,YAAY;IACnBlC,KAAK,EAAE,YAAY;IACnBuC,KAAK,EAAE,wBAAwB;IAC/BC,IAAI,EAAG,wBAAwB;IAC/BC,KAAK,EAAE;EACT,CAAC,EACD/D,GAAG,CACJ,CAAC;EAEFW,OAAO,CAACb,UAAU,CAACqB,OAAO,CAACC,UAAU,EAAE,MAAM,CAAC;AAChD","ignoreList":[]}]}