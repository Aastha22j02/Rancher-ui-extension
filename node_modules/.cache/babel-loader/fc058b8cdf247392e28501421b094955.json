{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/config/product/gatekeeper.js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/config/product/gatekeeper.js","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC5qcyI7CmltcG9ydCB7IERTTCB9IGZyb20gJ0BzaGVsbC9zdG9yZS90eXBlLW1hcCc7CmltcG9ydCB7IEdBVEVLRUVQRVIsIE9CSkVDVF9NRVRBIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IEFHRSwgTkFNRSBhcyBOQU1FX0NPTCwgU1RBVEUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgeyBmaW5kQWxsQ29uc3RyYWludHMgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ2F0ZWtlZXBlci91dGlsJzsKZXhwb3J0IHZhciBOQU1FID0gJ2dhdGVrZWVwZXInOwpleHBvcnQgdmFyIENIQVJUX05BTUUgPSAncmFuY2hlci1nYXRla2VlcGVyJzsKZXhwb3J0IGZ1bmN0aW9uIGluaXQoc3RvcmUpIHsKICB2YXIgX0RTTCA9IERTTChzdG9yZSwgTkFNRSksCiAgICBwcm9kdWN0ID0gX0RTTC5wcm9kdWN0LAogICAgYmFzaWNUeXBlID0gX0RTTC5iYXNpY1R5cGUsCiAgICBncm91cEJ5ID0gX0RTTC5ncm91cEJ5LAogICAgaGVhZGVycyA9IF9EU0wuaGVhZGVycywKICAgIG1hcEdyb3VwID0gX0RTTC5tYXBHcm91cCwKICAgIG1hcFR5cGUgPSBfRFNMLm1hcFR5cGUsCiAgICBzcG9vZmVkVHlwZSA9IF9EU0wuc3Bvb2ZlZFR5cGUsCiAgICB2aXJ0dWFsVHlwZSA9IF9EU0wudmlydHVhbFR5cGU7CiAgcHJvZHVjdCh7CiAgICBpZkhhdmVHcm91cDogL14oLipcLik/Z2F0ZWtlZXBlclwuc2gkLywKICAgIGljb246ICdnYXRla2VlcGVyJwogIH0pOwogIG1hcEdyb3VwKC9eKC4qXC4pP2dhdGVrZWVwZXJcLnNoJC8sICdPUEEgR2F0ZWtlZXBlcicpOwogIG1hcFR5cGUoL150ZW1wbGF0ZXNcLmdhdGVrZWVwZXJcLnNoXC5jb25zdHJhaW50dGVtcGxhdGUkLywgJ1RlbXBsYXRlJyk7CiAgbWFwVHlwZShHQVRFS0VFUEVSLlNQT09GRUQuQ09OU1RSQUlOVCwgJ0NvbnN0cmFpbnQnKTsKICBiYXNpY1R5cGUoWydnYXRla2VlcGVyLW92ZXJ2aWV3JywgJ2dhdGVrZWVwZXItY29uc3RyYWludCcsICdnYXRla2VlcGVyLXRlbXBsYXRlJywgR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsIEdBVEVLRUVQRVIuQ09OU1RSQUlOVF9URU1QTEFURV0pOwogIHNwb29mZWRUeXBlKHsKICAgIGxhYmVsOiAnQ29uc3RyYWludHMnLAogICAgdHlwZTogR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsCiAgICBjb2xsZWN0aW9uTWV0aG9kczogWydQT1NUJ10sCiAgICBzY2hlbWFzOiBbewogICAgICBpZDogR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQsCiAgICAgIHR5cGU6ICdzY2hlbWEnLAogICAgICBjb2xsZWN0aW9uTWV0aG9kczogWydQT1NUJ10sCiAgICAgIHJlc291cmNlRmllbGRzOiB7CiAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgIHR5cGU6IE9CSkVDVF9NRVRBCiAgICAgICAgfSwKICAgICAgICBzcGVjOiB7CiAgICAgICAgICB0eXBlOiAnanNvbicKICAgICAgICB9LAogICAgICAgIGtpbmQ6IHsKICAgICAgICAgIHR5cGU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9CiAgICB9XSwKICAgIGdldEluc3RhbmNlczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEluc3RhbmNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmF3Q29uc3RyYWludHM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmaW5kQWxsQ29uc3RyYWludHMoc3RvcmUpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmF3Q29uc3RyYWludHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJhd0NvbnN0cmFpbnRzLmZsYXQoKS5tYXAoZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGlkOiBjb25zdHJhaW50LmlkLAogICAgICAgICAgICAgICAgICBraW5kOiBjb25zdHJhaW50LmtpbmQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULAogICAgICAgICAgICAgICAgICBzcGVjOiBjb25zdHJhaW50LnNwZWMsCiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBjb25zdHJhaW50Lm1ldGFkYXRhLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGNvbnN0cmFpbnQuc3RhdHVzLAogICAgICAgICAgICAgICAgICBsaW5rczogewogICAgICAgICAgICAgICAgICAgIHNlbGY6IGNvbnN0cmFpbnQubGlua3Muc2VsZiwKICAgICAgICAgICAgICAgICAgICB2aWV3OiBjb25zdHJhaW50LmxpbmtzLnZpZXcKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgY29uc3RyYWludDogY29uc3RyYWludAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIGZ1bmN0aW9uIGdldEluc3RhbmNlcygpIHsKICAgICAgICByZXR1cm4gX2dldEluc3RhbmNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBnZXRJbnN0YW5jZXM7CiAgICB9KCkKICB9KTsKICB2aXJ0dWFsVHlwZSh7CiAgICBsYWJlbDogJ092ZXJ2aWV3JywKICAgIG5hbWVzcGFjZWQ6IGZhbHNlLAogICAgbmFtZTogJ2dhdGVrZWVwZXItb3ZlcnZpZXcnLAogICAgcm91dGU6IHsKICAgICAgbmFtZTogJ2MtY2x1c3Rlci1nYXRla2VlcGVyJwogICAgfSwKICAgIGV4YWN0OiB0cnVlLAogICAgd2VpZ2h0OiAzLAogICAgb3ZlcnZpZXc6IHRydWUKICB9KTsKICBoZWFkZXJzKEdBVEVLRUVQRVIuQ09OU1RSQUlOVF9URU1QTEFURSwgW1NUQVRFLCBOQU1FX0NPTCwgewogICAgbmFtZTogJ0tpbmQnLAogICAgbGFiZWw6ICdLaW5kJywKICAgIHZhbHVlOiAna2luZCcsCiAgICBzb3J0OiAna2luZCcKICB9LCBBR0VdKTsKICBoZWFkZXJzKEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULCBbU1RBVEUsIE5BTUVfQ09MLCB7CiAgICBuYW1lOiAnRGVzY3JpcHRpb24nLAogICAgbGFiZWw6ICdEZXNjcmlwdGlvbicsCiAgICB2YWx1ZTogImRlc2NyaXB0aW9uIiwKICAgIHNvcnQ6ICJkZXNjcmlwdGlvbiIKICB9LCB7CiAgICBuYW1lOiAnVmlvbGF0aW9ucycsCiAgICBsYWJlbDogJ1Zpb2xhdGlvbnMnLAogICAgdmFsdWU6ICdzdGF0dXMudG90YWxWaW9sYXRpb25zJywKICAgIHNvcnQ6ICdzdGF0dXMudG90YWxWaW9sYXRpb25zJywKICAgIHdpZHRoOiAxMjAKICB9LCBBR0VdKTsKICBncm91cEJ5KEdBVEVLRUVQRVIuU1BPT0ZFRC5DT05TVFJBSU5ULCAna2luZCcpOwp9"},{"version":3,"names":["DSL","GATEKEEPER","OBJECT_META","AGE","NAME","NAME_COL","STATE","findAllConstraints","CHART_NAME","init","store","_DSL","product","basicType","groupBy","headers","mapGroup","mapType","spoofedType","virtualType","ifHaveGroup","icon","SPOOFED","CONSTRAINT","CONSTRAINT_TEMPLATE","label","type","collectionMethods","schemas","id","resourceFields","metadata","spec","kind","getInstances","_getInstances","_asyncToGenerator","_regeneratorRuntime","mark","_callee","rawConstraints","wrap","_callee$","_context","prev","next","sent","abrupt","flat","map","constraint","status","links","self","view","stop","apply","arguments","namespaced","name","route","exact","weight","overview","value","sort","width"],"sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/config/product/gatekeeper.js"],"sourcesContent":["import { DSL } from '@shell/store/type-map';\nimport { GATEKEEPER, OBJECT_META } from '@shell/config/types';\nimport { AGE, NAME as NAME_COL, STATE } from '@shell/config/table-headers';\nimport { findAllConstraints } from '@shell/utils/gatekeeper/util';\n\nexport const NAME = 'gatekeeper';\nexport const CHART_NAME = 'rancher-gatekeeper';\n\nexport function init(store) {\n  const {\n    product,\n    basicType,\n    groupBy,\n    headers,\n    mapGroup,\n    mapType,\n    spoofedType,\n    virtualType\n  } = DSL(store, NAME);\n\n  product({\n    ifHaveGroup: /^(.*\\.)?gatekeeper\\.sh$/,\n    icon:        'gatekeeper',\n  });\n\n  mapGroup(/^(.*\\.)?gatekeeper\\.sh$/, 'OPA Gatekeeper');\n  mapType(/^templates\\.gatekeeper\\.sh\\.constrainttemplate$/, 'Template');\n  mapType(GATEKEEPER.SPOOFED.CONSTRAINT, 'Constraint');\n\n  basicType([\n    'gatekeeper-overview',\n    'gatekeeper-constraint',\n    'gatekeeper-template',\n    GATEKEEPER.SPOOFED.CONSTRAINT,\n    GATEKEEPER.CONSTRAINT_TEMPLATE\n  ]);\n\n  spoofedType({\n    label:             'Constraints',\n    type:              GATEKEEPER.SPOOFED.CONSTRAINT,\n    collectionMethods: ['POST'],\n    schemas:           [\n      {\n        id:                GATEKEEPER.SPOOFED.CONSTRAINT,\n        type:              'schema',\n        collectionMethods: ['POST'],\n        resourceFields:    {\n          metadata: { type: OBJECT_META },\n          spec:     { type: 'json' },\n          kind:     { type: 'string' }\n        }\n      }\n    ],\n    getInstances: async() => {\n      const rawConstraints = await findAllConstraints(store);\n\n      return rawConstraints\n        .flat()\n        .map((constraint) => {\n          return {\n            id:       constraint.id,\n            kind:     constraint.kind,\n            type:     GATEKEEPER.SPOOFED.CONSTRAINT,\n            spec:     constraint.spec,\n            metadata: constraint.metadata,\n            status:   constraint.status,\n            links:    {\n              self: constraint.links.self,\n              view: constraint.links.view\n            },\n            constraint\n          };\n        });\n    }\n  });\n\n  virtualType({\n    label:      'Overview',\n    namespaced: false,\n    name:       'gatekeeper-overview',\n    route:      { name: 'c-cluster-gatekeeper' },\n    exact:      true,\n    weight:     3,\n    overview:   true,\n  });\n\n  headers(GATEKEEPER.CONSTRAINT_TEMPLATE, [\n    STATE,\n    NAME_COL,\n    {\n      name:  'Kind',\n      label: 'Kind',\n      value: 'kind',\n      sort:  'kind'\n    },\n    AGE,\n  ]);\n\n  headers(GATEKEEPER.SPOOFED.CONSTRAINT, [\n    STATE,\n    NAME_COL,\n    {\n      name:  'Description',\n      label: 'Description',\n      value: `description`,\n      sort:  `description`\n    },\n    {\n      name:  'Violations',\n      label: 'Violations',\n      value: 'status.totalViolations',\n      sort:  'status.totalViolations',\n      width: 120\n    },\n    AGE,\n  ]);\n\n  groupBy(GATEKEEPER.SPOOFED.CONSTRAINT, 'kind');\n}\n"],"mappings":"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","ignoreList":[]}]}