{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/form/ResourceTabs/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/form/ResourceTabs/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwovKgogICAgVGFiIGNvbXBvbmVudCBmb3IgcmVzb3VyY2UgQ1JVIHBhZ2VzIGZlYXR1cmluZzoKICAgIExhYmVscyBhbmQgQW5ub3RhdGlvbiB0YWJzIHdpdGggY29udGVudCBmaWx0ZXJlZCBieSBjcmVhdGUtZWRpdC12aWV3IG1peGluCiovCmltcG9ydCBUYWJiZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBDb25kaXRpb25zIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vQ29uZGl0aW9ucyc7CmltcG9ydCB7IEVWRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFJlbGF0ZWRSZXNvdXJjZXMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVsYXRlZFJlc291cmNlcyc7CmltcG9ydCB7IEV4dGVuc2lvblBvaW50LCBUYWJMb2NhdGlvbiB9IGZyb20gJ0BzaGVsbC9jb3JlL3R5cGVzJzsKaW1wb3J0IHsgZ2V0QXBwbGljYWJsZUV4dGVuc2lvbkVuaGFuY2VtZW50cyB9IGZyb20gJ0BzaGVsbC9jb3JlL3BsdWdpbi1oZWxwZXJzJzsKaW1wb3J0IHsgaXNDb25kaXRpb25SZWFkeUFuZFdhaXRpbmcgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Jlc291cmNlVGFicycsCiAgY29tcG9uZW50czogewogICAgVGFiYmVkOiBUYWJiZWQsCiAgICBUYWI6IFRhYiwKICAgIENvbmRpdGlvbnM6IENvbmRpdGlvbnMsCiAgICBTb3J0YWJsZVRhYmxlOiBTb3J0YWJsZVRhYmxlLAogICAgUmVsYXRlZFJlc291cmNlczogUmVsYXRlZFJlc291cmNlcwogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIHByb3BzOiB7CiAgICAvLyByZXNvdXJjZSBpbnN0YW5jZQogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyBjcmVhdGUtZWRpdC12aWV3IG1vZGUKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfVklFVwogICAgfSwKICAgIGRlZmF1bHRUYWI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbmVlZENvbmRpdGlvbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIG5lZWRFdmVudHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIG5lZWRSZWxhdGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBleHRlbnNpb25QYXJhbXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGluU3RvcmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXShFVkVOVCk7CiAgICByZXR1cm4gewogICAgICBoYXNFdmVudHM6IHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KGluU3RvcmUsICIvc2NoZW1hRm9yIildKEVWRU5UKSwKICAgICAgLy8gQFRPRE8gYmUgc21hcnRlciBhYm91dCB3aGljaCByZXNvdXJjZXMgYWN0dWFsbHkgZXZlciBoYXZlIGV2ZW50cwogICAgICBhbGxFdmVudHM6IFtdLAogICAgICBzZWxlY3RlZFRhYjogdGhpcy5kZWZhdWx0VGFiLAogICAgICBkaWRMb2FkRXZlbnRzOiBmYWxzZSwKICAgICAgZXh0ZW5zaW9uVGFiczogZ2V0QXBwbGljYWJsZUV4dGVuc2lvbkVuaGFuY2VtZW50cyh0aGlzLCBFeHRlbnNpb25Qb2ludC5UQUIsIFRhYkxvY2F0aW9uLlJFU09VUkNFX0RFVEFJTCwgdGhpcy4kcm91dGUsIHRoaXMsIHRoaXMuZXh0ZW5zaW9uUGFyYW1zKSwKICAgICAgaW5TdG9yZTogaW5TdG9yZSwKICAgICAgc2hvd0NvbmRpdGlvbnM6IGZhbHNlCiAgICB9OwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZvcmdldFR5cGUnLCBFVkVOVCk7CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICAvLyBCeSB0aGlzIHN0YWdlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBzZXQuIFRha2luZyBhIGNoYW5jZSB0aGF0IHRoaXMgaXMgdHJ1ZQogICAgLy8gVGhlIGFsdGVybmF0aXZlIGlzIGhhdmUgYW4gZXhwZW5zaXZlIHdhdGNoIG9uIHRoZSBgdmFsdWVgIGFuZCB0cmlnZ2VyIHRoZXJlIChhcyB3ZWxsKQogICAgdGhpcy5zZXRTaG93Q29uZGl0aW9ucygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dFdmVudHM6IGZ1bmN0aW9uIHNob3dFdmVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzVmlldyAmJiB0aGlzLm5lZWRFdmVudHMgJiYgdGhpcy5oYXNFdmVudHM7CiAgICB9LAogICAgc2hvd1JlbGF0ZWQ6IGZ1bmN0aW9uIHNob3dSZWxhdGVkKCkgewogICAgICByZXR1cm4gdGhpcy5pc1ZpZXcgJiYgdGhpcy5uZWVkUmVsYXRlZDsKICAgIH0sCiAgICBldmVudEhlYWRlcnM6IGZ1bmN0aW9uIGV2ZW50SGVhZGVycygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgbmFtZTogJ3R5cGUnLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ3RhYmxlSGVhZGVycy50eXBlJyksCiAgICAgICAgdmFsdWU6ICdldmVudFR5cGUnLAogICAgICAgIHNvcnQ6ICdldmVudFR5cGUnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncmVhc29uJywKICAgICAgICBsYWJlbDogdGhpcy50KCd0YWJsZUhlYWRlcnMucmVhc29uJyksCiAgICAgICAgdmFsdWU6ICdyZWFzb24nLAogICAgICAgIHNvcnQ6ICdyZWFzb24nCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnZGF0ZScsCiAgICAgICAgbGFiZWw6IHRoaXMudCgndGFibGVIZWFkZXJzLnVwZGF0ZWQnKSwKICAgICAgICB2YWx1ZTogJ2RhdGUnLAogICAgICAgIHNvcnQ6ICdkYXRlOmRlc2MnLAogICAgICAgIGZvcm1hdHRlcjogJ0xpdmVEYXRlJywKICAgICAgICBmb3JtYXR0ZXJPcHRzOiB7CiAgICAgICAgICBhZGRTdWZmaXg6IHRydWUKICAgICAgICB9LAogICAgICAgIHdpZHRoOiAxMjUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdtZXNzYWdlJywKICAgICAgICBsYWJlbDogdGhpcy50KCd0YWJsZUhlYWRlcnMubWVzc2FnZScpLAogICAgICAgIHZhbHVlOiAnbWVzc2FnZScsCiAgICAgICAgc29ydDogJ21lc3NhZ2UnCiAgICAgIH1dOwogICAgfSwKICAgIGV2ZW50czogZnVuY3Rpb24gZXZlbnRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy5hbGxFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBfZXZlbnQkaW52b2x2ZWRPYmplY3QsIF90aGlzJHZhbHVlOwogICAgICAgIHJldHVybiAoKF9ldmVudCRpbnZvbHZlZE9iamVjdCA9IGV2ZW50Lmludm9sdmVkT2JqZWN0KSA9PT0gbnVsbCB8fCBfZXZlbnQkaW52b2x2ZWRPYmplY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRpbnZvbHZlZE9iamVjdC51aWQpID09PSAoKF90aGlzJHZhbHVlID0gX3RoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS51aWQpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHJlYXNvbjogIiIuY29uY2F0KGV2ZW50LnJlYXNvbiB8fCBfdGhpcy50KCdnZW5lcmljLnVua25vd24nKSkuY29uY2F0KGV2ZW50LmNvdW50ID4gMSA/ICIgKCIuY29uY2F0KGV2ZW50LmNvdW50LCAiKSIpIDogJycpLnRyaW0oKSwKICAgICAgICAgIG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UgfHwgX3RoaXMudCgnZ2VuZXJpYy51bmtub3duJyksCiAgICAgICAgICBkYXRlOiBldmVudC5sYXN0VGltZXN0YW1wIHx8IGV2ZW50LmZpcnN0VGltZXN0YW1wIHx8IGV2ZW50Lm1ldGFkYXRhLmNyZWF0aW9uVGltZXN0YW1wLAogICAgICAgICAgZXZlbnRUeXBlOiBldmVudC5ldmVudFR5cGUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBjb25kaXRpb25zSGF2ZUlzc3VlczogZnVuY3Rpb24gY29uZGl0aW9uc0hhdmVJc3N1ZXMoKSB7CiAgICAgIGlmICh0aGlzLnNob3dDb25kaXRpb25zKSB7CiAgICAgICAgdmFyIF90aGlzJHZhbHVlJHN0YXR1czsKICAgICAgICByZXR1cm4gKF90aGlzJHZhbHVlJHN0YXR1cyA9IHRoaXMudmFsdWUuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRzdGF0dXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUkc3RhdHVzID0gX3RoaXMkdmFsdWUkc3RhdHVzLmNvbmRpdGlvbnMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlJHN0YXR1cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkc3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoY29uZCkgewogICAgICAgICAgcmV0dXJuICFpc0NvbmRpdGlvblJlYWR5QW5kV2FpdGluZyhjb25kKTsKICAgICAgICB9KS5zb21lKGZ1bmN0aW9uIChjb25kKSB7CiAgICAgICAgICByZXR1cm4gY29uZC5lcnJvcjsKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBFbnN1cmVzIHdlIG9ubHkgZmV0Y2ggZXZlbnRzIGFuZCBzaG93IHRoZSB0YWJsZSB3aGVuIHRoZSBldmVudHMgdGFiIGhhcyBiZWVuIGFjdGl2YXRlZAogICAgdGFiQ2hhbmdlOiBmdW5jdGlvbiB0YWJDaGFuZ2UobmV1KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnNlbGVjdGVkVGFiID0gbmV1ID09PSBudWxsIHx8IG5ldSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV1LnNlbGVjdGVkTmFtZTsKICAgICAgaWYgKCF0aGlzLmRpZExvYWRFdmVudHMgJiYgdGhpcy5zZWxlY3RlZFRhYiA9PT0gJ2V2ZW50cycpIHsKICAgICAgICB2YXIgaW5TdG9yZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRTdG9yZSddKEVWRU5UKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgIHR5cGU6IEVWRU5UCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZXZlbnRzKSB7CiAgICAgICAgICBfdGhpczIuYWxsRXZlbnRzID0gZXZlbnRzOwogICAgICAgICAgX3RoaXMyLmRpZExvYWRFdmVudHMgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAqIENvbmRpdGlvbnMgY29tZSBmcm9tIGEgcmVzb3VyY2UncyBgc3RhdHVzYC4gVGhleSBhcmUgdXNlZCBieSBib3RoIGNvcmUgcmVzb3VyY2VzIGxpa2Ugd29ya2xvYWRzIGFzIHdlbGwgYXMgdGhvc2UgZnJvbSBDUkRzCiAgICAqIC0gV29ya2xvYWRzCiAgICAqIC0gTm9kZXMKICAgICogLSBGbGVldCBnaXQgcmVwbwogICAgKiAtIENsdXN0ZXIgKHByb3Zpc2lvbmluZykKICAgICoKICAgICogQ2hlY2sgaGVyZSBpZiB0aGUgcmVzb3VyY2UgdHlwZSBjb250YWlucyBjb25kaXRpb25zIHZpYSB0aGUgc2NoZW1hIHJlc291cmNlRmllbGRzCiAgICAqLwogICAgc2V0U2hvd0NvbmRpdGlvbnM6IGZ1bmN0aW9uIHNldFNob3dDb25kaXRpb25zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMzJHZhbHVlLCBfdGhpczMkc2NoZW1hOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIShfdGhpczMuaXNWaWV3ICYmIF90aGlzMy5uZWVkQ29uZGl0aW9ucyAmJiAhISgoX3RoaXMzJHZhbHVlID0gX3RoaXMzLnZhbHVlKSAhPT0gbnVsbCAmJiBfdGhpczMkdmFsdWUgIT09IHZvaWQgMCAmJiBfdGhpczMkdmFsdWUudHlwZSkgJiYgISEoKF90aGlzMyRzY2hlbWEgPSBfdGhpczMuc2NoZW1hKSAhPT0gbnVsbCAmJiBfdGhpczMkc2NoZW1hICE9PSB2b2lkIDAgJiYgX3RoaXMzJHNjaGVtYS5mZXRjaFJlc291cmNlRmllbGRzKSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2NoZW1hLmZldGNoUmVzb3VyY2VGaWVsZHMoKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF90aGlzMy5zaG93Q29uZGl0aW9ucyA9IF90aGlzMy4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQoX3RoaXMzLmluU3RvcmUsICIvcGF0aEV4aXN0c0luU2NoZW1hIildKF90aGlzMy52YWx1ZS50eXBlLCAnc3RhdHVzLmNvbmRpdGlvbnMnKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Tabbed","Tab","CreateEditView","Conditions","EVENT","SortableTable","_VIEW","RelatedResources","ExtensionPoint","TabLocation","getApplicableExtensionEnhancements","isConditionReadyAndWaiting","name","components","mixins","props","value","type","Object","default","mode","String","defaultTab","needConditions","Boolean","needEvents","needRelated","extensionParams","data","inStore","$store","getters","hasEvents","concat","allEvents","selectedTab","didLoadEvents","extensionTabs","TAB","RESOURCE_DETAIL","$route","showConditions","beforeDestroy","dispatch","fetch","setShowConditions","computed","showEvents","isView","showRelated","eventHeaders","label","t","sort","formatter","formatterOpts","addSuffix","width","events","_this","filter","event","_event$involvedObject","_this$value","involvedObject","uid","metadata","map","reason","count","trim","message","date","lastTimestamp","firstTimestamp","creationTimestamp","eventType","conditionsHaveIssues","_this$value$status","status","conditions","cond","some","error","methods","tabChange","neu","_this2","selectedName","then","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this3$value","_this3$schema","wrap","_callee$","_context","prev","next","schema","fetchResourceFields","stop"],"sources":["node_modules/@rancher/shell/components/form/ResourceTabs/index.vue"],"sourcesContent":["<script>\n/*\n    Tab component for resource CRU pages featuring:\n    Labels and Annotation tabs with content filtered by create-edit-view mixin\n*/\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Conditions from '@shell/components/form/Conditions';\nimport { EVENT } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { _VIEW } from '@shell/config/query-params';\nimport RelatedResources from '@shell/components/RelatedResources';\nimport { ExtensionPoint, TabLocation } from '@shell/core/types';\nimport { getApplicableExtensionEnhancements } from '@shell/core/plugin-helpers';\nimport { isConditionReadyAndWaiting } from '@shell/plugins/dashboard-store/resource-class';\n\nexport default {\n\n  name: 'ResourceTabs',\n\n  components: {\n    Tabbed,\n    Tab,\n    Conditions,\n    SortableTable,\n    RelatedResources,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    // resource instance\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    // create-edit-view mode\n    mode: {\n      type:    String,\n      default: _VIEW,\n    },\n\n    defaultTab: {\n      type:    String,\n      default: null,\n    },\n\n    needConditions: {\n      type:    Boolean,\n      default: true\n    },\n\n    needEvents: {\n      type:    Boolean,\n      default: true\n    },\n\n    needRelated: {\n      type:    Boolean,\n      default: true\n    },\n\n    extensionParams: {\n      type:    Object,\n      default: null\n    }\n  },\n\n  data() {\n    const inStore = this.$store.getters['currentStore'](EVENT);\n\n    return {\n      hasEvents:      this.$store.getters[`${ inStore }/schemaFor`](EVENT), // @TODO be smarter about which resources actually ever have events\n      allEvents:      [],\n      selectedTab:    this.defaultTab,\n      didLoadEvents:  false,\n      extensionTabs:  getApplicableExtensionEnhancements(this, ExtensionPoint.TAB, TabLocation.RESOURCE_DETAIL, this.$route, this, this.extensionParams),\n      inStore,\n      showConditions: false,\n    };\n  },\n\n  beforeDestroy() {\n    this.$store.dispatch('cluster/forgetType', EVENT);\n  },\n\n  fetch() {\n    // By this stage the `value` should be set. Taking a chance that this is true\n    // The alternative is have an expensive watch on the `value` and trigger there (as well)\n    this.setShowConditions();\n  },\n\n  computed: {\n    showEvents() {\n      return this.isView && this.needEvents && this.hasEvents;\n    },\n    showRelated() {\n      return this.isView && this.needRelated;\n    },\n    eventHeaders() {\n      return [\n        {\n          name:  'type',\n          label: this.t('tableHeaders.type'),\n          value: 'eventType',\n          sort:  'eventType',\n        },\n        {\n          name:  'reason',\n          label: this.t('tableHeaders.reason'),\n          value: 'reason',\n          sort:  'reason',\n        },\n        {\n          name:          'date',\n          label:         this.t('tableHeaders.updated'),\n          value:         'date',\n          sort:          'date:desc',\n          formatter:     'LiveDate',\n          formatterOpts: { addSuffix: true },\n          width:         125\n        },\n        {\n          name:  'message',\n          label: this.t('tableHeaders.message'),\n          value: 'message',\n          sort:  'message',\n        },\n      ];\n    },\n    events() {\n      return this.allEvents.filter((event) => {\n        return event.involvedObject?.uid === this.value?.metadata?.uid;\n      }).map((event) => {\n        return {\n          reason:    (`${ event.reason || this.t('generic.unknown') }${ event.count > 1 ? ` (${ event.count })` : '' }`).trim(),\n          message:   event.message || this.t('generic.unknown'),\n          date:      event.lastTimestamp || event.firstTimestamp || event.metadata.creationTimestamp,\n          eventType: event.eventType\n        };\n      });\n    },\n    conditionsHaveIssues() {\n      if (this.showConditions) {\n        return this.value.status?.conditions?.filter((cond) => !isConditionReadyAndWaiting(cond)).some((cond) => cond.error);\n      }\n\n      return false;\n    }\n  },\n\n  methods: {\n    // Ensures we only fetch events and show the table when the events tab has been activated\n    tabChange(neu) {\n      this.selectedTab = neu?.selectedName;\n\n      if (!this.didLoadEvents && this.selectedTab === 'events') {\n        const inStore = this.$store.getters['currentStore'](EVENT);\n\n        this.$store.dispatch(`${ inStore }/findAll`, { type: EVENT }).then((events) => {\n          this.allEvents = events;\n          this.didLoadEvents = true;\n        });\n      }\n    },\n\n    /**\n    * Conditions come from a resource's `status`. They are used by both core resources like workloads as well as those from CRDs\n    * - Workloads\n    * - Nodes\n    * - Fleet git repo\n    * - Cluster (provisioning)\n    *\n    * Check here if the resource type contains conditions via the schema resourceFields\n    */\n    async setShowConditions() {\n      if (this.isView && this.needConditions && !!this.value?.type && !!this.schema?.fetchResourceFields) {\n        await this.schema.fetchResourceFields();\n\n        this.showConditions = this.$store.getters[`${ this.inStore }/pathExistsInSchema`](this.value.type, 'status.conditions');\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Tabbed\n    v-bind=\"$attrs\"\n    :default-tab=\"defaultTab\"\n    @changed=\"tabChange\"\n  >\n    <slot />\n\n    <Tab\n      v-if=\"showConditions\"\n      label-key=\"resourceTabs.conditions.tab\"\n      name=\"conditions\"\n      :weight=\"-1\"\n      :display-alert-icon=\"conditionsHaveIssues\"\n    >\n      <Conditions :value=\"value\" />\n    </Tab>\n\n    <Tab\n      v-if=\"showEvents\"\n      label-key=\"resourceTabs.events.tab\"\n      name=\"events\"\n      :weight=\"-2\"\n    >\n      <SortableTable\n        v-if=\"selectedTab === 'events'\"\n        :rows=\"events\"\n        :headers=\"eventHeaders\"\n        key-field=\"id\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        default-sort-by=\"date\"\n      />\n    </Tab>\n\n    <Tab\n      v-if=\"showRelated\"\n      name=\"related\"\n      label-key=\"resourceTabs.related.tab\"\n      :weight=\"-3\"\n    >\n      <h3 v-t=\"'resourceTabs.related.from'\" />\n      <RelatedResources\n        :ignore-types=\"[value.type]\"\n        :value=\"value\"\n        direction=\"from\"\n      />\n\n      <h3\n        v-t=\"'resourceTabs.related.to'\"\n        class=\"mt-20\"\n      />\n      <RelatedResources\n        :ignore-types=\"[value.type]\"\n        :value=\"value\"\n        direction=\"to\"\n      />\n    </Tab>\n\n    <!-- Extension tabs -->\n    <Tab\n      v-for=\"tab, i in extensionTabs\"\n      :key=\"`${tab.name}${i}`\"\n      :name=\"tab.name\"\n      :label=\"tab.label\"\n      :label-key=\"tab.labelKey\"\n      :weight=\"tab.weight\"\n      :tooltip=\"tab.tooltip\"\n      :show-header=\"tab.showHeader\"\n      :display-alert-icon=\"tab.displayAlertIcon\"\n      :error=\"tab.error\"\n      :badge=\"tab.badge\"\n    >\n      <component\n        :is=\"tab.component\"\n        :resource=\"value\"\n      />\n    </Tab>\n  </Tabbed>\n</template>\n"],"mappings":"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","ignoreList":[]}]}