{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBVbml0SW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Vbml0SW5wdXQnOwppbXBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyByZW1vdmVPYmplY3QsIGFkZE9iamVjdCB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IFNUT1JBR0VfQ0xBU1MsIFBWIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdCwKICAgIFVuaXRJbnB1dDogVW5pdElucHV0LAogICAgUmFkaW9Hcm91cDogUmFkaW9Hcm91cCwKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0CiAgfSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlckJlZm9yZUhvb2s6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBzYXZlUHZjSG9va05hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIHN0b3JhZ2VDbGFzc2VzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNUT1JBR0VfQ0xBU1MKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBwZXJzaXN0ZW50Vm9sdW1lczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBQVgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBoYXNoID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuc3RvcmFnZUNsYXNzZXMgPSBoYXNoLnN0b3JhZ2VDbGFzc2VzOwogICAgICAgICAgICBfdGhpcy5wZXJzaXN0ZW50Vm9sdW1lcyA9IGhhc2gucGVyc2lzdGVudFZvbHVtZXM7CiAgICAgICAgICAgIF90aGlzLiRzZXQoX3RoaXMuc3BlYywgJ3N0b3JhZ2VDbGFzc05hbWUnLCBfdGhpcy5zcGVjLnN0b3JhZ2VDbGFzc05hbWUgfHwgX3RoaXMuZGVmYXVsdFN0b3JhZ2VDbGFzc05hbWUpOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHNwZWMgPSB0aGlzLnZhbHVlLnNwZWM7CiAgICBpZiAoIXRoaXMudmFsdWUubWV0YWRhdGEpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdtZXRhZGF0YScsIHt9KTsKICAgIH0KICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICdhY2Nlc3NNb2RlcycsIHRoaXMudmFsdWUuc3BlYy5hY2Nlc3NNb2RlcyB8fCBbXSk7CiAgICByZXR1cm4gewogICAgICBzdG9yYWdlQ2xhc3NlczogW10sCiAgICAgIHBlcnNpc3RlbnRWb2x1bWVzOiBbXSwKICAgICAgaXNDcmVhdGVQVjogdHJ1ZSwKICAgICAgc3BlYzogc3BlYywKICAgICAgdW5pcXVlSWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8vIEFsbG93cyBmb3JtIHN0YXRlIHRvIGJlIGluZGl2aWR1YWxseSBkZWxldGVkCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgc3RvcmFnZUNsYXNzTmFtZXM6IGZ1bmN0aW9uIHN0b3JhZ2VDbGFzc05hbWVzKCkgewogICAgICByZXR1cm4gdGhpcy5zdG9yYWdlQ2xhc3Nlcy5tYXAoZnVuY3Rpb24gKHNjKSB7CiAgICAgICAgcmV0dXJuIHNjLm1ldGFkYXRhLm5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICogUmVxdWlyZWQgdG8gaW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgU0Mgb24gY3JlYXRpb24KICAgICAqLwogICAgZGVmYXVsdFN0b3JhZ2VDbGFzc05hbWU6IGZ1bmN0aW9uIGRlZmF1bHRTdG9yYWdlQ2xhc3NOYW1lKCkgewogICAgICB2YXIgX3RoaXMkc3RvcmFnZUNsYXNzZXMkOwogICAgICByZXR1cm4gKF90aGlzJHN0b3JhZ2VDbGFzc2VzJCA9IHRoaXMuc3RvcmFnZUNsYXNzZXMuZmluZChmdW5jdGlvbiAoc2MpIHsKICAgICAgICB2YXIgX3NjJG1ldGFkYXRhLCBfc2MkbWV0YWRhdGEyOwogICAgICAgIHJldHVybiAoKF9zYyRtZXRhZGF0YSA9IHNjLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfc2MkbWV0YWRhdGEgPT09IHZvaWQgMCB8fCAoX3NjJG1ldGFkYXRhID0gX3NjJG1ldGFkYXRhLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfc2MkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zYyRtZXRhZGF0YVsnc3RvcmFnZWNsYXNzLmJldGEua3ViZXJuZXRlcy5pby9pcy1kZWZhdWx0LWNsYXNzJ10pID09PSAndHJ1ZScgfHwgKChfc2MkbWV0YWRhdGEyID0gc2MubWV0YWRhdGEpID09PSBudWxsIHx8IF9zYyRtZXRhZGF0YTIgPT09IHZvaWQgMCB8fCAoX3NjJG1ldGFkYXRhMiA9IF9zYyRtZXRhZGF0YTIuYW5ub3RhdGlvbnMpID09PSBudWxsIHx8IF9zYyRtZXRhZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zYyRtZXRhZGF0YTJbJ3N0b3JhZ2VjbGFzcy5rdWJlcm5ldGVzLmlvL2lzLWRlZmF1bHQtY2xhc3MnXSkgPT09ICd0cnVlJzsKICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJHN0b3JhZ2VDbGFzc2VzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RvcmFnZUNsYXNzZXMkLm1ldGFkYXRhLm5hbWU7CiAgICB9LAogICAgYXZhaWxhYmxlUFZzOiBmdW5jdGlvbiBhdmFpbGFibGVQVnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbnRWb2x1bWVzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGVhY2gpIHsKICAgICAgICB2YXIgX2VhY2gkc3RhdHVzOwogICAgICAgIGlmICgoZWFjaCA9PT0gbnVsbCB8fCBlYWNoID09PSB2b2lkIDAgfHwgKF9lYWNoJHN0YXR1cyA9IGVhY2guc3RhdHVzKSA9PT0gbnVsbCB8fCBfZWFjaCRzdGF0dXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lYWNoJHN0YXR1cy5waGFzZSkgPT09ICdBdmFpbGFibGUnKSB7CiAgICAgICAgICB0b3RhbC5wdXNoKGVhY2gpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdG90YWw7CiAgICAgIH0sIFtdKTsKICAgIH0sCiAgICBwZXJzaXN0ZW50Vm9sdW1lTmFtZXM6IGZ1bmN0aW9uIHBlcnNpc3RlbnRWb2x1bWVOYW1lcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlUFZzLm1hcChmdW5jdGlvbiAocHYpIHsKICAgICAgICByZXR1cm4gcHYubWV0YWRhdGEubmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwgbWFwR2V0dGVycyh7CiAgICB0OiAnaTE4bi90JwogIH0pKSwKICB3YXRjaDogewogICAgaXNDcmVhdGVQVjogZnVuY3Rpb24gaXNDcmVhdGVQVihuZXUpIHsKICAgICAgaWYgKG5ldSkgewogICAgICAgIGRlbGV0ZSB0aGlzLnNwZWMudm9sdW1lTmFtZTsKICAgICAgICB0aGlzLnNwZWMucmVzb3VyY2VzLnJlcXVlc3RzLnN0b3JhZ2UgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3BlYy5yZXNvdXJjZXMucmVxdWVzdHMuc3RvcmFnZSA9IG51bGw7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnZhbHVlLnVuaXF1ZUlkID0gdGhpcy51bmlxdWVJZDsKICAgIHRoaXMuJGVtaXQoJ2NyZWF0ZVVuaXF1ZUlkJyk7CiAgICBpZiAodGhpcy5yZWdpc3RlckJlZm9yZUhvb2spIHsKICAgICAgLy8gQXBwZW5kIHRoZSB1bmlxdWVJRCB0byB0aGUgUFZDIGhvb2sgbmFtZSBzbyB0aGF0IGZvcm0gc3RhdGUgZm9yIGVhY2ggY2FuIGJlIGRlbGV0ZWQgaW5kaXZpZHVhbGx5CiAgICAgIHRoaXMucmVnaXN0ZXJCZWZvcmVIb29rKHRoaXMudmFsdWUuc2F2ZSwgdGhpcy5zYXZlUHZjSG9va05hbWUgKyB0aGlzLnVuaXF1ZUlkLCB1bmRlZmluZWQsIHRoaXMudmFsdWUpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJGVtaXQoJ3JlbW92ZVB2Y0Zvcm0nLCB0aGlzLnNhdmVQdmNIb29rTmFtZSArIHRoaXMudW5pcXVlSWQpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlTW9kZTogZnVuY3Rpb24gdXBkYXRlTW9kZShtb2RlLCBlbmFibGVkKSB7CiAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgYWRkT2JqZWN0KHRoaXMudmFsdWUuc3BlYy5hY2Nlc3NNb2RlcywgbW9kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVtb3ZlT2JqZWN0KHRoaXMudmFsdWUuc3BlYy5hY2Nlc3NNb2RlcywgbW9kZSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVQVjogZnVuY3Rpb24gdXBkYXRlUFYocHYpIHsKICAgICAgdmFyIF9wdiRzcGVjOwogICAgICB0aGlzLiRzZXQodGhpcy5zcGVjLCAndm9sdW1lTmFtZScsIHB2Lm1ldGFkYXRhLm5hbWUpOwogICAgICB0aGlzLiRzZXQodGhpcy5zcGVjLCAnc3RvcmFnZUNsYXNzTmFtZScsIHB2LnNwZWMuc3RvcmFnZUNsYXNzTmFtZSB8fCAnJyk7CiAgICAgIHRoaXMuc3BlYy5yZXNvdXJjZXMucmVxdWVzdHMuc3RvcmFnZSA9IHB2ID09PSBudWxsIHx8IHB2ID09PSB2b2lkIDAgfHwgKF9wdiRzcGVjID0gcHYuc3BlYykgPT09IG51bGwgfHwgX3B2JHNwZWMgPT09IHZvaWQgMCB8fCAoX3B2JHNwZWMgPSBfcHYkc3BlYy5jYXBhY2l0eSkgPT09IG51bGwgfHwgX3B2JHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wdiRzcGVjLnN0b3JhZ2U7CiAgICB9LAogICAgdXBkYXRlU3RvcmFnZTogZnVuY3Rpb24gdXBkYXRlU3RvcmFnZSgpIHsKICAgICAgdmFyIG5ldSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIGlmICghbmV1LnRvU3RyaW5nKCkubWF0Y2goL1swLTldKlthLXpBLVpdKyQvKSkgewogICAgICAgIG5ldSArPSAnR2knOwogICAgICB9CiAgICAgIHRoaXMuc3BlYy5yZXNvdXJjZXMucmVxdWVzdHMuc3RvcmFnZSA9IG5ldTsKICAgIH0sCiAgICB2b2x1bWVOYW1lOiBmdW5jdGlvbiB2b2x1bWVOYW1lKHZvbCkgewogICAgICByZXR1cm4gZ2V0KHZvbCwgJ21ldGFkYXRhLm5hbWUnKSB8fCB2b2w7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["LabeledSelect","UnitInput","RadioGroup","Checkbox","LabeledInput","mapGetters","removeObject","addObject","STORAGE_CLASS","PV","allHash","get","components","props","mode","type","String","default","value","Object","_default","registerBeforeHook","Function","savePvcHookName","required","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","storageClasses","$store","dispatch","persistentVolumes","sent","$set","spec","storageClassName","defaultStorageClassName","stop","data","metadata","accessModes","isCreatePV","uniqueId","Date","getTime","computed","_objectSpread","storageClassNames","map","sc","name","_this$storageClasses$","find","_sc$metadata","_sc$metadata2","annotations","availablePVs","reduce","total","each","_each$status","status","phase","push","persistentVolumeNames","pv","t","watch","neu","volumeName","resources","requests","storage","created","$emit","save","undefined","beforeDestroy","methods","updateMode","enabled","updatePV","_pv$spec","capacity","updateStorage","arguments","length","toString","match","vol"],"sources":["node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim.vue"],"sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { RadioGroup } from '@components/Form/Radio';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { mapGetters } from 'vuex';\nimport { removeObject, addObject } from '@shell/utils/array';\nimport { STORAGE_CLASS, PV } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nimport { get } from '@shell/utils/object';\n\nexport default {\n\n  components: {\n    LabeledSelect, UnitInput, RadioGroup, Checkbox, LabeledInput\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    registerBeforeHook: {\n      type:    Function,\n      default: null,\n    },\n\n    savePvcHookName: {\n      type:     String,\n      default:  '',\n      required: true\n    },\n  },\n  async fetch() {\n    const hash = await allHash({\n      storageClasses:    this.$store.dispatch('cluster/findAll', { type: STORAGE_CLASS }),\n      persistentVolumes: this.$store.dispatch('cluster/findAll', { type: PV }),\n    });\n\n    this.storageClasses = hash.storageClasses;\n    this.persistentVolumes = hash.persistentVolumes;\n    this.$set(this.spec, 'storageClassName', (this.spec.storageClassName || this.defaultStorageClassName));\n  },\n\n  data() {\n    const spec = this.value.spec;\n\n    if (!this.value.metadata) {\n      this.$set(this.value, 'metadata', {});\n    }\n\n    this.$set(this.value.spec, 'accessModes', this.value.spec.accessModes || []);\n\n    return {\n      storageClasses:    [],\n      persistentVolumes: [],\n      isCreatePV:        true,\n      spec,\n      uniqueId:          new Date().getTime() // Allows form state to be individually deleted\n    };\n  },\n\n  computed: {\n    storageClassNames() {\n      return this.storageClasses.map((sc) => sc.metadata.name);\n    },\n\n    /**\n     * Required to initialize with default SC on creation\n     */\n    defaultStorageClassName() {\n      return this.storageClasses.find((sc) => sc.metadata?.annotations?.['storageclass.beta.kubernetes.io/is-default-class'] === 'true' ||\n        sc.metadata?.annotations?.['storageclass.kubernetes.io/is-default-class'] === 'true')?.metadata.name ;\n    },\n\n    availablePVs() {\n      return this.persistentVolumes.reduce((total, each) => {\n        if (each?.status?.phase === 'Available') {\n          total.push(each);\n        }\n\n        return total;\n      }, []);\n    },\n\n    persistentVolumeNames() {\n      return this.availablePVs.map((pv) => pv.metadata.name);\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  watch: {\n    isCreatePV(neu) {\n      if (neu) {\n        delete this.spec.volumeName;\n        this.spec.resources.requests.storage = null;\n      } else {\n        this.spec.resources.requests.storage = null;\n      }\n    },\n  },\n\n  created() {\n    this.value.uniqueId = this.uniqueId;\n    this.$emit('createUniqueId');\n    if (this.registerBeforeHook) {\n      // Append the uniqueID to the PVC hook name so that form state for each can be deleted individually\n      this.registerBeforeHook(this.value.save, this.savePvcHookName + this.uniqueId, undefined, this.value);\n    }\n  },\n\n  beforeDestroy() {\n    this.$emit('removePvcForm', this.savePvcHookName + this.uniqueId);\n  },\n\n  methods: {\n    updateMode(mode, enabled) {\n      if (enabled) {\n        addObject(this.value.spec.accessModes, mode);\n      } else {\n        removeObject(this.value.spec.accessModes, mode);\n      }\n    },\n\n    updatePV(pv) {\n      this.$set(this.spec, 'volumeName', pv.metadata.name);\n      this.$set(this.spec, 'storageClassName', (pv.spec.storageClassName || ''));\n      this.spec.resources.requests.storage = pv?.spec?.capacity?.storage;\n    },\n\n    updateStorage(neu = '') {\n      if (!neu.toString().match(/[0-9]*[a-zA-Z]+$/)) {\n        neu += 'Gi';\n      }\n\n      this.spec.resources.requests.storage = neu;\n    },\n\n    volumeName(vol) {\n      return get(vol, 'metadata.name') || vol;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.metadata.name\"\n          :mode=\"mode\"\n          :label=\"t('persistentVolumeClaim.name')\"\n          :required=\"true\"\n          @input=\"$emit('input', value)\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <RadioGroup\n          v-model=\"isCreatePV\"\n          name=\"isCreatePV\"\n          :options=\"[true, false]\"\n          :labels=\"[t('persistentVolumeClaim.source.options.new'), t('persistentVolumeClaim.source.options.existing')]\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-if=\"isCreatePV\"\n          v-model=\"spec.storageClassName\"\n          data-testid=\"storage-class-name\"\n          :mode=\"mode\"\n          :required=\"true\"\n          :label=\"t('persistentVolumeClaim.storageClass')\"\n          :options=\"storageClassNames\"\n        />\n        <LabeledSelect\n          v-else\n          :value=\"spec.volumeName\"\n          :get-option-label=\"volumeName\"\n          :required=\"true\"\n          :mode=\"mode\"\n          :label=\"t('persistentVolumeClaim.volumes')\"\n          :options=\"availablePVs\"\n          @input=\"updatePV\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <div class=\"access-modes\">\n          <t\n            class=\"text-label\"\n            k=\"persistentVolumeClaim.accessModes\"\n          />\n          <span class=\"text-error\">*</span>\n        </div>\n        <div class=\"access-modes\">\n          <Checkbox\n            :mode=\"mode\"\n            :value=\"value.spec.accessModes.includes('ReadWriteOnce')\"\n            :label=\"t('persistentVolumeClaim.accessModesOptions.singleNodeRW')\"\n            @input=\"e=>updateMode('ReadWriteOnce', e)\"\n          />\n          <Checkbox\n            :mode=\"mode\"\n            :value=\"value.spec.accessModes.includes('ReadOnlyMany')\"\n            :label=\"t('persistentVolumeClaim.accessModesOptions.manyNodeR')\"\n            @input=\"e=>updateMode('ReadOnlyMany', e)\"\n          />\n          <Checkbox\n            :mode=\"mode\"\n            :value=\"value.spec.accessModes.includes('ReadWriteMany')\"\n            :label=\"t('persistentVolumeClaim.accessModesOptions.manyNodeRW')\"\n            @input=\"e=>updateMode('ReadWriteMany', e)\"\n          />\n        </div>\n      </div>\n      <div\n        v-if=\"isCreatePV\"\n        class=\"col span-6\"\n      >\n        <UnitInput\n          v-model=\"spec.resources.requests.storage\"\n          :mode=\"mode\"\n          :label=\"t('persistentVolumeClaim.capacity')\"\n          :increment=\"1024\"\n          :input-exponent=\"3\"\n          :required=\"true\"\n          :output-modifier=\"true\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang='scss'>\n.access-modes {\n  display: flex;\n  flex-direction: row;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;AACA,OAAAA,aAAA;AACA,OAAAC,SAAA;AACA,SAAAC,UAAA;AACA,SAAAC,QAAA;AACA,SAAAC,YAAA;AACA,SAAAC,UAAA;AACA,SAAAC,YAAA,EAAAC,SAAA;AACA,SAAAC,aAAA,EAAAC,EAAA;AACA,SAAAC,OAAA;AACA,SAAAC,GAAA;AAEA;EAEAC,UAAA;IACAZ,aAAA,EAAAA,aAAA;IAAAC,SAAA,EAAAA,SAAA;IAAAC,UAAA,EAAAA,UAAA;IAAAC,QAAA,EAAAA,QAAA;IAAAC,YAAA,EAAAA;EACA;EAEAS,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,WAAAG,SAAA;QACA;MACA;IACA;IAEAC,kBAAA;MACAN,IAAA,EAAAO,QAAA;MACAL,OAAA;IACA;IAEAM,eAAA;MACAR,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAO,QAAA;IACA;EACA;EACAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACA1B,OAAA;cACA2B,cAAA,EAAAX,KAAA,CAAAY,MAAA,CAAAC,QAAA;gBAAAxB,IAAA,EAAAP;cAAA;cACAgC,iBAAA,EAAAd,KAAA,CAAAY,MAAA,CAAAC,QAAA;gBAAAxB,IAAA,EAAAN;cAAA;YACA;UAAA;YAHAsB,IAAA,GAAAG,QAAA,CAAAO,IAAA;YAKAf,KAAA,CAAAW,cAAA,GAAAN,IAAA,CAAAM,cAAA;YACAX,KAAA,CAAAc,iBAAA,GAAAT,IAAA,CAAAS,iBAAA;YACAd,KAAA,CAAAgB,IAAA,CAAAhB,KAAA,CAAAiB,IAAA,sBAAAjB,KAAA,CAAAiB,IAAA,CAAAC,gBAAA,IAAAlB,KAAA,CAAAmB,uBAAA;UAAA;UAAA;YAAA,OAAAX,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;EAEAiB,IAAA,WAAAA,KAAA;IACA,IAAAJ,IAAA,QAAAzB,KAAA,CAAAyB,IAAA;IAEA,UAAAzB,KAAA,CAAA8B,QAAA;MACA,KAAAN,IAAA,MAAAxB,KAAA;IACA;IAEA,KAAAwB,IAAA,MAAAxB,KAAA,CAAAyB,IAAA,sBAAAzB,KAAA,CAAAyB,IAAA,CAAAM,WAAA;IAEA;MACAZ,cAAA;MACAG,iBAAA;MACAU,UAAA;MACAP,IAAA,EAAAA,IAAA;MACAQ,QAAA,MAAAC,IAAA,GAAAC,OAAA;IACA;EACA;EAEAC,QAAA,EAAAC,aAAA;IACAC,iBAAA,WAAAA,kBAAA;MACA,YAAAnB,cAAA,CAAAoB,GAAA,WAAAC,EAAA;QAAA,OAAAA,EAAA,CAAAV,QAAA,CAAAW,IAAA;MAAA;IACA;IAEA;AACA;AACA;IACAd,uBAAA,WAAAA,wBAAA;MAAA,IAAAe,qBAAA;MACA,QAAAA,qBAAA,QAAAvB,cAAA,CAAAwB,IAAA,WAAAH,EAAA;QAAA,IAAAI,YAAA,EAAAC,aAAA;QAAA,SAAAD,YAAA,GAAAJ,EAAA,CAAAV,QAAA,cAAAc,YAAA,gBAAAA,YAAA,GAAAA,YAAA,CAAAE,WAAA,cAAAF,YAAA,uBAAAA,YAAA,oEACA,EAAAC,aAAA,GAAAL,EAAA,CAAAV,QAAA,cAAAe,aAAA,gBAAAA,aAAA,GAAAA,aAAA,CAAAC,WAAA,cAAAD,aAAA,uBAAAA,aAAA;MAAA,gBAAAH,qBAAA,uBADAA,qBAAA,CACAZ,QAAA,CAAAW,IAAA;IACA;IAEAM,YAAA,WAAAA,aAAA;MACA,YAAAzB,iBAAA,CAAA0B,MAAA,WAAAC,KAAA,EAAAC,IAAA;QAAA,IAAAC,YAAA;QACA,KAAAD,IAAA,aAAAA,IAAA,gBAAAC,YAAA,GAAAD,IAAA,CAAAE,MAAA,cAAAD,YAAA,uBAAAA,YAAA,CAAAE,KAAA;UACAJ,KAAA,CAAAK,IAAA,CAAAJ,IAAA;QACA;QAEA,OAAAD,KAAA;MACA;IACA;IAEAM,qBAAA,WAAAA,sBAAA;MACA,YAAAR,YAAA,CAAAR,GAAA,WAAAiB,EAAA;QAAA,OAAAA,EAAA,CAAA1B,QAAA,CAAAW,IAAA;MAAA;IACA;EAAA,GAEAtD,UAAA;IAAAsE,CAAA;EAAA,GACA;EAEAC,KAAA;IACA1B,UAAA,WAAAA,WAAA2B,GAAA;MACA,IAAAA,GAAA;QACA,YAAAlC,IAAA,CAAAmC,UAAA;QACA,KAAAnC,IAAA,CAAAoC,SAAA,CAAAC,QAAA,CAAAC,OAAA;MACA;QACA,KAAAtC,IAAA,CAAAoC,SAAA,CAAAC,QAAA,CAAAC,OAAA;MACA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAhE,KAAA,CAAAiC,QAAA,QAAAA,QAAA;IACA,KAAAgC,KAAA;IACA,SAAA9D,kBAAA;MACA;MACA,KAAAA,kBAAA,MAAAH,KAAA,CAAAkE,IAAA,OAAA7D,eAAA,QAAA4B,QAAA,EAAAkC,SAAA,OAAAnE,KAAA;IACA;EACA;EAEAoE,aAAA,WAAAA,cAAA;IACA,KAAAH,KAAA,uBAAA5D,eAAA,QAAA4B,QAAA;EACA;EAEAoC,OAAA;IACAC,UAAA,WAAAA,WAAA1E,IAAA,EAAA2E,OAAA;MACA,IAAAA,OAAA;QACAlF,SAAA,MAAAW,KAAA,CAAAyB,IAAA,CAAAM,WAAA,EAAAnC,IAAA;MACA;QACAR,YAAA,MAAAY,KAAA,CAAAyB,IAAA,CAAAM,WAAA,EAAAnC,IAAA;MACA;IACA;IAEA4E,QAAA,WAAAA,SAAAhB,EAAA;MAAA,IAAAiB,QAAA;MACA,KAAAjD,IAAA,MAAAC,IAAA,gBAAA+B,EAAA,CAAA1B,QAAA,CAAAW,IAAA;MACA,KAAAjB,IAAA,MAAAC,IAAA,sBAAA+B,EAAA,CAAA/B,IAAA,CAAAC,gBAAA;MACA,KAAAD,IAAA,CAAAoC,SAAA,CAAAC,QAAA,CAAAC,OAAA,GAAAP,EAAA,aAAAA,EAAA,gBAAAiB,QAAA,GAAAjB,EAAA,CAAA/B,IAAA,cAAAgD,QAAA,gBAAAA,QAAA,GAAAA,QAAA,CAAAC,QAAA,cAAAD,QAAA,uBAAAA,QAAA,CAAAV,OAAA;IACA;IAEAY,aAAA,WAAAA,cAAA;MAAA,IAAAhB,GAAA,GAAAiB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAT,SAAA,GAAAS,SAAA;MACA,KAAAjB,GAAA,CAAAmB,QAAA,GAAAC,KAAA;QACApB,GAAA;MACA;MAEA,KAAAlC,IAAA,CAAAoC,SAAA,CAAAC,QAAA,CAAAC,OAAA,GAAAJ,GAAA;IACA;IAEAC,UAAA,WAAAA,WAAAoB,GAAA;MACA,OAAAvF,GAAA,CAAAuF,GAAA,sBAAAA,GAAA;IACA;EACA;AACA","ignoreList":[]}]}