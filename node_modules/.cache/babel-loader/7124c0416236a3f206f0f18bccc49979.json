{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uLTIwMjQtZXh0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCB7IEFHRSwgTkFNRSwgU1RBVEUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgU29ydGFibGVUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlJzsKaW1wb3J0IHsgREVTQ1JJUFRJT04gfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IGZpbmRBbGxDb25zdHJhaW50cyB9IGZyb20gJ0BzaGVsbC91dGlscy9nYXRla2VlcGVyL3V0aWwnOwppbXBvcnQgTWFzdGhlYWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VMaXN0L01hc3RoZWFkJzsKaW1wb3J0IHsgQVMsIF9ZQU1MIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWFzdGhlYWQ6IE1hc3RoZWFkLAogICAgU29ydGFibGVUYWJsZTogU29ydGFibGVUYWJsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YShjdHgpIHsKICAgIHZhciBjcmVhdGVMb2NhdGlvbiA9IHsKICAgICAgbmFtZTogJ2MtY2x1c3Rlci1nYXRla2VlcGVyLWNvbnN0cmFpbnRzLWNyZWF0ZScsCiAgICAgIHBhcmFtczogdGhpcy4kcm91dGUucGFyYW1zCiAgICB9OwogICAgdmFyIHlhbWxDcmVhdGVMb2NhdGlvbiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY3JlYXRlTG9jYXRpb24pLCB7fSwgewogICAgICBxdWVyeTogX2RlZmluZVByb3BlcnR5KHt9LCBBUywgX1lBTUwpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbiwKICAgICAgeWFtbENyZWF0ZUxvY2F0aW9uOiB5YW1sQ3JlYXRlTG9jYXRpb24sCiAgICAgIGhlYWRlcnM6IFtTVEFURSwgTkFNRSwgewogICAgICAgIG5hbWU6ICdEZXNjcmlwdGlvbicsCiAgICAgICAgbGFiZWw6ICdEZXNjcmlwdGlvbicsCiAgICAgICAgdmFsdWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgICAgc29ydDogImRlc2NyaXB0aW9uIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ1Zpb2xhdGlvbnMnLAogICAgICAgIGxhYmVsOiAnVmlvbGF0aW9ucycsCiAgICAgICAgdmFsdWU6ICdzdGF0dXMudG90YWxWaW9sYXRpb25zJywKICAgICAgICBzb3J0OiAnc3RhdHVzLnRvdGFsVmlvbGF0aW9ucycsCiAgICAgICAgd2lkdGg6IDEyMAogICAgICB9LCBBR0VdLAogICAgICB0ZW1wbGF0ZXM6IFtdLAogICAgICBjb25zdHJhaW50czogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmF3Q29uc3RyYWludHM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGZpbmRBbGxDb25zdHJhaW50cyhfdGhpcy4kc3RvcmUpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByYXdDb25zdHJhaW50cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmNvbnN0cmFpbnRzID0gcmF3Q29uc3RyYWludHMuZmxhdCgpLm1hcChmdW5jdGlvbiAoY29uc3RyYWludCkgewogICAgICAgICAgICAgIHZhciBfY29uc3RyYWludCRtZXRhZGF0YTsKICAgICAgICAgICAgICBjb25zdHJhaW50LmRlc2NyaXB0aW9uID0gKChjb25zdHJhaW50ID09PSBudWxsIHx8IGNvbnN0cmFpbnQgPT09IHZvaWQgMCB8fCAoX2NvbnN0cmFpbnQkbWV0YWRhdGEgPSBjb25zdHJhaW50Lm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfY29uc3RyYWludCRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbnN0cmFpbnQkbWV0YWRhdGEuYW5ub3RhdGlvbnMpIHx8IHt9KVtERVNDUklQVElPTl07CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"names":["AGE","NAME","STATE","SortableTable","DESCRIPTION","findAllConstraints","Masthead","AS","_YAML","components","data","ctx","createLocation","name","params","$route","yamlCreateLocation","_objectSpread","query","_defineProperty","headers","label","value","sort","width","templates","constraints","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","rawConstraints","wrap","_callee$","_context","prev","next","$store","sent","flat","map","constraint","_constraint$metadata","description","metadata","annotations","stop"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue"],"sourcesContent":["<script>\nimport { AGE, NAME, STATE } from '@shell/config/table-headers';\nimport SortableTable from '@shell/components/SortableTable';\nimport { DESCRIPTION } from '@shell/config/labels-annotations';\nimport { findAllConstraints } from '@shell/utils/gatekeeper/util';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport { AS, _YAML } from '@shell/config/query-params';\n\nexport default {\n  components: { Masthead, SortableTable },\n  data(ctx) {\n    const createLocation = {\n      name:   'c-cluster-gatekeeper-constraints-create',\n      params: this.$route.params,\n    };\n\n    const yamlCreateLocation = {\n      ...createLocation,\n      query: { [AS]: _YAML }\n    };\n\n    return {\n      createLocation,\n      yamlCreateLocation,\n      headers: [\n        STATE,\n        NAME,\n        {\n          name:  'Description',\n          label: 'Description',\n          value: `description`,\n          sort:  `description`\n        },\n        {\n          name:  'Violations',\n          label: 'Violations',\n          value: 'status.totalViolations',\n          sort:  'status.totalViolations',\n          width: 120\n        },\n        AGE,\n      ],\n      templates:   [],\n      constraints: [],\n    };\n  },\n\n  async created() {\n    const rawConstraints = await findAllConstraints(this.$store);\n\n    this.constraints = rawConstraints\n      .flat()\n      .map((constraint) => {\n        constraint.description = (constraint?.metadata?.annotations || {})[DESCRIPTION];\n\n        return constraint;\n      });\n  }\n\n};\n</script>\n\n<template>\n  <div class=\"gatekeeper-constraints\">\n    <Masthead\n      resource=\"Constraint\"\n      :type-display=\"'Constraint'\"\n      :is-yaml-creatable=\"true\"\n      :is-creatable=\"true\"\n      :yaml-create-location=\"yamlCreateLocation\"\n      :create-location=\"createLocation\"\n    />\n\n    <SortableTable\n      :headers=\"headers\"\n      :rows=\"constraints\"\n      key-field=\"id\"\n      group-by=\"kind\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\">\n.gatekeeper-constraints {\n  button.create {\n    height: 35px;\n    line-height: 0;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;AACA,SAAAA,GAAA,EAAAC,IAAA,EAAAC,KAAA;AACA,OAAAC,aAAA;AACA,SAAAC,WAAA;AACA,SAAAC,kBAAA;AACA,OAAAC,QAAA;AACA,SAAAC,EAAA,EAAAC,KAAA;AAEA;EACAC,UAAA;IAAAH,QAAA,EAAAA,QAAA;IAAAH,aAAA,EAAAA;EAAA;EACAO,IAAA,WAAAA,KAAAC,GAAA;IACA,IAAAC,cAAA;MACAC,IAAA;MACAC,MAAA,OAAAC,MAAA,CAAAD;IACA;IAEA,IAAAE,kBAAA,GAAAC,aAAA,CAAAA,aAAA,KACAL,cAAA;MACAM,KAAA,EAAAC,eAAA,KAAAZ,EAAA,EAAAC,KAAA;IAAA,EACA;IAEA;MACAI,cAAA,EAAAA,cAAA;MACAI,kBAAA,EAAAA,kBAAA;MACAI,OAAA,GACAlB,KAAA,EACAD,IAAA,EACA;QACAY,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;MACA,GACA;QACAV,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACAxB,GAAA,CACA;MACAyB,SAAA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,cAAA;MAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAjC,kBAAA,CAAAuB,KAAA,CAAAW,MAAA;UAAA;YAAAN,cAAA,GAAAG,QAAA,CAAAI,IAAA;YAEAZ,KAAA,CAAAF,WAAA,GAAAO,cAAA,CACAQ,IAAA,GACAC,GAAA,WAAAC,UAAA;cAAA,IAAAC,oBAAA;cACAD,UAAA,CAAAE,WAAA,KAAAF,UAAA,aAAAA,UAAA,gBAAAC,oBAAA,GAAAD,UAAA,CAAAG,QAAA,cAAAF,oBAAA,uBAAAA,oBAAA,CAAAG,WAAA,SAAA3C,WAAA;cAEA,OAAAuC,UAAA;YACA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;AAEA","ignoreList":[]}]}