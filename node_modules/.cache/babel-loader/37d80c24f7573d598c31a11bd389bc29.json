{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IGlzRW1wdHkgZnJvbSAnbG9kYXNoL2lzRW1wdHknOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IEJhbm5lclNldHRpbmdzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vQmFubmVyU2V0dGluZ3MnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGdldFZlbmRvciB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJpdmF0ZS1sYWJlbCc7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgY2xvbmUgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgX0VESVQsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgTm90aWZpY2F0aW9uU2V0dGluZ3MgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Ob3RpZmljYXRpb25TZXR0aW5ncy52dWUnOwp2YXIgREVGQVVMVF9CQU5ORVJfU0VUVElORyA9IHsKICBsb2dpbkVycm9yOiB7CiAgICBtZXNzYWdlOiAnJywKICAgIHNob3dNZXNzYWdlOiAnZmFsc2UnCiAgfSwKICBiYW5uZXJIZWFkZXI6IHsKICAgIGJhY2tncm91bmQ6IG51bGwsCiAgICBjb2xvcjogbnVsbCwKICAgIHRleHRBbGlnbm1lbnQ6ICdjZW50ZXInLAogICAgZm9udFdlaWdodDogbnVsbCwKICAgIGZvbnRTdHlsZTogbnVsbCwKICAgIGZvbnRTaXplOiAnMTRweCcsCiAgICB0ZXh0RGVjb3JhdGlvbjogbnVsbCwKICAgIHRleHQ6IG51bGwKICB9LAogIGJhbm5lckZvb3RlcjogewogICAgYmFja2dyb3VuZDogbnVsbCwKICAgIGNvbG9yOiBudWxsLAogICAgdGV4dEFsaWdubWVudDogJ2NlbnRlcicsCiAgICBmb250V2VpZ2h0OiBudWxsLAogICAgZm9udFN0eWxlOiBudWxsLAogICAgZm9udFNpemU6ICcxNHB4JywKICAgIHRleHREZWNvcmF0aW9uOiBudWxsLAogICAgdGV4dDogbnVsbAogIH0sCiAgYmFubmVyQ29uc2VudDogewogICAgYmFja2dyb3VuZDogbnVsbCwKICAgIGNvbG9yOiBudWxsLAogICAgdGV4dEFsaWdubWVudDogJ2NlbnRlcicsCiAgICBmb250V2VpZ2h0OiBudWxsLAogICAgZm9udFN0eWxlOiBudWxsLAogICAgZm9udFNpemU6ICcxNHB4JywKICAgIHRleHREZWNvcmF0aW9uOiBudWxsLAogICAgdGV4dDogbnVsbCwKICAgIGJ1dHRvbjogbnVsbAogIH0sCiAgc2hvd0hlYWRlcjogJ2ZhbHNlJywKICBzaG93Rm9vdGVyOiAnZmFsc2UnLAogIHNob3dDb25zZW50OiAnZmFsc2UnCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgQXN5bmNCdXR0b246IEFzeW5jQnV0dG9uLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBCYW5uZXJTZXR0aW5nczogQmFubmVyU2V0dGluZ3MsCiAgICBOb3RpZmljYXRpb25TZXR0aW5nczogTm90aWZpY2F0aW9uU2V0dGluZ3MKICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIHVpQmFubmVyU2V0dGluZzogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlNFVFRJTkcsCiAgICAgICAgICAgICAgICBpZDogU0VUVElORy5CQU5ORVJTCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzLCBoYXNoKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlbmRvcjogZ2V0VmVuZG9yKCksCiAgICAgIHVpQmFubmVyU2V0dGluZzogbnVsbCwKICAgICAgYmFubmVyVmFsOiB7fSwKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtb2RlOiBmdW5jdGlvbiBtb2RlKCkgewogICAgICB2YXIgX3NjaGVtYSRyZXNvdXJjZU1ldGhvOwogICAgICB2YXIgc2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9zY2hlbWFGb3IiXShNQU5BR0VNRU5ULlNFVFRJTkcpOwogICAgICByZXR1cm4gc2NoZW1hICE9PSBudWxsICYmIHNjaGVtYSAhPT0gdm9pZCAwICYmIChfc2NoZW1hJHJlc291cmNlTWV0aG8gPSBzY2hlbWEucmVzb3VyY2VNZXRob2RzKSAhPT0gbnVsbCAmJiBfc2NoZW1hJHJlc291cmNlTWV0aG8gIT09IHZvaWQgMCAmJiBfc2NoZW1hJHJlc291cmNlTWV0aG8uaW5jbHVkZXMoJ1BVVCcpID8gX0VESVQgOiBfVklFVzsKICAgIH0sCiAgICBoZWFkZXJNb2RlOiBmdW5jdGlvbiBoZWFkZXJNb2RlKCkgewogICAgICB2YXIgX3RoaXMkYmFubmVyVmFsOwogICAgICByZXR1cm4gKChfdGhpcyRiYW5uZXJWYWwgPSB0aGlzLmJhbm5lclZhbCkgPT09IG51bGwgfHwgX3RoaXMkYmFubmVyVmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRiYW5uZXJWYWwuc2hvd0hlYWRlcikgPT09ICd0cnVlJyA/IF9FRElUIDogX1ZJRVc7CiAgICB9LAogICAgZm9vdGVyTW9kZTogZnVuY3Rpb24gZm9vdGVyTW9kZSgpIHsKICAgICAgdmFyIF90aGlzJGJhbm5lclZhbDI7CiAgICAgIHJldHVybiAoKF90aGlzJGJhbm5lclZhbDIgPSB0aGlzLmJhbm5lclZhbCkgPT09IG51bGwgfHwgX3RoaXMkYmFubmVyVmFsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYmFubmVyVmFsMi5zaG93Rm9vdGVyKSA9PT0gJ3RydWUnID8gX0VESVQgOiBfVklFVzsKICAgIH0sCiAgICBjb25zZW50TW9kZTogZnVuY3Rpb24gY29uc2VudE1vZGUoKSB7CiAgICAgIHZhciBfdGhpcyRiYW5uZXJWYWwzOwogICAgICByZXR1cm4gKChfdGhpcyRiYW5uZXJWYWwzID0gdGhpcy5iYW5uZXJWYWwpID09PSBudWxsIHx8IF90aGlzJGJhbm5lclZhbDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGJhbm5lclZhbDMuc2hvd0NvbnNlbnQpID09PSAndHJ1ZScgPyBfRURJVCA6IF9WSUVXOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHVpQmFubmVyU2V0dGluZzogZnVuY3Rpb24gdWlCYW5uZXJTZXR0aW5nKG5ldSkgewogICAgICBpZiAobmV1ICE9PSBudWxsICYmIG5ldSAhPT0gdm9pZCAwICYmIG5ldS52YWx1ZSAmJiBuZXUudmFsdWUgIT09ICcnKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBwYXJzZWRCYW5uZXIgPSBKU09OLnBhcnNlKG5ldS52YWx1ZSk7CiAgICAgICAgICB0aGlzLmJhbm5lclZhbCA9IHRoaXMuY2hlY2tPclVwZGF0ZUxlZ2FjeVVJQmFubmVyU2V0dGluZyhwYXJzZWRCYW5uZXIpOwogICAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrT3JVcGRhdGVMZWdhY3lVSUJhbm5lclNldHRpbmc6IGZ1bmN0aW9uIGNoZWNrT3JVcGRhdGVMZWdhY3lVSUJhbm5lclNldHRpbmcocGFyc2VkQmFubmVyKSB7CiAgICAgIHZhciBiYW5uZXJIZWFkZXIgPSBwYXJzZWRCYW5uZXIuYmFubmVySGVhZGVyLAogICAgICAgIGJhbm5lckZvb3RlciA9IHBhcnNlZEJhbm5lci5iYW5uZXJGb290ZXIsCiAgICAgICAgYmFubmVyQ29uc2VudCA9IHBhcnNlZEJhbm5lci5iYW5uZXJDb25zZW50LAogICAgICAgIGJhbm5lciA9IHBhcnNlZEJhbm5lci5iYW5uZXIsCiAgICAgICAgbG9naW5FcnJvciA9IHBhcnNlZEJhbm5lci5sb2dpbkVycm9yOwogICAgICBpZiAoaXNFbXB0eShiYW5uZXJIZWFkZXIpICYmIGlzRW1wdHkoYmFubmVyRm9vdGVyKSAmJiBpc0VtcHR5KGJhbm5lckNvbnNlbnQpKSB7CiAgICAgICAgdmFyIG5ldSA9IERFRkFVTFRfQkFOTkVSX1NFVFRJTkc7CiAgICAgICAgaWYgKCFpc0VtcHR5KGJhbm5lcikpIHsKICAgICAgICAgIHZhciBjbG9uZWQgPSBjbG9uZShiYW5uZXIgIT09IG51bGwgJiYgYmFubmVyICE9PSB2b2lkIDAgPyBiYW5uZXIgOiB7fSk7CiAgICAgICAgICBpZiAoY2xvbmVkICE9PSBudWxsICYmIGNsb25lZCAhPT0gdm9pZCAwICYmIGNsb25lZC50ZXh0Q29sb3IpIHsKICAgICAgICAgICAgY2xvbmVkWydjb2xvciddID0gY2xvbmVkLnRleHRDb2xvcjsKICAgICAgICAgICAgZGVsZXRlIGNsb25lZC50ZXh0Q29sb3I7CiAgICAgICAgICB9CiAgICAgICAgICBuZXUgPSB7CiAgICAgICAgICAgIGJhbm5lckhlYWRlcjogX29iamVjdFNwcmVhZCh7fSwgY2xvbmVkKSwKICAgICAgICAgICAgYmFubmVyRm9vdGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBjbG9uZWQpLAogICAgICAgICAgICBsb2dpbkVycm9yOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIERFRkFVTFRfQkFOTkVSX1NFVFRJTkcubG9naW5FcnJvciksIHt9LCB7CiAgICAgICAgICAgICAgbG9naW5FcnJvcjogKGxvZ2luRXJyb3IgPT09IG51bGwgfHwgbG9naW5FcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9naW5FcnJvci5zaG93TWVzc2FnZSkgPT09ICdmYWxzZScgPyAnZmFsc2UnIDogJ3RydWUnCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBiYW5uZXJDb25zZW50OiBfb2JqZWN0U3ByZWFkKHt9LCBERUZBVUxUX0JBTk5FUl9TRVRUSU5HLmJhbm5lckNvbnNlbnQpLAogICAgICAgICAgICBzaG93SGVhZGVyOiAocGFyc2VkQmFubmVyID09PSBudWxsIHx8IHBhcnNlZEJhbm5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyc2VkQmFubmVyLnNob3dIZWFkZXIpID09PSAndHJ1ZScgPyAndHJ1ZScgOiAnZmFsc2UnLAogICAgICAgICAgICBzaG93Rm9vdGVyOiAocGFyc2VkQmFubmVyID09PSBudWxsIHx8IHBhcnNlZEJhbm5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyc2VkQmFubmVyLnNob3dGb290ZXIpID09PSAndHJ1ZScgPyAndHJ1ZScgOiAnZmFsc2UnLAogICAgICAgICAgICBzaG93Q29uc2VudDogKHBhcnNlZEJhbm5lciA9PT0gbnVsbCB8fCBwYXJzZWRCYW5uZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcnNlZEJhbm5lci5zaG93Q29uc2VudCkgPT09ICd0cnVlJyA/ICd0cnVlJyA6ICdmYWxzZScKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXU7CiAgICAgIH0KCiAgICAgIC8vIElmIHVzZXIgaGFzIGV4aXN0aW5nIGJhbm5lcnMsIHRoZXkgbWF5IG5vdCBoYXZlIGNvbnNlbnQgYmFubmVyIC0gdXNlIGRlZmF1bHQgdmFsdWUKICAgICAgaWYgKGlzRW1wdHkoYmFubmVyQ29uc2VudCkpIHsKICAgICAgICBwYXJzZWRCYW5uZXIuYmFubmVyQ29uc2VudCA9IF9vYmplY3RTcHJlYWQoe30sIERFRkFVTFRfQkFOTkVSX1NFVFRJTkcuYmFubmVyQ29uc2VudCk7CiAgICAgIH0KICAgICAgaWYgKGlzRW1wdHkobG9naW5FcnJvcikpIHsKICAgICAgICBwYXJzZWRCYW5uZXIubG9naW5FcnJvciA9IF9vYmplY3RTcHJlYWQoe30sIERFRkFVTFRfQkFOTkVSX1NFVFRJTkcubG9naW5FcnJvcik7CiAgICAgIH0KICAgICAgcmV0dXJuIHBhcnNlZEJhbm5lcjsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGJ0bkNCKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIudWlCYW5uZXJTZXR0aW5nLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmJhbm5lclZhbCk7CiAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtfdGhpczIudWlCYW5uZXJTZXR0aW5nLnNhdmUoKV0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgYnRuQ0IodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgYnRuQ0IoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["isEmpty","Checkbox","Loading","AsyncButton","Banner","BannerSettings","allHash","MANAGEMENT","getVendor","SETTING","clone","_EDIT","_VIEW","NotificationSettings","DEFAULT_BANNER_SETTING","loginError","message","showMessage","bannerHeader","background","color","textAlignment","fontWeight","fontStyle","fontSize","textDecoration","text","bannerFooter","bannerConsent","button","showHeader","showFooter","showConsent","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","uiBannerSetting","$store","dispatch","type","id","BANNERS","sent","Object","assign","stop","data","vendor","bannerVal","errors","computed","mode","_schema$resourceMetho","schema","getters","resourceMethods","includes","headerMode","_this$bannerVal","footerMode","_this$bannerVal2","consentMode","_this$bannerVal3","watch","neu","value","parsedBanner","JSON","parse","checkOrUpdateLegacyUIBannerSetting","_unused","methods","banner","cloned","textColor","_objectSpread","save","btnCB","_this2","_callee2","_callee2$","_context2","stringify","Promise","all","t0","push"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue"],"sourcesContent":["<script>\nimport isEmpty from 'lodash/isEmpty';\n\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Loading from '@shell/components/Loading';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport BannerSettings from '@shell/components/form/BannerSettings';\nimport { allHash } from '@shell/utils/promise';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { getVendor } from '@shell/config/private-label';\nimport { SETTING } from '@shell/config/settings';\nimport { clone } from '@shell/utils/object';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport NotificationSettings from '@shell/components/form/NotificationSettings.vue';\n\nconst DEFAULT_BANNER_SETTING = {\n  loginError:   { message: '', showMessage: 'false' },\n  bannerHeader: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null,\n  },\n  bannerFooter: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null\n  },\n  bannerConsent: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null,\n    button:         null,\n  },\n  showHeader:  'false',\n  showFooter:  'false',\n  showConsent: 'false'\n};\n\nexport default {\n  components: {\n    Checkbox,\n    Loading,\n    AsyncButton,\n    Banner,\n    BannerSettings,\n    NotificationSettings\n  },\n\n  async fetch() {\n    const hash = await allHash({ uiBannerSetting: this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.BANNERS }) });\n\n    Object.assign(this, hash);\n  },\n\n  data() {\n    return {\n      vendor: getVendor(),\n\n      uiBannerSetting: null,\n      bannerVal:       {},\n\n      errors: [],\n\n    };\n  },\n\n  computed: {\n    mode() {\n      const schema = this.$store.getters[`management/schemaFor`](MANAGEMENT.SETTING);\n\n      return schema?.resourceMethods?.includes('PUT') ? _EDIT : _VIEW;\n    },\n\n    headerMode() {\n      return this.bannerVal?.showHeader === 'true' ? _EDIT : _VIEW;\n    },\n    footerMode() {\n      return this.bannerVal?.showFooter === 'true' ? _EDIT : _VIEW;\n    },\n    consentMode() {\n      return this.bannerVal?.showConsent === 'true' ? _EDIT : _VIEW;\n    }\n  },\n\n  watch: {\n    uiBannerSetting(neu) {\n      if (neu?.value && neu.value !== '') {\n        try {\n          const parsedBanner = JSON.parse(neu.value);\n\n          this.bannerVal = this.checkOrUpdateLegacyUIBannerSetting(parsedBanner);\n        } catch {}\n      }\n    }\n  },\n\n  methods: {\n    checkOrUpdateLegacyUIBannerSetting(parsedBanner) {\n      const {\n        bannerHeader, bannerFooter, bannerConsent, banner, loginError\n      } = parsedBanner;\n\n      if (isEmpty(bannerHeader) && isEmpty(bannerFooter) && isEmpty(bannerConsent)) {\n        let neu = DEFAULT_BANNER_SETTING;\n\n        if (!isEmpty(banner)) {\n          const cloned = clone(( banner ?? {} ));\n\n          if (cloned?.textColor) {\n            cloned['color'] = cloned.textColor;\n            delete cloned.textColor;\n          }\n\n          neu = {\n            bannerHeader:  { ...cloned },\n            bannerFooter:  { ...cloned },\n            loginError:    { ...DEFAULT_BANNER_SETTING.loginError, loginError: loginError?.showMessage === 'false' ? 'false' : 'true' },\n            bannerConsent: { ...DEFAULT_BANNER_SETTING.bannerConsent },\n            showHeader:    parsedBanner?.showHeader === 'true' ? 'true' : 'false',\n            showFooter:    parsedBanner?.showFooter === 'true' ? 'true' : 'false',\n            showConsent:   parsedBanner?.showConsent === 'true' ? 'true' : 'false'\n          };\n        }\n\n        return neu;\n      }\n\n      // If user has existing banners, they may not have consent banner - use default value\n      if (isEmpty(bannerConsent)) {\n        parsedBanner.bannerConsent = { ...DEFAULT_BANNER_SETTING.bannerConsent };\n      }\n\n      if (isEmpty(loginError)) {\n        parsedBanner.loginError = { ...DEFAULT_BANNER_SETTING.loginError };\n      }\n\n      return parsedBanner;\n    },\n\n    async save(btnCB) {\n      this.uiBannerSetting.value = JSON.stringify(this.bannerVal);\n\n      this.errors = [];\n\n      try {\n        await Promise.all([\n          this.uiBannerSetting.save()\n        ]);\n        btnCB(true);\n      } catch (err) {\n        this.errors.push(err);\n        btnCB(false);\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"mb-20\">\n      {{ t('banner.label') }}\n    </h1>\n    <div>\n      <label class=\"text-label\">\n        {{ t(`advancedSettings.descriptions.${ 'ui-banners' }`, {}, true) }}\n      </label>\n\n      <template>\n        <!-- Header Settings -->\n        <h2 class=\"mt-40 mb-40\">\n          {{ t('banner.headerBanner') }}\n        </h2>\n        <div class=\"row mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showHeader === 'true'\"\n              :label=\"t('banner.showHeader')\"\n              :mode=\"mode\"\n              @input=\"e=>$set(bannerVal, 'showHeader', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerHeader\"\n          :mode=\"headerMode\"\n        />\n\n        <!-- Footer settings -->\n        <h2 class=\"mt-40 mb-40\">\n          {{ t('banner.footerBanner') }}\n        </h2>\n        <div class=\"row mt-40 mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showFooter === 'true'\"\n              :label=\"t('banner.showFooter')\"\n              :mode=\"mode\"\n              @input=\"e=>$set(bannerVal, 'showFooter', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerFooter\"\n          :mode=\"footerMode\"\n        />\n      </template>\n\n      <!-- Consent settings -->\n      <h2 class=\"mt-40 mb-40\">\n        {{ t('banner.loginScreenBanner') }}\n      </h2>\n      <template>\n        <div class=\"row mt-40 mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showConsent === 'true'\"\n              :label=\"t('banner.showConsent')\"\n              :mode=\"mode\"\n              @input=\"e => $set(bannerVal, 'showConsent', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerConsent\"\n          :mode=\"consentMode\"\n        />\n      </template>\n      <h2 class=\"mt-40 mb-40\">\n        {{ t('notifications.loginError.header') }}\n      </h2>\n      <NotificationSettings\n        v-model=\"bannerVal.loginError\"\n        :mode=\"mode\"\n        :label=\"t('notifications.loginError.messageLabel')\"\n      />\n    </div>\n    <template v-for=\"err in errors\">\n      <Banner\n        :key=\"err\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </template>\n    <div v-if=\"mode === 'edit'\">\n      <AsyncButton\n        class=\"pull-right mt-20\"\n        mode=\"apply\"\n        @click=\"save\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang='scss'>\n.overlay {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: var(--overlay-bg);\n  z-index: 1;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}