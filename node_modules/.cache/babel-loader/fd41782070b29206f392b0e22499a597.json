{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/rancher-backup/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/rancher-backup/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFMzIGZyb20gJ0BzaGVsbC9jaGFydC9yYW5jaGVyLWJhY2t1cC9TMyc7CmltcG9ydCB7IFJhZGlvR3JvdXAgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1JhZGlvJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgU1RPUkFHRV9DTEFTUywgU0VDUkVULCBQViB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFNUT1JBR0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBUYWI6IFRhYiwKICAgIFJhZGlvR3JvdXA6IFJhZGlvR3JvdXAsCiAgICBTMzogUzMsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBCYW5uZXI6IEJhbm5lcgogIH0sCiAgaGFzVGFiczogdHJ1ZSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIHN0b3JhZ2VDbGFzc2VzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNUT1JBR0VfQ0xBU1MKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBwZXJzaXN0ZW50Vm9sdW1lczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBQVgogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHNlY3JldHM6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogU0VDUkVUCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5zZWNyZXRzID0gaGFzaC5zZWNyZXRzOwogICAgICAgICAgICBfdGhpcy5zdG9yYWdlQ2xhc3NlcyA9IGhhc2guc3RvcmFnZUNsYXNzZXM7CiAgICAgICAgICAgIF90aGlzLnBlcnNpc3RlbnRWb2x1bWVzID0gaGFzaC5wZXJzaXN0ZW50Vm9sdW1lczsKICAgICAgICAgICAgX3RoaXMuc3RvcmFnZVNvdXJjZSA9IF90aGlzLmdldFN0b3JhZ2VTb3VyY2UoX3RoaXMudmFsdWUpIHx8ICdub25lJzsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlY3JldHM6IFtdLAogICAgICBzdG9yYWdlQ2xhc3NlczogW10sCiAgICAgIHBlcnNpc3RlbnRWb2x1bWVzOiBbXSwKICAgICAgc3RvcmFnZVNvdXJjZTogbnVsbCwKICAgICAgc3RvcmFnZUNsYXNzOiAnJywKICAgICAgcGVyc2lzdGVudFZvbHVtZTogJycsCiAgICAgIHJlY2xhaW1XYXJuaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIGRlZmF1bHRTdG9yYWdlQ2xhc3M6IGZ1bmN0aW9uIGRlZmF1bHRTdG9yYWdlQ2xhc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2VDbGFzc2VzLmZpbHRlcihmdW5jdGlvbiAoc2MpIHsKICAgICAgICB2YXIgX3NjJG1ldGFkYXRhJGFubm90YXRpOwogICAgICAgIHJldHVybiAoKF9zYyRtZXRhZGF0YSRhbm5vdGF0aSA9IHNjLm1ldGFkYXRhLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfc2MkbWV0YWRhdGEkYW5ub3RhdGkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zYyRtZXRhZGF0YSRhbm5vdGF0aVtTVE9SQUdFLkRFRkFVTFRfU1RPUkFHRV9DTEFTU10pICYmIHNjLm1ldGFkYXRhLmFubm90YXRpb25zW1NUT1JBR0UuREVGQVVMVF9TVE9SQUdFX0NMQVNTXSAhPT0gJ2ZhbHNlJzsKICAgICAgfSlbMF0gfHwgJyc7CiAgICB9LAogICAgYXZhaWxhYmxlUFZzOiBmdW5jdGlvbiBhdmFpbGFibGVQVnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbnRWb2x1bWVzLmZpbHRlcihmdW5jdGlvbiAocHYpIHsKICAgICAgICByZXR1cm4gcHYuc3RhdHVzLnBoYXNlLnRvTG93ZXJDYXNlKCkgIT09ICdib3VuZCc7CiAgICAgIH0pOwogICAgfSwKICAgIHJhZGlvT3B0aW9uczogZnVuY3Rpb24gcmFkaW9PcHRpb25zKCkgewogICAgICB2YXIgb3B0aW9ucyA9IFsnbm9uZScsICdzMycsICdwaWNrU0MnLCAncGlja1BWJ107CiAgICAgIHZhciBsYWJlbHMgPSBbdGhpcy50KCdiYWNrdXBSZXN0b3JlT3BlcmF0b3IuZGVwbG95bWVudC5zdG9yYWdlLm9wdGlvbnMubm9uZScpLCB0aGlzLnQoJ2JhY2t1cFJlc3RvcmVPcGVyYXRvci5kZXBsb3ltZW50LnN0b3JhZ2Uub3B0aW9ucy5zMycpLCB0aGlzLnQoJ2JhY2t1cFJlc3RvcmVPcGVyYXRvci5kZXBsb3ltZW50LnN0b3JhZ2Uub3B0aW9ucy5waWNrU0MnKSwgdGhpcy50KCdiYWNrdXBSZXN0b3JlT3BlcmF0b3IuZGVwbG95bWVudC5zdG9yYWdlLm9wdGlvbnMucGlja1BWJyldOwogICAgICByZXR1cm4gewogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICAgbGFiZWxzOiBsYWJlbHMKICAgICAgfTsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSwgewogICAgdDogJ2kxOG4vdCcKICB9KSksCiAgd2F0Y2g6IHsKICAgIHN0b3JhZ2VTb3VyY2U6IGZ1bmN0aW9uIHN0b3JhZ2VTb3VyY2UobmV1KSB7CiAgICAgIHZhciBfdGhpcyRzdG9yYWdlQ2xhc3M7CiAgICAgIHN3aXRjaCAobmV1KSB7CiAgICAgICAgY2FzZSAncGlja1NDJzoKICAgICAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVuY2UuZW5hYmxlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLnZhbHVlLnMzLmVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRTdG9yYWdlQ2xhc3MgJiYgKCF0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzcyB8fCB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzcyA9PT0gJy0nKSkgewogICAgICAgICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzcyA9IHRoaXMuZGVmYXVsdFN0b3JhZ2VDbGFzcy5pZDsKICAgICAgICAgICAgdGhpcy5zdG9yYWdlQ2xhc3MgPSB0aGlzLmRlZmF1bHRTdG9yYWdlQ2xhc3M7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoKChfdGhpcyRzdG9yYWdlQ2xhc3MgPSB0aGlzLnN0b3JhZ2VDbGFzcykgPT09IG51bGwgfHwgX3RoaXMkc3RvcmFnZUNsYXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdG9yYWdlQ2xhc3MucmVjbGFpbVBvbGljeSkgPT09ICdEZWxldGUnKSB7CiAgICAgICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHRoaXMudmFsdWUucGVyc2lzdGVuY2Uudm9sdW1lTmFtZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3BpY2tQVic6CiAgICAgICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLmVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy52YWx1ZS5zMy5lbmFibGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLnN0b3JhZ2VDbGFzcyA9ICctJzsKICAgICAgICAgIHRoaXMucmVjbGFpbVdhcm5pbmcgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3MzJzoKICAgICAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVuY2UuZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy52YWx1ZS5zMy5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aGlzLnZhbHVlLnBlcnNpc3RlbmNlLmVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudmFsdWUuczMuZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBzdG9yYWdlQ2xhc3M6IGZ1bmN0aW9uIHN0b3JhZ2VDbGFzcygpIHsKICAgICAgdmFyIG5ldSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVuY2Uuc3RvcmFnZUNsYXNzID0gbmV1LmlkOwogICAgICBpZiAobmV1LnJlY2xhaW1Qb2xpY3kgPT09ICdEZWxldGUnKSB7CiAgICAgICAgdGhpcy5yZWNsYWltV2FybmluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZWNsYWltV2FybmluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgcGVyc2lzdGVudFZvbHVtZTogZnVuY3Rpb24gcGVyc2lzdGVudFZvbHVtZShuZXUpIHsKICAgICAgdmFyIF9uZXUkc3BlYzsKICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS52b2x1bWVOYW1lID0gbmV1Lm1ldGFkYXRhLm5hbWU7CiAgICAgIGlmICgoKF9uZXUkc3BlYyA9IG5ldS5zcGVjKSA9PT0gbnVsbCB8fCBfbmV1JHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9uZXUkc3BlYy5wZXJzaXN0ZW50Vm9sdW1lUmVjbGFpbVBvbGljeSkgPT09ICdEZWxldGUnKSB7CiAgICAgICAgdGhpcy5yZWNsYWltV2FybmluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZWNsYWltV2FybmluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTdG9yYWdlU291cmNlOiBmdW5jdGlvbiBnZXRTdG9yYWdlU291cmNlKCkgewogICAgICBpZiAoZ2V0KHRoaXMudmFsdWUsICdzMy5lbmFibGVkJykpIHsKICAgICAgICByZXR1cm4gJ3MzJzsKICAgICAgfQogICAgICBpZiAoZ2V0KHRoaXMudmFsdWUsICdwZXJzaXN0ZW5jZS5lbmFibGVkJykpIHsKICAgICAgICBpZiAodGhpcy52YWx1ZS5wZXJzaXN0ZW5jZS5zdG9yYWdlQ2xhc3MpIHsKICAgICAgICAgIHJldHVybiAncGlja1NDJzsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudmFsdWUucGVyc2lzdGVuY2Uudm9sdW1lTmFtZSkgewogICAgICAgICAgcmV0dXJuICdwaWNrUFYnOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gJ25vbmUnOwogICAgfSwKICAgIHVwZGF0ZVBhZ2VWYWxpZDogZnVuY3Rpb24gdXBkYXRlUGFnZVZhbGlkKHVwZGF0ZSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZCcsIHVwZGF0ZSk7CiAgICB9CiAgfSwKICBnZXQ6IGdldAp9Ow=="},{"version":3,"names":["Tab","S3","RadioGroup","LabeledSelect","LabeledInput","Banner","get","allHash","STORAGE_CLASS","SECRET","PV","mapGetters","STORAGE","components","hasTabs","props","value","type","Object","default","_default","mode","String","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","storageClasses","$store","dispatch","persistentVolumes","secrets","sent","storageSource","getStorageSource","stop","data","storageClass","persistentVolume","reclaimWarning","computed","_objectSpread","defaultStorageClass","filter","sc","_sc$metadata$annotati","metadata","annotations","DEFAULT_STORAGE_CLASS","availablePVs","pv","status","phase","toLowerCase","radioOptions","options","labels","t","watch","neu","_this$storageClass","persistence","enabled","s3","id","reclaimPolicy","volumeName","arguments","length","undefined","_neu$spec","name","spec","persistentVolumeReclaimPolicy","methods","updatePageValid","update","$emit"],"sources":["node_modules/@rancher/shell/chart/rancher-backup/index.vue"],"sourcesContent":["<script>\nimport Tab from '@shell/components/Tabbed/Tab';\nimport S3 from '@shell/chart/rancher-backup/S3';\nimport { RadioGroup } from '@components/Form/Radio';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Banner } from '@components/Banner';\nimport { get } from '@shell/utils/object';\nimport { allHash } from '@shell/utils/promise';\nimport { STORAGE_CLASS, SECRET, PV } from '@shell/config/types';\nimport { mapGetters } from 'vuex';\nimport { STORAGE } from '@shell/config/labels-annotations';\n\nexport default {\n  components: {\n    Tab,\n    RadioGroup,\n    S3,\n    LabeledInput,\n    LabeledSelect,\n    Banner\n  },\n\n  hasTabs: true,\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n\n  async  fetch() {\n    const hash = await allHash({\n      storageClasses:    this.$store.dispatch('cluster/findAll', { type: STORAGE_CLASS }),\n      persistentVolumes: this.$store.dispatch('cluster/findAll', { type: PV }),\n      secrets:           this.$store.dispatch('cluster/findAll', { type: SECRET }),\n    });\n\n    this.secrets = hash.secrets;\n    this.storageClasses = hash.storageClasses;\n    this.persistentVolumes = hash.persistentVolumes;\n\n    this.storageSource = this.getStorageSource(this.value) || 'none';\n  },\n\n  data() {\n    return {\n      secrets:           [],\n      storageClasses:    [],\n      persistentVolumes: [],\n      storageSource:     null,\n      storageClass:      '',\n      persistentVolume:  '',\n      reclaimWarning:    false\n    };\n  },\n\n  computed: {\n    defaultStorageClass() {\n      return this.storageClasses.filter((sc) => sc.metadata.annotations?.[STORAGE.DEFAULT_STORAGE_CLASS] && sc.metadata.annotations[STORAGE.DEFAULT_STORAGE_CLASS] !== 'false' )[0] || '';\n    },\n\n    availablePVs() {\n      return this.persistentVolumes.filter((pv) => pv.status.phase.toLowerCase() !== 'bound');\n    },\n\n    radioOptions() {\n      const options = ['none', 's3', 'pickSC', 'pickPV'];\n      const labels = [\n        this.t('backupRestoreOperator.deployment.storage.options.none'),\n        this.t('backupRestoreOperator.deployment.storage.options.s3'),\n        this.t('backupRestoreOperator.deployment.storage.options.pickSC'),\n        this.t('backupRestoreOperator.deployment.storage.options.pickPV'),\n      ];\n\n      return { options, labels };\n    },\n\n    ...mapGetters(['currentCluster'], { t: 'i18n/t' }),\n  },\n\n  watch: {\n    storageSource(neu) {\n      switch (neu) {\n      case 'pickSC':\n        this.value.persistence.enabled = true;\n        this.value.s3.enabled = false;\n        if (this.defaultStorageClass && (!this.value.persistence.storageClass || this.value.persistence.storageClass === '-' )) {\n          this.value.persistence.storageClass = this.defaultStorageClass.id;\n          this.storageClass = this.defaultStorageClass;\n        }\n        if (this.storageClass?.reclaimPolicy === 'Delete') {\n          this.reclaimWarning = true;\n        }\n        delete this.value.persistence.volumeName;\n        break;\n      case 'pickPV':\n        this.value.persistence.enabled = true;\n        this.value.s3.enabled = false;\n        this.value.persistence.storageClass = '-';\n        this.reclaimWarning = false;\n        break;\n      case 's3':\n        this.value.persistence.enabled = false;\n        this.value.s3.enabled = true;\n        break;\n      default:\n        this.value.persistence.enabled = false;\n        this.value.s3.enabled = false;\n        break;\n      }\n    },\n\n    storageClass(neu = {}) {\n      this.value.persistence.storageClass = neu.id;\n      if (neu.reclaimPolicy === 'Delete') {\n        this.reclaimWarning = true;\n      } else {\n        this.reclaimWarning = false;\n      }\n    },\n\n    persistentVolume(neu) {\n      this.value.persistence.volumeName = neu.metadata.name;\n      if (neu.spec?.persistentVolumeReclaimPolicy === 'Delete') {\n        this.reclaimWarning = true;\n      } else {\n        this.reclaimWarning = false;\n      }\n    },\n  },\n\n  methods: {\n    getStorageSource() {\n      if (get(this.value, 's3.enabled')) {\n        return 's3';\n      } if (get(this.value, 'persistence.enabled')) {\n        if (this.value.persistence.storageClass) {\n          return 'pickSC';\n        }\n        if (this.value.persistence.volumeName) {\n          return 'pickPV';\n        }\n      }\n\n      return 'none';\n    },\n    updatePageValid(update) {\n      this.$emit('valid', update);\n    }\n  },\n  get\n};\n</script>\n\n<template>\n  <div>\n    <Tab\n      label=\"Chart Options\"\n      name=\"chartOptions\"\n    >\n      <Banner\n        color=\"info\"\n        :label=\"t('backupRestoreOperator.deployment.storage.tip')\"\n      />\n      <RadioGroup\n        v-model=\"storageSource\"\n        name=\"storageSource\"\n        :label=\"t('backupRestoreOperator.deployment.storage.label')\"\n        class=\"mb-10\"\n        :options=\"radioOptions.options\"\n        :labels=\"radioOptions.labels\"\n      />\n      <S3\n        v-if=\"storageSource==='s3'\"\n        :value=\"value.s3\"\n        :secrets=\"secrets\"\n        :mode=\"mode\"\n        @valid=\"updatePageValid($event)\"\n      />\n      <template v-else>\n        <div class=\"row\">\n          <template v-if=\"storageSource === 'pickSC'\">\n            <div class=\"col span-6\">\n              <LabeledSelect\n                :key=\"storageSource\"\n                v-model=\"storageClass\"\n                :get-option-label=\"opt => opt.id || opt\"\n                :label=\"t('backupRestoreOperator.deployment.storage.storageClass.label')\"\n                :tooltip=\"reclaimWarning ? t('backupRestoreOperator.deployment.storage.warning', {type: 'Storage Class'}) : null\"\n                :mode=\"mode\"\n                :status=\"reclaimWarning ? 'warning' : null\"\n                :options=\"storageClasses\"\n                :hover-tooltip=\"true\"\n                data-testid=\"backup-chart-select-existing-storage-class\"\n              />\n            </div>\n            <div class=\"col span-6\">\n              <LabeledInput\n                v-model=\"value.persistence.size\"\n                :mode=\"mode\"\n                :label=\"t('backupRestoreOperator.deployment.size')\"\n              />\n            </div>\n          </template>\n          <div\n            v-else-if=\"storageSource === 'pickPV'\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              :key=\"storageSource\"\n              v-model=\"persistentVolume\"\n              :get-option-label=\"opt => opt.id || opt\"\n              :label=\"t('backupRestoreOperator.deployment.storage.persistentVolume.label')\"\n              :tooltip=\"reclaimWarning ? t('backupRestoreOperator.deployment.storage.warning', {type: 'Persistent Volume'}) : null\"\n              :mode=\"mode\"\n              :status=\"reclaimWarning ? 'warning' : null\"\n              :options=\"availablePVs\"\n              :hover-tooltip=\"true\"\n            />\n          </div>\n        </div>\n      </template>\n    </Tab>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n::v-deep .radio-group.label>SPAN {\n  font-size: 1em;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}