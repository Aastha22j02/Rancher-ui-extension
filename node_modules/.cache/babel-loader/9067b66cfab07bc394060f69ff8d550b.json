{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/list/cis.cattle.io.clusterscan.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/list/cis.cattle.io.clusterscan.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgQUdFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IFJlc291cmNlRmV0Y2ggZnJvbSAnQHNoZWxsL21peGlucy9yZXNvdXJjZS1mZXRjaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlCiAgfSwKICBtaXhpbnM6IFtSZXNvdXJjZUZldGNoXSwKICBwcm9wczogewogICAgcmVzb3VyY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNjaGVtYTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJGZldGNoVHlwZShfdGhpcy5yZXNvdXJjZSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyB3YXJuaW5nIHN0YXRlIGFuZCBzY2hlZHVsaW5nIGFkZGVkIGluIHRoZSBzYW1lIHZlcnNpb24gb2YgY2lzIHNvIGEgY2hlY2sgZm9yIG9uZSBpcyBhIGNoZWNrIGZvciB0aGUgb3RoZXIKICAgIGhhc1dhcm5pbmdTdGF0ZTogZnVuY3Rpb24gaGFzV2FybmluZ1N0YXRlKCkgewogICAgICB2YXIgc3BlY1NjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oZ2V0KHRoaXMuc2NoZW1hLCAncmVzb3VyY2VGaWVsZHMuc3BlYy50eXBlJykgfHwgJycpOwogICAgICBpZiAoIXNwZWNTY2hlbWEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuICEhZ2V0KHNwZWNTY2hlbWEsICdyZXNvdXJjZUZpZWxkcy5zY2hlZHVsZWRTY2FuQ29uZmlnJyk7CiAgICB9LAogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgdmFyIGhlYWRlcnNGcm9tU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGVhZGVyc0ZvciddKHRoaXMuc2NoZW1hKTsKICAgICAgaWYgKCF0aGlzLmhhc1dhcm5pbmdTdGF0ZSkgewogICAgICAgIHZhciB0b1JlbW92ZSA9IFsnd2FybicsICduZXh0U2NhbkF0JywgJ2xhc3RSdW5UaW1lc3RhbXAnXTsKICAgICAgICB2YXIgZmlsdGVyZWQgPSBoZWFkZXJzRnJvbVNjaGVtYS5maWx0ZXIoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgICAgcmV0dXJuICF0b1JlbW92ZS5pbmNsdWRlcyhoZWFkZXIubmFtZSk7CiAgICAgICAgfSk7CiAgICAgICAgZmlsdGVyZWQucHVzaChBR0UpOwogICAgICAgIHJldHVybiBmaWx0ZXJlZDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gaGVhZGVyc0Zyb21TY2hlbWE7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["ResourceTable","get","AGE","ResourceFetch","components","mixins","props","resource","type","String","required","schema","Object","useQueryParamsForSimpleFiltering","Boolean","default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$fetchType","stop","computed","hasWarningState","specSchema","$store","getters","headers","headersFromSchema","toRemove","filtered","filter","header","includes","name","push"],"sources":["node_modules/@rancher/shell/list/cis.cattle.io.clusterscan.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { get } from '@shell/utils/object';\nimport { AGE } from '@shell/config/table-headers';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nexport default {\n  components: { ResourceTable },\n  mixins:     [ResourceFetch],\n  props:      {\n    resource: {\n      type:     String,\n      required: true,\n    },\n\n    schema: {\n      type:     Object,\n      required: true,\n    },\n\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  async fetch() {\n    await this.$fetchType(this.resource);\n  },\n\n  computed: {\n    // warning state and scheduling added in the same version of cis so a check for one is a check for the other\n    hasWarningState() {\n      const specSchema = this.$store.getters['cluster/schemaFor'](get(this.schema, 'resourceFields.spec.type') || '');\n\n      if (!specSchema) {\n        return false;\n      }\n\n      return !!get(specSchema, 'resourceFields.scheduledScanConfig');\n    },\n\n    headers() {\n      const headersFromSchema = this.$store.getters['type-map/headersFor'](this.schema);\n\n      if (!this.hasWarningState) {\n        const toRemove = ['warn', 'nextScanAt', 'lastRunTimestamp'];\n\n        const filtered = headersFromSchema.filter((header) => !toRemove.includes(header.name));\n\n        filtered.push(AGE);\n\n        return filtered;\n      } else {\n        return headersFromSchema;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <ResourceTable\n    :schema=\"schema\"\n    :rows=\"rows\"\n    :headers=\"headers\"\n    :loading=\"loading\"\n    :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n  />\n</template>\n"],"mappings":";;;;;;;AACA,OAAAA,aAAA;AACA,SAAAC,GAAA;AACA,SAAAC,GAAA;AACA,OAAAC,aAAA;AAEA;EACAC,UAAA;IAAAJ,aAAA,EAAAA;EAAA;EACAK,MAAA,GAAAF,aAAA;EACAG,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,MAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IAEAG,gCAAA;MACAL,IAAA,EAAAM,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAU,UAAA,CAAAV,KAAA,CAAAV,QAAA;UAAA;UAAA;YAAA,OAAAiB,QAAA,CAAAI,IAAA;QAAA;MAAA,GAAAP,OAAA;IAAA;EACA;EAEAQ,QAAA;IACA;IACAC,eAAA,WAAAA,gBAAA;MACA,IAAAC,UAAA,QAAAC,MAAA,CAAAC,OAAA,sBAAAhC,GAAA,MAAAU,MAAA;MAEA,KAAAoB,UAAA;QACA;MACA;MAEA,SAAA9B,GAAA,CAAA8B,UAAA;IACA;IAEAG,OAAA,WAAAA,QAAA;MACA,IAAAC,iBAAA,QAAAH,MAAA,CAAAC,OAAA,6BAAAtB,MAAA;MAEA,UAAAmB,eAAA;QACA,IAAAM,QAAA;QAEA,IAAAC,QAAA,GAAAF,iBAAA,CAAAG,MAAA,WAAAC,MAAA;UAAA,QAAAH,QAAA,CAAAI,QAAA,CAAAD,MAAA,CAAAE,IAAA;QAAA;QAEAJ,QAAA,CAAAK,IAAA,CAAAxC,GAAA;QAEA,OAAAmC,QAAA;MACA;QACA,OAAAF,iBAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}