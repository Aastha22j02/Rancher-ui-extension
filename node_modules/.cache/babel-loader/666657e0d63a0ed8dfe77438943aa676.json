{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/__tests__/S3.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/__tests__/S3.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbi0yMDI0LWV4dC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovKiBlc2xpbnQtZGlzYWJsZSBqZXN0L25vLWhvb2tzICovCmltcG9ydCB7IG1vdW50LCBjcmVhdGVMb2NhbFZ1ZSB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBTMyBmcm9tICdAc2hlbGwvY2hhcnQvcmFuY2hlci1iYWNrdXAvUzMnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKdmFyIGxvY2FsVnVlID0gY3JlYXRlTG9jYWxWdWUoKTsKbG9jYWxWdWUudXNlKFZ1ZXgpOwpkZXNjcmliZSgncmFuY2hlci1iYWNrdXA6IFMzJywgZnVuY3Rpb24gKCkgewogIHZhciBtb2NrU3RvcmUgPSB7CiAgICBnZXR0ZXJzOiB7CiAgICAgICdpMThuL3QnOiBmdW5jdGlvbiBpMThuVCh0ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgIH0sCiAgICAgIHQ6IGZ1bmN0aW9uIHQodGV4dCkgewogICAgICAgIHJldHVybiB0ZXh0OwogICAgICB9CiAgICB9CiAgfTsKICB2YXIgd3JhcHBlciA9IG1vdW50KFMzLCB7CiAgICBtb2NrczogewogICAgICAkc3RvcmU6IG1vY2tTdG9yZQogICAgfQogIH0pOwogIGl0KCdzaG91bGQgZW1pdCBpbnZhbGlkIHdoZW4gZm9ybSBpcyBub3QgZmlsbGVkJywgZnVuY3Rpb24gKCkgewogICAgZXhwZWN0KHdyYXBwZXIuZW1pdHRlZCgndmFsaWQnKSkudG9IYXZlTGVuZ3RoKDEpOwogICAgZXhwZWN0KHdyYXBwZXIuZW1pdHRlZCgndmFsaWQnKVswXVswXSkudG9CZUZhbHN5KCk7CiAgfSk7CiAgaXQoJ3Nob3VsZCBlbWl0IHZhbGlkIHdoZW4gcmVxdWlyZWQgZmllbGRzIGFyZSBmaWxsZWQnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciBidWNrZXROYW1lLCBlbmRwb2ludCwgdGVzdENhc2VzLCBfaSwgX3Rlc3RDYXNlcywgdGVzdENhc2U7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgYnVja2V0TmFtZSA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJTMy1idWNrZXROYW1lIl0nKS5maW5kKCdpbnB1dCcpOwogICAgICAgICAgZW5kcG9pbnQgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iUzMtZW5kcG9pbnQiXScpLmZpbmQoJ2lucHV0Jyk7CiAgICAgICAgICB0ZXN0Q2FzZXMgPSBbewogICAgICAgICAgICBidWNrZXROYW1lSW5wdXQ6ICd2YWwnLAogICAgICAgICAgICBlbmRwb2ludElucHV0OiAnJywKICAgICAgICAgICAgcmVzdWx0OiBmYWxzZQogICAgICAgICAgfSwgewogICAgICAgICAgICBidWNrZXROYW1lSW5wdXQ6ICcnLAogICAgICAgICAgICBlbmRwb2ludElucHV0OiAndmFsJywKICAgICAgICAgICAgcmVzdWx0OiBmYWxzZQogICAgICAgICAgfV07CiAgICAgICAgICBfaSA9IDAsIF90ZXN0Q2FzZXMgPSB0ZXN0Q2FzZXM7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgaWYgKCEoX2kgPCBfdGVzdENhc2VzLmxlbmd0aCkpIHsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIHRlc3RDYXNlID0gX3Rlc3RDYXNlc1tfaV07CiAgICAgICAgICBidWNrZXROYW1lLnNldFZhbHVlKHRlc3RDYXNlLmJ1Y2tldE5hbWVJbnB1dCk7CiAgICAgICAgICBlbmRwb2ludC5zZXRWYWx1ZSh0ZXN0Q2FzZS5lbmRwb2ludElucHV0KTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgIHJldHVybiB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBleHBlY3Qod3JhcHBlci5lbWl0dGVkKCd2YWxpZCcpKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci5lbWl0dGVkKCd2YWxpZCcpWzBdWzBdKS50b0JlKGZhbHNlKTsKICAgICAgICBjYXNlIDEyOgogICAgICAgICAgX2krKzsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxNToKICAgICAgICAgIGJ1Y2tldE5hbWUuc2V0VmFsdWUoJ3ZhbDEnKTsKICAgICAgICAgIGVuZHBvaW50LnNldFZhbHVlKCd2YWwyJyk7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICByZXR1cm4gd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICBjYXNlIDE5OgogICAgICAgICAgZXhwZWN0KHdyYXBwZXIuZW1pdHRlZCgndmFsaWQnKSkudG9IYXZlTGVuZ3RoKDIpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIuZW1pdHRlZCgndmFsaWQnKVsxXVswXSkudG9CZSh0cnVlKTsKICAgICAgICBjYXNlIDIxOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSkpOwp9KTs="},{"version":3,"names":["mount","createLocalVue","S3","Vuex","localVue","use","describe","mockStore","getters","i18nT","text","t","wrapper","mocks","$store","it","expect","emitted","toHaveLength","toBeFalsy","_asyncToGenerator","_regeneratorRuntime","mark","_callee","bucketName","endpoint","testCases","_i","_testCases","testCase","wrap","_callee$","_context","prev","next","find","bucketNameInput","endpointInput","result","length","setValue","vm","$nextTick","toBe","stop"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/__tests__/S3.test.ts"],"sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount, createLocalVue } from '@vue/test-utils';\n\nimport S3 from '@shell/chart/rancher-backup/S3';\nimport Vuex from 'vuex';\n\nconst localVue = createLocalVue();\n\nlocalVue.use(Vuex);\n\ndescribe('rancher-backup: S3', () => {\n  const mockStore = { getters: { 'i18n/t': (text: string) => text, t: (text: string) => text } };\n  const wrapper = mount(S3, { mocks: { $store: mockStore } });\n\n  it('should emit invalid when form is not filled', () => {\n    expect(wrapper.emitted('valid')).toHaveLength(1);\n    expect(wrapper.emitted('valid')![0][0]).toBeFalsy();\n  });\n\n  it('should emit valid when required fields are filled', async() => {\n    const bucketName = wrapper.find('[data-testid=\"S3-bucketName\"]').find('input');\n    const endpoint = wrapper.find('[data-testid=\"S3-endpoint\"]').find('input');\n    const testCases = [\n      {\n        bucketNameInput: 'val',\n        endpointInput:   '',\n        result:          false\n      },\n      {\n        bucketNameInput: '',\n        endpointInput:   'val',\n        result:          false\n      }\n    ];\n\n    for (const testCase of testCases) {\n      bucketName.setValue(testCase.bucketNameInput);\n      endpoint.setValue(testCase.endpointInput);\n      await wrapper.vm.$nextTick();\n      expect(wrapper.emitted('valid')).toHaveLength(1);\n      expect(wrapper.emitted('valid')![0][0]).toBe(false);\n    }\n\n    bucketName.setValue('val1');\n    endpoint.setValue('val2');\n    await wrapper.vm.$nextTick();\n    expect(wrapper.emitted('valid')).toHaveLength(2);\n    expect(wrapper.emitted('valid')![1][0]).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}