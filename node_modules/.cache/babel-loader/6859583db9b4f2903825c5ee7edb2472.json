{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBNYXRjaEV4cHJlc3Npb25zIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTWF0Y2hFeHByZXNzaW9ucyc7CmltcG9ydCBTdG9yYWdlQ2xhc3NTZWxlY3RvciBmcm9tICdAc2hlbGwvY2hhcnQvbW9uaXRvcmluZy9TdG9yYWdlQ2xhc3NTZWxlY3Rvcic7CmltcG9ydCB7IFJhZGlvR3JvdXAgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1JhZGlvJzsKaW1wb3J0IHsgc2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IHNpbXBsaWZ5LCBjb252ZXJ0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NlbGVjdG9yJzsKaW1wb3J0IHsgUE9EIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXI6IEJhbm5lciwKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdCwKICAgIE1hdGNoRXhwcmVzc2lvbnM6IE1hdGNoRXhwcmVzc2lvbnMsCiAgICBSYWRpb0dyb3VwOiBSYWRpb0dyb3VwLAogICAgU3RvcmFnZUNsYXNzU2VsZWN0b3I6IFN0b3JhZ2VDbGFzc1NlbGVjdG9yCiAgfSwKICBwcm9wczogewogICAgYWNjZXNzTW9kZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9LAogICAgcHJvbWV0aGV1c1BvZHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHN0b3JhZ2VDbGFzc2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIGZpbHRlcmVkV29ya2xvYWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMkdmFsdWU7CiAgICByZXR1cm4gewogICAgICBlbmFibGVQZXJzaXN0ZW50U3RvcmFnZTogISEoKF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSkgIT09IG51bGwgJiYgX3RoaXMkdmFsdWUgIT09IHZvaWQgMCAmJiAoX3RoaXMkdmFsdWUgPSBfdGhpcyR2YWx1ZS5wcm9tZXRoZXVzKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnByb21ldGhldXNTcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnN0b3JhZ2VTcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSAhPT0gdm9pZCAwICYmIChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnZvbHVtZUNsYWltVGVtcGxhdGUpICE9PSBudWxsICYmIF90aGlzJHZhbHVlICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUuc3BlYykKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSkpLCB7fSwgewogICAgbWF0Y2hFeHByZXNzaW9uczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICB2YXIgX3RoaXMkdmFsdWUyOwogICAgICAgIHZhciBzZWxlY3RvciA9IChfdGhpcyR2YWx1ZTIgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUyID0gX3RoaXMkdmFsdWUyLnByb21ldGhldXMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlMiA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTIgPSBfdGhpcyR2YWx1ZTIucHJvbWV0aGV1c1NwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlMiA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTIgPSBfdGhpcyR2YWx1ZTIuc3RvcmFnZVNwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlMiA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZTIgPSBfdGhpcyR2YWx1ZTIudm9sdW1lQ2xhaW1UZW1wbGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUyID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlMiA9IF90aGlzJHZhbHVlMi5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlMi5zZWxlY3RvcjsKICAgICAgICB2YXIgbWF0Y2hFeHByZXNzaW9uczsKICAgICAgICBpZiAoc2VsZWN0b3IgJiYgc2VsZWN0b3IgIT09IG51bGwgJiYgc2VsZWN0b3IgIT09IHZvaWQgMCAmJiBzZWxlY3Rvci5tYXRjaEV4cHJlc3Npb25zKSB7CiAgICAgICAgICBtYXRjaEV4cHJlc3Npb25zID0gY29udmVydCgoc2VsZWN0b3IgPT09IG51bGwgfHwgc2VsZWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdG9yLm1hdGNoTGFiZWxzKSB8fCB7fSwgc2VsZWN0b3IgPT09IG51bGwgfHwgc2VsZWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdG9yLm1hdGNoRXhwcmVzc2lvbnMpOwogICAgICAgICAgcmV0dXJuIG1hdGNoRXhwcmVzc2lvbnM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBtYXBwZWRGaWx0ZXJlZFdvcmtsb2FkczogZnVuY3Rpb24gbWFwcGVkRmlsdGVyZWRXb3JrbG9hZHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkV29ya2xvYWRzLm1hcChmdW5jdGlvbiAod2wpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHdsLmlkLAogICAgICAgICAgbGluazogewogICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtbmFtZXNwYWNlLWlkJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgY2x1c3RlcjogX3RoaXMuY3VycmVudENsdXN0ZXIuaWQsCiAgICAgICAgICAgICAgcHJvZHVjdDogJ2V4cGxvcmVyJywKICAgICAgICAgICAgICByZXNvdXJjZTogd2wudHlwZSwKICAgICAgICAgICAgICBuYW1lc3BhY2U6IHdsLm1ldGFkYXRhLm5hbWVzcGFjZSwKICAgICAgICAgICAgICBpZDogd2wubWV0YWRhdGEubmFtZQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgcG9kc0FuZE5hbWVzcGFjZXM6IGZ1bmN0aW9uIHBvZHNBbmROYW1lc3BhY2VzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHByb21ldGhldXNQb2RzID0gdGhpcy5wcm9tZXRoZXVzUG9kczsKICAgICAgdmFyIHBvZHMgPSBbXTsKICAgICAgcHJvbWV0aGV1c1BvZHMuZm9yRWFjaChmdW5jdGlvbiAocG9kKSB7CiAgICAgICAgcG9kcy5wdXNoKHsKICAgICAgICAgIGxhYmVsOiBwb2QuaWQsCiAgICAgICAgICBsaW5rOiB7CiAgICAgICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZS1uYW1lc3BhY2UtaWQnLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBjbHVzdGVyOiBfdGhpczIuY3VycmVudENsdXN0ZXIuaWQsCiAgICAgICAgICAgICAgcHJvZHVjdDogJ2V4cGxvcmVyJywKICAgICAgICAgICAgICByZXNvdXJjZTogUE9ELAogICAgICAgICAgICAgIG5hbWVzcGFjZTogcG9kLm1ldGFkYXRhLm5hbWVzcGFjZSwKICAgICAgICAgICAgICBpZDogcG9kLm1ldGFkYXRhLm5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHBvZHM7CiAgICB9LAogICAgc2hvd1N0b3JhZ2VDbGFzc2VzOiBmdW5jdGlvbiBzaG93U3RvcmFnZUNsYXNzZXMoKSB7CiAgICAgIHZhciBzdG9yYWdlQ2xhc3NlcyA9IHRoaXMuc3RvcmFnZUNsYXNzZXM7CiAgICAgIHJldHVybiAoc3RvcmFnZUNsYXNzZXMgfHwgW10pLmxlbmd0aCA+PSAxOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBlbmFibGVQZXJzaXN0ZW50U3RvcmFnZTogZnVuY3Rpb24gZW5hYmxlUGVyc2lzdGVudFN0b3JhZ2UoZW5hYmxlZCkgewogICAgICBpZiAoISFlbmFibGVkKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUucHJvbWV0aGV1cy5wcm9tZXRoZXVzU3BlYy5zdG9yYWdlU3BlYywgJ3ZvbHVtZUNsYWltVGVtcGxhdGUnLCB7CiAgICAgICAgICBzcGVjOiB7CiAgICAgICAgICAgIGFjY2Vzc01vZGVzOiBbJ1JlYWRXcml0ZU9uY2UnXSwKICAgICAgICAgICAgcmVzb3VyY2VzOiB7CiAgICAgICAgICAgICAgcmVxdWVzdHM6IHsKICAgICAgICAgICAgICAgIHN0b3JhZ2U6ICc1MEdpJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLnZhbHVlLnByb21ldGhldXMucHJvbWV0aGV1c1NwZWMuc3RvcmFnZVNwZWMsICd2b2x1bWVDbGFpbVRlbXBsYXRlJyk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldDogc2V0LAogICAgbWF0Y2hDaGFuZ2VkOiBmdW5jdGlvbiBtYXRjaENoYW5nZWQoZXhwcmVzc2lvbnMpIHsKICAgICAgdmFyIF9zdG9yYWdlU3BlYyRzZWxlY3RvcjsKICAgICAgdmFyIF9zaW1wbGlmeSA9IHNpbXBsaWZ5KGV4cHJlc3Npb25zKSwKICAgICAgICBtYXRjaExhYmVscyA9IF9zaW1wbGlmeS5tYXRjaExhYmVscywKICAgICAgICBtYXRjaEV4cHJlc3Npb25zID0gX3NpbXBsaWZ5Lm1hdGNoRXhwcmVzc2lvbnM7CiAgICAgIHZhciBzdG9yYWdlU3BlYyA9IHRoaXMudmFsdWUucHJvbWV0aGV1cy5wcm9tZXRoZXVzU3BlYy5zdG9yYWdlU3BlYy52b2x1bWVDbGFpbVRlbXBsYXRlLnNwZWM7CiAgICAgIGlmICghKHN0b3JhZ2VTcGVjICE9PSBudWxsICYmIHN0b3JhZ2VTcGVjICE9PSB2b2lkIDAgJiYgc3RvcmFnZVNwZWMuc2VsZWN0b3IpKSB7CiAgICAgICAgc3RvcmFnZVNwZWNbJ3NlbGVjdG9yJ10gPSB7CiAgICAgICAgICBtYXRjaEV4cHJlc3Npb25zOiBbXSwKICAgICAgICAgIG1hdGNoTGFiZWxzOiB7fQogICAgICAgIH07CiAgICAgIH0KICAgICAgdGhpcy4kc2V0KHN0b3JhZ2VTcGVjLnNlbGVjdG9yLCAnbWF0Y2hMYWJlbHMnLCBtYXRjaExhYmVscyk7CiAgICAgIHRoaXMuJHNldChzdG9yYWdlU3BlYy5zZWxlY3RvciwgJ21hdGNoRXhwcmVzc2lvbnMnLCBtYXRjaEV4cHJlc3Npb25zKTsKCiAgICAgIC8vIFJlbW92ZSBhbiBlbXB0eSBzZWxlY3RvciBvYmplY3QgaWYgcHJlc2VudAogICAgICAvLyBVc2VyIGNhbiBhZGQgYSBzZWxlY3RvciBhbmQgdGhlbiByZW1vdmUgdGhlIHNlbGVjdG9yIC0gdGhpcyB3aWxsIGxlYXZlIGFuIGVtcHR5IHN0cnVjdHVyZSBhcyBhYm92ZQogICAgICAvLyBXZSB3YW50IHRvIGVuc3VyZSB3ZSByZW1vdmUgLnNlbGVjdG9yLm1hdGNoRXhwcmVzc2lvbnMsIC5zZWxlY3Rvci5tYXRjaExhYmVscywgYW5kIC5zZWxlY3RvciBpZiBlbXB0eQogICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYW5jaGVyL2Rhc2hib2FyZC9pc3N1ZXMvMTAwMTYKCiAgICAgIGlmICgoKF9zdG9yYWdlU3BlYyRzZWxlY3RvciA9IHN0b3JhZ2VTcGVjLnNlbGVjdG9yLm1hdGNoRXhwcmVzc2lvbnMpID09PSBudWxsIHx8IF9zdG9yYWdlU3BlYyRzZWxlY3RvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JhZ2VTcGVjJHNlbGVjdG9yLmxlbmd0aCkgPT09IDApIHsKICAgICAgICBkZWxldGUgc3RvcmFnZVNwZWMuc2VsZWN0b3IubWF0Y2hFeHByZXNzaW9uczsKICAgICAgfQogICAgICBpZiAoc3RvcmFnZVNwZWMuc2VsZWN0b3IubWF0Y2hMYWJlbHMgJiYgT2JqZWN0LmtleXMoc3RvcmFnZVNwZWMuc2VsZWN0b3IubWF0Y2hMYWJlbHMpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRlbGV0ZSBzdG9yYWdlU3BlYy5zZWxlY3Rvci5tYXRjaExhYmVsczsKICAgICAgfQogICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmFnZVNwZWMuc2VsZWN0b3IpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRlbGV0ZSBzdG9yYWdlU3BlYy5zZWxlY3RvcjsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","Banner","Checkbox","LabeledInput","LabeledSelect","MatchExpressions","StorageClassSelector","RadioGroup","set","simplify","convert","POD","components","props","accessModes","type","Array","required","mode","String","default","prometheusPods","_default","storageClasses","value","Object","filteredWorkloads","data","_this$value","enablePersistentStorage","prometheus","prometheusSpec","storageSpec","volumeClaimTemplate","spec","computed","_objectSpread","matchExpressions","get","_this$value2","selector","matchLabels","mappedFilteredWorkloads","_this","map","wl","label","id","link","name","params","cluster","currentCluster","product","resource","namespace","metadata","podsAndNamespaces","_this2","pods","forEach","pod","push","showStorageClasses","length","watch","enabled","$set","resources","requests","storage","$delete","methods","matchChanged","expressions","_storageSpec$selector","_simplify","keys"],"sources":["node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\n\nimport { Banner } from '@components/Banner';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport StorageClassSelector from '@shell/chart/monitoring/StorageClassSelector';\nimport { RadioGroup } from '@components/Form/Radio';\n\nimport { set } from '@shell/utils/object';\nimport { simplify, convert } from '@shell/utils/selector';\nimport { POD } from '@shell/config/types';\n\nexport default {\n  components: {\n    Banner,\n    Checkbox,\n    LabeledInput,\n    LabeledSelect,\n    MatchExpressions,\n    RadioGroup,\n    StorageClassSelector,\n  },\n\n  props: {\n    accessModes: {\n      type:     Array,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    prometheusPods: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    storageClasses: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    value: {\n      type:    Object,\n      default: () => ({}),\n    },\n\n    filteredWorkloads: {\n      type:    Array,\n      default: () => ([]),\n    },\n  },\n\n  data() {\n    return { enablePersistentStorage: !!this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    matchExpressions: {\n      get() {\n        const selector = this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec?.selector;\n        let matchExpressions;\n\n        if (selector && selector?.matchExpressions) {\n          matchExpressions = convert((selector?.matchLabels || {}), selector?.matchExpressions);\n\n          return matchExpressions;\n        } else {\n          return [];\n        }\n      }\n    },\n\n    mappedFilteredWorkloads() {\n      return this.filteredWorkloads.map((wl) => ({\n        label: wl.id,\n        link:  {\n          name:   'c-cluster-product-resource-namespace-id',\n          params: {\n            cluster:   this.currentCluster.id,\n            product:   'explorer',\n            resource:  wl.type,\n            namespace: wl.metadata.namespace,\n            id:        wl.metadata.name\n          },\n        }\n      }));\n    },\n\n    podsAndNamespaces() {\n      const { prometheusPods } = this;\n      const pods = [];\n\n      prometheusPods.forEach((pod) => {\n        pods.push({\n          label: pod.id,\n          link:  {\n            name:   'c-cluster-product-resource-namespace-id',\n            params: {\n              cluster: this.currentCluster.id, product: 'explorer', resource: POD, namespace: pod.metadata.namespace, id: pod.metadata.name\n            },\n          }\n        });\n      });\n\n      return pods;\n    },\n\n    showStorageClasses() {\n      const { storageClasses } = this;\n\n      return (storageClasses || []).length >= 1;\n    },\n  },\n\n  watch: {\n    enablePersistentStorage(enabled) {\n      if (!!enabled) {\n        this.$set(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate',\n          {\n            spec: {\n              accessModes: ['ReadWriteOnce'],\n              resources:   { requests: { storage: '50Gi' } },\n            }\n          }\n        );\n      } else {\n        this.$delete(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate'\n        );\n      }\n    },\n  },\n\n  methods: {\n    set,\n\n    matchChanged(expressions) {\n      const { matchLabels, matchExpressions } = simplify(expressions);\n      const storageSpec = this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec;\n\n      if (!storageSpec?.selector) {\n        storageSpec['selector'] = { matchExpressions: [], matchLabels: {} };\n      }\n\n      this.$set(storageSpec.selector, 'matchLabels', matchLabels);\n      this.$set(storageSpec.selector, 'matchExpressions', matchExpressions);\n\n      // Remove an empty selector object if present\n      // User can add a selector and then remove the selector - this will leave an empty structure as above\n      // We want to ensure we remove .selector.matchExpressions, .selector.matchLabels, and .selector if empty\n      // See: https://github.com/rancher/dashboard/issues/10016\n\n      if (storageSpec.selector.matchExpressions?.length === 0) {\n        delete storageSpec.selector.matchExpressions;\n      }\n\n      if (storageSpec.selector.matchLabels && Object.keys(storageSpec.selector.matchLabels).length === 0) {\n        delete storageSpec.selector.matchLabels;\n      }\n\n      if (Object.keys(storageSpec.selector).length === 0) {\n        delete storageSpec.selector;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"title\">\n      <h3>{{ t('monitoring.prometheus.title') }}</h3>\n    </div>\n    <!-- https://github.com/rancher/dashboard/issues/1167 -->\n    <Banner\n      v-if=\"mappedFilteredWorkloads.length\"\n      color=\"warning\"\n    >\n      <template #default>\n        <t\n          k=\"monitoring.prometheus.warningInstalled\"\n          :raw=\"true\"\n        />\n        <div\n          v-for=\"wl in mappedFilteredWorkloads\"\n          :key=\"wl.id\"\n          class=\"mt-10\"\n        >\n          <nuxt-link\n            :to=\"wl.link\"\n            class=\"btn role-tertiary\"\n          >\n            {{ wl.label }}\n          </nuxt-link>\n        </div>\n      </template>\n    </Banner>\n    <div class=\"prometheus-config\">\n      <div class=\"row\">\n        <div class=\"col span-6 col-full-height\">\n          <Checkbox\n            v-model=\"value.prometheus.prometheusSpec.enableAdminAPI\"\n            :label=\"t('monitoring.prometheus.config.adminApi')\"\n          />\n        </div>\n        <div class=\"col span-6 col-full-height\">\n          <RadioGroup\n            v-model=\"value.prometheus.prometheusSpec.ignoreNamespaceSelectors\"\n            :mode=\"mode\"\n            name=\"ignoreNamespaceSelectors\"\n            label-key=\"monitoring.prometheus.config.ignoreNamespaceSelectors.label\"\n            :tooltip=\"t('monitoring.prometheus.config.ignoreNamespaceSelectors.help', {}, true)\"\n            :labels=\"[t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced'),t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored')]\"\n            :options=\"[false, true]\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.scrapeInterval\"\n            :label=\"t('monitoring.prometheus.config.scrape')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.evaluationInterval\"\n            :label=\"t('monitoring.prometheus.config.evaluation')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retention\"\n            :label=\"t('monitoring.prometheus.config.retention')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retentionSize\"\n            :label=\"t('monitoring.prometheus.config.retentionSize')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-12 mt-5\">\n          <h4 class=\"mb-0\">\n            {{ t('monitoring.prometheus.config.resourceLimits') }}\n          </h4>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.cpu\"\n            :label=\"t('monitoring.prometheus.config.requests.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.memory\"\n            :label=\"t('monitoring.prometheus.config.requests.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.cpu\"\n            :label=\"t('monitoring.prometheus.config.limits.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.memory\"\n            :label=\"t('monitoring.prometheus.config.limits.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div\n        class=\"row row-full-height container-flex-center\"\n        style=\"min-height: 55px;\"\n      >\n        <div class=\"col span-6\">\n          <Checkbox\n            v-model=\"enablePersistentStorage\"\n            data-testid=\"checkbox-chart-enable-persistent-storage\"\n            :label=\"t('monitoring.prometheus.storage.label')\"\n          />\n        </div>\n      </div>\n      <template v-if=\"enablePersistentStorage\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage\"\n              :label=\"t('monitoring.prometheus.storage.size')\"\n              :mode=\"mode\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <div\n              v-if=\"showStorageClasses\"\n              data-testid=\"select-chart-prometheus-storage-class\"\n            >\n              <StorageClassSelector\n                :mode=\"mode\"\n                :options=\"storageClasses\"\n                :value=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName\"\n                :label=\"t('monitoring.prometheus.storage.className')\"\n                @updateName=\"(name) => $set(value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec, 'storageClassName', name)\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes\"\n              :label=\"t('monitoring.prometheus.storage.mode')\"\n              :localized-label=\"true\"\n              :mode=\"mode\"\n              :multiple=\"true\"\n              :options=\"accessModes\"\n              :reduce=\"({id})=> id\"\n            />\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <div class=\"mb-5 mt-5\">\n              <h4 class=\" mb-10\">\n                {{ t('monitoring.prometheus.storage.selector') }}\n              </h4>\n            </div>\n            <Banner\n              color=\"warning\"\n              :label=\"t('monitoring.prometheus.storage.selectorWarning', {}, true)\"\n            />\n            <MatchExpressions\n              :initial-empty-row=\"false\"\n              :mode=\"mode\"\n              :value=\"matchExpressions\"\n              :show-remove=\"false\"\n              @input=\"matchChanged($event)\"\n            />\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.prometheus-config {\n  & > * {\n    margin-top: 10px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}