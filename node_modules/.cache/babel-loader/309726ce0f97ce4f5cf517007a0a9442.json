{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/harvesterhci.io.management.cluster.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/detail/harvesterhci.io.management.cluster.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IENvcHlDb2RlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NvcHlDb2RlJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBSZXNvdXJjZVRhYnM6IFJlc291cmNlVGFicywKICAgIFRhYjogVGFiLAogICAgQ29weUNvZGU6IENvcHlDb2RlCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2gsIHJlczsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMudmFsdWUud2FpdEZvclByb3Zpc2lvbmVyKCk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGhhc2ggPSB7CiAgICAgICAgICAgICAgY2x1c3RlclRva2VuOiBfdGhpcy52YWx1ZS5nZXRPckNyZWF0ZVRva2VuKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKGhhc2gpOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5hbGxOb2RlcyA9IHJlcy5hbGxOb2RlcyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMuYWxsTm9kZVBvb2xzID0gcmVzLmFsbE5vZGVQb29scyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMuY2x1c3RlclRva2VuID0gcmVzLmNsdXN0ZXJUb2tlbjsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsdXN0ZXJUb2tlbjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkZWZhdWx0VGFiOiBmdW5jdGlvbiBkZWZhdWx0VGFiKCkgewogICAgICB2YXIgX3RoaXMkbWFjaGluZXM7CiAgICAgIGlmICh0aGlzLnNob3dSZWdpc3RyYXRpb24gJiYgISgoX3RoaXMkbWFjaGluZXMgPSB0aGlzLm1hY2hpbmVzKSAhPT0gbnVsbCAmJiBfdGhpcyRtYWNoaW5lcyAhPT0gdm9pZCAwICYmIF90aGlzJG1hY2hpbmVzLmxlbmd0aCkpIHsKICAgICAgICByZXR1cm4gJ3JlZ2lzdHJhdGlvbic7CiAgICAgIH0KICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIHNob3dSZWdpc3RyYXRpb246IGZ1bmN0aW9uIHNob3dSZWdpc3RyYXRpb24oKSB7CiAgICAgIGlmICghdGhpcy5jbHVzdGVyVG9rZW4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHRoaXMudmFsdWUuaXNJbXBvcnRlZCkgewogICAgICAgIHZhciBfdGhpcyR2YWx1ZSRtZ210OwogICAgICAgIHJldHVybiAhKChfdGhpcyR2YWx1ZSRtZ210ID0gdGhpcy52YWx1ZS5tZ210KSAhPT0gbnVsbCAmJiBfdGhpcyR2YWx1ZSRtZ210ICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUkbWdtdC5pc1JlYWR5KTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgcmVnaXN0cmF0aW9uVVJMOiBmdW5jdGlvbiByZWdpc3RyYXRpb25VUkwoKSB7CiAgICAgIHZhciBfdGhpcyRjbHVzdGVyVG9rZW47CiAgICAgIHJldHVybiAoKChfdGhpcyRjbHVzdGVyVG9rZW4gPSB0aGlzLmNsdXN0ZXJUb2tlbikgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlclRva2VuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjbHVzdGVyVG9rZW4uY29tbWFuZCkgfHwgJycpLnJlcGxhY2UoJ2t1YmVjdGwgYXBwbHkgLWYgJywgJycpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Loading","ResourceTabs","CopyCode","Tab","allHash","components","props","value","type","Object","default","_default","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","res","wrap","_callee$","_context","prev","next","waitForProvisioner","clusterToken","getOrCreateToken","sent","allNodes","allNodePools","stop","data","computed","defaultTab","_this$machines","showRegistration","machines","length","isImported","_this$value$mgmt","mgmt","isReady","registrationURL","_this$clusterToken","command","replace"],"sources":["node_modules/@rancher/shell/detail/harvesterhci.io.management.cluster.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport CopyCode from '@shell/components/CopyCode';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { allHash } from '@shell/utils/promise';\n\nexport default {\n  components: {\n    Loading,\n    ResourceTabs,\n    Tab,\n    CopyCode,\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  async fetch() {\n    await this.value.waitForProvisioner();\n\n    const hash = { clusterToken: this.value.getOrCreateToken() };\n\n    const res = await allHash(hash);\n\n    this.allNodes = res.allNodes || [];\n    this.allNodePools = res.allNodePools || [];\n    this.clusterToken = res.clusterToken;\n  },\n\n  data() {\n    return { clusterToken: null };\n  },\n\n  computed: {\n    defaultTab() {\n      if (this.showRegistration && !this.machines?.length) {\n        return 'registration';\n      }\n\n      return '';\n    },\n\n    showRegistration() {\n      if ( !this.clusterToken ) {\n        return false;\n      }\n\n      if ( this.value.isImported ) {\n        return !this.value.mgmt?.isReady;\n      }\n\n      return false;\n    },\n\n    registrationURL() {\n      return (this.clusterToken?.command || '').replace('kubectl apply -f ', '');\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <ResourceTabs\n    v-else\n    v-model=\"value\"\n    :default-tab=\"defaultTab\"\n  >\n    <Tab\n      v-if=\"showRegistration\"\n      name=\"registration\"\n      :label=\"t('cluster.tabs.registration')\"\n      :weight=\"2\"\n      class=\"p-10\"\n    >\n      <h4\n        v-clean-html=\"t('cluster.harvester.registration.step1', null, true)\"\n      />\n\n      <h4\n        v-clean-html=\"t('cluster.harvester.registration.step2', null, true)\"\n        class=\"mt-10\"\n      />\n\n      <h4\n        v-clean-html=\"t('cluster.harvester.registration.step3', null, true)\"\n        class=\"mt-10\"\n      />\n      <CopyCode class=\"m-10 p-10\">\n        {{ registrationURL }}\n      </CopyCode>\n    </Tab>\n  </ResourceTabs>\n</template>\n"],"mappings":";;;;;AACA,OAAAA,OAAA;AACA,OAAAC,YAAA;AACA,OAAAC,QAAA;AACA,OAAAC,GAAA;AACA,SAAAC,OAAA;AAEA;EACAC,UAAA;IACAL,OAAA,EAAAA,OAAA;IACAC,YAAA,EAAAA,YAAA;IACAE,GAAA,EAAAA,GAAA;IACAD,QAAA,EAAAA;EACA;EAEAI,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA,EAAAC,GAAA;MAAA,OAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAX,KAAA,CAAAN,KAAA,CAAAkB,kBAAA;UAAA;YAEAP,IAAA;cAAAQ,YAAA,EAAAb,KAAA,CAAAN,KAAA,CAAAoB,gBAAA;YAAA;YAAAL,QAAA,CAAAE,IAAA;YAAA,OAEApB,OAAA,CAAAc,IAAA;UAAA;YAAAC,GAAA,GAAAG,QAAA,CAAAM,IAAA;YAEAf,KAAA,CAAAgB,QAAA,GAAAV,GAAA,CAAAU,QAAA;YACAhB,KAAA,CAAAiB,YAAA,GAAAX,GAAA,CAAAW,YAAA;YACAjB,KAAA,CAAAa,YAAA,GAAAP,GAAA,CAAAO,YAAA;UAAA;UAAA;YAAA,OAAAJ,QAAA,CAAAS,IAAA;QAAA;MAAA,GAAAd,OAAA;IAAA;EACA;EAEAe,IAAA,WAAAA,KAAA;IACA;MAAAN,YAAA;IAAA;EACA;EAEAO,QAAA;IACAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,cAAA;MACA,SAAAC,gBAAA,OAAAD,cAAA,QAAAE,QAAA,cAAAF,cAAA,eAAAA,cAAA,CAAAG,MAAA;QACA;MACA;MAEA;IACA;IAEAF,gBAAA,WAAAA,iBAAA;MACA,UAAAV,YAAA;QACA;MACA;MAEA,SAAAnB,KAAA,CAAAgC,UAAA;QAAA,IAAAC,gBAAA;QACA,UAAAA,gBAAA,QAAAjC,KAAA,CAAAkC,IAAA,cAAAD,gBAAA,eAAAA,gBAAA,CAAAE,OAAA;MACA;MAEA;IACA;IAEAC,eAAA,WAAAA,gBAAA;MAAA,IAAAC,kBAAA;MACA,UAAAA,kBAAA,QAAAlB,YAAA,cAAAkB,kBAAA,uBAAAA,kBAAA,CAAAC,OAAA,SAAAC,OAAA;IACA;EACA;AACA","ignoreList":[]}]}