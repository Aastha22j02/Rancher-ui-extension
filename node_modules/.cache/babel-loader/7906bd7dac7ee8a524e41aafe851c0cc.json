{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/Questions/Reference.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/Questions/Reference.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IGZpbHRlckJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgUFZDLCBTVE9SQUdFX0NMQVNTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBRdWVzdGlvbiBmcm9tICcuL1F1ZXN0aW9uJzsKCi8vIE9sZGVyIHZlcnNpb25zIG9mIHJhbmNoZXIgZG9jdW1lbnQgdGhlc2Ugd29yZHMgYXMgdmFsaWQgdHlwZXMKdmFyIExFR0FDWV9NQVAgPSB7CiAgc3RvcmFnZWNsYXNzOiBTVE9SQUdFX0NMQVNTLAogIHB2YzogUFZDCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QKICB9LAogIG1peGluczogW1F1ZXN0aW9uXSwKICBwcm9wczogewogICAgaW5TdG9yZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjbHVzdGVyJwogICAgfSwKICAgIHRhcmdldE5hbWVzcGFjZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCFfdGhpcy50eXBlU2NoZW1hKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KF90aGlzLmluU3RvcmUsICIvZmluZEFsbCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogX3RoaXMudHlwZU5hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF90aGlzLmFsbCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgdCA9IHRoaXMucXVlc3Rpb24udHlwZTsKICAgIHZhciB0eXBlTmFtZTsKICAgIHZhciBtYXRjaCA9IHQubWF0Y2goL15yZWZlcmVuY2VcWyguKilcXSQvKTsKICAgIGlmIChtYXRjaCkgewogICAgICB0eXBlTmFtZSA9IG1hdGNoID09PSBudWxsIHx8IG1hdGNoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXRjaFsxXTsKICAgIH0gZWxzZSB7CiAgICAgIHR5cGVOYW1lID0gTEVHQUNZX01BUFt0XSB8fCB0OwogICAgfQogICAgdmFyIHR5cGVTY2hlbWE7CiAgICBpZiAodHlwZU5hbWUpIHsKICAgICAgdHlwZVNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KHRoaXMuaW5TdG9yZSwgIi9zY2hlbWFGb3IiKV0odHlwZU5hbWUpOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgdHlwZU5hbWU6IHR5cGVOYW1lLAogICAgICB0eXBlU2NoZW1hOiB0eXBlU2NoZW1hLAogICAgICBhbGw6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTmFtZXNwYWNlZDogZnVuY3Rpb24gaXNOYW1lc3BhY2VkKCkgewogICAgICB2YXIgX3RoaXMkdHlwZVNjaGVtYTsKICAgICAgcmV0dXJuICEhKChfdGhpcyR0eXBlU2NoZW1hID0gdGhpcy50eXBlU2NoZW1hKSAhPT0gbnVsbCAmJiBfdGhpcyR0eXBlU2NoZW1hICE9PSB2b2lkIDAgJiYgKF90aGlzJHR5cGVTY2hlbWEgPSBfdGhpcyR0eXBlU2NoZW1hLmF0dHJpYnV0ZXMpICE9PSBudWxsICYmIF90aGlzJHR5cGVTY2hlbWEgIT09IHZvaWQgMCAmJiBfdGhpcyR0eXBlU2NoZW1hLm5hbWVzcGFjZWQpOwogICAgfSwKICAgIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoKSB7CiAgICAgIHZhciBvdXQgPSB0aGlzLmFsbDsKICAgICAgaWYgKHRoaXMuaXNOYW1lc3BhY2VkKSB7CiAgICAgICAgb3V0ID0gZmlsdGVyQnkodGhpcy5hbGwsICdtZXRhZGF0YS5uYW1lc3BhY2UnLCB0aGlzLnRhcmdldE5hbWVzcGFjZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG91dC5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHgubmFtZURpc3BsYXkgfHwgeC5tZXRhZGF0YS5uYW1lLAogICAgICAgICAgdmFsdWU6IHgubWV0YWRhdGEubmFtZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["LabeledInput","LabeledSelect","filterBy","PVC","STORAGE_CLASS","Question","LEGACY_MAP","storageclass","pvc","components","mixins","props","inStore","type","String","default","targetNamespace","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","typeSchema","$store","dispatch","concat","typeName","all","sent","stop","data","t","question","match","getters","computed","isNamespaced","_this$typeSchema","attributes","namespaced","options","out","map","x","label","nameDisplay","metadata","name","value"],"sources":["node_modules/@rancher/shell/components/Questions/Reference.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { filterBy } from '@shell/utils/array';\nimport { PVC, STORAGE_CLASS } from '@shell/config/types';\nimport Question from './Question';\n\n// Older versions of rancher document these words as valid types\nconst LEGACY_MAP = {\n  storageclass: STORAGE_CLASS,\n  pvc:          PVC,\n};\n\nexport default {\n  components: { LabeledInput, LabeledSelect },\n  mixins:     [Question],\n\n  props: {\n    inStore: {\n      type:    String,\n      default: 'cluster',\n    },\n\n    targetNamespace: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  async fetch() {\n    if ( this.typeSchema ) {\n      this.all = await this.$store.dispatch(`${ this.inStore }/findAll`, { type: this.typeName });\n    }\n  },\n\n  data() {\n    const t = this.question.type;\n\n    let typeName;\n\n    const match = t.match(/^reference\\[(.*)\\]$/);\n\n    if ( match ) {\n      typeName = match?.[1];\n    } else {\n      typeName = LEGACY_MAP[t] || t;\n    }\n\n    let typeSchema;\n\n    if ( typeName ) {\n      typeSchema = this.$store.getters[`${ this.inStore }/schemaFor`](typeName);\n    }\n\n    return {\n      typeName,\n      typeSchema,\n      all: [],\n    };\n  },\n\n  computed: {\n    isNamespaced() {\n      return !!this.typeSchema?.attributes?.namespaced;\n    },\n\n    options() {\n      let out = this.all;\n\n      if ( this.isNamespaced ) {\n        out = filterBy(this.all, 'metadata.namespace', this.targetNamespace);\n      }\n\n      return out.map((x) => {\n        return {\n          label: x.nameDisplay || x.metadata.name,\n          value: x.metadata.name\n        };\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"typeSchema\"\n    class=\"row\"\n  >\n    <div class=\"col span-6\">\n      <LabeledSelect\n        :mode=\"mode\"\n        :options=\"options\"\n        :disabled=\"$fetchState.pending || disabled\"\n        :label=\"displayLabel\"\n        :placeholder=\"question.description\"\n        :required=\"question.required\"\n        :value=\"value\"\n        :tooltip=\"displayTooltip\"\n        @input=\"!$fetchState.pending && $emit('input', $event)\"\n      />\n    </div>\n    <div class=\"col span-6 mt-10\">\n      {{ typeSchema.attributes.kind }}<span v-if=\"isNamespaced\"> in namespace {{ targetNamespace }}</span>\n      <div v-if=\"showDescription\">\n        {{ question.description }}\n      </div>\n    </div>\n  </div>\n  <div\n    v-else\n    class=\"row\"\n  >\n    <div class=\"col span-6\">\n      <LabeledInput\n        :mode=\"mode\"\n        :disabled=\"$fetchState.pending || disabled\"\n        :label=\"displayLabel\"\n        :placeholder=\"question.description\"\n        :required=\"question.required\"\n        :value=\"value\"\n        :tooltip=\"displayTooltip\"\n        @input=\"!$fetchState.pending && $emit('input', $event)\"\n      />\n    </div>\n    <div class=\"col span-6 mt-10\">\n      {{ question.type }}<span v-if=\"isNamespaced\"> in namespace {{ targetNamespace }}</span>\n      <div v-if=\"showDescription\">\n        {{ question.description }}\n      </div>\n      <div class=\"text-error\">\n        (You do not have access to list this type)\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;AACA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,SAAAC,GAAA,EAAAC,aAAA;AACA,OAAAC,QAAA;;AAEA;AACA,IAAAC,UAAA;EACAC,YAAA,EAAAH,aAAA;EACAI,GAAA,EAAAL;AACA;AAEA;EACAM,UAAA;IAAAT,YAAA,EAAAA,YAAA;IAAAC,aAAA,EAAAA;EAAA;EACAS,MAAA,GAAAL,QAAA;EAEAM,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,eAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAE,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KACAT,KAAA,CAAAU,UAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAW,MAAA,CAAAC,QAAA,IAAAC,MAAA,CAAAb,KAAA,CAAAN,OAAA;cAAAC,IAAA,EAAAK,KAAA,CAAAc;YAAA;UAAA;YAAAd,KAAA,CAAAe,GAAA,GAAAR,QAAA,CAAAS,IAAA;UAAA;UAAA;YAAA,OAAAT,QAAA,CAAAU,IAAA;QAAA;MAAA,GAAAb,OAAA;IAAA;EAEA;EAEAc,IAAA,WAAAA,KAAA;IACA,IAAAC,CAAA,QAAAC,QAAA,CAAAzB,IAAA;IAEA,IAAAmB,QAAA;IAEA,IAAAO,KAAA,GAAAF,CAAA,CAAAE,KAAA;IAEA,IAAAA,KAAA;MACAP,QAAA,GAAAO,KAAA,aAAAA,KAAA,uBAAAA,KAAA;IACA;MACAP,QAAA,GAAA1B,UAAA,CAAA+B,CAAA,KAAAA,CAAA;IACA;IAEA,IAAAT,UAAA;IAEA,IAAAI,QAAA;MACAJ,UAAA,QAAAC,MAAA,CAAAW,OAAA,IAAAT,MAAA,MAAAnB,OAAA,iBAAAoB,QAAA;IACA;IAEA;MACAA,QAAA,EAAAA,QAAA;MACAJ,UAAA,EAAAA,UAAA;MACAK,GAAA;IACA;EACA;EAEAQ,QAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,IAAAC,gBAAA;MACA,WAAAA,gBAAA,QAAAf,UAAA,cAAAe,gBAAA,gBAAAA,gBAAA,GAAAA,gBAAA,CAAAC,UAAA,cAAAD,gBAAA,eAAAA,gBAAA,CAAAE,UAAA;IACA;IAEAC,OAAA,WAAAA,QAAA;MACA,IAAAC,GAAA,QAAAd,GAAA;MAEA,SAAAS,YAAA;QACAK,GAAA,GAAA7C,QAAA,MAAA+B,GAAA,6BAAAjB,eAAA;MACA;MAEA,OAAA+B,GAAA,CAAAC,GAAA,WAAAC,CAAA;QACA;UACAC,KAAA,EAAAD,CAAA,CAAAE,WAAA,IAAAF,CAAA,CAAAG,QAAA,CAAAC,IAAA;UACAC,KAAA,EAAAL,CAAA,CAAAG,QAAA,CAAAC;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}