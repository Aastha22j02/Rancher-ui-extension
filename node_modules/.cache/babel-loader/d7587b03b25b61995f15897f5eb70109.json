{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgbWFwUHJlZiwgUExVR0lOX0RFVkVMT1BFUiB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgQ0FUQUxPRywgVUlfUExVR0lOLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgZmV0Y2hPckNyZWF0ZVNldHRpbmcgfSBmcm9tICdAc2hlbGwvdXRpbHMvc2V0dGluZ3MnOwppbXBvcnQgeyBnZXRWZXJzaW9uRGF0YSwgaXNSYW5jaGVyUHJpbWUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3ZlcnNpb24nOwppbXBvcnQgeyBDQVRBTE9HIGFzIENBVEFMT0dfQU5OT1RBVElPTlMgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IE5BTUUgYXMgQVBQX1BST0RVQ1QgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvYXBwcyc7CmltcG9ydCBBY3Rpb25NZW51IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FjdGlvbk1lbnUnOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9pbmRleC52dWUnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWIudnVlJzsKaW1wb3J0IEljb25NZXNzYWdlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0ljb25NZXNzYWdlLnZ1ZSc7CmltcG9ydCBMYXp5SW1hZ2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTGF6eUltYWdlJzsKaW1wb3J0IHsgQmFkZ2VTdGF0ZSB9IGZyb20gJ0Bjb21wb25lbnRzL0JhZGdlU3RhdGUnOwppbXBvcnQgVW5pbnN0YWxsRGlhbG9nIGZyb20gJy4vVW5pbnN0YWxsRGlhbG9nLnZ1ZSc7CmltcG9ydCBJbnN0YWxsRGlhbG9nIGZyb20gJy4vSW5zdGFsbERpYWxvZy52dWUnOwppbXBvcnQgQ2F0YWxvZ0xvYWREaWFsb2cgZnJvbSAnLi9DYXRhbG9nTGlzdC9DYXRhbG9nTG9hZERpYWxvZy52dWUnOwppbXBvcnQgQ2F0YWxvZ1VuaW5zdGFsbERpYWxvZyBmcm9tICcuL0NhdGFsb2dMaXN0L0NhdGFsb2dVbmluc3RhbGxEaWFsb2cudnVlJzsKaW1wb3J0IERldmVsb3Blckluc3RhbGxEaWFsb2cgZnJvbSAnLi9EZXZlbG9wZXJJbnN0YWxsRGlhbG9nLnZ1ZSc7CmltcG9ydCBQbHVnaW5JbmZvUGFuZWwgZnJvbSAnLi9QbHVnaW5JbmZvUGFuZWwudnVlJzsKaW1wb3J0IFNldHVwVUlQbHVnaW5zIGZyb20gJy4vU2V0dXBVSVBsdWdpbnMudnVlJzsKaW1wb3J0IEFkZEV4dGVuc2lvblJlcG9zIGZyb20gJy4vQWRkRXh0ZW5zaW9uUmVwb3MnOwppbXBvcnQgQ2F0YWxvZ0xpc3QgZnJvbSAnLi9DYXRhbG9nTGlzdC9pbmRleC52dWUnOwppbXBvcnQgQmFubmVyIGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lci9CYW5uZXIudnVlJzsKaW1wb3J0IHsgaXNVSVBsdWdpbiwgdWlQbHVnaW5Bbm5vdGF0aW9uLCB1aVBsdWdpbkhhc0Fubm90YXRpb24sIGlzU3VwcG9ydGVkQ2hhcnRWZXJzaW9uLCBpc0NoYXJ0VmVyc2lvbkF2YWlsYWJsZUZvckluc3RhbGwsIGlzQ2hhcnRWZXJzaW9uSGlnaGVyLCBVSV9QTFVHSU5fTkFNRVNQQUNFLCBVSV9QTFVHSU5fQ0hBUlRfQU5OT1RBVElPTlMsIFVJX1BMVUdJTlNfUkVQT19VUkwsIFVJX1BMVUdJTlNfUEFSVE5FUlNfUkVQT19VUkwgfSBmcm9tICdAc2hlbGwvY29uZmlnL3VpcGx1Z2lucyc7CmltcG9ydCBUYWJUaXRsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJUaXRsZSc7CnZhciBNQVhfREVTQ1JJUFRJT05fTEVOR1RIID0gMjAwOwp2YXIgVEFCU19WQUxVRVMgPSB7CiAgSU5TVEFMTEVEOiAnaW5zdGFsbGVkJywKICBVUERBVEVTOiAndXBkYXRlcycsCiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJywKICBBTEw6ICdhbGwnCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBY3Rpb25NZW51OiBBY3Rpb25NZW51LAogICAgQmFkZ2VTdGF0ZTogQmFkZ2VTdGF0ZSwKICAgIERldmVsb3Blckluc3RhbGxEaWFsb2c6IERldmVsb3Blckluc3RhbGxEaWFsb2csCiAgICBJY29uTWVzc2FnZTogSWNvbk1lc3NhZ2UsCiAgICBDYXRhbG9nTGlzdDogQ2F0YWxvZ0xpc3QsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIENhdGFsb2dMb2FkRGlhbG9nOiBDYXRhbG9nTG9hZERpYWxvZywKICAgIENhdGFsb2dVbmluc3RhbGxEaWFsb2c6IENhdGFsb2dVbmluc3RhbGxEaWFsb2csCiAgICBJbnN0YWxsRGlhbG9nOiBJbnN0YWxsRGlhbG9nLAogICAgTGF6eUltYWdlOiBMYXp5SW1hZ2UsCiAgICBQbHVnaW5JbmZvUGFuZWw6IFBsdWdpbkluZm9QYW5lbCwKICAgIFRhYjogVGFiLAogICAgVGFiYmVkOiBUYWJiZWQsCiAgICBVbmluc3RhbGxEaWFsb2c6IFVuaW5zdGFsbERpYWxvZywKICAgIFNldHVwVUlQbHVnaW5zOiBTZXR1cFVJUGx1Z2lucywKICAgIEFkZEV4dGVuc2lvblJlcG9zOiBBZGRFeHRlbnNpb25SZXBvcywKICAgIFRhYlRpdGxlOiBUYWJUaXRsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfZ2V0VmVyc2lvbkRhdGE7CiAgICByZXR1cm4gewogICAgICBUQUJTX1ZBTFVFUzogVEFCU19WQUxVRVMsCiAgICAgIGt1YmVWZXJzaW9uOiBudWxsLAogICAgICB2aWV3OiAnJywKICAgICAgaW5zdGFsbGluZzoge30sCiAgICAgIGVycm9yczoge30sCiAgICAgIHBsdWdpbnM6IFtdLAogICAgICAvLyBUaGUgaW5zdGFsbGVkIHBsdWdpbnMKICAgICAgaGVsbU9wczogW10sCiAgICAgIC8vIEhlbG0gb3BlcmF0aW9ucwogICAgICBhZGRFeHRlbnNpb25SZXBvc0Jhbm5lclNldHRpbmc6IHVuZGVmaW5lZCwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgbWVudVRhcmdldEVsZW1lbnQ6IG51bGwsCiAgICAgIG1lbnVUYXJnZXRFdmVudDogbnVsbCwKICAgICAgbWVudU9wZW46IGZhbHNlLAogICAgICBoYXNGZWF0dXJlRmxhZzogdHJ1ZSwKICAgICAgZGVmYXVsdEljb246IHJlcXVpcmUoJ35zaGVsbC9hc3NldHMvaW1hZ2VzL2dlbmVyaWMtcGx1Z2luLnN2ZycpLAogICAgICByZWxvYWRSZXF1aXJlZDogZmFsc2UsCiAgICAgIHJhbmNoZXJWZXJzaW9uOiAoX2dldFZlcnNpb25EYXRhID0gZ2V0VmVyc2lvbkRhdGEoKSkgPT09IG51bGwgfHwgX2dldFZlcnNpb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2V0VmVyc2lvbkRhdGEuVmVyc2lvbiwKICAgICAgc2hvd0NhdGFsb2dMaXN0OiBmYWxzZQogICAgfTsKICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3JlcyRsb2NhbENsdXN0ZXI7CiAgICAgIHZhciBoYXNoLCBpc1NldHVwLCByZXMsIF90aGlzJCRyZWZzJHRhYnM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBoYXNoID0ge307CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlSW5zdGFsbFN0YXR1cyh0cnVlKTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaXNTZXR1cCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGlmIChpc1NldHVwKSB7CiAgICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKFVJX1BMVUdJTikpIHsKICAgICAgICAgICAgICAgIGhhc2gucGx1Z2lucyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBVSV9QTFVHSU4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2F0YWxvZy9sb2FkJywgewogICAgICAgICAgICAgIHJlc2V0OiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBoYXNoLmxvYWQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBpZiAoIV90aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKE1BTkFHRU1FTlQuQ0xVU1RFUikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5DTFVTVEVSLAogICAgICAgICAgICAgIGlkOiAnbG9jYWwnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgaGFzaC5sb2NhbENsdXN0ZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9zY2hlbWFGb3InXShDQVRBTE9HLk9QRVJBVElPTikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5PUEVSQVRJT04KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBoYXNoLmhlbG1PcHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9zY2hlbWFGb3InXShDQVRBTE9HLkNMVVNURVJfUkVQTykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5DTFVTVEVSX1JFUE8KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGZvcmNlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgaGFzaC5yZXBvcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKGhhc2gpOwogICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMucGx1Z2lucyA9IHJlcy5wbHVnaW5zIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5yZXBvcyA9IHJlcy5yZXBvcyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMuaGVsbU9wcyA9IHJlcy5oZWxtT3BzIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5rdWJlVmVyc2lvbiA9ICgoX3JlcyRsb2NhbENsdXN0ZXIgPSByZXMubG9jYWxDbHVzdGVyKSA9PT0gbnVsbCB8fCBfcmVzJGxvY2FsQ2x1c3RlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRsb2NhbENsdXN0ZXIua3ViZXJuZXRlc1ZlcnNpb25CYXNlKSB8fCBbXTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICByZXR1cm4gZmV0Y2hPckNyZWF0ZVNldHRpbmcoX3RoaXMuJHN0b3JlLCBTRVRUSU5HLkFERF9FWFRFTlNJT05fUkVQT1NfQkFOTkVSX0RJU1BMQVksICd0cnVlJywgdHJ1ZSk7CiAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGlmIChfY29udGV4dC50MCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC50MCA9IHt9OwogICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgX3RoaXMuYWRkRXh0ZW5zaW9uUmVwb3NCYW5uZXJTZXR0aW5nID0gX2NvbnRleHQudDA7CiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBwbHVnaW5zIGluc3RhbGxlZCwgZGVmYXVsdCB0byB0aGUgY2F0YWxvZyB2aWV3CiAgICAgICAgICAgIGlmIChfdGhpcy5wbHVnaW5zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIChfdGhpcyQkcmVmcyR0YWJzID0gX3RoaXMuJHJlZnMudGFicykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkdGFicyA9PT0gdm9pZCAwIHx8IF90aGlzJCRyZWZzJHRhYnMuc2VsZWN0KFRBQlNfVkFMVUVTLkFWQUlMQUJMRSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgY2FzZSAzNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgcGx1Z2luRGV2ZWxvcGVyOiBtYXBQcmVmKFBMVUdJTl9ERVZFTE9QRVIpCiAgfSwgbWFwR2V0dGVycyh7CiAgICB1aXBsdWdpbnM6ICd1aXBsdWdpbnMvcGx1Z2lucycKICB9KSksIG1hcEdldHRlcnMoewogICAgdWlFcnJvcnM6ICd1aXBsdWdpbnMvZXJyb3JzJwogIH0pKSwgbWFwR2V0dGVycyh7CiAgICB0aGVtZTogJ3ByZWZzL3RoZW1lJwogIH0pKSwge30sIHsKICAgIGNoYXJ0czogZnVuY3Rpb24gY2hhcnRzKCkgewogICAgICB2YXIgYyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NhdGFsb2cvcmF3Q2hhcnRzJ107CiAgICAgIGlmIChjKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYyk7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgc2hvd0FkZFJlcG9zQmFubmVyOiBmdW5jdGlvbiBzaG93QWRkUmVwb3NCYW5uZXIoKSB7CiAgICAgIHZhciBfdGhpcyRhZGRFeHRlbnNpb25SZXAsIF90aGlzJHJlcG9zLCBfdGhpcyRyZXBvczI7CiAgICAgIHZhciBoYXNFeHRlbnNpb25SZXBvc0Jhbm5lclNldHRpbmcgPSAoKF90aGlzJGFkZEV4dGVuc2lvblJlcCA9IHRoaXMuYWRkRXh0ZW5zaW9uUmVwb3NCYW5uZXJTZXR0aW5nKSA9PT0gbnVsbCB8fCBfdGhpcyRhZGRFeHRlbnNpb25SZXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFkZEV4dGVuc2lvblJlcC52YWx1ZSkgPT09ICd0cnVlJzsKICAgICAgdmFyIHVpUGx1Z2luc1JlcG9Ob3RGb3VuZCA9IGlzUmFuY2hlclByaW1lKCkgJiYgISgoX3RoaXMkcmVwb3MgPSB0aGlzLnJlcG9zKSAhPT0gbnVsbCAmJiBfdGhpcyRyZXBvcyAhPT0gdm9pZCAwICYmIF90aGlzJHJlcG9zLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gci51cmxEaXNwbGF5ID09PSBVSV9QTFVHSU5TX1JFUE9fVVJMOwogICAgICB9KSk7CiAgICAgIHZhciB1aVBsdWdpbnNQYXJ0bmVyc1JlcG9Ob3RGb3VuZCA9ICEoKF90aGlzJHJlcG9zMiA9IHRoaXMucmVwb3MpICE9PSBudWxsICYmIF90aGlzJHJlcG9zMiAhPT0gdm9pZCAwICYmIF90aGlzJHJlcG9zMi5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIudXJsRGlzcGxheSA9PT0gVUlfUExVR0lOU19QQVJUTkVSU19SRVBPX1VSTDsKICAgICAgfSkpOwogICAgICByZXR1cm4gaGFzRXh0ZW5zaW9uUmVwb3NCYW5uZXJTZXR0aW5nICYmICh1aVBsdWdpbnNSZXBvTm90Rm91bmQgfHwgdWlQbHVnaW5zUGFydG5lcnNSZXBvTm90Rm91bmQpOwogICAgfSwKICAgIGFwcGx5RGFya01vZGVCZzogZnVuY3Rpb24gYXBwbHlEYXJrTW9kZUJnKCkgewogICAgICBpZiAodGhpcy50aGVtZSA9PT0gJ2RhcmsnKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICdkYXJrLW1vZGUnOiB0cnVlCiAgICAgICAgfTsKICAgICAgfQogICAgICByZXR1cm4ge307CiAgICB9LAogICAgbWVudUFjdGlvbnM6IGZ1bmN0aW9uIG1lbnVBY3Rpb25zKCkgewogICAgICB2YXIgbWVudUFjdGlvbnMgPSBbXTsKCiAgICAgIC8vIEFkZCBsaW5rIHRvIGdvIHRvIHRoZSBSZXBvcyB2aWV3IG9mIHRoZSBsb2NhbCBjbHVzdGVyCiAgICAgIG1lbnVBY3Rpb25zLnB1c2goewogICAgICAgIGFjdGlvbjogJ21hbmFnZVJlcG9zJywKICAgICAgICBsYWJlbDogdGhpcy50KCdwbHVnaW5zLm1hbmFnZVJlcG9zJyksCiAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICB9KTsKCiAgICAgIC8vIEFkZCBsaW5rIHRvIGFkZCBleHRlbnNpb25zIHJlcG9zaXRvcmllcyAoT2ZmaWNpYWwsIFBhcnRuZXJzLCBldGMpCiAgICAgIG1lbnVBY3Rpb25zLnB1c2goewogICAgICAgIGFjdGlvbjogJ2FkZFJhbmNoZXJSZXBvcycsCiAgICAgICAgbGFiZWw6IHRoaXMudCgncGx1Z2lucy5hZGRSYW5jaGVyUmVwb3MnKSwKICAgICAgICBlbmFibGVkOiB0cnVlCiAgICAgIH0pOwoKICAgICAgLy8gT25seSBzaG93IE1hbmFnZSBFeHRlbnNpb24gQ2F0YWxvZ3Mgd2hlbiBvbiBtYWluIGNoYXJ0cyB2aWV3CiAgICAgIGlmICghdGhpcy5zaG93Q2F0YWxvZ0xpc3QpIHsKICAgICAgICBtZW51QWN0aW9ucy5wdXNoKHsKICAgICAgICAgIGFjdGlvbjogJ21hbmFnZUV4dGVuc2lvblZpZXcnLAogICAgICAgICAgbGFiZWw6IHRoaXMudCgncGx1Z2lucy5tYW5hZ2VDYXRhbG9nLmxhYmVsJyksCiAgICAgICAgICBlbmFibGVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIE9ubHkgc2hvdyBEZXZlbG9wZXIgTG9hZCBhY3Rpb24gaWYgdGhlIHVzZXIgaGFzIHRoaXMgZW5hYmxlZCBpbiBwcmVmZXJlbmNlcwogICAgICBpZiAodGhpcy5wbHVnaW5EZXZlbG9wZXIpIHsKICAgICAgICBtZW51QWN0aW9ucy5wdXNoKHsKICAgICAgICAgIGRpdmlkZXI6IHRydWUKICAgICAgICB9KTsKICAgICAgICBtZW51QWN0aW9ucy5wdXNoKHsKICAgICAgICAgIGFjdGlvbjogJ2RldkxvYWQnLAogICAgICAgICAgbGFiZWw6IHRoaXMudCgncGx1Z2lucy5kZXZlbG9wZXIubGFiZWwnKSwKICAgICAgICAgIGVuYWJsZWQ6IHRydWUKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gbWVudUFjdGlvbnM7CiAgICB9LAogICAgbGlzdDogZnVuY3Rpb24gbGlzdCgpIHsKICAgICAgdmFyIGFsbCA9IHRoaXMuYXZhaWxhYmxlOwogICAgICBzd2l0Y2ggKHRoaXMudmlldykgewogICAgICAgIGNhc2UgVEFCU19WQUxVRVMuSU5TVEFMTEVEOgogICAgICAgICAgcmV0dXJuIGFsbC5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgcmV0dXJuICEhcC5pbnN0YWxsZWQgfHwgISFwLmluc3RhbGxpbmc7CiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIFRBQlNfVkFMVUVTLlVQREFURVM6CiAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVzOwogICAgICAgIGNhc2UgVEFCU19WQUxVRVMuQVZBSUxBQkxFOgogICAgICAgICAgcmV0dXJuIGFsbC5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgcmV0dXJuICFwLmluc3RhbGxlZDsKICAgICAgICAgIH0pOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gYWxsOwogICAgICB9CiAgICB9LAogICAgaGFzTWVudUFjdGlvbnM6IGZ1bmN0aW9uIGhhc01lbnVBY3Rpb25zKCkgewogICAgICB2YXIgX3RoaXMkbWVudUFjdGlvbnM7CiAgICAgIHJldHVybiAoKF90aGlzJG1lbnVBY3Rpb25zID0gdGhpcy5tZW51QWN0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkbWVudUFjdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1lbnVBY3Rpb25zLmxlbmd0aCkgPiAwOwogICAgfSwKICAgIC8vIE1lc3NhZ2UgdG8gZGlzcGxheSB3aGVuIHRoZSB0YWIgdmlldyBpcyBlbXB0eSAoZGVwZW5kcyBvbiB0aGUgdGFiKQogICAgZW1wdHlNZXNzYWdlOiBmdW5jdGlvbiBlbXB0eU1lc3NhZ2UoKSB7CiAgICAgIC8vIGkxOG4tdXNlcyBwbHVnaW5zLmVtcHR5LioKICAgICAgcmV0dXJuIHRoaXMudCgicGx1Z2lucy5lbXB0eS4iLmNvbmNhdCh0aGlzLnZpZXcpKTsKICAgIH0sCiAgICB1cGRhdGVzOiBmdW5jdGlvbiB1cGRhdGVzKCkgewogICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuZmlsdGVyKGZ1bmN0aW9uIChwbHVnaW4pIHsKICAgICAgICByZXR1cm4gISFwbHVnaW4udXBncmFkZTsKICAgICAgfSk7CiAgICB9LAogICAgYXZhaWxhYmxlOiBmdW5jdGlvbiBhdmFpbGFibGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgYWxsID0gdGhpcy5jaGFydHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGlzVUlQbHVnaW4oYyk7CiAgICAgIH0pOwoKICAgICAgLy8gRmlsdGVyIG91dCBoaWRkZW4gY2hhcnRzCiAgICAgIGFsbCA9IGFsbC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gIXVpUGx1Z2luSGFzQW5ub3RhdGlvbihjLCBDQVRBTE9HX0FOTk9UQVRJT05TLkhJRERFTiwgJ3RydWUnKTsKICAgICAgfSk7CiAgICAgIGFsbCA9IGFsbC5tYXAoZnVuY3Rpb24gKGNoYXJ0KSB7CiAgICAgICAgdmFyIF9pdGVtJGluc3RhbGxhYmxlVmVycywgX2l0ZW0kaW5zdGFsbGFibGVWZXJzMjsKICAgICAgICAvLyBMYWJlbCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBjaGFydCBhbm5vdGF0aW9uCiAgICAgICAgdmFyIGxhYmVsID0gdWlQbHVnaW5Bbm5vdGF0aW9uKGNoYXJ0LCBVSV9QTFVHSU5fQ0hBUlRfQU5OT1RBVElPTlMuRElTUExBWV9OQU1FKSB8fCBjaGFydC5jaGFydE5hbWVEaXNwbGF5OwogICAgICAgIHZhciBpdGVtID0gewogICAgICAgICAgbmFtZTogY2hhcnQuY2hhcnROYW1lLAogICAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgICAgZGVzY3JpcHRpb246IGNoYXJ0LmNoYXJ0RGVzY3JpcHRpb24sCiAgICAgICAgICBpZDogY2hhcnQuaWQsCiAgICAgICAgICB2ZXJzaW9uczogW10sCiAgICAgICAgICBpbnN0YWxsZWQ6IGZhbHNlLAogICAgICAgICAgYnVpbHRpbjogZmFsc2UsCiAgICAgICAgICBleHBlcmltZW50YWw6IHVpUGx1Z2luSGFzQW5ub3RhdGlvbihjaGFydCwgQ0FUQUxPR19BTk5PVEFUSU9OUy5FWFBFUklNRU5UQUwsICd0cnVlJyksCiAgICAgICAgICBjZXJ0aWZpZWQ6IHVpUGx1Z2luSGFzQW5ub3RhdGlvbihjaGFydCwgQ0FUQUxPR19BTk5PVEFUSU9OUy5DRVJUSUZJRUQsIENBVEFMT0dfQU5OT1RBVElPTlMuX1JBTkNIRVIpCiAgICAgICAgfTsKICAgICAgICBpdGVtLnZlcnNpb25zID0gX3RvQ29uc3VtYWJsZUFycmF5KGNoYXJ0LnZlcnNpb25zKTsKICAgICAgICBpdGVtLmNoYXJ0ID0gY2hhcnQ7CgogICAgICAgIC8vIEZpbHRlciB0aGUgdmVyc2lvbnMgYXZhaWxhYmxlIHRvIGluc3RhbGwgKHBsdWdpbnMtYXBpIHZlcnNpb24gYW5kIGN1cnJlbnQgZGFzaGJvYXJkIHZlcnNpb24pCiAgICAgICAgaXRlbS5pbnN0YWxsYWJsZVZlcnNpb25zID0gaXRlbS52ZXJzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHZlcnNpb24pIHsKICAgICAgICAgIHJldHVybiBpc1N1cHBvcnRlZENoYXJ0VmVyc2lvbih7CiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sCiAgICAgICAgICAgIGt1YmVWZXJzaW9uOiBfdGhpczIua3ViZVZlcnNpb24KICAgICAgICAgIH0pICYmIGlzQ2hhcnRWZXJzaW9uQXZhaWxhYmxlRm9ySW5zdGFsbCh7CiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sCiAgICAgICAgICAgIHJhbmNoZXJWZXJzaW9uOiBfdGhpczIucmFuY2hlclZlcnNpb24sCiAgICAgICAgICAgIGt1YmVWZXJzaW9uOiBfdGhpczIua3ViZVZlcnNpb24KICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICAvLyBhZGQgcHJvcCB0byB2ZXJzaW9uIG9iamVjdCBpZiB2ZXJzaW9uIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCBkYXNoYm9hcmQgdmVyc2lvbgogICAgICAgIGl0ZW0udmVyc2lvbnMgPSBpdGVtLnZlcnNpb25zLm1hcChmdW5jdGlvbiAodmVyc2lvbikgewogICAgICAgICAgcmV0dXJuIGlzQ2hhcnRWZXJzaW9uQXZhaWxhYmxlRm9ySW5zdGFsbCh7CiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sCiAgICAgICAgICAgIHJhbmNoZXJWZXJzaW9uOiBfdGhpczIucmFuY2hlclZlcnNpb24sCiAgICAgICAgICAgIGt1YmVWZXJzaW9uOiBfdGhpczIua3ViZVZlcnNpb24KICAgICAgICAgIH0sIHRydWUpOwogICAgICAgIH0pOwogICAgICAgIHZhciBsYXRlc3RDb21wYXRpYmxlID0gKF9pdGVtJGluc3RhbGxhYmxlVmVycyA9IGl0ZW0uaW5zdGFsbGFibGVWZXJzaW9ucykgPT09IG51bGwgfHwgX2l0ZW0kaW5zdGFsbGFibGVWZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRpbnN0YWxsYWJsZVZlcnNbMF07CiAgICAgICAgdmFyIGxhdGVzdE5vdENvbXBhdGlibGUgPSBpdGVtLnZlcnNpb25zLmZpbmQoZnVuY3Rpb24gKHZlcnNpb24pIHsKICAgICAgICAgIHJldHVybiAhdmVyc2lvbi5pc0NvbXBhdGlibGVXaXRoVWkgfHwgIXZlcnNpb24uaXNDb21wYXRpYmxlV2l0aEt1YmVWZXJzaW9uOwogICAgICAgIH0pOwogICAgICAgIGlmIChsYXRlc3RDb21wYXRpYmxlKSB7CiAgICAgICAgICBpdGVtLmRpc3BsYXlWZXJzaW9uID0gbGF0ZXN0Q29tcGF0aWJsZS52ZXJzaW9uOwogICAgICAgICAgaXRlbS5pY29uID0gbGF0ZXN0Q29tcGF0aWJsZS5pY29uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2l0ZW0kdmVyc2lvbnMsIF9sYXRlc3RDb21wYXRpYmxlJGFubjsKICAgICAgICAgIGl0ZW0uZGlzcGxheVZlcnNpb24gPSAoX2l0ZW0kdmVyc2lvbnMgPSBpdGVtLnZlcnNpb25zKSA9PT0gbnVsbCB8fCBfaXRlbSR2ZXJzaW9ucyA9PT0gdm9pZCAwIHx8IChfaXRlbSR2ZXJzaW9ucyA9IF9pdGVtJHZlcnNpb25zWzBdKSA9PT0gbnVsbCB8fCBfaXRlbSR2ZXJzaW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kdmVyc2lvbnMudmVyc2lvbjsKICAgICAgICAgIGl0ZW0uaWNvbiA9IGNoYXJ0Lmljb24gfHwgKGxhdGVzdENvbXBhdGlibGUgPT09IG51bGwgfHwgbGF0ZXN0Q29tcGF0aWJsZSA9PT0gdm9pZCAwIHx8IChfbGF0ZXN0Q29tcGF0aWJsZSRhbm4gPSBsYXRlc3RDb21wYXRpYmxlLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfbGF0ZXN0Q29tcGF0aWJsZSRhbm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sYXRlc3RDb21wYXRpYmxlJGFublsnY2F0YWxvZy5jYXR0bGUuaW8vdWktaWNvbiddKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxhdGVzdE5vdENvbXBhdGlibGUgJiYgaXRlbS5pbnN0YWxsYWJsZVZlcnNpb25zLmxlbmd0aCAmJiBpc0NoYXJ0VmVyc2lvbkhpZ2hlcihsYXRlc3ROb3RDb21wYXRpYmxlLnZlcnNpb24sIChfaXRlbSRpbnN0YWxsYWJsZVZlcnMyID0gaXRlbS5pbnN0YWxsYWJsZVZlcnNpb25zKSA9PT0gbnVsbCB8fCBfaXRlbSRpbnN0YWxsYWJsZVZlcnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRpbnN0YWxsYWJsZVZlcnMyWzBdLnZlcnNpb24pKSB7CiAgICAgICAgICBpZiAoIWl0ZW0uaXNDb21wYXRpYmxlV2l0aFVpKSB7CiAgICAgICAgICAgIGl0ZW0uaW5jb21wYXRpYmxlUmFuY2hlclZlcnNpb24gPSBfdGhpczIudCgncGx1Z2lucy5pbmNvbXBhdGlibGVSYW5jaGVyVmVyc2lvbicsIHsKICAgICAgICAgICAgICB2ZXJzaW9uOiBsYXRlc3ROb3RDb21wYXRpYmxlLnZlcnNpb24sCiAgICAgICAgICAgICAgcmFuY2hlclZlcnNpb246IGxhdGVzdE5vdENvbXBhdGlibGUucmVxdWlyZWRVaVZlcnNpb24KICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgaWYgKCFpdGVtLmlzQ29tcGF0aWJsZVdpdGhLdWJlVmVyc2lvbikgewogICAgICAgICAgICBpdGVtLmluY29tcGF0aWJsZUt1YmVWZXJzaW9uID0gX3RoaXMyLnQoJ3BsdWdpbnMuaW5jb21wYXRpYmxlS3ViZVZlcnNpb24nLCB7CiAgICAgICAgICAgICAgdmVyc2lvbjogbGF0ZXN0Tm90Q29tcGF0aWJsZS52ZXJzaW9uLAogICAgICAgICAgICAgIGt1YmVWZXJzaW9uOiBsYXRlc3ROb3RDb21wYXRpYmxlLnJlcXVpcmVkS3ViZVZlcnNpb24KICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpczIuaW5zdGFsbGluZ1tpdGVtLm5hbWVdKSB7CiAgICAgICAgICBpdGVtLmluc3RhbGxpbmcgPSBfdGhpczIuaW5zdGFsbGluZ1tpdGVtLm5hbWVdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CgogICAgICAvLyBSZW1vdmUgY2hhcnRzIHdpdGggbm8gaW5zdGFsbGFibGUgdmVyc2lvbnMKICAgICAgYWxsID0gYWxsLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnZlcnNpb25zLmxlbmd0aCA+IDA7CiAgICAgIH0pOwoKICAgICAgLy8gQ2hlY2sgdGhhdCBhbGwgb2YgdGhlIGxvYWRlZCBwbHVnaW5zIGFyZSByZXByZXNlbnRlZAogICAgICB0aGlzLnVpcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgdmFyIGNoYXJ0ID0gYWxsLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLm5hbWUgPT09IHAubmFtZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoIWNoYXJ0KSB7CiAgICAgICAgICB2YXIgX3AkbWV0YWRhdGEsIF9yYW5jaGVyJGFubm90YXRpb25zLCBfcCRtZXRhZGF0YTIsIF9wJG1ldGFkYXRhMywgX3AkbWV0YWRhdGE0OwogICAgICAgICAgLy8gQSBwbHVnaW4gaXMgbG9hZGVkLCBidXQgdGhlcmUgaXMgbm8gY2hhcnQsIHNvIGFkZCBhbiBpdGVtIHNvIHRoYXQgaXQgc2hvd3MgdXAKICAgICAgICAgIHZhciByYW5jaGVyID0gX3R5cGVvZigoX3AkbWV0YWRhdGEgPSBwLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfcCRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AkbWV0YWRhdGEucmFuY2hlcikgPT09ICdvYmplY3QnID8gcC5tZXRhZGF0YS5yYW5jaGVyIDoge307CiAgICAgICAgICB2YXIgbGFiZWwgPSAoKF9yYW5jaGVyJGFubm90YXRpb25zID0gcmFuY2hlci5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3JhbmNoZXIkYW5ub3RhdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yYW5jaGVyJGFubm90YXRpb25zW1VJX1BMVUdJTl9DSEFSVF9BTk5PVEFUSU9OUy5ESVNQTEFZX05BTUVdKSB8fCBwLm5hbWU7CiAgICAgICAgICB2YXIgaXRlbSA9IHsKICAgICAgICAgICAgbmFtZTogcC5uYW1lLAogICAgICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAoX3AkbWV0YWRhdGEyID0gcC5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3AkbWV0YWRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcCRtZXRhZGF0YTIuZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGljb246IChfcCRtZXRhZGF0YTMgPSBwLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfcCRtZXRhZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wJG1ldGFkYXRhMy5pY29uLAogICAgICAgICAgICBpZDogcC5pZCwKICAgICAgICAgICAgdmVyc2lvbnM6IFtdLAogICAgICAgICAgICBkaXNwbGF5VmVyc2lvbjogKChfcCRtZXRhZGF0YTQgPSBwLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfcCRtZXRhZGF0YTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wJG1ldGFkYXRhNC52ZXJzaW9uKSB8fCAnLScsCiAgICAgICAgICAgIGluc3RhbGxlZDogdHJ1ZSwKICAgICAgICAgICAgYnVpbHRpbjogISFwLmJ1aWx0aW4KICAgICAgICAgIH07CgogICAgICAgICAgLy8gQnVpbHQtaW4gcGx1Z2lucyBjYW4gY2hvc2UgdG8gYmUgaGlkZGVuIC0gdXNlZCB3aGVyZSB3ZSBpbXBsZW1lbnQgYXMgZXh0ZW5zaW9ucwogICAgICAgICAgLy8gYnV0IGRvbid0IHdhbnQgdG8gc2hvd3MgdGhlbSBpbmRpdmlkdWFsbHkgb24gdGhlIGV4dGVuc2lvbnMgcGFnZQogICAgICAgICAgaWYgKCEoaXRlbS5idWlsdGluICYmIHJhbmNoZXJbVUlfUExVR0lOX0NIQVJUX0FOTk9UQVRJT05TLkhJRERFTl9CVUlMVElOXSkpIHsKICAgICAgICAgICAgYWxsLnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIEdvIHRocm91Z2ggdGhlIENScyBmb3IgdGhlIHBsdWdpbnMgYW5kIHdpcmUgdGhlbSBpbnRvIHRoZSBjYXRhbG9nCiAgICAgIHRoaXMucGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgdmFyIGNoYXJ0ID0gYWxsLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLm5hbWUgPT09IHAubmFtZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoY2hhcnQpIHsKICAgICAgICAgIHZhciBfY2hhcnQkaW5zdGFsbGFibGVWZXIsIF9jaGFydCRpbnN0YWxsYWJsZVZlcjI7CiAgICAgICAgICBjaGFydC5pbnN0YWxsZWQgPSB0cnVlOwogICAgICAgICAgY2hhcnQudWlwbHVnaW4gPSBwOwogICAgICAgICAgY2hhcnQuZGlzcGxheVZlcnNpb24gPSBwLnZlcnNpb247CgogICAgICAgICAgLy8gQ2FuJ3QgZG8gdGhpcyBoZXJlCiAgICAgICAgICBjaGFydC5pbnN0YWxsaW5nID0gX3RoaXMyLmluc3RhbGxpbmdbY2hhcnQubmFtZV07CgogICAgICAgICAgLy8gQ2hlY2sgZm9yIHVwZ3JhZGUKICAgICAgICAgIGlmICgoX2NoYXJ0JGluc3RhbGxhYmxlVmVyID0gY2hhcnQuaW5zdGFsbGFibGVWZXJzaW9ucykgIT09IG51bGwgJiYgX2NoYXJ0JGluc3RhbGxhYmxlVmVyICE9PSB2b2lkIDAgJiYgX2NoYXJ0JGluc3RhbGxhYmxlVmVyLmxlbmd0aCAmJiBwLnZlcnNpb24gIT09ICgoX2NoYXJ0JGluc3RhbGxhYmxlVmVyMiA9IGNoYXJ0Lmluc3RhbGxhYmxlVmVyc2lvbnMpID09PSBudWxsIHx8IF9jaGFydCRpbnN0YWxsYWJsZVZlcjIgPT09IHZvaWQgMCB8fCAoX2NoYXJ0JGluc3RhbGxhYmxlVmVyMiA9IF9jaGFydCRpbnN0YWxsYWJsZVZlcjJbMF0pID09PSBudWxsIHx8IF9jaGFydCRpbnN0YWxsYWJsZVZlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFydCRpbnN0YWxsYWJsZVZlcjIudmVyc2lvbikpIHsKICAgICAgICAgICAgY2hhcnQudXBncmFkZSA9IGNoYXJ0Lmluc3RhbGxhYmxlVmVyc2lvbnNbMF0udmVyc2lvbjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gTm8gY2hhcnQsIHNvIGFkZCBhIGNhcmQgZm9yIHRoZSBwbHVnaW4gYmFzZWQgb24gaXRzIEN1c3RvbSByZXNvdXJjZSBiZWluZyBwcmVzZW50CiAgICAgICAgICB2YXIgaXRlbSA9IHsKICAgICAgICAgICAgbmFtZTogcC5uYW1lLAogICAgICAgICAgICBsYWJlbDogcC5uYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogcC5kZXNjcmlwdGlvbiB8fCAnLScsCiAgICAgICAgICAgIGlkOiAiIi5jb25jYXQocC5uYW1lLCAiLSIpLmNvbmNhdChwLnZlcnNpb24pLAogICAgICAgICAgICB2ZXJzaW9uczogW10sCiAgICAgICAgICAgIGRpc3BsYXlWZXJzaW9uOiBwLnZlcnNpb24gfHwgJy0nLAogICAgICAgICAgICBpbnN0YWxsZWQ6IHRydWUsCiAgICAgICAgICAgIGluc3RhbGxpbmc6IGZhbHNlLAogICAgICAgICAgICBidWlsdGluOiBmYWxzZSwKICAgICAgICAgICAgdWlwbHVnaW46IHAKICAgICAgICAgIH07CiAgICAgICAgICBhbGwucHVzaChpdGVtKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gTWVyZ2UgaW4gdGhlIHBsdWdpbiBsb2FkIGVycm9ycwogICAgICBPYmplY3Qua2V5cyh0aGlzLnVpRXJyb3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGNoYXJ0ID0gYWxsLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLm5hbWUgPT09IGU7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGNoYXJ0KSB7CiAgICAgICAgICB2YXIgZXJyb3IgPSBfdGhpczIudWlFcnJvcnNbZV07CiAgICAgICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykgewogICAgICAgICAgICBjaGFydC5lcnJvciA9IF90aGlzMi50KF90aGlzMi51aUVycm9yc1tlXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGFydC5lcnJvciA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBNZXJnZSBpbiB0aGUgcGx1Z2luIGxvYWQgZXJyb3JzIGZyb20gaGVscCBvcHMKICAgICAgT2JqZWN0LmtleXModGhpcy5lcnJvcnMpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgY2hhcnQgPSBhbGwuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMubmFtZSA9PT0gZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoY2hhcnQpIHsKICAgICAgICAgIGNoYXJ0LmhlbG1FcnJvciA9ICEhX3RoaXMyLmVycm9yc1tlXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBhbGwuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7CiAgICAgICAgLy8gQ2xhbXAgdGhlIGxlbmd0aHMgb2YgdGhlIGRlc2NyaXB0aW9ucwogICAgICAgIGlmIChwbHVnaW4uZGVzY3JpcHRpb24gJiYgcGx1Z2luLmRlc2NyaXB0aW9uLmxlbmd0aCA+IE1BWF9ERVNDUklQVElPTl9MRU5HVEgpIHsKICAgICAgICAgIHBsdWdpbi5kZXNjcmlwdGlvbiA9ICIiLmNvbmNhdChwbHVnaW4uZGVzY3JpcHRpb24uc3Vic3RyKDAsIE1BWF9ERVNDUklQVElPTl9MRU5HVEgpLCAiIC4uLiIpOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgaWYga3ViZSB2ZXJzaW9uIGNvbXBhdGliaWxpdHkgaXMgbWV0IGZvciBpbnN0YWxsZWQgZXh0ZW5zaW9uCiAgICAgICAgaWYgKHBsdWdpbi51aXBsdWdpbikgewogICAgICAgICAgdmFyIF9wbHVnaW4kdWlwbHVnaW4kc3BlYzsKICAgICAgICAgIHZhciB2ZXJzaW9uSW5zdGFsbGVkID0gKF9wbHVnaW4kdWlwbHVnaW4kc3BlYyA9IHBsdWdpbi51aXBsdWdpbi5zcGVjKSA9PT0gbnVsbCB8fCBfcGx1Z2luJHVpcGx1Z2luJHNwZWMgPT09IHZvaWQgMCB8fCAoX3BsdWdpbiR1aXBsdWdpbiRzcGVjID0gX3BsdWdpbiR1aXBsdWdpbiRzcGVjLnBsdWdpbikgPT09IG51bGwgfHwgX3BsdWdpbiR1aXBsdWdpbiRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGx1Z2luJHVpcGx1Z2luJHNwZWMudmVyc2lvbjsKICAgICAgICAgIHZhciB2ZXJzaW9uSW5zdGFsbGVkRGF0YSA9IHBsdWdpbi52ZXJzaW9ucy5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgIHJldHVybiB2LnZlcnNpb24gPT09IHZlcnNpb25JbnN0YWxsZWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmICh2ZXJzaW9uSW5zdGFsbGVkRGF0YSkgewogICAgICAgICAgICB2YXIgX3ZlcnNpb25JbnN0YWxsZWREYXRhOwogICAgICAgICAgICB2YXIga3ViZVZlcnNpb25Ub0NoZWNrID0gKF92ZXJzaW9uSW5zdGFsbGVkRGF0YSA9IHZlcnNpb25JbnN0YWxsZWREYXRhLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdmVyc2lvbkluc3RhbGxlZERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92ZXJzaW9uSW5zdGFsbGVkRGF0YVtVSV9QTFVHSU5fQ0hBUlRfQU5OT1RBVElPTlMuS1VCRV9WRVJTSU9OXTsKICAgICAgICAgICAgaWYgKF90aGlzMi5rdWJlVmVyc2lvbiAmJiAhaXNTdXBwb3J0ZWRDaGFydFZlcnNpb24oewogICAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb25JbnN0YWxsZWREYXRhLAogICAgICAgICAgICAgIGt1YmVWZXJzaW9uOiBfdGhpczIua3ViZVZlcnNpb24KICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbGVkRXJyb3IgPSBfdGhpczIudCgncGx1Z2lucy5jdXJyZW50SW5zdGFsbGVkVmVyc2lvbkJsb2NrZWRCeUt1YmVWZXJzaW9uJywgewogICAgICAgICAgICAgICAga3ViZVZlcnNpb246IF90aGlzMi5rdWJlVmVyc2lvbiwKICAgICAgICAgICAgICAgIGt1YmVWZXJzaW9uVG9DaGVjazoga3ViZVZlcnNpb25Ub0NoZWNrCiAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gU29ydCBieSBuYW1lCiAgICAgIHJldHVybiBzb3J0QnkoYWxsLCAnbmFtZScsIGZhbHNlKTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgaGVsbU9wczogZnVuY3Rpb24gaGVsbU9wcyhuZXUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIC8vIEdldCBIZWxtIG9wZXJhdGlvbnMgZm9yIFVJIHBsdWdpbnMgYW5kIG9yZGVyIGJ5IGRhdGUKICAgICAgdmFyIHBsdWdpbk9wcyA9IG5ldS5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7CiAgICAgICAgcmV0dXJuIG9wLm5hbWVzcGFjZSA9PT0gVUlfUExVR0lOX05BTUVTUEFDRTsKICAgICAgfSk7CiAgICAgIHBsdWdpbk9wcyA9IHNvcnRCeShwbHVnaW5PcHMsICdtZXRhZGF0YS5jcmVhdGlvblRpbWVzdGFtcCcsIHRydWUpOwoKICAgICAgLy8gR28gdGhyb3VnaCB0aGUgaW5zdGFsbGVkIHBsdWdpbnMKICAgICAgKHRoaXMuYXZhaWxhYmxlIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHsKICAgICAgICB2YXIgb3AgPSBwbHVnaW5PcHMuZmluZChmdW5jdGlvbiAobykgewogICAgICAgICAgdmFyIF9vJHN0YXR1czsKICAgICAgICAgIHJldHVybiAoKF9vJHN0YXR1cyA9IG8uc3RhdHVzKSA9PT0gbnVsbCB8fCBfbyRzdGF0dXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vJHN0YXR1cy5yZWxlYXNlTmFtZSkgPT09IHBsdWdpbi5uYW1lOwogICAgICAgIH0pOwogICAgICAgIGlmIChvcCkgewogICAgICAgICAgdmFyIF9vcCRtZXRhZGF0YSRzdGF0ZSwgX29wJG1ldGFkYXRhJHN0YXRlMjsKICAgICAgICAgIHZhciBhY3RpdmUgPSAoX29wJG1ldGFkYXRhJHN0YXRlID0gb3AubWV0YWRhdGEuc3RhdGUpID09PSBudWxsIHx8IF9vcCRtZXRhZGF0YSRzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wJG1ldGFkYXRhJHN0YXRlLnRyYW5zaXRpb25pbmc7CiAgICAgICAgICB2YXIgZXJyb3IgPSAoX29wJG1ldGFkYXRhJHN0YXRlMiA9IG9wLm1ldGFkYXRhLnN0YXRlKSA9PT0gbnVsbCB8fCBfb3AkbWV0YWRhdGEkc3RhdGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3AkbWV0YWRhdGEkc3RhdGUyLmVycm9yOwogICAgICAgICAgVnVlLnNldChfdGhpczMuZXJyb3JzLCBwbHVnaW4ubmFtZSwgZXJyb3IpOwogICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICAvLyBDYW4gdXNlIHRoZSBzdGF0dXMgZGlyZWN0bHksIGFwYXJ0IGZyb20gdXBncmFkZSwgd2hpY2ggbWFwcyB0byBpbnN0YWxsCiAgICAgICAgICAgIHZhciBzdGF0dXMgPSBvcC5zdGF0dXMuYWN0aW9uID09PSAndXBncmFkZScgPyAnaW5zdGFsbCcgOiBvcC5zdGF0dXMuYWN0aW9uOwogICAgICAgICAgICBfdGhpczMudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgc3RhdHVzKTsKICAgICAgICAgIH0gZWxzZSBpZiAob3Auc3RhdHVzLmFjdGlvbiA9PT0gJ3VuaW5zdGFsbCcpIHsKICAgICAgICAgICAgLy8gVW5pbnN0YWxsIGhhcyBmaW5pc2hlZAogICAgICAgICAgICBfdGhpczMudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgZmFsc2UpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvcikgewogICAgICAgICAgICBfdGhpczMudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcGx1Z2luczogZnVuY3Rpb24gcGx1Z2lucyhuZXUsIG9sZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGluc3RhbGxlZCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VpcGx1Z2lucy9wbHVnaW5zJ107CiAgICAgIHZhciBzaG91bGRIYXZlTG9hZGVkID0gKGluc3RhbGxlZCB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuICFfdGhpczQudWlFcnJvcnNbcC5uYW1lXSAmJiAhcC5idWlsdGluOwogICAgICB9KTsKICAgICAgdmFyIGNoYW5nZXMgPSAwOwoKICAgICAgLy8gRGlkIHRoZSB1c2VyIHJlbW92ZSBhbiBleHRlbnNpb24KICAgICAgaWYgKChuZXUgPT09IG51bGwgfHwgbmV1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXUubGVuZ3RoKSA8IHNob3VsZEhhdmVMb2FkZWQubGVuZ3RoKSB7CiAgICAgICAgY2hhbmdlcysrOwogICAgICB9CiAgICAgIG5ldS5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHsKICAgICAgICB2YXIgZXhpc3RpbmcgPSBpbnN0YWxsZWQuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuICFwLnJlbW92ZWQgJiYgcC5uYW1lID09PSBwbHVnaW4ubmFtZSAmJiBwLnZlcnNpb24gPT09IHBsdWdpbi52ZXJzaW9uOwogICAgICAgIH0pOwogICAgICAgIGlmICghZXhpc3RpbmcgJiYgcGx1Z2luLmlzSW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIGlmICghX3RoaXM0LnVpRXJyb3JzW3BsdWdpbi5uYW1lXSkgewogICAgICAgICAgICBjaGFuZ2VzKys7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczQudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmIChjaGFuZ2VzID4gMCkgewogICAgICAgIFZ1ZS5zZXQodGhpcywgJ3JlbG9hZFJlcXVpcmVkJywgdHJ1ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIC8vIEZvcmdldCB0aGUgdHlwZXMgd2hlbiB3ZSBsZWF2ZSB0aGUgcGFnZQogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9mb3JnZXRUeXBlJywgVUlfUExVR0lOKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZvcmdldFR5cGUnLCBDQVRBTE9HLk9QRVJBVElPTik7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9mb3JnZXRUeXBlJywgQ0FUQUxPRy5BUFApOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZm9yZ2V0VHlwZScsIENBVEFMT0cuQ0xVU1RFUl9SRVBPKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hDaGFydHM6IGZ1bmN0aW9uIHJlZnJlc2hDaGFydHMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBmb3JjZUNoYXJ0c1VwZGF0ZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZvcmNlQ2hhcnRzVXBkYXRlID0gX2FyZ3VtZW50cy5sZW5ndGggPiAwICYmIF9hcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kc3RvcmUuZGlzcGF0Y2goJ2NhdGFsb2cvbG9hZCcsIHsKICAgICAgICAgICAgICAgIHJlc2V0OiB0cnVlLAogICAgICAgICAgICAgICAgZm9yY2U6IGZvcmNlQ2hhcnRzVXBkYXRlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUluc3RhbGxTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZUluc3RhbGxTdGF0dXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50cywKICAgICAgICBfdGhpczYgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZm9yY2VDaGFydHNVcGRhdGUsIGhhc0ZlYXR1cmVGbGFnOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9yY2VDaGFydHNVcGRhdGUgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAwICYmIF9hcmd1bWVudHMyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlswXSA6IGZhbHNlOwogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBoYXNGZWF0dXJlRmxhZyA9IF90aGlzNi4kc3RvcmUuZ2V0dGVyc1snZmVhdHVyZXMvZ2V0J10oJ3VpZXh0ZW5zaW9uJyk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2hlY2sgZm9yIGZlYXR1cmUgZmxhZycsIGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGhhc0ZlYXR1cmVGbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChoYXNGZWF0dXJlRmxhZyB8fCBmb3JjZUNoYXJ0c1VwZGF0ZSkgewogICAgICAgICAgICAgICAgX3RoaXM2LnJlZnJlc2hDaGFydHMoZm9yY2VDaGFydHNVcGRhdGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBWdWUuc2V0KF90aGlzNiwgJ2hhc0ZlYXR1cmVGbGFnJywgaGFzRmVhdHVyZUZsYWcpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBoYXNGZWF0dXJlRmxhZyk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZpbHRlckNoYW5nZWQ6IGZ1bmN0aW9uIGZpbHRlckNoYW5nZWQoZikgewogICAgICB0aGlzLnZpZXcgPSBmLnNlbGVjdGVkTmFtZTsKICAgIH0sCiAgICAvLyBEZXZlbG9wZXIgTG9hZCBpcyBpbiB0aGUgYWN0aW9uIG1lbnUKICAgIHNob3dEZXZlbG9wZXJMb2FkRGlhbG9nOiBmdW5jdGlvbiBzaG93RGV2ZWxvcGVyTG9hZERpYWxvZygpIHsKICAgICAgdGhpcy4kcmVmcy5kZXZlbG9wZXJJbnN0YWxsRGlhbG9nLnNob3dEaWFsb2coKTsKICAgIH0sCiAgICBzaG93QWRkRXh0ZW5zaW9uUmVwb3NEaWFsb2c6IGZ1bmN0aW9uIHNob3dBZGRFeHRlbnNpb25SZXBvc0RpYWxvZygpIHsKICAgICAgdGhpcy51cGRhdGVBZGRSZXBvc1NldHRpbmcoKTsKICAgICAgdGhpcy5yZWZyZXNoQ2hhcnRzKHRydWUpOwogICAgICB0aGlzLiRyZWZzLmFkZEV4dGVuc2lvblJlcG9zRGlhbG9nLnNob3dEaWFsb2coKTsKICAgIH0sCiAgICBzaG93Q2F0YWxvZ0xvYWREaWFsb2c6IGZ1bmN0aW9uIHNob3dDYXRhbG9nTG9hZERpYWxvZygpIHsKICAgICAgdGhpcy4kcmVmcy5jYXRhbG9nTG9hZERpYWxvZy5zaG93RGlhbG9nKCk7CiAgICB9LAogICAgc2hvd0NhdGFsb2dVbmluc3RhbGxEaWFsb2c6IGZ1bmN0aW9uIHNob3dDYXRhbG9nVW5pbnN0YWxsRGlhbG9nKGV2KSB7CiAgICAgIHRoaXMuJHJlZnMuY2F0YWxvZ1VuaW5zdGFsbERpYWxvZy5zaG93RGlhbG9nKGV2KTsKICAgIH0sCiAgICBzaG93SW5zdGFsbERpYWxvZzogZnVuY3Rpb24gc2hvd0luc3RhbGxEaWFsb2cocGx1Z2luLCBtb2RlLCBldikgewogICAgICB2YXIgX2V2JHRhcmdldDsKICAgICAgKF9ldiR0YXJnZXQgPSBldi50YXJnZXQpID09PSBudWxsIHx8IF9ldiR0YXJnZXQgPT09IHZvaWQgMCB8fCBfZXYkdGFyZ2V0LmJsdXIoKTsKICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHRoaXMuJHJlZnMuaW5zdGFsbERpYWxvZy5zaG93RGlhbG9nKHBsdWdpbiwgbW9kZSk7CiAgICB9LAogICAgc2hvd1VuaW5zdGFsbERpYWxvZzogZnVuY3Rpb24gc2hvd1VuaW5zdGFsbERpYWxvZyhwbHVnaW4sIGV2KSB7CiAgICAgIHZhciBfZXYkdGFyZ2V0MjsKICAgICAgKF9ldiR0YXJnZXQyID0gZXYudGFyZ2V0KSA9PT0gbnVsbCB8fCBfZXYkdGFyZ2V0MiA9PT0gdm9pZCAwIHx8IF9ldiR0YXJnZXQyLmJsdXIoKTsKICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHRoaXMuJHJlZnMudW5pbnN0YWxsRGlhbG9nLnNob3dEaWFsb2cocGx1Z2luKTsKICAgIH0sCiAgICBkaWRVbmluc3RhbGw6IGZ1bmN0aW9uIGRpZFVuaW5zdGFsbChwbHVnaW4pIHsKICAgICAgaWYgKHBsdWdpbikgewogICAgICAgIHRoaXMudXBkYXRlUGx1Z2luSW5zdGFsbFN0YXR1cyhwbHVnaW4ubmFtZSwgJ3VuaW5zdGFsbCcpOwogICAgICAgIGlmIChwbHVnaW4uY2F0YWxvZykgewogICAgICAgICAgdGhpcy5yZWZyZXNoQ2hhcnRzKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBDbGVhciB0aGUgbG9hZCBlcnJvciwgaWYgdGhlcmUgd2FzIG9uZQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1aXBsdWdpbnMvc2V0RXJyb3InLCB7CiAgICAgICAgICBuYW1lOiBwbHVnaW4ubmFtZSwKICAgICAgICAgIGVycm9yOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGlkSW5zdGFsbDogZnVuY3Rpb24gZGlkSW5zdGFsbChwbHVnaW4pIHsKICAgICAgaWYgKHBsdWdpbikgewogICAgICAgIHZhciBfdGhpcyQkcmVmcyR0YWJzMjsKICAgICAgICAvLyBDaGFuZ2UgdGhlIHZpZXcgdG8gaW5zdGFsbGVkIGlmIHdlIHN0YXJ0ZWQgaW5zdGFsbGluZyBhIHBsdWdpbgogICAgICAgIChfdGhpcyQkcmVmcyR0YWJzMiA9IHRoaXMuJHJlZnMudGFicykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkdGFiczIgPT09IHZvaWQgMCB8fCBfdGhpcyQkcmVmcyR0YWJzMi5zZWxlY3QoVEFCU19WQUxVRVMuSU5TVEFMTEVEKTsKCiAgICAgICAgLy8gQ2xlYXIgdGhlIGxvYWQgZXJyb3IsIGlmIHRoZXJlIHdhcyBvbmUgcHJldmlvdXNseQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1aXBsdWdpbnMvc2V0RXJyb3InLCB7CiAgICAgICAgICBuYW1lOiBwbHVnaW4ubmFtZSwKICAgICAgICAgIGVycm9yOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd1BsdWdpbkRldGFpbDogZnVuY3Rpb24gc2hvd1BsdWdpbkRldGFpbChwbHVnaW4pIHsKICAgICAgdGhpcy4kcmVmcy5pbmZvUGFuZWwuc2hvdyhwbHVnaW4pOwogICAgfSwKICAgIHVwZGF0ZVBsdWdpbkluc3RhbGxTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZVBsdWdpbkluc3RhbGxTdGF0dXMobmFtZSwgc3RhdHVzKSB7CiAgICAgIFZ1ZS5zZXQodGhpcy5pbnN0YWxsaW5nLCBuYW1lLCBzdGF0dXMpOwogICAgfSwKICAgIHNldE1lbnU6IGZ1bmN0aW9uIHNldE1lbnUoZXZlbnQpIHsKICAgICAgdGhpcy5tZW51T3BlbiA9ICEhZXZlbnQ7CiAgICAgIGlmIChldmVudCkgewogICAgICAgIHRoaXMubWVudVRhcmdldEVsZW1lbnQgPSB0aGlzLiRyZWZzLmFjdGlvbnM7CiAgICAgICAgdGhpcy5tZW51VGFyZ2V0RXZlbnQgPSBldmVudDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1lbnVUYXJnZXRFbGVtZW50ID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMubWVudVRhcmdldEV2ZW50ID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LAogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgfSwKICAgIG1hbmFnZVJlcG9zOiBmdW5jdGlvbiBtYW5hZ2VSZXBvcygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjbHVzdGVyOiAnbG9jYWwnLAogICAgICAgICAgcHJvZHVjdDogQVBQX1BST0RVQ1QsCiAgICAgICAgICByZXNvdXJjZTogQ0FUQUxPRy5DTFVTVEVSX1JFUE8KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG1hbmFnZUV4dGVuc2lvblZpZXc6IGZ1bmN0aW9uIG1hbmFnZUV4dGVuc2lvblZpZXcoKSB7CiAgICAgIHRoaXMuc2hvd0NhdGFsb2dMaXN0ID0gIXRoaXMuc2hvd0NhdGFsb2dMaXN0OwogICAgfSwKICAgIHVwZGF0ZUFkZFJlcG9zU2V0dGluZzogZnVuY3Rpb24gdXBkYXRlQWRkUmVwb3NTZXR0aW5nKCkgewogICAgICB2YXIgX3RoaXMkYWRkRXh0ZW5zaW9uUmVwMjsKICAgICAgaWYgKCgoX3RoaXMkYWRkRXh0ZW5zaW9uUmVwMiA9IHRoaXMuYWRkRXh0ZW5zaW9uUmVwb3NCYW5uZXJTZXR0aW5nKSA9PT0gbnVsbCB8fCBfdGhpcyRhZGRFeHRlbnNpb25SZXAyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhZGRFeHRlbnNpb25SZXAyLnZhbHVlKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgdGhpcy5hZGRFeHRlbnNpb25SZXBvc0Jhbm5lclNldHRpbmcudmFsdWUgPSAnZmFsc2UnOwogICAgICAgIHRoaXMuYWRkRXh0ZW5zaW9uUmVwb3NCYW5uZXJTZXR0aW5nLnNhdmUoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["Vue","mapGetters","mapPref","PLUGIN_DEVELOPER","sortBy","allHash","CATALOG","UI_PLUGIN","MANAGEMENT","SETTING","fetchOrCreateSetting","getVersionData","isRancherPrime","CATALOG_ANNOTATIONS","NAME","APP_PRODUCT","ActionMenu","Tabbed","Tab","IconMessage","LazyImage","BadgeState","UninstallDialog","InstallDialog","CatalogLoadDialog","CatalogUninstallDialog","DeveloperInstallDialog","PluginInfoPanel","SetupUIPlugins","AddExtensionRepos","CatalogList","Banner","isUIPlugin","uiPluginAnnotation","uiPluginHasAnnotation","isSupportedChartVersion","isChartVersionAvailableForInstall","isChartVersionHigher","UI_PLUGIN_NAMESPACE","UI_PLUGIN_CHART_ANNOTATIONS","UI_PLUGINS_REPO_URL","UI_PLUGINS_PARTNERS_REPO_URL","TabTitle","MAX_DESCRIPTION_LENGTH","TABS_VALUES","INSTALLED","UPDATES","AVAILABLE","ALL","components","data","_getVersionData","kubeVersion","view","installing","errors","plugins","helmOps","addExtensionReposBannerSetting","undefined","loading","menuTargetElement","menuTargetEvent","menuOpen","hasFeatureFlag","defaultIcon","require","reloadRequired","rancherVersion","Version","showCatalogList","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_res$localCluster","hash","isSetup","res","_this$$refs$tabs","wrap","_callee$","_context","prev","next","updateInstallStatus","sent","$store","getters","dispatch","type","reset","load","CLUSTER","id","localCluster","OPERATION","CLUSTER_REPO","force","repos","kubernetesVersionBase","ADD_EXTENSION_REPOS_BANNER_DISPLAY","t0","length","$refs","tabs","select","stop","computed","_objectSpread","pluginDeveloper","uiplugins","uiErrors","theme","charts","c","Object","values","showAddReposBanner","_this$addExtensionRep","_this$repos","_this$repos2","hasExtensionReposBannerSetting","value","uiPluginsRepoNotFound","find","r","urlDisplay","uiPluginsPartnersRepoNotFound","applyDarkModeBg","menuActions","push","action","label","t","enabled","divider","list","all","available","filter","p","installed","updates","hasMenuActions","_this$menuActions","emptyMessage","concat","plugin","upgrade","_this2","HIDDEN","map","chart","_item$installableVers","_item$installableVers2","DISPLAY_NAME","chartNameDisplay","item","name","chartName","description","chartDescription","versions","builtin","experimental","EXPERIMENTAL","certified","CERTIFIED","_RANCHER","_toConsumableArray","installableVersions","version","latestCompatible","latestNotCompatible","isCompatibleWithUi","isCompatibleWithKubeVersion","displayVersion","icon","_item$versions","_latestCompatible$ann","annotations","incompatibleRancherVersion","requiredUiVersion","incompatibleKubeVersion","requiredKubeVersion","forEach","_p$metadata","_rancher$annotations","_p$metadata2","_p$metadata3","_p$metadata4","rancher","_typeof","metadata","HIDDEN_BUILTIN","_chart$installableVer","_chart$installableVer2","uiplugin","keys","e","error","helmError","substr","_plugin$uiplugin$spec","versionInstalled","spec","versionInstalledData","v","_versionInstalledData","kubeVersionToCheck","KUBE_VERSION","installedError","watch","neu","_this3","pluginOps","op","namespace","o","_o$status","status","releaseName","_op$metadata$state","_op$metadata$state2","active","state","transitioning","set","updatePluginInstallStatus","old","_this4","shouldHaveLoaded","changes","existing","removed","isInitialized","beforeDestroy","APP","methods","refreshCharts","_arguments","arguments","_this5","_callee2","forceChartsUpdate","_callee2$","_context2","_arguments2","_this6","_callee3","_callee3$","_context3","console","warn","abrupt","filterChanged","f","selectedName","showDeveloperLoadDialog","developerInstallDialog","showDialog","showAddExtensionReposDialog","updateAddReposSetting","addExtensionReposDialog","showCatalogLoadDialog","catalogLoadDialog","showCatalogUninstallDialog","ev","catalogUninstallDialog","showInstallDialog","mode","_ev$target","target","blur","preventDefault","stopPropagation","installDialog","showUninstallDialog","_ev$target2","uninstallDialog","didUninstall","catalog","didInstall","_this$$refs$tabs2","showPluginDetail","infoPanel","show","setMenu","event","actions","reload","$router","go","manageRepos","params","cluster","product","resource","manageExtensionView","_this$addExtensionRep2","save"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/uiplugins/index.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\nimport { mapPref, PLUGIN_DEVELOPER } from '@shell/store/prefs';\nimport { sortBy } from '@shell/utils/sort';\nimport { allHash } from '@shell/utils/promise';\nimport { CATALOG, UI_PLUGIN, MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { fetchOrCreateSetting } from '@shell/utils/settings';\nimport { getVersionData, isRancherPrime } from '@shell/config/version';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { NAME as APP_PRODUCT } from '@shell/config/product/apps';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport LazyImage from '@shell/components/LazyImage';\nimport { BadgeState } from '@components/BadgeState';\nimport UninstallDialog from './UninstallDialog.vue';\nimport InstallDialog from './InstallDialog.vue';\nimport CatalogLoadDialog from './CatalogList/CatalogLoadDialog.vue';\nimport CatalogUninstallDialog from './CatalogList/CatalogUninstallDialog.vue';\nimport DeveloperInstallDialog from './DeveloperInstallDialog.vue';\nimport PluginInfoPanel from './PluginInfoPanel.vue';\nimport SetupUIPlugins from './SetupUIPlugins.vue';\nimport AddExtensionRepos from './AddExtensionRepos';\nimport CatalogList from './CatalogList/index.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport {\n  isUIPlugin,\n  uiPluginAnnotation,\n  uiPluginHasAnnotation,\n  isSupportedChartVersion,\n  isChartVersionAvailableForInstall,\n  isChartVersionHigher,\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHART_ANNOTATIONS,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_PARTNERS_REPO_URL\n} from '@shell/config/uiplugins';\nimport TabTitle from '@shell/components/TabTitle';\n\nconst MAX_DESCRIPTION_LENGTH = 200;\n\nconst TABS_VALUES = {\n  INSTALLED: 'installed',\n  UPDATES:   'updates',\n  AVAILABLE: 'available',\n  ALL:       'all'\n};\n\nexport default {\n  components: {\n    ActionMenu,\n    BadgeState,\n    DeveloperInstallDialog,\n    IconMessage,\n    CatalogList,\n    Banner,\n    CatalogLoadDialog,\n    CatalogUninstallDialog,\n    InstallDialog,\n    LazyImage,\n    PluginInfoPanel,\n    Tab,\n    Tabbed,\n    UninstallDialog,\n    SetupUIPlugins,\n    AddExtensionRepos,\n    TabTitle\n  },\n\n  data() {\n    return {\n      TABS_VALUES,\n      kubeVersion:                    null,\n      view:                           '',\n      installing:                     {},\n      errors:                         {},\n      plugins:                        [], // The installed plugins\n      helmOps:                        [], // Helm operations\n      addExtensionReposBannerSetting: undefined,\n      loading:                        true,\n      menuTargetElement:              null,\n      menuTargetEvent:                null,\n      menuOpen:                       false,\n      hasFeatureFlag:                 true,\n      defaultIcon:                    require('~shell/assets/images/generic-plugin.svg'),\n      reloadRequired:                 false,\n      rancherVersion:                 getVersionData()?.Version,\n      showCatalogList:                false\n    };\n  },\n\n  async fetch() {\n    const hash = {};\n\n    const isSetup = await this.updateInstallStatus(true);\n\n    if (isSetup) {\n      if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n        hash.plugins = this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n      }\n    }\n\n    hash.load = await this.$store.dispatch('catalog/load', { reset: true });\n\n    if (this.$store.getters['management/schemaFor'](MANAGEMENT.CLUSTER)) {\n      hash.localCluster = await this.$store.dispatch('management/find', { type: MANAGEMENT.CLUSTER, id: 'local' });\n    }\n\n    if (this.$store.getters['management/schemaFor'](CATALOG.OPERATION)) {\n      hash.helmOps = await this.$store.dispatch('management/findAll', { type: CATALOG.OPERATION });\n    }\n\n    if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n      hash.repos = await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO }, { force: true });\n    }\n\n    const res = await allHash(hash);\n\n    this.plugins = res.plugins || [];\n    this.repos = res.repos || [];\n    this.helmOps = res.helmOps || [];\n    this.kubeVersion = res.localCluster?.kubernetesVersionBase || [];\n\n    this.addExtensionReposBannerSetting = await fetchOrCreateSetting(this.$store, SETTING.ADD_EXTENSION_REPOS_BANNER_DISPLAY, 'true', true) || {};\n\n    // If there are no plugins installed, default to the catalog view\n    if (this.plugins.length === 0) {\n      this.$refs.tabs?.select(TABS_VALUES.AVAILABLE);\n    }\n\n    this.loading = false;\n  },\n\n  computed: {\n    pluginDeveloper: mapPref(PLUGIN_DEVELOPER),\n\n    ...mapGetters({ uiplugins: 'uiplugins/plugins' }),\n    ...mapGetters({ uiErrors: 'uiplugins/errors' }),\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    charts() {\n      const c = this.$store.getters['catalog/rawCharts'];\n\n      if ( c ) {\n        return Object.values(c);\n      }\n\n      return null;\n    },\n\n    showAddReposBanner() {\n      const hasExtensionReposBannerSetting = this.addExtensionReposBannerSetting?.value === 'true';\n      const uiPluginsRepoNotFound = isRancherPrime() && !this.repos?.find((r) => r.urlDisplay === UI_PLUGINS_REPO_URL);\n      const uiPluginsPartnersRepoNotFound = !this.repos?.find((r) => r.urlDisplay === UI_PLUGINS_PARTNERS_REPO_URL);\n\n      return hasExtensionReposBannerSetting && (uiPluginsRepoNotFound || uiPluginsPartnersRepoNotFound);\n    },\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n\n    menuActions() {\n      const menuActions = [];\n\n      // Add link to go to the Repos view of the local cluster\n      menuActions.push({\n        action:  'manageRepos',\n        label:   this.t('plugins.manageRepos'),\n        enabled: true\n      });\n\n      // Add link to add extensions repositories (Official, Partners, etc)\n      menuActions.push({\n        action:  'addRancherRepos',\n        label:   this.t('plugins.addRancherRepos'),\n        enabled: true\n      });\n\n      // Only show Manage Extension Catalogs when on main charts view\n      if (!this.showCatalogList) {\n        menuActions.push({\n          action:  'manageExtensionView',\n          label:   this.t('plugins.manageCatalog.label'),\n          enabled: true\n        });\n      }\n\n      // Only show Developer Load action if the user has this enabled in preferences\n      if (this.pluginDeveloper) {\n        menuActions.push( { divider: true });\n        menuActions.push({\n          action:  'devLoad',\n          label:   this.t('plugins.developer.label'),\n          enabled: true\n        });\n      }\n\n      return menuActions;\n    },\n\n    list() {\n      const all = this.available;\n\n      switch (this.view) {\n      case TABS_VALUES.INSTALLED:\n        return all.filter((p) => !!p.installed || !!p.installing);\n      case TABS_VALUES.UPDATES:\n        return this.updates;\n      case TABS_VALUES.AVAILABLE:\n        return all.filter((p) => !p.installed);\n      default:\n        return all;\n      }\n    },\n\n    hasMenuActions() {\n      return this.menuActions?.length > 0;\n    },\n\n    // Message to display when the tab view is empty (depends on the tab)\n    emptyMessage() {\n      // i18n-uses plugins.empty.*\n      return this.t(`plugins.empty.${ this.view }`);\n    },\n\n    updates() {\n      return this.available.filter((plugin) => !!plugin.upgrade);\n    },\n\n    available() {\n      let all = this.charts.filter((c) => isUIPlugin(c));\n\n      // Filter out hidden charts\n      all = all.filter((c) => !uiPluginHasAnnotation(c, CATALOG_ANNOTATIONS.HIDDEN, 'true'));\n\n      all = all.map((chart) => {\n        // Label can be overridden by chart annotation\n        const label = uiPluginAnnotation(chart, UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME) || chart.chartNameDisplay;\n        const item = {\n          name:         chart.chartName,\n          label,\n          description:  chart.chartDescription,\n          id:           chart.id,\n          versions:     [],\n          installed:    false,\n          builtin:      false,\n          experimental: uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.EXPERIMENTAL, 'true'),\n          certified:    uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.CERTIFIED, CATALOG_ANNOTATIONS._RANCHER)\n        };\n\n        item.versions = [...chart.versions];\n        item.chart = chart;\n\n        // Filter the versions available to install (plugins-api version and current dashboard version)\n        item.installableVersions = item.versions.filter((version) => isSupportedChartVersion({ version, kubeVersion: this.kubeVersion }) && isChartVersionAvailableForInstall({\n          version, rancherVersion: this.rancherVersion, kubeVersion: this.kubeVersion\n        }));\n\n        // add prop to version object if version is compatible with the current dashboard version\n        item.versions = item.versions.map((version) => isChartVersionAvailableForInstall({\n          version, rancherVersion: this.rancherVersion, kubeVersion: this.kubeVersion\n        }, true));\n\n        const latestCompatible = item.installableVersions?.[0];\n        const latestNotCompatible = item.versions.find((version) => !version.isCompatibleWithUi || !version.isCompatibleWithKubeVersion);\n\n        if (latestCompatible) {\n          item.displayVersion = latestCompatible.version;\n          item.icon = latestCompatible.icon;\n        } else {\n          item.displayVersion = item.versions?.[0]?.version;\n          item.icon = chart.icon || latestCompatible?.annotations?.['catalog.cattle.io/ui-icon'];\n        }\n\n        if (latestNotCompatible && item.installableVersions.length && isChartVersionHigher(latestNotCompatible.version, item.installableVersions?.[0].version)) {\n          if (!item.isCompatibleWithUi) {\n            item.incompatibleRancherVersion = this.t('plugins.incompatibleRancherVersion', { version: latestNotCompatible.version, rancherVersion: latestNotCompatible.requiredUiVersion }, true);\n          } else if (!item.isCompatibleWithKubeVersion) {\n            item.incompatibleKubeVersion = this.t('plugins.incompatibleKubeVersion', { version: latestNotCompatible.version, kubeVersion: latestNotCompatible.requiredKubeVersion }, true);\n          }\n        }\n\n        if (this.installing[item.name]) {\n          item.installing = this.installing[item.name];\n        }\n\n        return item;\n      });\n\n      // Remove charts with no installable versions\n      all = all.filter((c) => c.versions.length > 0);\n\n      // Check that all of the loaded plugins are represented\n      this.uiplugins.forEach((p) => {\n        const chart = all.find((c) => c.name === p.name);\n\n        if (!chart) {\n          // A plugin is loaded, but there is no chart, so add an item so that it shows up\n          const rancher = typeof p.metadata?.rancher === 'object' ? p.metadata.rancher : {};\n          const label = rancher.annotations?.[UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME] || p.name;\n          const item = {\n            name:           p.name,\n            label,\n            description:    p.metadata?.description,\n            icon:           p.metadata?.icon,\n            id:             p.id,\n            versions:       [],\n            displayVersion: p.metadata?.version || '-',\n            installed:      true,\n            builtin:        !!p.builtin,\n          };\n\n          // Built-in plugins can chose to be hidden - used where we implement as extensions\n          // but don't want to shows them individually on the extensions page\n          if (!(item.builtin && rancher[UI_PLUGIN_CHART_ANNOTATIONS.HIDDEN_BUILTIN])) {\n            all.push(item);\n          }\n        }\n      });\n\n      // Go through the CRs for the plugins and wire them into the catalog\n      this.plugins.forEach((p) => {\n        const chart = all.find((c) => c.name === p.name);\n\n        if (chart) {\n          chart.installed = true;\n          chart.uiplugin = p;\n          chart.displayVersion = p.version;\n\n          // Can't do this here\n          chart.installing = this.installing[chart.name];\n\n          // Check for upgrade\n          if (chart.installableVersions?.length && p.version !== chart.installableVersions?.[0]?.version) {\n            chart.upgrade = chart.installableVersions[0].version;\n          }\n        } else {\n          // No chart, so add a card for the plugin based on its Custom resource being present\n          const item = {\n            name:           p.name,\n            label:          p.name,\n            description:    p.description || '-',\n            id:             `${ p.name }-${ p.version }`,\n            versions:       [],\n            displayVersion: p.version || '-',\n            installed:      true,\n            installing:     false,\n            builtin:        false,\n            uiplugin:       p,\n          };\n\n          all.push(item);\n        }\n      });\n\n      // Merge in the plugin load errors\n      Object.keys(this.uiErrors).forEach((e) => {\n        const chart = all.find((c) => c.name === e);\n\n        if (chart) {\n          const error = this.uiErrors[e];\n\n          if (error && typeof error === 'string') {\n            chart.error = this.t(this.uiErrors[e]);\n          } else {\n            chart.error = false;\n          }\n        }\n      });\n\n      // Merge in the plugin load errors from help ops\n      Object.keys(this.errors).forEach((e) => {\n        const chart = all.find((c) => c.name === e);\n\n        if (chart) {\n          chart.helmError = !!this.errors[e];\n        }\n      });\n\n      all.forEach((plugin) => {\n        // Clamp the lengths of the descriptions\n        if (plugin.description && plugin.description.length > MAX_DESCRIPTION_LENGTH) {\n          plugin.description = `${ plugin.description.substr(0, MAX_DESCRIPTION_LENGTH) } ...`;\n        }\n\n        // check if kube version compatibility is met for installed extension\n        if (plugin.uiplugin) {\n          const versionInstalled = plugin.uiplugin.spec?.plugin?.version;\n          const versionInstalledData = plugin.versions.find((v) => v.version === versionInstalled);\n\n          if (versionInstalledData) {\n            const kubeVersionToCheck = versionInstalledData.annotations?.[UI_PLUGIN_CHART_ANNOTATIONS.KUBE_VERSION];\n\n            if (this.kubeVersion && !isSupportedChartVersion({ version: versionInstalledData, kubeVersion: this.kubeVersion })) {\n              plugin.installedError = this.t('plugins.currentInstalledVersionBlockedByKubeVersion', { kubeVersion: this.kubeVersion, kubeVersionToCheck }, true);\n            }\n          }\n        }\n      });\n\n      // Sort by name\n      return sortBy(all, 'name', false);\n    }\n  },\n\n  watch: {\n    helmOps(neu) {\n      // Get Helm operations for UI plugins and order by date\n      let pluginOps = neu.filter((op) => {\n        return op.namespace === UI_PLUGIN_NAMESPACE;\n      });\n\n      pluginOps = sortBy(pluginOps, 'metadata.creationTimestamp', true);\n\n      // Go through the installed plugins\n      (this.available || []).forEach((plugin) => {\n        const op = pluginOps.find((o) => o.status?.releaseName === plugin.name);\n\n        if (op) {\n          const active = op.metadata.state?.transitioning;\n          const error = op.metadata.state?.error;\n\n          Vue.set(this.errors, plugin.name, error);\n\n          if (active) {\n            // Can use the status directly, apart from upgrade, which maps to install\n            const status = op.status.action === 'upgrade' ? 'install' : op.status.action;\n\n            this.updatePluginInstallStatus(plugin.name, status);\n          } else if (op.status.action === 'uninstall') {\n            // Uninstall has finished\n            this.updatePluginInstallStatus(plugin.name, false);\n          } else if (error) {\n            this.updatePluginInstallStatus(plugin.name, false);\n          }\n        } else {\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n    },\n\n    plugins(neu, old) {\n      const installed = this.$store.getters['uiplugins/plugins'];\n      const shouldHaveLoaded = (installed || []).filter((p) => !this.uiErrors[p.name] && !p.builtin);\n      let changes = 0;\n\n      // Did the user remove an extension\n      if (neu?.length < shouldHaveLoaded.length) {\n        changes++;\n      }\n\n      neu.forEach((plugin) => {\n        const existing = installed.find((p) => !p.removed && p.name === plugin.name && p.version === plugin.version);\n\n        if (!existing && plugin.isInitialized) {\n          if (!this.uiErrors[plugin.name]) {\n            changes++;\n          }\n\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n\n      if (changes > 0) {\n        Vue.set(this, 'reloadRequired', true);\n      }\n    }\n  },\n\n  // Forget the types when we leave the page\n  beforeDestroy() {\n    this.$store.dispatch('management/forgetType', UI_PLUGIN);\n    this.$store.dispatch('management/forgetType', CATALOG.OPERATION);\n    this.$store.dispatch('management/forgetType', CATALOG.APP);\n    this.$store.dispatch('management/forgetType', CATALOG.CLUSTER_REPO);\n  },\n\n  methods: {\n    async refreshCharts(forceChartsUpdate = false) {\n      // we might need to force the request, so that we know at all times if what's the status of the offical and partners repos (installed or not)\n      // tied to the SetupUIPlugins, AddExtensionRepos checkboxes\n      await this.$store.dispatch('catalog/load', { reset: true, force: forceChartsUpdate });\n    },\n\n    async updateInstallStatus(forceChartsUpdate = false) {\n      let hasFeatureFlag;\n\n      try {\n        hasFeatureFlag = this.$store.getters['features/get']('uiextension');\n      } catch (e) {\n        console.warn('Failed to check for feature flag', e); // eslint-disable-line no-console\n        hasFeatureFlag = false;\n      }\n\n      if ( hasFeatureFlag || forceChartsUpdate ) {\n        this.refreshCharts(forceChartsUpdate);\n      }\n\n      Vue.set(this, 'hasFeatureFlag', hasFeatureFlag);\n\n      return hasFeatureFlag;\n    },\n\n    filterChanged(f) {\n      this.view = f.selectedName;\n    },\n\n    // Developer Load is in the action menu\n    showDeveloperLoadDialog() {\n      this.$refs.developerInstallDialog.showDialog();\n    },\n\n    showAddExtensionReposDialog() {\n      this.updateAddReposSetting();\n      this.refreshCharts(true);\n      this.$refs.addExtensionReposDialog.showDialog();\n    },\n\n    showCatalogLoadDialog() {\n      this.$refs.catalogLoadDialog.showDialog();\n    },\n\n    showCatalogUninstallDialog(ev) {\n      this.$refs.catalogUninstallDialog.showDialog(ev);\n    },\n\n    showInstallDialog(plugin, mode, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.installDialog.showDialog(plugin, mode);\n    },\n\n    showUninstallDialog(plugin, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.uninstallDialog.showDialog(plugin);\n    },\n\n    didUninstall(plugin) {\n      if (plugin) {\n        this.updatePluginInstallStatus(plugin.name, 'uninstall');\n\n        if (plugin.catalog) {\n          this.refreshCharts();\n        }\n\n        // Clear the load error, if there was one\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    didInstall(plugin) {\n      if (plugin) {\n        // Change the view to installed if we started installing a plugin\n        this.$refs.tabs?.select(TABS_VALUES.INSTALLED);\n\n        // Clear the load error, if there was one previously\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    showPluginDetail(plugin) {\n      this.$refs.infoPanel.show(plugin);\n    },\n\n    updatePluginInstallStatus(name, status) {\n      Vue.set(this.installing, name, status);\n    },\n\n    setMenu(event) {\n      this.menuOpen = !!event;\n\n      if (event) {\n        this.menuTargetElement = this.$refs.actions;\n        this.menuTargetEvent = event;\n      } else {\n        this.menuTargetElement = undefined;\n        this.menuTargetEvent = undefined;\n      }\n    },\n\n    reload() {\n      this.$router.go();\n    },\n\n    manageRepos() {\n      this.$router.push({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  'local',\n          product:  APP_PRODUCT,\n          resource: CATALOG.CLUSTER_REPO\n        }\n      });\n    },\n\n    manageExtensionView() {\n      this.showCatalogList = !this.showCatalogList;\n    },\n\n    updateAddReposSetting() {\n      if (this.addExtensionReposBannerSetting?.value === 'true') {\n        this.addExtensionReposBannerSetting.value = 'false';\n        this.addExtensionReposBannerSetting.save();\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"plugins\">\n    <div class=\"plugin-header\">\n      <template v-if=\"showCatalogList\">\n        <div class=\"catalog-title\">\n          <h2\n            class=\"mb-0 mr-10\"\n            data-testid=\"extensions-catalog-title\"\n          >\n            <a\n              class=\"link\"\n              @click=\"manageExtensionView()\"\n            >\n              {{ t('plugins.manageCatalog.title') }}:\n            </a>\n            <t k=\"plugins.manageCatalog.subtitle\" />\n          </h2>\n          <BadgeState\n            color=\"bg-warning\"\n            :label=\"t('generic.experimental')\"\n            class=\"badge\"\n          />\n        </div>\n      </template>\n      <template v-else>\n        <h2 data-testid=\"extensions-page-title\">\n          <TabTitle breadcrumb=\"vendor-only\">\n            {{ t('plugins.title') }}\n          </TabTitle>\n        </h2>\n      </template>\n      <div class=\"actions-container\">\n        <div\n          v-if=\"reloadRequired\"\n          class=\"plugin-reload-banner mr-20\"\n          data-testid=\"extension-reload-banner\"\n        >\n          <i class=\"icon icon-checkmark mr-10\" />\n          <span>\n            {{ t('plugins.reload') }}\n          </span>\n          <button\n            class=\"ml-10 btn btn-sm role-primary\"\n            data-testid=\"extension-reload-banner-reload-btn\"\n            @click=\"reload()\"\n          >\n            {{ t('generic.reload') }}\n          </button>\n        </div>\n        <div v-if=\"hasFeatureFlag && hasMenuActions\">\n          <button\n            ref=\"actions\"\n            aria-haspopup=\"true\"\n            type=\"button\"\n            class=\"btn role-multi-action actions\"\n            data-testid=\"extensions-page-menu\"\n            @click=\"setMenu\"\n          >\n            <i class=\"icon icon-actions\" />\n          </button>\n          <ActionMenu\n            :custom-actions=\"menuActions\"\n            :open=\"menuOpen\"\n            :use-custom-target-element=\"true\"\n            :custom-target-element=\"menuTargetElement\"\n            :custom-target-event=\"menuTargetEvent\"\n            @close=\"setMenu(false)\"\n            @devLoad=\"showDeveloperLoadDialog\"\n            @manageRepos=\"manageRepos\"\n            @addRancherRepos=\"showAddExtensionReposDialog\"\n            @manageExtensionView=\"manageExtensionView\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <PluginInfoPanel ref=\"infoPanel\" />\n\n    <div v-if=\"!hasFeatureFlag\">\n      <div\n        v-if=\"loading\"\n        class=\"data-loading\"\n      >\n        <i class=\"icon-spin icon icon-spinner\" />\n        <t\n          k=\"generic.loading\"\n          :raw=\"true\"\n        />\n      </div>\n      <SetupUIPlugins\n        v-else\n        class=\"setup-message\"\n        :has-feature-flag=\"hasFeatureFlag\"\n        @done=\"updateInstallStatus(true)\"\n        @refreshCharts=\"refreshCharts(true)\"\n      />\n    </div>\n    <div v-else>\n      <template v-if=\"showCatalogList\">\n        <CatalogList\n          @showCatalogLoadDialog=\"showCatalogLoadDialog\"\n          @showCatalogUninstallDialog=\"showCatalogUninstallDialog($event)\"\n        />\n      </template>\n      <template v-else>\n        <Banner\n          v-if=\"showAddReposBanner\"\n          color=\"warning\"\n          class=\"add-repos-banner mb-20\"\n          data-testid=\"extensions-new-repos-banner\"\n        >\n          <span>{{ t('plugins.addRepos.banner', {}, true) }}</span>\n          <button\n            class=\"ml-10 btn btn-sm role-primary\"\n            data-testid=\"extensions-new-repos-banner-action-btn\"\n            @click=\"showAddExtensionReposDialog()\"\n          >\n            {{ t('plugins.addRepos.bannerBtn') }}\n          </button>\n        </Banner>\n\n        <Tabbed\n          ref=\"tabs\"\n          :tabs-only=\"true\"\n          data-testid=\"extension-tabs\"\n          @changed=\"filterChanged\"\n        >\n          <Tab\n            :name=\"TABS_VALUES.INSTALLED\"\n            data-testid=\"extension-tab-installed\"\n            label-key=\"plugins.tabs.installed\"\n            :weight=\"20\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.AVAILABLE\"\n            data-testid=\"extension-tab-available\"\n            label-key=\"plugins.tabs.available\"\n            :weight=\"19\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.UPDATES\"\n            label-key=\"plugins.tabs.updates\"\n            :weight=\"18\"\n            :badge=\"updates.length\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.ALL\"\n            label-key=\"plugins.tabs.all\"\n            :weight=\"17\"\n          />\n        </Tabbed>\n        <template>\n          <div\n            v-if=\"loading\"\n            class=\"data-loading\"\n          >\n            <i class=\"icon-spin icon icon-spinner\" />\n            <t\n              k=\"generic.loading\"\n              :raw=\"true\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"plugin-list\"\n            :class=\"{'v-margin': !list.length}\"\n          >\n            <IconMessage\n              v-if=\"list.length === 0\"\n              :vertical=\"true\"\n              :subtle=\"true\"\n              icon=\"icon-extension\"\n              :message=\"emptyMessage\"\n            />\n            <template v-else>\n              <div\n                v-for=\"(plugin, i) in list\"\n                :key=\"plugin.name + i\"\n                class=\"plugin\"\n                :data-testid=\"`extension-card-${plugin.name}`\"\n                @click=\"showPluginDetail(plugin)\"\n              >\n                <!-- plugin icon -->\n                <div\n                  class=\"plugin-icon\"\n                  :class=\"applyDarkModeBg\"\n                >\n                  <LazyImage\n                    v-if=\"plugin.icon\"\n                    :initial-src=\"defaultIcon\"\n                    :error-src=\"defaultIcon\"\n                    :src=\"plugin.icon\"\n                    class=\"icon plugin-icon-img\"\n                  />\n                  <img\n                    v-else\n                    :src=\"defaultIcon\"\n                    class=\"icon plugin-icon-img\"\n                  >\n                </div>\n                <!-- plugin card -->\n                <div class=\"plugin-metadata\">\n                  <!-- plugin basic info -->\n                  <div class=\"plugin-name\">\n                    {{ plugin.label }}\n                  </div>\n                  <div>{{ plugin.description }}</div>\n                  <div class=\"plugin-version\">\n                    <span\n                      v-if=\"plugin.installing\"\n                      class=\"plugin-installing\"\n                    >\n                      -\n                    </span>\n                    <span v-else>\n                      <span>{{ plugin.displayVersion }}</span>\n                      <span\n                        v-if=\"plugin.upgrade\"\n                        v-clean-tooltip=\"t('plugins.upgradeAvailable')\"\n                      > -> {{ plugin.upgrade }}</span>\n                      <p\n                        v-if=\"plugin.installedError\"\n                        class=\"incompatible\"\n                      >\n                        <i class=\"icon icon-warning icon-lg text-warning\" />\n                        <span>{{ plugin.installedError }}</span>\n                      </p>\n                      <p\n                        v-else-if=\"plugin.incompatibleRancherVersion\"\n                        class=\"incompatible\"\n                      >{{ plugin.incompatibleRancherVersion }}</p>\n                      <p\n                        v-else-if=\"plugin.incompatibleKubeVersion\"\n                        class=\"incompatible\"\n                      >{{ plugin.incompatibleKubeVersion }}</p>\n                    </span>\n                  </div>\n                  <!-- plugin badges -->\n                  <div\n                    v-if=\"plugin.builtin\"\n                    class=\"plugin-badges\"\n                  >\n                    <div class=\"plugin-builtin\">\n                      {{ t('plugins.labels.builtin') }}\n                    </div>\n                  </div>\n                  <div\n                    v-else\n                    class=\"plugin-badges\"\n                  >\n                    <div\n                      v-if=\"!plugin.certified\"\n                      v-clean-tooltip=\"t('plugins.descriptions.third-party')\"\n                    >\n                      {{ t('plugins.labels.third-party') }}\n                    </div>\n                    <div\n                      v-if=\"plugin.experimental\"\n                      v-clean-tooltip=\"t('plugins.descriptions.experimental')\"\n                    >\n                      {{ t('plugins.labels.experimental') }}\n                    </div>\n                  </div>\n                  <div class=\"plugin-spacer\" />\n                  <!-- plugin badges -->\n                  <div class=\"plugin-actions\">\n                    <template v-if=\"plugin.error\">\n                      <div\n                        v-clean-tooltip=\"plugin.error\"\n                        class=\"plugin-error\"\n                      >\n                        <i class=\"icon icon-warning\" />\n                      </div>\n                    </template>\n                    <!-- plugin status -->\n                    <div\n                      v-if=\"plugin.helmError\"\n                      v-clean-tooltip=\"t('plugins.helmError')\"\n                      class=\"plugin-error\"\n                    >\n                      <i class=\"icon icon-warning\" />\n                    </div>\n\n                    <div class=\"plugin-spacer\" />\n\n                    <div\n                      v-if=\"plugin.installing\"\n                      class=\"plugin-installing\"\n                    >\n                      <i class=\"version-busy icon icon-spin icon-spinner\" />\n                      <div v-if=\"plugin.installing ==='install'\">\n                        {{ t('plugins.labels.installing') }}\n                      </div>\n                      <div v-else>\n                        {{ t('plugins.labels.uninstalling') }}\n                      </div>\n                    </div>\n                    <!-- plugin buttons -->\n                    <div\n                      v-else-if=\"plugin.installed\"\n                      class=\"plugin-buttons\"\n                    >\n                      <button\n                        v-if=\"!plugin.builtin\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-uninstall-btn-${plugin.name}`\"\n                        @click=\"showUninstallDialog(plugin, $event)\"\n                      >\n                        {{ t('plugins.uninstall.label') }}\n                      </button>\n                      <button\n                        v-if=\"plugin.upgrade\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-update-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'update', $event)\"\n                      >\n                        {{ t('plugins.update.label') }}\n                      </button>\n                      <button\n                        v-if=\"!plugin.upgrade && plugin.installableVersions && plugin.installableVersions.length > 1\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-rollback-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'rollback', $event)\"\n                      >\n                        {{ t('plugins.rollback.label') }}\n                      </button>\n                    </div>\n                    <div\n                      v-else-if=\"plugin.installableVersions && plugin.installableVersions.length\"\n                      class=\"plugin-buttons\"\n                    >\n                      <button\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-install-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'install', $event)\"\n                      >\n                        {{ t('plugins.install.label') }}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </template>\n      </template>\n    </div>\n\n    <InstallDialog\n      ref=\"installDialog\"\n      @closed=\"didInstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <UninstallDialog\n      ref=\"uninstallDialog\"\n      @closed=\"didUninstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <CatalogLoadDialog\n      ref=\"catalogLoadDialog\"\n      @closed=\"didInstall\"\n      @refresh=\"() => reloadRequired = true\"\n    />\n    <CatalogUninstallDialog\n      ref=\"catalogUninstallDialog\"\n      @closed=\"didUninstall\"\n      @refresh=\"() => reloadRequired = true\"\n    />\n    <DeveloperInstallDialog\n      ref=\"developerInstallDialog\"\n      @closed=\"didInstall\"\n    />\n    <AddExtensionRepos\n      ref=\"addExtensionReposDialog\"\n      @done=\"updateInstallStatus(true)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n  .setup-message {\n    margin-top: 100px;\n  }\n\n  .data-loading {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n\n    > I {\n      margin-right: 5px;\n    }\n  }\n\n  .plugin-reload-banner {\n    align-items: center;\n    background-color: var(--success-banner-bg);\n    display: flex;\n    padding: 0 10px;\n    border-radius: 5px;\n    min-height: 36px;\n\n    > i {\n      color: var(--success);\n      font-size: 14px;\n      font-weight: bold;\n    }\n\n    > button {\n      line-height: 30px;\n      min-height: 30px;\n    }\n  }\n\n  .plugin-complete {\n    font-size: 18px;\n  }\n\n  .plugin-list {\n    display: flex;\n    flex-wrap: wrap;\n\n    > .plugin:not(:last-child) {\n      margin-right: 20px;\n    }\n\n    &.v-margin {\n      margin-top: 40px;\n    }\n  }\n  .plugins {\n    display: inherit;\n  }\n\n  .plugin-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 10px;\n\n    .catalog-title {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    > h2 {\n      flex: 1;\n      margin-bottom: 0;\n    }\n\n    .link {\n      cursor: pointer;\n    }\n\n    .actions-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n    }\n\n    .btn.actions {\n      line-height: 36px;\n      min-height: 36px;\n      padding: 0 10px;\n    }\n  }\n\n  .plugin {\n    display: flex;\n    border: 1px solid var(--border);\n    padding: 10px;\n    width: calc(33% - 20px);\n    max-width: 540px;\n    margin-bottom: 20px;\n    cursor: pointer;\n\n    .plugin-icon {\n      font-size: 40px;\n      margin-right:10px;\n      color: #888;\n      width: 44px;\n      height: 44px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      &.dark-mode {\n        border-radius: calc(2 * var(--border-radius));\n        overflow: hidden;\n        background-color: white;\n      }\n\n      .plugin-icon-img {\n        height: 40px;\n        width: 40px;\n        -o-object-fit: contain;\n        object-fit: contain;\n        top: 2px;\n        left: 2px;\n      }\n    }\n\n    .plugin-spacer {\n      flex: 1;\n    }\n\n    .plugin-metadata {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n\n      .plugin-buttons {\n        > button:not(:first-child) {\n          margin-left: 5px;\n        }\n      }\n    }\n\n    .plugin-builtin {\n      color: var(--primary);\n      display: block;\n      padding: 2px 0;\n      text-transform: uppercase;\n    }\n\n    .plugin-name {\n      font-size: 16px;\n      font-weight: bold;\n      margin-bottom: 5px;\n      text-transform: capitalize;\n    }\n\n    .plugin-badges {\n      display: flex;\n\n      > div {\n        border: 1px solid var(--border);\n        border-radius: 4px;\n        padding: 2px 8px;\n        margin-right: 10px;\n        font-size: 12px;\n      }\n    }\n\n    .plugin-version {\n      align-items: center;\n      display: inline-flex;\n      font-size: 12px;\n      border-radius: 4px;\n      margin: 5px 0;\n\n      i.icon-spinner {\n        padding-right: 5px;\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n      }\n\n      .incompatible {\n        margin: 10px 0;\n        font-weight: bold;\n      }\n    }\n\n    .plugin-installing {\n      align-items: center;\n      display: flex;\n\n      > div {\n        font-size: 14px;\n        margin-left: 5px;\n      }\n    }\n\n    .plugin-actions {\n      align-items:center;\n      display: flex;\n\n      $error-icon-size: 22px;\n\n      .plugin-error {\n        display: inline;\n        cursor: help;\n\n        > i {\n          color: var(--error);\n          height: $error-icon-size;\n          font-size: $error-icon-size;\n          width: $error-icon-size;\n        }\n      }\n\n      .btn {\n        line-height: 20px;\n        min-height: 20px;\n        padding: 0 5px;\n      }\n    }\n  }\n  ::v-deep .checkbox-label {\n    font-weight: normal !important;\n  }\n\n  ::v-deep .add-repos-banner .banner__content {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  @media screen and (max-width: 1200px) {\n    .plugin-list {\n      .plugin {\n        width: calc(50% - 20px);\n      }\n    }\n  }\n\n  @media screen and (max-width: 960px) {\n    .plugin-list {\n      .plugin {\n        margin-right: 0 !important;\n        width: 100%;\n      }\n    }\n  }\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}