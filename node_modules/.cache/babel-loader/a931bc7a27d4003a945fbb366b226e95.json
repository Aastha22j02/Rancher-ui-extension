{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvaG9tZS91YnVudHUvc3VzZWNvbmYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCB7IE5BTUUsIENIQVJUX05BTUUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvbG9nZ2luZyc7CmltcG9ydCBJbnN0YWxsUmVkaXJlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2luc3RhbGwtcmVkaXJlY3QnOwppbXBvcnQgeyBMT0dHSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBDT05GSUdVUkVEX1BST1ZJREVSUywgQ0xVU1RFUl9PVVRQVVQsIE9VVFBVVCwgTkFNRVNQQUNFLCBOQU1FIGFzIE5BTUVfQ09MIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IENoYXJ0SGVhZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DaGFydEhlYWRpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWlkZGxld2FyZTogSW5zdGFsbFJlZGlyZWN0KE5BTUUsIENIQVJUX05BTUUpLAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0SGVhZGluZzogQ2hhcnRIZWFkaW5nLAogICAgU29ydGFibGVUYWJsZTogU29ydGFibGVUYWJsZQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBnZXRBbGxPckRlZmF1bHQsIGhhc2g7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBnZXRBbGxPckRlZmF1bHQgPSBmdW5jdGlvbiBnZXRBbGxPckRlZmF1bHQodHlwZSkgewogICAgICAgICAgICAgIHZhciBoYXNBY2Nlc3MgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1siY2x1c3Rlci9zY2hlbWFGb3IiXSh0eXBlKTsKICAgICAgICAgICAgICByZXR1cm4gaGFzQWNjZXNzID8gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgICAgfSkgOiBQcm9taXNlLnJlc29sdmUoW10pOwogICAgICAgICAgICB9OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIGNsdXN0ZXJGbG93czogZ2V0QWxsT3JEZWZhdWx0KExPR0dJTkcuQ0xVU1RFUl9GTE9XKSwKICAgICAgICAgICAgICBmbG93czogZ2V0QWxsT3JEZWZhdWx0KExPR0dJTkcuRkxPVyksCiAgICAgICAgICAgICAgY2x1c3Rlck91dHB1dHM6IGdldEFsbE9yRGVmYXVsdChMT0dHSU5HLkNMVVNURVJfT1VUUFVUKSwKICAgICAgICAgICAgICBvdXRwdXRzOiBnZXRBbGxPckRlZmF1bHQoTE9HR0lORy5PVVRQVVQpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBoYXNoID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuY2x1c3RlckZsb3dzID0gaGFzaC5jbHVzdGVyRmxvd3MgfHwgW107CiAgICAgICAgICAgIF90aGlzLmZsb3dzID0gaGFzaC5mbG93cyB8fCBbXTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsdXN0ZXJGbG93czogW10sCiAgICAgIGZsb3dzOiBbXSwKICAgICAgbmFtZXNwYWNlRmxvd1RhYmxlSGVhZGVyczogW05BTUVTUEFDRSwgTkFNRV9DT0wsIE9VVFBVVCwgQ0xVU1RFUl9PVVRQVVQsIENPTkZJR1VSRURfUFJPVklERVJTXSwKICAgICAgY2x1c3RlckZsb3dUYWJsZUhlYWRlcnM6IFtOQU1FX0NPTCwgQ0xVU1RFUl9PVVRQVVQsIENPTkZJR1VSRURfUFJPVklERVJTXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNDbHVzdGVyRmxvd0FjY2VzczogZnVuY3Rpb24gaGFzQ2x1c3RlckZsb3dBY2Nlc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJjbHVzdGVyL3NjaGVtYUZvciJdKExPR0dJTkcuQ0xVU1RFUl9GTE9XKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["NAME","CHART_NAME","InstallRedirect","LOGGING","SortableTable","allHash","CONFIGURED_PROVIDERS","CLUSTER_OUTPUT","OUTPUT","NAMESPACE","NAME_COL","ChartHeading","middleware","components","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","getAllOrDefault","hash","wrap","_callee$","_context","prev","next","type","hasAccess","$store","getters","dispatch","Promise","resolve","clusterFlows","CLUSTER_FLOW","flows","FLOW","clusterOutputs","outputs","sent","stop","data","namespaceFlowTableHeaders","clusterFlowTableHeaders","computed","hasClusterFlowAccess"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue"],"sourcesContent":["<script>\nimport { NAME, CHART_NAME } from '@shell/config/product/logging';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport { LOGGING } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { allHash } from '@shell/utils/promise';\nimport {\n  CONFIGURED_PROVIDERS, CLUSTER_OUTPUT, OUTPUT, NAMESPACE, NAME as NAME_COL\n} from '@shell/config/table-headers';\nimport ChartHeading from '@shell/components/ChartHeading';\n\nexport default {\n  middleware: InstallRedirect(NAME, CHART_NAME),\n  components: { ChartHeading, SortableTable },\n  async fetch() {\n    const getAllOrDefault = (type) => {\n      const hasAccess = this.$store.getters[`cluster/schemaFor`](type);\n\n      return hasAccess ? this.$store.dispatch('cluster/findAll', { type }) : Promise.resolve([]);\n    };\n\n    const hash = await allHash({\n      clusterFlows:   getAllOrDefault(LOGGING.CLUSTER_FLOW),\n      flows:          getAllOrDefault(LOGGING.FLOW),\n      clusterOutputs: getAllOrDefault(LOGGING.CLUSTER_OUTPUT),\n      outputs:        getAllOrDefault(LOGGING.OUTPUT),\n    });\n\n    this.clusterFlows = hash.clusterFlows || [];\n    this.flows = hash.flows || [];\n  },\n\n  data() {\n    return {\n      clusterFlows:              [],\n      flows:                     [],\n      namespaceFlowTableHeaders: [\n        NAMESPACE,\n        NAME_COL,\n        OUTPUT,\n        CLUSTER_OUTPUT,\n        CONFIGURED_PROVIDERS\n      ],\n      clusterFlowTableHeaders: [\n        NAME_COL, CLUSTER_OUTPUT, CONFIGURED_PROVIDERS\n      ]\n    };\n  },\n\n  computed: {\n    hasClusterFlowAccess() {\n      return this.$store.getters[`cluster/schemaFor`](LOGGING.CLUSTER_FLOW);\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"logging\">\n    <ChartHeading\n      :label=\"t('logging.overview.poweredBy')\"\n      url=\"https://github.com/banzaicloud/logging-operator\"\n    />\n    <div class=\"spacer\" />\n    <div v-if=\"hasClusterFlowAccess\">\n      <h2>{{ t('logging.overview.clusterLevel') }}</h2>\n      <SortableTable\n        class=\"sortable-table\"\n        :headers=\"clusterFlowTableHeaders\"\n        :rows=\"clusterFlows\"\n        :row-actions=\"false\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        key-field=\"id\"\n      />\n    </div>\n    <h2 :class=\"{ 'mt-20': hasClusterFlowAccess }\">\n      {{ t('logging.overview.namespaceLevel') }}\n    </h2>\n    <SortableTable\n      class=\"sortable-table\"\n      :headers=\"namespaceFlowTableHeaders\"\n      :rows=\"flows\"\n      :row-actions=\"false\"\n      :search=\"false\"\n      :table-actions=\"false\"\n      key-field=\"id\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;;AACA,SAAAA,IAAA,EAAAC,UAAA;AACA,OAAAC,eAAA;AACA,SAAAC,OAAA;AACA,OAAAC,aAAA;AACA,SAAAC,OAAA;AACA,SACAC,oBAAA,EAAAC,cAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAT,IAAA,IAAAU,QAAA,QACA;AACA,OAAAC,YAAA;AAEA;EACAC,UAAA,EAAAV,eAAA,CAAAF,IAAA,EAAAC,UAAA;EACAY,UAAA;IAAAF,YAAA,EAAAA,YAAA;IAAAP,aAAA,EAAAA;EAAA;EACAU,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,eAAA,EAAAC,IAAA;MAAA,OAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAN,eAAA,YAAAA,gBAAAO,IAAA;cACA,IAAAC,SAAA,GAAAb,KAAA,CAAAc,MAAA,CAAAC,OAAA,sBAAAH,IAAA;cAEA,OAAAC,SAAA,GAAAb,KAAA,CAAAc,MAAA,CAAAE,QAAA;gBAAAJ,IAAA,EAAAA;cAAA,KAAAK,OAAA,CAAAC,OAAA;YACA;YAAAT,QAAA,CAAAE,IAAA;YAAA,OAEArB,OAAA;cACA6B,YAAA,EAAAd,eAAA,CAAAjB,OAAA,CAAAgC,YAAA;cACAC,KAAA,EAAAhB,eAAA,CAAAjB,OAAA,CAAAkC,IAAA;cACAC,cAAA,EAAAlB,eAAA,CAAAjB,OAAA,CAAAI,cAAA;cACAgC,OAAA,EAAAnB,eAAA,CAAAjB,OAAA,CAAAK,MAAA;YACA;UAAA;YALAa,IAAA,GAAAG,QAAA,CAAAgB,IAAA;YAOAzB,KAAA,CAAAmB,YAAA,GAAAb,IAAA,CAAAa,YAAA;YACAnB,KAAA,CAAAqB,KAAA,GAAAf,IAAA,CAAAe,KAAA;UAAA;UAAA;YAAA,OAAAZ,QAAA,CAAAiB,IAAA;QAAA;MAAA,GAAAtB,OAAA;IAAA;EACA;EAEAuB,IAAA,WAAAA,KAAA;IACA;MACAR,YAAA;MACAE,KAAA;MACAO,yBAAA,GACAlC,SAAA,EACAC,QAAA,EACAF,MAAA,EACAD,cAAA,EACAD,oBAAA,CACA;MACAsC,uBAAA,GACAlC,QAAA,EAAAH,cAAA,EAAAD,oBAAA;IAEA;EACA;EAEAuC,QAAA;IACAC,oBAAA,WAAAA,qBAAA;MACA,YAAAjB,MAAA,CAAAC,OAAA,sBAAA3B,OAAA,CAAAgC,YAAA;IACA;EACA;AACA","ignoreList":[]}]}