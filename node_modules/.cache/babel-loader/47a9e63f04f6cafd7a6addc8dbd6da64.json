{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/time.js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/time.js","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGRheSBmcm9tICdkYXlqcyc7CnZhciBGQUNUT1JTID0gWzYwLCA2MCwgMjRdOwp2YXIgTEFCRUxTID0gWydzZWMnLCAnbWluJywgJ2hvdXInLCAnZGF5J107CgovLyBEaWZmIHR3byBkYXRlcyBhbmQgcmV0dXJuIGFuIG9iamVjdCB3aXRoIHZhbHVlcyBmb3IgcHJlc2VudGF0aW9uCi8vIElmICd0JyBpcyBhbHNvIHBhc3NlZCwgJ3N0cmluZycgcHJvcGVydHkgaXMgc2V0IG9uIHRoZSByZXR1cm4gb2JqZWN0IHdpdGggdGhlIGRpZmYgZm9ybWF0dGVkIGFzIGEgc3RyaW5nCi8vIGUuZy4gZm9ybWF0cyBhIGRhdGUgZGlmZmVyZW5jZSB0byByZXR1cm4gJzEgZGF5JywgJzIwIGhvdXJzJyBldGMKZXhwb3J0IGZ1bmN0aW9uIGRpZmZGcm9tKHZhbHVlLCBmcm9tLCB0KSB7CiAgdmFyIG5vdyA9IGRheSgpOwogIGZyb20gPSBmcm9tIHx8IG5vdzsKICB2YXIgZGlmZiA9IHZhbHVlLmRpZmYoZnJvbSwgJ3NlY29uZHMnKTsKICB2YXIgYWJzRGlmZiA9IE1hdGguYWJzKGRpZmYpOwogIHZhciBuZXh0ID0gMTsKICB2YXIgbGFiZWwgPSAnPyc7CiAgdmFyIGkgPSAwOwogIHdoaWxlIChhYnNEaWZmID49IEZBQ1RPUlNbaV0gJiYgaSA8IEZBQ1RPUlMubGVuZ3RoKSB7CiAgICBhYnNEaWZmIC89IEZBQ1RPUlNbaV07CiAgICBuZXh0ICo9IE1hdGguZmxvb3IoRkFDVE9SU1tpXSAvIDEwKTsKICAgIGkrKzsKICB9CiAgaWYgKGFic0RpZmYgPCA1KSB7CiAgICBsYWJlbCA9IE1hdGguZmxvb3IoYWJzRGlmZiAqIDEwKSAvIDEwOwogIH0gZWxzZSB7CiAgICBsYWJlbCA9IE1hdGguZmxvb3IoYWJzRGlmZik7CiAgfQogIHZhciByZXQgPSB7CiAgICBkaWZmOiBkaWZmLAogICAgYWJzRGlmZjogYWJzRGlmZiwKICAgIGxhYmVsOiBsYWJlbCwKICAgIHVuaXRzS2V5OiAidW5pdC4iLmNvbmNhdChMQUJFTFNbaV0pLAogICAgdW5pdHM6IExBQkVMU1tpXSwKICAgIG5leHQ6IG5leHQKICB9OwogIGlmICghIXQpIHsKICAgIHJldC5zdHJpbmcgPSAiIi5jb25jYXQocmV0LmxhYmVsLCAiICIpLmNvbmNhdCh0KHJldC51bml0c0tleSwgewogICAgICBjb3VudDogcmV0LmxhYmVsCiAgICB9KSk7CiAgfQogIHJldHVybiByZXQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNhZmVTZXRUaW1lb3V0KHRpbWVvdXQsIGNhbGxiYWNrLCB0aGF0KSB7CiAgaWYgKHRpbWVvdXQgPD0gMjE0NzQ4MzY0NykgewogICAgLy8gTWF4IHZhbHVlIHNldFRpbWVvdXQgY2FuIHRha2UgaXMgbWF4IDMyIGJpdCBpbnQgKGFib3V0IDI0LjkgZGF5cykKICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgY2FsbGJhY2suYXBwbHkodGhhdCk7CiAgICB9LCB0aW1lb3V0KTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFNlY29uZHNEaWZmKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkgewogIHJldHVybiBNYXRoLnJvdW5kKE1hdGguYWJzKERhdGUucGFyc2UoZW5kRGF0ZSkgLSBEYXRlLnBhcnNlKHN0YXJ0RGF0ZSkpIC8gMTAwMCk7Cn0KCi8qKgogKiByZXR1cm4geyBkaWZmOiBudW1iZXI7IGxhYmVsOiBzdHJpbmcgfQogKgogKiBkaWZmOiAgdXBkYXRlIGZyZXF1ZW5jeSBpbiBzZWNvbmRzCiAqIGxhYmVsOiBjb250ZW50IG9mIHRoZSBjZWxsJ3MgY29sdW1uCiAqLwpleHBvcnQgZnVuY3Rpb24gZWxhcHNlZFRpbWUoc2Vjb25kcykgewogIGlmICghc2Vjb25kcykgewogICAgcmV0dXJuIHt9OwogIH0KICBpZiAoc2Vjb25kcyA8IDEyMCkgewogICAgcmV0dXJuIHsKICAgICAgZGlmZjogMSwKICAgICAgbGFiZWw6ICIiLmNvbmNhdChzZWNvbmRzLCAicyIpCiAgICB9OwogIH0KICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTsKICBpZiAobWludXRlcyA8IDEwKSB7CiAgICByZXR1cm4gewogICAgICBkaWZmOiAxLAogICAgICBsYWJlbDogIiIuY29uY2F0KG1pbnV0ZXMsICJtIikuY29uY2F0KHNlY29uZHMgLSBtaW51dGVzICogNjAsICJzIikKICAgIH07CiAgfQogIHZhciBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApOwogIGlmIChob3VycyA8IDMpIHsKICAgIHJldHVybiB7CiAgICAgIGRpZmY6IDYwLAogICAgICBsYWJlbDogIiIuY29uY2F0KG1pbnV0ZXMsICJtIikKICAgIH07CiAgfQogIHZhciBkYXlzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gKDM2MDAgKiAyNCkpOwogIGlmIChkYXlzID4gMSkgewogICAgcmV0dXJuIHsKICAgICAgZGlmZjogNjAsCiAgICAgIGxhYmVsOiAiIi5jb25jYXQoZGF5cywgImQiKS5jb25jYXQoaG91cnMgLSBkYXlzICogMjQsICJoIikKICAgIH07CiAgfQogIGlmIChob3VycyA+IDcpIHsKICAgIHJldHVybiB7CiAgICAgIGRpZmY6IDYwLAogICAgICBsYWJlbDogIiIuY29uY2F0KGhvdXJzLCAiaCIpCiAgICB9OwogIH0KICByZXR1cm4gewogICAgZGlmZjogNjAsCiAgICBsYWJlbDogIiIuY29uY2F0KGhvdXJzLCAiaCIpLmNvbmNhdChtaW51dGVzIC0gaG91cnMgKiA2MCwgIm0iKQogIH07Cn0="},{"version":3,"names":["day","FACTORS","LABELS","diffFrom","value","from","t","now","diff","absDiff","Math","abs","next","label","i","length","floor","ret","unitsKey","concat","units","string","count","safeSetTimeout","timeout","callback","that","setTimeout","apply","getSecondsDiff","startDate","endDate","round","Date","parse","elapsedTime","seconds","minutes","hours","days"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/utils/time.js"],"sourcesContent":["import day from 'dayjs';\n\nconst FACTORS = [60, 60, 24];\nconst LABELS = ['sec', 'min', 'hour', 'day'];\n\n// Diff two dates and return an object with values for presentation\n// If 't' is also passed, 'string' property is set on the return object with the diff formatted as a string\n// e.g. formats a date difference to return '1 day', '20 hours' etc\nexport function diffFrom(value, from, t) {\n  const now = day();\n\n  from = from || now;\n  const diff = value.diff(from, 'seconds');\n\n  let absDiff = Math.abs(diff);\n\n  let next = 1;\n  let label = '?';\n\n  let i = 0;\n\n  while ( absDiff >= FACTORS[i] && i < FACTORS.length ) {\n    absDiff /= FACTORS[i];\n    next *= Math.floor(FACTORS[i] / 10);\n    i++;\n  }\n\n  if ( absDiff < 5 ) {\n    label = Math.floor(absDiff * 10) / 10;\n  } else {\n    label = Math.floor(absDiff);\n  }\n  const ret = {\n    diff,\n    absDiff,\n    label,\n    unitsKey: `unit.${ LABELS[i] }`,\n    units:    LABELS[i],\n    next,\n  };\n\n  if (!!t) {\n    ret.string = `${ ret.label } ${ t(ret.unitsKey, { count: ret.label }) }`;\n  }\n\n  return ret;\n}\n\nexport function safeSetTimeout(timeout, callback, that) {\n  if (timeout <= 2147483647) {\n    // Max value setTimeout can take is max 32 bit int (about 24.9 days)\n    return setTimeout(() => {\n      callback.apply(that);\n    }, timeout);\n  }\n}\n\nexport function getSecondsDiff(startDate, endDate) {\n  return Math.round(\n    Math.abs(Date.parse(endDate) - Date.parse(startDate)) / 1000\n  );\n}\n\n/**\n * return { diff: number; label: string }\n *\n * diff:  update frequency in seconds\n * label: content of the cell's column\n */\nexport function elapsedTime(seconds) {\n  if (!seconds) {\n    return {};\n  }\n\n  if (seconds < 120) {\n    return {\n      diff:  1,\n      label: `${ seconds }s`\n    };\n  }\n\n  const minutes = Math.floor(seconds / 60);\n\n  if (minutes < 10) {\n    return {\n      diff:  1,\n      label: `${ minutes }m${ seconds - (minutes * 60) }s`\n    };\n  }\n\n  const hours = Math.floor(seconds / 3600);\n\n  if (hours < 3) {\n    return {\n      diff:  60,\n      label: `${ minutes }m`,\n    };\n  }\n\n  const days = Math.floor(seconds / (3600 * 24));\n\n  if (days > 1) {\n    return {\n      diff:  60,\n      label: `${ days }d${ hours - (days * 24) }h`,\n    };\n  }\n\n  if (hours > 7) {\n    return {\n      diff:  60,\n      label: `${ hours }h`,\n    };\n  }\n\n  return {\n    diff:  60,\n    label: `${ hours }h${ minutes - (hours * 60) }m`,\n  };\n}\n"],"mappings":"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","ignoreList":[]}]}