{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js??ref--17-0!/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/babel.config.js","mtime":1725268750245},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvdWJ1bnR1L3N1c2Vjb24tMjAyNC1leHQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IG1vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IFN0b3JhZ2UgZnJvbSAnQHNoZWxsL2VkaXQvL3dvcmtsb2FkL3N0b3JhZ2UvaW5kZXgudnVlJzsKZGVzY3JpYmUoJ2NvbXBvbmVudDogU3RvcmFnZScsIGZ1bmN0aW9uICgpIHsKICBkZXNjcmliZS5lYWNoKFsnYXdzRWxhc3RpY0Jsb2NrU3RvcmUnLCAnYXp1cmVEaXNrJywgJ2F6dXJlRmlsZScsICdjb25maWdNYXAnLAogIC8vICdjcmVhdGVQVkMnLAogICdjc2knLCAnZW1wdHlEaXInLCAnZ2NlUGVyc2lzdGVudERpc2snLCAnZ2NlUGVyc2lzdGVudERpc2snLCAnaG9zdFBhdGgnLCAnc2VjcmV0JywgJ3ZzcGhlcmVWb2x1bWUnXSkoJ2dpdmVuIHZvbHVtZSB0eXBlICVwJywgZnVuY3Rpb24gKHZvbHVtZVR5cGUpIHsKICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgdm9sdW1lIG5hbWUgYXMgZmlyc3QgaW5wdXQgb2YgdGhlIGZvcm0gYXJyYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuYW1lID0gJ3doYXRldmVyJzsKICAgICAgdmFyIHdyYXBwZXIgPSBtb3VudChTdG9yYWdlLCB7CiAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICBzYXZlUHZjSG9va05hbWU6ICcnLAogICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgdm9sdW1lczogW19kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgIF90eXBlOiB2b2x1bWVUeXBlCiAgICAgICAgICAgIH0sIHZvbHVtZVR5cGUsIHt9KSwgIm5hbWUiLCBuYW1lKV0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1vY2tzOiB7CiAgICAgICAgICB0OiBmdW5jdGlvbiB0KHRleHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgICB9LAogICAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgICAnaTE4bi90JzogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4ga2V5OwogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICdpMThuL2V4aXN0cyc6IGplc3QuZm4oKQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGlucHV0ID0gd3JhcHBlci5maW5kKCdpbnB1dCcpLmVsZW1lbnQ7CiAgICAgIGV4cGVjdChpbnB1dC52YWx1ZSkudG9TdHJpY3RFcXVhbChuYW1lKTsKICAgIH0pOwogICAgaXQoJ3Nob3VsZCBlZGl0IHRoZSB2b2x1bWUgbmFtZScsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5hbWUgPSAnd2hhdGV2ZXInOwogICAgICB2YXIgbmV3TmFtZSA9ICduZXcgd2hhdGV2ZXInOwogICAgICB2YXIgd3JhcHBlciA9IG1vdW50KFN0b3JhZ2UsIHsKICAgICAgICBwcm9wc0RhdGE6IHsKICAgICAgICAgIHNhdmVQdmNIb29rTmFtZTogJycsCiAgICAgICAgICB2YWx1ZTogewogICAgICAgICAgICB2b2x1bWVzOiBbX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgICAgICAgICAgX3R5cGU6IHZvbHVtZVR5cGUKICAgICAgICAgICAgfSwgdm9sdW1lVHlwZSwge30pLCAibmFtZSIsIG5hbWUpXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbW9ja3M6IHsKICAgICAgICAgIHQ6IGZ1bmN0aW9uIHQodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgICAgIH0sCiAgICAgICAgICAkc3RvcmU6IHsKICAgICAgICAgICAgZ2V0dGVyczogewogICAgICAgICAgICAgICdpMThuL3QnOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBrZXk7CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgJ2kxOG4vZXhpc3RzJzogamVzdC5mbigpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB3cmFwcGVyLmZpbmQoJ2lucHV0Jykuc2V0VmFsdWUobmV3TmFtZSk7CiAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLnZhbHVlLnZvbHVtZXNbMF0ubmFtZSkudG9TdHJpY3RFcXVhbChuZXdOYW1lKTsKICAgIH0pOwogIH0pOwogIC8vIFRPRE86IGZpbmQgaG93IHRvIGludGVyYWN0IHdpdGggdGhlIHRvb2x0aXAgc2VsZWN0aW9uIG91dHNpZGUgb2YgdGhlIGNvbXBvbmVudAogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqZXN0L25vLWRpc2FibGVkLXRlc3RzCiAgaXQuc2tpcCgnc2hvdWxkIGFsbG93IHRvIGFkZCBhIG5ldyB2b2x1bWUnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciB3cmFwcGVyOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChTdG9yYWdlLCB7CiAgICAgICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgICAgIHNhdmVQdmNIb29rTmFtZTogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgICB0OiBmdW5jdGlvbiB0KHRleHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0OwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICdpMThuL3QnOiBqZXN0LmZuKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICByZXR1cm4gd3JhcHBlci5maW5kKCcjc2VsZWN0LXZvbHVtZScpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICByZXR1cm4gd3JhcHBlci50cmlnZ2VyKCdrZXlkb3duLmRvd24nKTsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgIHJldHVybiB3cmFwcGVyLnRyaWdnZXIoJ2tleWRvd24uZW50ZXInKTsKICAgICAgICBjYXNlIDc6CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS52YWx1ZS52b2x1bWVzWzBdKS50b1N0cmljdEVxdWFsKHsKICAgICAgICAgICAgX3R5cGU6ICdhd3NFbGFzdGljQmxvY2tTdG9yZScsCiAgICAgICAgICAgIGF3c0VsYXN0aWNCbG9ja1N0b3JlOiB7fSwKICAgICAgICAgICAgbmFtZTogJycKICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgODoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpKTsKfSk7"},{"version":3,"names":["mount","Storage","describe","each","volumeType","it","name","wrapper","propsData","savePvcHookName","value","volumes","_defineProperty","_type","mocks","t","text","$store","getters","jest","fn","mockImplementation","key","input","find","element","expect","toStrictEqual","newName","setValue","vm","skip","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","trigger","awsElasticBlockStore","stop"],"sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/workload/storage/__tests__/Storage.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport Storage from '@shell/edit//workload/storage/index.vue';\n\ndescribe('component: Storage', () => {\n  describe.each([\n    'awsElasticBlockStore',\n    'azureDisk',\n    'azureFile',\n    'configMap',\n    // 'createPVC',\n    'csi',\n    'emptyDir',\n    'gcePersistentDisk',\n    'gcePersistentDisk',\n    'hostPath',\n    'secret',\n    'vsphereVolume'\n  ])('given volume type %p', (volumeType) => {\n    it('should display the volume name as first input of the form array', () => {\n      const name = 'whatever';\n      const wrapper = mount(Storage, {\n        propsData: {\n          savePvcHookName: '',\n          value:           {\n            volumes: [{\n              _type:        volumeType,\n              [volumeType]: {},\n              name\n            }]\n          },\n        },\n        mocks: {\n          t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n          $store: {\n            getters: {\n              'i18n/t':      jest.fn().mockImplementation((key: string) => key),\n              'i18n/exists': jest.fn()\n            }\n          }\n        },\n      });\n\n      const input = wrapper.find('input').element as HTMLInputElement;\n\n      expect(input.value).toStrictEqual(name);\n    });\n\n    it('should edit the volume name', () => {\n      const name = 'whatever';\n      const newName = 'new whatever';\n      const wrapper = mount(Storage, {\n        propsData: {\n          savePvcHookName: '',\n          value:           {\n            volumes: [{\n              _type:        volumeType,\n              [volumeType]: {},\n              name\n            }]\n          },\n        },\n        mocks: {\n          t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n          $store: {\n            getters: {\n              'i18n/t':      jest.fn().mockImplementation((key: string) => key),\n              'i18n/exists': jest.fn()\n            }\n          }\n        },\n      });\n\n      wrapper.find('input').setValue(newName);\n\n      expect(wrapper.vm.value.volumes[0].name).toStrictEqual(newName);\n    });\n  });\n\n  // TODO: find how to interact with the tooltip selection outside of the component\n  // eslint-disable-next-line jest/no-disabled-tests\n  it.skip('should allow to add a new volume', async() => {\n    const wrapper = mount(Storage, {\n      propsData: { savePvcHookName: '' },\n      mocks:     {\n        t:      (text: string) => text, // Mock i18n global function used as alternative to the getter\n        $store: { getters: { 'i18n/t': jest.fn() } }\n      },\n    });\n\n    await wrapper.find('#select-volume').trigger('click');\n    await wrapper.trigger('keydown.down');\n    await wrapper.trigger('keydown.enter');\n\n    expect(wrapper.vm.value.volumes[0]).toStrictEqual({\n      _type:                'awsElasticBlockStore',\n      awsElasticBlockStore: {},\n      name:                 ''\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}]}