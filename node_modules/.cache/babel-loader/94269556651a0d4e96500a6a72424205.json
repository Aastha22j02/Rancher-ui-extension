{"remainingRequest":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js??ref--16-1!/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/babel.config.js","mtime":1725343995893},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3VidW50dS9zdXNlY29uZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUGVyc2lzdGVudFZvbHVtZUNsYWltIGZyb20gJ0BzaGVsbC9lZGl0L3dvcmtsb2FkL3N0b3JhZ2UvcGVyc2lzdGVudFZvbHVtZUNsYWltL3BlcnNpc3RlbnR2b2x1bWVjbGFpbSc7CmltcG9ydCB7IFBWQyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0LAogICAgUGVyc2lzdGVudFZvbHVtZUNsYWltOiBQZXJzaXN0ZW50Vm9sdW1lQ2xhaW0sCiAgICBDaGVja2JveDogQ2hlY2tib3gKICB9LAogIHByb3BzOiB7CiAgICBwb2RTcGVjOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9LAogICAgbmFtZXNwYWNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgLy8gYXJyYXkgb2YgZXhpc3RpbmcgcGVyc2lzdGVudCB2b2x1bWUgY2xhaW1zCiAgICBwdmNzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlckJlZm9yZUhvb2s6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBzYXZlUHZjSG9va05hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbmFtZXNwYWNlLCBkYXRhLCBwdmM7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIV90aGlzLnZhbHVlLl9fbmV3UHZjKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIG5hbWVzcGFjZSA9IF90aGlzLm5hbWVzcGFjZSB8fCBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snZGVmYXVsdE5hbWVzcGFjZSddOwogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgIHR5cGU6IFBWQwogICAgICAgICAgICB9OwogICAgICAgICAgICBkYXRhLm1ldGFkYXRhID0gewogICAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2NyZWF0ZScsIGRhdGEpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBwdmMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBwdmMuYXBwbHlEZWZhdWx0cygpOwogICAgICAgICAgICBfdGhpcy4kc2V0KF90aGlzLnZhbHVlLCAnX19uZXdQdmMnLCBwdmMpOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgLy8gd2hldGhlciB0aGlzIGlzIGNyZWF0aW5nIGEgbmV3IFBWQyBvciByZWZlcmVuY2luZyBhbiBleGlzdGluZyBvbmUKICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24gY3JlYXRlTmV3KCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5fdHlwZSA9PT0gJ2NyZWF0ZVBWQyc7CiAgICB9CiAgfSwgbWFwR2V0dGVycyh7CiAgICB0OiAnaTE4bi90JwogIH0pKSwKICB3YXRjaDogewogICAgbmFtZXNwYWNlOiBmdW5jdGlvbiBuYW1lc3BhY2UobmV1KSB7CiAgICAgIHRoaXMudmFsdWUuX19uZXdQdmMubWV0YWRhdGEubmFtZXNwYWNlID0gbmV1OwogICAgfSwKICAgICd2YWx1ZS5fX25ld1B2Yy5tZXRhZGF0YS5uYW1lJzogZnVuY3Rpb24gdmFsdWVfX25ld1B2Y01ldGFkYXRhTmFtZShuZXUpIHsKICAgICAgdGhpcy52YWx1ZS5wZXJzaXN0ZW50Vm9sdW1lQ2xhaW0uY2xhaW1OYW1lID0gbmV1OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlUHZjRm9ybTogZnVuY3Rpb24gcmVtb3ZlUHZjRm9ybShob29rTmFtZSkgewogICAgICB0aGlzLiRlbWl0KCdyZW1vdmVQdmNGb3JtJywgaG9va05hbWUpOwogICAgfQogIH0KfTs="},{"version":3,"names":["LabeledInput","LabeledSelect","Checkbox","mapGetters","PersistentVolumeClaim","PVC","components","props","podSpec","type","Object","default","mode","String","namespace","value","pvcs","Array","registerBeforeHook","Function","savePvcHookName","required","loading","Boolean","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","pvc","wrap","_callee$","_context","prev","next","__newPvc","abrupt","$store","getters","metadata","dispatch","sent","applyDefaults","$set","stop","computed","_objectSpread","createNew","_type","t","watch","neu","value__newPvcMetadataName","persistentVolumeClaim","claimName","methods","removePvcForm","hookName","$emit"],"sources":["node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { mapGetters } from 'vuex';\nimport PersistentVolumeClaim from '@shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim';\nimport { PVC } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledInput,\n    LabeledSelect,\n    PersistentVolumeClaim,\n    Checkbox\n  },\n\n  props: {\n    podSpec: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    // array of existing persistent volume claims\n    pvcs: {\n      type:    Array,\n      default: () => []\n    },\n\n    registerBeforeHook: {\n      type:    Function,\n      default: null,\n    },\n\n    savePvcHookName: {\n      type:     String,\n      required: true\n    },\n    loading: {\n      default: false,\n      type:    Boolean\n    },\n  },\n\n  async fetch() {\n    // Create the new PVC form state if it doesn't exist\n    if (this.value.__newPvc) {\n      return;\n    }\n    const namespace = this.namespace || this.$store.getters['defaultNamespace'];\n\n    const data = { type: PVC };\n\n    data.metadata = { namespace };\n\n    const pvc = await this.$store.dispatch('cluster/create', data);\n\n    pvc.applyDefaults();\n    this.$set(this.value, '__newPvc', pvc);\n  },\n\n  computed: {\n    // whether this is creating a new PVC or referencing an existing one\n    createNew() {\n      return this.value._type === 'createPVC';\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  watch: {\n    namespace(neu) {\n      this.value.__newPvc.metadata.namespace = neu;\n    },\n\n    'value.__newPvc.metadata.name'(neu) {\n      this.value.persistentVolumeClaim.claimName = neu;\n    }\n  },\n\n  methods: {\n    removePvcForm(hookName) {\n      this.$emit('removePvcForm', hookName);\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"value.__newPvc\">\n    <div>\n      <div\n        v-if=\"createNew\"\n        class=\"bordered-section\"\n      >\n        <PersistentVolumeClaim\n          v-if=\"value.__newPvc\"\n          v-model=\"value.__newPvc\"\n          :mode=\"mode\"\n          :register-before-hook=\"registerBeforeHook\"\n          :save-pvc-hook-name=\"savePvcHookName\"\n          @removePvcForm=\"removePvcForm\"\n        />\n      </div>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.name\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.volumeName')\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-if=\"!createNew\"\n            v-model=\"value.persistentVolumeClaim.claimName\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.subtypes.persistentVolumeClaim')\"\n            :options=\"pvcs\"\n            :loading=\"loading\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <Checkbox\n          v-model=\"value.persistentVolumeClaim.readOnly\"\n          :mode=\"mode\"\n          :label=\"t('workload.storage.readOnly')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;;;;AACA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,SAAAC,UAAA;AACA,OAAAC,qBAAA;AACA,SAAAC,GAAA;AAEA;EACAC,UAAA;IACAN,YAAA,EAAAA,YAAA;IACAC,aAAA,EAAAA,aAAA;IACAG,qBAAA,EAAAA,qBAAA;IACAF,QAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAA,SAAA;QACA;MACA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;IAEAG,SAAA;MACAL,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;IAEAI,KAAA;MACAN,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAA,SAAA;QACA;MACA;IACA;IAEA;IACAK,IAAA;MACAP,IAAA,EAAAQ,KAAA;MACAN,OAAA,WAAAA,SAAA;QAAA;MAAA;IACA;IAEAO,kBAAA;MACAT,IAAA,EAAAU,QAAA;MACAR,OAAA;IACA;IAEAS,eAAA;MACAX,IAAA,EAAAI,MAAA;MACAQ,QAAA;IACA;IACAC,OAAA;MACAX,OAAA;MACAF,IAAA,EAAAc;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAf,SAAA,EAAAgB,IAAA,EAAAC,GAAA;MAAA,OAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KAEAX,KAAA,CAAAV,KAAA,CAAAsB,QAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,OAAAF,QAAA,CAAAI,MAAA;UAAA;YAGAxB,SAAA,GAAAW,KAAA,CAAAX,SAAA,IAAAW,KAAA,CAAAc,MAAA,CAAAC,OAAA;YAEAV,IAAA;cAAArB,IAAA,EAAAJ;YAAA;YAEAyB,IAAA,CAAAW,QAAA;cAAA3B,SAAA,EAAAA;YAAA;YAAAoB,QAAA,CAAAE,IAAA;YAAA,OAEAX,KAAA,CAAAc,MAAA,CAAAG,QAAA,mBAAAZ,IAAA;UAAA;YAAAC,GAAA,GAAAG,QAAA,CAAAS,IAAA;YAEAZ,GAAA,CAAAa,aAAA;YACAnB,KAAA,CAAAoB,IAAA,CAAApB,KAAA,CAAAV,KAAA,cAAAgB,GAAA;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAjB,OAAA;IAAA;EACA;EAEAkB,QAAA,EAAAC,aAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAlC,KAAA,CAAAmC,KAAA;IACA;EAAA,GAEA/C,UAAA;IAAAgD,CAAA;EAAA,GACA;EAEAC,KAAA;IACAtC,SAAA,WAAAA,UAAAuC,GAAA;MACA,KAAAtC,KAAA,CAAAsB,QAAA,CAAAI,QAAA,CAAA3B,SAAA,GAAAuC,GAAA;IACA;IAEA,yCAAAC,0BAAAD,GAAA;MACA,KAAAtC,KAAA,CAAAwC,qBAAA,CAAAC,SAAA,GAAAH,GAAA;IACA;EACA;EAEAI,OAAA;IACAC,aAAA,WAAAA,cAAAC,QAAA;MACA,KAAAC,KAAA,kBAAAD,QAAA;IACA;EACA;AACA","ignoreList":[]}]}