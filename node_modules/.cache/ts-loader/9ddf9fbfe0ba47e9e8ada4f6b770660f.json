{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE1nbXROb2RlIGZyb20gJ0BzaGVsbC9tb2RlbHMvbWFuYWdlbWVudC5jYXR0bGUuaW8ubm9kZSc7CmRlc2NyaWJlKCdjbGFzcyBNZ210Tm9kZScsICgpID0+IHsKICAgIGNvbnN0IGZvbyA9ICdmb28nOwogICAgY29uc3QgYmFyID0gJ2Jhcic7CiAgICBjb25zdCB0ID0gamVzdC5mbigoKSA9PiBiYXIpOwogICAgY29uc3QgY3R4ID0geyByb290R2V0dGVyczogeyAnaTE4bi90JzogdCB9IH07CiAgICBjb25zdCByZXNldE1vY2tzID0gKCkgPT4gewogICAgICAgIC8vIENsZWFyIGFsbCBtb2NrIGZ1bmN0aW9uIGNhbGxzOgogICAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpOwogICAgfTsKICAgIGl0KCdzaG91bGQgbm90IHJldHVybiBhZGRyZXNzZXMgaWYgdGhleSBhcmUgbm90IHByZXNlbnQgaW4gdGhlIHJlc291cmNlIHN0YXR1cywgdGhlIGludGVybmFsTm9kZVN0YXR1cywgb3IgdGhlIHJrZU5vZGUga2V5IGluIHN0YXR1cycsICgpID0+IHsKICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czoge30gfSk7CiAgICAgICAgZXhwZWN0KG1nbXROb2RlLmFkZHJlc3NlcykudG9TdHJpY3RFcXVhbChbXSk7CiAgICAgICAgcmVzZXRNb2NrcygpOwogICAgfSk7CiAgICBkZXNjcmliZSgnc2hvdWxkIHJldHVybiBhZGRyZXNzZXMnLCAoKSA9PiB7CiAgICAgICAgY29uc3QgYWRkcmVzc2VzID0gW2Zvb107CiAgICAgICAgaXQoJ2lmIHRoZXkgYXJlIHByZXNlbnQgZGlyZWN0bHkgb24gdGhlIHJlc291cmNlIHN0YXR1cycsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoeyBzdGF0dXM6IHsgYWRkcmVzc2VzIH0gfSk7CiAgICAgICAgICAgIGV4cGVjdChtZ210Tm9kZS5hZGRyZXNzZXMpLnRvU3RyaWN0RXF1YWwoYWRkcmVzc2VzKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgdGhleSBhcmUgbm90IHByZXNlbnQgZGlyZWN0bHkgb24gdGhlIHJlc291cmNlIHN0YXR1cyBidXQgYXJlIG9uICJzdGF0dXMuaW50ZXJuYWxOb2RlU3RhdHVzIicsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoeyBzdGF0dXM6IHsgaW50ZXJuYWxOb2RlU3RhdHVzOiB7IGFkZHJlc3NlcyB9IH0gfSk7CiAgICAgICAgICAgIGV4cGVjdChtZ210Tm9kZS5hZGRyZXNzZXMpLnRvU3RyaWN0RXF1YWwoYWRkcmVzc2VzKTsKICAgICAgICB9KTsKICAgIH0pOwogICAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gaW50ZXJuYWxJcCcsICgpID0+IHsKICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBbeyB0eXBlOiAnSW50ZXJuYWxJUCcsIGFkZHJlc3M6IGZvbyB9XTsKICAgICAgICBjb25zdCBpbnRlcm5hbEFkZHJlc3MgPSBmb287CiAgICAgICAgaXQoJ2lmIGFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czogeyBhZGRyZXNzZXMgfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmludGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgaW50ZXJuYWxOb2RlU3RhdHVzLmFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czogeyBpbnRlcm5hbE5vZGVTdGF0dXM6IHsgYWRkcmVzc2VzIH0gfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmludGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgYWRkcmVzc2VzIGFuZCBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGRvIG5vdCBwcm92aWRlIGFuIGludGVybmFsIGlwIGFuZCB0aGUgc3RhdHVzIGluY2x1ZGVzIGFuIHJrZU5vZGUga2V5IHdpdGggYW4gYXBwcm9wcmlhdGUgdHlwZSBhbmQgYWRkcmVzcycsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoeyBzdGF0dXM6IHsgcmtlTm9kZTogeyBpbnRlcm5hbEFkZHJlc3MgfSB9IH0pOwogICAgICAgICAgICBleHBlY3QobWdtdE5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChpbnRlcm5hbEFkZHJlc3MpOwogICAgICAgIH0pOwogICAgfSk7CiAgICBkZXNjcmliZSgnc2hvdWxkIHJldHVybiBhbiBleHRlcm5hbElwJywgKCkgPT4gewogICAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IFt7IHR5cGU6ICdFeHRlcm5hbElQJywgYWRkcmVzczogZm9vIH1dOwogICAgICAgIGNvbnN0IGFkZHJlc3MgPSBmb287CiAgICAgICAgaXQoJ2lmIGFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czogeyBhZGRyZXNzZXMgfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmV4dGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgaW50ZXJuYWxOb2RlU3RhdHVzLmFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czogeyBpbnRlcm5hbE5vZGVTdGF0dXM6IHsgYWRkcmVzc2VzIH0gfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmV4dGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgYWRkcmVzc2VzIGFuZCBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGRvIG5vdCBwcm92aWRlIGFuIGV4dGVybmFsIGlwIGFuZCB0aGUgc3RhdHVzIGluY2x1ZGVzIGFuIHJrZU5vZGUga2V5IHdpdGggYW4gYXBwcm9wcmlhdGUgdHlwZSBhbmQgYWRkcmVzcycsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoeyBzdGF0dXM6IHsgcmtlTm9kZTogeyBhZGRyZXNzIH0gfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmV4dGVybmFsSXApLnRvU3RyaWN0RXF1YWwoYWRkcmVzcyk7CiAgICAgICAgfSk7CiAgICB9KTsKICAgIGRlc2NyaWJlKCdzaG91bGQgcmV0dXJuIGFuIGFwcHJvcHJpYXRlIG1lc3NhZ2UnLCAoKSA9PiB7CiAgICAgICAgaXQoJ2lmIHRoZXJlIGlzIG5vIGludGVybmFsSXAgdG8gZGlzcGxheScsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbWdtdE5vZGUgPSBuZXcgTWdtdE5vZGUoeyBzdGF0dXM6IHt9IH0sIGN0eCk7CiAgICAgICAgICAgIGV4cGVjdChtZ210Tm9kZS5pbnRlcm5hbElwKS50b1N0cmljdEVxdWFsKGJhcik7CiAgICAgICAgICAgIGV4cGVjdCh0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7CiAgICAgICAgICAgIGV4cGVjdCh0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZ2VuZXJpYy5ub25lJyk7CiAgICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnaWYgdGhlcmUgaXMgbm8gZXh0ZXJuYWxJcCB0byBkaXNwbGF5JywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBtZ210Tm9kZSA9IG5ldyBNZ210Tm9kZSh7IHN0YXR1czoge30gfSwgY3R4KTsKICAgICAgICAgICAgZXhwZWN0KG1nbXROb2RlLmV4dGVybmFsSXApLnRvU3RyaWN0RXF1YWwoYmFyKTsKICAgICAgICAgICAgZXhwZWN0KHQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsKICAgICAgICAgICAgZXhwZWN0KHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdnZW5lcmljLm5vbmUnKTsKICAgICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgIH0pOwogICAgfSk7CiAgICBkZXNjcmliZSgnY2FuU2NhbGVEb3duJywgKCkgPT4gewogICAgICAgIGNvbnN0IG1nbXRDbHVzdGVySWQgPSAndGVzdCc7CiAgICAgICAgY29uc3Qgbm9kZUlkID0gJ3Rlc3QvaWQnOwogICAgICAgIGNvbnN0IHNwZWNzID0gewogICAgICAgICAgICB3b3JrZXI6IHsKICAgICAgICAgICAgICAgIHdvcmtlcjogdHJ1ZSwgZXRjZDogZmFsc2UsIGNvbnRyb2xQbGFuZTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXRjZDogewogICAgICAgICAgICAgICAgd29ya2VyOiBmYWxzZSwgZXRjZDogdHJ1ZSwgY29udHJvbFBsYW5lOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBjb250cm9sUGxhbmU6IHsKICAgICAgICAgICAgICAgIHdvcmtlcjogZmFsc2UsIGV0Y2Q6IGZhbHNlLCBjb250cm9sUGxhbmU6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXRjZEFuZENvbnRyb2xQbGFuZTogewogICAgICAgICAgICAgICAgd29ya2VyOiBmYWxzZSwgZXRjZDogdHJ1ZSwgY29udHJvbFBsYW5lOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsbDogewogICAgICAgICAgICAgICAgd29ya2VyOiB0cnVlLCBldGNkOiB0cnVlLCBjb250cm9sUGxhbmU6IHRydWUKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29uc3Qgd29ya2VyTm9kZSA9IHsKICAgICAgICAgICAgaWQ6ICcwMScsCiAgICAgICAgICAgIGlzV29ya2VyOiB0cnVlLAogICAgICAgICAgICBpc0NvbnRyb2xQbGFuZTogZmFsc2UsCiAgICAgICAgICAgIGlzRXRjZDogZmFsc2UKICAgICAgICB9OwogICAgICAgIGNvbnN0IGV0Y2ROb2RlID0gewogICAgICAgICAgICBpZDogJzAyJywKICAgICAgICAgICAgaXNXb3JrZXI6IGZhbHNlLAogICAgICAgICAgICBpc0NvbnRyb2xQbGFuZTogZmFsc2UsCiAgICAgICAgICAgIGlzRXRjZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgY29uc3QgY29udHJvbFBsYW5lTm9kZSA9IHsKICAgICAgICAgICAgaWQ6ICcwMycsCiAgICAgICAgICAgIGlzV29ya2VyOiBmYWxzZSwKICAgICAgICAgICAgaXNDb250cm9sUGxhbmU6IHRydWUsCiAgICAgICAgICAgIGlzRXRjZDogZmFsc2UKICAgICAgICB9OwogICAgICAgIGNvbnN0IGV0Y2RBbmRDb250cm9sUGxhbmVOb2RlID0gewogICAgICAgICAgICBpZDogJzAzJywKICAgICAgICAgICAgaXNXb3JrZXI6IGZhbHNlLAogICAgICAgICAgICBpc0NvbnRyb2xQbGFuZTogdHJ1ZSwKICAgICAgICAgICAgaXNFdGNkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICBjb25zdCBhbGxOb2RlID0gewogICAgICAgICAgICBpZDogJzA0JywKICAgICAgICAgICAgaXNXb3JrZXI6IHRydWUsCiAgICAgICAgICAgIGlzQ29udHJvbFBsYW5lOiB0cnVlLAogICAgICAgICAgICBpc0V0Y2Q6IHRydWUKICAgICAgICB9OwogICAgICAgIGNvbnN0IGJhc2VDdHggPSB7CiAgICAgICAgICAgIHJvb3RHZXR0ZXJzOiB7CiAgICAgICAgICAgICAgICAncmFuY2hlci9ieUlkJzogKCkgPT4gKHsgYWN0aW9uczogeyBzY2FsZWRvd246ICdzY2FsZWRvd24nIH0gfSksCiAgICAgICAgICAgICAgICAnaTE4bi90JzogdAogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBpdC5lYWNoKFsKICAgICAgICAgICAgW3sgc3BlYzogc3BlY3Mud29ya2VyLCBub2RlczogW3dvcmtlck5vZGVdIH0sIHRydWVdLAogICAgICAgICAgICBbeyBzcGVjOiBzcGVjcy5ldGNkLCBub2RlczogW2V0Y2ROb2RlLCBldGNkTm9kZSwgY29udHJvbFBsYW5lTm9kZV0gfSwgdHJ1ZV0sCiAgICAgICAgICAgIFt7IHNwZWM6IHNwZWNzLmV0Y2RBbmRDb250cm9sUGxhbmUsIG5vZGVzOiBbZXRjZEFuZENvbnRyb2xQbGFuZU5vZGUsIGV0Y2RBbmRDb250cm9sUGxhbmVOb2RlXSB9LCB0cnVlXSwKICAgICAgICAgICAgW3sgc3BlYzogc3BlY3MuZXRjZEFuZENvbnRyb2xQbGFuZSwgbm9kZXM6IFtldGNkQW5kQ29udHJvbFBsYW5lTm9kZV0gfSwgZmFsc2VdLAogICAgICAgICAgICBbeyBzcGVjOiBzcGVjcy5hbGwsIG5vZGVzOiBbYWxsTm9kZV0gfSwgZmFsc2VdLAogICAgICAgICAgICBbeyBzcGVjOiBzcGVjcy5hbGwsIG5vZGVzOiBbYWxsTm9kZSwgYWxsTm9kZV0gfSwgdHJ1ZV0sCiAgICAgICAgXSkoJ3Nob3VsZCByZXR1cm4gY2FuU2NhbGVEb3duIHByb3Blcmx5JywgKGRhdGEsIGV4cGVjdGVkKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsgc3BlYywgbm9kZXMgfSA9IGRhdGE7CiAgICAgICAgICAgIGNvbnN0IG1nbXROb2RlID0gbmV3IE1nbXROb2RlKHsKICAgICAgICAgICAgICAgIHNwZWMsCiAgICAgICAgICAgICAgICBpZDogbm9kZUlkCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIC4uLmJhc2VDdHgsCiAgICAgICAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgYWxsOiAoKSA9PiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWdtdENsdXN0ZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBleHBlY3QobWdtdE5vZGUuY2FuU2NhbGVEb3duKS50b1N0cmljdEVxdWFsKGV4cGVjdGVkKTsKICAgICAgICB9KTsKICAgIH0pOwp9KTsK"},{"version":3,"file":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts","sourceRoot":"","sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/models/__tests__/management.cattle.io.node.ts"],"names":[],"mappings":"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","sourcesContent":["import MgmtNode from '@shell/models/management.cattle.io.node';\n\ndescribe('class MgmtNode', () => {\n  const foo = 'foo';\n  const bar = 'bar';\n  const t = jest.fn(() => bar);\n  const ctx = { rootGetters: { 'i18n/t': t } };\n\n  const resetMocks = () => {\n    // Clear all mock function calls:\n    jest.clearAllMocks();\n  };\n\n  it('should not return addresses if they are not present in the resource status, the internalNodeStatus, or the rkeNode key in status', () => {\n    const mgmtNode = new MgmtNode({ status: {} });\n\n    expect(mgmtNode.addresses).toStrictEqual([]);\n    resetMocks();\n  });\n\n  describe('should return addresses', () => {\n    const addresses = [foo];\n\n    it('if they are present directly on the resource status', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.addresses).toStrictEqual(addresses);\n    });\n    it('if they are not present directly on the resource status but are on \"status.internalNodeStatus\"', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.addresses).toStrictEqual(addresses);\n    });\n  });\n\n  describe('should return an internalIp', () => {\n    const addresses = [{ type: 'InternalIP', address: foo }];\n    const internalAddress = foo;\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(foo);\n    });\n    it('if addresses and internalNodeStatus.addresses do not provide an internal ip and the status includes an rkeNode key with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { rkeNode: { internalAddress } } });\n\n      expect(mgmtNode.internalIp).toStrictEqual(internalAddress);\n    });\n  });\n\n  describe('should return an externalIp', () => {\n    const addresses = [{ type: 'ExternalIP', address: foo }];\n    const address = foo;\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { addresses } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { internalNodeStatus: { addresses } } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(foo);\n    });\n    it('if addresses and internalNodeStatus.addresses do not provide an external ip and the status includes an rkeNode key with an appropriate type and address', () => {\n      const mgmtNode = new MgmtNode({ status: { rkeNode: { address } } });\n\n      expect(mgmtNode.externalIp).toStrictEqual(address);\n    });\n  });\n\n  describe('should return an appropriate message', () => {\n    it('if there is no internalIp to display', () => {\n      const mgmtNode = new MgmtNode({ status: {} }, ctx);\n\n      expect(mgmtNode.internalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n    it('if there is no externalIp to display', () => {\n      const mgmtNode = new MgmtNode({ status: {} }, ctx);\n\n      expect(mgmtNode.externalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n  });\n\n  describe('canScaleDown', () => {\n    const mgmtClusterId = 'test';\n    const nodeId = 'test/id';\n    const specs = {\n      worker: {\n        worker: true, etcd: false, controlPlane: false\n      },\n      etcd: {\n        worker: false, etcd: true, controlPlane: false\n      },\n      controlPlane: {\n        worker: false, etcd: false, controlPlane: true\n      },\n      etcdAndControlPlane: {\n        worker: false, etcd: true, controlPlane: true\n      },\n      all: {\n        worker: true, etcd: true, controlPlane: true\n      }\n    };\n\n    const workerNode = {\n      id:             '01',\n      isWorker:       true,\n      isControlPlane: false,\n      isEtcd:         false\n    };\n    const etcdNode = {\n      id:             '02',\n      isWorker:       false,\n      isControlPlane: false,\n      isEtcd:         true\n    };\n    const controlPlaneNode = {\n      id:             '03',\n      isWorker:       false,\n      isControlPlane: true,\n      isEtcd:         false\n    };\n    const etcdAndControlPlaneNode = {\n      id:             '03',\n      isWorker:       false,\n      isControlPlane: true,\n      isEtcd:         true\n    };\n    const allNode = {\n      id:             '04',\n      isWorker:       true,\n      isControlPlane: true,\n      isEtcd:         true\n    };\n\n    const baseCtx = {\n      rootGetters: {\n        'rancher/byId': () => ({ actions: { scaledown: 'scaledown' } }),\n        'i18n/t':       t\n      }\n    };\n\n    it.each([\n      [{ spec: specs.worker, nodes: [workerNode] }, true],\n      [{ spec: specs.etcd, nodes: [etcdNode, etcdNode, controlPlaneNode] }, true],\n      [{ spec: specs.etcdAndControlPlane, nodes: [etcdAndControlPlaneNode, etcdAndControlPlaneNode] }, true],\n      [{ spec: specs.etcdAndControlPlane, nodes: [etcdAndControlPlaneNode] }, false],\n      [{ spec: specs.all, nodes: [allNode] }, false],\n      [{ spec: specs.all, nodes: [allNode, allNode] }, true],\n    ])('should return canScaleDown properly', (data, expected) => {\n      const { spec, nodes } = data;\n      const mgmtNode = new MgmtNode({\n        spec,\n        id: nodeId\n      }, {\n        ...baseCtx,\n        getters: {\n          all: () => [{\n            mgmtClusterId,\n            nodes\n          }]\n        }\n      });\n\n      expect(mgmtNode.canScaleDown).toStrictEqual(expected);\n    });\n  });\n});\n"]}]}