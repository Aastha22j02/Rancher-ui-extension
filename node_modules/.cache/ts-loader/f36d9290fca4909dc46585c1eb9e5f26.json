{"remainingRequest":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugin-routes.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugin-routes.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqLwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwpleHBvcnQgY2xhc3MgUGx1Z2luUm91dGVzIHsKICAgIGNvbnN0cnVjdG9yKHJvdXRlcikgewogICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyOwogICAgfQogICAgbG9nUm91dGVzKHIsIGluZGVudCA9IDApIHsKICAgICAgICBjb25zdCBzcGFjZXMgPSBBcnJheShpbmRlbnQpLmpvaW4oJyAnKTsKICAgICAgICByLmZvckVhY2goKHMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coYCR7c3BhY2VzfSR7cy5uYW1lfSAtPiAke3MucGF0aH1gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIHRoaXMubG9nUm91dGVzKHMuY2hpbGRyZW4gfHwgW10sIGluZGVudCArIDIpOwogICAgICAgIH0pOwogICAgfQogICAgYWRkUm91dGVzKHBsdWdpbiwgbmV3Um91dGVJbmZvcykgewogICAgICAgIGNvbnN0IGFsbFJvdXRlcyA9IFsKICAgICAgICAgICAgLi4uKHRoaXMucm91dGVyLm9wdGlvbnMucm91dGVzIHx8IFtdKQogICAgICAgIF07CiAgICAgICAgLy8gTmVlZCB0byB0YWtlIGludG8gYWNjb3VudCBpZiByb3V0ZXMgYXJlIGJlaW5nIHJlcGxhY2VkCiAgICAgICAgLy8gRGVzcGl0ZSB3aGF0IHRoZSBkb2NzIHNheSwgcm91dGVzIGFyZSBub3QgcmVwbGFjZWQsIHNvIHdlIHVzZSBhIHdvcmthcm91bmQKICAgICAgICAvLyBSZW1vdmUgYWxsIHJvdXRlcyB0aGF0IGFyZSBiZWluZyByZXBsYWNlZAogICAgICAgIGNvbnN0IG5ld1JvdXRlcyA9IG5ld1JvdXRlSW5mb3MubWFwKChyaSkgPT4gcmkucm91dGUpOwogICAgICAgIHRoaXMuZm9yRWFjaE5lc3RlZFJvdXRlcyhuZXdSb3V0ZXMsIChyKSA9PiB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgLy8gUGF0Y2ggY29sbGlkaW5nIGxlZ2FjeSByb3V0ZXMgdGhhdCBzdGFydCAvOnByb2R1Y3QKICAgICAgICAgICAgaWYgKChfYSA9IHIucGF0aCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0c1dpdGgoJy86cHJvZHVjdCcpKSB7CiAgICAgICAgICAgICAgICAvLyBMZWdhY3kgcGF0dGVybiB1c2VkIGJ5IGV4dGVuc2lvbnMgLSByb3V0ZXMgbWF5IGNvbGxpZGUsIHNvIG1vZGlmeSB0aGVtIG5vdCB0bwogICAgICAgICAgICAgICAgbGV0IHByb2R1Y3ROYW1lOwogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJvdXRlIGhhcyBhIG5hbWUgKHdoaWNoIGlzIGFsd2F5cyB0aGUgY2FzZSBmb3IgdGhlIGV4dGVuc2lvbnMgd2UgaGF2ZSB3cml0dGVuKSwgdXNlIGl0IHRvIGdldCB0aGUgcHJvZHVjdCBuYW1lCiAgICAgICAgICAgICAgICBpZiAoci5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZVBhcnRzID0gci5uYW1lLnNwbGl0KCctJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgcGFydCBvZiB0aGUgcm91dGUgbmFtZSBpcyB0aGUgcHJvZHVjdCBuYW1lCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWUgPSBuYW1lUGFydHNbMF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHBsdWdpbiBuYW1lIGFzIHRoZSBwcm9kdWN0LCBpZiB0aGUgcm91dGUgZG9lcyBub3QgaGF2ZSBhIG5hbWUKICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lID0gcHJvZHVjdE5hbWUgfHwgcGx1Z2luLm5hbWU7CiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBwYXRoIC0gcmVtb3ZpbmcgOnByb2R1Y3QgYW5kIHVzaW5nIHRoZSBhY3R1YWwgcHJvZHVjdCBuYW1lIGluc3RlYWQgLSB0aGlzIGF2b2lkcyByb3V0ZSBjb2xsaXNpb25zCiAgICAgICAgICAgICAgICByLnBhdGggPSBgLyR7cHJvZHVjdE5hbWV9JHtyLnBhdGguc3Vic3RyKDkpfWA7CiAgICAgICAgICAgICAgICByLm1ldGEgPSByLm1ldGEgfHwge307CiAgICAgICAgICAgICAgICByLm1ldGEucHJvZHVjdCA9IHIubWV0YS5wcm9kdWN0IHx8IHByb2R1Y3ROYW1lOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51cGRhdGVNYXRjaGVyKG5ld1JvdXRlSW5mb3MsIGFsbFJvdXRlcyk7CiAgICB9CiAgICB1cGRhdGVNYXRjaGVyKG5ld1JvdXRlcywgYWxsUm91dGVzKSB7CiAgICAgICAgLy8gTm90ZSAtIEFsd2F5cyB1c2UgYSBuZXcgcm91dGVyIGFuZCByZXBsYWNlIHRoZSBleGlzdGluZyByb3V0ZXIncyBtYXRjaGluZwogICAgICAgIC8vIFVzaW5nIHRoZSBleGlzdGluZyByb3V0ZXIgYW5kIGFkZGluZyByb3V0ZXMgdG8gaXQgd2lsbCBmb3JjZSBudXh0IG1pZGRsZXdhcmUgdG8KICAgICAgICAvLyBleGVjdXRlIG1hbnkgdGltZXMgKG51eHQgbWlkZGxld2FyZSBib2lscyBkb3duIHRvIHJvdXRlci5iZWZvcmVFYWNoKS4gVGhpcyBpc3N1ZSB3YXMgc2VlbiByZWZyZXNoaW5nIGluIGEgaGFydmVzdGVyIGNsdXN0ZXIgd2l0aCBhCiAgICAgICAgLy8gZHluYW1pY2FsbHkgbG9hZGVkIGNsdXN0ZXIKICAgICAgICBjb25zdCBvcmRlcmVkUGx1Z2luUm91dGVzID0gW107CiAgICAgICAgLy8gc2VwYXJhdGUgcGx1Z2luIHJvdXRlcyB0aGF0IGhhdmUgcGFyZW50IGFuZCBub3QsIHlvdSB3YW50IHRvIHB1c2ggdGhlIG5ldyByb3V0ZXMgaW4gUkVWRVJTRSBvcmRlciB0byB0aGUgZnJvbnQgb2YgdGhlIGV4aXN0aW5nIGxpc3Qgc28gdGhhdCB0aGUgb3JkZXIgb2Ygcm91dGVzIHNwZWNpZmllZCBieSB0aGUgZXh0ZW5zaW9uIGlzIHByZXNlcnZlZAogICAgICAgIG5ld1JvdXRlcy5yZXZlcnNlKCkuZm9yRWFjaCgocikgPT4gewogICAgICAgICAgICBsZXQgZm91bmRQYXJlbnRSb3V0ZTsKICAgICAgICAgICAgaWYgKHIucGFyZW50KSB7CiAgICAgICAgICAgICAgICBmb3VuZFBhcmVudFJvdXRlID0gdGhpcy5maW5kSW5OZXN0ZWRSb3V0ZXMoYWxsUm91dGVzLCAocm91dGUpID0+IHJvdXRlLm5hbWUgPT09IHIucGFyZW50KTsKICAgICAgICAgICAgICAgIGlmIChmb3VuZFBhcmVudFJvdXRlKSB7CiAgICAgICAgICAgICAgICAgICAgZm91bmRQYXJlbnRSb3V0ZS5jaGlsZHJlbiA9IChmb3VuZFBhcmVudFJvdXRlID09PSBudWxsIHx8IGZvdW5kUGFyZW50Um91dGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvdW5kUGFyZW50Um91dGUuY2hpbGRyZW4pIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGZvdW5kUGFyZW50Um91dGUuY2hpbGRyZW4udW5zaGlmdChyLnJvdXRlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWZvdW5kUGFyZW50Um91dGUpIHsKICAgICAgICAgICAgICAgIG9yZGVyZWRQbHVnaW5Sb3V0ZXMudW5zaGlmdChyLnJvdXRlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IG5ld1JvdXRlciA9IG5ldyBSb3V0ZXIoewogICAgICAgICAgICBtb2RlOiAnaGlzdG9yeScsCiAgICAgICAgICAgIHJvdXRlczogWy4uLm9yZGVyZWRQbHVnaW5Sb3V0ZXMsIC4uLmFsbFJvdXRlc10KICAgICAgICB9KTsKICAgICAgICB0aGlzLnJvdXRlci5tYXRjaGVyID0gbmV3Um91dGVyLm1hdGNoZXI7CiAgICB9CiAgICAvKioKICAgICAqIFRyYXZlcnNlIHRoZSBlbnRpcmUgdHJlZSBvZiBuZXN0ZWQgcm91dGVzCiAgICAgKgogICAgICogQHBhcmFtIHJvdXRlcyBUaGUgcm91dGVzIHdlIHdpc2ggdG8gdHJhdmVyc2UgdGhyb3VnaAogICAgICogQHBhcmFtIGZuIC0+IFJldHVybiB0cnVlIGlmIHlvdSdkIGxpa2UgdG8gYnJlYWsgdGhlIGxvb3AgZWFybHkgKHNtYWxsKQogICAgICogQHJldHVybnMge0Bib29sZWFufSAtPiBSZXR1cm5zIHRydWUgaWYgYnJlYWtpbmcgZWFybHkKICAgICAqLwogICAgZm9yRWFjaE5lc3RlZFJvdXRlcyhyb3V0ZXMgPSBbXSwgZm4pIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlcy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvdXRlc1tpXTsKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4ocm91dGUpOwogICAgICAgICAgICBpZiAocmVzdWx0IHx8IHRoaXMuZm9yRWFjaE5lc3RlZFJvdXRlcyhyb3V0ZS5jaGlsZHJlbiwgZm4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogRmluZCBhIHJvdXRlIHRoYXQgbWF0Y2hlcyB0aGUgY3JpdGVyaWEgZGVmaW5lZCBieSBmbi4KICAgICAqCiAgICAgKiBAcGFyYW0gcm91dGVzIFRoZSByb3V0ZXMgd2Ugd2lzaCB0byBzZWFyY2ggdGhyb3VnaAogICAgICogQHBhcmFtIGZuIC0+IFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFzc2VkIGluIHJvdXRlIG1hdGNoZXMgdGhlIGV4cGVjdGVkIGNyaXRlcmlhCiAgICAgKiBAcmV0dXJucyBUaGUgZm91bmQgcm91dGUgb3IgdW5kZWZpbmVkCiAgICAgKi8KICAgIGZpbmRJbk5lc3RlZFJvdXRlcyhyb3V0ZXMgPSBbXSwgZm4pIHsKICAgICAgICBsZXQgZm91bmQ7CiAgICAgICAgdGhpcy5mb3JFYWNoTmVzdGVkUm91dGVzKHJvdXRlcywgKHJvdXRlKSA9PiB7CiAgICAgICAgICAgIGlmIChmbihyb3V0ZSkpIHsKICAgICAgICAgICAgICAgIGZvdW5kID0gcm91dGU7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmb3VuZDsKICAgIH0KfQo="},{"version":3,"file":"/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugin-routes.ts","sourceRoot":"","sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/core/plugin-routes.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport Router, { RouteConfig } from 'vue-router';\n\ninterface RouteInfo {\n  parent?: string;\n  route: RouteConfig;\n}\n\nexport class PluginRoutes {\n  router: Router;\n\n  constructor(router: Router) {\n    this.router = router;\n  }\n\n  public logRoutes(r: any, indent = 0) {\n    const spaces = Array(indent).join(' ');\n\n    r.forEach((s: any) => {\n      console.log(`${ spaces }${ s.name } -> ${ s.path }`); // eslint-disable-line no-console\n      this.logRoutes(s.children || [], indent + 2);\n    });\n  }\n\n  public addRoutes(plugin: any, newRouteInfos: RouteInfo[]) {\n    const allRoutes = [\n      ...(this.router.options.routes || [])\n    ];\n\n    // Need to take into account if routes are being replaced\n    // Despite what the docs say, routes are not replaced, so we use a workaround\n    // Remove all routes that are being replaced\n    const newRoutes = newRouteInfos.map((ri) => ri.route);\n\n    this.forEachNestedRoutes(newRoutes, (r: RouteConfig) => {\n      // Patch colliding legacy routes that start /:product\n      if (r.path?.startsWith('/:product')) {\n        // Legacy pattern used by extensions - routes may collide, so modify them not to\n        let productName;\n\n        // If the route has a name (which is always the case for the extensions we have written), use it to get the product name\n        if (r.name) {\n          const nameParts = r.name.split('-');\n\n          // First part of the route name is the product name\n          productName = nameParts[0];\n        }\n\n        // Use the plugin name as the product, if the route does not have a name\n        productName = productName || plugin.name;\n\n        // Replace the path - removing :product and using the actual product name instead - this avoids route collisions\n        r.path = `/${ productName }${ r.path.substr(9) }`;\n        r.meta = r.meta || {};\n\n        r.meta.product = r.meta.product || productName;\n      }\n    });\n\n    this.updateMatcher(newRouteInfos, allRoutes);\n  }\n\n  private updateMatcher(newRoutes: RouteInfo[], allRoutes: RouteConfig[]) {\n    // Note - Always use a new router and replace the existing router's matching\n    // Using the existing router and adding routes to it will force nuxt middleware to\n    // execute many times (nuxt middleware boils down to router.beforeEach). This issue was seen refreshing in a harvester cluster with a\n    // dynamically loaded cluster\n\n    const orderedPluginRoutes: any[] = [];\n\n    // separate plugin routes that have parent and not, you want to push the new routes in REVERSE order to the front of the existing list so that the order of routes specified by the extension is preserved\n    newRoutes.reverse().forEach((r: any) => {\n      let foundParentRoute;\n\n      if (r.parent) {\n        foundParentRoute = this.findInNestedRoutes(allRoutes, (route: RouteConfig) => route.name === r.parent);\n\n        if (foundParentRoute) {\n          foundParentRoute.children = foundParentRoute?.children || [];\n          foundParentRoute.children.unshift(r.route);\n        }\n      }\n\n      if (!foundParentRoute) {\n        orderedPluginRoutes.unshift(r.route);\n      }\n    });\n\n    const newRouter: Router = new Router({\n      mode:   'history',\n      routes: [...orderedPluginRoutes, ...allRoutes]\n    });\n\n    (this.router as any).matcher = (newRouter as any).matcher;\n  }\n\n  /**\n   * Traverse the entire tree of nested routes\n   *\n   * @param routes The routes we wish to traverse through\n   * @param fn -> Return true if you'd like to break the loop early (small)\n   * @returns {@boolean} -> Returns true if breaking early\n   */\n  private forEachNestedRoutes(routes: RouteConfig[] = [], fn: (route: RouteConfig) => boolean | undefined | void) {\n    for (let i = 0; i < routes.length; ++i) {\n      const route = routes[i];\n      const result = fn(route);\n\n      if (result || this.forEachNestedRoutes(route.children, fn)) {\n        return true;\n      }\n    }\n  }\n\n  /**\n   * Find a route that matches the criteria defined by fn.\n   *\n   * @param routes The routes we wish to search through\n   * @param fn -> Returns true if the passed in route matches the expected criteria\n   * @returns The found route or undefined\n   */\n  private findInNestedRoutes(routes: RouteConfig[] = [], fn: (route: RouteConfig) => boolean): RouteConfig | undefined {\n    let found: any;\n\n    this.forEachNestedRoutes(routes, (route) => {\n      if (fn(route)) {\n        found = route;\n\n        return true;\n      }\n    });\n\n    return found;\n  }\n}\n"]}]}