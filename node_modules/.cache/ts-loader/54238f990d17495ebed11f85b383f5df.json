{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Basics.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Basics.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgQmFzaWNzIGZyb20gJ0BzaGVsbC9lZGl0L3Byb3Zpc2lvbmluZy5jYXR0bGUuaW8uY2x1c3Rlci90YWJzL0Jhc2ljcyc7CmNvbnN0IGRlZmF1bHRTdHVicyA9IHsKICAgIEJhbm5lcjogdHJ1ZSwKICAgIExhYmVsZWRTZWxlY3Q6IHRydWUsCiAgICBZYW1sRWRpdG9yOiB0cnVlLAogICAgQ2hlY2tib3g6IHRydWUKfTsKY29uc3QgZGVmYXVsdENpbGl1bVN0dWJzID0gewogICAgQmFubmVyOiB0cnVlLAogICAgTGFiZWxlZFNlbGVjdDogdHJ1ZSwKICAgIFlhbWxFZGl0b3I6IHRydWUsCn07CmNvbnN0IGRlZmF1bHRDb21wdXRlZCA9IHsKICAgIHNob3drOHMyMUxlZ2FjeVdhcm5pbmcoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHByb2ZpbGVPcHRpb25zKCkgewogICAgICAgIHJldHVybiBbeyBsYWJlbDogJ2FueXRoaW5nJywgdmFsdWU6ICdhbnl0aGluZycgfV07CiAgICB9Cn07CmNvbnN0IG1vY2tBZ2VudEFyZ3MgPSB7ICdjbG91ZC1wcm92aWRlci1uYW1lJzogeyBvcHRpb25zOiBbXSwgcHJvZmlsZTogeyBvcHRpb25zOiBbeyBhbnl0aGluZzogJ3llcycgfV0gfSB9IH07CmNvbnN0IG1vY2tTZXJ2ZXJBcmdzID0geyBkaXNhYmxlOiB7fSwgY25pOiB7IG9wdGlvbnM6IFtdIH0gfTsKY29uc3QgcmtlMlZlcnNpb25zID0gWwogICAgewogICAgICAgIGlkOiAndjEuMjUuMCtya2UycjEnLCB2YWx1ZTogJ3YxLjI1LjArcmtlMnIxJywgc2VydmVyQXJnczogbW9ja1NlcnZlckFyZ3MsIGFnZW50QXJnczogbW9ja0FnZW50QXJncywgY2hhcnRzOiB7fQogICAgfSwKICAgIHsKICAgICAgICBpZDogJ3YxLjI0LjArcmtlMnIxJywgdmFsdWU6ICd2MS4yNC4wK3JrZTJyMScsIHNlcnZlckFyZ3M6IG1vY2tTZXJ2ZXJBcmdzLCBhZ2VudEFyZ3M6IG1vY2tBZ2VudEFyZ3MsIGNoYXJ0czoge30KICAgIH0sCiAgICB7CiAgICAgICAgaWQ6ICd2MS4yMy4wK3JrZTJyMScsIHZhbHVlOiAndjEuMjMuMCtya2UycjEnLCBzZXJ2ZXJBcmdzOiBtb2NrU2VydmVyQXJncywgYWdlbnRBcmdzOiBtb2NrQWdlbnRBcmdzLCBjaGFydHM6IHt9CiAgICB9Cl07CmNvbnN0IGszc1ZlcnNpb25zID0gWwogICAgewogICAgICAgIGlkOiAndjEuMjUuMCtrM3MxJywgdmFsdWU6ICd2MS4yNS4wK2szczEnLCBzZXJ2ZXJBcmdzOiBtb2NrU2VydmVyQXJncywgYWdlbnRBcmdzOiBtb2NrQWdlbnRBcmdzLCBjaGFydHM6IHt9CiAgICB9LAogICAgewogICAgICAgIGlkOiAndjEuMjQuMCtrM3MxJywgdmFsdWU6ICd2MS4yNC4wK2szczEnLCBzZXJ2ZXJBcmdzOiBtb2NrU2VydmVyQXJncywgYWdlbnRBcmdzOiBtb2NrQWdlbnRBcmdzLCBjaGFydHM6IHt9CiAgICB9LAogICAgewogICAgICAgIGlkOiAndjEuMjMuMCtrM3MxJywgdmFsdWU6ICd2MS4yMy4wK2szczEnLCBzZXJ2ZXJBcmdzOiBtb2NrU2VydmVyQXJncywgYWdlbnRBcmdzOiBtb2NrQWdlbnRBcmdzLCBjaGFydHM6IHt9CiAgICB9Cl07CmNvbnN0IG1vY2tWZXJzaW9uT3B0aW9ucyA9IFsuLi5ya2UyVmVyc2lvbnMsIC4uLmszc1ZlcnNpb25zXTsKY29uc3QgZGVmYXVsdEdldHRlcnMgPSB7CiAgICBjdXJyZW50U3RvcmU6ICgpID0+ICdjdXJyZW50X3N0b3JlJywKICAgICdtYW5hZ2VtZW50L3NjaGVtYUZvcic6IGplc3QuZm4oKSwKICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICdpMThuL3QnOiBqZXN0LmZuKCksCiAgICAnaTE4bi93aXRoRmFsbGJhY2snOiBqZXN0LmZuKCksCiAgICAncGx1Z2lucy9jbG91ZFByb3ZpZGVyRm9yRHJpdmVyJzogamVzdC5mbigpCn07CmNvbnN0IGRlZmF1bHRNb2NrcyA9IHsKICAgICRyb3V0ZTogewogICAgICAgIG5hbWU6ICdhbnl0aGluZycsCiAgICAgICAgcXVlcnk6IHsgQVM6ICd5YW1sJyB9LAogICAgfSwKfTsKY29uc3QgZGVmYXVsdFNwZWMgPSB7CiAgICBya2VDb25maWc6IHsgZXRjZDogeyBkaXNhYmxlU25hcHNob3RzOiBmYWxzZSB9LCBtYWNoaW5lR2xvYmFsQ29uZmlnOiB7IGNuaTogJ2NhbGljbycgfSB9LAogICAgY2hhcnRWYWx1ZXM6IHt9LAp9Owpjb25zdCBkZWZhdWx0Q2lsaXVtU3BlYyA9IHsKICAgIHJrZUNvbmZpZzogeyBldGNkOiB7IGRpc2FibGVTbmFwc2hvdHM6IGZhbHNlIH0sIG1hY2hpbmVHbG9iYWxDb25maWc6IHsgY25pOiAnY2lsaXVtJyB9IH0sCiAgICBjaGFydFZhbHVlczoge30sCn07Ci8vIGlwdjYKY29uc3QgbGVnYWN5T25WYWx1ZSA9IHsgY2lsaXVtOiB7IGlwdjY6IHsgZW5hYmxlZDogdHJ1ZSB9IH0gfTsKY29uc3QgbGVnYWN5T2ZmVmFsdWUgPSB7IGNpbGl1bTogeyBpcHY2OiB7IGVuYWJsZWQ6IGZhbHNlIH0gfSB9Owpjb25zdCBuZXdPblZhbHVlID0geyBpcHY2OiB7IGVuYWJsZWQ6IHRydWUgfSB9Owpjb25zdCBuZXdPZmZWYWx1ZSA9IHsgaXB2NjogeyBlbmFibGVkOiBmYWxzZSB9IH07Ci8vIGJhbmR3aWR0aCBtYW5hZ2VyCmNvbnN0IGJtT25WYWx1ZSA9IHsgYmFuZHdpZHRoTWFuYWdlcjogeyBlbmFibGVkOiB0cnVlIH0gfTsKY29uc3QgYm1PZmZWYWx1ZSA9IHsgYmFuZHdpZHRoTWFuYWdlcjogeyBlbmFibGVkOiBmYWxzZSB9IH07CmZ1bmN0aW9uIGNyZWF0ZUJhc2ljc1RhYih2ZXJzaW9uLCB1c2VyQ2hhcnRWYWx1ZXMpIHsKICAgIGNvbnN0IGs4cyA9IG1vY2tWZXJzaW9uT3B0aW9ucy5maW5kKCh2KSA9PiB2LmlkID09PSB2ZXJzaW9uKSB8fCBtb2NrVmVyc2lvbk9wdGlvbnNbMF07CiAgICBjb25zdCBsYWJlbCA9ICd3aGF0ZXZlcic7CiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoQmFzaWNzLCB7CiAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgIG1vZGU6ICdjcmVhdGUnLAogICAgICAgICAgICB2YWx1ZTogewogICAgICAgICAgICAgICAgc3BlYzogewogICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRDaWxpdW1TcGVjLAogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb2RTZWN1cml0eUFkbWlzc2lvbkNvbmZpZ3VyYXRpb25UZW1wbGF0ZU5hbWU6IGxhYmVsLAogICAgICAgICAgICAgICAgICAgIGt1YmVybmV0ZXNWZXJzaW9uOiBrOHMudmFsdWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhZ2VudENvbmZpZzogeyAnY2xvdWQtcHJvdmlkZXItbmFtZSc6ICcnIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZG9uVmVyc2lvbnM6IFtdLAogICAgICAgICAgICBwcm92aWRlcjogJ2N1c3RvbScsCiAgICAgICAgICAgIHVzZXJDaGFydFZhbHVlczogdXNlckNoYXJ0VmFsdWVzIHx8IHt9LAogICAgICAgICAgICBjaXNPdmVycmlkZTogZmFsc2UsCiAgICAgICAgICAgIGNpc1BzYUNoYW5nZUJhbm5lcjogdHJ1ZSwKICAgICAgICAgICAgYWxsUHNhczogW10sCiAgICAgICAgICAgIHNlbGVjdGVkVmVyc2lvbjogazhzLAogICAgICAgICAgICB2ZXJzaW9uT3B0aW9uczogbW9ja1ZlcnNpb25PcHRpb25zLAogICAgICAgICAgICBpc0hhcnZlc3RlckRyaXZlcjogZmFsc2UsCiAgICAgICAgICAgIGlzSGFydmVzdGVySW5jb21wYXRpYmxlOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0RlcHJlY2F0ZWRQYXRjaFZlcnNpb25zOiBmYWxzZSwKICAgICAgICAgICAgY2x1c3RlcklzQWxyZWFkeUNyZWF0ZWQ6IGZhbHNlLAogICAgICAgICAgICBpc0VsZW1lbnRhbENsdXN0ZXI6IGZhbHNlLAogICAgICAgICAgICBoYXNQc2FUZW1wbGF0ZXM6IGZhbHNlLAogICAgICAgICAgICBpc0szczogZmFsc2UsCiAgICAgICAgICAgIGhhdmVBcmdJbmZvOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NuaTogdHJ1ZSwKICAgICAgICAgICAgc2hvd0Nsb3VkUHJvdmlkZXI6IGZhbHNlLAogICAgICAgICAgICB1bnN1cHBvcnRlZENsb3VkUHJvdmlkZXI6IGZhbHNlLAogICAgICAgICAgICBjbG91ZFByb3ZpZGVyT3B0aW9uczogW3sgbGFiZWw6ICdEZWZhdWx0IC0gUktFMiBFbWJlZGRlZCcsIHZhbHVlOiAnJyB9XSwKICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkOiBkZWZhdWx0Q29tcHV0ZWQsCiAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgLi4uZGVmYXVsdE1vY2tzLAogICAgICAgICAgICAkc3RvcmU6IHsgZ2V0dGVyczogZGVmYXVsdEdldHRlcnMgfSwKICAgICAgICB9LAogICAgICAgIHN0dWJzOiBkZWZhdWx0Q2lsaXVtU3R1YnMKICAgIH0pOwogICAgcmV0dXJuIHdyYXBwZXI7Cn0KZGVzY3JpYmUoJ2NvbXBvbmVudDogQmFzaWNzJywgKCkgPT4gewogICAgLyoqCiAgICAgKiBESVNDTEFJTUVSICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICogTG9ncyBhcmUgcHJldmVudGVkIHRvIGF2b2lkIHBvbGx1dGluZyB0aGUgdGVzdCBvdXRwdXQuCiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgKi8KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqZXN0L25vLWhvb2tzCiAgICBiZWZvcmVFYWNoKCgpID0+IHsKICAgICAgICBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4geyB9KTsKICAgIH0pOwogICAgaXQuZWFjaChtb2NrVmVyc2lvbk9wdGlvbnMpKCdzaG91bGQgZGlzcGxheSBQU0Egb3B0aW9uJywgKGs4cykgPT4gewogICAgICAgIGNvbnN0IGxhYmVsID0gJ3doYXRldmVyJzsKICAgICAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoQmFzaWNzLCB7CiAgICAgICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgICAgICAgbW9kZTogJ2NyZWF0ZScsCiAgICAgICAgICAgICAgICB2YWx1ZTogewogICAgICAgICAgICAgICAgICAgIHNwZWM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFNwZWMsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb2RTZWN1cml0eUFkbWlzc2lvbkNvbmZpZ3VyYXRpb25UZW1wbGF0ZU5hbWU6IGxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICBrdWJlcm5ldGVzVmVyc2lvbjogazhzLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBhZ2VudENvbmZpZzogeyAnY2xvdWQtcHJvdmlkZXItbmFtZSc6ICcnIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcHJvdmlkZXI6ICd3aGF0ZXZlcicsCiAgICAgICAgICAgICAgICB1c2VyQ2hhcnRWYWx1ZXM6IHt9LAogICAgICAgICAgICAgICAgY2lzT3ZlcnJpZGU6IGZhbHNlLAogICAgICAgICAgICAgICAgY2lzUHNhQ2hhbmdlQmFubmVyOiB0cnVlLAogICAgICAgICAgICAgICAgYWxsUHNhczogW10sCiAgICAgICAgICAgICAgICBzZWxlY3RlZFZlcnNpb246IGs4cywKICAgICAgICAgICAgICAgIHZlcnNpb25PcHRpb25zOiBtb2NrVmVyc2lvbk9wdGlvbnMsCiAgICAgICAgICAgICAgICBpc0hhcnZlc3RlckRyaXZlcjogZmFsc2UsCiAgICAgICAgICAgICAgICBpc0hhcnZlc3RlckluY29tcGF0aWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93RGVwcmVjYXRlZFBhdGNoVmVyc2lvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgaXNFbGVtZW50YWxDbHVzdGVyOiBmYWxzZSwKICAgICAgICAgICAgICAgIGhhc1BzYVRlbXBsYXRlczogZmFsc2UsCiAgICAgICAgICAgICAgICBoYXZlQXJnSW5mbzogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q25pOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd0Nsb3VkUHJvdmlkZXI6IHRydWUsCiAgICAgICAgICAgICAgICB1bnN1cHBvcnRlZENsb3VkUHJvdmlkZXI6IGZhbHNlLAogICAgICAgICAgICAgICAgY2xvdWRQcm92aWRlck9wdGlvbnM6IFt7IGxhYmVsOiAnRGVmYXVsdCAtIFJLRTIgRW1iZWRkZWQnLCB2YWx1ZTogJycgfV0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbXB1dGVkOiBkZWZhdWx0Q29tcHV0ZWQsCiAgICAgICAgICAgIG1vY2tzOiB7CiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0TW9ja3MsCiAgICAgICAgICAgICAgICAkc3RvcmU6IHsgZ2V0dGVyczogZGVmYXVsdEdldHRlcnMgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R1YnM6IGRlZmF1bHRTdHVicwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHNlbGVjdCA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJya2UyLWN1c3RvbS1lZGl0LXBzYSJdJyk7CiAgICAgICAgZXhwZWN0KHNlbGVjdC52bS5vcHRpb25zWzBdLmxhYmVsKS50b0JlKGAke2xhYmVsfSAoQ3VycmVudClgKTsKICAgIH0pOwogICAgaXQuZWFjaChbCiAgICAgICAgWyd2MS4yNS4wK3JrZTJyMScsICdub25lJ10sCiAgICAgICAgWyd2MS4yNC4wK3JrZTJyMScsICdkZWZhdWx0J10sCiAgICAgICAgWyd2MS4yMy4wK3JrZTJyMScsICdkZWZhdWx0J10sCiAgICAgICAgWyd2MS4yNS4wK2szczEnLCAnbm9uZSddLAogICAgICAgIFsndjEuMjQuMCtrM3MxJywgJ2RlZmF1bHQnXSwKICAgICAgICBbJ3YxLjIzLjArazNzMScsICdkZWZhdWx0J10sCiAgICBdKSgnc2hvdWxkIGRpc3BsYXkgZm9yIHZlcnNpb24gJXAgUFNBIG9wdGlvbiBsYWJlbCAlcCcsIChrOHMsIHBhcnRpYWxMYWJlbCkgPT4gewogICAgICAgIGNvbnN0IGxhYmVsID0gYGNsdXN0ZXIucmtlMi5kZWZhdWx0UG9kU2VjdXJpdHlBZG1pc3Npb25Db25maWd1cmF0aW9uVGVtcGxhdGVOYW1lLm9wdGlvbi4ke3BhcnRpYWxMYWJlbH1gOwogICAgICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChCYXNpY3MsIHsKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgICBtb2RlOiAnY3JlYXRlJywKICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgICAgc3BlYzogewogICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0U3BlYywKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBvZFNlY3VyaXR5QWRtaXNzaW9uQ29uZmlndXJhdGlvblRlbXBsYXRlTmFtZTogbGFiZWwsCiAgICAgICAgICAgICAgICAgICAgICAgIGt1YmVybmV0ZXNWZXJzaW9uOiBrOHMKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGFnZW50Q29uZmlnOiB7ICdjbG91ZC1wcm92aWRlci1uYW1lJzogJycgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwcm92aWRlcjogJ3doYXRldmVyJywKICAgICAgICAgICAgICAgIHVzZXJDaGFydFZhbHVlczoge30sCiAgICAgICAgICAgICAgICBjaXNPdmVycmlkZTogZmFsc2UsCiAgICAgICAgICAgICAgICBjaXNQc2FDaGFuZ2VCYW5uZXI6IHRydWUsCiAgICAgICAgICAgICAgICBhbGxQc2FzOiBbXSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkVmVyc2lvbjogbW9ja1ZlcnNpb25PcHRpb25zWzBdLAogICAgICAgICAgICAgICAgdmVyc2lvbk9wdGlvbnM6IG1vY2tWZXJzaW9uT3B0aW9ucywKICAgICAgICAgICAgICAgIGlzSGFydmVzdGVyRHJpdmVyOiBmYWxzZSwKICAgICAgICAgICAgICAgIGlzSGFydmVzdGVySW5jb21wYXRpYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dEZXByZWNhdGVkUGF0Y2hWZXJzaW9uczogZmFsc2UsCiAgICAgICAgICAgICAgICBpc0VsZW1lbnRhbENsdXN0ZXI6IGZhbHNlLAogICAgICAgICAgICAgICAgaGFzUHNhVGVtcGxhdGVzOiBmYWxzZSwKICAgICAgICAgICAgICAgIGhhdmVBcmdJbmZvOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDbmk6IHRydWUsCiAgICAgICAgICAgICAgICBzaG93Q2xvdWRQcm92aWRlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHVuc3VwcG9ydGVkQ2xvdWRQcm92aWRlcjogZmFsc2UsCiAgICAgICAgICAgICAgICBjbG91ZFByb3ZpZGVyT3B0aW9uczogW3sgbGFiZWw6ICdEZWZhdWx0IC0gUktFMiBFbWJlZGRlZCcsIHZhbHVlOiAnJyB9XSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcHV0ZWQ6IGRlZmF1bHRDb21wdXRlZCwKICAgICAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRNb2NrcywKICAgICAgICAgICAgICAgICRzdG9yZTogeyBnZXR0ZXJzOiBkZWZhdWx0R2V0dGVycyB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHViczogZGVmYXVsdFN0dWJzCiAgICAgICAgfSk7CiAgICAgICAgY29uc3Qgc2VsZWN0ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9InJrZTItY3VzdG9tLWVkaXQtcHNhIl0nKTsKICAgICAgICBleHBlY3Qoc2VsZWN0LnZtLm9wdGlvbnNbMF0ubGFiZWwpLnRvU3RyaWN0RXF1YWwoYCR7bGFiZWx9IChDdXJyZW50KWApOwogICAgfSk7CiAgICBpdC5lYWNoKFsKICAgICAgICBbJ2FueXRoaW5nJywgZmFsc2UsIHRydWVdLAogICAgICAgIFsnJywgZmFsc2UsIGZhbHNlXSwKICAgICAgICBbJycsIHRydWUsIGZhbHNlXSwKICAgIF0pKCdnaXZlbiBDSVMgdmFsdWUgYXMgJXAgYW5kIGl0cyBvdmVycmlkZSBhcyAlcCwgaXQgc2hvdWxkIHNldCBQU0EgZHJvcGRvd24gYXMgZGlzYWJsZWQgJXAnLCAoY2lzLCBvdmVycmlkZSwgZGlzYWJsZWQpID0+IHsKICAgICAgICBjb25zdCBsYWJlbCA9ICd3aGF0ZXZlcic7CiAgICAgICAgY29uc3QgazhzID0gJ3YxLjI1LjArcmtlMnIxJzsKICAgICAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoQmFzaWNzLCB7CiAgICAgICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgICAgICAgbW9kZTogJ2NyZWF0ZScsCiAgICAgICAgICAgICAgICB2YWx1ZTogewogICAgICAgICAgICAgICAgICAgIGFnZW50Q29uZmlnOiB7IHByb2ZpbGU6IGNpcywgJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnOiAnJyB9LAogICAgICAgICAgICAgICAgICAgIHNwZWM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFNwZWMsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQb2RTZWN1cml0eUFkbWlzc2lvbkNvbmZpZ3VyYXRpb25UZW1wbGF0ZU5hbWU6IGxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICBrdWJlcm5ldGVzVmVyc2lvbjogazhzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHByb3ZpZGVyOiAnY3VzdG9tJywKICAgICAgICAgICAgICAgIHVzZXJDaGFydFZhbHVlczoge30sCiAgICAgICAgICAgICAgICBjaXNQc2FDaGFuZ2VCYW5uZXI6IHRydWUsCiAgICAgICAgICAgICAgICBhbGxQc2FzOiBbXSwKICAgICAgICAgICAgICAgIGNpc092ZXJyaWRlOiBvdmVycmlkZSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkVmVyc2lvbjogbW9ja1ZlcnNpb25PcHRpb25zWzBdLAogICAgICAgICAgICAgICAgdmVyc2lvbk9wdGlvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrOHMsCiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50QXJnczogeyBwcm9maWxlOiB7IG9wdGlvbnM6IFtjaXNdIH0gfSwKICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRzOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTogeyBvcHRpb25zOiBbY2lzXSB9CiAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICBpc0hhcnZlc3RlckRyaXZlcjogZmFsc2UsCiAgICAgICAgICAgICAgICBpc0hhcnZlc3RlckluY29tcGF0aWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93RGVwcmVjYXRlZFBhdGNoVmVyc2lvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgaXNFbGVtZW50YWxDbHVzdGVyOiBmYWxzZSwKICAgICAgICAgICAgICAgIGhhc1BzYVRlbXBsYXRlczogdHJ1ZSwKICAgICAgICAgICAgICAgIGhhdmVBcmdJbmZvOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDbmk6IHRydWUsCiAgICAgICAgICAgICAgICBzaG93Q2xvdWRQcm92aWRlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHVuc3VwcG9ydGVkQ2xvdWRQcm92aWRlcjogZmFsc2UsCiAgICAgICAgICAgICAgICBjbG91ZFByb3ZpZGVyT3B0aW9uczogW3sgbGFiZWw6ICdEZWZhdWx0IC0gUktFMiBFbWJlZGRlZCcsIHZhbHVlOiAnJyB9XSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcHV0ZWQ6IHsgLi4uZGVmYXVsdENvbXB1dGVkIH0sCiAgICAgICAgICAgIG1vY2tzOiB7CiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0TW9ja3MsCiAgICAgICAgICAgICAgICAkc3RvcmU6IHsgZ2V0dGVyczogZGVmYXVsdEdldHRlcnMgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R1YnM6IGRlZmF1bHRTdHVicwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHNlbGVjdCA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJya2UyLWN1c3RvbS1lZGl0LXBzYSJdJyk7CiAgICAgICAgZXhwZWN0KHNlbGVjdC52bS5kaXNhYmxlZCkudG9CZShkaXNhYmxlZCk7CiAgICB9KTsKICAgIGRlc2NyaWJlKCdjaWxpdW0gQ05JJywgKCkgPT4gewogICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGlwdjYgb24vb2ZmIHdpdGggdGhlIGxlZ2FjeSBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVCYXNpY3NUYWIoJ3YxLjIzLjArcmtlMnIxJywge30pOwogICAgICAgICAgICBjb25zdCBpcHY2Q2hlY2tib3ggPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iY2x1c3Rlci1ya2UyLWNuaS1pcHY2LWNoZWNrYm94Il0nKTsKICAgICAgICAgICAgZXhwZWN0KGlwdjZDaGVja2JveC5leGlzdHMoKSkudG9CZSh0cnVlKTsKICAgICAgICAgICAgZXhwZWN0KGlwdjZDaGVja2JveC5pc1Zpc2libGUoKSkudG9CZSh0cnVlKTsKICAgICAgICAgICAgLy8gQ2xpY2sgdGhlIGNoZWNrYm94IC0gc2hvdWxkIGVuYWJsZSBpcHY2CiAgICAgICAgICAgIGF3YWl0IGlwdjZDaGVja2JveC5maW5kKCdsYWJlbCcpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgICAgIGF3YWl0IGlwdjZDaGVja2JveC52bS4kbmV4dFRpY2soKTsKICAgICAgICAgICAgYXdhaXQgd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICAgICAgLy8gQ2hlY2sgYW5kIHVwZGF0ZSB1c2VyIHZhbHVlcyB3aXRoIHRoZSBlbWl0dGVkIHZhbHVlCiAgICAgICAgICAgIGxldCBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVswXVswXTsKICAgICAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoSlNPTi5zdHJpbmdpZnkobGVnYWN5T25WYWx1ZSkpOwogICAgICAgICAgICBhd2FpdCB3cmFwcGVyLnNldFByb3BzKHsgdXNlckNoYXJ0VmFsdWVzOiB7ICdya2UyLWNpbGl1bSc6IGxhdGVzdCB9IH0pOwogICAgICAgICAgICAvLyBDbGljayB0aGUgY2hlY2tib3ggdG8gdHVybiBpcHY2IG9mZiBhZ2FpbgogICAgICAgICAgICBhd2FpdCBpcHY2Q2hlY2tib3guZmluZCgnbGFiZWwnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgICAgICBhd2FpdCBpcHY2Q2hlY2tib3gudm0uJG5leHRUaWNrKCk7CiAgICAgICAgICAgIGF3YWl0IHdyYXBwZXIudm0uJG5leHRUaWNrKCk7CiAgICAgICAgICAgIC8vIFVwZGF0ZSBmcm9tIHRoZSBlbWl0dGVkIHZhbHVlCiAgICAgICAgICAgIGxhdGVzdCA9ICh3cmFwcGVyLmVtaXR0ZWQoKVsnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJ10gfHwgW10pWzFdWzBdOwogICAgICAgICAgICBleHBlY3QoSlNPTi5zdHJpbmdpZnkobGF0ZXN0KSkudG9TdHJpY3RFcXVhbChKU09OLnN0cmluZ2lmeShsZWdhY3lPZmZWYWx1ZSkpOwogICAgICAgIH0pOwogICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGlwdjYgb24vb2ZmIHdpdGggdGhlIG5ldyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVCYXNpY3NUYWIoJ3YxLjI1LjArcmtlMnIxJywge30pOwogICAgICAgICAgICBjb25zdCBpcHY2Q2hlY2tib3ggPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iY2x1c3Rlci1ya2UyLWNuaS1pcHY2LWNoZWNrYm94Il0nKTsKICAgICAgICAgICAgZXhwZWN0KGlwdjZDaGVja2JveC5leGlzdHMoKSkudG9CZSh0cnVlKTsKICAgICAgICAgICAgZXhwZWN0KGlwdjZDaGVja2JveC5pc1Zpc2libGUoKSkudG9CZSh0cnVlKTsKICAgICAgICAgICAgLy8gQ2xpY2sgdGhlIGNoZWNrYm94IC0gc2hvdWxkIGVuYWJsZSBpcHY2CiAgICAgICAgICAgIGF3YWl0IGlwdjZDaGVja2JveC5maW5kKCdsYWJlbCcpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgICAgIGF3YWl0IGlwdjZDaGVja2JveC52bS4kbmV4dFRpY2soKTsKICAgICAgICAgICAgYXdhaXQgd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICAgICAgLy8gQ2hlY2sgYW5kIHVwZGF0ZSB1c2VyIHZhbHVlcyB3aXRoIHRoZSBlbWl0dGVkIHZhbHVlCiAgICAgICAgICAgIGxldCBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVswXVswXTsKICAgICAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoSlNPTi5zdHJpbmdpZnkobmV3T25WYWx1ZSkpOwogICAgICAgICAgICBhd2FpdCB3cmFwcGVyLnNldFByb3BzKHsgdXNlckNoYXJ0VmFsdWVzOiB7ICdya2UyLWNpbGl1bSc6IGxhdGVzdCB9IH0pOwogICAgICAgICAgICAvLyBDbGljayB0aGUgY2hlY2tib3ggdG8gdHVybiBpcHY2IG9mZiBhZ2FpbgogICAgICAgICAgICBhd2FpdCBpcHY2Q2hlY2tib3guZmluZCgnbGFiZWwnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgICAgICBhd2FpdCBpcHY2Q2hlY2tib3gudm0uJG5leHRUaWNrKCk7CiAgICAgICAgICAgIGF3YWl0IHdyYXBwZXIudm0uJG5leHRUaWNrKCk7CiAgICAgICAgICAgIC8vIFVwZGF0ZSBmcm9tIHRoZSBlbWl0dGVkIHZhbHVlCiAgICAgICAgICAgIGxhdGVzdCA9ICh3cmFwcGVyLmVtaXR0ZWQoKVsnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJ10gfHwgW10pWzFdWzBdOwogICAgICAgICAgICBleHBlY3QoSlNPTi5zdHJpbmdpZnkobGF0ZXN0KSkudG9TdHJpY3RFcXVhbChKU09OLnN0cmluZ2lmeShuZXdPZmZWYWx1ZSkpOwogICAgICAgIH0pOwogICAgICAgIGl0KCdzaG91bGQgbWlncmF0ZSB3aGVuIHRoZSBrOHMgdmVyc2lvbiBpcyBjaGFuZ2VkJywgYXN5bmMgKCkgPT4gewogICAgICAgICAgICBjb25zdCB1c2VyQ2hhcnRWYWx1ZXMgPSB7ICdya2UyLWNpbGl1bSc6IHsgaXB2NjogeyBlbmFibGVkOiB0cnVlIH0gfSB9OwogICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gY3JlYXRlQmFzaWNzVGFiKCd2MS4yNS4wK3JrZTJyMScsIHVzZXJDaGFydFZhbHVlcyk7CiAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQKICAgICAgICAgICAgY29uc3QgaXB2NkNoZWNrYm94ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9ImNsdXN0ZXItcmtlMi1jbmktaXB2Ni1jaGVja2JveCJdJyk7CiAgICAgICAgICAgIGV4cGVjdChpcHY2Q2hlY2tib3guZXhpc3RzKCkpLnRvQmUodHJ1ZSk7CiAgICAgICAgICAgIGV4cGVjdChpcHY2Q2hlY2tib3guaXNWaXNpYmxlKCkpLnRvQmUodHJ1ZSk7CiAgICAgICAgICAgIGV4cGVjdChpcHY2Q2hlY2tib3gudm0udmFsdWUpLnRvQmUodHJ1ZSk7CiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUga3ViZXJuZXRlcyB2ZXJzaW9uIHRoYXQgbmVlZHMgdGhlIGxlZ2FjeSBmb3JtYXQKICAgICAgICAgICAgY29uc3QgazhzMTIzID0gbW9ja1ZlcnNpb25PcHRpb25zLmZpbmQoKHYpID0+IHYuaWQgPT09ICd2MS4yMy4wK3JrZTJyMScpOwogICAgICAgICAgICBhd2FpdCB3cmFwcGVyLnNldFByb3BzKHsgc2VsZWN0ZWRWZXJzaW9uOiBrOHMxMjMgfSk7CiAgICAgICAgICAgIGxldCBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVswXVswXTsKICAgICAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoSlNPTi5zdHJpbmdpZnkobGVnYWN5T25WYWx1ZSkpOwogICAgICAgICAgICAvLyBDaGFuZ2UgYmFjayB0aGUgdmVyc2lvbiBzbyB0aGF0IHRoZSBuZXcgZm9ybWF0IHNob3VsZCBiZSB1c2VkCiAgICAgICAgICAgIGNvbnN0IGs4czEyNSA9IG1vY2tWZXJzaW9uT3B0aW9ucy5maW5kKCh2KSA9PiB2LmlkID09PSAndjEuMjUuMCtya2UycjEnKTsKICAgICAgICAgICAgYXdhaXQgd3JhcHBlci5zZXRQcm9wcyh7IHNlbGVjdGVkVmVyc2lvbjogazhzMTI1IH0pOwogICAgICAgICAgICBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVsxXVswXTsKICAgICAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoSlNPTi5zdHJpbmdpZnkobmV3T25WYWx1ZSkpOwogICAgICAgIH0pOwogICAgfSk7CiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBiYW5kd2lkdGggbWFuYWdlciBzdXBwb3J0IG9uL29mZicsIGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCB3cmFwcGVyID0gY3JlYXRlQmFzaWNzVGFiKCd2MS4yNS4wK3JrZTJyMScsIHt9KTsKICAgICAgICBjb25zdCBibUNoZWNrYm94ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9ImNsdXN0ZXItcmtlMi1jbmktY2lsaXVtLWJhbmR3aWR0aC1tYW5hZ2VyLWNoZWNrYm94Il0nKTsKICAgICAgICBleHBlY3QoYm1DaGVja2JveC5leGlzdHMoKSkudG9CZSh0cnVlKTsKICAgICAgICBleHBlY3QoYm1DaGVja2JveC5pc1Zpc2libGUoKSkudG9CZSh0cnVlKTsKICAgICAgICAvLyBDbGljayB0aGUgY2hlY2tib3ggLSBzaG91bGQgZW5hYmxlIGJhbmR3aWR0aCBtYW5hZ2VyCiAgICAgICAgYXdhaXQgYm1DaGVja2JveC5maW5kKCdsYWJlbCcpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgYXdhaXQgYm1DaGVja2JveC52bS4kbmV4dFRpY2soKTsKICAgICAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgIC8vIENoZWNrIGFuZCB1cGRhdGUgdXNlciB2YWx1ZXMgd2l0aCB0aGUgZW1pdHRlZCB2YWx1ZQogICAgICAgIGxldCBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVswXVswXTsKICAgICAgICBleHBlY3QoSlNPTi5zdHJpbmdpZnkobGF0ZXN0KSkudG9TdHJpY3RFcXVhbChKU09OLnN0cmluZ2lmeShibU9uVmFsdWUpKTsKICAgICAgICBhd2FpdCB3cmFwcGVyLnNldFByb3BzKHsgdXNlckNoYXJ0VmFsdWVzOiB7ICdya2UyLWNpbGl1bSc6IGxhdGVzdCB9IH0pOwogICAgICAgIC8vIENsaWNrIHRoZSBjaGVja2JveCB0byB0dXJuIGlwdjYgb2ZmIGFnYWluCiAgICAgICAgYXdhaXQgYm1DaGVja2JveC5maW5kKCdsYWJlbCcpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgYXdhaXQgYm1DaGVja2JveC52bS4kbmV4dFRpY2soKTsKICAgICAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgIC8vIFVwZGF0ZSBmcm9tIHRoZSBlbWl0dGVkIHZhbHVlCiAgICAgICAgbGF0ZXN0ID0gKHdyYXBwZXIuZW1pdHRlZCgpWydjaWxpdW0tdmFsdWVzLWNoYW5nZWQnXSB8fCBbXSlbMV1bMF07CiAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoSlNPTi5zdHJpbmdpZnkoYm1PZmZWYWx1ZSkpOwogICAgfSk7CiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgaXB2NiBhbmQgYmFuZHdpZHRoIG1hbmFnZXInLCBhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGNyZWF0ZUJhc2ljc1RhYigndjEuMjUuMCtya2UycjEnLCB7fSk7CiAgICAgICAgY29uc3QgYm1DaGVja2JveCA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJjbHVzdGVyLXJrZTItY25pLWNpbGl1bS1iYW5kd2lkdGgtbWFuYWdlci1jaGVja2JveCJdJyk7CiAgICAgICAgY29uc3QgaXB2NkNoZWNrYm94ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9ImNsdXN0ZXItcmtlMi1jbmktaXB2Ni1jaGVja2JveCJdJyk7CiAgICAgICAgLy8gQ2xpY2sgdGhlIGNoZWNrYm94IC0gc2hvdWxkIGVuYWJsZSBiYW5kd2lkdGggbWFuYWdlcgogICAgICAgIGF3YWl0IGJtQ2hlY2tib3guZmluZCgnbGFiZWwnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIGF3YWl0IGJtQ2hlY2tib3gudm0uJG5leHRUaWNrKCk7CiAgICAgICAgYXdhaXQgd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICBsZXQgbGF0ZXN0ID0gKHdyYXBwZXIuZW1pdHRlZCgpWydjaWxpdW0tdmFsdWVzLWNoYW5nZWQnXSB8fCBbXSlbMF1bMF07CiAgICAgICAgYXdhaXQgd3JhcHBlci5zZXRQcm9wcyh7IHVzZXJDaGFydFZhbHVlczogeyAncmtlMi1jaWxpdW0nOiBsYXRlc3QgfSB9KTsKICAgICAgICAvLyBDbGljayB0aGUgY2hlY2tib3ggLSBzaG91bGQgZW5hYmxlIGlwdjYKICAgICAgICBhd2FpdCBpcHY2Q2hlY2tib3guZmluZCgnbGFiZWwnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIGF3YWl0IGlwdjZDaGVja2JveC52bS4kbmV4dFRpY2soKTsKICAgICAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgIC8vIENoZWNrIGFuZCB1cGRhdGUgdXNlciB2YWx1ZXMgd2l0aCB0aGUgZW1pdHRlZCB2YWx1ZQogICAgICAgIGxhdGVzdCA9ICh3cmFwcGVyLmVtaXR0ZWQoKVsnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJ10gfHwgW10pWzFdWzBdOwogICAgICAgIGNvbnN0IGNvbWJpbmVkID0gewogICAgICAgICAgICBiYW5kd2lkdGhNYW5hZ2VyOiB7IGVuYWJsZWQ6IHRydWUgfSwKICAgICAgICAgICAgaXB2NjogeyBlbmFibGVkOiB0cnVlIH0KICAgICAgICB9OwogICAgICAgIGV4cGVjdChKU09OLnN0cmluZ2lmeShsYXRlc3QpKS50b1N0cmljdEVxdWFsKEpTT04uc3RyaW5naWZ5KGNvbWJpbmVkKSk7CiAgICAgICAgLy8gQ2hlY2sgdGhhdCBvdGhlciBwcm9wZXJ0aWVzIGFyZSBwcmVzZXJ2ZWQKICAgICAgICBsYXRlc3QgPSB7CiAgICAgICAgICAgIC4uLmxhdGVzdCwKICAgICAgICAgICAgYmFuZHdpZHRoTWFuYWdlcjogewogICAgICAgICAgICAgICAgdGVzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlwdjY6IHsKICAgICAgICAgICAgICAgIHRlc3Q6IHRydWUsCiAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhd2FpdCB3cmFwcGVyLnNldFByb3BzKHsgdXNlckNoYXJ0VmFsdWVzOiB7ICdya2UyLWNpbGl1bSc6IGxhdGVzdCB9IH0pOwogICAgICAgIC8vIENsaWNrIHRoZSBjaGVja2JveCB0byB0dXJuIGJhbmR3aWR0aCBtYW5hZ2VyIG9mZiBhZ2FpbgogICAgICAgIGF3YWl0IGJtQ2hlY2tib3guZmluZCgnbGFiZWwnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIGF3YWl0IGJtQ2hlY2tib3gudm0uJG5leHRUaWNrKCk7CiAgICAgICAgYXdhaXQgd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICBsYXRlc3QgPSAod3JhcHBlci5lbWl0dGVkKClbJ2NpbGl1bS12YWx1ZXMtY2hhbmdlZCddIHx8IFtdKVsyXVswXTsKICAgICAgICBjb25zdCBleHBlY3RlZCA9ICd7ImJhbmR3aWR0aE1hbmFnZXIiOnsidGVzdCI6dHJ1ZSwiZW5hYmxlZCI6dHJ1ZX0sImlwdjYiOnsidGVzdCI6dHJ1ZSwiZW5hYmxlZCI6ZmFsc2V9fSc7CiAgICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGxhdGVzdCkpLnRvU3RyaWN0RXF1YWwoZXhwZWN0ZWQpOwogICAgfSk7Cn0pOwo="},{"version":3,"file":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Basics.test.ts","sourceRoot":"","sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Basics.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { mount } from '@vue/test-utils';\nimport Basics from '@shell/edit/provisioning.cattle.io.cluster/tabs/Basics';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\n\nconst defaultStubs = {\n  Banner:        true,\n  LabeledSelect: true,\n  YamlEditor:    true,\n  Checkbox:      true\n};\n\nconst defaultCiliumStubs = {\n  Banner:        true,\n  LabeledSelect: true,\n  YamlEditor:    true,\n};\n\nconst defaultComputed = {\n  showk8s21LegacyWarning() {\n    return false;\n  },\n  profileOptions() {\n    return [{ label: 'anything', value: 'anything' }];\n  }\n};\n\nconst mockAgentArgs = { 'cloud-provider-name': { options: [], profile: { options: [{ anything: 'yes' }] } } };\nconst mockServerArgs = { disable: {}, cni: { options: [] } };\n\nconst rke2Versions =\n  [\n    {\n      id: 'v1.25.0+rke2r1', value: 'v1.25.0+rke2r1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n    },\n    {\n      id: 'v1.24.0+rke2r1', value: 'v1.24.0+rke2r1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n    },\n    {\n      id: 'v1.23.0+rke2r1', value: 'v1.23.0+rke2r1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n    }\n  ];\nconst k3sVersions = [\n  {\n    id: 'v1.25.0+k3s1', value: 'v1.25.0+k3s1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n  },\n  {\n    id: 'v1.24.0+k3s1', value: 'v1.24.0+k3s1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n  },\n  {\n    id: 'v1.23.0+k3s1', value: 'v1.23.0+k3s1', serverArgs: mockServerArgs, agentArgs: mockAgentArgs, charts: {}\n  }\n];\nconst mockVersionOptions = [...rke2Versions, ...k3sVersions];\n\nconst defaultGetters = {\n  currentStore:                     () => 'current_store',\n  'management/schemaFor':           jest.fn(),\n  'current_store/all':              jest.fn(),\n  'i18n/t':                         jest.fn(),\n  'i18n/withFallback':              jest.fn(),\n  'plugins/cloudProviderForDriver': jest.fn()\n};\n\nconst defaultMocks = {\n  $route: {\n    name:  'anything',\n    query: { AS: 'yaml' },\n  },\n};\n\nconst defaultSpec = {\n  rkeConfig:   { etcd: { disableSnapshots: false }, machineGlobalConfig: { cni: 'calico' } },\n  chartValues: {},\n};\n\nconst defaultCiliumSpec = {\n  rkeConfig:   { etcd: { disableSnapshots: false }, machineGlobalConfig: { cni: 'cilium' } },\n  chartValues: {},\n};\n\n// ipv6\nconst legacyOnValue = { cilium: { ipv6: { enabled: true } } };\nconst legacyOffValue = { cilium: { ipv6: { enabled: false } } };\nconst newOnValue = { ipv6: { enabled: true } };\nconst newOffValue = { ipv6: { enabled: false } };\n\n// bandwidth manager\nconst bmOnValue = { bandwidthManager: { enabled: true } };\nconst bmOffValue = { bandwidthManager: { enabled: false } };\n\nfunction createBasicsTab(version : string, userChartValues: any) {\n  const k8s = mockVersionOptions.find((v) => v.id === version) || mockVersionOptions[0];\n  const label = 'whatever';\n  const wrapper = mount(Basics, {\n    propsData: {\n      mode:  'create',\n      value: {\n        spec: {\n          ...defaultCiliumSpec,\n          defaultPodSecurityAdmissionConfigurationTemplateName: label,\n          kubernetesVersion:                                    k8s.value\n        },\n        agentConfig: { 'cloud-provider-name': '' },\n      },\n      addonVersions:               [],\n      provider:                    'custom',\n      userChartValues:             userChartValues || {},\n      cisOverride:                 false,\n      cisPsaChangeBanner:          true,\n      allPsas:                     [],\n      selectedVersion:             k8s,\n      versionOptions:              mockVersionOptions,\n      isHarvesterDriver:           false,\n      isHarvesterIncompatible:     false,\n      showDeprecatedPatchVersions: false,\n      clusterIsAlreadyCreated:     false,\n      isElementalCluster:          false,\n      hasPsaTemplates:             false,\n      isK3s:                       false,\n      haveArgInfo:                 false,\n      showCni:                     true,\n      showCloudProvider:           false,\n      unsupportedCloudProvider:    false,\n      cloudProviderOptions:        [{ label: 'Default - RKE2 Embedded', value: '' }],\n    },\n    computed: defaultComputed,\n    mocks:    {\n      ...defaultMocks,\n      $store: { getters: defaultGetters },\n    },\n    stubs: defaultCiliumStubs\n  });\n\n  return wrapper;\n}\n\ndescribe('component: Basics', () => {\n  /**\n   * DISCLAIMER ***************************************************************************************\n   * Logs are prevented to avoid polluting the test output.\n   ****************************************************************************************************\n  */\n  // eslint-disable-next-line jest/no-hooks\n  beforeEach(() => {\n    jest.spyOn(console, 'log').mockImplementation(() => { });\n  });\n\n  it.each(mockVersionOptions)('should display PSA option', (k8s) => {\n    const label = 'whatever';\n    const wrapper = mount(Basics, {\n      propsData: {\n        mode:  'create',\n        value: {\n          spec: {\n            ...defaultSpec,\n            defaultPodSecurityAdmissionConfigurationTemplateName: label,\n            kubernetesVersion:                                    k8s.value\n          },\n          agentConfig: { 'cloud-provider-name': '' },\n        },\n        provider:                    'whatever',\n        userChartValues:             {},\n        cisOverride:                 false,\n        cisPsaChangeBanner:          true,\n        allPsas:                     [],\n        selectedVersion:             k8s,\n        versionOptions:              mockVersionOptions,\n        isHarvesterDriver:           false,\n        isHarvesterIncompatible:     false,\n        showDeprecatedPatchVersions: false,\n        isElementalCluster:          false,\n        hasPsaTemplates:             false,\n        haveArgInfo:                 false,\n        showCni:                     true,\n        showCloudProvider:           true,\n        unsupportedCloudProvider:    false,\n        cloudProviderOptions:        [{ label: 'Default - RKE2 Embedded', value: '' }],\n      },\n      computed: defaultComputed,\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    const select = wrapper.find('[data-testid=\"rke2-custom-edit-psa\"]');\n\n    expect((select.vm as unknown as any).options[0].label).toBe(`${ label } (Current)`);\n  });\n\n  it.each([\n    ['v1.25.0+rke2r1', 'none'],\n    ['v1.24.0+rke2r1', 'default'],\n    ['v1.23.0+rke2r1', 'default'],\n    ['v1.25.0+k3s1', 'none'],\n    ['v1.24.0+k3s1', 'default'],\n    ['v1.23.0+k3s1', 'default'],\n  ])('should display for version %p PSA option label %p', (k8s, partialLabel) => {\n    const label = `cluster.rke2.defaultPodSecurityAdmissionConfigurationTemplateName.option.${ partialLabel }`;\n    const wrapper = mount(Basics, {\n      propsData: {\n        mode:  'create',\n        value: {\n          spec: {\n            ...defaultSpec,\n            defaultPodSecurityAdmissionConfigurationTemplateName: label,\n            kubernetesVersion:                                    k8s\n          },\n          agentConfig: { 'cloud-provider-name': '' },\n        },\n        provider:                    'whatever',\n        userChartValues:             {},\n        cisOverride:                 false,\n        cisPsaChangeBanner:          true,\n        allPsas:                     [],\n        selectedVersion:             mockVersionOptions[0],\n        versionOptions:              mockVersionOptions,\n        isHarvesterDriver:           false,\n        isHarvesterIncompatible:     false,\n        showDeprecatedPatchVersions: false,\n        isElementalCluster:          false,\n        hasPsaTemplates:             false,\n        haveArgInfo:                 false,\n        showCni:                     true,\n        showCloudProvider:           true,\n        unsupportedCloudProvider:    false,\n        cloudProviderOptions:        [{ label: 'Default - RKE2 Embedded', value: '' }],\n      },\n      computed: defaultComputed,\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    const select = wrapper.find('[data-testid=\"rke2-custom-edit-psa\"]');\n\n    expect((select.vm as unknown as any).options[0].label).toStrictEqual(`${ label } (Current)`);\n  });\n\n  it.each([\n    ['anything', false, true],\n    ['', false, false],\n    ['', true, false],\n  ])('given CIS value as %p and its override as %p, it should set PSA dropdown as disabled %p', (cis, override, disabled) => {\n    const label = 'whatever';\n    const k8s = 'v1.25.0+rke2r1';\n    const wrapper = mount(Basics, {\n      propsData: {\n        mode:  'create',\n        value: {\n          agentConfig: { profile: cis, 'cloud-provider-name': '' },\n          spec:        {\n            ...defaultSpec,\n            defaultPodSecurityAdmissionConfigurationTemplateName: label,\n            kubernetesVersion:                                    k8s\n          }\n        },\n        provider:           'custom',\n        userChartValues:    {},\n        cisPsaChangeBanner: true,\n        allPsas:            [],\n        cisOverride:        override,\n        selectedVersion:    mockVersionOptions[0],\n        versionOptions:     [{\n          value:     k8s,\n          agentArgs: { profile: { options: [cis] } },\n          charts:    {},\n          profile:   { options: [cis] }\n        }],\n        isHarvesterDriver:           false,\n        isHarvesterIncompatible:     false,\n        showDeprecatedPatchVersions: false,\n        isElementalCluster:          false,\n        hasPsaTemplates:             true,\n        haveArgInfo:                 false,\n        showCni:                     true,\n        showCloudProvider:           true,\n        unsupportedCloudProvider:    false,\n        cloudProviderOptions:        [{ label: 'Default - RKE2 Embedded', value: '' }],\n      },\n      computed: { ...defaultComputed },\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    const select = wrapper.find('[data-testid=\"rke2-custom-edit-psa\"]');\n\n    expect((select.vm as unknown as any).disabled).toBe(disabled);\n  });\n\n  describe('cilium CNI', () => {\n    it('should toggle ipv6 on/off with the legacy structure', async() => {\n      const wrapper = createBasicsTab('v1.23.0+rke2r1', {});\n      const ipv6Checkbox = wrapper.find('[data-testid=\"cluster-rke2-cni-ipv6-checkbox\"]');\n\n      expect(ipv6Checkbox.exists()).toBe(true);\n      expect(ipv6Checkbox.isVisible()).toBe(true);\n\n      // Click the checkbox - should enable ipv6\n      await ipv6Checkbox.find('label').trigger('click');\n      await ipv6Checkbox.vm.$nextTick();\n      await wrapper.vm.$nextTick();\n\n      // Check and update user values with the emitted value\n      let latest = (wrapper.emitted()['cilium-values-changed'] || [])[0][0];\n\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(legacyOnValue));\n\n      await wrapper.setProps({ userChartValues: { 'rke2-cilium': latest } });\n\n      // Click the checkbox to turn ipv6 off again\n      await ipv6Checkbox.find('label').trigger('click');\n      await ipv6Checkbox.vm.$nextTick();\n      await wrapper.vm.$nextTick();\n\n      // Update from the emitted value\n      latest = (wrapper.emitted()['cilium-values-changed'] || [])[1][0];\n\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(legacyOffValue));\n    });\n\n    it('should toggle ipv6 on/off with the new structure', async() => {\n      const wrapper = createBasicsTab('v1.25.0+rke2r1', {});\n      const ipv6Checkbox = wrapper.find('[data-testid=\"cluster-rke2-cni-ipv6-checkbox\"]');\n\n      expect(ipv6Checkbox.exists()).toBe(true);\n      expect(ipv6Checkbox.isVisible()).toBe(true);\n\n      // Click the checkbox - should enable ipv6\n      await ipv6Checkbox.find('label').trigger('click');\n      await ipv6Checkbox.vm.$nextTick();\n      await wrapper.vm.$nextTick();\n\n      // Check and update user values with the emitted value\n      let latest = (wrapper.emitted()['cilium-values-changed'] || [])[0][0];\n\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(newOnValue));\n\n      await wrapper.setProps({ userChartValues: { 'rke2-cilium': latest } });\n\n      // Click the checkbox to turn ipv6 off again\n      await ipv6Checkbox.find('label').trigger('click');\n      await ipv6Checkbox.vm.$nextTick();\n      await wrapper.vm.$nextTick();\n\n      // Update from the emitted value\n      latest = (wrapper.emitted()['cilium-values-changed'] || [])[1][0];\n\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(newOffValue));\n    });\n\n    it('should migrate when the k8s version is changed', async() => {\n      const userChartValues = { 'rke2-cilium': { ipv6: { enabled: true } } };\n      const wrapper = createBasicsTab('v1.25.0+rke2r1', userChartValues);\n\n      // Check that the checkbox is checked\n      const ipv6Checkbox = wrapper.find('[data-testid=\"cluster-rke2-cni-ipv6-checkbox\"]') as Checkbox;\n\n      expect(ipv6Checkbox.exists()).toBe(true);\n      expect(ipv6Checkbox.isVisible()).toBe(true);\n      expect(ipv6Checkbox.vm.value).toBe(true);\n\n      // Change the kubernetes version that needs the legacy format\n      const k8s123 = mockVersionOptions.find((v) => v.id === 'v1.23.0+rke2r1');\n\n      await wrapper.setProps({ selectedVersion: k8s123 });\n\n      let latest = (wrapper.emitted()['cilium-values-changed'] || [])[0][0];\n\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(legacyOnValue));\n\n      // Change back the version so that the new format should be used\n      const k8s125 = mockVersionOptions.find((v) => v.id === 'v1.25.0+rke2r1');\n\n      await wrapper.setProps({ selectedVersion: k8s125 });\n\n      latest = (wrapper.emitted()['cilium-values-changed'] || [])[1][0];\n      expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(newOnValue));\n    });\n  });\n\n  it('should toggle bandwidth manager support on/off', async() => {\n    const wrapper = createBasicsTab('v1.25.0+rke2r1', {});\n    const bmCheckbox = wrapper.find('[data-testid=\"cluster-rke2-cni-cilium-bandwidth-manager-checkbox\"]');\n\n    expect(bmCheckbox.exists()).toBe(true);\n    expect(bmCheckbox.isVisible()).toBe(true);\n\n    // Click the checkbox - should enable bandwidth manager\n    await bmCheckbox.find('label').trigger('click');\n    await bmCheckbox.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    // Check and update user values with the emitted value\n    let latest = (wrapper.emitted()['cilium-values-changed'] || [])[0][0];\n\n    expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(bmOnValue));\n\n    await wrapper.setProps({ userChartValues: { 'rke2-cilium': latest } });\n\n    // Click the checkbox to turn ipv6 off again\n    await bmCheckbox.find('label').trigger('click');\n    await bmCheckbox.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    // Update from the emitted value\n    latest = (wrapper.emitted()['cilium-values-changed'] || [])[1][0];\n\n    expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(bmOffValue));\n  });\n\n  it('should support ipv6 and bandwidth manager', async() => {\n    const wrapper = createBasicsTab('v1.25.0+rke2r1', {});\n    const bmCheckbox = wrapper.find('[data-testid=\"cluster-rke2-cni-cilium-bandwidth-manager-checkbox\"]');\n    const ipv6Checkbox = wrapper.find('[data-testid=\"cluster-rke2-cni-ipv6-checkbox\"]');\n\n    // Click the checkbox - should enable bandwidth manager\n    await bmCheckbox.find('label').trigger('click');\n    await bmCheckbox.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    let latest = (wrapper.emitted()['cilium-values-changed'] || [])[0][0];\n\n    await wrapper.setProps({ userChartValues: { 'rke2-cilium': latest } });\n\n    // Click the checkbox - should enable ipv6\n    await ipv6Checkbox.find('label').trigger('click');\n    await ipv6Checkbox.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    // Check and update user values with the emitted value\n    latest = (wrapper.emitted()['cilium-values-changed'] || [])[1][0];\n\n    const combined = {\n      bandwidthManager: { enabled: true },\n      ipv6:             { enabled: true }\n    };\n\n    expect(JSON.stringify(latest)).toStrictEqual(JSON.stringify(combined));\n\n    // Check that other properties are preserved\n    latest = {\n      ...latest,\n      bandwidthManager: {\n        test:    true,\n        enabled: false\n      },\n      ipv6: {\n        test:    true,\n        enabled: false\n      }\n    };\n\n    await wrapper.setProps({ userChartValues: { 'rke2-cilium': latest } });\n\n    // Click the checkbox to turn bandwidth manager off again\n    await bmCheckbox.find('label').trigger('click');\n    await bmCheckbox.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    latest = (wrapper.emitted()['cilium-values-changed'] || [])[2][0];\n\n    const expected = '{\"bandwidthManager\":{\"test\":true,\"enabled\":true},\"ipv6\":{\"test\":true,\"enabled\":false}}';\n\n    expect(JSON.stringify(latest)).toStrictEqual(expected);\n  });\n});\n"]}]}