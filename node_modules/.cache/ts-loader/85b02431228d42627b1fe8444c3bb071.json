{"remainingRequest":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hbWVzcGFjZSBmcm9tICdAc2hlbGwvbW9kZWxzL25hbWVzcGFjZSc7CmltcG9ydCB7IFNZU1RFTV9OQU1FU1BBQ0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCBTWVNURU1fTkFNRVNQQUNFUyBmcm9tICdAc2hlbGwvY29uZmlnL3N5c3RlbS1uYW1lc3BhY2VzJzsKZGVzY3JpYmUoJ2NsYXNzIE5hbWVzcGFjZScsICgpID0+IHsKICAgIGRlc2NyaWJlKCdjaGVja2luZyBpZiBpc1N5c3RlbScsICgpID0+IHsKICAgICAgICBpdC5lYWNoKFsKICAgICAgICAgICAgWyd3aGF0ZXZlcjEnLCBTWVNURU1fTkFNRVNQQUNFLCB0cnVlXSwKICAgICAgICAgICAgWyd3aGF0ZXZlcjInLCAnYW55LWFubm90YXRpb24nLCBmYWxzZV0sCiAgICAgICAgICAgIFsnd2hhdGV2ZXIzJywgJycsIGZhbHNlXQogICAgICAgIF0pKCdzaG91bGQgcmV0dXJuIHRydWUgaWYgaXQgaGFzIHRoZSBjb3JyZWN0IGFubm90YXRpb24nLCAobmFtZSwgYW5ub3RhdGlvbiwgZXhwZWN0YXRpb24pID0+IHsKICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IHsgLi4ubmFtZXNwYWNlLm1ldGFkYXRhLCBuYW1lIH07CiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uKSB7CiAgICAgICAgICAgICAgICBuYW1lc3BhY2UubWV0YWRhdGEuYW5ub3RhdGlvbnMgPSB7IFthbm5vdGF0aW9uXTogJ3RydWUnIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhwZWN0KG5hbWVzcGFjZS5pc1N5c3RlbSkudG9CZShleHBlY3RhdGlvbik7CiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgYXNzZXJ0aW9uc0FyciA9IFtdOwogICAgICAgIFNZU1RFTV9OQU1FU1BBQ0VTLmZvckVhY2goKG5zKSA9PiB7CiAgICAgICAgICAgIGFzc2VydGlvbnNBcnIucHVzaChbbnMsIHRydWVdKTsKICAgICAgICB9KTsKICAgICAgICBhc3NlcnRpb25zQXJyLnB1c2goWydjLXdoYXRldmVyLXN5c3RlbScsIGZhbHNlXSk7CiAgICAgICAgYXNzZXJ0aW9uc0Fyci5wdXNoKFsnY2F0dGxlLXdoYXRldmVyJywgZmFsc2VdKTsKICAgICAgICBhc3NlcnRpb25zQXJyLnB1c2goWycnLCBmYWxzZV0pOwogICAgICAgIGl0LmVhY2goYXNzZXJ0aW9uc0FycikoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBpdCBiZWxvbmdzIHRvIHRoZSBjdXJhdGVkIGxpc3Qgb2YgbmFtZXNwYWNlcycsIChuYW1lLCBleHBlY3RhdGlvbikgPT4gewogICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgICAgICAgbmFtZXNwYWNlLm1ldGFkYXRhID0geyAuLi5uYW1lc3BhY2UubWV0YWRhdGEsIG5hbWUgfTsKICAgICAgICAgICAgZXhwZWN0KG5hbWVzcGFjZS5pc1N5c3RlbSkudG9CZShleHBlY3RhdGlvbik7CiAgICAgICAgfSk7CiAgICAgICAgaXQuZWFjaChbCiAgICAgICAgICAgIFsnY2F0dGxlLWMtd2hhdGV2ZXItc3lzdGVtJywgdHJ1ZV0sCiAgICAgICAgICAgIFsnY2F0dGxlLXdoYXRldmVyJywgZmFsc2VdLAogICAgICAgICAgICBbJ2Mtd2hhdGV2ZXItc3lzdGVtJywgZmFsc2VdCiAgICAgICAgXSkoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBzdGFydHMgd2l0aCAiY2F0dGxlLSIgZW5kIHdpdGggIi1zeXN0ZW0nLCAobmFtZSwgZXhwZWN0YXRpb24pID0+IHsKICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IHsgLi4ubmFtZXNwYWNlLm1ldGFkYXRhLCBuYW1lIH07CiAgICAgICAgICAgIGV4cGVjdChuYW1lc3BhY2UuaXNTeXN0ZW0pLnRvQmUoZXhwZWN0YXRpb24pOwogICAgICAgIH0pOwogICAgfSk7CiAgICBpdC50b2RvKCdzaG91bGQgY2hlY2sgaWYgaXNGbGVldE1hbmFnZWQnKTsKICAgIGRlc2NyaWJlKCdjaGVja2luZyBpZiBpc09ic2N1cmUnLCAoKSA9PiB7CiAgICAgICAgaXQuZWFjaChbCiAgICAgICAgICAgIFsnYy13aGF0ZXZlci1zeXN0ZW0nLCAnbWFuYWdlbWVudC5jYXR0bGUuaW8vc3lzdGVtLW5hbWVzcGFjZScsIHRydWVdLAogICAgICAgICAgICBbJ3Atd2hhdGV2ZXInLCBTWVNURU1fTkFNRVNQQUNFLCB0cnVlXSwKICAgICAgICAgICAgWydwLXdoYXRldmVyJywgJycsIGZhbHNlXSwKICAgICAgICAgICAgWycnLCAnJywgZmFsc2VdCiAgICAgICAgXSkoJ3Nob3VsZCByZXR1cm4gYSB2YWx1ZSBpZiBpcyBzeXN0ZW0gQU5EIGhhcyB0aGUgY29ycmVjdCBwcmVmaXgnLCAobmFtZSwgYW5ub3RhdGlvbiwgZXhwZWN0YXRpb24pID0+IHsKICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IHsgLi4ubmFtZXNwYWNlLm1ldGFkYXRhLCBuYW1lIH07CiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uKSB7CiAgICAgICAgICAgICAgICBuYW1lc3BhY2UubWV0YWRhdGEuYW5ub3RhdGlvbnMgPSB7IFthbm5vdGF0aW9uXTogJ3RydWUnIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhwZWN0KG5hbWVzcGFjZS5pc09ic2N1cmUpLnRvQmUoZXhwZWN0YXRpb24pOwogICAgICAgIH0pOwogICAgfSk7CiAgICBpdC5lYWNoKFsKICAgICAgICBbJ2ZvbzpiYXInLCAnYmFyJ10sCiAgICAgICAgWycnLCBudWxsXQogICAgXSkoJ2dpdmVuICVwIGFubm90YXRpb24sIHByb2plY3RJZCBzaG91bGQgYmUgJXAnLCAodmFsdWUsIHJlc3VsdCkgPT4gewogICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5ldyBOYW1lc3BhY2Uoe30pOwogICAgICAgIG5hbWVzcGFjZS5tZXRhZGF0YSA9IHsgbmFtZTogJycsIGFubm90YXRpb25zOiB7ICdmaWVsZC5jYXR0bGUuaW8vcHJvamVjdElkJzogdmFsdWUgfSB9OwogICAgICAgIGV4cGVjdChuYW1lc3BhY2UucHJvamVjdElkKS50b0JlKHJlc3VsdCk7CiAgICB9KTsKICAgIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gdGhlIHByb2plY3QnKTsKICAgIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gdGhlIGdyb3VwQnlMYWJlbCB3aXRoIGkxOG4nKTsKICAgIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gdGhlIHByb2plY3QgbmFtZSB3aXRoIGkxOG4nKTsKICAgIGl0LnRvZG8oJ3Nob3VsZCByZXR1cm4gdGhlIHByb2plY3ROYW1lU29ydCcpOwogICAgaXQudG9kbygnc2hvdWxkIGNoZWNrIGlmIGlzdGlvSW5zdGFsbGVkJyk7CiAgICBpdC50b2RvKCdzaG91bGQgY2hlY2sgaWYgaW5qZWN0aW9uRW5hYmxlZCcpOwogICAgZGVzY3JpYmUoJ2hhbmRsaW5nIElzdGlvICBsYWJlbHMnLCAoKSA9PiB7CiAgICAgICAgY29uc3Qgc2F2ZSA9IGplc3QuZm4oKTsKICAgICAgICBpdC5lYWNoKFsKICAgICAgICAgICAgeyBtZXRhZGF0YTogeyBuYW1lOiAnJywgbGFiZWxzOiB7ICdpc3Rpby1pbmplY3Rpb24nOiAnd2hhdGV2ZXInIH0gfSwgc2F2ZSB9LAogICAgICAgICAgICBbeyBtZXRhZGF0YTogeyBuYW1lOiAnJywgbGFiZWxzOiB7ICdpc3Rpby1pbmplY3Rpb24nOiAnd2hhdGV2ZXInIH0gfSwgc2F2ZSB9XSwKICAgICAgICBdKSgnc2hvdWxkIGhhbmRsZSBib3RoIGRhdGEgYXMgbGlzdCBhbmQgc2luZ2xlIG9iamVjdCBhbmQgc2F2ZScsIChkYXRhKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5ldyBOYW1lc3BhY2Uoe30pOwogICAgICAgICAgICBuYW1lc3BhY2UuZW5hYmxlQXV0b0luamVjdGlvbihkYXRhKTsKICAgICAgICAgICAgZXhwZWN0KHNhdmUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCk7CiAgICAgICAgfSk7CiAgICAgICAgaXQoJ3Nob3VsZCBhZGQgYXV0byBpbmplY3Rpb24gbGFiZWwgYXMgZW5hYmxlJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBkYXRhID0geyBtZXRhZGF0YTogeyBuYW1lOiAnJywgbGFiZWxzOiB7ICdpc3Rpby1pbmplY3Rpb24nOiAnd2hhdGV2ZXInIH0gfSwgc2F2ZSB9OwogICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgICAgICAgbmFtZXNwYWNlLmVuYWJsZUF1dG9JbmplY3Rpb24oZGF0YSk7CiAgICAgICAgICAgIGV4cGVjdChkYXRhLm1ldGFkYXRhLmxhYmVsc1snaXN0aW8taW5qZWN0aW9uJ10pLnRvQmUoJ2VuYWJsZWQnKTsKICAgICAgICB9KTsKICAgICAgICBpdCgnc2hvdWxkIHJlbW92ZSBsYWJlbCBvbiBkaXNhYmxlJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBkYXRhID0geyBtZXRhZGF0YTogeyBuYW1lOiAnJywgbGFiZWxzOiB7ICdpc3Rpby1pbmplY3Rpb24nOiAnd2hhdGV2ZXInIH0gfSwgc2F2ZSB9OwogICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgICAgICAgbmFtZXNwYWNlLmVuYWJsZUF1dG9JbmplY3Rpb24oZGF0YSwgZmFsc2UpOwogICAgICAgICAgICBleHBlY3QoZGF0YS5tZXRhZGF0YS5sYWJlbHNbJ2lzdGlvLWluamVjdGlvbiddKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgfSk7CiAgICB9KTsKICAgIGl0LnRvZG8oJ3Nob3VsZCBkaXNhYmxlQXV0b0luamVjdGlvbicpOwogICAgaXQudG9kbygnc2hvdWxkIGNoZWNrIGlmIGNvbmZpcm1SZW1vdmUnKTsKICAgIGRlc2NyaWJlKCdoYW5kbGluZyBsaXN0TG9jYXRpb24nLCAoKSA9PiB7CiAgICAgICAgaXQuZWFjaChbCiAgICAgICAgICAgIFsnYy1jbHVzdGVyLXByb2R1Y3QtcHJvamVjdHNuYW1lc3BhY2VzJywgdHJ1ZV0sCiAgICAgICAgICAgIFsnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UnLCBmYWxzZV0sCiAgICAgICAgXSkoJ3Nob3VsZCByZXR1cm4gdGhlIG5hbWUgJXAgaWYgaXMgUmFuY2hlciAoJXApJywgKG5hbWUsIGlzUmFuY2hlcikgPT4gewogICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBuZXcgTmFtZXNwYWNlKHt9KTsKICAgICAgICAgICAgamVzdC5zcHlPbihuYW1lc3BhY2UsICckcm9vdEdldHRlcnMnLCAnZ2V0JykubW9ja1JldHVyblZhbHVlKHsKICAgICAgICAgICAgICAgIGlzUmFuY2hlciwKICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9kdWN0OiB7IGluU3RvcmU6ICcnIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGV4cGVjdChuYW1lc3BhY2UubGlzdExvY2F0aW9uLm5hbWUpLnRvQmUobmFtZSk7CiAgICAgICAgfSk7CiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdGhlIG5hbWUgYW5kIHJlc291cmNlIGlmIEhhcnZlc3RlcicsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gbmV3IE5hbWVzcGFjZSh7fSk7CiAgICAgICAgICAgIGplc3Quc3B5T24obmFtZXNwYWNlLCAnJHJvb3RHZXR0ZXJzJywgJ2dldCcpLm1vY2tSZXR1cm5WYWx1ZSh7CiAgICAgICAgICAgICAgICBpc1JhbmNoZXI6IHRydWUsCiAgICAgICAgICAgICAgICBjdXJyZW50UHJvZHVjdDogeyBpblN0b3JlOiAnaGFydmVzdGVyJyB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6ICdoYXJ2ZXN0ZXItYy1jbHVzdGVyLXByb2plY3RzbmFtZXNwYWNlcycsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgcmVzb3VyY2U6ICduYW1lc3BhY2UnIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgZXhwZWN0KG5hbWVzcGFjZS5saXN0TG9jYXRpb24pLnRvU3RyaWN0RXF1YWwodmFsdWUpOwogICAgICAgIH0pOwogICAgfSk7CiAgICBpdC50b2RvKCdzaG91bGQgcmV0dXJuIF9kZXRhaWxMb2NhdGlvbiB3aXRoIGEgbmFtZScpOwogICAgaXQudG9kbygnc2hvdWxkIHJldHVybiB0aGUgcmVzb3VyY2VRdW90YScpOwogICAgaXQudG9kbygnc2hvdWxkIHNldCB0aGUgcmVzb3VyY2VRdW90YSBhcyByZWFjdGl2ZSBWdWUgcHJvcGVydHknKTsKICAgIGl0LnRvZG8oJ3Nob3VsZCByZXNldCBwcm9qZWN0IHdpdGggY2xlYW5Gb3JOZXcnKTsKfSk7Cg=="},{"version":3,"file":"/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts","sourceRoot":"","sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/models/__tests__/namespace.test.ts"],"names":[],"mappings":"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","sourcesContent":["import Namespace from '@shell/models/namespace';\nimport { SYSTEM_NAMESPACE } from '@shell/config/labels-annotations';\nimport SYSTEM_NAMESPACES from '@shell/config/system-namespaces';\n\ndescribe('class Namespace', () => {\n  describe('checking if isSystem', () => {\n    it.each([\n      ['whatever1', SYSTEM_NAMESPACE, true],\n      ['whatever2', 'any-annotation', false],\n      ['whatever3', '', false]\n    ])('should return true if it has the correct annotation', (name, annotation, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      if (annotation) {\n        namespace.metadata.annotations = { [annotation]: 'true' };\n      }\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n\n    const assertionsArr = [];\n\n    SYSTEM_NAMESPACES.forEach((ns) => {\n      assertionsArr.push([ns, true]);\n    });\n\n    assertionsArr.push(['c-whatever-system', false]);\n    assertionsArr.push(['cattle-whatever', false]);\n    assertionsArr.push(['', false]);\n\n    it.each(assertionsArr)('should return true if it belongs to the curated list of namespaces', (name, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n\n    it.each([\n      ['cattle-c-whatever-system', true],\n      ['cattle-whatever', false],\n      ['c-whatever-system', false]\n    ])('should return true if starts with \"cattle-\" end with \"-system', (name, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      expect(namespace.isSystem).toBe(expectation);\n    });\n  });\n\n  it.todo('should check if isFleetManaged');\n\n  describe('checking if isObscure', () => {\n    it.each([\n      ['c-whatever-system', 'management.cattle.io/system-namespace', true],\n      ['p-whatever', SYSTEM_NAMESPACE, true],\n      ['p-whatever', '', false],\n      ['', '', false]\n    ])('should return a value if is system AND has the correct prefix', (name, annotation, expectation) => {\n      const namespace = new Namespace({});\n\n      namespace.metadata = { ...namespace.metadata, name };\n\n      if (annotation) {\n        namespace.metadata.annotations = { [annotation]: 'true' };\n      }\n\n      expect(namespace.isObscure).toBe(expectation);\n    });\n  });\n\n  it.each([\n    ['foo:bar', 'bar'],\n    ['', null]\n  ])('given %p annotation, projectId should be %p', (value, result) => {\n    const namespace = new Namespace({});\n\n    namespace.metadata = { name: '', annotations: { 'field.cattle.io/projectId': value } };\n\n    expect(namespace.projectId).toBe(result);\n  });\n\n  it.todo('should return the project');\n  it.todo('should return the groupByLabel with i18n');\n  it.todo('should return the project name with i18n');\n  it.todo('should return the projectNameSort');\n  it.todo('should check if istioInstalled');\n  it.todo('should check if injectionEnabled');\n\n  describe('handling Istio  labels', () => {\n    const save = jest.fn();\n\n    it.each([\n      { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save },\n      [{ metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save }],\n    ])('should handle both data as list and single object and save', (data) => {\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace);\n\n      expect(save).toHaveBeenCalledWith();\n    });\n\n    it('should add auto injection label as enable', () => {\n      const data = { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save };\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace);\n\n      expect(data.metadata!.labels['istio-injection']).toBe('enabled');\n    });\n\n    it('should remove label on disable', () => {\n      const data = { metadata: { name: '', labels: { 'istio-injection': 'whatever' } }, save };\n      const namespace = new Namespace({});\n\n      namespace.enableAutoInjection(data as unknown as Namespace, false);\n\n      expect(data.metadata!.labels['istio-injection']).toBeUndefined();\n    });\n  });\n\n  it.todo('should disableAutoInjection');\n  it.todo('should check if confirmRemove');\n\n  describe('handling listLocation', () => {\n    it.each([\n      ['c-cluster-product-projectsnamespaces', true],\n      ['c-cluster-product-resource', false],\n    ])('should return the name %p if is Rancher (%p)', (name, isRancher) => {\n      const namespace = new Namespace({});\n\n      jest.spyOn(namespace, '$rootGetters', 'get').mockReturnValue({\n        isRancher,\n        currentProduct: { inStore: '' }\n      });\n\n      expect(namespace.listLocation.name).toBe(name);\n    });\n\n    it('should return the name and resource if Harvester', () => {\n      const namespace = new Namespace({});\n\n      jest.spyOn(namespace, '$rootGetters', 'get').mockReturnValue({\n        isRancher:      true,\n        currentProduct: { inStore: 'harvester' }\n      });\n\n      const value = {\n        name:   'harvester-c-cluster-projectsnamespaces',\n        params: { resource: 'namespace' }\n      };\n\n      expect(namespace.listLocation).toStrictEqual(value);\n    });\n  });\n\n  it.todo('should return _detailLocation with a name');\n  it.todo('should return the resourceQuota');\n  it.todo('should set the resourceQuota as reactive Vue property');\n  it.todo('should reset project with cleanForNew');\n});\n"]}]}