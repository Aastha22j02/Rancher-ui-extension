{"remainingRequest":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/composables/useLabeledFormElement.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/composables/useLabeledFormElement.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IF9WSUVXLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKZXhwb3J0IGNvbnN0IGxhYmVsZWRGb3JtRWxlbWVudFByb3BzID0gewogICAgdG9vbHRpcEtleTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcGxhY2Vob2xkZXJLZXk6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGxhYmVsOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsYWJlbEtleTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sCiAgICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6IF9FRElULAogICAgfSwKICAgIHJ1bGVzOiB7CiAgICAgICAgZGVmYXVsdDogKCkgPT4gW10sCiAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgLy8gd2Ugb25seSB3YW50IGZ1bmN0aW9ucyBpbiB0aGUgcnVsZXMgYXJyYXkKICAgICAgICB2YWxpZGF0b3I6IChydWxlcykgPT4gcnVsZXMuZXZlcnkoKHJ1bGUpID0+IFsnZnVuY3Rpb24nXS5pbmNsdWRlcyh0eXBlb2YgcnVsZSkpCiAgICB9LAogICAgcmVxdWlyZWQ6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCn07CmV4cG9ydCBjb25zdCB1c2VMYWJlbGVkRm9ybUVsZW1lbnQgPSAocHJvcHMsIGVtaXQpID0+IHsKICAgIGNvbnN0IHJhaXNlZCA9IHJlZihwcm9wcy5tb2RlID09PSBfVklFVyB8fCAhIWAke3Byb3BzLnZhbHVlfWApOwogICAgY29uc3QgZm9jdXNlZCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBibHVycmVkID0gcmVmKG51bGwpOwogICAgY29uc3QgcmVxdWlyZWRGaWVsZCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgcmV0dXJuIHByb3BzLnJlcXVpcmVkIHx8ICgoX2EgPSBwcm9wcy5ydWxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvbWUoKHJ1bGUpID0+IChydWxlID09PSBudWxsIHx8IHJ1bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJ1bGUubmFtZSkgPT09ICdyZXF1aXJlZCcpKTsKICAgIH0pOwogICAgY29uc3QgaXNWaWV3ID0gY29tcHV0ZWQoKCkgPT4gewogICAgICAgIHJldHVybiBwcm9wcy5tb2RlID09PSBfVklFVzsKICAgIH0pOwogICAgY29uc3QgaXNEaXNhYmxlZCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgICByZXR1cm4gcHJvcHMuZGlzYWJsZWQgfHwgaXNWaWV3LnZhbHVlOwogICAgfSk7CiAgICBjb25zdCB2YWxpZGF0aW9uTWVzc2FnZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgICBjb25zdCByZXF1aXJlZFJ1bGUgPSBwcm9wcy5ydWxlcy5maW5kKChydWxlKSA9PiAocnVsZSA9PT0gbnVsbCB8fCBydWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBydWxlLm5hbWUpID09PSAncmVxdWlyZWQnKTsKICAgICAgICBjb25zdCBydWxlTWVzc2FnZXMgPSBbXTsKICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3BzLnZhbHVlOwogICAgICAgIGlmIChyZXF1aXJlZFJ1bGUgJiYgYmx1cnJlZC52YWx1ZSAmJiAhZm9jdXNlZC52YWx1ZSkgewogICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcmVxdWlyZWRSdWxlKHZhbHVlKTsKICAgICAgICAgICAgaWYgKCEhbWVzc2FnZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHByb3BzLnJ1bGVzKSB7CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBydWxlKHZhbHVlKTsKICAgICAgICAgICAgaWYgKCEhbWVzc2FnZSAmJiBydWxlLm5hbWUgIT09ICdyZXF1aXJlZCcpIHsKICAgICAgICAgICAgICAgIHJ1bGVNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChydWxlTWVzc2FnZXMubGVuZ3RoID4gMCAmJiAoYmx1cnJlZC52YWx1ZSB8fCBmb2N1c2VkLnZhbHVlKSkgewogICAgICAgICAgICByZXR1cm4gcnVsZU1lc3NhZ2VzLmpvaW4oJywgJyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgIH0KICAgIH0pOwogICAgY29uc3Qgb25Gb2N1c0xhYmVsZWQgPSAoKSA9PiB7CiAgICAgICAgcmFpc2VkLnZhbHVlID0gdHJ1ZTsKICAgICAgICBmb2N1c2VkLnZhbHVlID0gdHJ1ZTsKICAgIH07CiAgICBjb25zdCBvbkJsdXJMYWJlbGVkID0gKCkgPT4gewogICAgICAgIGZvY3VzZWQudmFsdWUgPSBmYWxzZTsKICAgICAgICBpZiAoIXByb3BzLnZhbHVlKSB7CiAgICAgICAgICAgIHJhaXNlZC52YWx1ZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBibHVycmVkLnZhbHVlID0gRGF0ZS5ub3coKTsKICAgIH07CiAgICByZXR1cm4gewogICAgICAgIHJhaXNlZCwKICAgICAgICBmb2N1c2VkLAogICAgICAgIGJsdXJyZWQsCiAgICAgICAgb25Gb2N1c0xhYmVsZWQsCiAgICAgICAgb25CbHVyTGFiZWxlZCwKICAgICAgICBpc0Rpc2FibGVkLAogICAgICAgIHZhbGlkYXRpb25NZXNzYWdlLAogICAgICAgIHJlcXVpcmVkRmllbGQKICAgIH07Cn07Cg=="},{"version":3,"file":"/home/ubuntu/suseconf/node_modules/@rancher/shell/composables/useLabeledFormElement.ts","sourceRoot":"","sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/composables/useLabeledFormElement.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAoB,MAAM,KAAK,CAAC;AACtD,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,4BAA4B,CAAC;AAqB1D,MAAM,CAAC,MAAM,uBAAuB,GAAG;IACrC,UAAU,EAAE;QACV,IAAI,EAAK,MAAM;QACf,OAAO,EAAE,IAAI;KACd;IACD,WAAW,EAAE;QACX,IAAI,EAAK,CAAC,MAAM,EAAE,MAAM,CAAC;QACzB,OAAO,EAAE,EAAE;KACZ;IACD,cAAc,EAAE;QACd,IAAI,EAAK,MAAM;QACf,OAAO,EAAE,IAAI;KACd;IACD,KAAK,EAAE;QACL,IAAI,EAAK,MAAM;QACf,OAAO,EAAE,IAAI;KACd;IACD,QAAQ,EAAE;QACR,IAAI,EAAK,MAAM;QACf,OAAO,EAAE,IAAI;KACd;IACD,KAAK,EAAE;QACL,IAAI,EAAK,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;QACjC,OAAO,EAAE,EAAE;KACZ;IACD,IAAI,EAAE;QACJ,IAAI,EAAK,MAAM;QACf,OAAO,EAAE,KAAK;KACf;IACD,KAAK,EAAE;QACL,OAAO,EAAI,GAAmB,EAAE,CAAC,EAAE;QACnC,IAAI,EAAO,KAAK;QAChB,4CAA4C;QAC5C,SAAS,EAAE,CAAC,KAAqB,EAAW,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAa,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC;KAClH;IACD,QAAQ,EAAE;QACR,IAAI,EAAK,OAAO;QAChB,OAAO,EAAE,KAAK;KACf;IACD,QAAQ,EAAE;QACR,IAAI,EAAK,OAAO;QAChB,OAAO,EAAE,KAAK;KACf;CACF,CAAC;AAEF,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,KAA8B,EAAE,IAA6C,EAAyB,EAAE;IAC5I,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,CAAC,CAAC,GAAI,KAAK,CAAC,KAAM,EAAE,CAAC,CAAC;IACjE,MAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;IAC3B,MAAM,OAAO,GAAG,GAAG,CAAgB,IAAI,CAAC,CAAC;IAEzC,MAAM,aAAa,GAAG,QAAQ,CAAC,GAAG,EAAE;;QAClC,OAAO,KAAK,CAAC,QAAQ,KAAI,MAAA,KAAK,CAAC,KAAK,0CAAE,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE,CAAC,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,MAAK,UAAU,CAAC,CAAA,CAAC;IACvF,CAAC,CAAC,CAAC;IAEH,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE;QAC3B,OAAO,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC;IAC9B,CAAC,CAAC,CAAC;IAEH,MAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,EAAE;QAC/B,OAAO,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC,KAAK,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,EAAE;QACtC,MAAM,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE,CAAC,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,MAAK,UAAU,CAAa,CAAC;QAC5F,MAAM,YAAY,GAAG,EAAE,CAAC;QACxB,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QAE1B,IAAI,YAAY,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;YACnD,MAAM,OAAO,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;YAEpC,IAAI,CAAC,CAAC,OAAO,EAAE;gBACb,OAAO,OAAO,CAAC;aAChB;SACF;QAED,KAAK,MAAM,IAAI,IAAI,KAAK,CAAC,KAAK,EAAE;YAC9B,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAE5B,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,EAAE;gBACzC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC5B;SACF;QAED,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;YAC/D,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChC;aAAM;YACL,OAAO,SAAS,CAAC;SAClB;IACH,CAAC,CAAC,CAAC;IAEH,MAAM,cAAc,GAAG,GAAG,EAAE;QAC1B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;QACpB,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;IACvB,CAAC,CAAC;IAEF,MAAM,aAAa,GAAG,GAAG,EAAE;QACzB,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;QAEtB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAChB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;SACtB;QAED,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC7B,CAAC,CAAC;IAEF,OAAO;QACL,MAAM;QACN,OAAO;QACP,OAAO;QACP,cAAc;QACd,aAAa;QACb,UAAU;QACV,iBAAiB;QACjB,aAAa;KACd,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { ref, computed, ComputedRef, Ref } from 'vue';\nimport { _VIEW, _EDIT } from '@shell/config/query-params';\n\ninterface LabeledFormElementProps {\n  mode: string;\n  value: string | number | Record<string, any>\n  required: boolean;\n  disabled: boolean;\n  rules: Array<any>;\n}\n\ninterface UseLabeledFormElement {\n  raised: Ref<boolean>;\n  focused: Ref<boolean>;\n  blurred: Ref<number | null>;\n  requiredField: ComputedRef<any>;\n  isDisabled: ComputedRef<any>;\n  validationMessage: ComputedRef<any>;\n  onFocusLabeled: () => void;\n  onBlurLabeled: () => void;\n}\n\nexport const labeledFormElementProps = {\n  tooltipKey: {\n    type:    String,\n    default: null\n  },\n  placeholder: {\n    type:    [String, Number],\n    default: ''\n  },\n  placeholderKey: {\n    type:    String,\n    default: null\n  },\n  label: {\n    type:    String,\n    default: null\n  },\n  labelKey: {\n    type:    String,\n    default: null\n  },\n  value: {\n    type:    [String, Number, Object],\n    default: ''\n  },\n  mode: {\n    type:    String,\n    default: _EDIT,\n  },\n  rules: {\n    default:   (): Array<unknown> => [],\n    type:      Array,\n    // we only want functions in the rules array\n    validator: (rules: Array<unknown>): boolean => rules.every((rule: unknown) => ['function'].includes(typeof rule))\n  },\n  required: {\n    type:    Boolean,\n    default: false,\n  },\n  disabled: {\n    type:    Boolean,\n    default: false,\n  },\n};\n\nexport const useLabeledFormElement = (props: LabeledFormElementProps, emit: (event: string, ...args: any[]) => void): UseLabeledFormElement => {\n  const raised = ref(props.mode === _VIEW || !!`${ props.value }`);\n  const focused = ref(false);\n  const blurred = ref<number | null>(null);\n\n  const requiredField = computed(() => {\n    return props.required || props.rules?.some((rule: any) => rule?.name === 'required');\n  });\n\n  const isView = computed(() => {\n    return props.mode === _VIEW;\n  });\n\n  const isDisabled = computed(() => {\n    return props.disabled || isView.value;\n  });\n\n  const validationMessage = computed(() => {\n    const requiredRule = props.rules.find((rule: any) => rule?.name === 'required') as Function;\n    const ruleMessages = [];\n    const value = props.value;\n\n    if (requiredRule && blurred.value && !focused.value) {\n      const message = requiredRule(value);\n\n      if (!!message) {\n        return message;\n      }\n    }\n\n    for (const rule of props.rules) {\n      const message = rule(value);\n\n      if (!!message && rule.name !== 'required') {\n        ruleMessages.push(message);\n      }\n    }\n\n    if (ruleMessages.length > 0 && (blurred.value || focused.value)) {\n      return ruleMessages.join(', ');\n    } else {\n      return undefined;\n    }\n  });\n\n  const onFocusLabeled = () => {\n    raised.value = true;\n    focused.value = true;\n  };\n\n  const onBlurLabeled = () => {\n    focused.value = false;\n\n    if (!props.value) {\n      raised.value = false;\n    }\n\n    blurred.value = Date.now();\n  };\n\n  return {\n    raised,\n    focused,\n    blurred,\n    onFocusLabeled,\n    onBlurLabeled,\n    isDisabled,\n    validationMessage,\n    requiredField\n  };\n};\n"]}]}