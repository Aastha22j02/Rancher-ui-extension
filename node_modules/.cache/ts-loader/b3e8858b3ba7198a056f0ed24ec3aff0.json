{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgc2hhbGxvd01vdW50LCBjcmVhdGVMb2NhbFZ1ZSB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQ2x1c3RlckNyZWF0ZSBmcm9tICdAc2hlbGwvZWRpdC9wcm92aXNpb25pbmcuY2F0dGxlLmlvLmNsdXN0ZXIvaW5kZXgudnVlJzsKZGVzY3JpYmUoJ2NvbXBvbmVudDogQ2x1c3RlcjogQ3JlYXRlJywgKCkgPT4gewogICAgaXQoJ3Nob3VsZCBoaWRlIFJLRTEgYW5kIFJLRTIgdG9nZ2xlIGJ1dHRvbiBpZiBSS0UxIHVpIGZlYXR1cmUgZmxhZyBpcyBOT1Qgc2V0JywgKCkgPT4gewogICAgICAgIGNvbnN0IGxvY2FsVnVlID0gY3JlYXRlTG9jYWxWdWUoKTsKICAgICAgICBsb2NhbFZ1ZS51c2UoVnVleCk7CiAgICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgICAgICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgICAgICAgIGkxOG46IHsKICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdDogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgICAgICB3aXRoRmFsbGJhY2s6ICgpID0+IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmVhdHVyZXM6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBqZXN0LmZuKCksCiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhGYWxsYmFjazogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwcmVmczogewogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZ2V0dGVyczogeyBnZXQ6IGplc3QuZm4oKSB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWFwRmVhdHVyZTogewogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZ2V0dGVyczogeyBnZXQ6IGplc3QuZm4oKSB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ3R5cGUtbWFwJzogewogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZ2V0dGVyczogeyBhY3RpdmVQcm9kdWN0czogKCkgPT4gW10gfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNhdGFsb2c6IHsKICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGdldHRlcnM6IHsgY2hhcnRzOiAoKSA9PiBbXSB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgICAgIGRlZmF1bHRDbHVzdGVySWQ6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgIGNsdXN0ZXJJZDogamVzdC5mbigpCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvd01vdW50KENsdXN0ZXJDcmVhdGUsIHsKICAgICAgICAgICAgY29tcHV0ZWQ6IHsgcmtlMVVpRW5hYmxlZDogKCkgPT4gZmFsc2UgfSwKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogeyBtZXRhZGF0YToge30sIHNwZWM6IHsgdGVtcGxhdGU6IHt9IH0gfSwKICAgICAgICAgICAgICAgIHJlYWxNb2RlOiAnJywKICAgICAgICAgICAgICAgIG1vZGU6ICdlZGl0JywKICAgICAgICAgICAgICAgIGNvbXBvbmVudFRlc3RpZDogJ2NsdXN0ZXItbWFuYWdlci1jcmVhdGUnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBtaXhpbnM6IFtdLAogICAgICAgICAgICBzdG9yZSwKICAgICAgICAgICAgbG9jYWxWdWUsCiAgICAgICAgICAgIG1vY2tzOiB7CiAgICAgICAgICAgICAgICAkcm91dGU6IHsgcGFyYW1zOiB7fSwgcXVlcnk6IHt9IH0sCiAgICAgICAgICAgICAgICAkcm91dGVyOiB7IGFwcGx5UXVlcnk6IGplc3QuZm4oKSB9LAogICAgICAgICAgICAgICAgJGZldGNoU3RhdGU6IHsgcGVuZGluZzogZmFsc2UgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R1YnM6IHsgQ3J1UmVzb3VyY2U6IHsgdGVtcGxhdGU6ICc8ZGl2PjxzbG90IG5hbWU9InN1YnR5cGVzIj48L3Nsb3Q+PC9kaXY+JyB9IH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCBlbGVtZW50ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9ImNsdXN0ZXItbWFuYWdlci1jcmVhdGUtcmtlLXN3aXRjaCJdJykuZWxlbWVudDsKICAgICAgICBleHBlY3QoZWxlbWVudCkubm90LnRvQmVEZWZpbmVkKCk7CiAgICB9KTsKfSk7Cg=="},{"version":3,"file":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts","sourceRoot":"","sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/index.test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AAC/D,OAAO,IAAI,MAAM,MAAM,CAAC;AACxB,OAAO,aAAa,MAAM,sDAAsD,CAAC;AAEjF,QAAQ,CAAC,4BAA4B,EAAE,GAAG,EAAE;IAC1C,EAAE,CAAC,4EAA4E,EAAE,GAAG,EAAE;QACpF,MAAM,QAAQ,GAAG,cAAc,EAAE,CAAC;QAElC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAEnB,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC;YAC3B,OAAO,EAAE;gBACP,IAAI,EAAE;oBACJ,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK;wBACV,CAAC,EAAa,IAAI,CAAC,EAAE,EAAE;wBACvB,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE;qBAC9B;iBACF;gBACD,QAAQ,EAAE;oBACR,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK;wBACV,GAAG,EAAW,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE;wBAC7B,YAAY,EAAE,IAAI,CAAC,EAAE,EAAE;qBACxB;iBACF;gBACD,KAAK,EAAE;oBACL,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE;iBAC/B;gBACD,UAAU,EAAE;oBACV,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE;iBAC/B;gBACD,UAAU,EAAE;oBACV,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK,EAAE,cAAc,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE;iBACzC;gBACD,OAAO,EAAE;oBACP,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAK,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE;iBACjC;aACF;YACD,OAAO,EAAE;gBACP,gBAAgB,EAAE,IAAI,CAAC,EAAE,EAAE;gBAC3B,SAAS,EAAS,IAAI,CAAC,EAAE,EAAE;aAC5B;SACF,CAAC,CAAC;QAEH,MAAM,OAAO,GAAG,YAAY,CAAC,aAAa,EAAE;YAC1C,QAAQ,EAAG,EAAE,aAAa,EAAE,GAAG,EAAE,CAAC,KAAK,EAAE;YACzC,SAAS,EAAE;gBACT,KAAK,EAAY,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE;gBACzD,QAAQ,EAAS,EAAE;gBACnB,IAAI,EAAa,MAAM;gBACvB,eAAe,EAAE,wBAAwB;aAC1C;YACD,MAAM,EAAE,EAAE;YACV,KAAK;YACL,QAAQ;YACR,KAAK,EAAG;gBACN,MAAM,EAAO,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;gBACtC,OAAO,EAAM,EAAE,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE;gBACtC,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;aAChC;YACD,KAAK,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,0CAA0C,EAAE,EAAE;SACjF,CAAC,CAAC;QAEH,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,mDAAmD,CAAC,CAAC,OAAO,CAAC;QAE1F,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { shallowMount, createLocalVue } from '@vue/test-utils';\nimport Vuex from 'vuex';\nimport ClusterCreate from '@shell/edit/provisioning.cattle.io.cluster/index.vue';\n\ndescribe('component: Cluster: Create', () => {\n  it('should hide RKE1 and RKE2 toggle button if RKE1 ui feature flag is NOT set', () => {\n    const localVue = createLocalVue();\n\n    localVue.use(Vuex);\n\n    const store = new Vuex.Store({\n      modules: {\n        i18n: {\n          namespaced: true,\n          getters:    {\n            t:            jest.fn(),\n            withFallback: () => jest.fn(),\n          }\n        },\n        features: {\n          namespaced: true,\n          getters:    {\n            get:          () => jest.fn(),\n            withFallback: jest.fn(),\n          }\n        },\n        prefs: {\n          namespaced: true,\n          getters:    { get: jest.fn() }\n        },\n        mapFeature: {\n          namespaced: true,\n          getters:    { get: jest.fn() }\n        },\n        'type-map': {\n          namespaced: true,\n          getters:    { activeProducts: () => [] }\n        },\n        catalog: {\n          namespaced: true,\n          getters:    { charts: () => [] }\n        }\n      },\n      getters: {\n        defaultClusterId: jest.fn(),\n        clusterId:        jest.fn()\n      }\n    });\n\n    const wrapper = shallowMount(ClusterCreate, {\n      computed:  { rke1UiEnabled: () => false },\n      propsData: {\n        value:           { metadata: {}, spec: { template: {} } },\n        realMode:        '',\n        mode:            'edit',\n        componentTestid: 'cluster-manager-create',\n      },\n      mixins: [],\n      store,\n      localVue,\n      mocks:  {\n        $route:      { params: {}, query: {} },\n        $router:     { applyQuery: jest.fn() },\n        $fetchState: { pending: false },\n      },\n      stubs: { CruResource: { template: '<div><slot name=\"subtypes\"></slot></div>' } }\n    });\n\n    const element = wrapper.find('[data-testid=\"cluster-manager-create-rke-switch\"]').element;\n\n    expect(element).not.toBeDefined();\n  });\n});\n"]}]}