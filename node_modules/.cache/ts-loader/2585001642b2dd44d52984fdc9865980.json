{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/rke2.test.ts","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/rke2.test.ts","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbW91bnQsIHNoYWxsb3dNb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBya2UyIGZyb20gJ0BzaGVsbC9lZGl0L3Byb3Zpc2lvbmluZy5jYXR0bGUuaW8uY2x1c3Rlci9ya2UyLnZ1ZSc7Ci8qKgogKiBESVNDTEFJTUVSICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBEZWNsYXJhdGlvbnMgc2hvdWxkIG5vdCBiZSBkb25lIG91dHNpZGUgdGhlIHRlc3RzISEKICogVGhpcyBjb21wb25lbnQgaXMgb3ZlcndoZWxtaW5nIGZvciB0ZXN0IGFuZCByZXF1aXJlcyB0b28gbXVjaCBpbml0aWFsaXphdGlvbi4KICogSW4gdGhpcyB3YXkgdGhlIHRlc3RzIGFyZSBtb3JlIHJlYWRhYmxlIGFuZCB3ZSBjYW4gYXZvaWQgYW5ub3lpbmcgcmVwZXRpdGlvbnMuCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqLwpjb25zdCBkZWZhdWx0U3R1YnMgPSB7CiAgICBDcnVSZXNvdXJjZTogeyB0ZW1wbGF0ZTogJzxkaXY+PHNsb3Q+PC9zbG90PjwvZGl2PicgfSwKICAgIEJhbm5lcjogdHJ1ZSwKICAgIExhYmVsZWRTZWxlY3Q6IHRydWUsCiAgICBBQ0U6IHRydWUsCiAgICBBZ2VudEVudjogdHJ1ZSwKICAgIEFnZW50Q29uZmlndXJhdGlvbjogdHJ1ZSwKICAgIEFycmF5TGlzdDogdHJ1ZSwKICAgIEFycmF5TGlzdEdyb3VwZWQ6IHRydWUsCiAgICBCYWRnZVN0YXRlOiB0cnVlLAogICAgQ2hlY2tib3g6IHRydWUsCiAgICBDbHVzdGVyTWVtYmVyc2hpcEVkaXRvcjogdHJ1ZSwKICAgIERyYWluT3B0aW9uczogdHJ1ZSwKICAgIExhYmVsZWRJbnB1dDogdHJ1ZSwKICAgIExhYmVsczogdHJ1ZSwKICAgIExvYWRpbmc6IHRydWUsCiAgICBNYWNoaW5lUG9vbDogdHJ1ZSwKICAgIE1hdGNoRXhwcmVzc2lvbnM6IHRydWUsCiAgICBOYW1lTnNEZXNjcmlwdGlvbjogdHJ1ZSwKICAgIFF1ZXN0aW9uczogdHJ1ZSwKICAgIFJhZGlvR3JvdXA6IHRydWUsCiAgICBSZWdpc3RyeUNvbmZpZ3M6IHRydWUsCiAgICBSZWdpc3RyeU1pcnJvcnM6IHRydWUsCiAgICBTM0NvbmZpZzogdHJ1ZSwKICAgIFNlbGVjdENyZWRlbnRpYWw6IHRydWUsCiAgICBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQ6IHRydWUsCiAgICBUYWI6IHRydWUsCiAgICBUYWJiZWQ6IHRydWUsCiAgICBVbml0SW5wdXQ6IHRydWUsCiAgICBZYW1sRWRpdG9yOiB0cnVlLAogICAgTWVtYmVyUm9sZXM6IHRydWUsCiAgICBCYXNpY3M6IHRydWUsCiAgICBFdGNkOiB0cnVlLAogICAgTmV0d29ya2luZzogdHJ1ZSwKICAgIFVwZ3JhZGU6IHRydWUsCiAgICBSZWdpc3RyaWVzOiB0cnVlLAogICAgQWRkT25Db25maWc6IHRydWUsCiAgICBBZHZhbmNlZDogdHJ1ZQp9Owpjb25zdCBtb2NrQWdlbnRBcmdzID0geyAnY2xvdWQtcHJvdmlkZXItbmFtZSc6IHsgb3B0aW9uczogW10sIHByb2ZpbGU6IHsgb3B0aW9uczogW3sgYW55dGhpbmc6ICd5ZXMnIH1dIH0gfSB9Owpjb25zdCBkZWZhdWx0Q29tcHV0ZWQgPSB7CiAgICBzaG93Rm9ybSgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICB2ZXJzaW9uT3B0aW9ucygpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogJ3YxLjI1LjArcmtlMnIxJywgdmFsdWU6ICd2MS4yNS4wK3JrZTJyMScsIHNlcnZlckFyZ3M6IHt9LCBhZ2VudEFyZ3M6IG1vY2tBZ2VudEFyZ3MsIGNoYXJ0czoge30KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6ICd2MS4yNC4wK3JrZTJyMScsIHZhbHVlOiAndjEuMjQuMCtya2UycjEnLCBzZXJ2ZXJBcmdzOiB7fSwgYWdlbnRBcmdzOiBtb2NrQWdlbnRBcmdzLCBjaGFydHM6IHt9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkOiAndjEuMjMuMCtya2UycjEnLCB2YWx1ZTogJ3YxLjIzLjArcmtlMnIxJywgc2VydmVyQXJnczoge30sIGFnZW50QXJnczogbW9ja0FnZW50QXJncywgY2hhcnRzOiB7fQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogJ3YxLjI1LjArazNzMScsIHZhbHVlOiAndjEuMjUuMCtrM3MxJywgc2VydmVyQXJnczoge30sIGFnZW50QXJnczogbW9ja0FnZW50QXJncywgY2hhcnRzOiB7fQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogJ3YxLjI0LjArazNzMScsIHZhbHVlOiAndjEuMjQuMCtrM3MxJywgc2VydmVyQXJnczoge30sIGFnZW50QXJnczogbW9ja0FnZW50QXJncywgY2hhcnRzOiB7fQogICAgICAgICAgICB9CiAgICAgICAgXTsKICAgIH0KfTsKY29uc3QgZGVmYXVsdEdldHRlcnMgPSB7CiAgICBjdXJyZW50U3RvcmU6ICgpID0+ICdjdXJyZW50X3N0b3JlJywKICAgICdtYW5hZ2VtZW50L3NjaGVtYUZvcic6IGplc3QuZm4oKSwKICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICdpMThuL3QnOiBqZXN0LmZuKCksCiAgICAnaTE4bi93aXRoRmFsbGJhY2snOiBqZXN0LmZuKCksCiAgICAncGx1Z2lucy9jbG91ZFByb3ZpZGVyRm9yRHJpdmVyJzogamVzdC5mbigpCn07CmNvbnN0IGRlZmF1bHRNb2NrcyA9IHsKICAgICRmZXRjaFN0YXRlOiB7IHBlbmRpbmc6IGZhbHNlIH0sCiAgICAkcm91dGU6IHsKICAgICAgICBuYW1lOiAnYW55dGhpbmcnLAogICAgICAgIHF1ZXJ5OiB7IEFTOiAneWFtbCcgfSwKICAgIH0sCn07CmNvbnN0IGRlZmF1bHRTcGVjID0gewogICAgcmtlQ29uZmlnOiB7IGV0Y2Q6IHsgZGlzYWJsZVNuYXBzaG90czogZmFsc2UgfSB9LAogICAgY2hhcnRWYWx1ZXM6IHt9LAp9OwpkZXNjcmliZSgnY29tcG9uZW50OiBya2UyJywgKCkgPT4gewogICAgLyoqCiAgICAgKiBESVNDTEFJTUVSICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICogTG9ncyBhcmUgcHJldmVudGVkIHRvIGF2b2lkIHBvbGx1dGluZyB0aGUgdGVzdCBvdXRwdXQuCiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgKi8KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqZXN0L25vLWhvb2tzCiAgICBiZWZvcmVFYWNoKCgpID0+IHsKICAgICAgICBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4geyB9KTsKICAgIH0pOwogICAgaXQuZWFjaChbCiAgICAgICAgWydjdXN0b20nLCB0cnVlXSwKICAgICAgICBbJ2FueXRoaW5nIGVsc2UnLCBmYWxzZV0gLy8gd2l0aG91dCBwcm9wZXIgZGF0YSwgbWFjaGluZSBwb29sIGlzIGFsd2F5cyBub3QgcHJlc2VudAogICAgXSkoJ3Nob3VsZCBhbGxvdyBjcmVhdGlvbiBvZiBSS0UyIGNsdXN0ZXIgd2l0aCBwcm92aWRlciAlcCBpZiBwb29sIG1hY2hpbmVzIGFyZSBtaXNzaW5nICglcCknLCAocHJvdmlkZXIsIHJlc3VsdCkgPT4gewogICAgICAgIGNvbnN0IGs4cyA9ICd2MS4yNS4wK3JrZTJyMSc7CiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KHJrZTIsIHsKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgICBtb2RlOiAnY3JlYXRlJywKICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgICAgc3BlYzogewogICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0U3BlYywKICAgICAgICAgICAgICAgICAgICAgICAga3ViZXJuZXRlc1ZlcnNpb246IGs4cywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGFnZW50Q29uZmlnOiB7ICdjbG91ZC1wcm92aWRlci1uYW1lJzogJ2FueScgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkVmVyc2lvbjogeyBhZ2VudEFyZ3M6IG1vY2tBZ2VudEFyZ3MgfSwKICAgICAgICAgICAgICAgIHByb3ZpZGVyLAogICAgICAgICAgICB9LAogICAgICAgICAgICBjb21wdXRlZDogZGVmYXVsdENvbXB1dGVkLAogICAgICAgICAgICBtb2NrczogewogICAgICAgICAgICAgICAgLi4uZGVmYXVsdE1vY2tzLAogICAgICAgICAgICAgICAgJHN0b3JlOiB7IGdldHRlcnM6IGRlZmF1bHRHZXR0ZXJzIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0dWJzOiBkZWZhdWx0U3R1YnMKICAgICAgICB9KTsKICAgICAgICBleHBlY3Qod3JhcHBlci52bS52YWxpZGF0aW9uUGFzc2VkKS50b0JlKHJlc3VsdCk7CiAgICB9KTsKICAgIGl0KCdzaG91bGQgYWxsb3cgY3JlYXRpb24gb2YgSzMgY2x1c3RlcnMgaWYgcG9vbCBtYWNoaW5lcyBhcmUgbWlzc2luZycsICgpID0+IHsKICAgICAgICBjb25zdCBrOHMgPSAndjEuMjUuMCtrM3MxJzsKICAgICAgICBjb25zdCB3cmFwcGVyID0gbW91bnQocmtlMiwgewogICAgICAgICAgICBwcm9wc0RhdGE6IHsKICAgICAgICAgICAgICAgIG1vZGU6ICdjcmVhdGUnLAogICAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgICAgICBzcGVjOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRTcGVjLAogICAgICAgICAgICAgICAgICAgICAgICBrdWJlcm5ldGVzVmVyc2lvbjogazhzCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBhZ2VudENvbmZpZzogeyAnY2xvdWQtcHJvdmlkZXItbmFtZSc6ICdhbnknIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwcm92aWRlcjogJ2N1c3RvbScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogKCkgPT4gKHsgY3JlZGVudGlhbElkOiAnSSBhbSBhdXRoZW50aWNhdGVkJyB9KSwKICAgICAgICAgICAgY29tcHV0ZWQ6IGRlZmF1bHRDb21wdXRlZCwKICAgICAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRNb2NrcywKICAgICAgICAgICAgICAgICRzdG9yZTogeyBnZXR0ZXJzOiBkZWZhdWx0R2V0dGVycyB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHViczogZGVmYXVsdFN0dWJzCiAgICAgICAgfSk7CiAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0udmFsaWRhdGlvblBhc3NlZCkudG9CZSh0cnVlKTsKICAgIH0pOwogICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIG1hY2hpbmUgcG9vbHMgd2l0aCBkcmFpbiBiZWZvcmUgZGVsZXRlIHRydWUnLCBhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgazhzID0gJ3YxLjI1LjArazNzMSc7CiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KHJrZTIsIHsKICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgICBtb2RlOiAnY3JlYXRlJywKICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgICAgc3BlYzogewogICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0U3BlYywKICAgICAgICAgICAgICAgICAgICAgICAga3ViZXJuZXRlc1ZlcnNpb246IGs4cwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYWdlbnRDb25maWc6IHsgJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnOiAnYW55JyB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcHJvdmlkZXI6ICdjdXN0b20nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6ICgpID0+ICh7IGNyZWRlbnRpYWxJZDogJ0kgYW0gYXV0aGVudGljYXRlZCcgfSksCiAgICAgICAgICAgIGNvbXB1dGVkOiBkZWZhdWx0Q29tcHV0ZWQsCiAgICAgICAgICAgIG1vY2tzOiB7CiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0TW9ja3MsCiAgICAgICAgICAgICAgICAkc3RvcmU6IHsgZ2V0dGVyczogZGVmYXVsdEdldHRlcnMgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R1YnM6IGRlZmF1bHRTdHVicwogICAgICAgIH0pOwogICAgICAgIGF3YWl0IHdyYXBwZXIudm0uaW5pdFNwZWNzKCk7CiAgICAgICAgd3JhcHBlci52bS5tYWNoaW5lUG9vbHMuZm9yRWFjaCgocCkgPT4gZXhwZWN0KHAuZHJhaW5CZWZvcmVEZWxldGUpLnRvQmUodHJ1ZSkpOwogICAgfSk7CiAgICAvLyBUT0RPOiBDb21wbGV0ZSB0ZXN0IGFmdGVyIGltcGxlbWVudGluZyBmZXRjaCBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvaXNzdWVzLzkzMjIKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqZXN0L25vLWRpc2FibGVkLXRlc3RzCiAgICBkZXNjcmliZS5za2lwKCdzaG91bGQgaW5pdGlhbGl6ZSBhZ2VudCBjb25maWd1cmF0aW9uIHZhbHVlcycsICgpID0+IHsKICAgICAgICBpdCgnYWRkaW5nIGRlZmF1bHQgdmFsdWVzIGlmIG5vbmUnLCBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93TW91bnQocmtlMiwgewogICAgICAgICAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2NyZWF0ZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3BlYzogeyAuLi5kZWZhdWx0U3BlYyB9LAogICAgICAgICAgICAgICAgICAgICAgICBhZ2VudENvbmZpZzogeyAnY2xvdWQtcHJvdmlkZXItbmFtZSc6ICdhbnknIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiAnY3VzdG9tJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvbXB1dGVkOiBkZWZhdWx0Q29tcHV0ZWQsCiAgICAgICAgICAgICAgICBtb2NrczogewogICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRNb2NrcywKICAgICAgICAgICAgICAgICAgICAkc3RvcmU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyczogZGVmYXVsdEdldHRlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFuYWdlbWVudC9yZXF1ZXN0JzogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hbmFnZW1lbnQvZmluZCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYW5hZ2VtZW50L2ZpbmRBbGwnOiAoKSA9PiAoW10pLAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdHViczogZGVmYXVsdFN0dWJzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zdCBkZWZhdWx0QWdlbnRDb25maWcgPSB7CiAgICAgICAgICAgICAgICBjbHVzdGVyQWdlbnREZXBsb3ltZW50Q3VzdG9taXphdGlvbjogewogICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlQWZmaW5pdHk6IHt9LAogICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvbGVyYXRpb25zOiBbXSwKICAgICAgICAgICAgICAgICAgICBvdmVycmlkZVJlc291cmNlUmVxdWlyZW1lbnRzOiB7fQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZsZWV0QWdlbnREZXBsb3ltZW50Q3VzdG9taXphdGlvbjogewogICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlQWZmaW5pdHk6IHt9LAogICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvbGVyYXRpb25zOiBbXSwKICAgICAgICAgICAgICAgICAgICBvdmVycmlkZVJlc291cmNlUmVxdWlyZW1lbnRzOiB7fQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyBTZXR0aW5nIFJLRSB0byBhdm9pZCBjYWxscwogICAgICAgICAgICB3cmFwcGVyLnNldERhdGEoeyBya2UyVmVyc2lvbnM6IFtdIH0pOwogICAgICAgICAgICAvLyBhd2FpdCBya2UyLmZldGNoLmNhbGwod3JhcHBlci52bSk7CiAgICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnByb3BzKCkudmFsdWUuc3BlYykudG9Db250YWluKGRlZmF1bHRBZ2VudENvbmZpZyk7CiAgICAgICAgfSk7CiAgICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGFnZW50IGNvbmZpZ3VyYXRpb24gdGFiJywgYXN5bmMgKCkgPT4gewogICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvd01vdW50KHJrZTIsIHsKICAgICAgICAgICAgICAgIHByb3BzRGF0YTogewogICAgICAgICAgICAgICAgICAgIG1vZGU6ICdjcmVhdGUnLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWM6IHsgLi4uZGVmYXVsdFNwZWMgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRDb25maWc6IHsgJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnOiAnYW55JyB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogJ2N1c3RvbScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjb21wdXRlZDogZGVmYXVsdENvbXB1dGVkLAogICAgICAgICAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0TW9ja3MsCiAgICAgICAgICAgICAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnM6IGRlZmF1bHRHZXR0ZXJzLAogICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hbmFnZW1lbnQvcmVxdWVzdCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYW5hZ2VtZW50L2ZpbmQnOiBqZXN0LmZuKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFuYWdlbWVudC9maW5kQWxsJzogKCkgPT4gKFtdKSwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3R1YnM6IGRlZmF1bHRTdHVicwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3QgYWdlbnQgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0icmtlMi1jbHVzdGVyLWFnZW50LWNvbmZpZyJdJyk7CiAgICAgICAgICAgIC8vIFNldHRpbmcgUktFIHRvIGF2b2lkIGNhbGxzCiAgICAgICAgICAgIHdyYXBwZXIuc2V0RGF0YSh7IHJrZTJWZXJzaW9uczogW10gfSk7CiAgICAgICAgICAgIGF3YWl0IHJrZTIuZmV0Y2guY2FsbCh3cmFwcGVyLnZtKTsKICAgICAgICAgICAgZXhwZWN0KGFnZW50LmVsZW1lbnQpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSk7CiAgICB9KTsKfSk7Cg=="},{"version":3,"file":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/rke2.test.ts","sourceRoot":"","sources":["/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/rke2.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { mount, shallowMount } from '@vue/test-utils';\nimport rke2 from '@shell/edit/provisioning.cattle.io.cluster/rke2.vue';\n\n/**\n * DISCLAIMER ***************************************************************************************\n * Declarations should not be done outside the tests!!\n * This component is overwhelming for test and requires too much initialization.\n * In this way the tests are more readable and we can avoid annoying repetitions.\n ****************************************************************************************************\n */\nconst defaultStubs = {\n  CruResource:              { template: '<div><slot></slot></div>' }, // Required to render the slot content\n  Banner:                   true,\n  LabeledSelect:            true,\n  ACE:                      true,\n  AgentEnv:                 true,\n  AgentConfiguration:       true,\n  ArrayList:                true,\n  ArrayListGrouped:         true,\n  BadgeState:               true,\n  Checkbox:                 true,\n  ClusterMembershipEditor:  true,\n  DrainOptions:             true,\n  LabeledInput:             true,\n  Labels:                   true,\n  Loading:                  true,\n  MachinePool:              true,\n  MatchExpressions:         true,\n  NameNsDescription:        true,\n  Questions:                true,\n  RadioGroup:               true,\n  RegistryConfigs:          true,\n  RegistryMirrors:          true,\n  S3Config:                 true,\n  SelectCredential:         true,\n  SelectOrCreateAuthSecret: true,\n  Tab:                      true,\n  Tabbed:                   true,\n  UnitInput:                true,\n  YamlEditor:               true,\n  MemberRoles:              true,\n  Basics:                   true,\n  Etcd:                     true,\n  Networking:               true,\n  Upgrade:                  true,\n  Registries:               true,\n  AddOnConfig:              true,\n  Advanced:                 true\n};\n\nconst mockAgentArgs = { 'cloud-provider-name': { options: [], profile: { options: [{ anything: 'yes' }] } } };\n\nconst defaultComputed = {\n  showForm() {\n    return true;\n  },\n  versionOptions() {\n    return [\n      {\n        id: 'v1.25.0+rke2r1', value: 'v1.25.0+rke2r1', serverArgs: {}, agentArgs: mockAgentArgs, charts: {}\n      },\n      {\n        id: 'v1.24.0+rke2r1', value: 'v1.24.0+rke2r1', serverArgs: {}, agentArgs: mockAgentArgs, charts: {}\n      },\n      {\n        id: 'v1.23.0+rke2r1', value: 'v1.23.0+rke2r1', serverArgs: {}, agentArgs: mockAgentArgs, charts: {}\n      },\n      {\n        id: 'v1.25.0+k3s1', value: 'v1.25.0+k3s1', serverArgs: {}, agentArgs: mockAgentArgs, charts: {}\n      },\n      {\n        id: 'v1.24.0+k3s1', value: 'v1.24.0+k3s1', serverArgs: {}, agentArgs: mockAgentArgs, charts: {}\n      }\n    ];\n  }\n};\n\nconst defaultGetters = {\n  currentStore:                     () => 'current_store',\n  'management/schemaFor':           jest.fn(),\n  'current_store/all':              jest.fn(),\n  'i18n/t':                         jest.fn(),\n  'i18n/withFallback':              jest.fn(),\n  'plugins/cloudProviderForDriver': jest.fn()\n};\n\nconst defaultMocks = {\n  $fetchState: { pending: false },\n  $route:      {\n    name:  'anything',\n    query: { AS: 'yaml' },\n  },\n};\n\nconst defaultSpec = {\n  rkeConfig:   { etcd: { disableSnapshots: false } },\n  chartValues: {},\n};\n\ndescribe('component: rke2', () => {\n  /**\n   * DISCLAIMER ***************************************************************************************\n   * Logs are prevented to avoid polluting the test output.\n   ****************************************************************************************************\n  */\n  // eslint-disable-next-line jest/no-hooks\n  beforeEach(() => {\n    jest.spyOn(console, 'log').mockImplementation(() => { });\n  });\n\n  it.each([\n    ['custom', true],\n    ['anything else', false] // without proper data, machine pool is always not present\n  ])('should allow creation of RKE2 cluster with provider %p if pool machines are missing (%p)', (provider, result) => {\n    const k8s = 'v1.25.0+rke2r1';\n    const wrapper = mount(rke2, {\n      propsData: {\n        mode:  'create',\n        value: {\n          spec: {\n            ...defaultSpec,\n            kubernetesVersion: k8s,\n\n          },\n          agentConfig: { 'cloud-provider-name': 'any' }\n        },\n        selectedVersion: { agentArgs: mockAgentArgs },\n        provider,\n      },\n      computed: defaultComputed,\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    expect((wrapper.vm as any).validationPassed).toBe(result);\n  });\n\n  it('should allow creation of K3 clusters if pool machines are missing', () => {\n    const k8s = 'v1.25.0+k3s1';\n    const wrapper = mount(rke2, {\n      propsData: {\n        mode:  'create',\n        value: {\n          spec: {\n            ...defaultSpec,\n            kubernetesVersion: k8s\n          },\n          agentConfig: { 'cloud-provider-name': 'any' }\n        },\n        provider: 'custom'\n      },\n      data:     () => ({ credentialId: 'I am authenticated' }),\n      computed: defaultComputed,\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    expect((wrapper.vm as any).validationPassed).toBe(true);\n  });\n\n  it('should initialize machine pools with drain before delete true', async() => {\n    const k8s = 'v1.25.0+k3s1';\n    const wrapper = mount(rke2, {\n      propsData: {\n        mode:  'create',\n        value: {\n          spec: {\n            ...defaultSpec,\n            kubernetesVersion: k8s\n          },\n          agentConfig: { 'cloud-provider-name': 'any' }\n        },\n        provider: 'custom'\n      },\n      data:     () => ({ credentialId: 'I am authenticated' }),\n      computed: defaultComputed,\n      mocks:    {\n        ...defaultMocks,\n        $store: { getters: defaultGetters },\n      },\n      stubs: defaultStubs\n    });\n\n    await wrapper.vm.initSpecs();\n\n    wrapper.vm.machinePools.forEach((p: any) => expect(p.drainBeforeDelete).toBe(true));\n  });\n\n  // TODO: Complete test after implementing fetch https://github.com/rancher/dashboard/issues/9322\n  // eslint-disable-next-line jest/no-disabled-tests\n  describe.skip('should initialize agent configuration values', () => {\n    it('adding default values if none', async() => {\n      const wrapper = shallowMount(rke2, {\n        propsData: {\n          mode:  'create',\n          value: {\n            spec:        { ...defaultSpec },\n            agentConfig: { 'cloud-provider-name': 'any' }\n          },\n          provider: 'custom'\n        },\n        computed: defaultComputed,\n        mocks:    {\n          ...defaultMocks,\n          $store: {\n            getters:  defaultGetters,\n            dispatch: {\n              'management/request': jest.fn(),\n              'management/find':    jest.fn(),\n              'management/findAll': () => ([]),\n            }\n          },\n        },\n        stubs: defaultStubs\n      });\n      const defaultAgentConfig = {\n        clusterAgentDeploymentCustomization: {\n          overrideAffinity:             {},\n          appendTolerations:            [],\n          overrideResourceRequirements: {}\n        },\n        fleetAgentDeploymentCustomization: {\n          overrideAffinity:             {},\n          appendTolerations:            [],\n          overrideResourceRequirements: {}\n        }\n      };\n\n      // Setting RKE to avoid calls\n      wrapper.setData({ rke2Versions: [] });\n\n      // await rke2.fetch.call(wrapper.vm);\n\n      expect(wrapper.props().value.spec).toContain(defaultAgentConfig);\n    });\n\n    it('should display agent configuration tab', async() => {\n      const wrapper = shallowMount(rke2, {\n        propsData: {\n          mode:  'create',\n          value: {\n            spec:        { ...defaultSpec },\n            agentConfig: { 'cloud-provider-name': 'any' }\n          },\n          provider: 'custom'\n        },\n        computed: defaultComputed,\n        mocks:    {\n          ...defaultMocks,\n          $store: {\n            getters:  defaultGetters,\n            dispatch: {\n              'management/request': jest.fn(),\n              'management/find':    jest.fn(),\n              'management/findAll': () => ([]),\n            }\n          },\n        },\n        stubs: defaultStubs\n      });\n      const agent = wrapper.find('[data-testid=\"rke2-cluster-agent-config\"]');\n\n      // Setting RKE to avoid calls\n      wrapper.setData({ rke2Versions: [] });\n\n      await rke2.fetch.call(wrapper.vm);\n\n      expect(agent.element).toBeDefined();\n    });\n  });\n});\n"]}]}