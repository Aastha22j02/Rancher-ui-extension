{"remainingRequest":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZHJvcEtleXMgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IGpzeWFtbCBmcm9tICdqcy15YW1sJzsKZXhwb3J0IGZ1bmN0aW9uIHN0ZXZlQ2xlYW5Gb3JEb3dubG9hZCh5YW1sLCBrZXlzKSB7CiAgICB2YXIgX2E7CiAgICBpZiAoIXlhbWwpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCB7IHJvb3RLZXlzID0gWwogICAgICAgICdpZCcsCiAgICAgICAgJ2xpbmtzJywKICAgICAgICAndHlwZScsCiAgICAgICAgJ2FjdGlvbnMnCiAgICBdLCBtZXRhZGF0YUtleXMgPSBbCiAgICAgICAgJ2ZpZWxkcycsCiAgICAgICAgJ3JlbGF0aW9uc2hpcHMnLAogICAgICAgICdzdGF0ZScsCiAgICBdLCBjb25kaXRpb25LZXlzID0gWwogICAgICAgICdlcnJvcicsCiAgICAgICAgJ3RyYW5zaXRpb25pbmcnLAogICAgXSB9ID0ga2V5cyB8fCB7fTsKICAgIGNvbnN0IG9iaiA9IGpzeWFtbC5sb2FkKHlhbWwpOwogICAgZHJvcEtleXMob2JqLCByb290S2V5cyk7CiAgICBkcm9wS2V5cyhvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoubWV0YWRhdGEsIG1ldGFkYXRhS2V5cyk7CiAgICAoKChfYSA9IG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5zdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25kaXRpb25zKSB8fCBbXSkuZm9yRWFjaCgoY29uZGl0aW9uKSA9PiBkcm9wS2V5cyhjb25kaXRpb24sIGNvbmRpdGlvbktleXMpKTsKICAgIHJldHVybiBqc3lhbWwuZHVtcChvYmopOwp9Cg=="},{"version":3,"file":"/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts","sourceRoot":"","sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/plugins/steve/resource-utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAC;AAC/C,OAAO,MAAM,MAAM,SAAS,CAAC;AAE7B,MAAM,UAAU,qBAAqB,CAAC,IAAY,EAAE,IAIlD;;IACA,IAAI,CAAC,IAAI,EAAE;QACT,OAAO;KACR;IAED,MAAM,EACJ,QAAQ,GAAG;QACT,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;KACV,EACD,YAAY,GAAG;QACb,QAAQ;QACR,eAAe;QACf,OAAO;KACR,EACD,aAAa,GAAG;QACd,OAAO;QACP,eAAe;KAChB,EACF,GAAG,IAAI,IAAI,EAAE,CAAC;IAEf,MAAM,GAAG,GAAQ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAEnC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACxB,QAAQ,CAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;IACtC,CAAC,CAAA,MAAA,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,MAAM,0CAAE,UAAU,KAAI,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAc,EAAE,EAAE,CAAC,QAAQ,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;IAEhG,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1B,CAAC","sourcesContent":["import { dropKeys } from '@shell/utils/object';\nimport jsyaml from 'js-yaml';\n\nexport function steveCleanForDownload(yaml: string, keys?: {\n  rootKeys?: string[],\n  metadataKeys?: string[],\n  conditionKeys?: string[]\n }): string | undefined {\n  if (!yaml) {\n    return;\n  }\n\n  const {\n    rootKeys = [\n      'id',\n      'links',\n      'type',\n      'actions'\n    ],\n    metadataKeys = [\n      'fields',\n      'relationships',\n      'state',\n    ],\n    conditionKeys = [\n      'error',\n      'transitioning',\n    ]\n  } = keys || {};\n\n  const obj: any = jsyaml.load(yaml);\n\n  dropKeys(obj, rootKeys);\n  dropKeys(obj?.metadata, metadataKeys);\n  (obj?.status?.conditions || []).forEach((condition: any) => dropKeys(condition, conditionKeys));\n\n  return jsyaml.dump(obj);\n}\n"]}]}