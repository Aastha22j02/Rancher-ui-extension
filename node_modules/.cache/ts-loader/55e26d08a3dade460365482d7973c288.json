{"remainingRequest":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js??ref--17-1!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Advanced.test.ts","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Advanced.test.ts","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/ts-loader/index.js","mtime":1725271299135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgamVzdC9uby1ob29rcyAqLwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBBZHZhbmNlZCBmcm9tICdAc2hlbGwvZWRpdC9wcm92aXNpb25pbmcuY2F0dGxlLmlvLmNsdXN0ZXIvdGFicy9BZHZhbmNlZC52dWUnOwppbXBvcnQgeyBfRURJVCwgX1lBTUwsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBjbG9uZSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBQUk9WX0NMVVNURVIsIFZFUlNJT05fQ0xVU1RFUiB9IGZyb20gJ0BzaGVsbC9lZGl0L3Byb3Zpc2lvbmluZy5jYXR0bGUuaW8uY2x1c3Rlci9fX3Rlc3RzX18vdXRpbHMvY2x1c3Rlcic7CmRlc2NyaWJlKCdjb21wb25lbnQ6IEFkdmFuY2VkJywgKCkgPT4gewogICAgbGV0IHdyYXBwZXI7CiAgICBjb25zdCBtb3VudE9wdGlvbnMgPSB7CiAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICAgIHZhbHVlOiB7fSwKICAgICAgICAgICAgbW9kZTogX1ZJRVcsCiAgICAgICAgICAgIGhhdmVBcmdJbmZvOiB0cnVlLAogICAgICAgICAgICBzZWxlY3RlZFZlcnNpb246IFZFUlNJT05fQ0xVU1RFUgogICAgICAgIH0sCiAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0b3JlOiAoKSA9PiAnY3VycmVudF9zdG9yZScsCiAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRfc3RvcmUvc2NoZW1hRm9yJzogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgICAgICAnaTE4bi90JzogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgICdpMThuL2V4aXN0cyc6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJHJvdXRlOiB7IHF1ZXJ5OiB7IEFTOiBfWUFNTCB9IH0sCiAgICAgICAgICAgICRyb3V0ZXI6IHsgYXBwbHlRdWVyeTogamVzdC5mbigpIH0sCiAgICAgICAgfQogICAgfTsKICAgIGRlc2NyaWJlKCdjbHVzdGVyIGNvbmZpZ3VyYXRpb25zJywgKCkgPT4gewogICAgICAgIGl0KGBzaG91bGQgc3VwcG9ydCBlbXB0eSBtYWNoaW5lU2VsZWN0b3JDb25maWdgLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2xvbmUoUFJPVl9DTFVTVEVSKTsKICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZVNlbGVjdG9yQ29uZmlnID0gW107CiAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgd3JhcHBlciA9IG1vdW50KEFkdmFuY2VkLCBtb3VudE9wdGlvbnMpOwogICAgICAgICAgICBjb25zdCBpbnB1dEVsZW0gPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iYXJyYXktbGlzdC1ib3gwIl0nKS5lbGVtZW50OwogICAgICAgICAgICBleHBlY3QoaW5wdXRFbGVtKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgfSk7CiAgICAgICAgaXQoYHNob3VsZCBzdXBwb3J0IHVuZGVmaW5lZCBtYWNoaW5lU2VsZWN0b3JDb25maWcuY29uZmlnYCwgKCkgPT4gewogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lKFBST1ZfQ0xVU1RFUik7CiAgICAgICAgICAgIHZhbHVlLnNwZWMucmtlQ29uZmlnLm1hY2hpbmVTZWxlY3RvckNvbmZpZ1swXS5jb25maWcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgd3JhcHBlciA9IG1vdW50KEFkdmFuY2VkLCBtb3VudE9wdGlvbnMpOwogICAgICAgICAgICBjb25zdCBpbnB1dEVsZW0gPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iYXJyYXktbGlzdC1ib3gwIl0nKS5lbGVtZW50OwogICAgICAgICAgICBleHBlY3QoaW5wdXRFbGVtLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ+KAlCcpOwogICAgICAgIH0pOwogICAgICAgIGRlc2NyaWJlKGAncHJvdGVjdC1rZXJuZWwtZGVmYXVsdHMnYCwgKCkgPT4gewogICAgICAgICAgICBpdChgc2hvdWxkIHNob3cgdmFsdWUgZnJvbSBtYWNoaW5lR2xvYmFsQ29uZmlnYCwgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjbG9uZShQUk9WX0NMVVNURVIpOwogICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZ1sncHJvdGVjdC1rZXJuZWwtZGVmYXVsdHMnXSA9IHRydWU7CiAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lU2VsZWN0b3JDb25maWcgPSBbewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBtYWNoaW5lTGFiZWxTZWxlY3RvcjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hFeHByZXNzaW9uczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm9vJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6ICdJbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogWydiYXInXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoTGFiZWxzOiB7IGZvbzE6ICdiYXIxJyB9LAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBtb3VudE9wdGlvbnMucHJvcHNEYXRhLm1vZGUgPSBfVklFVzsKICAgICAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChBZHZhbmNlZCwgbW91bnRPcHRpb25zKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9InByb3RlY3Qta2VybmVsLWRlZmF1bHRzIl0nKS5maW5kKCdbdHlwZT0iY2hlY2tib3giXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBleHBlY3QoY2hlY2tib3gudmFsdWUpLnRvQmUoJ3RydWUnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGl0KGBzaG91bGQgc2hvdyB2YWx1ZSBmcm9tIG1hY2hpbmVTZWxlY3RvckNvbmZpZy5jb25maWdgLCAoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lKFBST1ZfQ0xVU1RFUik7CiAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lR2xvYmFsQ29uZmlnWydwcm90ZWN0LWtlcm5lbC1kZWZhdWx0cyddID0gZmFsc2U7CiAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lU2VsZWN0b3JDb25maWcgPSBbewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBtYWNoaW5lTGFiZWxTZWxlY3RvcjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7ICdwcm90ZWN0LWtlcm5lbC1kZWZhdWx0cyc6IHRydWUgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRXhwcmVzc2lvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2ZvbycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiAnSW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFsnYmFyJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaExhYmVsczogeyBmb28xOiAnYmFyMScgfSwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgbW91bnRPcHRpb25zLnByb3BzRGF0YS5tb2RlID0gX1ZJRVc7CiAgICAgICAgICAgICAgICBtb3VudE9wdGlvbnMucHJvcHNEYXRhLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICB3cmFwcGVyID0gbW91bnQoQWR2YW5jZWQsIG1vdW50T3B0aW9ucyk7CiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJwcm90ZWN0LWtlcm5lbC1kZWZhdWx0cyJdJykuZmluZCgnW3R5cGU9ImNoZWNrYm94Il0nKS5lbGVtZW50OwogICAgICAgICAgICAgICAgZXhwZWN0KGNoZWNrYm94LnZhbHVlKS50b0JlKCd0cnVlJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGRlc2NyaWJlKGAna3ViZWxldC1hcmcnYCwgKCkgPT4gewogICAgICAgICAgICBkZXNjcmliZS5lYWNoKFsKICAgICAgICAgICAgICAgIF9WSUVXLAogICAgICAgICAgICAgICAgX0VESVQKICAgICAgICAgICAgXSkoYG1vZGU6ICVzYCwgKG1vZGUpID0+IHsKICAgICAgICAgICAgICAgIGl0KGBzaG91bGQgc2hvdyB2YWx1ZSBmcm9tIG1hY2hpbmVTZWxlY3RvckNvbmZpZyBvbmx5YCwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2xvbmUoUFJPVl9DTFVTVEVSKTsKICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lU2VsZWN0b3JDb25maWdbMF0uY29uZmlnWydrdWJlbGV0LWFyZyddID0gWydjb25maWctZnJvbS1tYWNoaW5lU2VsZWN0b3JDb25maWcnXTsKICAgICAgICAgICAgICAgICAgICBtb3VudE9wdGlvbnMucHJvcHNEYXRhLm1vZGUgPSBtb2RlOwogICAgICAgICAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB3cmFwcGVyID0gbW91bnQoQWR2YW5jZWQsIG1vdW50T3B0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ29udGFpbmVyID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9Imdsb2JhbC1rdWJlbGV0LWFyZyJdJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JDb250YWluZXIgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0ic2VsZWN0b3Ita3ViZWxldC1hcmciXScpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbElucHV0RWxlbSA9IGdsb2JhbENvbnRhaW5lci5lbGVtZW50OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9ySW5wdXRFbGVtID0gc2VsZWN0b3JDb250YWluZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJpbnB1dC0wIl0nKS5lbGVtZW50OwogICAgICAgICAgICAgICAgICAgIGV4cGVjdChnbG9iYWxJbnB1dEVsZW0pLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JJbnB1dEVsZW0udmFsdWUpLnRvQ29udGFpbignY29uZmlnLWZyb20tbWFjaGluZVNlbGVjdG9yQ29uZmlnJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGl0KGBzaG91bGQgc2hvdyB2YWx1ZSBmcm9tIG1hY2hpbmVHbG9iYWxDb25maWcgb25seWAsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lKFBST1ZfQ0xVU1RFUik7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZ1sna3ViZWxldC1hcmcnXSA9IFsnY29uZmlnLWZyb20tbWFjaGluZUdsb2JhbENvbmZpZyddOwogICAgICAgICAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEubW9kZSA9IG1vZGU7CiAgICAgICAgICAgICAgICAgICAgbW91bnRPcHRpb25zLnByb3BzRGF0YS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChBZHZhbmNlZCwgbW91bnRPcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb250YWluZXIgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iZ2xvYmFsLWt1YmVsZXQtYXJnIl0nKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvckNvbnRhaW5lciA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJzZWxlY3Rvci1rdWJlbGV0LWFyZyJdJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JJbnB1dEVsZW0gPSBzZWxlY3RvckNvbnRhaW5lci5lbGVtZW50OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbElucHV0RWxlbSA9IGdsb2JhbENvbnRhaW5lci5maW5kKCdbZGF0YS10ZXN0aWQ9ImlucHV0LTAiXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ySW5wdXRFbGVtKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGdsb2JhbElucHV0RWxlbS52YWx1ZSkudG9Db250YWluKCdjb25maWctZnJvbS1tYWNoaW5lR2xvYmFsQ29uZmlnJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGl0KGBzaG91bGQgc2hvdyB2YWx1ZSBmcm9tIG1hY2hpbmVHbG9iYWxDb25maWcgYW5kIG1hY2hpbmVTZWxlY3RvckNvbmZpZ2AsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lKFBST1ZfQ0xVU1RFUik7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZVNlbGVjdG9yQ29uZmlnWzBdLmNvbmZpZ1sna3ViZWxldC1hcmcnXSA9IFsnY29uZmlnLWZyb20tbWFjaGluZVNlbGVjdG9yQ29uZmlnJ107CiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZ1sna3ViZWxldC1hcmcnXSA9IFsnY29uZmlnLWZyb20tbWFjaGluZUdsb2JhbENvbmZpZyddOwogICAgICAgICAgICAgICAgICAgIG1vdW50T3B0aW9ucy5wcm9wc0RhdGEubW9kZSA9IG1vZGU7CiAgICAgICAgICAgICAgICAgICAgbW91bnRPcHRpb25zLnByb3BzRGF0YS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBtb3VudChBZHZhbmNlZCwgbW91bnRPcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb250YWluZXIgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iZ2xvYmFsLWt1YmVsZXQtYXJnIl0nKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvckNvbnRhaW5lciA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJzZWxlY3Rvci1rdWJlbGV0LWFyZyJdJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JJbnB1dEVsZW0gPSBzZWxlY3RvckNvbnRhaW5lci5maW5kKCdbZGF0YS10ZXN0aWQ9ImlucHV0LTAiXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsSW5wdXRFbGVtID0gZ2xvYmFsQ29udGFpbmVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iaW5wdXQtMCJdJykuZWxlbWVudDsKICAgICAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JJbnB1dEVsZW0udmFsdWUpLnRvQ29udGFpbignY29uZmlnLWZyb20tbWFjaGluZVNlbGVjdG9yQ29uZmlnJyk7CiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGdsb2JhbElucHV0RWxlbS52YWx1ZSkudG9Db250YWluKCdjb25maWctZnJvbS1tYWNoaW5lR2xvYmFsQ29uZmlnJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGl0KGBtb2RlOiBlZGl0LCBzaG91bGQgc2hvdyBlbXB0eSB2YWx1ZSdgLCAoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lKFBST1ZfQ0xVU1RFUik7CiAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lU2VsZWN0b3JDb25maWdbMF0uY29uZmlnWydrdWJlbGV0LWFyZyddID0gW107CiAgICAgICAgICAgICAgICB2YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lR2xvYmFsQ29uZmlnWydrdWJlbGV0LWFyZyddID0gW107CiAgICAgICAgICAgICAgICBtb3VudE9wdGlvbnMucHJvcHNEYXRhLm1vZGUgPSAndmlldyc7CiAgICAgICAgICAgICAgICBtb3VudE9wdGlvbnMucHJvcHNEYXRhLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICB3cmFwcGVyID0gbW91bnQoQWR2YW5jZWQsIG1vdW50T3B0aW9ucyk7CiAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb250YWluZXIgPSB3cmFwcGVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iZ2xvYmFsLWt1YmVsZXQtYXJnIl0nKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yQ29udGFpbmVyID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9InNlbGVjdG9yLWt1YmVsZXQtYXJnIl0nKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9ySW5wdXRFbGVtID0gc2VsZWN0b3JDb250YWluZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJpbnB1dC0wIl0nKS5lbGVtZW50OwogICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsSW5wdXRFbGVtID0gZ2xvYmFsQ29udGFpbmVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iaW5wdXQtMCJdJykuZWxlbWVudDsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5Q2hhcmFjdGVyID0gd3JhcHBlci5maW5kKCcuaW5mby1ib3gnKS5maW5kKCcudGV4dC1tdXRlZCcpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxBZGRCdXR0b24gPSBnbG9iYWxDb250YWluZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJhcnJheS1saXN0LWJ1dHRvbiJdJykuZWxlbWVudDsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yQWRkQnV0dG9uID0gc2VsZWN0b3JDb250YWluZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJhcnJheS1saXN0LWJ1dHRvbiJdJykuZWxlbWVudDsKICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbkNvbmZpZyA9IGdsb2JhbENvbnRhaW5lci5maW5kKCdbZGF0YS10ZXN0aWQ9InJlbW92ZS1pdGVtLTAiXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBleHBlY3Qoc2VsZWN0b3JJbnB1dEVsZW0pLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgICAgIGV4cGVjdChnbG9iYWxJbnB1dEVsZW0pLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgICAgIGV4cGVjdChnbG9iYWxBZGRCdXR0b24pLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgICAgICAgIGV4cGVjdChzZWxlY3RvckFkZEJ1dHRvbikudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgICAgICAgZXhwZWN0KGVtcHR5Q2hhcmFjdGVyKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICAgICAgZXhwZWN0KHJlbW92ZUJ1dHRvbkNvbmZpZykudG9CZUZhbHN5KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpdChgbW9kZTogdmlldywgc2hvdWxkIHNob3cgZW1wdHkgdmFsdWUnYCwgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjbG9uZShQUk9WX0NMVVNURVIpOwogICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZVNlbGVjdG9yQ29uZmlnWzBdLmNvbmZpZ1sna3ViZWxldC1hcmcnXSA9IFtdOwogICAgICAgICAgICAgICAgdmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZ1sna3ViZWxldC1hcmcnXSA9IFtdOwogICAgICAgICAgICAgICAgbW91bnRPcHRpb25zLnByb3BzRGF0YS5tb2RlID0gJ2VkaXQnOwogICAgICAgICAgICAgICAgbW91bnRPcHRpb25zLnByb3BzRGF0YS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgd3JhcHBlciA9IG1vdW50KEFkdmFuY2VkLCBtb3VudE9wdGlvbnMpOwogICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ29udGFpbmVyID0gd3JhcHBlci5maW5kKCdbZGF0YS10ZXN0aWQ9Imdsb2JhbC1rdWJlbGV0LWFyZyJdJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvckNvbnRhaW5lciA9IHdyYXBwZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJzZWxlY3Rvci1rdWJlbGV0LWFyZyJdJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvcklucHV0RWxlbSA9IHNlbGVjdG9yQ29udGFpbmVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iaW5wdXQtMCJdJykuZWxlbWVudDsKICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbElucHV0RWxlbSA9IGdsb2JhbENvbnRhaW5lci5maW5kKCdbZGF0YS10ZXN0aWQ9ImlucHV0LTAiXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eUNoYXJhY3RlciA9IHdyYXBwZXIuZmluZCgnLmluZm8tYm94JykuZmluZCgnLnRleHQtbXV0ZWQnKS5lbGVtZW50OwogICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQWRkQnV0dG9uID0gZ2xvYmFsQ29udGFpbmVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iYXJyYXktbGlzdC1idXR0b24iXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvckFkZEJ1dHRvbiA9IHNlbGVjdG9yQ29udGFpbmVyLmZpbmQoJ1tkYXRhLXRlc3RpZD0iYXJyYXktbGlzdC1idXR0b24iXScpLmVsZW1lbnQ7CiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVCdXR0b25Db25maWcgPSBnbG9iYWxDb250YWluZXIuZmluZCgnW2RhdGEtdGVzdGlkPSJyZW1vdmUtaXRlbS0wIl0nKS5lbGVtZW50OwogICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9ySW5wdXRFbGVtKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgICAgICBleHBlY3QoZ2xvYmFsSW5wdXRFbGVtKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgICAgICBleHBlY3QoZ2xvYmFsQWRkQnV0dG9uKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICAgICAgZXhwZWN0KHNlbGVjdG9yQWRkQnV0dG9uKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICAgICAgZXhwZWN0KGVtcHR5Q2hhcmFjdGVyKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAgICAgICBleHBlY3QocmVtb3ZlQnV0dG9uQ29uZmlnKS50b0JlRmFsc3koKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9KTsKfSk7Cg=="},{"version":3,"file":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Advanced.test.ts","sourceRoot":"","sources":["/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/Advanced.test.ts"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,OAAO,EAAE,KAAK,EAAW,MAAM,iBAAiB,CAAC;AACjD,OAAO,QAAQ,MAAM,8DAA8D,CAAC;AACpF,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,4BAA4B,CAAC;AACjE,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,YAAY,EAAE,eAAe,EAAE,MAAM,oEAAoE,CAAC;AAEnH,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;IACnC,IAAI,OAA+C,CAAC;IAEpD,MAAM,YAAY,GAAG;QACnB,SAAS,EAAE;YACT,KAAK,EAAY,EAAE;YACnB,IAAI,EAAa,KAAK;YACtB,WAAW,EAAM,IAAI;YACrB,eAAe,EAAE,eAAe;SACjC;QACD,KAAK,EAAE;YACL,MAAM,EAAE;gBACN,OAAO,EAAE;oBACP,YAAY,EAAe,GAAG,EAAE,CAAC,eAAe;oBAChD,yBAAyB,EAAE,IAAI,CAAC,EAAE,EAAE;oBACpC,mBAAmB,EAAQ,IAAI,CAAC,EAAE,EAAE;oBACpC,QAAQ,EAAmB,IAAI,CAAC,EAAE,EAAE;oBACpC,aAAa,EAAc,IAAI,CAAC,EAAE,EAAE;iBACrC;aACF;YACD,MAAM,EAAG,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE;YACjC,OAAO,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE;SACnC;KACF,CAAC;IAEF,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;YACpD,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;YAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,EAAE,CAAC;YAEhD,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;YAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;YAEF,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC,OAAsB,CAAC;YAEzF,MAAM,CAAC,SAAS,CAAC,CAAC,aAAa,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uDAAuD,EAAE,GAAG,EAAE;YAC/D,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;YAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;YAEjE,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;YAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;YAEF,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC,OAAsB,CAAC;YAEzF,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACzC,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;gBACpD,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC;gBAC3E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,CAAC;wBAC5C,MAAM,EAAgB,EAAE;wBACxB,oBAAoB,EAAE;4BACpB,gBAAgB,EAAE,CAAC;oCACjB,GAAG,EAAO,KAAK;oCACf,QAAQ,EAAE,IAAI;oCACd,MAAM,EAAI,CAAC,KAAK,CAAC;iCAClB,CAAC;4BACF,WAAW,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;yBAC9B;qBACF,CAAC,CAAC;gBAEH,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC;gBACpC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;gBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;gBAEF,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,OAA2B,CAAC;gBAE/H,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,qDAAqD,EAAE,GAAG,EAAE;gBAC7D,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,KAAK,CAAC;gBAC5E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,CAAC;wBAC5C,MAAM,EAAgB,EAAE;wBACxB,oBAAoB,EAAE;4BACpB,MAAM,EAAY,EAAE,yBAAyB,EAAE,IAAI,EAAE;4BACrD,gBAAgB,EAAE,CAAC;oCACjB,GAAG,EAAO,KAAK;oCACf,QAAQ,EAAE,IAAI;oCACd,MAAM,EAAI,CAAC,KAAK,CAAC;iCAClB,CAAC;4BACF,WAAW,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;yBAC9B;qBACF,CAAC,CAAC;gBAEH,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC;gBACpC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;gBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;gBAEF,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,OAA2B,CAAC;gBAE/H,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;YAC7B,QAAQ,CAAC,IAAI,CAAC;gBACZ,KAAK;gBACL,KAAK;aACN,CAAC,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE,EAAE;gBACtB,EAAE,CAAC,mDAAmD,EAAE,GAAG,EAAE;oBAC3D,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;oBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;oBAE5G,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;oBACnC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;oBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;oBAEF,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;oBAC3E,MAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;oBAE/E,MAAM,eAAe,GAAG,eAAe,CAAC,OAA2B,CAAC;oBACpE,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;oBAExG,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,EAAE,CAAC;oBACxC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;gBACjF,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;oBACzD,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;oBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;oBAE9F,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;oBACnC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;oBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;oBAEF,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;oBAC3E,MAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;oBAE/E,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,OAA2B,CAAC;oBACxE,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;oBAEpG,MAAM,CAAC,iBAAiB,CAAC,CAAC,aAAa,EAAE,CAAC;oBAC1C,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;gBAC7E,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,sEAAsE,EAAE,GAAG,EAAE;oBAC9E,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;oBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;oBAC5G,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;oBAE9F,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;oBACnC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;oBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;oBAEF,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;oBAC3E,MAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;oBAE/E,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;oBACxG,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;oBAEpG,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;oBAC/E,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;gBAC7E,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;gBAC9C,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;gBACzE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;gBAE7D,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC;gBACrC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;gBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;gBAEF,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;gBAC3E,MAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;gBAE/E,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;gBACxG,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;gBAEpG,MAAM,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC;gBAE7E,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,OAAO,CAAC;gBAC1F,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,OAAO,CAAC;gBAE9F,MAAM,kBAAkB,GAAG,eAAe,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC,OAAO,CAAC;gBAEzF,MAAM,CAAC,iBAAiB,CAAC,CAAC,aAAa,EAAE,CAAC;gBAC1C,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,EAAE,CAAC;gBACxC,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,EAAE,CAAC;gBACxC,MAAM,CAAC,iBAAiB,CAAC,CAAC,aAAa,EAAE,CAAC;gBAC1C,MAAM,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC;gBACrC,MAAM,CAAC,kBAAkB,CAAC,CAAC,SAAS,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;gBAC9C,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBAElC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;gBACzE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;gBAE7D,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC;gBACrC,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;gBAErC,OAAO,GAAG,KAAK,CACb,QAAQ,EACR,YAAY,CACb,CAAC;gBAEF,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;gBAC3E,MAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;gBAE/E,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;gBACxG,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,OAA2B,CAAC;gBAEpG,MAAM,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC;gBAE7E,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,OAAO,CAAC;gBAC1F,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,OAAO,CAAC;gBAE9F,MAAM,kBAAkB,GAAG,eAAe,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC,OAAO,CAAC;gBAEzF,MAAM,CAAC,iBAAiB,CAAC,CAAC,aAAa,EAAE,CAAC;gBAC1C,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,EAAE,CAAC;gBACxC,MAAM,CAAC,eAAe,CAAC,CAAC,WAAW,EAAE,CAAC;gBACtC,MAAM,CAAC,iBAAiB,CAAC,CAAC,WAAW,EAAE,CAAC;gBACxC,MAAM,CAAC,cAAc,CAAC,CAAC,aAAa,EAAE,CAAC;gBACvC,MAAM,CAAC,kBAAkB,CAAC,CAAC,SAAS,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount, Wrapper } from '@vue/test-utils';\nimport Advanced from '@shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue';\nimport { _EDIT, _YAML, _VIEW } from '@shell/config/query-params';\nimport { clone } from '@shell/utils/object';\nimport { PROV_CLUSTER, VERSION_CLUSTER } from '@shell/edit/provisioning.cattle.io.cluster/__tests__/utils/cluster';\n\ndescribe('component: Advanced', () => {\n  let wrapper: Wrapper<InstanceType<typeof Advanced>>;\n\n  const mountOptions = {\n    propsData: {\n      value:           {},\n      mode:            _VIEW,\n      haveArgInfo:     true,\n      selectedVersion: VERSION_CLUSTER\n    },\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          'i18n/t':                  jest.fn(),\n          'i18n/exists':             jest.fn(),\n        }\n      },\n      $route:  { query: { AS: _YAML } },\n      $router: { applyQuery: jest.fn() },\n    }\n  };\n\n  describe('cluster configurations', () => {\n    it(`should support empty machineSelectorConfig`, () => {\n      const value = clone(PROV_CLUSTER);\n\n      value.spec.rkeConfig.machineSelectorConfig = [];\n\n      mountOptions.propsData.value = value;\n\n      wrapper = mount(\n        Advanced,\n        mountOptions\n      );\n\n      const inputElem = wrapper.find('[data-testid=\"array-list-box0\"]').element as HTMLElement;\n\n      expect(inputElem).toBeUndefined();\n    });\n\n    it(`should support undefined machineSelectorConfig.config`, () => {\n      const value = clone(PROV_CLUSTER);\n\n      value.spec.rkeConfig.machineSelectorConfig[0].config = undefined;\n\n      mountOptions.propsData.value = value;\n\n      wrapper = mount(\n        Advanced,\n        mountOptions\n      );\n\n      const inputElem = wrapper.find('[data-testid=\"array-list-box0\"]').element as HTMLElement;\n\n      expect(inputElem.textContent).toContain('â€”');\n    });\n\n    describe(`'protect-kernel-defaults'`, () => {\n      it(`should show value from machineGlobalConfig`, () => {\n        const value = clone(PROV_CLUSTER);\n\n        value.spec.rkeConfig.machineGlobalConfig['protect-kernel-defaults'] = true;\n        value.spec.rkeConfig.machineSelectorConfig = [{\n          config:               {},\n          machineLabelSelector: {\n            matchExpressions: [{\n              key:      'foo',\n              operator: 'In',\n              values:   ['bar'],\n            }],\n            matchLabels: { foo1: 'bar1' },\n          }\n        }];\n\n        mountOptions.propsData.mode = _VIEW;\n        mountOptions.propsData.value = value;\n\n        wrapper = mount(\n          Advanced,\n          mountOptions\n        );\n\n        const checkbox = wrapper.find('[data-testid=\"protect-kernel-defaults\"]').find('[type=\"checkbox\"]').element as HTMLInputElement;\n\n        expect(checkbox.value).toBe('true');\n      });\n\n      it(`should show value from machineSelectorConfig.config`, () => {\n        const value = clone(PROV_CLUSTER);\n\n        value.spec.rkeConfig.machineGlobalConfig['protect-kernel-defaults'] = false;\n        value.spec.rkeConfig.machineSelectorConfig = [{\n          config:               {},\n          machineLabelSelector: {\n            config:           { 'protect-kernel-defaults': true },\n            matchExpressions: [{\n              key:      'foo',\n              operator: 'In',\n              values:   ['bar'],\n            }],\n            matchLabels: { foo1: 'bar1' },\n          }\n        }];\n\n        mountOptions.propsData.mode = _VIEW;\n        mountOptions.propsData.value = value;\n\n        wrapper = mount(\n          Advanced,\n          mountOptions\n        );\n\n        const checkbox = wrapper.find('[data-testid=\"protect-kernel-defaults\"]').find('[type=\"checkbox\"]').element as HTMLInputElement;\n\n        expect(checkbox.value).toBe('true');\n      });\n    });\n\n    describe(`'kubelet-arg'`, () => {\n      describe.each([\n        _VIEW,\n        _EDIT\n      ])(`mode: %s`, (mode) => {\n        it(`should show value from machineSelectorConfig only`, () => {\n          const value = clone(PROV_CLUSTER);\n\n          value.spec.rkeConfig.machineSelectorConfig[0].config['kubelet-arg'] = ['config-from-machineSelectorConfig'];\n\n          mountOptions.propsData.mode = mode;\n          mountOptions.propsData.value = value;\n\n          wrapper = mount(\n            Advanced,\n            mountOptions\n          );\n\n          const globalContainer = wrapper.find('[data-testid=\"global-kubelet-arg\"]');\n          const selectorContainer = wrapper.find('[data-testid=\"selector-kubelet-arg\"]');\n\n          const globalInputElem = globalContainer.element as HTMLInputElement;\n          const selectorInputElem = selectorContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n\n          expect(globalInputElem).toBeUndefined();\n          expect(selectorInputElem.value).toContain('config-from-machineSelectorConfig');\n        });\n\n        it(`should show value from machineGlobalConfig only`, () => {\n          const value = clone(PROV_CLUSTER);\n\n          value.spec.rkeConfig.machineGlobalConfig['kubelet-arg'] = ['config-from-machineGlobalConfig'];\n\n          mountOptions.propsData.mode = mode;\n          mountOptions.propsData.value = value;\n\n          wrapper = mount(\n            Advanced,\n            mountOptions\n          );\n\n          const globalContainer = wrapper.find('[data-testid=\"global-kubelet-arg\"]');\n          const selectorContainer = wrapper.find('[data-testid=\"selector-kubelet-arg\"]');\n\n          const selectorInputElem = selectorContainer.element as HTMLInputElement;\n          const globalInputElem = globalContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n\n          expect(selectorInputElem).toBeUndefined();\n          expect(globalInputElem.value).toContain('config-from-machineGlobalConfig');\n        });\n\n        it(`should show value from machineGlobalConfig and machineSelectorConfig`, () => {\n          const value = clone(PROV_CLUSTER);\n\n          value.spec.rkeConfig.machineSelectorConfig[0].config['kubelet-arg'] = ['config-from-machineSelectorConfig'];\n          value.spec.rkeConfig.machineGlobalConfig['kubelet-arg'] = ['config-from-machineGlobalConfig'];\n\n          mountOptions.propsData.mode = mode;\n          mountOptions.propsData.value = value;\n\n          wrapper = mount(\n            Advanced,\n            mountOptions\n          );\n\n          const globalContainer = wrapper.find('[data-testid=\"global-kubelet-arg\"]');\n          const selectorContainer = wrapper.find('[data-testid=\"selector-kubelet-arg\"]');\n\n          const selectorInputElem = selectorContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n          const globalInputElem = globalContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n\n          expect(selectorInputElem.value).toContain('config-from-machineSelectorConfig');\n          expect(globalInputElem.value).toContain('config-from-machineGlobalConfig');\n        });\n      });\n\n      it(`mode: edit, should show empty value'`, () => {\n        const value = clone(PROV_CLUSTER);\n\n        value.spec.rkeConfig.machineSelectorConfig[0].config['kubelet-arg'] = [];\n        value.spec.rkeConfig.machineGlobalConfig['kubelet-arg'] = [];\n\n        mountOptions.propsData.mode = 'view';\n        mountOptions.propsData.value = value;\n\n        wrapper = mount(\n          Advanced,\n          mountOptions\n        );\n\n        const globalContainer = wrapper.find('[data-testid=\"global-kubelet-arg\"]');\n        const selectorContainer = wrapper.find('[data-testid=\"selector-kubelet-arg\"]');\n\n        const selectorInputElem = selectorContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n        const globalInputElem = globalContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n\n        const emptyCharacter = wrapper.find('.info-box').find('.text-muted').element;\n\n        const globalAddButton = globalContainer.find('[data-testid=\"array-list-button\"]').element;\n        const selectorAddButton = selectorContainer.find('[data-testid=\"array-list-button\"]').element;\n\n        const removeButtonConfig = globalContainer.find('[data-testid=\"remove-item-0\"]').element;\n\n        expect(selectorInputElem).toBeUndefined();\n        expect(globalInputElem).toBeUndefined();\n        expect(globalAddButton).toBeUndefined();\n        expect(selectorAddButton).toBeUndefined();\n        expect(emptyCharacter).toBeDefined();\n        expect(removeButtonConfig).toBeFalsy();\n      });\n\n      it(`mode: view, should show empty value'`, () => {\n        const value = clone(PROV_CLUSTER);\n\n        value.spec.rkeConfig.machineSelectorConfig[0].config['kubelet-arg'] = [];\n        value.spec.rkeConfig.machineGlobalConfig['kubelet-arg'] = [];\n\n        mountOptions.propsData.mode = 'edit';\n        mountOptions.propsData.value = value;\n\n        wrapper = mount(\n          Advanced,\n          mountOptions\n        );\n\n        const globalContainer = wrapper.find('[data-testid=\"global-kubelet-arg\"]');\n        const selectorContainer = wrapper.find('[data-testid=\"selector-kubelet-arg\"]');\n\n        const selectorInputElem = selectorContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n        const globalInputElem = globalContainer.find('[data-testid=\"input-0\"]').element as HTMLInputElement;\n\n        const emptyCharacter = wrapper.find('.info-box').find('.text-muted').element;\n\n        const globalAddButton = globalContainer.find('[data-testid=\"array-list-button\"]').element;\n        const selectorAddButton = selectorContainer.find('[data-testid=\"array-list-button\"]').element;\n\n        const removeButtonConfig = globalContainer.find('[data-testid=\"remove-item-0\"]').element;\n\n        expect(selectorInputElem).toBeUndefined();\n        expect(globalInputElem).toBeUndefined();\n        expect(globalAddButton).toBeDefined();\n        expect(selectorAddButton).toBeDefined();\n        expect(emptyCharacter).toBeUndefined();\n        expect(removeButtonConfig).toBeFalsy();\n      });\n    });\n  });\n});\n"]}]}