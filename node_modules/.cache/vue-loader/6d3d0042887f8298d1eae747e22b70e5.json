{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQcm9ncmVzc0Jhck11bHRpIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Byb2dyZXNzQmFyTXVsdGknOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IGNvbG9yRm9yU3RhdGUsIHN0YXRlU29ydCB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgRkxFRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFByb2dyZXNzQmFyTXVsdGkgfSwKCiAgcHJvcHM6IHsKICAgIHJvdzogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKCiAgICBjbHVzdGVyTGFiZWw6IHsKICAgICAgdHlwZTogICAgIFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAgbnVsbCwKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgc3VtbWFyeSgpIHsKICAgICAgaWYgKHRoaXMuY2x1c3RlckxhYmVsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucm93LmNsdXN0ZXJSZXNvdXJjZVN0YXR1cy5maW5kKCh4KSA9PiB7CiAgICAgICAgICByZXR1cm4geC5jbHVzdGVyTGFiZWwgPT09IHRoaXMuY2x1c3RlckxhYmVsOwogICAgICAgIH0pPy5zdGF0dXMucmVzb3VyY2VDb3VudHMgfHwge307CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnJvdy5zdGF0dXM/LnJlc291cmNlQ291bnRzIHx8IHt9OwogICAgfSwKCiAgICBzaG93KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0ZVBhcnRzLmxlbmd0aCA+IDAgJiYgKHRoaXMucm93LnR5cGUgPT09IEZMRUVULkNMVVNURVIgfHwgdGhpcy5yb3cudGFyZ2V0Q2x1c3RlcnM/Lmxlbmd0aCk7CiAgICB9LAoKICAgIHN0YXRlUGFydHMoKSB7CiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnN1bW1hcnkpLmZpbHRlcigoeCkgPT4gIXguc3RhcnRzV2l0aCgnZGVzaXJlZCcpKTsKCiAgICAgIGNvbnN0IG91dCA9IGtleXMubWFwKChrZXkpID0+IHsKICAgICAgICBjb25zdCB0ZXh0Q29sb3IgPSBjb2xvckZvclN0YXRlKGtleSk7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogdWNGaXJzdChrZXkpLAogICAgICAgICAgY29sb3I6IHRleHRDb2xvci5yZXBsYWNlKC90ZXh0LS8sICdiZy0nKSwKICAgICAgICAgIHRleHRDb2xvciwKICAgICAgICAgIHZhbHVlOiB0aGlzLnN1bW1hcnlba2V5XSwKICAgICAgICAgIHNvcnQ6ICBzdGF0ZVNvcnQodGV4dENvbG9yLCBrZXkpLAogICAgICAgIH07CiAgICAgIH0pLmZpbHRlcigoeCkgPT4geC52YWx1ZSA+IDApOwoKICAgICAgcmV0dXJuIHNvcnRCeShvdXQsICdzb3J0OmRlc2MnKTsKICAgIH0sCgogIH0sCn07Cg=="},{"version":3,"sources":["FleetSummaryGraph.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"FleetSummaryGraph.vue","sourceRoot":"node_modules/@rancher/shell/components/formatter","sourcesContent":["<script>\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport { ucFirst } from '@shell/utils/string';\nimport { colorForState, stateSort } from '@shell/plugins/dashboard-store/resource-class';\nimport { sortBy } from '@shell/utils/sort';\nimport { FLEET } from '@shell/config/types';\n\nexport default {\n  components: { ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n\n    clusterLabel: {\n      type:     String,\n      required: false,\n      default:  null,\n    }\n  },\n\n  computed: {\n    summary() {\n      if (this.clusterLabel) {\n        return this.row.clusterResourceStatus.find((x) => {\n          return x.clusterLabel === this.clusterLabel;\n        })?.status.resourceCounts || {};\n      }\n\n      return this.row.status?.resourceCounts || {};\n    },\n\n    show() {\n      return this.stateParts.length > 0 && (this.row.type === FLEET.CLUSTER || this.row.targetClusters?.length);\n    },\n\n    stateParts() {\n      const keys = Object.keys(this.summary).filter((x) => !x.startsWith('desired'));\n\n      const out = keys.map((key) => {\n        const textColor = colorForState(key);\n\n        return {\n          label: ucFirst(key),\n          color: textColor.replace(/text-/, 'bg-'),\n          textColor,\n          value: this.summary[key],\n          sort:  stateSort(textColor, key),\n        };\n      }).filter((x) => x.value > 0);\n\n      return sortBy(out, 'sort:desc');\n    },\n\n  },\n};\n</script>\n\n<template>\n  <v-popover\n    v-if=\"show\"\n    class=\"text-center hand\"\n    placement=\"top\"\n    :open-group=\"row.id\"\n    :trigger=\"show ? 'click' : 'manual'\"\n    offset=\"1\"\n  >\n    <ProgressBarMulti\n      :values=\"stateParts\"\n      class=\"mb-5\"\n    />\n    <span v-if=\"summary.desiredReady === summary.ready\">{{ summary.ready }}</span>\n    <span v-else>{{ summary.ready }} of {{ summary.desiredReady }}</span>\n\n    <template #popover>\n      <table\n        v-if=\"show\"\n        class=\"fixed\"\n      >\n        <tbody>\n          <tr\n            v-for=\"obj in stateParts\"\n            :key=\"obj.label\"\n          >\n            <td\n              class=\"text-left pr-20\"\n              :class=\"{ [obj.textColor]: true }\"\n            >\n              {{ obj.label }}\n            </td>\n            <td class=\"text-right\">\n              {{ obj.value }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </template>\n  </v-popover>\n  <div\n    v-else\n    class=\"text-center text-muted\"\n  >\n    &mdash;\n  </div>\n</template>\n\n<style lang=\"scss\">\n.col-scale {\n  position: relative;\n\n  .trigger {\n    width: 100%;\n  }\n}\n\n.scale {\n  margin: 0;\n  padding: 0;\n  line-height: initial;\n}\n</style>\n"]}]}