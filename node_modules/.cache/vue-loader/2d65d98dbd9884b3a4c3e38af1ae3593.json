{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/ResourceList/Masthead.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/ResourceList/Masthead.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEZhdm9yaXRlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL25hdi9GYXZvcml0ZSc7CmltcG9ydCBUeXBlRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVHlwZURlc2NyaXB0aW9uJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEFTLCBfWUFNTCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFJlc291cmNlTG9hZGluZ0luZGljYXRvciBmcm9tICcuL1Jlc291cmNlTG9hZGluZ0luZGljYXRvcic7CmltcG9ydCBUYWJUaXRsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJUaXRsZSc7CgovKioKICogUmVzb3VyY2UgTGlzdCBNYXN0aGVhZCBjb21wb25lbnQuCiAqLwpleHBvcnQgZGVmYXVsdCB7CgogIG5hbWU6ICdNYXN0aGVhZFJlc291cmNlTGlzdCcsCgogIGNvbXBvbmVudHM6IHsKICAgIEZhdm9yaXRlLAogICAgVHlwZURlc2NyaXB0aW9uLAogICAgUmVzb3VyY2VMb2FkaW5nSW5kaWNhdG9yLAogICAgVGFiVGl0bGUKICB9LAogIHByb3BzOiB7CiAgICByZXNvdXJjZTogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICBmYXZvcml0ZVJlc291cmNlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHNjaGVtYTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgdHlwZURpc3BsYXk6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKICAgIGlzQ3JlYXRhYmxlOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgaXNZYW1sQ3JlYXRhYmxlOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgY3JlYXRlTG9jYXRpb246IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKICAgIHlhbWxDcmVhdGVMb2NhdGlvbjogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgY3JlYXRlQnV0dG9uTGFiZWw6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbG9hZFJlc291cmNlczogewogICAgICB0eXBlOiAgICBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCgogICAgbG9hZEluZGV0ZXJtaW5hdGU6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgc2hvd0luY3JlbWVudGFsTG9hZGluZ0luZGljYXRvcjogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICAvKioKICAgICAqIEluaGVyaXRlZCBnbG9iYWwgaWRlbnRpZmllciBwcmVmaXggZm9yIHRlc3RzCiAgICAgKiBEZWZpbmUgYSB0ZXJtIGJhc2VkIG9uIHRoZSBwYXJlbnQgY29tcG9uZW50IHRvIGF2b2lkIGNvbmZsaWN0cyBvbiBtdWx0aXBsZSBjb21wb25lbnRzCiAgICAgKi8KICAgIGNvbXBvbmVudFRlc3RpZDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdtYXN0aGVhZCcKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgY29uc3QgcGFyYW1zID0geyAuLi50aGlzLiRyb3V0ZS5wYXJhbXMgfTsKCiAgICBjb25zdCBmb3JtUm91dGUgPSB7IG5hbWU6IGAkeyB0aGlzLiRyb3V0ZS5uYW1lIH0tY3JlYXRlYCwgcGFyYW1zIH07CgogICAgY29uc3QgaGFzRWRpdENvbXBvbmVudCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbUVkaXQnXSh0aGlzLnJlc291cmNlKTsKCiAgICBjb25zdCB5YW1sUm91dGUgPSB7CiAgICAgIG5hbWU6ICBgJHsgdGhpcy4kcm91dGUubmFtZSB9LWNyZWF0ZWAsCiAgICAgIHBhcmFtcywKICAgICAgcXVlcnk6IHsgW0FTXTogX1lBTUwgfSwKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgZm9ybVJvdXRlLAogICAgICB5YW1sUm91dGUsCiAgICAgIGhhc0VkaXRDb21wb25lbnQsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBnZXQsCiAgICAuLi5tYXBHZXR0ZXJzKFsnaXNFeHBsb3JlcicsICdjdXJyZW50Q2x1c3RlciddKSwKCiAgICByZXNvdXJjZU5hbWUoKSB7CiAgICAgIGlmICh0aGlzLnNjaGVtYSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHRoaXMuc2NoZW1hKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2U7CiAgICB9LAoKICAgIF90eXBlRGlzcGxheSgpIHsKICAgICAgaWYgKCB0aGlzLnR5cGVEaXNwbGF5ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudHlwZURpc3BsYXk7CiAgICAgIH0KCiAgICAgIGlmICggIXRoaXMuc2NoZW1hICkgewogICAgICAgIHJldHVybiAnPyc7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHRoaXMuc2NoZW1hLCA5OSk7CiAgICB9LAoKICAgIF9pc1lhbWxDcmVhdGFibGUoKSB7CiAgICAgIGlmICggdGhpcy5pc1lhbWxDcmVhdGFibGUgIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1lhbWxDcmVhdGFibGU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNjaGVtYSAmJiB0aGlzLl9pc0NyZWF0YWJsZSAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9vcHRpb25zRm9yJ10odGhpcy5yZXNvdXJjZSkuY2FuWWFtbDsKICAgIH0sCgogICAgX2lzQ3JlYXRhYmxlKCkgewogICAgICAvLyBEb2VzIG5vdCB0YWtlIGludG8gYWNjb3VudCBoYXNFZGl0Q29tcG9uZW50LCBzdWNoIHRoYXQgX2lzWWFtbENyZWF0YWJsZSB3b3JrcwogICAgICBpZiAoIHRoaXMuaXNDcmVhdGFibGUgIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0NyZWF0YWJsZTsKICAgICAgfQoKICAgICAgLy8gYmxvY2tlZC1wb3N0IG1lYW5zIHlvdSBjYW4gcG9zdCB0aHJvdWdoIG5vcm1hbiwgYnV0IG5vdCB0aHJvdWdoIHN0ZXZlLgogICAgICBpZiAoIHRoaXMuc2NoZW1hICYmICF0aGlzLnNjaGVtYT8uY29sbGVjdGlvbk1ldGhvZHMuZmluZCgoeCkgPT4gWydibG9ja2VkLXBvc3QnLCAncG9zdCddLmluY2x1ZGVzKHgudG9Mb3dlckNhc2UoKSkpICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL29wdGlvbnNGb3InXSh0aGlzLnJlc291cmNlKS5pc0NyZWF0YWJsZTsKICAgIH0sCgogICAgX2NyZWF0ZUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5jcmVhdGVMb2NhdGlvbiB8fCB0aGlzLmZvcm1Sb3V0ZTsKICAgIH0sCgogICAgX3lhbWxDcmVhdGVMb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMueWFtbENyZWF0ZUxvY2F0aW9uIHx8IHRoaXMueWFtbFJvdXRlOwogICAgfSwKCiAgICBfY3JlYXRlQnV0dG9ubGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUJ1dHRvbkxhYmVsIHx8IHRoaXMudCgncmVzb3VyY2VMaXN0LmhlYWQuY3JlYXRlJyk7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["Masthead.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Masthead.vue","sourceRoot":"node_modules/@rancher/shell/components/ResourceList","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport Favorite from '@shell/components/nav/Favorite';\nimport TypeDescription from '@shell/components/TypeDescription';\nimport { get } from '@shell/utils/object';\nimport { AS, _YAML } from '@shell/config/query-params';\nimport ResourceLoadingIndicator from './ResourceLoadingIndicator';\nimport TabTitle from '@shell/components/TabTitle';\n\n/**\n * Resource List Masthead component.\n */\nexport default {\n\n  name: 'MastheadResourceList',\n\n  components: {\n    Favorite,\n    TypeDescription,\n    ResourceLoadingIndicator,\n    TabTitle\n  },\n  props: {\n    resource: {\n      type:     String,\n      required: true,\n    },\n    favoriteResource: {\n      type:    String,\n      default: null\n    },\n    schema: {\n      type:    Object,\n      default: null,\n    },\n    typeDisplay: {\n      type:    String,\n      default: null,\n    },\n    isCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    isYamlCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    createLocation: {\n      type:    Object,\n      default: null,\n    },\n    yamlCreateLocation: {\n      type:    Object,\n      default: null,\n    },\n    createButtonLabel: {\n      type:    String,\n      default: null\n    },\n    loadResources: {\n      type:    Array,\n      default: () => []\n    },\n\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    showIncrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'masthead'\n    }\n  },\n\n  data() {\n    const params = { ...this.$route.params };\n\n    const formRoute = { name: `${ this.$route.name }-create`, params };\n\n    const hasEditComponent = this.$store.getters['type-map/hasCustomEdit'](this.resource);\n\n    const yamlRoute = {\n      name:  `${ this.$route.name }-create`,\n      params,\n      query: { [AS]: _YAML },\n    };\n\n    return {\n      formRoute,\n      yamlRoute,\n      hasEditComponent,\n    };\n  },\n\n  computed: {\n    get,\n    ...mapGetters(['isExplorer', 'currentCluster']),\n\n    resourceName() {\n      if (this.schema) {\n        return this.$store.getters['type-map/labelFor'](this.schema);\n      }\n\n      return this.resource;\n    },\n\n    _typeDisplay() {\n      if ( this.typeDisplay !== null) {\n        return this.typeDisplay;\n      }\n\n      if ( !this.schema ) {\n        return '?';\n      }\n\n      return this.$store.getters['type-map/labelFor'](this.schema, 99);\n    },\n\n    _isYamlCreatable() {\n      if ( this.isYamlCreatable !== null) {\n        return this.isYamlCreatable;\n      }\n\n      return this.schema && this._isCreatable && this.$store.getters['type-map/optionsFor'](this.resource).canYaml;\n    },\n\n    _isCreatable() {\n      // Does not take into account hasEditComponent, such that _isYamlCreatable works\n      if ( this.isCreatable !== null) {\n        return this.isCreatable;\n      }\n\n      // blocked-post means you can post through norman, but not through steve.\n      if ( this.schema && !this.schema?.collectionMethods.find((x) => ['blocked-post', 'post'].includes(x.toLowerCase())) ) {\n        return false;\n      }\n\n      return this.$store.getters['type-map/optionsFor'](this.resource).isCreatable;\n    },\n\n    _createLocation() {\n      return this.createLocation || this.formRoute;\n    },\n\n    _yamlCreateLocation() {\n      return this.yamlCreateLocation || this.yamlRoute;\n    },\n\n    _createButtonlabel() {\n      return this.createButtonLabel || this.t('resourceList.head.create');\n    },\n  }\n};\n</script>\n\n<template>\n  <header class=\"with-subheader\">\n    <slot name=\"typeDescription\">\n      <TypeDescription :resource=\"resource\" />\n    </slot>\n    <div class=\"title\">\n      <h1 class=\"m-0\">\n        <TabTitle>{{ _typeDisplay }}</TabTitle> <Favorite\n          v-if=\"isExplorer\"\n          :resource=\"favoriteResource || resource\"\n        />\n      </h1>\n      <ResourceLoadingIndicator\n        v-if=\"showIncrementalLoadingIndicator\"\n        :resources=\"loadResources\"\n        :indeterminate=\"loadIndeterminate\"\n      />\n    </div>\n    <div class=\"sub-header\">\n      <slot name=\"subHeader\">\n        <!--Slot content-->\n      </slot>\n    </div>\n    <div class=\"actions-container\">\n      <slot name=\"actions\">\n        <div class=\"actions\">\n          <slot name=\"extraActions\" />\n\n          <slot name=\"createButton\">\n            <router-link\n              v-if=\"hasEditComponent && _isCreatable\"\n              :to=\"_createLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create'\"\n            >\n              {{ _createButtonlabel }}\n            </router-link>\n            <router-link\n              v-else-if=\"_isYamlCreatable\"\n              :to=\"_yamlCreateLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create-yaml'\"\n            >\n              {{ t(\"resourceList.head.createFromYaml\") }}\n            </router-link>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  .title {\n    align-items: center;\n    display: flex;\n    h1 {\n      margin: 0;\n    }\n  }\n\n  header {\n    margin-bottom: 20px;\n  }\n\n  header.with-subheader {\n    grid-template-areas:\n      'type-banner type-banner'\n      'title actions'\n      'sub-header sub-header'\n      'state-banner state-banner';\n  }\n\n  .sub-header {\n    grid-area: sub-header;\n  }\n</style>\n"]}]}