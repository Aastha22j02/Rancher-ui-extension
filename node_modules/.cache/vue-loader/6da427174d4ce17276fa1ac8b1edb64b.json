{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IE1hdGNoRXhwcmVzc2lvbnMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9NYXRjaEV4cHJlc3Npb25zJzsKaW1wb3J0IFN0b3JhZ2VDbGFzc1NlbGVjdG9yIGZyb20gJ0BzaGVsbC9jaGFydC9tb25pdG9yaW5nL1N0b3JhZ2VDbGFzc1NlbGVjdG9yJzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwoKaW1wb3J0IHsgc2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IHNpbXBsaWZ5LCBjb252ZXJ0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NlbGVjdG9yJzsKaW1wb3J0IHsgUE9EIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyLAogICAgQ2hlY2tib3gsCiAgICBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0LAogICAgTWF0Y2hFeHByZXNzaW9ucywKICAgIFJhZGlvR3JvdXAsCiAgICBTdG9yYWdlQ2xhc3NTZWxlY3RvciwKICB9LAoKICBwcm9wczogewogICAgYWNjZXNzTW9kZXM6IHsKICAgICAgdHlwZTogICAgIEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgbW9kZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnLAogICAgfSwKCiAgICBwcm9tZXRoZXVzUG9kczogewogICAgICB0eXBlOiAgICBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gKFtdKSwKICAgIH0sCgogICAgc3RvcmFnZUNsYXNzZXM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IChbXSksCiAgICB9LAoKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6ICAgIE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KSwKICAgIH0sCgogICAgZmlsdGVyZWRXb3JrbG9hZHM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IChbXSksCiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4geyBlbmFibGVQZXJzaXN0ZW50U3RvcmFnZTogISF0aGlzLnZhbHVlPy5wcm9tZXRoZXVzPy5wcm9tZXRoZXVzU3BlYz8uc3RvcmFnZVNwZWM/LnZvbHVtZUNsYWltVGVtcGxhdGU/LnNwZWMgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10pLAoKICAgIG1hdGNoRXhwcmVzc2lvbnM6IHsKICAgICAgZ2V0KCkgewogICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy52YWx1ZT8ucHJvbWV0aGV1cz8ucHJvbWV0aGV1c1NwZWM/LnN0b3JhZ2VTcGVjPy52b2x1bWVDbGFpbVRlbXBsYXRlPy5zcGVjPy5zZWxlY3RvcjsKICAgICAgICBsZXQgbWF0Y2hFeHByZXNzaW9uczsKCiAgICAgICAgaWYgKHNlbGVjdG9yICYmIHNlbGVjdG9yPy5tYXRjaEV4cHJlc3Npb25zKSB7CiAgICAgICAgICBtYXRjaEV4cHJlc3Npb25zID0gY29udmVydCgoc2VsZWN0b3I/Lm1hdGNoTGFiZWxzIHx8IHt9KSwgc2VsZWN0b3I/Lm1hdGNoRXhwcmVzc2lvbnMpOwoKICAgICAgICAgIHJldHVybiBtYXRjaEV4cHJlc3Npb25zOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIG1hcHBlZEZpbHRlcmVkV29ya2xvYWRzKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZFdvcmtsb2Fkcy5tYXAoKHdsKSA9PiAoewogICAgICAgIGxhYmVsOiB3bC5pZCwKICAgICAgICBsaW5rOiAgewogICAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtbmFtZXNwYWNlLWlkJywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjbHVzdGVyOiAgIHRoaXMuY3VycmVudENsdXN0ZXIuaWQsCiAgICAgICAgICAgIHByb2R1Y3Q6ICAgJ2V4cGxvcmVyJywKICAgICAgICAgICAgcmVzb3VyY2U6ICB3bC50eXBlLAogICAgICAgICAgICBuYW1lc3BhY2U6IHdsLm1ldGFkYXRhLm5hbWVzcGFjZSwKICAgICAgICAgICAgaWQ6ICAgICAgICB3bC5tZXRhZGF0YS5uYW1lCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgfSkpOwogICAgfSwKCiAgICBwb2RzQW5kTmFtZXNwYWNlcygpIHsKICAgICAgY29uc3QgeyBwcm9tZXRoZXVzUG9kcyB9ID0gdGhpczsKICAgICAgY29uc3QgcG9kcyA9IFtdOwoKICAgICAgcHJvbWV0aGV1c1BvZHMuZm9yRWFjaCgocG9kKSA9PiB7CiAgICAgICAgcG9kcy5wdXNoKHsKICAgICAgICAgIGxhYmVsOiBwb2QuaWQsCiAgICAgICAgICBsaW5rOiAgewogICAgICAgICAgICBuYW1lOiAgICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZS1uYW1lc3BhY2UtaWQnLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBjbHVzdGVyOiB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkLCBwcm9kdWN0OiAnZXhwbG9yZXInLCByZXNvdXJjZTogUE9ELCBuYW1lc3BhY2U6IHBvZC5tZXRhZGF0YS5uYW1lc3BhY2UsIGlkOiBwb2QubWV0YWRhdGEubmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIHJldHVybiBwb2RzOwogICAgfSwKCiAgICBzaG93U3RvcmFnZUNsYXNzZXMoKSB7CiAgICAgIGNvbnN0IHsgc3RvcmFnZUNsYXNzZXMgfSA9IHRoaXM7CgogICAgICByZXR1cm4gKHN0b3JhZ2VDbGFzc2VzIHx8IFtdKS5sZW5ndGggPj0gMTsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGVuYWJsZVBlcnNpc3RlbnRTdG9yYWdlKGVuYWJsZWQpIHsKICAgICAgaWYgKCEhZW5hYmxlZCkgewogICAgICAgIHRoaXMuJHNldCgKICAgICAgICAgIHRoaXMudmFsdWUucHJvbWV0aGV1cy5wcm9tZXRoZXVzU3BlYy5zdG9yYWdlU3BlYywKICAgICAgICAgICd2b2x1bWVDbGFpbVRlbXBsYXRlJywKICAgICAgICAgIHsKICAgICAgICAgICAgc3BlYzogewogICAgICAgICAgICAgIGFjY2Vzc01vZGVzOiBbJ1JlYWRXcml0ZU9uY2UnXSwKICAgICAgICAgICAgICByZXNvdXJjZXM6ICAgeyByZXF1ZXN0czogeyBzdG9yYWdlOiAnNTBHaScgfSB9LAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRkZWxldGUoCiAgICAgICAgICB0aGlzLnZhbHVlLnByb21ldGhldXMucHJvbWV0aGV1c1NwZWMuc3RvcmFnZVNwZWMsCiAgICAgICAgICAndm9sdW1lQ2xhaW1UZW1wbGF0ZScKICAgICAgICApOwogICAgICB9CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNldCwKCiAgICBtYXRjaENoYW5nZWQoZXhwcmVzc2lvbnMpIHsKICAgICAgY29uc3QgeyBtYXRjaExhYmVscywgbWF0Y2hFeHByZXNzaW9ucyB9ID0gc2ltcGxpZnkoZXhwcmVzc2lvbnMpOwogICAgICBjb25zdCBzdG9yYWdlU3BlYyA9IHRoaXMudmFsdWUucHJvbWV0aGV1cy5wcm9tZXRoZXVzU3BlYy5zdG9yYWdlU3BlYy52b2x1bWVDbGFpbVRlbXBsYXRlLnNwZWM7CgogICAgICBpZiAoIXN0b3JhZ2VTcGVjPy5zZWxlY3RvcikgewogICAgICAgIHN0b3JhZ2VTcGVjWydzZWxlY3RvciddID0geyBtYXRjaEV4cHJlc3Npb25zOiBbXSwgbWF0Y2hMYWJlbHM6IHt9IH07CiAgICAgIH0KCiAgICAgIHRoaXMuJHNldChzdG9yYWdlU3BlYy5zZWxlY3RvciwgJ21hdGNoTGFiZWxzJywgbWF0Y2hMYWJlbHMpOwogICAgICB0aGlzLiRzZXQoc3RvcmFnZVNwZWMuc2VsZWN0b3IsICdtYXRjaEV4cHJlc3Npb25zJywgbWF0Y2hFeHByZXNzaW9ucyk7CgogICAgICAvLyBSZW1vdmUgYW4gZW1wdHkgc2VsZWN0b3Igb2JqZWN0IGlmIHByZXNlbnQKICAgICAgLy8gVXNlciBjYW4gYWRkIGEgc2VsZWN0b3IgYW5kIHRoZW4gcmVtb3ZlIHRoZSBzZWxlY3RvciAtIHRoaXMgd2lsbCBsZWF2ZSBhbiBlbXB0eSBzdHJ1Y3R1cmUgYXMgYWJvdmUKICAgICAgLy8gV2Ugd2FudCB0byBlbnN1cmUgd2UgcmVtb3ZlIC5zZWxlY3Rvci5tYXRjaEV4cHJlc3Npb25zLCAuc2VsZWN0b3IubWF0Y2hMYWJlbHMsIGFuZCAuc2VsZWN0b3IgaWYgZW1wdHkKICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcmFuY2hlci9kYXNoYm9hcmQvaXNzdWVzLzEwMDE2CgogICAgICBpZiAoc3RvcmFnZVNwZWMuc2VsZWN0b3IubWF0Y2hFeHByZXNzaW9ucz8ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZGVsZXRlIHN0b3JhZ2VTcGVjLnNlbGVjdG9yLm1hdGNoRXhwcmVzc2lvbnM7CiAgICAgIH0KCiAgICAgIGlmIChzdG9yYWdlU3BlYy5zZWxlY3Rvci5tYXRjaExhYmVscyAmJiBPYmplY3Qua2V5cyhzdG9yYWdlU3BlYy5zZWxlY3Rvci5tYXRjaExhYmVscykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZGVsZXRlIHN0b3JhZ2VTcGVjLnNlbGVjdG9yLm1hdGNoTGFiZWxzOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmFnZVNwZWMuc2VsZWN0b3IpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRlbGV0ZSBzdG9yYWdlU3BlYy5zZWxlY3RvcjsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/chart/monitoring/prometheus","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\n\nimport { Banner } from '@components/Banner';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport StorageClassSelector from '@shell/chart/monitoring/StorageClassSelector';\nimport { RadioGroup } from '@components/Form/Radio';\n\nimport { set } from '@shell/utils/object';\nimport { simplify, convert } from '@shell/utils/selector';\nimport { POD } from '@shell/config/types';\n\nexport default {\n  components: {\n    Banner,\n    Checkbox,\n    LabeledInput,\n    LabeledSelect,\n    MatchExpressions,\n    RadioGroup,\n    StorageClassSelector,\n  },\n\n  props: {\n    accessModes: {\n      type:     Array,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    prometheusPods: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    storageClasses: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    value: {\n      type:    Object,\n      default: () => ({}),\n    },\n\n    filteredWorkloads: {\n      type:    Array,\n      default: () => ([]),\n    },\n  },\n\n  data() {\n    return { enablePersistentStorage: !!this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    matchExpressions: {\n      get() {\n        const selector = this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec?.selector;\n        let matchExpressions;\n\n        if (selector && selector?.matchExpressions) {\n          matchExpressions = convert((selector?.matchLabels || {}), selector?.matchExpressions);\n\n          return matchExpressions;\n        } else {\n          return [];\n        }\n      }\n    },\n\n    mappedFilteredWorkloads() {\n      return this.filteredWorkloads.map((wl) => ({\n        label: wl.id,\n        link:  {\n          name:   'c-cluster-product-resource-namespace-id',\n          params: {\n            cluster:   this.currentCluster.id,\n            product:   'explorer',\n            resource:  wl.type,\n            namespace: wl.metadata.namespace,\n            id:        wl.metadata.name\n          },\n        }\n      }));\n    },\n\n    podsAndNamespaces() {\n      const { prometheusPods } = this;\n      const pods = [];\n\n      prometheusPods.forEach((pod) => {\n        pods.push({\n          label: pod.id,\n          link:  {\n            name:   'c-cluster-product-resource-namespace-id',\n            params: {\n              cluster: this.currentCluster.id, product: 'explorer', resource: POD, namespace: pod.metadata.namespace, id: pod.metadata.name\n            },\n          }\n        });\n      });\n\n      return pods;\n    },\n\n    showStorageClasses() {\n      const { storageClasses } = this;\n\n      return (storageClasses || []).length >= 1;\n    },\n  },\n\n  watch: {\n    enablePersistentStorage(enabled) {\n      if (!!enabled) {\n        this.$set(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate',\n          {\n            spec: {\n              accessModes: ['ReadWriteOnce'],\n              resources:   { requests: { storage: '50Gi' } },\n            }\n          }\n        );\n      } else {\n        this.$delete(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate'\n        );\n      }\n    },\n  },\n\n  methods: {\n    set,\n\n    matchChanged(expressions) {\n      const { matchLabels, matchExpressions } = simplify(expressions);\n      const storageSpec = this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec;\n\n      if (!storageSpec?.selector) {\n        storageSpec['selector'] = { matchExpressions: [], matchLabels: {} };\n      }\n\n      this.$set(storageSpec.selector, 'matchLabels', matchLabels);\n      this.$set(storageSpec.selector, 'matchExpressions', matchExpressions);\n\n      // Remove an empty selector object if present\n      // User can add a selector and then remove the selector - this will leave an empty structure as above\n      // We want to ensure we remove .selector.matchExpressions, .selector.matchLabels, and .selector if empty\n      // See: https://github.com/rancher/dashboard/issues/10016\n\n      if (storageSpec.selector.matchExpressions?.length === 0) {\n        delete storageSpec.selector.matchExpressions;\n      }\n\n      if (storageSpec.selector.matchLabels && Object.keys(storageSpec.selector.matchLabels).length === 0) {\n        delete storageSpec.selector.matchLabels;\n      }\n\n      if (Object.keys(storageSpec.selector).length === 0) {\n        delete storageSpec.selector;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"title\">\n      <h3>{{ t('monitoring.prometheus.title') }}</h3>\n    </div>\n    <!-- https://github.com/rancher/dashboard/issues/1167 -->\n    <Banner\n      v-if=\"mappedFilteredWorkloads.length\"\n      color=\"warning\"\n    >\n      <template #default>\n        <t\n          k=\"monitoring.prometheus.warningInstalled\"\n          :raw=\"true\"\n        />\n        <div\n          v-for=\"wl in mappedFilteredWorkloads\"\n          :key=\"wl.id\"\n          class=\"mt-10\"\n        >\n          <router-link\n            :to=\"wl.link\"\n            class=\"btn role-tertiary\"\n          >\n            {{ wl.label }}\n          </router-link>\n        </div>\n      </template>\n    </Banner>\n    <div class=\"prometheus-config\">\n      <div class=\"row\">\n        <div class=\"col span-6 col-full-height\">\n          <Checkbox\n            v-model=\"value.prometheus.prometheusSpec.enableAdminAPI\"\n            :label=\"t('monitoring.prometheus.config.adminApi')\"\n          />\n        </div>\n        <div class=\"col span-6 col-full-height\">\n          <RadioGroup\n            v-model=\"value.prometheus.prometheusSpec.ignoreNamespaceSelectors\"\n            :mode=\"mode\"\n            name=\"ignoreNamespaceSelectors\"\n            label-key=\"monitoring.prometheus.config.ignoreNamespaceSelectors.label\"\n            :tooltip=\"t('monitoring.prometheus.config.ignoreNamespaceSelectors.help', {}, true)\"\n            :labels=\"[t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced'),t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored')]\"\n            :options=\"[false, true]\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.scrapeInterval\"\n            :label=\"t('monitoring.prometheus.config.scrape')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.evaluationInterval\"\n            :label=\"t('monitoring.prometheus.config.evaluation')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retention\"\n            :label=\"t('monitoring.prometheus.config.retention')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retentionSize\"\n            :label=\"t('monitoring.prometheus.config.retentionSize')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-12 mt-5\">\n          <h4 class=\"mb-0\">\n            {{ t('monitoring.prometheus.config.resourceLimits') }}\n          </h4>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.cpu\"\n            :label=\"t('monitoring.prometheus.config.requests.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.memory\"\n            :label=\"t('monitoring.prometheus.config.requests.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.cpu\"\n            :label=\"t('monitoring.prometheus.config.limits.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.memory\"\n            :label=\"t('monitoring.prometheus.config.limits.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div\n        class=\"row row-full-height container-flex-center\"\n        style=\"min-height: 55px;\"\n      >\n        <div class=\"col span-6\">\n          <Checkbox\n            v-model=\"enablePersistentStorage\"\n            data-testid=\"checkbox-chart-enable-persistent-storage\"\n            :label=\"t('monitoring.prometheus.storage.label')\"\n          />\n        </div>\n      </div>\n      <template v-if=\"enablePersistentStorage\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage\"\n              :label=\"t('monitoring.prometheus.storage.size')\"\n              :mode=\"mode\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <div\n              v-if=\"showStorageClasses\"\n              data-testid=\"select-chart-prometheus-storage-class\"\n            >\n              <StorageClassSelector\n                :mode=\"mode\"\n                :options=\"storageClasses\"\n                :value=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName\"\n                :label=\"t('monitoring.prometheus.storage.className')\"\n                @updateName=\"(name) => $set(value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec, 'storageClassName', name)\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes\"\n              :label=\"t('monitoring.prometheus.storage.mode')\"\n              :localized-label=\"true\"\n              :mode=\"mode\"\n              :multiple=\"true\"\n              :options=\"accessModes\"\n              :reduce=\"({id})=> id\"\n            />\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <div class=\"mb-5 mt-5\">\n              <h4 class=\" mb-10\">\n                {{ t('monitoring.prometheus.storage.selector') }}\n              </h4>\n            </div>\n            <Banner\n              color=\"warning\"\n              :label=\"t('monitoring.prometheus.storage.selectorWarning', {}, true)\"\n            />\n            <MatchExpressions\n              :initial-empty-row=\"false\"\n              :mode=\"mode\"\n              :value=\"matchExpressions\"\n              :show-remove=\"false\"\n              @input=\"matchChanged($event)\"\n            />\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.prometheus-config {\n  & > * {\n    margin-top: 10px;\n  }\n}\n</style>\n"]}]}