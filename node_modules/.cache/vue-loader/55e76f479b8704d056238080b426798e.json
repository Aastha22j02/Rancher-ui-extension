{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/longhorn/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/longhorn/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmltcG9ydCBJbnN0YWxsUmVkaXJlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2luc3RhbGwtcmVkaXJlY3QnOwoKaW1wb3J0IHsgU0VSVklDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBOQU1FLCBDSEFSVF9OQU1FIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2xvbmdob3JuJzsKCmltcG9ydCBJY29uTWVzc2FnZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9JY29uTWVzc2FnZSc7CmltcG9ydCBMYXp5SW1hZ2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTGF6eUltYWdlJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSWNvbk1lc3NhZ2UsIExhenlJbWFnZSwgTG9hZGluZwogIH0sCgogIG1pZGRsZXdhcmU6IEluc3RhbGxSZWRpcmVjdChOQU1FLCBDSEFSVF9OQU1FKSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBpZiAoIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oU0VSVklDRSkgKSB7CiAgICAgIHRoaXMudWlTZXJ2aWNlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRNYXRjaGluZycsIHsKICAgICAgICB0eXBlOiAgICAgU0VSVklDRSwKICAgICAgICBzZWxlY3RvcjogJ2FwcD1sb25naG9ybi11aScKICAgICAgfSk7CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvbmdob3JuSW1nU3JjOiByZXF1aXJlKCd+c2hlbGwvYXNzZXRzL2ltYWdlcy92ZW5kb3IvbG9uZ2hvcm4uc3ZnJyksCiAgICAgIHVpU2VydmljZXM6ICAgICBudWxsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSksCgogICAgZXh0ZXJuYWxMaW5rcygpIHsKICAgICAgaWYgKCB0aGlzLnVpU2VydmljZXMgJiYgdGhpcy51aVNlcnZpY2VzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnVpU2VydmljZXNbMF0ubWV0YWRhdGE/Lm5hbWVzcGFjZSApIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgewogICAgICAgICAgICBlbmFibGVkOiAgICAgdHJ1ZSwKICAgICAgICAgICAgaWNvblNyYzogICAgIHRoaXMubG9uZ2hvcm5JbWdTcmMsCiAgICAgICAgICAgIGxhYmVsOiAgICAgICAnbG9uZ2hvcm4ub3ZlcnZpZXcubGlua2VkTGlzdC5sb25naG9ybi5sYWJlbCcsIC8vIGkxOG4tdXNlcyBsb25naG9ybi5vdmVydmlldy5saW5rZWRMaXN0Lmxvbmdob3JuLmxhYmVsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnbG9uZ2hvcm4ub3ZlcnZpZXcubGlua2VkTGlzdC5sb25naG9ybi5kZXNjcmlwdGlvbicsIC8vIGkxOG4tdXNlcyBsb25naG9ybi5vdmVydmlldy5saW5rZWRMaXN0Lmxvbmdob3JuLmRlc2NyaXB0aW9uCiAgICAgICAgICAgIGxpbms6ICAgICAgICBgL2s4cy9jbHVzdGVycy8keyB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkIH0vYXBpL3YxL25hbWVzcGFjZXMvJHsgdGhpcy51aVNlcnZpY2VzWzBdLm1ldGFkYXRhLm5hbWVzcGFjZSB9L3NlcnZpY2VzL2h0dHA6bG9uZ2hvcm4tZnJvbnRlbmQ6ODAvcHJveHkvYAogICAgICAgICAgfSwKICAgICAgICBdOwogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/longhorn","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\n\nimport InstallRedirect from '@shell/utils/install-redirect';\n\nimport { SERVICE } from '@shell/config/types';\nimport { NAME, CHART_NAME } from '@shell/config/product/longhorn';\n\nimport IconMessage from '@shell/components/IconMessage';\nimport LazyImage from '@shell/components/LazyImage';\nimport Loading from '@shell/components/Loading';\n\nexport default {\n  components: {\n    IconMessage, LazyImage, Loading\n  },\n\n  middleware: InstallRedirect(NAME, CHART_NAME),\n\n  async fetch() {\n    if ( this.$store.getters['cluster/schemaFor'](SERVICE) ) {\n      this.uiServices = await this.$store.dispatch('cluster/findMatching', {\n        type:     SERVICE,\n        selector: 'app=longhorn-ui'\n      });\n    }\n  },\n\n  data() {\n    return {\n      longhornImgSrc: require('~shell/assets/images/vendor/longhorn.svg'),\n      uiServices:     null\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    externalLinks() {\n      if ( this.uiServices && this.uiServices.length === 1 && this.uiServices[0].metadata?.namespace ) {\n        return [\n          {\n            enabled:     true,\n            iconSrc:     this.longhornImgSrc,\n            label:       'longhorn.overview.linkedList.longhorn.label', // i18n-uses longhorn.overview.linkedList.longhorn.label\n            description: 'longhorn.overview.linkedList.longhorn.description', // i18n-uses longhorn.overview.linkedList.longhorn.description\n            link:        `/k8s/clusters/${ this.currentCluster.id }/api/v1/namespaces/${ this.uiServices[0].metadata.namespace }/services/http:longhorn-frontend:80/proxy/`\n          },\n        ];\n      }\n\n      return [];\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <section v-else>\n    <header class=\"row\">\n      <div class=\"col span-12\">\n        <h1>\n          <t k=\"longhorn.overview.title\" />\n        </h1>\n        <div>\n          <t\n            k=\"longhorn.overview.subtitle\"\n            :raw=\"true\"\n          />\n        </div>\n      </div>\n    </header>\n    <div\n      v-if=\"externalLinks && externalLinks.length\"\n      class=\"links\"\n    >\n      <div\n        v-for=\"fel in externalLinks\"\n        :key=\"fel.label\"\n        class=\"link-container\"\n      >\n        <a\n          :href=\"fel.link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div class=\"link-logo\">\n            <LazyImage :src=\"fel.iconSrc\" />\n          </div>\n          <div class=\"link-content\">\n            <t :k=\"fel.label\" />\n            <i class=\"icon icon-external-link pull-right\" />\n            <hr>\n            <div class=\"description\"><t :k=\"fel.description\" /></div>\n          </div>\n        </a>\n      </div>\n    </div>\n\n    <IconMessage\n      v-else\n      class=\"mt-40 mb-20\"\n      icon=\"icon-longhorn\"\n      :vertical=\"true\"\n    >\n      <template #message>\n        <p>\n          {{ t('longhorn.overview.linkedList.longhorn.uiServiceUnavailable') }}\n        </p>\n      </template>\n    </IconMessage>\n  </section>\n</template>\n"]}]}