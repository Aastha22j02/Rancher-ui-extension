{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/management.cattle.io.project.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/management.cattle.io.project.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENvbnRhaW5lclJlc291cmNlTGltaXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ29udGFpbmVyUmVzb3VyY2VMaW1pdCc7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgRm9ybVZhbGlkYXRpb24gZnJvbSAnQHNoZWxsL21peGlucy9mb3JtLXZhbGlkYXRpb24nOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IFJlc291cmNlUXVvdGEgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9SZXNvdXJjZVF1b3RhL1Byb2plY3QnOwppbXBvcnQgeyBIQVJWRVNURVJfVFlQRVMsIFJBTkNIRVJfVFlQRVMgfSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1Jlc291cmNlUXVvdGEvc2hhcmVkJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9leHBsb3Jlcic7CmltcG9ydCB7IFBST0pFQ1RfSUQsIF9WSUVXLCBfQ1JFQVRFLCBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFByb2plY3RNZW1iZXJzaGlwRWRpdG9yLCB7IGNhblZpZXdQcm9qZWN0TWVtYmVyc2hpcEVkaXRvciB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTWVtYmVycy9Qcm9qZWN0TWVtYmVyc2hpcEVkaXRvcic7CgppbXBvcnQgeyBIQVJWRVNURVJfTkFNRSBhcyBIQVJWRVNURVIgfSBmcm9tICdAc2hlbGwvY29uZmlnL2ZlYXR1cmVzJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb250YWluZXJSZXNvdXJjZUxpbWl0LCBDcnVSZXNvdXJjZSwgTGFiZWxzLCBOYW1lTnNEZXNjcmlwdGlvbiwgUHJvamVjdE1lbWJlcnNoaXBFZGl0b3IsIFJlc291cmNlUXVvdGEsIFRhYmJlZCwgVGFiLCBCYW5uZXIKICB9LAoKICBtaXhpbnM6IFtDcmVhdGVFZGl0VmlldywgRm9ybVZhbGlkYXRpb25dLAogIGRhdGEoKSB7CiAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3NwZWMnLCB0aGlzLnZhbHVlLnNwZWMgfHwge30pOwogICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3BvZFNlY3VyaXR5UG9saWN5VGVtcGxhdGVJZCcsIHRoaXMudmFsdWUuc3RhdHVzPy5wb2RTZWN1cml0eVBvbGljeVRlbXBsYXRlSWQgfHwgJycpOwoKICAgIHJldHVybiB7CiAgICAgIHByb2plY3RSb2xlVGVtcGxhdGVCaW5kaW5nU2NoZW1hOiB0aGlzLiRzdG9yZS5nZXR0ZXJzW2BtYW5hZ2VtZW50L3NjaGVtYUZvcmBdKE1BTkFHRU1FTlQuUFJPSkVDVF9ST0xFX1RFTVBMQVRFX0JJTkRJTkcpLAogICAgICBjcmVhdGVMb2NhdGlvbjogICAgICAgICAgICAgICAgICAgewogICAgICAgIG5hbWU6ICAgJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLWNyZWF0ZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9kdWN0OiAgTkFNRSwKICAgICAgICAgIHJlc291cmNlOiBNQU5BR0VNRU5ULlBST0pFQ1RfUk9MRV9URU1QTEFURV9CSU5ESU5HLAogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IHsgW1BST0pFQ1RfSURdOiB0aGlzLnByb2plY3Q/LmlkPy5yZXBsYWNlKCcvJywgJzonKSB9CiAgICAgIH0sCiAgICAgIHJlc291cmNlOiAgICAgICAgICAgTUFOQUdFTUVOVC5QUk9KRUNUX1JPTEVfVEVNUExBVEVfQklORElORywKICAgICAgc2F2ZUJpbmRpbmdzOiAgICAgICBudWxsLAogICAgICBtZW1iZXJzaGlwSGFzT3duZXI6IGZhbHNlLAogICAgICBtZW1iZXJzaGlwVXBkYXRlOiAgIHt9LAogICAgICBIQVJWRVNURVJfVFlQRVMsCiAgICAgIFJBTkNIRVJfVFlQRVMsCiAgICAgIGZ2Rm9ybVJ1bGVTZXRzOiAgICAgW3sgcGF0aDogJ3NwZWMuZGlzcGxheU5hbWUnLCBydWxlczogWydyZXF1aXJlZCddIH1dLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSksCgogICAgY2FuVmlld01lbWJlcnMoKSB7CiAgICAgIHJldHVybiBjYW5WaWV3UHJvamVjdE1lbWJlcnNoaXBFZGl0b3IodGhpcy4kc3RvcmUpOwogICAgfSwKCiAgICBjYW5FZGl0UHJvamVjdCgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWU/LmxpbmtzPy51cGRhdGU7CiAgICB9LAoKICAgIGlzRGVzY3JpcHRpb25EaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuICh0aGlzLm1vZGUgPT09IF9FRElUICYmICF0aGlzLmNhbkVkaXRQcm9qZWN0KSB8fCBmYWxzZTsKICAgIH0sCgogICAgY2FuRWRpdFRhYkVsZW1lbnRzKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSBfRURJVCAmJiAhdGhpcy5jYW5FZGl0UHJvamVjdCkgewogICAgICAgIHJldHVybiBfVklFVzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMubW9kZTsKICAgIH0sCgogICAgc2hvd0Jhbm5lckZvck9ubHlNYW5hZ2luZ01lbWJlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9FRElUICYmICF0aGlzLmNhbkVkaXRQcm9qZWN0OwogICAgfSwKCiAgICBpc0szcygpIHsKICAgICAgcmV0dXJuICh0aGlzLmN1cnJlbnRDbHVzdGVyPy5zcGVjPy5rdWJlcm5ldGVzVmVyc2lvbiB8fCAnJykuaW5jbHVkZXMoJ2szcycpOwogICAgfSwKCiAgICBpc0hhcnZlc3RlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J10uaW5TdG9yZSA9PT0gSEFSVkVTVEVSOwogICAgfSwKCiAgICByZXNvdXJjZVF1b3RhTGFiZWwoKSB7CiAgICAgIGlmICh0aGlzLmlzSGFydmVzdGVyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudCgncHJvamVjdC52bURlZmF1bHRSZXNvdXJjZUxpbWl0Jyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnQoJ3Byb2plY3QuY29udGFpbmVyRGVmYXVsdFJlc291cmNlTGltaXQnKTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgaGFzT3duZXIoKSB7CiAgICAgIHRoaXMuZXJyb3JzID0gdGhpcy5oYXNPd25lciA/IFtdIDogW3RoaXMudCgncHJvamVjdC5oYXZlT25lT3duZXInKV07CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc2V0KHRoaXMudmFsdWUubWV0YWRhdGEsICduYW1lc3BhY2UnLCB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50Q2x1c3RlciddLmlkKTsKICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnc3BlYycsIHRoaXMudmFsdWUuc3BlYyB8fCB7fSk7CiAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAnY29udGFpbmVyRGVmYXVsdFJlc291cmNlTGltaXQnLCB0aGlzLnZhbHVlLnNwZWMuY29udGFpbmVyRGVmYXVsdFJlc291cmNlTGltaXQgfHwge30pOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2F2ZShzYXZlQ2IpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgICAvLyBjbGVhciB1cCBvZiB0aGUgdW51c2VkIHJlc291cmNlUXVvdGFzIHdpbGwgbm93IGJlIGRvbmUgb24gdGhlIG1vZGVsIHNpZGUKICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfQ1JFQVRFKSB7CiAgICAgICAgICBjb25zdCBzYXZlZFByb2plY3QgPSBhd2FpdCB0aGlzLnZhbHVlLnNhdmUoKTsKCiAgICAgICAgICBpZiAodGhpcy5tZW1iZXJzaGlwVXBkYXRlLnNhdmUpIHsKICAgICAgICAgICAgYXdhaXQgdGhpcy5tZW1iZXJzaGlwVXBkYXRlLnNhdmUoc2F2ZWRQcm9qZWN0LmlkKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZSA9PT0gX0VESVQpIHsKICAgICAgICAgIGlmICh0aGlzLmNhbkVkaXRQcm9qZWN0KSB7CiAgICAgICAgICAgIGF3YWl0IHRoaXMudmFsdWUuc2F2ZSh0cnVlKTsKCiAgICAgICAgICAgIC8vIFdlIHVwZGF0ZWQgdGhlIE5vcm1hbiByZXNvdXJjZSAtIHJlLWZldGNoIHRoZSBTdGV2ZSByZXNvdXJjZSBzbyB3ZSBrbm93IGl0IGlzIGRlZmluaXRlbHkgdXBkYXRlZCBpbiB0aGUgc3RvcmUKICAgICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZCcsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlBST0pFQ1QsCiAgICAgICAgICAgICAgaWQ6ICAgdGhpcy52YWx1ZS5pZCwKICAgICAgICAgICAgICBvcHQ6ICB7IGZvcmNlOiB0cnVlIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gLy8gd2UgYWxsb3cgdXNlcnMgd2l0aCBwZXJtaXNzaW9ucyBmb3IgcHJvamVjdHJvbGV0ZW1wbGF0ZWJpbmRpbmdzIHRvIGJlIGFibGUgdG8gbWFuYWdlIG1lbWJlcnMgb24gcHJvamVjdHMKICAgICAgICAgIGlmICh0aGlzLm1lbWJlcnNoaXBVcGRhdGUuc2F2ZSkgewogICAgICAgICAgICBjb25zdCBub3JtYW4gPSBhd2FpdCB0aGlzLnZhbHVlLm5vcm1hbjsKCiAgICAgICAgICAgIGF3YWl0IHRoaXMubWVtYmVyc2hpcFVwZGF0ZS5zYXZlKG5vcm1hbi5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzYXZlQ2IodHJ1ZSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy52YWx1ZS5saXN0TG9jYXRpb24pOwogICAgICB9IGNhdGNoIChleCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZXgpOwogICAgICAgIHNhdmVDYihmYWxzZSk7CiAgICAgIH0KICAgIH0sCgogICAgb25IYXNPd25lckNoYW5nZWQoaGFzT3duZXIpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdtZW1iZXJzaGlwSGFzT3duZXInLCBoYXNPd25lcik7CiAgICB9LAoKICAgIG9uTWVtYmVyc2hpcFVwZGF0ZSh1cGRhdGUpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdtZW1iZXJzaGlwVXBkYXRlJywgdXBkYXRlKTsKICAgIH0sCgogICAgcmVtb3ZlUXVvdGEoa2V5KSB7CiAgICAgIFsncmVzb3VyY2VRdW90YScsICduYW1lc3BhY2VEZWZhdWx0UmVzb3VyY2VRdW90YSddLmZvckVhY2goKHNwZWNQcm9wKSA9PiB7CiAgICAgICAgaWYgKHRoaXMudmFsdWU/LnNwZWNbc3BlY1Byb3BdPy5saW1pdCAmJiB0aGlzLnZhbHVlPy5zcGVjW3NwZWNQcm9wXT8ubGltaXRba2V5XSkgewogICAgICAgICAgZGVsZXRlIHRoaXMudmFsdWU/LnNwZWNbc3BlY1Byb3BdPy5saW1pdFtrZXldOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy52YWx1ZT8uc3BlY1tzcGVjUHJvcF0/LnVzZWRMaW1pdCAmJiB0aGlzLnZhbHVlPy5zcGVjW3NwZWNQcm9wXT8udXNlZExpbWl0W2tleV0pIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlPy5zcGVjW3NwZWNQcm9wXT8udXNlZExpbWl0W2tleV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["management.cattle.io.project.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"management.cattle.io.project.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport ContainerResourceLimit from '@shell/components/ContainerResourceLimit';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\nimport CruResource from '@shell/components/CruResource';\nimport Labels from '@shell/components/form/Labels';\nimport ResourceQuota from '@shell/components/form/ResourceQuota/Project';\nimport { HARVESTER_TYPES, RANCHER_TYPES } from '@shell/components/form/ResourceQuota/shared';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { NAME } from '@shell/config/product/explorer';\nimport { PROJECT_ID, _VIEW, _CREATE, _EDIT } from '@shell/config/query-params';\nimport ProjectMembershipEditor, { canViewProjectMembershipEditor } from '@shell/components/form/Members/ProjectMembershipEditor';\n\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: {\n    ContainerResourceLimit, CruResource, Labels, NameNsDescription, ProjectMembershipEditor, ResourceQuota, Tabbed, Tab, Banner\n  },\n\n  mixins: [CreateEditView, FormValidation],\n  data() {\n    this.$set(this.value, 'spec', this.value.spec || {});\n    this.$set(this.value.spec, 'podSecurityPolicyTemplateId', this.value.status?.podSecurityPolicyTemplateId || '');\n\n    return {\n      projectRoleTemplateBindingSchema: this.$store.getters[`management/schemaFor`](MANAGEMENT.PROJECT_ROLE_TEMPLATE_BINDING),\n      createLocation:                   {\n        name:   'c-cluster-product-resource-create',\n        params: {\n          product:  NAME,\n          resource: MANAGEMENT.PROJECT_ROLE_TEMPLATE_BINDING,\n        },\n        query: { [PROJECT_ID]: this.project?.id?.replace('/', ':') }\n      },\n      resource:           MANAGEMENT.PROJECT_ROLE_TEMPLATE_BINDING,\n      saveBindings:       null,\n      membershipHasOwner: false,\n      membershipUpdate:   {},\n      HARVESTER_TYPES,\n      RANCHER_TYPES,\n      fvFormRuleSets:     [{ path: 'spec.displayName', rules: ['required'] }],\n    };\n  },\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    canViewMembers() {\n      return canViewProjectMembershipEditor(this.$store);\n    },\n\n    canEditProject() {\n      return this.value?.links?.update;\n    },\n\n    isDescriptionDisabled() {\n      return (this.mode === _EDIT && !this.canEditProject) || false;\n    },\n\n    canEditTabElements() {\n      if (this.mode === _EDIT && !this.canEditProject) {\n        return _VIEW;\n      }\n\n      return this.mode;\n    },\n\n    showBannerForOnlyManagingMembers() {\n      return this.mode === _EDIT && !this.canEditProject;\n    },\n\n    isK3s() {\n      return (this.currentCluster?.spec?.kubernetesVersion || '').includes('k3s');\n    },\n\n    isHarvester() {\n      return this.$store.getters['currentProduct'].inStore === HARVESTER;\n    },\n\n    resourceQuotaLabel() {\n      if (this.isHarvester) {\n        return this.t('project.vmDefaultResourceLimit');\n      }\n\n      return this.t('project.containerDefaultResourceLimit');\n    },\n  },\n  watch: {\n    hasOwner() {\n      this.errors = this.hasOwner ? [] : [this.t('project.haveOneOwner')];\n    }\n  },\n  created() {\n    this.$set(this.value.metadata, 'namespace', this.$store.getters['currentCluster'].id);\n    this.$set(this.value, 'spec', this.value.spec || {});\n    this.$set(this.value.spec, 'containerDefaultResourceLimit', this.value.spec.containerDefaultResourceLimit || {});\n  },\n  methods: {\n    async save(saveCb) {\n      try {\n        this.errors = [];\n\n        // clear up of the unused resourceQuotas will now be done on the model side\n        if (this.mode === _CREATE) {\n          const savedProject = await this.value.save();\n\n          if (this.membershipUpdate.save) {\n            await this.membershipUpdate.save(savedProject.id);\n          }\n        } else if (this.mode === _EDIT) {\n          if (this.canEditProject) {\n            await this.value.save(true);\n\n            // We updated the Norman resource - re-fetch the Steve resource so we know it is definitely updated in the store\n            await this.$store.dispatch('management/find', {\n              type: MANAGEMENT.PROJECT,\n              id:   this.value.id,\n              opt:  { force: true }\n            });\n          }\n\n          // // we allow users with permissions for projectroletemplatebindings to be able to manage members on projects\n          if (this.membershipUpdate.save) {\n            const norman = await this.value.norman;\n\n            await this.membershipUpdate.save(norman.id);\n          }\n        }\n\n        saveCb(true);\n        this.$router.replace(this.value.listLocation);\n      } catch (ex) {\n        this.errors.push(ex);\n        saveCb(false);\n      }\n    },\n\n    onHasOwnerChanged(hasOwner) {\n      this.$set(this, 'membershipHasOwner', hasOwner);\n    },\n\n    onMembershipUpdate(update) {\n      this.$set(this, 'membershipUpdate', update);\n    },\n\n    removeQuota(key) {\n      ['resourceQuota', 'namespaceDefaultResourceQuota'].forEach((specProp) => {\n        if (this.value?.spec[specProp]?.limit && this.value?.spec[specProp]?.limit[key]) {\n          delete this.value?.spec[specProp]?.limit[key];\n        }\n        if (this.value?.spec[specProp]?.usedLimit && this.value?.spec[specProp]?.usedLimit[key]) {\n          delete this.value?.spec[specProp]?.usedLimit[key];\n        }\n      });\n    }\n  },\n};\n</script>\n<template>\n  <CruResource\n    class=\"project\"\n    :done-route=\"value.listLocation\"\n    :errors=\"fvUnreportedValidationErrors\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :can-yaml=\"false\"\n    :validation-passed=\"fvFormIsValid\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :name-editable=\"true\"\n      :mode=\"mode\"\n      :namespaced=\"false\"\n      description-key=\"spec.description\"\n      :description-disabled=\"isDescriptionDisabled\"\n      name-key=\"spec.displayName\"\n      :normalize-name=\"false\"\n      :rules=\"{ name: fvGetAndReportPathRules('spec.displayName'), namespace: [], description: [] }\"\n    />\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        v-if=\"canViewMembers\"\n        name=\"members\"\n        :label=\"t('project.members.label')\"\n        :weight=\"10\"\n      >\n        <Banner\n          v-if=\"showBannerForOnlyManagingMembers\"\n          color=\"info\"\n          :label=\"t('project.membersEditOnly')\"\n        />\n        <ProjectMembershipEditor\n          :mode=\"mode\"\n          :parent-id=\"value.id\"\n          @has-owner-changed=\"onHasOwnerChanged\"\n          @membership-update=\"onMembershipUpdate\"\n        />\n      </Tab>\n      <Tab\n        name=\"resource-quotas\"\n        :label=\"t('project.resourceQuotas')\"\n        :weight=\"9\"\n      >\n        <ResourceQuota\n          v-model=\"value\"\n          :mode=\"canEditTabElements\"\n          :types=\"isHarvester ? HARVESTER_TYPES : RANCHER_TYPES\"\n          @remove=\"removeQuota\"\n        />\n      </Tab>\n      <Tab\n        name=\"container-default-resource-limit\"\n        :label=\"resourceQuotaLabel\"\n        :weight=\"8\"\n      >\n        <ContainerResourceLimit\n          v-model=\"value.spec.containerDefaultResourceLimit\"\n          :mode=\"canEditTabElements\"\n          :show-tip=\"false\"\n          :register-before-hook=\"registerBeforeHook\"\n        />\n      </Tab>\n      <Tab\n        name=\"labels-and-annotations\"\n        label-key=\"generic.labelsAndAnnotations\"\n        :weight=\"7\"\n      >\n        <Labels\n          default-container-class=\"labels-and-annotations-container\"\n          :value=\"value\"\n          :mode=\"canEditTabElements\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n"]}]}