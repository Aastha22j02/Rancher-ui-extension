{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/machine-config/vmwarevsphere.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/machine-config/vmwarevsphere.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSwgc3RyaW5naWZ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IFVuaXRJbnB1dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1VuaXRJbnB1dCc7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAY29tcG9uZW50cy9DYXJkJzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgS2V5VmFsdWUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9LZXlWYWx1ZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEFycmF5TGlzdFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdFNlbGVjdCc7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBnZXQsIHNldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBpbnRlZ2VyU3RyaW5nLCBrZXlWYWx1ZVN0cmluZ3MgfSBmcm9tICdAc2hlbGwvdXRpbHMvY29tcHV0ZWQnOwppbXBvcnQgeyBfQ1JFQVRFLCBfRURJVCwgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CgpleHBvcnQgY29uc3QgU0VOVElORUwgPSAnX19TRU5USU5FTF9fJzsKY29uc3QgVkFQUF9NT0RFID0gewogIERJU0FCTEVEOiAnZGlzYWJsZWQnLAogIEFVVE86ICAgICAnYXV0bycsCiAgTUFOVUFMOiAgICdtYW51YWwnCn07CmNvbnN0IENSRUFUSU9OX01FVEhPRCA9IHsKICBURU1QTEFURTogJ3RlbXBsYXRlJywKICBMSUJSQVJZOiAgJ2xpYnJhcnknLAogIFZNOiAgICAgICAndm0nLAogIExFR0FDWTogICAnbGVnYWN5Jwp9Owpjb25zdCBCT09UXzJfRE9DS0VSX1VSTCA9ICdodHRwczovL3JlbGVhc2VzLnJhbmNoZXIuY29tL29zL2xhdGVzdC9yYW5jaGVyb3Mtdm13YXJlLmlzbyc7CmNvbnN0IElOSVRJQUxfVkFQUF9PUFRJT05TID0gewogIHZhcHBJcHByb3RvY29sOiAgICAgICAgICcnLAogIHZhcHBJcGFsbG9jYXRpb25wb2xpY3k6ICcnLAogIHZhcHBUcmFuc3BvcnQ6ICAgICAgICAgICcnLAogIHZhcHBQcm9wZXJ0eTogICAgICAgICAgIFtdCn07CmNvbnN0IE9TX09QVElPTlMgPSBbCiAgJ2xpbnV4JywKICAnd2luZG93cycKXTsKCmV4cG9ydCBjb25zdCBERUZBVUxUX1ZBTFVFUyA9IHsKICBjcHVDb3VudDogICAgICAgICAgICAgICAgJzInLAogIGRpc2tTaXplOiAgICAgICAgICAgICAgICAnMjAwMDAnLAogIG1lbW9yeVNpemU6ICAgICAgICAgICAgICAnNDA5NicsCiAgaG9zdHN5c3RlbTogICAgICAgICAgICAgICcnLAogIGNsb3VkQ29uZmlnOiAgICAgICAgICAgICAnI2Nsb3VkLWNvbmZpZ1xuXG4nLAogIGdyYWNlZnVsU2h1dGRvd25UaW1lb3V0OiAnMCcsCiAgY2ZncGFyYW06ICAgICAgICAgICAgICAgIFsnZGlzay5lbmFibGVVVUlEPVRSVUUnXSwKICBvczogICAgICAgICAgICAgICAgICAgICAgT1NfT1BUSU9OU1swXQp9OwoKY29uc3QgZ2V0RGVmYXVsdFZhcHBPcHRpb25zID0gKG5ldHdvcmtzKSA9PiB7CiAgcmV0dXJuIHsKICAgIHZhcHBJcHByb3RvY29sOiAgICAgICAgICdJUHY0JywKICAgIHZhcHBJcGFsbG9jYXRpb25wb2xpY3k6ICdmaXhlZEFsbG9jYXRlZCcsCiAgICB2YXBwVHJhbnNwb3J0OiAgICAgICAgICAnY29tLnZtd2FyZS5ndWVzdEluZm8nLAogICAgdmFwcFByb3BlcnR5OiAgICAgICAgICAgbmV0d29ya3NUb1ZhcHBQcm9wZXJ0aWVzKG5ldHdvcmtzKQogIH07Cn07Cgpjb25zdCBzdHJpbmdzVG9QYXJhbXMgPSAocGFyYW1zLCBzdHIpID0+IHsKICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKCc9Jyk7CgogIGlmICggaW5kZXggPiAtMSApIHsKICAgIHBhcmFtcy5wdXNoKHsKICAgICAga2V5OiAgIHN0ci5zbGljZSgwLCBpbmRleCksCiAgICAgIHZhbHVlOiBzdHIuc2xpY2UoaW5kZXggKyAxKSwKICAgIH0pOwogIH0KCiAgcmV0dXJuIHBhcmFtczsKfTsKCmNvbnN0IG5ldHdvcmtzVG9WYXBwUHJvcGVydGllcyA9IChuZXR3b3JrcykgPT4gewogIGlmIChuZXR3b3Jrcy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiBbXTsKICB9CgogIHJldHVybiBuZXR3b3Jrcy5yZWR1Y2UobmV0d29ya1RvVmFwcFByb3BlcnRpZXMsIFsKICAgIGBndWVzdGluZm8uZG5zLnNlcnZlcnM9XCR7ZG5zOiR7IG5ldHdvcmtzWzBdIH19YCwKICAgIGBndWVzdGluZm8uZG5zLmRvbWFpbnM9XCR7c2VhcmNoUGF0aDokeyBuZXR3b3Jrc1swXSB9fWAKICBdKTsKfTsKCmNvbnN0IG5ldHdvcmtUb1ZhcHBQcm9wZXJ0aWVzID0gKHByb3BzLCBuZXR3b3JrLCBpKSA9PiB7CiAgY29uc3QgbiA9IGkudG9TdHJpbmcoKTsKCiAgcHJvcHMucHVzaCgKICAgIGBndWVzdGluZm8uaW50ZXJmYWNlLiR7IG4gfS5pcC4wLmFkZHJlc3M9aXA6JHsgbmV0d29yayB9YCwKICAgIGBndWVzdGluZm8uaW50ZXJmYWNlLiR7IG4gfS5pcC4wLm5ldG1hc2s9XCR7bmV0bWFzazokeyBuZXR3b3JrIH19YCwKICAgIGBndWVzdGluZm8uaW50ZXJmYWNlLiR7IG4gfS5yb3V0ZS4wLmdhdGV3YXk9XCR7Z2F0ZXdheTokeyBuZXR3b3JrIH19YAogICk7CgogIHJldHVybiBwcm9wczsKfTsKCmNvbnN0IGdldEluaXRpYWxWYXBwTW9kZSA9IChjKSA9PiB7CiAgY29uc3QgdmFwcFByb3BlcnR5ID0gYy52YXBwUHJvcGVydHkgfHwgW107CgogIGlmICgKICAgICFjLnZhcHBJcHByb3RvY29sICYmCiAgICAhYy52YXBwSXBhbGxvY2F0aW9ucG9saWN5ICYmCiAgICAhYy52YXBwVHJhbnNwb3J0ICYmCiAgICB2YXBwUHJvcGVydHkubGVuZ3RoID09PSAwCiAgKSB7CiAgICByZXR1cm4gVkFQUF9NT0RFLkRJU0FCTEVEOwogIH0KCiAgY29uc3QgZCA9IGdldERlZmF1bHRWYXBwT3B0aW9ucyhjLm5ldHdvcmsgfHwgW10pOwoKICBpZiAoCiAgICBjLnZhcHBJcHByb3RvY29sID09PSBkLnZhcHBJcHByb3RvY29sICYmCiAgICBjLnZhcHBJcGFsbG9jYXRpb25wb2xpY3kgPT09IGQudmFwcElwYWxsb2NhdGlvbnBvbGljeSAmJgogICAgYy52YXBwVHJhbnNwb3J0ID09PSBkLnZhcHBUcmFuc3BvcnQgJiYKICAgIHZhcHBQcm9wZXJ0eS5sZW5ndGggPT09IGQudmFwcFByb3BlcnR5Lmxlbmd0aCAmJgogICAgdmFwcFByb3BlcnR5LmpvaW4oKSA9PT0gZC52YXBwUHJvcGVydHkuam9pbigpCiAgKSB7CiAgICByZXR1cm4gVkFQUF9NT0RFLkFVVE87CiAgfQoKICByZXR1cm4gVkFQUF9NT0RFLk1BTlVBTDsKfTsKCi8qKgogKiBwYXNzaW5nICdkYXRhY2VudGVyJyB5aWVsZHMKICoKICogewogKiAgICBkYXRhY2VudGVyKCkgewogKiAgICAgICByZXR1cm4gdGhpcy5kYXRhY2VudGVyUmVzdWx0cyB8fCBbXTsKICogICAgfSwKICogICAgZGF0YWNlbnRlckxvYWRpbmcoKSB7CiAqICAgICAgIHJldHVybiB0aGlzLmRhdGFjZW50ZXJMb2FkaW5nID09PSBudWxsOwogKiAgICB9CiAqIH0KICovCmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbkhlbHBlcnMobmFtZSkgewogIHJldHVybiB7CiAgICBbbmFtZV0oKSB7CiAgICAgIHJldHVybiB0aGlzW2AkeyBuYW1lIH1SZXN1bHRzYF0gfHwgW107CiAgICB9LAogICAgW2AkeyBuYW1lIH1Mb2FkaW5nYF0oKSB7CiAgICAgIHJldHVybiB0aGlzW2AkeyBuYW1lIH1SZXN1bHRzYF0gPT09IG51bGw7CiAgICB9CiAgfTsKfQoKY29uc3QgZXJyb3JBY3Rpb25zID0gT2JqZWN0LmZyZWV6ZSh7CiAgQ1JFQVRFOiAnY3JlYXRlJywKICBERUxFVEU6ICdkZWxldGUnLAp9KTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBcnJheUxpc3RTZWxlY3QsIENhcmQsIEtleVZhbHVlLCBMb2FkaW5nLCBMYWJlbGVkSW5wdXQsIExhYmVsZWRTZWxlY3QsIEJhbm5lciwgVW5pdElucHV0LCBSYWRpb0dyb3VwLCBZYW1sRWRpdG9yCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBwcm9wczogewogICAgcG9vbElkOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogICAgY3JlZGVudGlhbElkOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogIH0sCgogIGFzeW5jIGZldGNoKCkgewogICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICB0cnkgewogICAgICBjb25zdCBkYXRhY2VudGVyQWxyZWFkeVNldCA9ICEhdGhpcy52YWx1ZS5kYXRhY2VudGVyOwoKICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YUNlbnRlcnMoKTsKCiAgICAgIGlmIChkYXRhY2VudGVyQWxyZWFkeVNldCkgewogICAgICAgIHRoaXMubG9hZEFsbERhdGFjZW50ZXJSZXNvdXJjZXMoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoZSk7CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIGNvbnN0IHZBcHBPcHRpb25zID0gWwogICAgICB7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLnZzcGhlcmUudkFwcE9wdGlvbnMuZGlzYWJsZScpLAogICAgICAgIHZhbHVlOiBWQVBQX01PREUuRElTQUJMRUQKICAgICAgfSwKICAgICAgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLnZBcHBPcHRpb25zLmF1dG8nKSwKICAgICAgICB2YWx1ZTogVkFQUF9NT0RFLkFVVE8KICAgICAgfSwKICAgICAgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLnZBcHBPcHRpb25zLm1hbnVhbCcpLAogICAgICAgIHZhbHVlOiBWQVBQX01PREUuTUFOVUFMCiAgICAgIH0sCiAgICBdOwoKICAgIGNvbnN0IGNyZWF0aW9uTWV0aG9kcyA9IFsKICAgICAgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLmNyZWF0aW9uTWV0aG9kcy50ZW1wbGF0ZScpLAogICAgICAgIHZhbHVlOiBDUkVBVElPTl9NRVRIT0QuVEVNUExBVEUKICAgICAgfSwKICAgICAgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLmNyZWF0aW9uTWV0aG9kcy5saWJyYXJ5JyksCiAgICAgICAgdmFsdWU6IENSRUFUSU9OX01FVEhPRC5MSUJSQVJZCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS5jcmVhdGlvbk1ldGhvZHMudm0nKSwKICAgICAgICB2YWx1ZTogQ1JFQVRJT05fTUVUSE9ELlZNCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS5jcmVhdGlvbk1ldGhvZHMubGVnYWN5JyksCiAgICAgICAgdmFsdWU6IENSRUFUSU9OX01FVEhPRC5MRUdBQ1kKICAgICAgfSwKICAgIF07CgogICAgaWYgKHRoaXMubW9kZSA9PT0gX0NSRUFURSAmJiAhdGhpcy52YWx1ZS5pbml0dGVkKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnZhbHVlLCAnaW5pdHRlZCcsIHsgdmFsdWU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH0pOwoKICAgICAgY29uc3QgewogICAgICAgIGNwdUNvdW50LAogICAgICAgIGRpc2tTaXplLAogICAgICAgIG1lbW9yeVNpemUsCiAgICAgICAgaG9zdHN5c3RlbSwKICAgICAgICBjbG91ZENvbmZpZywKICAgICAgICBncmFjZWZ1bFNodXRkb3duVGltZW91dCwKICAgICAgICBjZmdwYXJhbSwKICAgICAgICBvcwogICAgICB9ID0gREVGQVVMVF9WQUxVRVM7CgogICAgICBzZXQodGhpcy52YWx1ZSwgJ2NyZWF0aW9uVHlwZScsIGNyZWF0aW9uTWV0aG9kc1swXS52YWx1ZSk7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAnY3B1Q291bnQnLCBjcHVDb3VudCk7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAnZGlza1NpemUnLCBkaXNrU2l6ZSk7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAnbWVtb3J5U2l6ZScsIG1lbW9yeVNpemUpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ2hvc3RzeXN0ZW0nLCBob3N0c3lzdGVtKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdncmFjZWZ1bFNodXRkb3duVGltZW91dCcsIGdyYWNlZnVsU2h1dGRvd25UaW1lb3V0KTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdjbG91ZENvbmZpZycsIGNsb3VkQ29uZmlnKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdjZmdwYXJhbScsIGNmZ3BhcmFtKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICd2YXBwUHJvcGVydHknLCB0aGlzLnZhbHVlLnZhcHBQcm9wZXJ0eSk7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAnb3MnLCBvcyk7CiAgICAgIE9iamVjdC5lbnRyaWVzKElOSVRJQUxfVkFQUF9PUFRJT05TKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHsKICAgICAgICBzZXQodGhpcy52YWx1ZSwga2V5LCB2YWx1ZSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGluaXR0ZWQ6ICAgICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgIGNyZWRlbnRpYWw6ICAgICAgICAgICAgICAgbnVsbCwKICAgICAgY3JlYXRpb25NZXRob2RzLAogICAgICBkYXRhQ2VudGVyc1Jlc3VsdHM6ICAgICAgIG51bGwsCiAgICAgIHJlc291cmNlUG9vbHNSZXN1bHRzOiAgICAgbnVsbCwKICAgICAgZGF0YVN0b3Jlc1Jlc3VsdHM6ICAgICAgICBudWxsLAogICAgICBkYXRhU3RvcmVDbHVzdGVyc1Jlc3VsdHM6IG51bGwsCiAgICAgIGZvbGRlcnNSZXN1bHRzOiAgICAgICAgICAgbnVsbCwKICAgICAgaG9zdHNSZXN1bHRzOiAgICAgICAgICAgICBudWxsLAogICAgICB0ZW1wbGF0ZXNSZXN1bHRzOiAgICAgICAgIG51bGwsCiAgICAgIGNvbnRlbnRMaWJyYXJpZXNSZXN1bHRzOiAgbnVsbCwKICAgICAgbGlicmFyeVRlbXBsYXRlc1Jlc3VsdHM6ICBudWxsLAogICAgICB2aXJ0dWFsTWFjaGluZXNSZXN1bHRzOiAgIG51bGwsCiAgICAgIHNob3dUZW1wbGF0ZXNSZXN1bHRzOiAgICAgbnVsbCwKICAgICAgdGFnc1Jlc3VsdHM6ICAgICAgICAgICAgICBudWxsLAogICAgICBhdHRyaWJ1dGVLZXlzUmVzdWx0czogICAgIG51bGwsCiAgICAgIG5ldHdvcmtzUmVzdWx0czogICAgICAgICAgbnVsbCwKICAgICAgaGF2ZVRhZ3M6ICAgICAgICAgICAgICAgICBudWxsLAogICAgICBoYXZlQXR0cmlidXRlczogICAgICAgICAgIG51bGwsCiAgICAgIGhhdmVUZW1wbGF0ZXM6ICAgICAgICAgICAgbnVsbCwKICAgICAgdkFwcE9wdGlvbnMsCiAgICAgIHZhcHBNb2RlOiAgICAgICAgICAgICAgICAgZ2V0SW5pdGlhbFZhcHBNb2RlKHRoaXMudmFsdWUpLAogICAgICBvc09wdGlvbnM6ICAgICAgICAgICAgICAgIE9TX09QVElPTlMsCiAgICAgIHZhbGlkYXRpb25FcnJvcnM6ICAgICAgICAge30sCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdkYXRhQ2VudGVycycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygncmVzb3VyY2VQb29scycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnZGF0YVN0b3JlcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnZGF0YVN0b3JlQ2x1c3RlcnMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ2ZvbGRlcnMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ2hvc3RzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCd0ZW1wbGF0ZXMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ2NvbnRlbnRMaWJyYXJpZXMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ2xpYnJhcnlUZW1wbGF0ZXMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ3ZpcnR1YWxNYWNoaW5lcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnc2hvd1RlbXBsYXRlcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygndGFncycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnYXR0cmlidXRlS2V5cycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnbmV0d29ya3MnKSwKCiAgICBpc0Rpc2FibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCB8fCB0aGlzLm1vZGUgPT09IF9WSUVXOwogICAgfSwKCiAgICBzaG93VGVtcGxhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNyZWF0aW9uVHlwZSA9PT0gJ3RlbXBsYXRlJzsKICAgIH0sCgogICAgc2hvd0NvbnRlbnRMaWJyYXJ5KCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5jcmVhdGlvblR5cGUgPT09ICdsaWJyYXJ5JzsKICAgIH0sCgogICAgc2hvd1ZpcnR1YWxNYWNoaW5lcygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuY3JlYXRpb25UeXBlID09PSAndm0nOwogICAgfSwKCiAgICBzaG93SXNvKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5jcmVhdGlvblR5cGUgPT09ICdsZWdhY3knOwogICAgfSwKCiAgICBzaG93TWFudWFsKCkgewogICAgICByZXR1cm4gdGhpcy52YXBwTW9kZSA9PT0gJ21hbnVhbCc7CiAgICB9LAoKICAgIGZhaWxlZFRvTG9hZFRlbXBsYXRlcygpIHsKICAgICAgcmV0dXJuICF0aGlzLnRlbXBsYXRlc0xvYWRpbmcgJiYgIXRoaXMuaGF2ZVRlbXBsYXRlczsKICAgIH0sCgogICAgdGVtcGxhdGVTdGF0dXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZhaWxlZFRvTG9hZFRlbXBsYXRlcyA/ICdlcnJvcicgOiBudWxsOwogICAgfSwKCiAgICB0ZW1wbGF0ZVRvb2x0aXAoKSB7CiAgICAgIGNvbnN0IHJhd1RlbXBsYXRlVmFsdWUgPSB0aGlzLnZhbHVlLmNsb25lRnJvbTsKCiAgICAgIHJldHVybiB0aGlzLmZhaWxlZFRvTG9hZFRlbXBsYXRlcyA/IHRoaXMudCgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLnZzcGhlcmUuaW5zdGFuY2VPcHRpb25zLnRlbXBsYXRlLm5vbmUnKSA6IHJhd1RlbXBsYXRlVmFsdWU7CiAgICB9LAoKICAgIGhvc3Q6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmhvc3RzeXN0ZW0gPT09ICcnID8gU0VOVElORUwgOiB0aGlzLnZhbHVlLmhvc3RzeXN0ZW07CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT09IFNFTlRJTkVMID8gJycgOiB2YWx1ZTsKCiAgICAgICAgc2V0KHRoaXMudmFsdWUsICdob3N0c3lzdGVtJywgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAoKICAgIGN1c3RvbUF0dHJpYnV0ZToga2V5VmFsdWVTdHJpbmdzKCd2YWx1ZS5jdXN0b21BdHRyaWJ1dGUnKSwKICAgIHZhcHBQcm9wZXJ0eTogICAga2V5VmFsdWVTdHJpbmdzKCd2YWx1ZS52YXBwUHJvcGVydHknKSwKICAgIGNmZ3BhcmFtOiAgICAgICAga2V5VmFsdWVTdHJpbmdzKCd2YWx1ZS5jZmdwYXJhbScpLAoKICAgIGNwdUNvdW50OiAgIGludGVnZXJTdHJpbmcoJ3ZhbHVlLmNwdUNvdW50JyksCiAgICBtZW1vcnlTaXplOiBpbnRlZ2VyU3RyaW5nKCd2YWx1ZS5tZW1vcnlTaXplJyksCiAgICBkaXNrU2l6ZTogICBpbnRlZ2VyU3RyaW5nKCd2YWx1ZS5kaXNrU2l6ZScpLAoKICAgIGdyYWNlZnVsU2h1dGRvd25UaW1lb3V0OiBpbnRlZ2VyU3RyaW5nKCd2YWx1ZS5ncmFjZWZ1bFNodXRkb3duVGltZW91dCcpLAoKICAgIG5ldHdvcms6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLm5ldHdvcmsgfHwgW107CiAgICAgIH0sCiAgICAgIHNldChuZXdWYWx1ZSkgewogICAgICAgIHNldCh0aGlzLnZhbHVlLCAnbmV0d29yaycsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKCiAgICB0YWc6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRhZyB8fCBbXTsKICAgICAgfSwKICAgICAgc2V0KG5ld1ZhbHVlKSB7CiAgICAgICAgc2V0KHRoaXMudmFsdWUsICd0YWcnLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgc2hvd0Nsb3VkQ29uZmlnWWFtbCgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuY3JlYXRpb25UeXBlICE9PSAnbGVnYWN5JzsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGNyZWRlbnRpYWxJZChuZXUsIG9sZCkgewogICAgICBpZiAoIG5ldSAhPT0gb2xkICkgewogICAgICAgIHRoaXMuJGZldGNoKCk7CiAgICAgIH0KICAgIH0sCiAgICAndmFsdWUuZGF0YWNlbnRlcicoKSB7CiAgICAgIHRoaXMubG9hZEFsbERhdGFjZW50ZXJSZXNvdXJjZXMoKTsKICAgIH0sCiAgICAndmFsdWUuY29udGVudExpYnJhcnknKCkgewogICAgICB0aGlzLmxvYWRMaWJyYXJ5VGVtcGxhdGVzKCk7CiAgICB9LAogICAgJ3ZhbHVlLmNyZWF0aW9uVHlwZScodmFsdWUpIHsKICAgICAgc2V0KHRoaXMudmFsdWUsICdjbG9uZUZyb20nLCAnJyk7CiAgICAgIGNvbnN0IGJvb3QyZG9ja2VyVXJsID0gdmFsdWUgPT09IENSRUFUSU9OX01FVEhPRC5MRUdBQ1kgPyBCT09UXzJfRE9DS0VSX1VSTCA6ICcnOwoKICAgICAgc2V0KHRoaXMudmFsdWUsICdib290MmRvY2tlclVybCcsIGJvb3QyZG9ja2VyVXJsKTsKICAgIH0sCiAgICB2YXBwTW9kZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09IFZBUFBfTU9ERS5BVVRPKSB7CiAgICAgICAgY29uc3QgZGVmYXVsdFZhcHBPcHRpb25zID0gZ2V0RGVmYXVsdFZhcHBPcHRpb25zKHRoaXMudmFsdWUubmV0d29yayB8fCBbXSk7CgogICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVZhcHBPcHRpb25zKGRlZmF1bHRWYXBwT3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlVmFwcE9wdGlvbnMoSU5JVElBTF9WQVBQX09QVElPTlMpOwogICAgfSwKICAgIHZhbGlkYXRpb25FcnJvcnModmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCB2YWx1ZSk7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgc3RyaW5naWZ5LAogICAgYXN5bmMgcmVxdWVzdE9wdGlvbnMocmVzb3VyY2UsIGRhdGFDZW50ZXIsIGxpYnJhcnkpIHsKICAgICAgY29uc3QgZGF0YWNlbnRlckxlc3NSZXNvdXJjZXMgPSBbJ3RhZy1jYXRlZ29yaWVzJywgJ3RhZ3MnLCAnZGF0YS1jZW50ZXJzJywgJ2N1c3RvbS1hdHRyaWJ1dGVzJ107CgogICAgICBpZiAoIXRoaXMuY3JlZGVudGlhbElkIHx8ICghZGF0YWNlbnRlckxlc3NSZXNvdXJjZXMuaW5jbHVkZXMocmVzb3VyY2UpICYmICFkYXRhQ2VudGVyKSkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBPYmplY3QuZW50cmllcyh7CiAgICAgICAgY2xvdWRDcmVkZW50aWFsSWQ6IHRoaXMuY3JlZGVudGlhbElkLAogICAgICAgIGRhdGFDZW50ZXIsCiAgICAgICAgbGlicmFyeQogICAgICB9KQogICAgICAgIC5maWx0ZXIoKGVudHJ5KSA9PiBlbnRyeVsxXSkKICAgICAgICAubWFwKChlbnRyeSkgPT4gYCR7IGVudHJ5WzBdIH09JHsgZW50cnlbMV0gfWApCiAgICAgICAgLmpvaW4oJyYnKTsKCiAgICAgIGNvbnN0IHVybCA9IGAvbWV0YS92c3BoZXJlLyR7IHJlc291cmNlIH0/JHsgcXVlcnlQYXJhbXMgfWA7CgogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9yZXF1ZXN0JywgewogICAgICAgIHVybCwKICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UsCiAgICAgIH0sIHsgcm9vdDogdHJ1ZSB9KTsKCiAgICAgIHJldHVybiByZXN1bHQuZGF0YTsKICAgIH0sCgogICAgYXN5bmMgbG9hZERhdGFDZW50ZXJzKCkgewogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnZGF0YS1jZW50ZXJzJyk7CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpOwogICAgICBjb25zdCB2YWx1ZUluQ29udGVudCA9IGNvbnRlbnQuZmluZCgoYykgPT4gYy52YWx1ZSA9PT0gdGhpcy52YWx1ZS5kYXRhY2VudGVyICk7CgogICAgICBpZiAoIXZhbHVlSW5Db250ZW50KSB7CiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX0NSRUFURSkgewogICAgICAgICAgc2V0KHRoaXMudmFsdWUsICdkYXRhY2VudGVyJywgb3B0aW9uc1swXSk7CiAgICAgICAgICBzZXQodGhpcy52YWx1ZSwgJ2Nsb25lRnJvbScsIHVuZGVmaW5lZCk7CiAgICAgICAgICBzZXQodGhpcy52YWx1ZSwgJ3VzZURhdGFTdG9yZUNsdXN0ZXInLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoW19FRElULCBfVklFV10uaW5jbHVkZXModGhpcy5tb2RlKSkgewogICAgICAgICAgdGhpcy5tYW5hZ2VFcnJvcnMoZXJyb3JBY3Rpb25zLkNSRUFURSwgJ2RhdGFjZW50ZXInKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tYW5hZ2VFcnJvcnMoZXJyb3JBY3Rpb25zLkRFTEVURSwgJ2RhdGFjZW50ZXInKTsKICAgICAgfQoKICAgICAgc2V0KHRoaXMsICdkYXRhQ2VudGVyc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZFRhZ3MoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc2V0KHRoaXMsICd0YWdzUmVzdWx0cycsIG51bGwpOwoKICAgICAgICBjb25zdCBjYXRlZ29yaWVzUHJvbWlzZSA9IHRoaXMucmVxdWVzdE9wdGlvbnMoJ3RhZy1jYXRlZ29yaWVzJyk7CiAgICAgICAgY29uc3Qgb3B0aW9uc1Byb21pc2UgPSB0aGlzLnJlcXVlc3RPcHRpb25zKCd0YWdzJyk7CgogICAgICAgIGNvbnN0IFtjYXRlZ29yaWVzLCBvcHRpb25zXSA9IGF3YWl0IFByb21pc2UuYWxsKFtjYXRlZ29yaWVzUHJvbWlzZSwgb3B0aW9uc1Byb21pc2VdKTsKICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBUYWdzVG9Db250ZW50KG9wdGlvbnMpLm1hcCgob3B0aW9uKSA9PiAoewogICAgICAgICAgLi4ub3B0aW9uLAogICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3JpZXMuZmluZCgoYykgPT4gYy5uYW1lID09PSBvcHRpb24uY2F0ZWdvcnkpCiAgICAgICAgfSkpOwoKICAgICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgndGFnJywgY29udGVudCwgb3B0aW9ucywgdHJ1ZSk7CgogICAgICAgIHNldCh0aGlzLCAndGFnc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgICAgICB0aGlzLmhhdmVUYWdzID0gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuaGF2ZVRhZ3MgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBsb2FkQ3VzdG9tQXR0cmlidXRlcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBzZXQodGhpcywgJ2F0dHJpYnV0ZUtleXNSZXN1bHRzJywgbnVsbCk7CgogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdjdXN0b20tYXR0cmlidXRlcycpOwoKICAgICAgICBzZXQodGhpcywgJ2F0dHJpYnV0ZUtleXNSZXN1bHRzJywgdGhpcy5tYXBDdXN0b21BdHRyaWJ1dGVzVG9Db250ZW50KG9wdGlvbnMpKTsKICAgICAgICB0aGlzLmhhdmVBdHRyaWJ1dGVzID0gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuaGF2ZUF0dHJpYnV0ZXMgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBsb2FkSG9zdHMoKSB7CiAgICAgIHNldCh0aGlzLCAnaG9zdHNSZXN1bHRzJywgbnVsbCk7CgogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnaG9zdHMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBIb3N0T3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdob3N0c3lzdGVtJywgY29udGVudCwgb3B0aW9ucyk7CgogICAgICBzZXQodGhpcywgJ2hvc3RzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkUmVzb3VyY2VQb29scygpIHsKICAgICAgc2V0KHRoaXMsICdyZXNvdXJjZVBvb2xzUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ3Jlc291cmNlLXBvb2xzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKCiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpOwoKICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ3Bvb2wnLCBjb250ZW50LCBvcHRpb25zKTsKCiAgICAgIHNldCh0aGlzLCAncmVzb3VyY2VQb29sc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZERhdGFTdG9yZXMoKSB7CiAgICAgIHNldCh0aGlzLCAnZGF0YVN0b3Jlc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdkYXRhLXN0b3JlcycsIHRoaXMudmFsdWUuZGF0YWNlbnRlcik7CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpOwoKICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ2RhdGFzdG9yZScsIGNvbnRlbnQsIG9wdGlvbnMpOwoKICAgICAgc2V0KHRoaXMsICdkYXRhU3RvcmVzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkRGF0YVN0b3JlQ2x1c3RlcnMoKSB7CiAgICAgIHNldCh0aGlzLCAnZGF0YVN0b3JlUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ2RhdGEtc3RvcmUtY2x1c3RlcnMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdkYXRhc3RvcmVDbHVzdGVyJywgY29udGVudCwgb3B0aW9ucyk7CgogICAgICBzZXQodGhpcywgJ2RhdGFTdG9yZUNsdXN0ZXJzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkRm9sZGVycygpIHsKICAgICAgc2V0KHRoaXMsICdmb2xkZXJzUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ2ZvbGRlcnMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBGb2xkZXJPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpOwoKICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ2ZvbGRlcicsIGNvbnRlbnQsIG9wdGlvbnMpOwoKICAgICAgc2V0KHRoaXMsICdmb2xkZXJzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkTmV0d29ya3MoKSB7CiAgICAgIHNldCh0aGlzLCAnbmV0d29ya3NSZXN1bHRzJywgbnVsbCk7CgogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnbmV0d29ya3MnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCduZXR3b3JrJywgY29udGVudCwgb3B0aW9ucywgdHJ1ZSk7CgogICAgICBzZXQodGhpcywgJ25ldHdvcmtzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkQ29udGVudExpYnJhcmllcygpIHsKICAgICAgc2V0KHRoaXMsICdjb250ZW50TGlicmFyaWVzUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ2NvbnRlbnQtbGlicmFyaWVzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucykKICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnZhbHVlICE9PSAnJyk7CgogICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnY29udGVudExpYnJhcnknLCBjb250ZW50LCBvcHRpb25zKTsKCiAgICAgIHNldCh0aGlzLCAnY29udGVudExpYnJhcmllc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZExpYnJhcnlUZW1wbGF0ZXMoKSB7CiAgICAgIHNldCh0aGlzLCAnbGlicmFyeVRlbXBsYXRlc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IGNvbnRlbnRMaWJyYXJ5ID0gdGhpcy52YWx1ZS5jb250ZW50TGlicmFyeTsKCiAgICAgIGlmICghY29udGVudExpYnJhcnkpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdsaWJyYXJ5LXRlbXBsYXRlcycsIHRoaXMudmFsdWUuZGF0YWNlbnRlciwgY29udGVudExpYnJhcnkpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIGlmICh0aGlzLnNob3dDb250ZW50TGlicmFyeSkgewogICAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdjbG9uZUZyb20nLCBjb250ZW50LCBvcHRpb25zKTsKICAgICAgfQoKICAgICAgc2V0KHRoaXMsICdsaWJyYXJ5VGVtcGxhdGVzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkVmlydHVhbE1hY2hpbmVzKCkgewogICAgICBzZXQodGhpcywgJ3ZpcnR1YWxNYWNoaW5lc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCd2aXJ0dWFsLW1hY2hpbmVzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKCiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpOwoKICAgICAgaWYgKHRoaXMuc2hvd1ZpcnR1YWxNYWNoaW5lcykgewogICAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdjbG9uZUZyb20nLCBjb250ZW50LCBvcHRpb25zKTsKICAgICAgfQoKICAgICAgc2V0KHRoaXMsICd2aXJ0dWFsTWFjaGluZXNSZXN1bHRzJywgY29udGVudCk7CiAgICB9LAoKICAgIGFzeW5jIGxvYWRUZW1wbGF0ZXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc2V0KHRoaXMsICd0ZW1wbGF0ZXNSZXN1bHRzJywgbnVsbCk7CgogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCd0ZW1wbGF0ZXMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwoKICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgICAgaWYgKHRoaXMuc2hvd1RlbXBsYXRlKSB7CiAgICAgICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnY2xvbmVGcm9tJywgY29udGVudCwgb3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICBzZXQodGhpcywgJ3RlbXBsYXRlc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgICAgICB0aGlzLmhhdmVUZW1wbGF0ZXMgPSB0cnVlOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5oYXZlVGVtcGxhdGVzID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgbG9hZEFsbERhdGFjZW50ZXJSZXNvdXJjZXMoKSB7CiAgICAgIHRoaXMubG9hZFJlc291cmNlUG9vbHMoKTsKICAgICAgdGhpcy5sb2FkRGF0YVN0b3JlcygpOwogICAgICB0aGlzLmxvYWRGb2xkZXJzKCk7CiAgICAgIHRoaXMubG9hZEhvc3RzKCk7CiAgICAgIHRoaXMubG9hZFRlbXBsYXRlcygpOwogICAgICB0aGlzLmxvYWRUYWdzKCk7CiAgICAgIHRoaXMubG9hZEN1c3RvbUF0dHJpYnV0ZXMoKTsKICAgICAgdGhpcy5sb2FkQ29udGVudExpYnJhcmllcygpOwogICAgICB0aGlzLmxvYWRMaWJyYXJ5VGVtcGxhdGVzKCk7CiAgICAgIHRoaXMubG9hZFZpcnR1YWxNYWNoaW5lcygpOwogICAgICB0aGlzLmxvYWROZXR3b3JrcygpOwogICAgfSwKCiAgICByZXNldFZhbHVlSWZOZWNlc3Nhcnkoa2V5LCBjb250ZW50LCBvcHRpb25zLCBpc0FycmF5ID0gZmFsc2UpIHsKICAgICAgY29uc3QgaXNWYWx1ZUluQ29udGVudCA9ICgpID0+IHsKICAgICAgICBpZiAoaXNBcnJheSkgewogICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVba2V5XT8uZXZlcnkoKHZhbHVlKSA9PiBjb250ZW50LmZpbmQoKGMpID0+IGMudmFsdWUgPT09IHZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29udGVudC5maW5kKChjKSA9PiBjLnZhbHVlID09PSB0aGlzLnZhbHVlW2tleV0gKTsKICAgICAgfTsKCiAgICAgIGlmICghaXNWYWx1ZUluQ29udGVudCgpKSB7CiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX0NSRUFURSkgewogICAgICAgICAgY29uc3QgdmFsdWUgPSBpc0FycmF5ID8gW10gOiBjb250ZW50WzBdPy52YWx1ZTsKCiAgICAgICAgICBpZiAodmFsdWUgIT09IFNFTlRJTkVMKSB7CiAgICAgICAgICAgIHNldCh0aGlzLnZhbHVlLCBrZXksIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChbX0VESVQsIF9WSUVXXS5pbmNsdWRlcyh0aGlzLm1vZGUpKSB7CiAgICAgICAgICB0aGlzLm1hbmFnZUVycm9ycyhlcnJvckFjdGlvbnMuQ1JFQVRFLCBrZXkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1hbmFnZUVycm9ycyhlcnJvckFjdGlvbnMuREVMRVRFLCBrZXkpOwogICAgICB9CiAgICB9LAoKICAgIG1hcFBhdGhPcHRpb25zVG9Db250ZW50KHBhdGhPcHRpb25zKSB7CiAgICAgIHJldHVybiAocGF0aE9wdGlvbnMgfHwgW10pLm1hcCgocGF0aE9wdGlvbikgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogcGF0aE9wdGlvbiwKICAgICAgICAgIHZhbHVlOiBwYXRoT3B0aW9uCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIG1hcEhvc3RPcHRpb25zVG9Db250ZW50KGhvc3RPcHRpb25zKSB7CiAgICAgIHJldHVybiB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KGhvc3RPcHRpb25zKQogICAgICAgIC5tYXAoKGMpID0+IGMudmFsdWUgPT09ICcnID8gewogICAgICAgICAgbGFiZWw6IHRoaXMudCgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLnZzcGhlcmUuaG9zdE9wdGlvbnMuYW55JyksCiAgICAgICAgICB2YWx1ZTogU0VOVElORUwKICAgICAgICB9IDogYyk7CiAgICB9LAoKICAgIG1hcEZvbGRlck9wdGlvbnNUb0NvbnRlbnQoZm9sZGVyT3B0aW9ucykgewogICAgICByZXR1cm4gZm9sZGVyT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gKHsKICAgICAgICBsYWJlbDogb3B0aW9uIHx8ICdcdTAwQTAnLAogICAgICAgIHZhbHVlOiBvcHRpb24gfHwgJycKICAgICAgfSkpOwogICAgfSwKCiAgICBtYXBDdXN0b21BdHRyaWJ1dGVzVG9Db250ZW50KGN1c3RvbUF0dHJpYnV0ZXMpIHsKICAgICAgcmV0dXJuIGN1c3RvbUF0dHJpYnV0ZXMubWFwKChjdXN0b21BdHRyaWJ1dGUpID0+ICh7CiAgICAgICAgbGFiZWw6IGN1c3RvbUF0dHJpYnV0ZS5uYW1lLAogICAgICAgIHZhbHVlOiBjdXN0b21BdHRyaWJ1dGUua2V5LnRvU3RyaW5nKCkKICAgICAgfSkpOwogICAgfSwKCiAgICBtYXBUYWdzVG9Db250ZW50KHRhZ3MpIHsKICAgICAgcmV0dXJuIHRhZ3MubWFwKCh0YWcpID0+ICh7CiAgICAgICAgLi4udGFnLAogICAgICAgIGxhYmVsOiBgJHsgdGFnLmNhdGVnb3J5IH0gLyAkeyB0YWcubmFtZSB9YCwKICAgICAgICB2YWx1ZTogdGFnLmlkCiAgICAgIH0pKTsKICAgIH0sCgogICAgaW5pdEtleVZhbHVlUGFyYW1zKHBhaXJzS2V5LCBwYXJhbXNLZXkpIHsKICAgICAgc2V0KHRoaXMsIHBhcmFtc0tleSwgKGdldCh0aGlzLCBwYWlyc0tleSkgfHwgW10pLnJlZHVjZShzdHJpbmdzVG9QYXJhbXMsIFtdKSk7CiAgICB9LAoKICAgIHVwZGF0ZVZhcHBPcHRpb25zKG9wdHMpIHsKICAgICAgc2V0KHRoaXMudmFsdWUsICd2YXBwSXBwcm90b2NvbCcsIG9wdHMudmFwcElwcHJvdG9jb2wpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ3ZhcHBJcGFsbG9jYXRpb25wb2xpY3knLCBvcHRzLnZhcHBJcGFsbG9jYXRpb25wb2xpY3kpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ3ZhcHBUcmFuc3BvcnQnLCBvcHRzLnZhcHBUcmFuc3BvcnQpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ3ZhcHBQcm9wZXJ0eScsIG9wdHMudmFwcFByb3BlcnR5KTsKICAgICAgdGhpcy5pbml0S2V5VmFsdWVQYXJhbXMoJ3ZhbHVlLnZhcHBQcm9wZXJ0eScsICdpbml0VmFwcEFycmF5Jyk7CiAgICB9LAoKICAgIG1hbmFnZUVycm9ycyhhY3Rpb24gPSBlcnJvckFjdGlvbnMuQ1JFQVRFLCBrZXkpIHsKICAgICAgaWYgKGFjdGlvbiA9PT0gZXJyb3JBY3Rpb25zLkNSRUFURSkgewogICAgICAgIGNvbnN0IGtleXMgPSBba2V5LCAuLi4odGhpcy52YWxpZGF0aW9uRXJyb3JzW3RoaXMucG9vbElkXSB8fCBbXSldOwoKICAgICAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnZhbGlkYXRpb25FcnJvcnMsIHsgW3RoaXMucG9vbElkXToga2V5cyB9KTsKICAgICAgfQoKICAgICAgaWYgKGFjdGlvbiA9PT0gZXJyb3JBY3Rpb25zLkRFTEVURSAmJiB0aGlzLnZhbGlkYXRpb25FcnJvcnNbdGhpcy5wb29sSWRdKSB7CiAgICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy52YWxpZGF0aW9uRXJyb3JzLCB7IFt0aGlzLnBvb2xJZF06IHRoaXMudmFsaWRhdGlvbkVycm9yc1t0aGlzLnBvb2xJZF0uZmlsdGVyKCh4KSA9PiB4ID09PSBrZXkpIH0pIDsKICAgICAgfQogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["vmwarevsphere.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"vmwarevsphere.vue","sourceRoot":"node_modules/@rancher/shell/machine-config","sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport { Banner } from '@components/Banner';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { Card } from '@components/Card';\nimport { RadioGroup } from '@components/Form/Radio';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ArrayListSelect from '@shell/components/form/ArrayListSelect';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { get, set } from '@shell/utils/object';\nimport { integerString, keyValueStrings } from '@shell/utils/computed';\nimport { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\n\nexport const SENTINEL = '__SENTINEL__';\nconst VAPP_MODE = {\n  DISABLED: 'disabled',\n  AUTO:     'auto',\n  MANUAL:   'manual'\n};\nconst CREATION_METHOD = {\n  TEMPLATE: 'template',\n  LIBRARY:  'library',\n  VM:       'vm',\n  LEGACY:   'legacy'\n};\nconst BOOT_2_DOCKER_URL = 'https://releases.rancher.com/os/latest/rancheros-vmware.iso';\nconst INITIAL_VAPP_OPTIONS = {\n  vappIpprotocol:         '',\n  vappIpallocationpolicy: '',\n  vappTransport:          '',\n  vappProperty:           []\n};\nconst OS_OPTIONS = [\n  'linux',\n  'windows'\n];\n\nexport const DEFAULT_VALUES = {\n  cpuCount:                '2',\n  diskSize:                '20000',\n  memorySize:              '4096',\n  hostsystem:              '',\n  cloudConfig:             '#cloud-config\\n\\n',\n  gracefulShutdownTimeout: '0',\n  cfgparam:                ['disk.enableUUID=TRUE'],\n  os:                      OS_OPTIONS[0]\n};\n\nconst getDefaultVappOptions = (networks) => {\n  return {\n    vappIpprotocol:         'IPv4',\n    vappIpallocationpolicy: 'fixedAllocated',\n    vappTransport:          'com.vmware.guestInfo',\n    vappProperty:           networksToVappProperties(networks)\n  };\n};\n\nconst stringsToParams = (params, str) => {\n  const index = str.indexOf('=');\n\n  if ( index > -1 ) {\n    params.push({\n      key:   str.slice(0, index),\n      value: str.slice(index + 1),\n    });\n  }\n\n  return params;\n};\n\nconst networksToVappProperties = (networks) => {\n  if (networks.length === 0) {\n    return [];\n  }\n\n  return networks.reduce(networkToVappProperties, [\n    `guestinfo.dns.servers=\\${dns:${ networks[0] }}`,\n    `guestinfo.dns.domains=\\${searchPath:${ networks[0] }}`\n  ]);\n};\n\nconst networkToVappProperties = (props, network, i) => {\n  const n = i.toString();\n\n  props.push(\n    `guestinfo.interface.${ n }.ip.0.address=ip:${ network }`,\n    `guestinfo.interface.${ n }.ip.0.netmask=\\${netmask:${ network }}`,\n    `guestinfo.interface.${ n }.route.0.gateway=\\${gateway:${ network }}`\n  );\n\n  return props;\n};\n\nconst getInitialVappMode = (c) => {\n  const vappProperty = c.vappProperty || [];\n\n  if (\n    !c.vappIpprotocol &&\n    !c.vappIpallocationpolicy &&\n    !c.vappTransport &&\n    vappProperty.length === 0\n  ) {\n    return VAPP_MODE.DISABLED;\n  }\n\n  const d = getDefaultVappOptions(c.network || []);\n\n  if (\n    c.vappIpprotocol === d.vappIpprotocol &&\n    c.vappIpallocationpolicy === d.vappIpallocationpolicy &&\n    c.vappTransport === d.vappTransport &&\n    vappProperty.length === d.vappProperty.length &&\n    vappProperty.join() === d.vappProperty.join()\n  ) {\n    return VAPP_MODE.AUTO;\n  }\n\n  return VAPP_MODE.MANUAL;\n};\n\n/**\n * passing 'datacenter' yields\n *\n * {\n *    datacenter() {\n *       return this.datacenterResults || [];\n *    },\n *    datacenterLoading() {\n *       return this.datacenterLoading === null;\n *    }\n * }\n */\nfunction createOptionHelpers(name) {\n  return {\n    [name]() {\n      return this[`${ name }Results`] || [];\n    },\n    [`${ name }Loading`]() {\n      return this[`${ name }Results`] === null;\n    }\n  };\n}\n\nconst errorActions = Object.freeze({\n  CREATE: 'create',\n  DELETE: 'delete',\n});\n\nexport default {\n  components: {\n    ArrayListSelect, Card, KeyValue, Loading, LabeledInput, LabeledSelect, Banner, UnitInput, RadioGroup, YamlEditor\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    poolId: {\n      type:    String,\n      default: '',\n    },\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  async fetch() {\n    this.errors = [];\n\n    try {\n      const datacenterAlreadySet = !!this.value.datacenter;\n\n      await this.loadDataCenters();\n\n      if (datacenterAlreadySet) {\n        this.loadAllDatacenterResources();\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    const vAppOptions = [\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.disable'),\n        value: VAPP_MODE.DISABLED\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.auto'),\n        value: VAPP_MODE.AUTO\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.manual'),\n        value: VAPP_MODE.MANUAL\n      },\n    ];\n\n    const creationMethods = [\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.template'),\n        value: CREATION_METHOD.TEMPLATE\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.library'),\n        value: CREATION_METHOD.LIBRARY\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.vm'),\n        value: CREATION_METHOD.VM\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.legacy'),\n        value: CREATION_METHOD.LEGACY\n      },\n    ];\n\n    if (this.mode === _CREATE && !this.value.initted) {\n      Object.defineProperty(this.value, 'initted', { value: true, enumerable: false });\n\n      const {\n        cpuCount,\n        diskSize,\n        memorySize,\n        hostsystem,\n        cloudConfig,\n        gracefulShutdownTimeout,\n        cfgparam,\n        os\n      } = DEFAULT_VALUES;\n\n      set(this.value, 'creationType', creationMethods[0].value);\n      set(this.value, 'cpuCount', cpuCount);\n      set(this.value, 'diskSize', diskSize);\n      set(this.value, 'memorySize', memorySize);\n      set(this.value, 'hostsystem', hostsystem);\n      set(this.value, 'gracefulShutdownTimeout', gracefulShutdownTimeout);\n      set(this.value, 'cloudConfig', cloudConfig);\n      set(this.value, 'cfgparam', cfgparam);\n      set(this.value, 'vappProperty', this.value.vappProperty);\n      set(this.value, 'os', os);\n      Object.entries(INITIAL_VAPP_OPTIONS).forEach(([key, value]) => {\n        set(this.value, key, value);\n      });\n    }\n\n    return {\n      initted:                  false,\n      credential:               null,\n      creationMethods,\n      dataCentersResults:       null,\n      resourcePoolsResults:     null,\n      dataStoresResults:        null,\n      dataStoreClustersResults: null,\n      foldersResults:           null,\n      hostsResults:             null,\n      templatesResults:         null,\n      contentLibrariesResults:  null,\n      libraryTemplatesResults:  null,\n      virtualMachinesResults:   null,\n      showTemplatesResults:     null,\n      tagsResults:              null,\n      attributeKeysResults:     null,\n      networksResults:          null,\n      haveTags:                 null,\n      haveAttributes:           null,\n      haveTemplates:            null,\n      vAppOptions,\n      vappMode:                 getInitialVappMode(this.value),\n      osOptions:                OS_OPTIONS,\n      validationErrors:         {},\n    };\n  },\n\n  computed: {\n    ...createOptionHelpers('dataCenters'),\n    ...createOptionHelpers('resourcePools'),\n    ...createOptionHelpers('dataStores'),\n    ...createOptionHelpers('dataStoreClusters'),\n    ...createOptionHelpers('folders'),\n    ...createOptionHelpers('hosts'),\n    ...createOptionHelpers('templates'),\n    ...createOptionHelpers('contentLibraries'),\n    ...createOptionHelpers('libraryTemplates'),\n    ...createOptionHelpers('virtualMachines'),\n    ...createOptionHelpers('showTemplates'),\n    ...createOptionHelpers('tags'),\n    ...createOptionHelpers('attributeKeys'),\n    ...createOptionHelpers('networks'),\n\n    isDisabled() {\n      return this.disabled || this.mode === _VIEW;\n    },\n\n    showTemplate() {\n      return this.value.creationType === 'template';\n    },\n\n    showContentLibrary() {\n      return this.value.creationType === 'library';\n    },\n\n    showVirtualMachines() {\n      return this.value.creationType === 'vm';\n    },\n\n    showIso() {\n      return this.value.creationType === 'legacy';\n    },\n\n    showManual() {\n      return this.vappMode === 'manual';\n    },\n\n    failedToLoadTemplates() {\n      return !this.templatesLoading && !this.haveTemplates;\n    },\n\n    templateStatus() {\n      return this.failedToLoadTemplates ? 'error' : null;\n    },\n\n    templateTooltip() {\n      const rawTemplateValue = this.value.cloneFrom;\n\n      return this.failedToLoadTemplates ? this.t('cluster.machineConfig.vsphere.instanceOptions.template.none') : rawTemplateValue;\n    },\n\n    host: {\n      get() {\n        return this.value.hostsystem === '' ? SENTINEL : this.value.hostsystem;\n      },\n      set(value) {\n        const newValue = value === SENTINEL ? '' : value;\n\n        set(this.value, 'hostsystem', newValue);\n      }\n    },\n\n    customAttribute: keyValueStrings('value.customAttribute'),\n    vappProperty:    keyValueStrings('value.vappProperty'),\n    cfgparam:        keyValueStrings('value.cfgparam'),\n\n    cpuCount:   integerString('value.cpuCount'),\n    memorySize: integerString('value.memorySize'),\n    diskSize:   integerString('value.diskSize'),\n\n    gracefulShutdownTimeout: integerString('value.gracefulShutdownTimeout'),\n\n    network: {\n      get() {\n        return this.value.network || [];\n      },\n      set(newValue) {\n        set(this.value, 'network', newValue);\n      }\n    },\n\n    tag: {\n      get() {\n        return this.value.tag || [];\n      },\n      set(newValue) {\n        set(this.value, 'tag', newValue);\n      }\n    },\n\n    showCloudConfigYaml() {\n      return this.value.creationType !== 'legacy';\n    },\n  },\n\n  watch: {\n    credentialId(neu, old) {\n      if ( neu !== old ) {\n        this.$fetch();\n      }\n    },\n    'value.datacenter'() {\n      this.loadAllDatacenterResources();\n    },\n    'value.contentLibrary'() {\n      this.loadLibraryTemplates();\n    },\n    'value.creationType'(value) {\n      set(this.value, 'cloneFrom', '');\n      const boot2dockerUrl = value === CREATION_METHOD.LEGACY ? BOOT_2_DOCKER_URL : '';\n\n      set(this.value, 'boot2dockerUrl', boot2dockerUrl);\n    },\n    vappMode(value) {\n      if (value === VAPP_MODE.AUTO) {\n        const defaultVappOptions = getDefaultVappOptions(this.value.network || []);\n\n        return this.updateVappOptions(defaultVappOptions);\n      }\n\n      this.updateVappOptions(INITIAL_VAPP_OPTIONS);\n    },\n    validationErrors(value) {\n      this.$emit('error', value);\n    }\n  },\n\n  methods: {\n    stringify,\n    async requestOptions(resource, dataCenter, library) {\n      const datacenterLessResources = ['tag-categories', 'tags', 'data-centers', 'custom-attributes'];\n\n      if (!this.credentialId || (!datacenterLessResources.includes(resource) && !dataCenter)) {\n        return [];\n      }\n\n      const queryParams = Object.entries({\n        cloudCredentialId: this.credentialId,\n        dataCenter,\n        library\n      })\n        .filter((entry) => entry[1])\n        .map((entry) => `${ entry[0] }=${ entry[1] }`)\n        .join('&');\n\n      const url = `/meta/vsphere/${ resource }?${ queryParams }`;\n\n      const result = await this.$store.dispatch('management/request', {\n        url,\n        redirectUnauthorized: false,\n      }, { root: true });\n\n      return result.data;\n    },\n\n    async loadDataCenters() {\n      const options = await this.requestOptions('data-centers');\n      const content = this.mapPathOptionsToContent(options);\n      const valueInContent = content.find((c) => c.value === this.value.datacenter );\n\n      if (!valueInContent) {\n        if (this.mode === _CREATE) {\n          set(this.value, 'datacenter', options[0]);\n          set(this.value, 'cloneFrom', undefined);\n          set(this.value, 'useDataStoreCluster', false);\n        }\n\n        if ([_EDIT, _VIEW].includes(this.mode)) {\n          this.manageErrors(errorActions.CREATE, 'datacenter');\n        }\n      } else {\n        this.manageErrors(errorActions.DELETE, 'datacenter');\n      }\n\n      set(this, 'dataCentersResults', content);\n    },\n\n    async loadTags() {\n      try {\n        set(this, 'tagsResults', null);\n\n        const categoriesPromise = this.requestOptions('tag-categories');\n        const optionsPromise = this.requestOptions('tags');\n\n        const [categories, options] = await Promise.all([categoriesPromise, optionsPromise]);\n        const content = this.mapTagsToContent(options).map((option) => ({\n          ...option,\n          category: categories.find((c) => c.name === option.category)\n        }));\n\n        this.resetValueIfNecessary('tag', content, options, true);\n\n        set(this, 'tagsResults', content);\n        this.haveTags = true;\n      } catch (e) {\n        this.haveTags = false;\n      }\n    },\n\n    async loadCustomAttributes() {\n      try {\n        set(this, 'attributeKeysResults', null);\n\n        const options = await this.requestOptions('custom-attributes');\n\n        set(this, 'attributeKeysResults', this.mapCustomAttributesToContent(options));\n        this.haveAttributes = true;\n      } catch (e) {\n        this.haveAttributes = false;\n      }\n    },\n\n    async loadHosts() {\n      set(this, 'hostsResults', null);\n\n      const options = await this.requestOptions('hosts', this.value.datacenter);\n      const content = this.mapHostOptionsToContent(options);\n\n      this.resetValueIfNecessary('hostsystem', content, options);\n\n      set(this, 'hostsResults', content);\n    },\n\n    async loadResourcePools() {\n      set(this, 'resourcePoolsResults', null);\n\n      const options = await this.requestOptions('resource-pools', this.value.datacenter);\n\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('pool', content, options);\n\n      set(this, 'resourcePoolsResults', content);\n    },\n\n    async loadDataStores() {\n      set(this, 'dataStoresResults', null);\n\n      const options = await this.requestOptions('data-stores', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('datastore', content, options);\n\n      set(this, 'dataStoresResults', content);\n    },\n\n    async loadDataStoreClusters() {\n      set(this, 'dataStoreResults', null);\n\n      const options = await this.requestOptions('data-store-clusters', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('datastoreCluster', content, options);\n\n      set(this, 'dataStoreClustersResults', content);\n    },\n\n    async loadFolders() {\n      set(this, 'foldersResults', null);\n\n      const options = await this.requestOptions('folders', this.value.datacenter);\n      const content = this.mapFolderOptionsToContent(options);\n\n      this.resetValueIfNecessary('folder', content, options);\n\n      set(this, 'foldersResults', content);\n    },\n\n    async loadNetworks() {\n      set(this, 'networksResults', null);\n\n      const options = await this.requestOptions('networks', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('network', content, options, true);\n\n      set(this, 'networksResults', content);\n    },\n\n    async loadContentLibraries() {\n      set(this, 'contentLibrariesResults', null);\n\n      const options = await this.requestOptions('content-libraries', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options)\n        .filter((item) => item.value !== '');\n\n      this.resetValueIfNecessary('contentLibrary', content, options);\n\n      set(this, 'contentLibrariesResults', content);\n    },\n\n    async loadLibraryTemplates() {\n      set(this, 'libraryTemplatesResults', null);\n\n      const contentLibrary = this.value.contentLibrary;\n\n      if (!contentLibrary) {\n        return [];\n      }\n\n      const options = await this.requestOptions('library-templates', this.value.datacenter, contentLibrary);\n      const content = this.mapPathOptionsToContent(options);\n\n      if (this.showContentLibrary) {\n        this.resetValueIfNecessary('cloneFrom', content, options);\n      }\n\n      set(this, 'libraryTemplatesResults', content);\n    },\n\n    async loadVirtualMachines() {\n      set(this, 'virtualMachinesResults', null);\n\n      const options = await this.requestOptions('virtual-machines', this.value.datacenter);\n\n      const content = this.mapPathOptionsToContent(options);\n\n      if (this.showVirtualMachines) {\n        this.resetValueIfNecessary('cloneFrom', content, options);\n      }\n\n      set(this, 'virtualMachinesResults', content);\n    },\n\n    async loadTemplates() {\n      try {\n        set(this, 'templatesResults', null);\n\n        const options = await this.requestOptions('templates', this.value.datacenter);\n\n        const content = this.mapPathOptionsToContent(options);\n\n        if (this.showTemplate) {\n          this.resetValueIfNecessary('cloneFrom', content, options);\n        }\n\n        set(this, 'templatesResults', content);\n        this.haveTemplates = true;\n      } catch (e) {\n        this.haveTemplates = false;\n      }\n    },\n\n    loadAllDatacenterResources() {\n      this.loadResourcePools();\n      this.loadDataStores();\n      this.loadFolders();\n      this.loadHosts();\n      this.loadTemplates();\n      this.loadTags();\n      this.loadCustomAttributes();\n      this.loadContentLibraries();\n      this.loadLibraryTemplates();\n      this.loadVirtualMachines();\n      this.loadNetworks();\n    },\n\n    resetValueIfNecessary(key, content, options, isArray = false) {\n      const isValueInContent = () => {\n        if (isArray) {\n          return this.value[key]?.every((value) => content.find((c) => c.value === value));\n        }\n\n        return content.find((c) => c.value === this.value[key] );\n      };\n\n      if (!isValueInContent()) {\n        if (this.mode === _CREATE) {\n          const value = isArray ? [] : content[0]?.value;\n\n          if (value !== SENTINEL) {\n            set(this.value, key, value);\n          }\n        }\n\n        if ([_EDIT, _VIEW].includes(this.mode)) {\n          this.manageErrors(errorActions.CREATE, key);\n        }\n      } else {\n        this.manageErrors(errorActions.DELETE, key);\n      }\n    },\n\n    mapPathOptionsToContent(pathOptions) {\n      return (pathOptions || []).map((pathOption) => {\n        return {\n          label: pathOption,\n          value: pathOption\n        };\n      });\n    },\n\n    mapHostOptionsToContent(hostOptions) {\n      return this.mapPathOptionsToContent(hostOptions)\n        .map((c) => c.value === '' ? {\n          label: this.t('cluster.machineConfig.vsphere.hostOptions.any'),\n          value: SENTINEL\n        } : c);\n    },\n\n    mapFolderOptionsToContent(folderOptions) {\n      return folderOptions.map((option) => ({\n        label: option || '\\u00A0',\n        value: option || ''\n      }));\n    },\n\n    mapCustomAttributesToContent(customAttributes) {\n      return customAttributes.map((customAttribute) => ({\n        label: customAttribute.name,\n        value: customAttribute.key.toString()\n      }));\n    },\n\n    mapTagsToContent(tags) {\n      return tags.map((tag) => ({\n        ...tag,\n        label: `${ tag.category } / ${ tag.name }`,\n        value: tag.id\n      }));\n    },\n\n    initKeyValueParams(pairsKey, paramsKey) {\n      set(this, paramsKey, (get(this, pairsKey) || []).reduce(stringsToParams, []));\n    },\n\n    updateVappOptions(opts) {\n      set(this.value, 'vappIpprotocol', opts.vappIpprotocol);\n      set(this.value, 'vappIpallocationpolicy', opts.vappIpallocationpolicy);\n      set(this.value, 'vappTransport', opts.vappTransport);\n      set(this.value, 'vappProperty', opts.vappProperty);\n      this.initKeyValueParams('value.vappProperty', 'initVappArray');\n    },\n\n    manageErrors(action = errorActions.CREATE, key) {\n      if (action === errorActions.CREATE) {\n        const keys = [key, ...(this.validationErrors[this.poolId] || [])];\n\n        this.validationErrors = Object.assign({}, this.validationErrors, { [this.poolId]: keys });\n      }\n\n      if (action === errorActions.DELETE && this.validationErrors[this.poolId]) {\n        this.validationErrors = Object.assign({}, this.validationErrors, { [this.poolId]: this.validationErrors[this.poolId].filter((x) => x === key) }) ;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.scheduling.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.scheduling.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div\n          class=\"row\"\n          data-testid=\"datacenter\"\n        >\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.datacenter\"\n              :loading=\"dataCentersLoading\"\n              :mode=\"mode\"\n              :options=\"dataCenters\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.dataCenter')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.datacenter\"\n            />\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"resourcePool\"\n          >\n            <LabeledSelect\n              v-model=\"value.pool\"\n              :loading=\"resourcePoolsLoading\"\n              :mode=\"mode\"\n              :options=\"resourcePools\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.resourcePool')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.pool\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col span-6\"\n            data-testid=\"dataStore\"\n          >\n            <LabeledSelect\n              v-model=\"value.datastore\"\n              :loading=\"dataStoresLoading\"\n              :mode=\"mode\"\n              :options=\"dataStores\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.dataStore')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.datastore\"\n            />\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"folder\"\n          >\n            <LabeledSelect\n              v-model=\"value.folder\"\n              :loading=\"foldersLoading\"\n              :mode=\"mode\"\n              :options=\"folders\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.folder')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.folder\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col span-6\"\n            data-testid=\"host\"\n          >\n            <LabeledSelect\n              v-model=\"host\"\n              :loading=\"hostsLoading\"\n              :mode=\"mode\"\n              :options=\"hosts\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.host.label')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"host\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.scheduling.host.note') }}\n            </p>\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"gracefulShutdownTimeout\"\n          >\n            <UnitInput\n              v-model=\"gracefulShutdownTimeout\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.gracefulShutdownTimeout.label')\"\n              :suffix=\"t('suffix.seconds', { count: gracefulShutdownTimeout})\"\n              :disabled=\"isDisabled\"\n              min=\"0\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.scheduling.gracefulShutdownTimeout.note') }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </Card>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.instanceOptions.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.instanceOptions.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"cpuCount\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.cpus')\"\n              :suffix=\"t('suffix.cores')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"memorySize\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.memory')\"\n              :suffix=\"t('suffix.mib')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"diskSize\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.disk')\"\n              :suffix=\"t('suffix.mib')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.os\"\n              :mode=\"mode\"\n              :options=\"osOptions\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.os')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col\"\n            :class=\"showContentLibrary ? 'span-4' : 'span-6'\"\n          >\n            <LabeledSelect\n              v-model=\"value.creationType\"\n              :mode=\"mode\"\n              :options=\"creationMethods\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.creationMethod')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div\n            v-if=\"showTemplate\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"templatesLoading\"\n              :mode=\"mode\"\n              :options=\"templates\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.template.label')\"\n              :disabled=\"isDisabled\"\n              :status=\"templateStatus\"\n              :tooltip=\"templateTooltip\"\n            />\n          </div>\n          <div\n            v-if=\"showContentLibrary\"\n            class=\"col span-4\"\n          >\n            <LabeledSelect\n              v-model=\"value.contentLibrary\"\n              :loading=\"contentLibrariesLoading\"\n              :mode=\"mode\"\n              :options=\"contentLibraries\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.contentLibrary')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div\n            v-if=\"showContentLibrary\"\n            class=\"col span-4\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"libraryTemplatesLoading\"\n              :mode=\"mode\"\n              :options=\"libraryTemplates\"\n              :searchable=\"true\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.libraryTemplate')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.cloneFrom\"\n            />\n          </div>\n          <div\n            v-if=\"showVirtualMachines\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"virtualMachinesLoading\"\n              :mode=\"mode\"\n              :options=\"virtualMachines\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.virtualMachine')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.cloneFrom\"\n            />\n          </div>\n          <div\n            v-if=\"showIso\"\n            class=\"col span-6\"\n          >\n            <LabeledInput\n              v-model=\"value.boot2dockerUrl\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.label')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showIso\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-12\">\n            <LabeledInput\n              v-model=\"value.cloudinit\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.label')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.note') }}\n            </p>\n          </div>\n        </div>\n        <div\n          v-if=\"showCloudConfigYaml\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">{{ t('cluster.machineConfig.vsphere.instanceOptions.cloudConfigYaml') }}</label>\n            <YamlEditor\n              ref=\"yaml-additional\"\n              v-model=\"value.cloudConfig\"\n              :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n              :disabled=\"isDisabled\"\n              initial-yaml-values=\"# Additional Manifest YAML\"\n              class=\"yaml-editor\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">\n              {{ t('cluster.machineConfig.vsphere.networks.label') }}\n            </label>\n            <ArrayListSelect\n              v-model=\"network\"\n              :options=\"networks\"\n              :array-list-props=\"{ addLabel: t('cluster.machineConfig.vsphere.networks.add') }\"\n              :loading=\"networksLoading\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">\n              {{ t('cluster.machineConfig.vsphere.guestinfo.label') }}\n            </label>\n            <KeyValue\n              v-model=\"cfgparam\"\n              :add-label=\"t('cluster.machineConfig.vsphere.guestinfo.add')\"\n              :key-placeholder=\"t('cluster.machineConfig.vsphere.guestinfo.keyPlaceholder')\"\n              :value-placeholder=\"t('cluster.machineConfig.vsphere.guestinfo.valuePlaceholder')\"\n              :read-allowed=\"false\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n      </div>\n    </Card>\n    <Card\n      v-if=\"haveTags\"\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.tags.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.tags.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <ArrayListSelect\n          v-model=\"tag\"\n          :options=\"tags\"\n          :array-list-props=\"{ addLabel: t('cluster.machineConfig.vsphere.tags.addTag') }\"\n          :loading=\"tagsLoading\"\n          :disabled=\"isDisabled\"\n        />\n      </div>\n    </Card>\n    <Card\n      v-if=\"haveAttributes\"\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.customAttributes.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.customAttributes.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <KeyValue\n          v-model=\"customAttribute\"\n          :key-options=\"attributeKeys\"\n          :options=\"tags\"\n          :add-label=\"t('cluster.machineConfig.vsphere.customAttributes.add')\"\n          :read-allowed=\"false\"\n          :loading=\"attributeKeysLoading\"\n          :key-taggable=\"false\"\n          :key-option-unique=\"true\"\n          :disabled=\"isDisabled\"\n        />\n      </div>\n    </Card>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.vAppOptions.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.vAppOptions.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div class=\"row mb-10\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"vappMode\"\n              name=\"restoreMode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.restoreType')\"\n              :options=\"vAppOptions\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showManual\"\n          class=\"row mb-10\"\n        >\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappTransport\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappIpprotocol\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappIpallocationpolicy\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showManual\"\n          class=\"row\"\n        >\n          <div class=\"col span-12\">\n            <KeyValue\n              v-model=\"vappProperty\"\n              :title=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.label')\"\n              :key-placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.keyPlaceholder')\"\n              :value-placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.valuePlaceholder')\"\n              :add-label=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.add')\"\n              :read-allowed=\"false\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .labeled-tooltip .status-icon.icon-info {\n    z-index: 0;\n}\n</style>\n"]}]}