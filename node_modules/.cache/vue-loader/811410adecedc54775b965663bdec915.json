{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Basics.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Basics.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJ0BzaGVsbC9taXhpbnMvZm9ybS12YWxpZGF0aW9uJzsKCmltcG9ydCB7IHNldCwgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBMRUdBQ1kgfSBmcm9tICdAc2hlbGwvc3RvcmUvZmVhdHVyZXMnOwppbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7CmltcG9ydCB7IF9FRElUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwoKY29uc3QgSEFSVkVTVEVSID0gJ2hhcnZlc3Rlcic7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyLAogICAgQ2hlY2tib3gsCiAgICBMYWJlbGVkU2VsZWN0LAogICAgWWFtbEVkaXRvciwKICB9LAoKICBtaXhpbnM6IFtDcmVhdGVFZGl0VmlldywgRm9ybVZhbGlkYXRpb25dLAoKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgIE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAoKICAgIHByb3ZpZGVyOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBjcmVkZW50aWFsOiB7CiAgICAgIHR5cGU6ICAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICBudWxsLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCgogICAgdXNlckNoYXJ0VmFsdWVzOiB7CiAgICAgIHR5cGU6ICAgICBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY2lzT3ZlcnJpZGU6IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAoKICAgIGFsbFBzYXM6IHsKICAgICAgdHlwZTogICAgIEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKCiAgICBhZGRvblZlcnNpb25zOiB7CiAgICAgIHR5cGU6ICAgICBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAgbnVsbAogICAgfSwKCiAgICBzZWxlY3RlZFZlcnNpb246IHsKICAgICAgdHlwZTogICAgIE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB2ZXJzaW9uT3B0aW9uczogewogICAgICB0eXBlOiAgICAgQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXNIYXJ2ZXN0ZXJEcml2ZXI6IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXNIYXJ2ZXN0ZXJJbmNvbXBhdGlibGU6IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgc2hvd0RlcHJlY2F0ZWRQYXRjaFZlcnNpb25zOiB7CiAgICAgIHR5cGU6ICAgICBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlzRWxlbWVudGFsQ2x1c3RlcjogewogICAgICB0eXBlOiAgICAgQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBoYXZlQXJnSW5mbzogewogICAgICB0eXBlOiAgICAgQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzaG93Q25pOiB7CiAgICAgIHR5cGU6ICAgICBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNob3dDbG91ZFByb3ZpZGVyOiB7CiAgICAgIHR5cGU6ICAgICBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsb3VkUHJvdmlkZXJPcHRpb25zOiB7CiAgICAgIHR5cGU6ICAgICBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgc2VsZWN0ZWRWZXJzaW9uKG5ldSwgb2xkKSB7CiAgICAgIGlmIChuZXU/LnZhbHVlICE9PSBvbGQ/LnZhbHVlICYmIHRoaXMuY2lsaXVtSXB2NikgewogICAgICAgIC8vIFJlLWFzc2lnbiBzbyB0aGF0IHRoZSBzZXR0ZXIgdXBkYXRlcyB0aGUgc3RydWN0dXJlIGZvciB0aGUgbmV3IGs4cyB2ZXJzaW9uIGlmIG5lZWRlZAogICAgICAgIHRoaXMuY2lsaXVtSXB2NiA9ICEhdGhpcy5jaWxpdW1JcHY2OwogICAgICB9CiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoeyBmZWF0dXJlczogJ2ZlYXR1cmVzL2dldCcgfSksCgogICAgc2VydmVyQ29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5zcGVjLnJrZUNvbmZpZy5tYWNoaW5lR2xvYmFsQ29uZmlnOwogICAgfSwKCiAgICBzaG93Q25pTm9uZUJhbm5lcigpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29uZmlnPy5jbmkgPT09ICdub25lJzsKICAgIH0sCgogICAgc2hvd0NpbGl1bUlwdjZDb250cm9scygpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29uZmlnPy5jbmkgPT09ICdjaWxpdW0nIHx8IHRoaXMuc2VydmVyQ29uZmlnPy5jbmkgPT09ICdtdWx0dXMsY2lsaXVtJzsKICAgIH0sCgogICAgc2hvd05ldHdvcmtQb2xpY3lXYXJuaW5nQmFubmVyKCkgewogICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJDb25maWc/LmNuaSA9PT0gJ2NpbGl1bScgJiYgdGhpcy52YWx1ZT8uc3BlYz8uZW5hYmxlTmV0d29ya1BvbGljeTsKICAgIH0sCgogICAgYWdlbnRDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmFnZW50Q29uZmlnOwogICAgfSwKCiAgICBwcm9maWxlT3B0aW9ucygpIHsKICAgICAgY29uc3Qgb3V0ID0gKHRoaXMuYWdlbnRBcmdzPy5wcm9maWxlPy5vcHRpb25zIHx8IFtdKS5tYXAoKHgpID0+IHsKICAgICAgICByZXR1cm4geyBsYWJlbDogeCwgdmFsdWU6IHggfTsKICAgICAgfSk7CgogICAgICBvdXQudW5zaGlmdCh7CiAgICAgICAgbGFiZWw6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vdCddKCdjbHVzdGVyLnJrZTIuY2lzUHJvZmlsZS5vcHRpb24nKSwKICAgICAgICB2YWx1ZTogJycKICAgICAgfSk7CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKCiAgICAvKioKICAgICAqIEFsbG93IHRvIGRpc3BsYXkgb3ZlcnJpZGUgaWYgUFNBIGlzIG5lZWRlZCBhbmQgcHJvZmlsZSBpcyBzZXQKICAgICAqLwogICAgaGFzQ2lzT3ZlcnJpZGUoKSB7CiAgICAgIHJldHVybiAodGhpcy5zZXJ2ZXJDb25maWc/LnByb2ZpbGUgfHwgdGhpcy5hZ2VudENvbmZpZz8ucHJvZmlsZSkgJiYKICAgICAgICAvLyBBbHNvIGNoZWNrIG90aGVyIGNhc2VzIG9uIHdoZW4gdG8gZGlzcGxheSB0aGUgb3ZlcnJpZGUKICAgICAgICB0aGlzLnNob3dDaXNQcm9maWxlICYmIHRoaXMuaXNDaXNTdXBwb3J0ZWQ7CiAgICB9LAoKICAgIC8qKgogICAgICogRGlzYWJsZSBQU0EgaWYgQ0lTIGhhcmRlbmluZyBpcyBlbmFibGVkLCBleGNlcHQgb3ZlcnJpZGUKICAgICAqLwogICAgaXNQc2FEaXNhYmxlZCgpIHsKICAgICAgY29uc3QgY2lzVmFsdWUgPSB0aGlzLmFnZW50Q29uZmlnPy5wcm9maWxlIHx8IHRoaXMuc2VydmVyQ29uZmlnPy5wcm9maWxlOwoKICAgICAgcmV0dXJuICEoIWNpc1ZhbHVlIHx8IHRoaXMuY2lzT3ZlcnJpZGUpICYmIHRoaXMuaXNDaXNTdXBwb3J0ZWQ7CiAgICB9LAoKICAgIC8qKgogICAgICogR2V0IHRoZSBkZWZhdWx0IGxhYmVsIGZvciB0aGUgUFNBIHRlbXBsYXRlIG9wdGlvbgogICAgICovCiAgICBkZWZhdWx0UHNhT3B0aW9uTGFiZWwoKSB7CiAgICAgIGNvbnN0IG9wdGlvbkNhc2UgPSAhdGhpcy52YWx1ZS5pc0szcyA/ICdkZWZhdWx0JyA6ICdub25lJzsKCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL3QnXShgY2x1c3Rlci5ya2UyLmRlZmF1bHRQb2RTZWN1cml0eUFkbWlzc2lvbkNvbmZpZ3VyYXRpb25UZW1wbGF0ZU5hbWUub3B0aW9uLiR7IG9wdGlvbkNhc2UgfWApOwogICAgfSwKCiAgICAvKioKICAgICAqIENvbnZlcnQgUFNBIHRlbXBsYXRlcyBpbnRvIG9wdGlvbnMsIHNvcnRpbmcgYW5kIGZsYWdnaW5nIGlmIGFueSBzZWxlY3RlZAogICAgICovCiAgICBwc2FPcHRpb25zKCkgewogICAgICBjb25zdCBvdXQgPSBbewogICAgICAgIGxhYmVsOiB0aGlzLmRlZmF1bHRQc2FPcHRpb25MYWJlbCwKICAgICAgICB2YWx1ZTogJycKICAgICAgfV07CgogICAgICBpZiAoIHRoaXMuYWxsUHNhcyApIHsKICAgICAgICBmb3IgKCBjb25zdCBwc2Egb2YgdGhpcy5hbGxQc2FzICkgewogICAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgICBsYWJlbDogcHNhLm5hbWVEaXNwbGF5LAogICAgICAgICAgICB2YWx1ZTogcHNhLmlkLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IGN1ciA9IHRoaXMudmFsdWUuc3BlYy5kZWZhdWx0UG9kU2VjdXJpdHlBZG1pc3Npb25Db25maWd1cmF0aW9uVGVtcGxhdGVOYW1lOwoKICAgICAgaWYgKCBjdXIgJiYgIW91dC5maW5kKCh4KSA9PiB4LnZhbHVlID09PSBjdXIpICkgewogICAgICAgIG91dC51bnNoaWZ0KHsgbGFiZWw6IGAkeyBjdXIgfSAoQ3VycmVudClgLCB2YWx1ZTogY3VyIH0pOwogICAgICB9CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKCiAgICAvKioKICAgICAqIENoZWNrIGlmIGN1cnJlbnQgQ0lTIHByb2ZpbGUgaXMgcmVxdWlyZWQgYW5kIGxpc3RlZCBpbiB0aGUgb3B0aW9ucwogICAgICovCiAgICBpc0Npc1N1cHBvcnRlZCgpIHsKICAgICAgY29uc3QgY2lzUHJvZmlsZSA9IHRoaXMuc2VydmVyQ29uZmlnPy5wcm9maWxlIHx8IHRoaXMuYWdlbnRDb25maWc/LnByb2ZpbGU7CgogICAgICByZXR1cm4gIWNpc1Byb2ZpbGUgfHwgdGhpcy5wcm9maWxlT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlKS5pbmNsdWRlcyhjaXNQcm9maWxlKTsKICAgIH0sCgogICAgZGlzYWJsZU9wdGlvbnMoKSB7CiAgICAgIHJldHVybiAodGhpcy5zZXJ2ZXJBcmdzLmRpc2FibGUub3B0aW9ucyB8fCBbXSkubWFwKCh2YWx1ZSkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi93aXRoRmFsbGJhY2snXShgY2x1c3Rlci4keyB0aGlzLnZhbHVlLmlzSzNzID8gJ2szcycgOiAncmtlMicgfS5zeXN0ZW1TZXJ2aWNlLiIkeyB2YWx1ZSB9ImAsIG51bGwsIHZhbHVlLnJlcGxhY2UoL14ocmtlMnxyYW5jaGVyKS0vLCAnJykpLAogICAgICAgICAgdmFsdWUsCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNlcnZlckFyZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkVmVyc2lvbj8uc2VydmVyQXJncyB8fCB7fTsKICAgIH0sCgogICAgYWdlbnRBcmdzKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFZlcnNpb24/LmFnZW50QXJncyB8fCB7fTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBUaGUgYWRkb25zIChrdWJlIGNoYXJ0cykgYXBwbGljYWJsZSBmb3IgdGhlIHNlbGVjdGVkIGt1YmUgdmVyc2lvbgogICAgICoKICAgICAqIHsgW2NoYXJ0TmFtZTpzdHJpbmddOiB7IHJlcG86IHN0cmluZywgdmVyc2lvbjogc3RyaW5nIH0gfQogICAgICovCiAgICBjaGFydFZlcnNpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFZlcnNpb24/LmNoYXJ0cyB8fCB7fTsKICAgIH0sCgogICAgc2hvd0Npc1Byb2ZpbGUoKSB7CiAgICAgIHJldHVybiAodGhpcy5wcm92aWRlciA9PT0gJ2N1c3RvbScgfHwgdGhpcy5pc0VsZW1lbnRhbENsdXN0ZXIpICYmICggdGhpcy5zZXJ2ZXJBcmdzPy5wcm9maWxlIHx8IHRoaXMuYWdlbnRBcmdzPy5wcm9maWxlICk7CiAgICB9LAoKICAgIGVuYWJsZWRTeXN0ZW1TZXJ2aWNlczogewogICAgICBnZXQoKSB7CiAgICAgICAgY29uc3Qgb3V0ID0gZGlmZmVyZW5jZSh0aGlzLnNlcnZlckFyZ3MuZGlzYWJsZS5vcHRpb25zLCB0aGlzLnNlcnZlckNvbmZpZy5kaXNhYmxlIHx8IFtdKTsKCiAgICAgICAgcmV0dXJuIG91dDsKICAgICAgfSwKCiAgICAgIHNldChuZXUpIHsKICAgICAgICBjb25zdCBvdXQgPSBkaWZmZXJlbmNlKHRoaXMuc2VydmVyQXJncy5kaXNhYmxlLm9wdGlvbnMsIG5ldSk7CgogICAgICAgIHRoaXMuJGVtaXQoJ2VuYWJsZWQtc3lzdGVtLXNlcnZpY2VzLWNoYW5nZWQnLCBvdXQpOwogICAgICB9LAogICAgfSwKCiAgICBzaG93Q2xvdWRDb25maWdZYW1sKCkgewogICAgICBpZiAoICF0aGlzLmFnZW50QXJnc1snY2xvdWQtcHJvdmlkZXItbmFtZSddICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgbmFtZSA9IHRoaXMuYWdlbnRDb25maWc/LlsnY2xvdWQtcHJvdmlkZXItbmFtZSddOwoKICAgICAgaWYgKCAhbmFtZSApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHN3aXRjaCAoIG5hbWUgKSB7CiAgICAgIGNhc2UgJ25vbmUnOiByZXR1cm4gZmFsc2U7CiAgICAgIGNhc2UgJ2F3cyc6IHJldHVybiBmYWxzZTsKICAgICAgY2FzZSAncmFuY2hlci12c3BoZXJlJzogcmV0dXJuIGZhbHNlOwogICAgICBjYXNlIEhBUlZFU1RFUjogcmV0dXJuIGZhbHNlOwogICAgICBkZWZhdWx0OiByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICBzaG93VnNwaGVyZU5vdGUoKSB7CiAgICAgIGlmICggIXRoaXMuYWdlbnRBcmdzWydjbG91ZC1wcm92aWRlci1uYW1lJ10gKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zdCBuYW1lID0gdGhpcy5hZ2VudENvbmZpZz8uWydjbG91ZC1wcm92aWRlci1uYW1lJ107CgogICAgICByZXR1cm4gbmFtZSA9PT0gJ3JhbmNoZXItdnNwaGVyZSc7CiAgICB9LAoKICAgIHNob3drOHMyMUxlZ2FjeVdhcm5pbmcoKSB7CiAgICAgIGNvbnN0IGlzTGVnYWN5RW5hYmxlZCA9IHRoaXMuZmVhdHVyZXMoTEVHQUNZKTsKCiAgICAgIGlmICghaXNMZWdhY3lFbmFibGVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGNvbnN0IHNlbGVjdGVkVmVyc2lvbiA9IHNlbXZlci5jb2VyY2UodGhpcy52YWx1ZS5zcGVjLmt1YmVybmV0ZXNWZXJzaW9uKTsKCiAgICAgIHJldHVybiBzZW12ZXIuc2F0aXNmaWVzKHNlbGVjdGVkVmVyc2lvbiwgJz49MS4yMS4wJyk7CiAgICB9LAoKICAgIGNpbGl1bUlwdjY6IHsKICAgICAgZ2V0KCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgIGNvbnN0IGNuaSA9IHRoaXMuc2VydmVyQ29uZmlnLmNuaTsgLy8gZm9yY2UgdGhpcyBwcm9wZXJ0eSB0byByZWNhbGN1bGF0ZSBpZiBjbmkgd2FzIGNoYW5nZWQgYXdheSBmcm9tIGNpbGl1bSBhbmQgY2hhcnRWYWx1ZXNbJ3JrZS1jaWxpdW0nXSBkZWxldGVkCgogICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy51c2VyQ2hhcnRWYWx1ZXNbdGhpcy5jaGFydFZlcnNpb25LZXkoJ3JrZTItY2lsaXVtJyldOwoKICAgICAgICByZXR1cm4gY2hhcnQ/LmNpbGl1bT8uaXB2Nj8uZW5hYmxlZCB8fCBjaGFydD8uaXB2Nj8uZW5hYmxlZCB8fCBmYWxzZTsKICAgICAgfSwKICAgICAgc2V0KG5ldSkgewogICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmNoYXJ0VmVyc2lvbktleSgncmtlMi1jaWxpdW0nKTsKICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnVzZXJDaGFydFZhbHVlc1tuYW1lXTsKCiAgICAgICAgLy8gUktFMiBvbGRlciB0aGFuIDEuMjMuNSB1c2VzIGRpZmZlcmVudCBIZWxtIGNoYXJ0IHZhbHVlcyBzdHJ1Y3R1cmUgLSBuZWVkIHRvIHRha2UgdGhhdCBpbnRvIGFjY291bnQKICAgICAgICBjb25zdCB2ZXJzaW9uID0gdGhpcy5zZWxlY3RlZFZlcnNpb24udmFsdWU7CiAgICAgICAgbGV0IGNpbGl1bVZhbHVlcyA9IHt9OwoKICAgICAgICBpZiAoc2VtdmVyLmd0KHZlcnNpb24sICcxLjIzLjUnKSkgewogICAgICAgICAgLy8gTmV3IHN0eWxlCiAgICAgICAgICBjaWxpdW1WYWx1ZXMgPSB7CiAgICAgICAgICAgIC4uLnZhbHVlcywKICAgICAgICAgICAgaXB2NjogewogICAgICAgICAgICAgIC4uLnZhbHVlcz8uaXB2NiwKICAgICAgICAgICAgICBlbmFibGVkOiBuZXUKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBkZWxldGUgY2lsaXVtVmFsdWVzLmNpbGl1bTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gT2xkIHN0eWxlCiAgICAgICAgICBjaWxpdW1WYWx1ZXMgPSB7CiAgICAgICAgICAgIC4uLnZhbHVlcywKICAgICAgICAgICAgY2lsaXVtOiB7CiAgICAgICAgICAgICAgLi4udmFsdWVzPy5jaWxpdW0sCiAgICAgICAgICAgICAgaXB2NjogewogICAgICAgICAgICAgICAgLi4udmFsdWVzPy5jaWxpdW0/LmlwdjYsCiAgICAgICAgICAgICAgICBlbmFibGVkOiBuZXUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgZGVsZXRlIGNpbGl1bVZhbHVlcy5pcHY2OwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kZW1pdCgnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJywgY2lsaXVtVmFsdWVzKTsKICAgICAgfQogICAgfSwKCiAgICBjaWxpdW1CYW5kd2lkdGhNYW5hZ2VyOiB7CiAgICAgIGdldCgpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICBjb25zdCBjbmkgPSB0aGlzLnNlcnZlckNvbmZpZy5jbmk7IC8vIGZvcmNlIHRoaXMgcHJvcGVydHkgdG8gcmVjYWxjdWxhdGUgaWYgY25pIHdhcyBjaGFuZ2VkIGF3YXkgZnJvbSBjaWxpdW0gYW5kIGNoYXJ0VmFsdWVzWydya2UtY2lsaXVtJ10gZGVsZXRlZAoKICAgICAgICByZXR1cm4gdGhpcy51c2VyQ2hhcnRWYWx1ZXNbdGhpcy5jaGFydFZlcnNpb25LZXkoJ3JrZTItY2lsaXVtJyldPy5iYW5kd2lkdGhNYW5hZ2VyPy5lbmFibGVkIHx8IGZhbHNlOwogICAgICB9LAogICAgICBzZXQobmV1KSB7CiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuY2hhcnRWZXJzaW9uS2V5KCdya2UyLWNpbGl1bScpOwogICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudXNlckNoYXJ0VmFsdWVzW25hbWVdOwoKICAgICAgICBjb25zdCBjaWxpdW1WYWx1ZXMgPSB7CiAgICAgICAgICAuLi52YWx1ZXMsCiAgICAgICAgICBiYW5kd2lkdGhNYW5hZ2VyOiB7CiAgICAgICAgICAgIC4uLnZhbHVlcz8uYmFuZHdpZHRoTWFuYWdlciwKICAgICAgICAgICAgZW5hYmxlZDogbmV1CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy4kZW1pdCgnY2lsaXVtLXZhbHVlcy1jaGFuZ2VkJywgY2lsaXVtVmFsdWVzKTsKICAgICAgfQogICAgfSwKCiAgICBpc0VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9FRElUOwogICAgfSwKCiAgICBjYW5Ob3RFZGl0Q2xvdWRQcm92aWRlcigpIHsKICAgICAgY29uc3QgY2FuTm90RWRpdCA9IHRoaXMuaXNFZGl0OwoKICAgICAgcmV0dXJuIGNhbk5vdEVkaXQ7CiAgICB9LAoKICAgIC8qKgogICAgICogRGlzcGxheSB3YXJuaW5nIGFib3V0IGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBuZWVkZWQgZm9yIGNsb3VkIHByb3ZpZGVyIEFtYXpvbiBpZiBrdWJlID49IDEuMjcKICAgICAqLwogICAgc2hvd0Nsb3VkUHJvdmlkZXJBbWF6b25BZGRpdGlvbmFsQ29uZmlnV2FybmluZygpIHsKICAgICAgcmV0dXJuICEhc2VtdmVyLmd0ZSh0aGlzLnZhbHVlLnNwZWMua3ViZXJuZXRlc1ZlcnNpb24sICd2MS4yNy4wJykgJiYgdGhpcy5hZ2VudENvbmZpZz8uWydjbG91ZC1wcm92aWRlci1uYW1lJ10gPT09ICdhd3MnOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNldCwKCiAgICBjaGFydFZlcnNpb25LZXkobmFtZSkgewogICAgICBjb25zdCBhZGRvblZlcnNpb24gPSB0aGlzLmFkZG9uVmVyc2lvbnMuZmluZCgoYXYpID0+IGF2Lm5hbWUgPT09IG5hbWUpOwoKICAgICAgcmV0dXJuIGFkZG9uVmVyc2lvbiA/IGAkeyBuYW1lIH0tJHsgYWRkb25WZXJzaW9uLnZlcnNpb24gfWAgOiBuYW1lOwogICAgfSwKICAgIGdldCwKICB9LAp9Owo="},{"version":3,"sources":["Basics.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Basics.vue","sourceRoot":"node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs","sourcesContent":["<script>\nimport difference from 'lodash/difference';\nimport { mapGetters } from 'vuex';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\n\nimport { set, get } from '@shell/utils/object';\nimport { Banner } from '@components/Banner';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { LEGACY } from '@shell/store/features';\nimport semver from 'semver';\nimport { _EDIT } from '@shell/config/query-params';\n\nconst HARVESTER = 'harvester';\n\nexport default {\n  components: {\n    Banner,\n    Checkbox,\n    LabeledSelect,\n    YamlEditor,\n  },\n\n  mixins: [CreateEditView, FormValidation],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    credential: {\n      type:     Object,\n      default:  null,\n      required: false\n    },\n\n    userChartValues: {\n      type:     Object,\n      required: true\n    },\n    cisOverride: {\n      type:     Boolean,\n      required: true\n    },\n\n    allPsas: {\n      type:     Array,\n      required: true\n    },\n\n    addonVersions: {\n      type:     Array,\n      required: false,\n      default:  null\n    },\n\n    selectedVersion: {\n      type:     Object,\n      required: true\n    },\n    versionOptions: {\n      type:     Array,\n      required: true\n    },\n    isHarvesterDriver: {\n      type:     Boolean,\n      required: true\n    },\n    isHarvesterIncompatible: {\n      type:     Boolean,\n      required: true\n    },\n    showDeprecatedPatchVersions: {\n      type:     Boolean,\n      required: true\n    },\n    isElementalCluster: {\n      type:     Boolean,\n      required: true\n    },\n    haveArgInfo: {\n      type:     Boolean,\n      required: true\n    },\n    showCni: {\n      type:     Boolean,\n      required: true\n    },\n    showCloudProvider: {\n      type:     Boolean,\n      required: true\n    },\n    cloudProviderOptions: {\n      type:     Array,\n      required: true\n    }\n  },\n\n  watch: {\n    selectedVersion(neu, old) {\n      if (neu?.value !== old?.value && this.ciliumIpv6) {\n        // Re-assign so that the setter updates the structure for the new k8s version if needed\n        this.ciliumIpv6 = !!this.ciliumIpv6;\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters({ features: 'features/get' }),\n\n    serverConfig() {\n      return this.value.spec.rkeConfig.machineGlobalConfig;\n    },\n\n    showCniNoneBanner() {\n      return this.serverConfig?.cni === 'none';\n    },\n\n    showCiliumIpv6Controls() {\n      return this.serverConfig?.cni === 'cilium' || this.serverConfig?.cni === 'multus,cilium';\n    },\n\n    showNetworkPolicyWarningBanner() {\n      return this.serverConfig?.cni === 'cilium' && this.value?.spec?.enableNetworkPolicy;\n    },\n\n    agentConfig() {\n      return this.value.agentConfig;\n    },\n\n    profileOptions() {\n      const out = (this.agentArgs?.profile?.options || []).map((x) => {\n        return { label: x, value: x };\n      });\n\n      out.unshift({\n        label: this.$store.getters['i18n/t']('cluster.rke2.cisProfile.option'),\n        value: ''\n      });\n\n      return out;\n    },\n\n    /**\n     * Allow to display override if PSA is needed and profile is set\n     */\n    hasCisOverride() {\n      return (this.serverConfig?.profile || this.agentConfig?.profile) &&\n        // Also check other cases on when to display the override\n        this.showCisProfile && this.isCisSupported;\n    },\n\n    /**\n     * Disable PSA if CIS hardening is enabled, except override\n     */\n    isPsaDisabled() {\n      const cisValue = this.agentConfig?.profile || this.serverConfig?.profile;\n\n      return !(!cisValue || this.cisOverride) && this.isCisSupported;\n    },\n\n    /**\n     * Get the default label for the PSA template option\n     */\n    defaultPsaOptionLabel() {\n      const optionCase = !this.value.isK3s ? 'default' : 'none';\n\n      return this.$store.getters['i18n/t'](`cluster.rke2.defaultPodSecurityAdmissionConfigurationTemplateName.option.${ optionCase }`);\n    },\n\n    /**\n     * Convert PSA templates into options, sorting and flagging if any selected\n     */\n    psaOptions() {\n      const out = [{\n        label: this.defaultPsaOptionLabel,\n        value: ''\n      }];\n\n      if ( this.allPsas ) {\n        for ( const psa of this.allPsas ) {\n          out.push({\n            label: psa.nameDisplay,\n            value: psa.id,\n          });\n        }\n      }\n      const cur = this.value.spec.defaultPodSecurityAdmissionConfigurationTemplateName;\n\n      if ( cur && !out.find((x) => x.value === cur) ) {\n        out.unshift({ label: `${ cur } (Current)`, value: cur });\n      }\n\n      return out;\n    },\n\n    /**\n     * Check if current CIS profile is required and listed in the options\n     */\n    isCisSupported() {\n      const cisProfile = this.serverConfig?.profile || this.agentConfig?.profile;\n\n      return !cisProfile || this.profileOptions.map((option) => option.value).includes(cisProfile);\n    },\n\n    disableOptions() {\n      return (this.serverArgs.disable.options || []).map((value) => {\n        return {\n          label: this.$store.getters['i18n/withFallback'](`cluster.${ this.value.isK3s ? 'k3s' : 'rke2' }.systemService.\"${ value }\"`, null, value.replace(/^(rke2|rancher)-/, '')),\n          value,\n        };\n      });\n    },\n\n    serverArgs() {\n      return this.selectedVersion?.serverArgs || {};\n    },\n\n    agentArgs() {\n      return this.selectedVersion?.agentArgs || {};\n    },\n\n    /**\n     * The addons (kube charts) applicable for the selected kube version\n     *\n     * { [chartName:string]: { repo: string, version: string } }\n     */\n    chartVersions() {\n      return this.selectedVersion?.charts || {};\n    },\n\n    showCisProfile() {\n      return (this.provider === 'custom' || this.isElementalCluster) && ( this.serverArgs?.profile || this.agentArgs?.profile );\n    },\n\n    enabledSystemServices: {\n      get() {\n        const out = difference(this.serverArgs.disable.options, this.serverConfig.disable || []);\n\n        return out;\n      },\n\n      set(neu) {\n        const out = difference(this.serverArgs.disable.options, neu);\n\n        this.$emit('enabled-system-services-changed', out);\n      },\n    },\n\n    showCloudConfigYaml() {\n      if ( !this.agentArgs['cloud-provider-name'] ) {\n        return false;\n      }\n\n      const name = this.agentConfig?.['cloud-provider-name'];\n\n      if ( !name ) {\n        return false;\n      }\n\n      switch ( name ) {\n      case 'none': return false;\n      case 'aws': return false;\n      case 'rancher-vsphere': return false;\n      case HARVESTER: return false;\n      default: return true;\n      }\n    },\n\n    showVsphereNote() {\n      if ( !this.agentArgs['cloud-provider-name'] ) {\n        return false;\n      }\n\n      const name = this.agentConfig?.['cloud-provider-name'];\n\n      return name === 'rancher-vsphere';\n    },\n\n    showk8s21LegacyWarning() {\n      const isLegacyEnabled = this.features(LEGACY);\n\n      if (!isLegacyEnabled) {\n        return false;\n      }\n      const selectedVersion = semver.coerce(this.value.spec.kubernetesVersion);\n\n      return semver.satisfies(selectedVersion, '>=1.21.0');\n    },\n\n    ciliumIpv6: {\n      get() {\n        // eslint-disable-next-line no-unused-vars\n        const cni = this.serverConfig.cni; // force this property to recalculate if cni was changed away from cilium and chartValues['rke-cilium'] deleted\n\n        const chart = this.userChartValues[this.chartVersionKey('rke2-cilium')];\n\n        return chart?.cilium?.ipv6?.enabled || chart?.ipv6?.enabled || false;\n      },\n      set(neu) {\n        const name = this.chartVersionKey('rke2-cilium');\n        const values = this.userChartValues[name];\n\n        // RKE2 older than 1.23.5 uses different Helm chart values structure - need to take that into account\n        const version = this.selectedVersion.value;\n        let ciliumValues = {};\n\n        if (semver.gt(version, '1.23.5')) {\n          // New style\n          ciliumValues = {\n            ...values,\n            ipv6: {\n              ...values?.ipv6,\n              enabled: neu\n            }\n          };\n\n          delete ciliumValues.cilium;\n        } else {\n          // Old style\n          ciliumValues = {\n            ...values,\n            cilium: {\n              ...values?.cilium,\n              ipv6: {\n                ...values?.cilium?.ipv6,\n                enabled: neu\n              }\n            }\n          };\n\n          delete ciliumValues.ipv6;\n        }\n\n        this.$emit('cilium-values-changed', ciliumValues);\n      }\n    },\n\n    ciliumBandwidthManager: {\n      get() {\n        // eslint-disable-next-line no-unused-vars\n        const cni = this.serverConfig.cni; // force this property to recalculate if cni was changed away from cilium and chartValues['rke-cilium'] deleted\n\n        return this.userChartValues[this.chartVersionKey('rke2-cilium')]?.bandwidthManager?.enabled || false;\n      },\n      set(neu) {\n        const name = this.chartVersionKey('rke2-cilium');\n        const values = this.userChartValues[name];\n\n        const ciliumValues = {\n          ...values,\n          bandwidthManager: {\n            ...values?.bandwidthManager,\n            enabled: neu\n          }\n        };\n\n        this.$emit('cilium-values-changed', ciliumValues);\n      }\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    canNotEditCloudProvider() {\n      const canNotEdit = this.isEdit;\n\n      return canNotEdit;\n    },\n\n    /**\n     * Display warning about additional configuration needed for cloud provider Amazon if kube >= 1.27\n     */\n    showCloudProviderAmazonAdditionalConfigWarning() {\n      return !!semver.gte(this.value.spec.kubernetesVersion, 'v1.27.0') && this.agentConfig?.['cloud-provider-name'] === 'aws';\n    }\n  },\n\n  methods: {\n    set,\n\n    chartVersionKey(name) {\n      const addonVersion = this.addonVersions.find((av) => av.name === name);\n\n      return addonVersion ? `${ name }-${ addonVersion.version }` : name;\n    },\n    get,\n  },\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"!haveArgInfo\"\n      color=\"warning\"\n      :label=\"t('cluster.banner.haveArgInfo')\"\n    />\n    <Banner\n      v-if=\"showk8s21LegacyWarning\"\n      color=\"warning\"\n      :label=\"t('cluster.legacyWarning')\"\n    />\n    <Banner\n      v-if=\"isHarvesterDriver && isHarvesterIncompatible && showCloudProvider\"\n      color=\"warning\"\n    >\n      <span\n        v-clean-html=\"t('cluster.harvester.warning.cloudProvider.incompatible', null, true)\"\n      />\n    </Banner>\n    <Banner\n      v-if=\"showCloudProviderAmazonAdditionalConfigWarning\"\n      color=\"warning\"\n    >\n      <span v-clean-html=\"t('cluster.banner.cloudProviderAddConfig', {}, true)\" />\n    </Banner>\n    <Banner\n      v-if=\"showCniNoneBanner\"\n      color=\"warning\"\n      data-testid=\"clusterBasics__noneOptionSelectedForCni\"\n    >\n      <span v-clean-html=\"t('cluster.rke2.cni.cniNoneBanner', {}, true)\" />\n    </Banner>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"value.spec.kubernetesVersion\"\n          :mode=\"mode\"\n          :options=\"versionOptions\"\n          data-testid=\"clusterBasics__kubernetesVersions\"\n          label-key=\"cluster.kubernetesVersion.label\"\n          @input=\"$emit('kubernetes-changed', $event)\"\n        />\n        <Checkbox\n          :value=\"showDeprecatedPatchVersions\"\n          :label=\"t('cluster.kubernetesVersion.deprecatedPatches')\"\n          :tooltip=\"t('cluster.kubernetesVersion.deprecatedPatchWarning')\"\n          class=\"patch-version\"\n          @input=\"$emit('show-deprecated-patch-versions-changed', $event)\"\n        />\n      </div>\n      <div\n        v-if=\"showCloudProvider\"\n        class=\"col span-6\"\n      >\n        <LabeledSelect\n          v-if=\"agentConfig\"\n          v-model=\"agentConfig['cloud-provider-name']\"\n          :mode=\"mode\"\n          :disabled=\"canNotEditCloudProvider\"\n          :options=\"cloudProviderOptions\"\n          :label=\"t('cluster.rke2.cloudProvider.label')\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"showCni\"\n      :style=\"{'align-items':'center'}\"\n      class=\"row\"\n    >\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"serverConfig.cni\"\n          data-testid=\"cluster-rke2-cni-select\"\n          :mode=\"mode\"\n          :disabled=\"isEdit\"\n          :options=\"serverArgs.cni.options\"\n          :label=\"t('cluster.rke2.cni.label')\"\n        />\n      </div>\n      <div\n        v-if=\"showCiliumIpv6Controls\"\n        class=\"col\"\n      >\n        <Checkbox\n          v-model=\"ciliumIpv6\"\n          data-testid=\"cluster-rke2-cni-ipv6-checkbox\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.address.ipv6.enable')\"\n        />\n        <Checkbox\n          v-model=\"ciliumBandwidthManager\"\n          data-testid=\"cluster-rke2-cni-cilium-bandwidth-manager-checkbox\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.cni.cilium.BandwidthManager.enable')\"\n        />\n      </div>\n    </div>\n    <template v-if=\"showVsphereNote\">\n      <Banner\n        color=\"warning\"\n        label-key=\"cluster.cloudProvider.rancher-vsphere.note\"\n      />\n    </template>\n    <template v-else-if=\"showCloudConfigYaml\">\n      <div class=\"spacer\" />\n\n      <div class=\"col span-12\">\n        <h3>\n          {{ t('cluster.rke2.cloudProvider.header') }}\n        </h3>\n        <YamlEditor\n          v-if=\"agentConfig\"\n          ref=\"yaml\"\n          v-model=\"agentConfig['cloud-provider-config']\"\n          :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n          initial-yaml-values=\"# Cloud Provider Config\"\n          class=\"yaml-editor\"\n        />\n      </div>\n    </template>\n\n    <div class=\"spacer\" />\n\n    <h3>\n      {{ t('cluster.rke2.security.header') }}\n    </h3>\n\n    <Banner\n      v-if=\"showCisProfile && !isCisSupported && isEdit\"\n      color=\"info\"\n    >\n      <p v-clean-html=\"t('cluster.rke2.banner.cisUnsupported', {cisProfile: serverConfig.profile || agentConfig.profile}, true)\" />\n    </Banner>\n\n    <div class=\"row mb-10\">\n      <div\n        v-if=\"showCisProfile\"\n        class=\"col span-6\"\n      >\n        <LabeledSelect\n          v-if=\"serverArgs && serverArgs.profile && serverConfig\"\n          v-model=\"serverConfig.profile\"\n          :mode=\"mode\"\n          :options=\"profileOptions\"\n          :label=\"t('cluster.rke2.cis.sever')\"\n          @input=\"$emit('cis-changed')\"\n        />\n        <LabeledSelect\n          v-else-if=\"agentArgs && agentArgs.profile && agentConfig\"\n          v-model=\"agentConfig.profile\"\n          data-testid=\"rke2-custom-edit-cis-agent\"\n          :mode=\"mode\"\n          :options=\"profileOptions\"\n          :label=\"t('cluster.rke2.cis.agent')\"\n          @input=\"$emit('cis-changed')\"\n        />\n      </div>\n    </div>\n\n    <template v-if=\"hasCisOverride\">\n      <Checkbox\n        v-model=\"cisOverride\"\n        :mode=\"mode\"\n        :label=\"t('cluster.rke2.cis.override')\"\n        @input=\"$emit('psa-default-changed')\"\n      />\n\n      <Banner\n        v-if=\"cisOverride\"\n        color=\"warning\"\n        :label=\"t('cluster.rke2.banner.cisOverride')\"\n      />\n      <Banner\n        v-if=\"!cisOverride\"\n        color=\"info\"\n        :label=\"t('cluster.rke2.banner.psaChange')\"\n      />\n    </template>\n\n    <div\n      class=\"row mb-10 mt-10\"\n    >\n      <div class=\"col span-6\">\n        <!-- PSA template selector -->\n        <LabeledSelect\n          :key=\"defaultPsaOptionLabel\"\n          v-model=\"value.spec.defaultPodSecurityAdmissionConfigurationTemplateName\"\n          :mode=\"mode\"\n          data-testid=\"rke2-custom-edit-psa\"\n          :options=\"psaOptions\"\n          :disabled=\"isPsaDisabled\"\n          :label=\"t('cluster.rke2.defaultPodSecurityAdmissionConfigurationTemplateName.label')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col span-12 mt-20\">\n        <Checkbox\n          v-if=\"serverArgs['secrets-encryption']\"\n          v-model=\"serverConfig['secrets-encryption']\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.secretEncryption.label')\"\n        />\n        <Checkbox\n          v-model=\"value.spec.enableNetworkPolicy\"\n          :mode=\"mode\"\n          :label=\"t('cluster.rke2.enableNetworkPolicy.label')\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"showNetworkPolicyWarningBanner\"\n      class=\"row\"\n    >\n      <div class=\"col span-12\">\n        <Banner\n          color=\"info\"\n          :label=\"t('cluster.rke2.enableNetworkPolicy.warning')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"spacer\" />\n\n    <div\n      v-if=\"serverArgs.disable\"\n      class=\"row\"\n    >\n      <div class=\"col span-12\">\n        <div>\n          <h3>\n            {{ t('cluster.rke2.systemService.header') }}\n          </h3>\n        </div>\n        <Checkbox\n          v-for=\"opt in disableOptions\"\n          :key=\"opt.value\"\n          v-model=\"enabledSystemServices\"\n          :mode=\"mode\"\n          :label=\"opt.label\"\n          :value-when-true=\"opt.value\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .patch-version {\n    margin-top: 5px;\n  }\n</style>\n"]}]}