{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/DirectoryConfig.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/DirectoryConfig.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgX0NSRUFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAgICAgICAnRGlyZWN0b3J5Q29uZmlnJywKICBjb21wb25lbnRzOiB7CiAgICBDaGVja2JveCwKICAgIExhYmVsZWRJbnB1dCwKICB9LAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgbGV0IGF0TGVhc3RPbmVEaXJXaXRoQW5JZGVudGlmaWVyID0gZmFsc2U7CiAgICBsZXQgYWxsRGlyc1dpdGhTYW1lSWRlbnRpZmllciA9IGZhbHNlOwoKICAgIGlmICh0aGlzLnZhbHVlLnN5c3RlbUFnZW50Lmxlbmd0aCB8fCB0aGlzLnZhbHVlLnByb3Zpc2lvbmluZy5sZW5ndGggfHwgdGhpcy52YWx1ZS5rOHNEaXN0cm8ubGVuZ3RoKSB7CiAgICAgIGF0TGVhc3RPbmVEaXJXaXRoQW5JZGVudGlmaWVyID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMudmFsdWUuc3lzdGVtQWdlbnQgPT09IHRoaXMudmFsdWUucHJvdmlzaW9uaW5nICYmIHRoaXMudmFsdWUucHJvdmlzaW9uaW5nID09PSB0aGlzLnZhbHVlLms4c0Rpc3RybyAmJgogICAgICB0aGlzLnZhbHVlLnN5c3RlbUFnZW50ID09PSB0aGlzLnZhbHVlLms4c0Rpc3RybykgewogICAgICAgIGFsbERpcnNXaXRoU2FtZUlkZW50aWZpZXIgPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaXNTZXR0aW5nQ29tbW9uQ29uZmlnOiAhKGF0TGVhc3RPbmVEaXJXaXRoQW5JZGVudGlmaWVyICYmICFhbGxEaXJzV2l0aFNhbWVJZGVudGlmaWVyKSwKICAgICAgY29tbW9uQ29uZmlnOiAgICAgICAgICBhbGxEaXJzV2l0aFNhbWVJZGVudGlmaWVyID8gdGhpcy52YWx1ZS5zeXN0ZW1BZ2VudCA6ICcnLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjb21tb25Db25maWcobmV1KSB7CiAgICAgIGlmIChuZXUgJiYgbmV1Lmxlbmd0aCAmJiB0aGlzLmlzU2V0dGluZ0NvbW1vbkNvbmZpZykgewogICAgICAgIHRoaXMudmFsdWUuc3lzdGVtQWdlbnQgPSBuZXU7CiAgICAgICAgdGhpcy52YWx1ZS5wcm92aXNpb25pbmcgPSBuZXU7CiAgICAgICAgdGhpcy52YWx1ZS5rOHNEaXN0cm8gPSBuZXU7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNhYmxlRWRpdElucHV0KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlICE9PSBfQ1JFQVRFOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ29tbW9uQ29uZmlnKHZhbCkgewogICAgICB0aGlzLmlzU2V0dGluZ0NvbW1vbkNvbmZpZyA9IHZhbDsKCiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnZhbHVlLnN5c3RlbUFnZW50ID0gJyc7CiAgICAgICAgdGhpcy52YWx1ZS5wcm92aXNpb25pbmcgPSAnJzsKICAgICAgICB0aGlzLnZhbHVlLms4c0Rpc3RybyA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tbW9uQ29uZmlnID0gJyc7CiAgICAgIH0KICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["DirectoryConfig.vue"],"names":[],"mappings":";AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DirectoryConfig.vue","sourceRoot":"node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs","sourcesContent":["\n<script>\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { _CREATE } from '@shell/config/query-params';\n\nexport default {\n  name:       'DirectoryConfig',\n  components: {\n    Checkbox,\n    LabeledInput,\n  },\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n  data() {\n    let atLeastOneDirWithAnIdentifier = false;\n    let allDirsWithSameIdentifier = false;\n\n    if (this.value.systemAgent.length || this.value.provisioning.length || this.value.k8sDistro.length) {\n      atLeastOneDirWithAnIdentifier = true;\n      if (this.value.systemAgent === this.value.provisioning && this.value.provisioning === this.value.k8sDistro &&\n      this.value.systemAgent === this.value.k8sDistro) {\n        allDirsWithSameIdentifier = true;\n      }\n    }\n\n    return {\n      isSettingCommonConfig: !(atLeastOneDirWithAnIdentifier && !allDirsWithSameIdentifier),\n      commonConfig:          allDirsWithSameIdentifier ? this.value.systemAgent : '',\n    };\n  },\n  watch: {\n    commonConfig(neu) {\n      if (neu && neu.length && this.isSettingCommonConfig) {\n        this.value.systemAgent = neu;\n        this.value.provisioning = neu;\n        this.value.k8sDistro = neu;\n      }\n    }\n  },\n  computed: {\n    disableEditInput() {\n      return this.mode !== _CREATE;\n    }\n  },\n  methods: {\n    handleCommonConfig(val) {\n      this.isSettingCommonConfig = val;\n\n      if (val) {\n        this.value.systemAgent = '';\n        this.value.provisioning = '';\n        this.value.k8sDistro = '';\n      } else {\n        this.commonConfig = '';\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"row\">\n    <div class=\"col span-8\">\n      <h3 class=\"mb-20\">\n        {{ t('cluster.directoryConfig.title') }}\n      </h3>\n      <Checkbox\n        class=\"mb-10\"\n        :value=\"isSettingCommonConfig\"\n        :mode=\"mode\"\n        :label=\"t('cluster.directoryConfig.checkboxText')\"\n        :disabled=\"disableEditInput\"\n        data-testid=\"rke2-directory-config-individual-config-checkbox\"\n        @input=\"handleCommonConfig\"\n      />\n      <LabeledInput\n        v-if=\"isSettingCommonConfig\"\n        v-model=\"commonConfig\"\n        class=\"mb-20\"\n        :mode=\"mode\"\n        :label=\"t('cluster.directoryConfig.common.label')\"\n        :tooltip=\"t('cluster.directoryConfig.common.tooltip')\"\n        :disabled=\"disableEditInput\"\n        data-testid=\"rke2-directory-config-common-data-dir\"\n      />\n      <div v-if=\"!isSettingCommonConfig\">\n        <LabeledInput\n          v-model=\"value.systemAgent\"\n          class=\"mb-20\"\n          :mode=\"mode\"\n          :label=\"t('cluster.directoryConfig.systemAgent.label')\"\n          :tooltip=\"t('cluster.directoryConfig.systemAgent.tooltip')\"\n          :disabled=\"disableEditInput\"\n          data-testid=\"rke2-directory-config-systemAgent-data-dir\"\n        />\n        <LabeledInput\n          v-model=\"value.provisioning\"\n          class=\"mb-20\"\n          :mode=\"mode\"\n          :label=\"t('cluster.directoryConfig.provisioning.label')\"\n          :tooltip=\"t('cluster.directoryConfig.provisioning.tooltip')\"\n          :disabled=\"disableEditInput\"\n          data-testid=\"rke2-directory-config-provisioning-data-dir\"\n        />\n        <LabeledInput\n          v-model=\"value.k8sDistro\"\n          class=\"mb-20\"\n          :mode=\"mode\"\n          :label=\"t('cluster.directoryConfig.k8sDistro.label')\"\n          :tooltip=\"t('cluster.directoryConfig.k8sDistro.tooltip')\"\n          :disabled=\"disableEditInput\"\n          data-testid=\"rke2-directory-config-k8sDistro-data-dir\"\n        />\n      </div>\n      <div class=\"mb-40\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}