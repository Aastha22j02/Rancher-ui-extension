{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/cis.cattle.io.clusterscanbenchmark.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/cis.cattle.io.clusterscanbenchmark.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgUmVzb3VyY2VMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VMYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQ09ORklHX01BUCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBQYWdpbmF0aW9uUGFyYW1GaWx0ZXIgfSBmcm9tICdAc2hlbGwvdHlwZXMvc3RvcmUvcGFnaW5hdGlvbi50eXBlcyc7Cgpjb25zdCBwcm92aWRlcnMgPSBbJ2FrcycsICdkb2NrZXInLCAnZWtzJywgJ2drZScsICdrM3MnLCAnbWluaWt1YmUnLCAncmtlLXdpbmRvd3MnLCAncmtlJywgJ3JrZTInXTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDcnVSZXNvdXJjZSwgTGFiZWxlZFNlbGVjdCwgUmVzb3VyY2VMYWJlbGVkU2VsZWN0LCBMYWJlbGVkSW5wdXQsIE5hbWVOc0Rlc2NyaXB0aW9uCiAgfSwKCiAgbWl4aW5zOiBbY3JlYXRlRWRpdFZpZXddLAoKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9CgogIH0sCgogIGRhdGEoKSB7CiAgICBpZiAoIXRoaXMudmFsdWUuc3BlYykgewogICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3NwZWMnLCB7fSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgQ09ORklHX01BUCwKICAgICAgcHJvdmlkZXJzLAogICAgICBjb25maWdNYXBQYWdpbmF0ZVNldHRpbmdzOiB7CiAgICAgICAgbGFiZWxTZWxlY3RPcHRpb25zOiB7ICdnZXQtb3B0aW9uLWxhYmVsJzogKG9wdCkgPT4gb3B0Py5tZXRhZGF0YT8ubmFtZSB8fCBvcHQuaWQgfHwgb3B0IH0sCiAgICAgICAgcmVxdWVzdFNldHRpbmdzOiAgICB0aGlzLnBhZ2VSZXF1ZXN0U2V0dGluZ3MsCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGN1c3RvbUNvbmZpZ01hcDogewogICAgICBnZXQoKSB7CiAgICAgICAgY29uc3QgeyBjdXN0b21CZW5jaG1hcmtDb25maWdNYXBOYW1lID0gJycsIGN1c3RvbUJlbmNobWFya0NvbmZpZ01hcE5hbWVzcGFjZSB9ID0gdGhpcy52YWx1ZT8uc3BlYzsKCiAgICAgICAgcmV0dXJuIGN1c3RvbUJlbmNobWFya0NvbmZpZ01hcE5hbWVzcGFjZSA/IGAkeyBjdXN0b21CZW5jaG1hcmtDb25maWdNYXBOYW1lc3BhY2UgfS8keyBjdXN0b21CZW5jaG1hcmtDb25maWdNYXBOYW1lIH1gIDogY3VzdG9tQmVuY2htYXJrQ29uZmlnTWFwTmFtZTsKICAgICAgfSwKICAgICAgc2V0KG5ldSkgewogICAgICAgIGNvbnN0IHsgbmFtZSwgbmFtZXNwYWNlIH0gPSBuZXUubWV0YWRhdGE7CgogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICdjdXN0b21CZW5jaG1hcmtDb25maWdNYXBOYW1lJywgbmFtZSk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ2N1c3RvbUJlbmNobWFya0NvbmZpZ01hcE5hbWVzcGFjZScsIG5hbWVzcGFjZSk7CiAgICAgIH0KICAgIH0sCgogICAgLi4ubWFwR2V0dGVycyh7IHQ6ICdpMThuL3QnIH0pLAogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogQHBhcmFtIFtMYWJlbFNlbGVjdFBhZ2luYXRpb25GdW5jdGlvbk9wdGlvbnNdIG9wdHMKICAgICAqIEByZXR1cm5zIExhYmVsU2VsZWN0UGFnaW5hdGlvbkZ1bmN0aW9uT3B0aW9ucwogICAgICovCiAgICBwYWdlUmVxdWVzdFNldHRpbmdzKG9wdHMpIHsKICAgICAgY29uc3QgeyBvcHRzOiB7IGZpbHRlciB9IH0gPSBvcHRzOwoKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5vcHRzLAogICAgICAgIGNsYXNzaWZ5OiB0cnVlLAogICAgICAgIGZpbHRlcnM6ICAhIWZpbHRlciA/IFtQYWdpbmF0aW9uUGFyYW1GaWx0ZXIuY3JlYXRlTXVsdGlwbGVGaWVsZHMoWwogICAgICAgICAgewogICAgICAgICAgICBmaWVsZDogJ21ldGFkYXRhLm5hbWUnLCB2YWx1ZTogZmlsdGVyLCBlcXVhbHM6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGZpZWxkOiAnbWV0YWRhdGEubmFtZXNwYWNlJywgdmFsdWU6IGZpbHRlciwgZXF1YWxzOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgIF0pXSA6IFtdCiAgICAgIH07CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["cis.cattle.io.clusterscanbenchmark.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cis.cattle.io.clusterscanbenchmark.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport createEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ResourceLabeledSelect from '@shell/components/form/ResourceLabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { mapGetters } from 'vuex';\nimport { CONFIG_MAP } from '@shell/config/types';\nimport { PaginationParamFilter } from '@shell/types/store/pagination.types';\n\nconst providers = ['aks', 'docker', 'eks', 'gke', 'k3s', 'minikube', 'rke-windows', 'rke', 'rke2'];\n\nexport default {\n  components: {\n    CruResource, LabeledSelect, ResourceLabeledSelect, LabeledInput, NameNsDescription\n  },\n\n  mixins: [createEditView],\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n\n  },\n\n  data() {\n    if (!this.value.spec) {\n      this.$set(this.value, 'spec', {});\n    }\n\n    return {\n      CONFIG_MAP,\n      providers,\n      configMapPaginateSettings: {\n        labelSelectOptions: { 'get-option-label': (opt) => opt?.metadata?.name || opt.id || opt },\n        requestSettings:    this.pageRequestSettings,\n      }\n    };\n  },\n\n  computed: {\n    customConfigMap: {\n      get() {\n        const { customBenchmarkConfigMapName = '', customBenchmarkConfigMapNamespace } = this.value?.spec;\n\n        return customBenchmarkConfigMapNamespace ? `${ customBenchmarkConfigMapNamespace }/${ customBenchmarkConfigMapName }` : customBenchmarkConfigMapName;\n      },\n      set(neu) {\n        const { name, namespace } = neu.metadata;\n\n        this.$set(this.value.spec, 'customBenchmarkConfigMapName', name);\n        this.$set(this.value.spec, 'customBenchmarkConfigMapNamespace', namespace);\n      }\n    },\n\n    ...mapGetters({ t: 'i18n/t' }),\n  },\n\n  methods: {\n    /**\n     * @param [LabelSelectPaginationFunctionOptions] opts\n     * @returns LabelSelectPaginationFunctionOptions\n     */\n    pageRequestSettings(opts) {\n      const { opts: { filter } } = opts;\n\n      return {\n        ...opts,\n        classify: true,\n        filters:  !!filter ? [PaginationParamFilter.createMultipleFields([\n          {\n            field: 'metadata.name', value: filter, equals: true\n          },\n          {\n            field: 'metadata.namespace', value: filter, equals: true\n          },\n        ])] : []\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :mode=\"mode\"\n    :errors=\"errors\"\n    @finish=\"save\"\n    @error=\"e=>errors = e\"\n  >\n    <div class=\"row\">\n      <div class=\"col span-12\">\n        <NameNsDescription\n          :mode=\"mode\"\n          :value=\"value\"\n          :namespaced=\"false\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"value.spec.clusterProvider\"\n          :clearable=\"true\"\n          :options=\"providers\"\n          :mode=\"mode\"\n          :label=\"t('cis.clusterProvider')\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <ResourceLabeledSelect\n          v-model=\"customConfigMap\"\n          :clearable=\"true\"\n          option-key=\"id\"\n          option-label=\"id\"\n          :mode=\"mode\"\n          :label=\"t('cis.customConfigMap')\"\n          :resource-type=\"CONFIG_MAP\"\n          :paginated-resource-settings=\"configMapPaginateSettings\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.spec.minKubernetesVersion\"\n          :mode=\"mode\"\n          :label=\"t('cis.minKubernetesVersion')\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.spec.maxKubernetesVersion\"\n          :mode=\"mode\"\n          :label=\"t('cis.maxKubernetesVersion')\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n"]}]}