{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CgppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgeyBNT05JVE9SSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCB7IEVESVRPUl9NT0RFUyB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBSRUNFSVZFUlNfVFlQRVMgfSBmcm9tICdAc2hlbGwvbW9kZWxzL21vbml0b3JpbmcuY29yZW9zLmNvbS5yZWNlaXZlcic7CmltcG9ydCBSb3V0ZUNvbmZpZyBmcm9tICcuL3JvdXRlQ29uZmlnJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBBY3Rpb25NZW51IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FjdGlvbk1lbnUnOwppbXBvcnQgeyBfQ1JFQVRFLCBfRURJVCwgX1ZJRVcsIF9DT05GSUcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGZldGNoQWxlcnRNYW5hZ2VyQ29uZmlnU3BlY3MgfSBmcm9tICdAc2hlbGwvdXRpbHMvYWxlcnRtYW5hZ2VyY29uZmlnJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBY3Rpb25NZW51LAogICAgQ3J1UmVzb3VyY2UsCiAgICBMb2FkaW5nLAogICAgTmFtZU5zRGVzY3JpcHRpb24sCiAgICBSZXNvdXJjZVRhYmxlLAogICAgUm91dGVDb25maWcsCiAgICBUYWIsCiAgICBUYWJiZWQsCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBhc3luYyBmZXRjaCgpIHsKICAgIGNvbnN0IGluU3RvcmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLmluU3RvcmU7CiAgICBjb25zdCBhbGVydG1hbmFnZXJDb25maWdJZCA9IHRoaXMudmFsdWUuaWQ7CgogICAgY29uc3QgeyByZWNlaXZlclNjaGVtYSwgcm91dGVTY2hlbWEgfSA9IGF3YWl0IGZldGNoQWxlcnRNYW5hZ2VyQ29uZmlnU3BlY3ModGhpcy4kc3RvcmUpOwoKICAgIHRoaXMucmVjZWl2ZXJTY2hlbWEgPSByZWNlaXZlclNjaGVtYTsKICAgIHRoaXMucm91dGVTY2hlbWEgPSByb3V0ZVNjaGVtYTsKCiAgICBjb25zdCBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZSA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKGAkeyBpblN0b3JlIH0vZmluZGAsIHsgdHlwZTogTU9OSVRPUklORy5BTEVSVE1BTkFHRVJDT05GSUcsIGlkOiBhbGVydG1hbmFnZXJDb25maWdJZCB9KTsKCiAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ0lkID0gYWxlcnRtYW5hZ2VyQ29uZmlnSWQ7CiAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2U7CiAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ0RldGFpbFJvdXRlID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2U/Ll9kZXRhaWxMb2NhdGlvbjsKCiAgICBjb25zdCBhbGVydG1hbmFnZXJDb25maWdBY3Rpb25zID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuYXZhaWxhYmxlQWN0aW9uczsKICAgIGNvbnN0IHJlY2VpdmVyQWN0aW9ucyA9IGFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLmdldFJlY2VpdmVyQWN0aW9ucyhhbGVydG1hbmFnZXJDb25maWdBY3Rpb25zKTsKCiAgICB0aGlzLnJlY2VpdmVyQWN0aW9ucyA9IHJlY2VpdmVyQWN0aW9uczsKICB9LAoKICBkYXRhKCkgewogICAgdGhpcy52YWx1ZS5hcHBseURlZmF1bHRzKCk7CgogICAgY29uc3QgZGVmYXVsdFJlY2VpdmVyVmFsdWVzID0ge307CiAgICBjb25zdCByZWNlaXZlck9wdGlvbnMgPSAodGhpcy52YWx1ZT8uc3BlYz8ucmVjZWl2ZXJzIHx8IFtdKS5tYXAoKHJlY2VpdmVyKSA9PiByZWNlaXZlci5uYW1lKTsKCiAgICByZXR1cm4gewogICAgICBhY3Rpb25NZW51VGFyZ2V0RWxlbWVudDogIG51bGwsCiAgICAgIGFjdGlvbk1lbnVUYXJnZXRFdmVudDogICAgbnVsbCwKICAgICAgY29uZmlnOiAgICAgICAgICAgICAgICAgICBfQ09ORklHLAogICAgICBjcmVhdGU6ICAgICAgICAgICAgICAgICAgIF9DUkVBVEUsCiAgICAgIGNyZWF0ZVJlY2VpdmVyTGluazogICAgICAgdGhpcy52YWx1ZS5nZXRDcmVhdGVSZWNlaXZlclJvdXRlKCksCiAgICAgIGRlZmF1bHRSZWNlaXZlclZhbHVlcywKICAgICAgcmVjZWl2ZXJBY3Rpb25NZW51SXNPcGVuOiBmYWxzZSwKICAgICAgcmVjZWl2ZXJUYWJsZUhlYWRlcnM6ICAgICBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogICAgICAgICAgJ25hbWUnLAogICAgICAgICAgbGFiZWxLZXk6ICAgICAgJ3RhYmxlSGVhZGVycy5uYW1lJywKICAgICAgICAgIHZhbHVlOiAgICAgICAgICduYW1lJywKICAgICAgICAgIHNvcnQ6ICAgICAgICAgIFsnbmFtZVNvcnQnXSwKICAgICAgICAgIGZvcm1hdHRlcjogICAgICdMaW5rRGV0YWlsJywKICAgICAgICAgIGNhbkJlVmFyaWFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAgICAgICAgICAndHlwZScsCiAgICAgICAgICBsYWJlbEtleTogICAgICAndGFibGVIZWFkZXJzLnR5cGUnLAogICAgICAgICAgdmFsdWU6ICAgICAgICAgJ25hbWUnLAogICAgICAgICAgZm9ybWF0dGVyOiAgICAgJ1JlY2VpdmVySWNvbnMnLAogICAgICAgICAgY2FuQmVWYXJpYWJsZTogdHJ1ZSwKICAgICAgICB9CiAgICAgICAgLy8gQWRkIG1vcmUgY29sdW1ucwogICAgICBdLAogICAgICBuZXdSZWNlaXZlclR5cGU6ICAgICAgbnVsbCwKICAgICAgcmVjZWl2ZXJBY3Rpb25zOiAgICAgIFtdLAogICAgICByZWNlaXZlck9wdGlvbnMsCiAgICAgIHJlY2VpdmVyVHlwZXM6ICAgICAgICBSRUNFSVZFUlNfVFlQRVMsCiAgICAgIHNlbGVjdGVkUmVjZWl2ZXJOYW1lOiAnJywKICAgICAgc2VsZWN0ZWRSb3dWYWx1ZTogICAgIG51bGwsCiAgICAgIHZpZXc6ICAgICAgICAgICAgICAgICBfVklFVywKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKCiAgICBlZGl0b3JNb2RlKCkgewogICAgICBpZiAoIHRoaXMubW9kZSA9PT0gX1ZJRVcgKSB7CiAgICAgICAgcmV0dXJuIEVESVRPUl9NT0RFUy5WSUVXX0NPREU7CiAgICAgIH0KCiAgICAgIHJldHVybiBFRElUT1JfTU9ERVMuRURJVF9DT0RFOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKCiAgICB0cmFuc2xhdGVSZWNlaXZlclR5cGVzKCkgewogICAgICByZXR1cm4gdGhpcy5yZWNlaXZlclR5cGVzLm1hcCgocmVjZWl2ZXJUeXBlKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnJlY2VpdmVyVHlwZSwKICAgICAgICAgIGxhYmVsOiB0aGlzLnQocmVjZWl2ZXJUeXBlLmxhYmVsKQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJlY2VpdmVyRGV0YWlsTGluayhyZWNlaXZlckRhdGEpIHsKICAgICAgaWYgKHJlY2VpdmVyRGF0YSAmJiByZWNlaXZlckRhdGEubmFtZSkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmdldFJlY2VpdmVyRGV0YWlsTGluayhyZWNlaXZlckRhdGEubmFtZSk7CiAgICAgIH0KICAgIH0sCgogICAgdG9nZ2xlUmVjZWl2ZXJBY3Rpb25NZW51KCkgewogICAgICB0aGlzLnJlY2VpdmVyQWN0aW9uTWVudUlzT3BlbiA9IHRydWU7CiAgICB9LAogICAgc2V0QWN0aW9uTWVudVN0YXRlKGV2ZW50RGF0YSkgewogICAgICAvLyBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgYSBjb250ZXh0IG1lbnUKICAgICAgLy8gZm9yIGEgcmVjZWl2ZXIgaW4gdGhlIHJlY2VpdmVyIGluIHRoZSByZWNlaXZlciBsaXN0IHZpZXcuCiAgICAgIC8vIEl0IHNldHMgdGhlIHRhcmdldCBlbGVtZW50IHNvIHRoZSBtZW51IGNhbiBvcGVuIHdoZXJlIHRoZQogICAgICAvLyB1c2VyIGNsaWNrZWQuCiAgICAgIGNvbnN0IHsgZXZlbnQsIHRhcmdldEVsZW1lbnQgfSA9IGV2ZW50RGF0YTsKCiAgICAgIC8vIFRhcmdldEVsZW1lbnQgY291bGQgYmUgYW4gYXJyYXkgb2YgbW9yZSB0aGFuCiAgICAgIC8vIG9uZSBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHJlZiBvZiB0aGUgc2FtZSBuYW1lLgogICAgICBpZiAoZXZlbnQgJiYgdGFyZ2V0RWxlbWVudCkgewogICAgICAgIHRoaXMuYWN0aW9uTWVudVRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50OwogICAgICAgIHRoaXMuYWN0aW9uTWVudVRhcmdldEV2ZW50ID0gZXZlbnQ7CgogICAgICAgIC8vIFdlIHRha2UgdGhlIHNlbGVjdGVkIHJlY2VpdmVyIG5hbWUgb3V0IG9mIHRoZSB0YXJnZXQKICAgICAgICAvLyBlbGVtZW50J3MgSUQgdG8gaGVscCB1cyBidWlsZCB0aGUgVVJMIHRvIGxpbmsgdG8KICAgICAgICAvLyB0aGUgZGV0YWlsIHBhZ2Ugb2YgdGhhdCByZWNlaXZlci4KICAgICAgICAvLyBXZSB1c2UgYSBwbHVzIHNpZ24gYXMgdGhlIGRlbGltaXRlciB0byBzZXBhcmF0ZSB0aGUKICAgICAgICAvLyBuYW1lIGJlY2F1c2UgdGhlIHBsdXMgaXMgbm90IGFuIGFsbG93ZWQgY2hhcmFjdGVyIGluCiAgICAgICAgLy8gS3ViZXJuZXRlcyBuYW1lcy4KICAgICAgICB0aGlzLnNlbGVjdGVkUmVjZWl2ZXJOYW1lID0gdGFyZ2V0RWxlbWVudC5pZC5zcGxpdCgnKycpLnNsaWNlKDIpLmpvaW4oJycpOwoKICAgICAgICB0aGlzLnRvZ2dsZVJlY2VpdmVyQWN0aW9uTWVudSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgYWN0aW9uIG1lbnUgdGFyZ2V0IGVsZW1lbnQuJyk7CiAgICAgIH0KICAgIH0sCiAgICBnb1RvRWRpdCgpIHsKICAgICAgLy8gJ2dvVG9FZGl0JyBpcyB0aGUgZXhhY3QgbmFtZSBvZiBhbiBhY3Rpb24gZm9yIEFsZXJ0bWFuYWdlckNvbmZpZwogICAgICAvLyBhbmQgdGhpcyBtZXRob2QgZXhlY3V0ZXMgdGhlIGFjdGlvbi4KICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5nZXRFZGl0UmVjZWl2ZXJDb25maWdSb3V0ZSh0aGlzLnNlbGVjdGVkUmVjZWl2ZXJOYW1lLCBfRURJVCkpOwogICAgfSwKCiAgICBnb1RvRWRpdFlhbWwoKSB7CiAgICAgIC8vICdnb1RvRWRpdFlhbWwnIGlzIHRoZSBleGFjdCBuYW1lIG9mIGFuIGFjdGlvbiBmb3IgQWxlcnRtYW5hZ2VyQ29uZmlnCiAgICAgIC8vIGFuZCB0aGlzIG1ldGhvZCBleGVjdXRlcyB0aGUgYWN0aW9uLgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLmdldEVkaXRSZWNlaXZlcllhbWxSb3V0ZSh0aGlzLnNlbGVjdGVkUmVjZWl2ZXJOYW1lLCBfRURJVCkpOwogICAgfSwKICAgIHByb21wdFJlbW92ZSgpIHsKICAgICAgLy8gJ3Byb21wdFJlbW92ZScgaXMgdGhlIGV4YWN0IG5hbWUgb2YgYW4gYWN0aW9uIGZvciBBbGVydG1hbmFnZXJDb25maWcKICAgICAgLy8gYW5kIHRoaXMgbWV0aG9kIGV4ZWN1dGVzIHRoZSBhY3Rpb24uCiAgICAgIC8vIEdldCB0aGUgbmFtZSBvZiB0aGUgcmVjZWl2ZXIgdG8gZGVsZXRlIGZyb20gdGhlIGFjdGlvbiBpbmZvLgogICAgICBjb25zdCBuYW1lT2ZSZWNlaXZlclRvRGVsZXRlID0gdGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZTsKICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHBhcmVudCBBbGVydG1hbmFnZXJDb25maWcKICAgICAgLy8gcmVzb3VyY2UuCiAgICAgIGNvbnN0IGV4aXN0aW5nUmVjZWl2ZXJzID0gdGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5zcGVjLnJlY2VpdmVycyB8fCBbXTsKICAgICAgY29uc3QgcmVjZWl2ZXJzTWludXNEZWxldGVkSXRlbSA9IGV4aXN0aW5nUmVjZWl2ZXJzLmZpbHRlcigocmVjZWl2ZXIpID0+IHsKICAgICAgICByZXR1cm4gcmVjZWl2ZXIubmFtZSAhPT0gbmFtZU9mUmVjZWl2ZXJUb0RlbGV0ZTsKICAgICAgfSk7CgogICAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLnNwZWMucmVjZWl2ZXJzID0gcmVjZWl2ZXJzTWludXNEZWxldGVkSXRlbTsKICAgICAgLy8gQWZ0ZXIgc2F2aW5nIHRoZSBBbGVydG1hbmFnZXJDb25maWcsIHRoZSByZXNvdXJjZSBoYXMgYmVlbiBkZWxldGVkLgogICAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLnNhdmUoLi4uYXJndW1lbnRzKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig","sourcesContent":["<script>\nimport CruResource from '@shell/components/CruResource';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { MONITORING } from '@shell/config/types';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { EDITOR_MODES } from '@shell/components/YamlEditor';\nimport { RECEIVERS_TYPES } from '@shell/models/monitoring.coreos.com.receiver';\nimport RouteConfig from './routeConfig';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport { _CREATE, _EDIT, _VIEW, _CONFIG } from '@shell/config/query-params';\nimport { fetchAlertManagerConfigSpecs } from '@shell/utils/alertmanagerconfig';\n\nexport default {\n  components: {\n    ActionMenu,\n    CruResource,\n    Loading,\n    NameNsDescription,\n    ResourceTable,\n    RouteConfig,\n    Tab,\n    Tabbed,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    const inStore = this.$store.getters['currentProduct'].inStore;\n    const alertmanagerConfigId = this.value.id;\n\n    const { receiverSchema, routeSchema } = await fetchAlertManagerConfigSpecs(this.$store);\n\n    this.receiverSchema = receiverSchema;\n    this.routeSchema = routeSchema;\n\n    const alertmanagerConfigResource = await this.$store.dispatch(`${ inStore }/find`, { type: MONITORING.ALERTMANAGERCONFIG, id: alertmanagerConfigId });\n\n    this.alertmanagerConfigId = alertmanagerConfigId;\n    this.alertmanagerConfigResource = alertmanagerConfigResource;\n    this.alertmanagerConfigDetailRoute = alertmanagerConfigResource?._detailLocation;\n\n    const alertmanagerConfigActions = alertmanagerConfigResource.availableActions;\n    const receiverActions = alertmanagerConfigResource.getReceiverActions(alertmanagerConfigActions);\n\n    this.receiverActions = receiverActions;\n  },\n\n  data() {\n    this.value.applyDefaults();\n\n    const defaultReceiverValues = {};\n    const receiverOptions = (this.value?.spec?.receivers || []).map((receiver) => receiver.name);\n\n    return {\n      actionMenuTargetElement:  null,\n      actionMenuTargetEvent:    null,\n      config:                   _CONFIG,\n      create:                   _CREATE,\n      createReceiverLink:       this.value.getCreateReceiverRoute(),\n      defaultReceiverValues,\n      receiverActionMenuIsOpen: false,\n      receiverTableHeaders:     [\n        {\n          name:          'name',\n          labelKey:      'tableHeaders.name',\n          value:         'name',\n          sort:          ['nameSort'],\n          formatter:     'LinkDetail',\n          canBeVariable: true,\n        },\n        {\n          name:          'type',\n          labelKey:      'tableHeaders.type',\n          value:         'name',\n          formatter:     'ReceiverIcons',\n          canBeVariable: true,\n        }\n        // Add more columns\n      ],\n      newReceiverType:      null,\n      receiverActions:      [],\n      receiverOptions,\n      receiverTypes:        RECEIVERS_TYPES,\n      selectedReceiverName: '',\n      selectedRowValue:     null,\n      view:                 _VIEW,\n    };\n  },\n\n  computed: {\n\n    editorMode() {\n      if ( this.mode === _VIEW ) {\n        return EDITOR_MODES.VIEW_CODE;\n      }\n\n      return EDITOR_MODES.EDIT_CODE;\n    },\n  },\n  methods: {\n\n    translateReceiverTypes() {\n      return this.receiverTypes.map((receiverType) => {\n        return {\n          ...receiverType,\n          label: this.t(receiverType.label)\n        };\n      });\n    },\n    getReceiverDetailLink(receiverData) {\n      if (receiverData && receiverData.name) {\n        return this.value.getReceiverDetailLink(receiverData.name);\n      }\n    },\n\n    toggleReceiverActionMenu() {\n      this.receiverActionMenuIsOpen = true;\n    },\n    setActionMenuState(eventData) {\n      // This method is called when the user clicks a context menu\n      // for a receiver in the receiver in the receiver list view.\n      // It sets the target element so the menu can open where the\n      // user clicked.\n      const { event, targetElement } = eventData;\n\n      // TargetElement could be an array of more than\n      // one if there is more than one ref of the same name.\n      if (event && targetElement) {\n        this.actionMenuTargetElement = targetElement;\n        this.actionMenuTargetEvent = event;\n\n        // We take the selected receiver name out of the target\n        // element's ID to help us build the URL to link to\n        // the detail page of that receiver.\n        // We use a plus sign as the delimiter to separate the\n        // name because the plus is not an allowed character in\n        // Kubernetes names.\n        this.selectedReceiverName = targetElement.id.split('+').slice(2).join('');\n\n        this.toggleReceiverActionMenu();\n      } else {\n        throw new Error('Could not find action menu target element.');\n      }\n    },\n    goToEdit() {\n      // 'goToEdit' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName, _EDIT));\n    },\n\n    goToEditYaml() {\n      // 'goToEditYaml' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName, _EDIT));\n    },\n    promptRemove() {\n      // 'promptRemove' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      // Get the name of the receiver to delete from the action info.\n      const nameOfReceiverToDelete = this.selectedReceiverName;\n      // Remove it from the configuration of the parent AlertmanagerConfig\n      // resource.\n      const existingReceivers = this.alertmanagerConfigResource.spec.receivers || [];\n      const receiversMinusDeletedItem = existingReceivers.filter((receiver) => {\n        return receiver.name !== nameOfReceiverToDelete;\n      });\n\n      this.alertmanagerConfigResource.spec.receivers = receiversMinusDeletedItem;\n      // After saving the AlertmanagerConfig, the resource has been deleted.\n      this.alertmanagerConfigResource.save(...arguments);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    class=\"route\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :cancel-event=\"true\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <Tabbed>\n      <Tab\n        :label=\"t('monitoring.route.label')\"\n        :weight=\"1\"\n        name=\"route\"\n      >\n        <RouteConfig\n          :value=\"value.spec.route\"\n          :mode=\"mode\"\n          :receiver-options=\"receiverOptions\"\n        />\n      </Tab>\n      <Tab\n        :label=\"t('alertmanagerConfigReceiver.receivers')\"\n        :weight=\"2\"\n        name=\"receivers\"\n      >\n        <ResourceTable\n          :headers=\"receiverTableHeaders\"\n          :schema=\"receiverSchema\"\n          :rows=\"value.spec.receivers || []\"\n          :get-custom-detail-link=\"getReceiverDetailLink\"\n          :table-actions=\"false\"\n          :custom-actions=\"value.receiverActions\"\n          @clickedActionButton=\"setActionMenuState\"\n        >\n          <template #header-button>\n            <router-link\n              v-if=\"createReceiverLink && createReceiverLink.name\"\n              :to=\"mode !== create ? createReceiverLink : {}\"\n            >\n              <button\n                class=\"btn role-primary\"\n                :disabled=\"mode === create\"\n                :tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n                data-testid=\"v2-monitoring-add-receiver\"\n              >\n                {{ t('monitoring.receiver.addReceiver') }}\n                <i\n                  v-if=\"mode === create\"\n                  v-clean-tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n                  class=\"icon icon-info\"\n                />\n              </button>\n            </router-link>\n          </template>\n        </ResourceTable>\n      </Tab>\n    </Tabbed>\n    <ActionMenu\n      :custom-actions=\"receiverActions\"\n      :open=\"receiverActionMenuIsOpen\"\n      :use-custom-target-element=\"true\"\n      :custom-target-element=\"actionMenuTargetElement\"\n      :custom-target-event=\"actionMenuTargetEvent\"\n      @close=\"receiverActionMenuIsOpen = false\"\n      @goToEdit=\"goToEdit\"\n      @goToEditYaml=\"goToEditYaml\"\n      @promptRemove=\"promptRemove\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n  h3 {\n    margin-top: 2em;\n  }\n  input {\n    margin-top: 1em;\n  }\n  .route {\n    &[real-mode=view] .label {\n      color: var(--input-label);\n    }\n  }\n  button {\n    margin-left: 0.5em;\n  }\n  a:hover {\n      text-decoration: none;\n  }\n</style>\n"]}]}