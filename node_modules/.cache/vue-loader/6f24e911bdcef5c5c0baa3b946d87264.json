{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/Advanced.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IEFycmF5TGlzdEdyb3VwZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3RHcm91cGVkJzsKaW1wb3J0IE1hdGNoRXhwcmVzc2lvbnMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9NYXRjaEV4cHJlc3Npb25zJzsKaW1wb3J0IEFycmF5TGlzdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyLAogICAgQXJyYXlMaXN0R3JvdXBlZCwKICAgIE1hdGNoRXhwcmVzc2lvbnMsCiAgICBBcnJheUxpc3QsCiAgICBDaGVja2JveAogIH0sCgogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgaGF2ZUFyZ0luZm86IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAoKICAgIHNlbGVjdGVkVmVyc2lvbjogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHJrZUNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3BlYy5ya2VDb25maWc7CiAgICB9LAogICAgYWdlbnRBcmdzKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFZlcnNpb24/LmFnZW50QXJncyB8fCB7fTsKICAgIH0sCiAgICBjYW5SZW1vdmVLdWJlbGV0Um93KHJvdywgaWR4KSB7CiAgICAgIHJldHVybiBpZHggIT09IDA7CiAgICB9LAogICAgc2VydmVyQXJncygpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRWZXJzaW9uPy5zZXJ2ZXJBcmdzIHx8IHt9OwogICAgfSwKICAgIHNlcnZlckNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3BlYy5ya2VDb25maWcubWFjaGluZUdsb2JhbENvbmZpZzsKICAgIH0sCiAgICBhZ2VudENvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuYWdlbnRDb25maWc7CiAgICB9LAogICAgYWR2YW5jZWRUaXRsZUFsdCgpIHsKICAgICAgY29uc3QgbWFjaGluZVNlbGVjdG9yTGVuZ3RoID0gdGhpcy5ya2VDb25maWcubWFjaGluZVNlbGVjdG9yQ29uZmlnLmxlbmd0aDsKCiAgICAgIHJldHVybiB0aGlzLnQoJ2NsdXN0ZXIuYWR2YW5jZWQuYXJnSW5mby5tYWNoaW5lU2VsZWN0b3IudGl0bGVBbHQnLCB7IGNvdW50OiBtYWNoaW5lU2VsZWN0b3JMZW5ndGggfSk7CiAgICB9LAogICAgcHJvdGVjdEtlcm5lbERlZmF1bHRzKCkgewogICAgICByZXR1cm4gKHRoaXMuYWdlbnRDb25maWcgfHwgdGhpcy5zZXJ2ZXJDb25maWcpWydwcm90ZWN0LWtlcm5lbC1kZWZhdWx0cyddOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uSW5wdXRQcm90ZWN0S2VybmVsRGVmYXVsdHModmFsdWUpIHsKICAgICAgVnVlLnNldCh0aGlzLmFnZW50Q29uZmlnIHx8IHRoaXMuc2VydmVyQ29uZmlnLCAncHJvdGVjdC1rZXJuZWwtZGVmYXVsdHMnLCB2YWx1ZSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Advanced.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Advanced.vue","sourceRoot":"node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs","sourcesContent":["<script>\nimport Vue from 'vue';\nimport { Banner } from '@components/Banner';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nexport default {\n  components: {\n    Banner,\n    ArrayListGrouped,\n    MatchExpressions,\n    ArrayList,\n    Checkbox\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    haveArgInfo: {\n      type:     Boolean,\n      required: true\n    },\n\n    selectedVersion: {\n      type:     Object,\n      required: true\n    },\n\n  },\n\n  computed: {\n    rkeConfig() {\n      return this.value.spec.rkeConfig;\n    },\n    agentArgs() {\n      return this.selectedVersion?.agentArgs || {};\n    },\n    canRemoveKubeletRow(row, idx) {\n      return idx !== 0;\n    },\n    serverArgs() {\n      return this.selectedVersion?.serverArgs || {};\n    },\n    serverConfig() {\n      return this.value.spec.rkeConfig.machineGlobalConfig;\n    },\n    agentConfig() {\n      return this.value.agentConfig;\n    },\n    advancedTitleAlt() {\n      const machineSelectorLength = this.rkeConfig.machineSelectorConfig.length;\n\n      return this.t('cluster.advanced.argInfo.machineSelector.titleAlt', { count: machineSelectorLength });\n    },\n    protectKernelDefaults() {\n      return (this.agentConfig || this.serverConfig)['protect-kernel-defaults'];\n    }\n  },\n\n  methods: {\n    onInputProtectKernelDefaults(value) {\n      Vue.set(this.agentConfig || this.serverConfig, 'protect-kernel-defaults', value);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <template v-if=\"haveArgInfo\">\n      <h3>{{ t('cluster.advanced.argInfo.title') }}</h3>\n      <ArrayListGrouped\n        v-if=\"agentArgs['kubelet-arg']\"\n        v-model=\"rkeConfig.machineSelectorConfig\"\n        class=\"mb-20\"\n        :add-label=\"t('cluster.advanced.argInfo.machineSelector.label')\"\n        :can-remove=\"canRemoveKubeletRow\"\n        :default-add-value=\"{machineLabelSelector: { matchExpressions: [], matchLabels: {} }, config: {'kubelet-arg': []}}\"\n      >\n        <template #default=\"{row}\">\n          <template v-if=\"row.value.machineLabelSelector\">\n            <h3>{{ t('cluster.advanced.argInfo.machineSelector.title') }}</h3>\n            <MatchExpressions\n              v-model=\"row.value.machineLabelSelector\"\n              class=\"mb-20\"\n              :mode=\"mode\"\n              :show-remove=\"false\"\n              :initial-empty-row=\"true\"\n            />\n            <h3>{{ t('cluster.advanced.argInfo.machineSelector.subTitle') }}</h3>\n          </template>\n          <h3 v-else>\n            {{ advancedTitleAlt }}\n          </h3>\n\n          <ArrayList\n            v-model=\"row.value.config['kubelet-arg']\"\n            :mode=\"mode\"\n            :add-label=\"t('cluster.advanced.argInfo.machineSelector.listLabel')\"\n            :initial-empty-row=\"!!row.value.machineLabelSelector\"\n          />\n        </template>\n      </ArrayListGrouped>\n      <Banner\n        v-if=\"rkeConfig.machineSelectorConfig.length > 1\"\n        color=\"info\"\n        :label=\"t('cluster.advanced.argInfo.machineSelector.bannerLabel')\"\n      />\n\n      <ArrayList\n        v-if=\"serverArgs['kube-controller-manager-arg']\"\n        v-model=\"serverConfig['kube-controller-manager-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeControllerManagerTitle')\"\n        class=\"mb-20\"\n      />\n      <ArrayList\n        v-if=\"serverArgs['kube-apiserver-arg']\"\n        v-model=\"serverConfig['kube-apiserver-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeApiServerTitle')\"\n        class=\"mb-20\"\n      />\n      <ArrayList\n        v-if=\"serverArgs['kube-scheduler-arg']\"\n        v-model=\"serverConfig['kube-scheduler-arg']\"\n        :mode=\"mode\"\n        :title=\"t('cluster.advanced.argInfo.machineSelector.kubeSchedulerTitle')\"\n      />\n    </template>\n    <template v-if=\"agentArgs && agentArgs['protect-kernel-defaults']\">\n      <div class=\"spacer\" />\n\n      <div class=\"row\">\n        <div class=\"col span-12\">\n          <Checkbox\n            data-testid=\"protect-kernel-defaults\"\n            :value=\"protectKernelDefaults\"\n            :mode=\"mode\"\n            :label=\"t('cluster.advanced.agentArgs.label')\"\n            @input=\"onInputProtectKernelDefaults($event)\"\n          />\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n"]}]}