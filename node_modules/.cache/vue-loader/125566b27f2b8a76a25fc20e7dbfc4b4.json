{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/components/CommunityLinks.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/components/CommunityLinks.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTaW1wbGVCb3ggZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU2ltcGxlQm94JzsKaW1wb3J0IEFwcE1vZGFsIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FwcE1vZGFsLnZ1ZSc7CmltcG9ydCBDbG9zZWFibGUgZnJvbSAnQHNoZWxsL21peGlucy9jbG9zZWFibGUnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBpc1JhbmNoZXJQcmltZSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdmVyc2lvbic7CmltcG9ydCB7IGZldGNoTGlua3MgfSBmcm9tICdAc2hlbGwvY29uZmlnL2hvbWUtbGlua3MnOwoKLy8gaTE4bi1pZ25vcmUgZm9vdGVyLndlY2hhdC50aXRsZSwgZm9vdGVyLndlY2hhdC5tb2RhbFRleHQsIGZvb3Rlci53ZWNoYXQubW9kYWxUZXh0MgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbW11bml0eUxpbmtzJywKCiAgY29tcG9uZW50czogeyBTaW1wbGVCb3gsIEFwcE1vZGFsIH0sCgogIHByb3BzOiB7CiAgICBsaW5rT3B0aW9uczogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0sCiAgICB9LAogICAgaXNTdXBwb3J0UGFnZTogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgfSwKCiAgbWl4aW5zOiBbQ2xvc2VhYmxlXSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICB0aGlzLmxpbmtzID0gYXdhaXQgZmV0Y2hMaW5rcyh0aGlzLiRzdG9yZSwgdGhpcy5oYXNTdXBwb3J0LCB0aGlzLmlzU3VwcG9ydFBhZ2UsIChzdHIpID0+IHRoaXMudChzdHIpKTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsgbGlua3M6IHt9LCBzaG93V2VDaGF0TW9kYWw6IGZhbHNlIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoJ2kxOG4nLCBbCiAgICAgICdzZWxlY3RlZExvY2FsZUxhYmVsJwogICAgXSksCgogICAgaGFzT3B0aW9ucygpIHsKICAgICAgcmV0dXJuICEhT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5sZW5ndGggfHwgISFPYmplY3Qua2V5cyh0aGlzLiRzbG90cykubGVuZ3RoOwogICAgfSwKCiAgICBoYXNTdXBwb3J0KCkgewogICAgICByZXR1cm4gaXNSYW5jaGVyUHJpbWUoKSB8fCB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULlNFVFRJTkcsIFNFVFRJTkcuU1VQUE9SVEVEICk/LnZhbHVlID09PSAndHJ1ZSc7CiAgICB9LAoKICAgIG9wdGlvbnMoKSB7CiAgICAgIC8vIFVzZSBsaW5rT3B0aW9ucyBpZiBwcm92aWRlZCAtIHVzZWQgYnkgSGFydmVzdGVyCiAgICAgIGlmICh0aGlzLmxpbmtPcHRpb25zICYmIE9iamVjdC5rZXlzKHRoaXMubGlua09wdGlvbnMpLmxlbmd0aCkgewogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTsKCiAgICAgICAgT2JqZWN0LmtleXModGhpcy5saW5rT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgICBvcHRpb25zLnB1c2goewogICAgICAgICAgICBrZXksCiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnQoa2V5KSwKICAgICAgICAgICAgdmFsdWU6IHRoaXMubGlua09wdGlvbnNba2V5XQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBvcHRpb25zOwogICAgICB9CgogICAgICAvLyBDb21iaW5lIHRoZSBsaW5rcwogICAgICBjb25zdCBhbGwgPSBbXTsKCiAgICAgIGlmICh0aGlzLmxpbmtzLmN1c3RvbSkgewogICAgICAgIGFsbC5wdXNoKC4uLnRoaXMubGlua3MuY3VzdG9tKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubGlua3MuZGVmYXVsdHMpIHsKICAgICAgICBhbGwucHVzaCguLi50aGlzLmxpbmtzLmRlZmF1bHRzLmZpbHRlcigobGluaykgPT4gbGluay5lbmFibGVkKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhbGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93KCkgewogICAgICB0aGlzLnNob3dXZUNoYXRNb2RhbCA9IHRydWU7CiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuc2hvd1dlQ2hhdE1vZGFsID0gZmFsc2U7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["CommunityLinks.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommunityLinks.vue","sourceRoot":"node_modules/@rancher/shell/components","sourcesContent":["<script>\nimport SimpleBox from '@shell/components/SimpleBox';\nimport AppModal from '@shell/components/AppModal.vue';\nimport Closeable from '@shell/mixins/closeable';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { mapGetters } from 'vuex';\nimport { isRancherPrime } from '@shell/config/version';\nimport { fetchLinks } from '@shell/config/home-links';\n\n// i18n-ignore footer.wechat.title, footer.wechat.modalText, footer.wechat.modalText2\nexport default {\n  name: 'CommunityLinks',\n\n  components: { SimpleBox, AppModal },\n\n  props: {\n    linkOptions: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n    isSupportPage: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n\n  mixins: [Closeable],\n\n  async fetch() {\n    this.links = await fetchLinks(this.$store, this.hasSupport, this.isSupportPage, (str) => this.t(str));\n  },\n\n  data() {\n    return { links: {}, showWeChatModal: false };\n  },\n\n  computed: {\n    ...mapGetters('i18n', [\n      'selectedLocaleLabel'\n    ]),\n\n    hasOptions() {\n      return !!Object.keys(this.options).length || !!Object.keys(this.$slots).length;\n    },\n\n    hasSupport() {\n      return isRancherPrime() || this.$store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.SUPPORTED )?.value === 'true';\n    },\n\n    options() {\n      // Use linkOptions if provided - used by Harvester\n      if (this.linkOptions && Object.keys(this.linkOptions).length) {\n        const options = [];\n\n        Object.keys(this.linkOptions).forEach((key) => {\n          options.push({\n            key,\n            label: this.t(key),\n            value: this.linkOptions[key]\n          });\n        });\n\n        return options;\n      }\n\n      // Combine the links\n      const all = [];\n\n      if (this.links.custom) {\n        all.push(...this.links.custom);\n      }\n\n      if (this.links.defaults) {\n        all.push(...this.links.defaults.filter((link) => link.enabled));\n      }\n\n      return all;\n    }\n  },\n  methods: {\n    show() {\n      this.showWeChatModal = true;\n    },\n    close() {\n      this.showWeChatModal = false;\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"hasOptions\">\n    <SimpleBox\n      :pref=\"pref\"\n      :pref-key=\"prefKey\"\n    >\n      <template #title>\n        <h2>\n          {{ t('customLinks.displayTitle') }}\n        </h2>\n      </template>\n      <div\n        v-for=\"link in options\"\n        :key=\"link.label\"\n        class=\"support-link\"\n      >\n        <router-link\n          v-if=\"link.value.startsWith('/') \"\n          :to=\"link.value\"\n        >\n          {{ link.label }}\n        </router-link>\n        <a\n          v-else\n          :href=\"link.value\"\n          rel=\"noopener noreferrer nofollow\"\n          target=\"_blank\"\n        > {{ link.label }} </a>\n      </div>\n      <slot />\n      <div\n        v-if=\"selectedLocaleLabel === t('locale.zh-hans')\"\n        class=\"support-link\"\n      >\n        <a\n          class=\"link\"\n          @click=\"show\"\n        >\n          {{ t('footer.wechat.title') }}\n        </a>\n      </div>\n    </SimpleBox>\n    <app-modal\n      v-if=\"showWeChatModal\"\n      name=\"wechat-modal\"\n      height=\"auto\"\n      :width=\"640\"\n      @close=\"close\"\n    >\n      <div class=\"wechat-modal\">\n        <h1>{{ t('footer.wechat.modalText') }}</h1>\n        <h1>{{ t('footer.wechat.modalText2') }}</h1>\n        <div class=\"qr-img\" />\n        <div>\n          <button\n            class=\"btn role-primary\"\n            @click=\"close\"\n          >\n            {{ t('generic.close') }}\n          </button>\n        </div>\n      </div>\n    </app-modal>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  h2 {\n    display: flex;\n    align-items: center;\n\n    i {\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n  .support-link:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  .wechat-modal {\n    margin: 60px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .link {\n    cursor: pointer;\n  }\n\n  .btn {\n    margin: 20px auto 0;\n  }\n\n  .qr-img {\n    background-image: url('../assets/images/wechat-qr-code.jpg');\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center center;\n    height: 128px;\n    width: 128px;\n    margin: 15px auto 10px;\n  }\n</style>\n"]}]}