{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/monitoring.coreos.com.prometheusrule/AlertingRule.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/monitoring.coreos.com.prometheusrule/AlertingRule.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgaGFzIGZyb20gJ2xvZGFzaC9oYXMnOwppbXBvcnQgaXNFbXB0eSBmcm9tICdsb2Rhc2gvaXNFbXB0eSc7CmltcG9ydCBwaWNrQnkgZnJvbSAnbG9kYXNoL3BpY2tCeSc7CgppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgQ29kZU1pcnJvciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Db2RlTWlycm9yJzsKaW1wb3J0IEtleVZhbHVlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vS2V5VmFsdWUnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBVbml0SW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Vbml0SW5wdXQnOwppbXBvcnQgeyBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgdG9NaWxsaXNlY29uZHMgfSBmcm9tICcuL2R1cmF0aW9uLmpzJzsKCmNvbnN0IElHTk9SRURfQU5OT1RBVElPTlMgPSBbCiAgJ3N1bW1hcnknLAogICdtZXNzYWdlJywKICAnZGVzY3JpcHRpb24nLAogICdydW5ib29rX3VybCcsCl07CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2hlY2tib3gsCiAgICBDb2RlTWlycm9yLAogICAgS2V5VmFsdWUsCiAgICBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0LAogICAgVW5pdElucHV0LAogIH0sCgogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSksCiAgICB9LAoKICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY3JlYXRlJywKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkU2V2ZXJpdHlMYWJlbDogbnVsbCwKICAgICAgaWdub3JlZEFubm90YXRpb25zOiAgICBJR05PUkVEX0FOTk9UQVRJT05TLAogICAgICBzZXZlcml0eU9wdGlvbnM6ICAgICAgIFsKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogdGhpcy50KCdwcm9tZXRoZXVzUnVsZS5hbGVydGluZ1J1bGVzLmxhYmVscy5zZXZlcml0eS5jaG9pY2VzLmNyaXRpY2FsJyksCiAgICAgICAgICB2YWx1ZTogJ2NyaXRpY2FsJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6IHRoaXMudCgncHJvbWV0aGV1c1J1bGUuYWxlcnRpbmdSdWxlcy5sYWJlbHMuc2V2ZXJpdHkuY2hvaWNlcy53YXJuaW5nJyksCiAgICAgICAgICB2YWx1ZTogJ3dhcm5pbmcnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogdGhpcy50KCdwcm9tZXRoZXVzUnVsZS5hbGVydGluZ1J1bGVzLmxhYmVscy5zZXZlcml0eS5jaG9pY2VzLm5vbmUnKSwKICAgICAgICAgIHZhbHVlOiAnbm9uZScKICAgICAgICB9LAogICAgICBdLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgaXNWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCiAgICBzZXZlcml0eUxhYmVsQ2hlY2tlZDogewogICAgICBnZXQoKSB7CiAgICAgICAgaWYgKGhhcyh0aGlzLnZhbHVlPy5sYWJlbHMsICdzZXZlcml0eScpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlPy5sYWJlbHMpKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnbGFiZWxzJywgeyBzZXZlcml0eTogJ25vbmUnIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUubGFiZWxzLCAnc2V2ZXJpdHknLCAnbm9uZScpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5sYWJlbHMsICdzZXZlcml0eScsICcnKTsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLmxhYmVscy5zZXZlcml0eTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAoKICAgIHN1bW1hcnlBbm5vdGF0aW9uQ2hlY2tlZDogewogICAgICBnZXQoKSB7CiAgICAgICAgaWYgKGhhcyh0aGlzLnZhbHVlPy5hbm5vdGF0aW9ucywgJ3N1bW1hcnknKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgaWYgKGlzRW1wdHkodGhpcy52YWx1ZT8uYW5ub3RhdGlvbnMpKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnYW5ub3RhdGlvbnMnLCB7IHN1bW1hcnk6ICcnIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuYW5ub3RhdGlvbnMsICdzdW1tYXJ5JywgJycpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5hbm5vdGF0aW9ucywgJ3N1bW1hcnknLCAnJyk7CiAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5hbm5vdGF0aW9ucy5zdW1tYXJ5OwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCgogICAgbWVzc2FnZUFubm90YXRpb25DaGVja2VkOiB7CiAgICAgIGdldCgpIHsKICAgICAgICBpZiAoaGFzKHRoaXMudmFsdWU/LmFubm90YXRpb25zLCAnbWVzc2FnZScpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlPy5hbm5vdGF0aW9ucykpIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdhbm5vdGF0aW9ucycsIHsgbWVzc2FnZTogJycgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5hbm5vdGF0aW9ucywgJ21lc3NhZ2UnLCAnJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLmFubm90YXRpb25zLCAnbWVzc2FnZScsICcnKTsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLmFubm90YXRpb25zLm1lc3NhZ2U7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKCiAgICBkZXNjcmlwdGlvbkFubm90YXRpb25DaGVja2VkOiB7CiAgICAgIGdldCgpIHsKICAgICAgICBpZiAoaGFzKHRoaXMudmFsdWU/LmFubm90YXRpb25zLCAnZGVzY3JpcHRpb24nKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgaWYgKGlzRW1wdHkodGhpcy52YWx1ZT8uYW5ub3RhdGlvbnMpKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnYW5ub3RhdGlvbnMnLCB7IGRlc2NyaXB0aW9uOiAnJyB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLmFubm90YXRpb25zLCAnZGVzY3JpcHRpb24nLCAnJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLmFubm90YXRpb25zLCAnZGVzY3JpcHRpb24nLCAnJyk7CiAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5hbm5vdGF0aW9ucy5kZXNjcmlwdGlvbjsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAoKICAgIHJ1bmJvb2tBbm5vdGF0aW9uQ2hlY2tlZDogewogICAgICBnZXQoKSB7CiAgICAgICAgaWYgKGhhcyh0aGlzLnZhbHVlPy5hbm5vdGF0aW9ucywgJ3J1bmJvb2tfdXJsJykpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGlmIChpc0VtcHR5KHRoaXMudmFsdWU/LmFubm90YXRpb25zKSkgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ2Fubm90YXRpb25zJywgeyBydW5ib29rX3VybDogJycgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5hbm5vdGF0aW9ucywgJ3J1bmJvb2tfdXJsJywgJycpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5hbm5vdGF0aW9ucywgJ3J1bmJvb2tfdXJsJywgJycpOwogICAgICAgICAgZGVsZXRlIHRoaXMudmFsdWUuYW5ub3RhdGlvbnMucnVuYm9va191cmw7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKCiAgICBmaWx0ZXJlZEFubm90YXRpb25zKCkgewogICAgICBjb25zdCB7IGlnbm9yZWRBbm5vdGF0aW9ucyB9ID0gdGhpczsKICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSB0aGlzLnZhbHVlPy5hbm5vdGF0aW9uczsKCiAgICAgIHJldHVybiBwaWNrQnkoYW5ub3RhdGlvbnMsICh2YWx1ZSwga2V5KSA9PiB7CiAgICAgICAgcmV0dXJuICFpZ25vcmVkQW5ub3RhdGlvbnMuaW5jbHVkZXMoa2V5KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGZpbHRlcmVkTGFiZWxzKCkgewogICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLnZhbHVlPy5sYWJlbHM7CgogICAgICByZXR1cm4gcGlja0J5KGxhYmVscywgKHZhbHVlLCBrZXkpID0+IHsKICAgICAgICByZXR1cm4ga2V5ICE9PSAnc2V2ZXJpdHknOwogICAgICB9KTsKICAgIH0sCgogICAgc2hvd0N1c3RvbVNldmVyaXR5SW5wdXQoKSB7CiAgICAgIGNvbnN0IHsgc2VsZWN0ZWRTZXZlcml0eUxhYmVsIH0gPSB0aGlzOwoKICAgICAgaWYgKHNlbGVjdGVkU2V2ZXJpdHlMYWJlbCA9PT0gJ2N1c3RvbScpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICB3YWl0VG9GaXJlRm9yOiB7CiAgICAgIGdldCgpIHsKICAgICAgICBpZiAoIVtudWxsLCB1bmRlZmluZWRdLmluY2x1ZGVzKHRoaXMudmFsdWUuZm9yKSkgewogICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodG9NaWxsaXNlY29uZHModGhpcy52YWx1ZS5mb3IpIC8gMTAwMCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9LAogICAgICBzZXQodikgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnZm9yJywgW251bGwsIHVuZGVmaW5lZF0uaW5jbHVkZXModikgPyB1bmRlZmluZWQgOiBgJHsgdiB9c2ApOwogICAgICB9CiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHNlbGVjdGVkU2V2ZXJpdHlMYWJlbCh2YWx1ZSAvKiAsIG9sZFZhbHVlICovKSB7CiAgICAgIGNvbnN0IG5ldSA9IHZhbHVlID09PSAnY3VzdG9tJyA/ICcnIDogdmFsdWU7CgogICAgICBpZiAodGhpcy52YWx1ZT8ubGFiZWxzKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUubGFiZWxzLCAnc2V2ZXJpdHknLCBuZXUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnbGFiZWxzJywgeyBzZXZlcml0eTogbmV1IH0pOwogICAgICB9CiAgICB9LAogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnF1ZXVlVXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGVFeHByZXNzaW9uLCA1MDApOwogICAgdGhpcy5xdWV1ZUxhYmVsVXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGVMYWJlbHMsIDUwMCk7CiAgICB0aGlzLnF1ZXVlQW5ub3RhdGlvblVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlQW5ub3RhdGlvbnMsIDUwMCk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgaWYgKHRoaXMudmFsdWU/LmxhYmVscz8uc2V2ZXJpdHkpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkU2V2ZXJpdHlMYWJlbCA9IHRoaXMudmFsdWUubGFiZWxzLnNldmVyaXR5OwogICAgICB9CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVMYWJlbHModmFsdWUpIHsKICAgICAgY29uc3QgbmV1ID0geyAuLi52YWx1ZSB9OwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTZXZlcml0eUxhYmVsKSB7CiAgICAgICAgbmV1WydzZXZlcml0eSddID0gdGhpcy5zZWxlY3RlZFNldmVyaXR5TGFiZWw7CiAgICAgIH0KCiAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnbGFiZWxzJywgbmV1KTsKICAgIH0sCiAgICB1cGRhdGVBbm5vdGF0aW9ucyh2YWx1ZSkgewogICAgICBjb25zdCB7CiAgICAgICAgaWdub3JlZEFubm90YXRpb25zLAogICAgICAgIHZhbHVlOiB7IGFubm90YXRpb25zID0ge30gfSwKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IG5ldSA9IHsgLi4udmFsdWUgfTsKCiAgICAgIGlnbm9yZWRBbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vKSA9PiB7CiAgICAgICAgaWYgKGhhcyhhbm5vdGF0aW9ucywgYW5ubykpIHsKICAgICAgICAgIG5ldVthbm5vXSA9IGFubm90YXRpb25zW2Fubm9dOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ2Fubm90YXRpb25zJywgbmV1KTsKICAgIH0sCiAgICB1cGRhdGVFeHByZXNzaW9uKHZhbHVlKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnZXhwcicsIHZhbHVlKTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["AlertingRule.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AlertingRule.vue","sourceRoot":"node_modules/@rancher/shell/edit/monitoring.coreos.com.prometheusrule","sourcesContent":["<script>\nimport debounce from 'lodash/debounce';\nimport has from 'lodash/has';\nimport isEmpty from 'lodash/isEmpty';\nimport pickBy from 'lodash/pickBy';\n\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CodeMirror from '@shell/components/CodeMirror';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { _VIEW } from '@shell/config/query-params';\nimport { toMilliseconds } from './duration.js';\n\nconst IGNORED_ANNOTATIONS = [\n  'summary',\n  'message',\n  'description',\n  'runbook_url',\n];\n\nexport default {\n  components: {\n    Checkbox,\n    CodeMirror,\n    KeyValue,\n    LabeledInput,\n    LabeledSelect,\n    UnitInput,\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => ({}),\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n  },\n\n  data() {\n    return {\n      selectedSeverityLabel: null,\n      ignoredAnnotations:    IGNORED_ANNOTATIONS,\n      severityOptions:       [\n        {\n          label: this.t('prometheusRule.alertingRules.labels.severity.choices.critical'),\n          value: 'critical'\n        },\n        {\n          label: this.t('prometheusRule.alertingRules.labels.severity.choices.warning'),\n          value: 'warning'\n        },\n        {\n          label: this.t('prometheusRule.alertingRules.labels.severity.choices.none'),\n          value: 'none'\n        },\n      ],\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n    severityLabelChecked: {\n      get() {\n        if (has(this.value?.labels, 'severity')) {\n          return true;\n        }\n\n        return false;\n      },\n      set(value) {\n        if (value) {\n          if (isEmpty(this.value?.labels)) {\n            this.$set(this.value, 'labels', { severity: 'none' });\n          } else {\n            this.$set(this.value.labels, 'severity', 'none');\n          }\n        } else {\n          this.$set(this.value.labels, 'severity', '');\n          delete this.value.labels.severity;\n        }\n      },\n    },\n\n    summaryAnnotationChecked: {\n      get() {\n        if (has(this.value?.annotations, 'summary')) {\n          return true;\n        }\n\n        return false;\n      },\n      set(value) {\n        if (value) {\n          if (isEmpty(this.value?.annotations)) {\n            this.$set(this.value, 'annotations', { summary: '' });\n          } else {\n            this.$set(this.value.annotations, 'summary', '');\n          }\n        } else {\n          this.$set(this.value.annotations, 'summary', '');\n          delete this.value.annotations.summary;\n        }\n      },\n    },\n\n    messageAnnotationChecked: {\n      get() {\n        if (has(this.value?.annotations, 'message')) {\n          return true;\n        }\n\n        return false;\n      },\n      set(value) {\n        if (value) {\n          if (isEmpty(this.value?.annotations)) {\n            this.$set(this.value, 'annotations', { message: '' });\n          } else {\n            this.$set(this.value.annotations, 'message', '');\n          }\n        } else {\n          this.$set(this.value.annotations, 'message', '');\n          delete this.value.annotations.message;\n        }\n      },\n    },\n\n    descriptionAnnotationChecked: {\n      get() {\n        if (has(this.value?.annotations, 'description')) {\n          return true;\n        }\n\n        return false;\n      },\n      set(value) {\n        if (value) {\n          if (isEmpty(this.value?.annotations)) {\n            this.$set(this.value, 'annotations', { description: '' });\n          } else {\n            this.$set(this.value.annotations, 'description', '');\n          }\n        } else {\n          this.$set(this.value.annotations, 'description', '');\n          delete this.value.annotations.description;\n        }\n      },\n    },\n\n    runbookAnnotationChecked: {\n      get() {\n        if (has(this.value?.annotations, 'runbook_url')) {\n          return true;\n        }\n\n        return false;\n      },\n      set(value) {\n        if (value) {\n          if (isEmpty(this.value?.annotations)) {\n            this.$set(this.value, 'annotations', { runbook_url: '' });\n          } else {\n            this.$set(this.value.annotations, 'runbook_url', '');\n          }\n        } else {\n          this.$set(this.value.annotations, 'runbook_url', '');\n          delete this.value.annotations.runbook_url;\n        }\n      },\n    },\n\n    filteredAnnotations() {\n      const { ignoredAnnotations } = this;\n      const annotations = this.value?.annotations;\n\n      return pickBy(annotations, (value, key) => {\n        return !ignoredAnnotations.includes(key);\n      });\n    },\n\n    filteredLabels() {\n      const labels = this.value?.labels;\n\n      return pickBy(labels, (value, key) => {\n        return key !== 'severity';\n      });\n    },\n\n    showCustomSeverityInput() {\n      const { selectedSeverityLabel } = this;\n\n      if (selectedSeverityLabel === 'custom') {\n        return true;\n      }\n\n      return false;\n    },\n\n    waitToFireFor: {\n      get() {\n        if (![null, undefined].includes(this.value.for)) {\n          return Math.floor(toMilliseconds(this.value.for) / 1000);\n        }\n\n        return undefined;\n      },\n      set(v) {\n        this.$set(this.value, 'for', [null, undefined].includes(v) ? undefined : `${ v }s`);\n      }\n    }\n  },\n\n  watch: {\n    selectedSeverityLabel(value /* , oldValue */) {\n      const neu = value === 'custom' ? '' : value;\n\n      if (this.value?.labels) {\n        this.$set(this.value.labels, 'severity', neu);\n      } else {\n        this.$set(this.value, 'labels', { severity: neu });\n      }\n    },\n  },\n\n  created() {\n    this.queueUpdate = debounce(this.updateExpression, 500);\n    this.queueLabelUpdate = debounce(this.updateLabels, 500);\n    this.queueAnnotationUpdate = debounce(this.updateAnnotations, 500);\n  },\n\n  mounted() {\n    this.$nextTick(() => {\n      if (this.value?.labels?.severity) {\n        this.selectedSeverityLabel = this.value.labels.severity;\n      }\n    });\n  },\n\n  methods: {\n    updateLabels(value) {\n      const neu = { ...value };\n\n      if (this.selectedSeverityLabel) {\n        neu['severity'] = this.selectedSeverityLabel;\n      }\n\n      this.$set(this.value, 'labels', neu);\n    },\n    updateAnnotations(value) {\n      const {\n        ignoredAnnotations,\n        value: { annotations = {} },\n      } = this;\n      const neu = { ...value };\n\n      ignoredAnnotations.forEach((anno) => {\n        if (has(annotations, anno)) {\n          neu[anno] = annotations[anno];\n        }\n      });\n\n      this.$set(this.value, 'annotations', neu);\n    },\n    updateExpression(value) {\n      this.$set(this.value, 'expr', value);\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mt-25\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.alert\"\n          :label=\"t('prometheusRule.alertingRules.name')\"\n          :required=\"true\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <UnitInput\n          v-model=\"waitToFireFor\"\n          :suffix=\"t('suffix.seconds', {count: value.for})\"\n          :placeholder=\"t('prometheusRule.alertingRules.for.placeholder')\"\n          :label=\"t('prometheusRule.alertingRules.for.label')\"\n          :mode=\"mode\"\n        />\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col span-12\">\n        <LabeledInput\n          v-model=\"value.expr\"\n          :label=\"t('prometheusRule.promQL.label')\"\n          :required=\"true\"\n          :mode=\"mode\"\n        >\n          <template #field>\n            <CodeMirror\n              class=\"mt-20\"\n              :value=\"value.expr\"\n              :options=\"{\n                mode: null,\n                foldGutter: false,\n                readOnly: mode === 'view',\n              }\"\n              @onInput=\"queueUpdate\"\n            />\n          </template>\n        </LabeledInput>\n      </div>\n    </div>\n    <div class=\"suggested-labels\">\n      <div class=\"row mb-0 mt-30\">\n        <div class=\"col span-12\">\n          <h3>\n            <t k=\"prometheusRule.alertingRules.labels.label\" />\n          </h3>\n        </div>\n      </div>\n      <div :class=\"[{ hide: isView && !severityLabelChecked }, 'row']\">\n        <div\n          v-if=\"isView && severityLabelChecked\"\n          class=\"col span-6 severity\"\n        >\n          <label><t k=\"prometheusRule.alertingRules.labels.severity.label\" /></label>\n          <div>{{ value.labels.severity }}</div>\n        </div>\n        <div\n          v-else\n          class=\"severity col span-6\"\n        >\n          <Checkbox\n            v-model=\"severityLabelChecked\"\n            :mode=\"mode\"\n            :label=\"t('prometheusRule.alertingRules.labels.severity.label')\"\n          />\n          <LabeledSelect\n            v-if=\"severityLabelChecked\"\n            v-model=\"value.labels.severity\"\n            class=\"mt-10\"\n            :mode=\"mode\"\n            :label=\"t('prometheusRule.alertingRules.labels.severity.choices.label')\"\n            :localized-label=\"false\"\n            :options=\"severityOptions\"\n          />\n        </div>\n      </div>\n      <div :class=\"[{ hide: isView && Object.keys(filteredLabels).length === 0}, 'row', 'mt-0']\">\n        <div class=\"col span-12\">\n          <KeyValue\n            key=\"labels\"\n            :value=\"filteredLabels\"\n            :add-label=\"t('labels.addLabel')\"\n            :mode=\"mode\"\n            :read-allowed=\"false\"\n            :value-multiline=\"false\"\n            @input=\"queueLabelUpdate\"\n          />\n        </div>\n      </div>\n      <div class=\"suggested-annotations\">\n        <div class=\"row mb-0 mt-30\">\n          <div class=\"col span-12\">\n            <h3>\n              <t k=\"prometheusRule.alertingRules.annotations.label\" />\n            </h3>\n          </div>\n        </div>\n        <div class=\"row mt-0 mb-0\">\n          <div class=\"col span-12\">\n            <div :class=\"[{ hide: isView && !summaryAnnotationChecked }, 'row']\">\n              <div\n                v-if=\"isView && summaryAnnotationChecked\"\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <label>\n                  <t k=\"prometheusRule.alertingRules.annotations.summary.label\" />\n                </label>\n                <div>{{ value.annotations.summary }}</div>\n              </div>\n              <div\n                v-else\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <Checkbox\n                  v-model=\"summaryAnnotationChecked\"\n                  :mode=\"mode\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.summary.label')\"\n                />\n                <LabeledInput\n                  v-if=\"summaryAnnotationChecked\"\n                  v-model=\"value.annotations.summary\"\n                  class=\"mt-5\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.summary.input')\"\n                  type=\"multiline\"\n                  :mode=\"mode\"\n                />\n              </div>\n            </div>\n            <div :class=\"[{ hide: isView && !messageAnnotationChecked }, 'row']\">\n              <div\n                v-if=\"isView && messageAnnotationChecked\"\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <label><t\n                  k=\"prometheusRule.alertingRules.annotations.message.label\"\n                /></label>\n                <div>{{ value.annotations.message }}</div>\n              </div>\n              <div\n                v-else\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <Checkbox\n                  v-model=\"messageAnnotationChecked\"\n                  :mode=\"mode\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.message.label')\"\n                />\n                <LabeledInput\n                  v-if=\"messageAnnotationChecked\"\n                  v-model=\"value.annotations.message\"\n                  class=\"mt-5\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.message.input')\"\n                  type=\"multiline\"\n                  :mode=\"mode\"\n                />\n              </div>\n            </div>\n            <div :class=\"[ { hide: isView && !descriptionAnnotationChecked }, 'row']\">\n              <div\n                v-if=\"isView && descriptionAnnotationChecked\"\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <label><t\n                  k=\"prometheusRule.alertingRules.annotations.description.label\"\n                /></label>\n                <div>{{ value.annotations.description }}</div>\n              </div>\n              <div\n                v-else\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <Checkbox\n                  v-model=\"descriptionAnnotationChecked\"\n                  :mode=\"mode\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.description.label')\"\n                />\n                <LabeledInput\n                  v-if=\"descriptionAnnotationChecked\"\n                  v-model=\"value.annotations.description\"\n                  class=\"mt-5\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.description.input')\"\n                  type=\"multiline\"\n                  :mode=\"mode\"\n                />\n              </div>\n            </div>\n            <div :class=\"[{ hide: isView && !runbookAnnotationChecked }, 'row']\">\n              <div\n                v-if=\"isView && runbookAnnotationChecked\"\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <label>\n                  <t k=\"prometheusRule.alertingRules.annotations.runbook.label\" />\n                </label>\n                <div>{{ value.annotations.runbook_url }}</div>\n              </div>\n              <div\n                v-else\n                class=\"col span-6 annotation-checkbox-container\"\n              >\n                <Checkbox\n                  v-model=\"runbookAnnotationChecked\"\n                  :mode=\"mode\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.runbook.label')\"\n                />\n                <LabeledInput\n                  v-if=\"runbookAnnotationChecked\"\n                  v-model=\"value.annotations.runbook_url\"\n                  class=\"mt-5\"\n                  :label=\"t('prometheusRule.alertingRules.annotations.runbook.input')\"\n                  type=\"multiline\"\n                  :mode=\"mode\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div :class=\"[{ hide: isView && Object.keys(filteredAnnotations).length === 0}, 'row', 'mt-0']\">\n          <KeyValue\n            key=\"annotations\"\n            :value=\"filteredAnnotations\"\n            :add-label=\"t('labels.addAnnotation')\"\n            :mode=\"mode\"\n            :read-allowed=\"false\"\n            @input=\"queueAnnotationUpdate\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.row {\n  margin: 20px 0;\n}\n.remove {\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n</style>\n"]}]}