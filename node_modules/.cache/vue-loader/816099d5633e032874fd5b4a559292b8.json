{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/token.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/token.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRheSBmcm9tICdkYXlqcyc7CmltcG9ydCBzb3J0QnkgZnJvbSAnbG9kYXNoL3NvcnRCeSc7CmltcG9ydCB7IE1BTkFHRU1FTlQsIE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgRGV0YWlsVGV4dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9EZXRhaWxUZXh0JzsKaW1wb3J0IEZvb3RlciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0Zvb3Rlcic7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VsZWN0JzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCB7IGRpZmZGcm9tIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3RpbWUnOwppbXBvcnQgeyBmaWx0ZXJIaWRkZW5Mb2NhbENsdXN0ZXIsIGZpbHRlck9ubHlLdWJlcm5ldGVzQ2x1c3RlcnMgfSBmcm9tICdAc2hlbGwvdXRpbHMvY2x1c3Rlcic7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXIsCiAgICBEZXRhaWxUZXh0LAogICAgRm9vdGVyLAogICAgTGFiZWxlZElucHV0LAogICAgTGFiZWxlZFNlbGVjdCwKICAgIFJhZGlvR3JvdXAsCiAgICBTZWxlY3QsCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBkYXRhKCkgewogICAgLy8gR2V0IHRoZSBzZXR0aW5nIHRoYXQgZGVmaW5lcyB0aGUgbWF4IHRva2VuIFRUTCBhbGxvd2VkIChpbiBtaW51dGVzKQogICAgY29uc3QgbWF4VFRMU2V0dGluZyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuU0VUVElORywgU0VUVElORy5BVVRIX1RPS0VOX01BWF9UVExfTUlOVVRFUyk7CiAgICBsZXQgbWF4VFRMID0gMDsKCiAgICB0cnkgewogICAgICBtYXhUVEwgPSBwYXJzZUludChtYXhUVExTZXR0aW5nLnZhbHVlIHx8IG1heFRUTFNldHRpbmcuZGVmYXVsdCwgMTApOwogICAgfSBjYXRjaCAoZSkgewogICAgICBtYXhUVEwgPSAwOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogbnVsbCwKICAgICAgZm9ybTogICB7CiAgICAgICAgZXhwaXJ5VHlwZTogICAgICAgICduZXZlcicsCiAgICAgICAgY3VzdG9tRXhwaXJ5OiAgICAgIDAsCiAgICAgICAgY3VzdG9tRXhwaXJ5VW5pdHM6ICdtaW51dGUnLAogICAgICB9LAogICAgICBjcmVhdGVkOiAgICBudWxsLAogICAgICB0dGxMaW1pdGVkOiBmYWxzZSwKICAgICAgYWNjZXNzS2V5OiAgJycsCiAgICAgIHNlY3JldEtleTogICcnLAogICAgICBtYXhUVEwsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsgdDogJ2kxOG4vdCcgfSksCiAgICBzY29wZXMoKSB7CiAgICAgIGNvbnN0IGFsbCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYWxsJ10oTUFOQUdFTUVOVC5DTFVTVEVSKTsKICAgICAgY29uc3Qga3ViZUNsdXN0ZXJzID0gZmlsdGVySGlkZGVuTG9jYWxDbHVzdGVyKGZpbHRlck9ubHlLdWJlcm5ldGVzQ2x1c3RlcnMoYWxsLCB0aGlzLiRzdG9yZSksIHRoaXMuJHN0b3JlKTsKICAgICAgbGV0IG91dCA9IGt1YmVDbHVzdGVycy5tYXAoKG9wdCkgPT4gKHsgdmFsdWU6IG9wdC5pZCwgbGFiZWw6IG9wdC5uYW1lRGlzcGxheSB9KSk7CgogICAgICBvdXQgPSBzb3J0Qnkob3V0LCBbJ2xhYmVsJ10pOwogICAgICBvdXQudW5zaGlmdCggeyB2YWx1ZTogJycsIGxhYmVsOiB0aGlzLnQoJ2FjY291bnRBbmRLZXlzLmFwaUtleXMuYWRkLm5vU2NvcGUnKSB9ICk7CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKCiAgICBleHBpcnlPcHRpb25zKCkgewogICAgICBjb25zdCBvcHRpb25zID0gWyduZXZlcicsICdkYXknLCAnbW9udGgnLCAneWVhcicsICdjdXN0b20nXTsKICAgICAgbGV0IG9wdHMgPSBvcHRpb25zLm1hcCgob3B0KSA9PiAoeyB2YWx1ZTogb3B0LCBsYWJlbDogdGhpcy50KGBhY2NvdW50QW5kS2V5cy5hcGlLZXlzLmFkZC5leHBpcnkub3B0aW9ucy4keyBvcHQgfWApIH0pKTsKCiAgICAgIC8vIFdoZW4gdGhlIFRUTCBpcyBhbnl0aGluZyBvdGhlciB0aGFuIDAsIHByZXNlbnQgb25seSB0d28gb3B0aW9ucwogICAgICAvLyAoMSkgVGhlIG1heGltdW0gYWxsb3dlZAogICAgICAvLyAoMikgQ3VzdG9tCiAgICAgIGlmICh0aGlzLm1heFRUTCAhPT0gMCApIHsKICAgICAgICBjb25zdCBub3cgPSBkYXkoKTsKICAgICAgICBjb25zdCBleHBpcnkgPSBub3cuYWRkKHRoaXMubWF4VFRMLCAnbWludXRlJyk7CiAgICAgICAgY29uc3QgbWF4ID0gZGlmZkZyb20oZXhwaXJ5LCBub3csIHRoaXMudCk7CgogICAgICAgIG9wdHMgPSBvcHRzLmZpbHRlcigob3B0KSA9PiBvcHQudmFsdWUgPT09ICdjdXN0b20nKTsKICAgICAgICBvcHRzLnVuc2hpZnQoeyB2YWx1ZTogJ21heCcsIGxhYmVsOiB0aGlzLnQoJ2FjY291bnRBbmRLZXlzLmFwaUtleXMuYWRkLmV4cGlyeS5vcHRpb25zLm1heGltdW0nLCB7IHZhbHVlOiBtYXguc3RyaW5nIH0pIH0pOwogICAgICB9CgogICAgICByZXR1cm4gb3B0czsKICAgIH0sCiAgICBleHBpcnlVbml0c09wdGlvbnMoKSB7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbJ21pbnV0ZScsICdob3VyJywgJ2RheScsICdtb250aCcsICd5ZWFyJ107CiAgICAgIGNvbnN0IGZpbHRlcmVkID0gdGhpcy5maWx0ZXJPcHRpb25zRm9yVFRMKG9wdGlvbnMpOwoKICAgICAgcmV0dXJuIGZpbHRlcmVkLm1hcCgob3B0KSA9PiAoeyB2YWx1ZTogb3B0LCBsYWJlbDogdGhpcy50KGBhY2NvdW50QW5kS2V5cy5hcGlLZXlzLmFkZC5jdXN0b21FeHBpcnkub3B0aW9ucy4keyBvcHQgfWApIH0pKTsKICAgIH0sCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIEF1dG8tc2VsZWN0IHRoZSBmaXJzdCBvcHRpb24gb24gbG9hZAogICAgdGhpcy5mb3JtLmV4cGlyeVR5cGUgPSB0aGlzLmV4cGlyeU9wdGlvbnNbMF0udmFsdWU7CiAgfSwKCiAgbWV0aG9kczogewogICAgZmlsdGVyT3B0aW9uc0ZvclRUTChvcHRzKSB7CiAgICAgIHJldHVybiBvcHRzLmZpbHRlcigob3B0aW9uKSA9PiB7CiAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ25ldmVyJyApIHsKICAgICAgICAgIHJldHVybiB0aGlzLm1heFRUTCA9PT0gMDsKICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2N1c3RvbScpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCBub3cgPSBkYXkoKTsKICAgICAgICAgIGNvbnN0IGV4cGlyeSA9IGRheSgpLmFkZCgxLCBvcHRpb24pOwogICAgICAgICAgY29uc3QgdHRsID0gZXhwaXJ5LmRpZmYobm93KSAvIDYwMDAwOyAvLyBDb252ZXJ0IHRvIG1pbnV0ZXMKCiAgICAgICAgICByZXR1cm4gdGhpcy5tYXhUVEwgPT09IDAgfHwgdHRsIDw9IHRoaXMubWF4VFRMOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIGFjdHVhbGx5U2F2ZSh1cmwpIHsKICAgICAgdGhpcy51cGRhdGVFeHBpcnkoKTsKICAgICAgaWYgKCB0aGlzLmlzQ3JlYXRlICkgewogICAgICAgIC8vIERlc2NyaXB0aW9uIGlzIGEgYml0IHdlaXJkLCBzbyBuZWVkIHRvIGNsb25lIGFuZCBzZXQgdGhpcwogICAgICAgIC8vIHJhdGhlciB0aGFuIHVzZSB0aGlzLnZhbHVlIC0gbmVlZCB0byBmaW5kIGEgd2F5IHRvIHNldCB0aGlzIGlmIHdlIGV2ZXIKICAgICAgICAvLyB3YW50IHRvIGFsbG93IGVkaXQgKHdoaWNoIEkgZG9uJ3QgdGhpbmsgd2UgZG8pCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy52YWx1ZS5zYXZlKCk7CgogICAgICAgIHRoaXMuY3JlYXRlZCA9IHJlczsKICAgICAgICB0aGlzLnR0bExpbWl0ZWQgPSByZXMudHRsICE9PSB0aGlzLnZhbHVlLnR0bDsKICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuY3JlYXRlZC50b2tlbi5zcGxpdCgnOicpOwoKICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IHRva2VuWzBdOwogICAgICAgIHRoaXMuc2VjcmV0S2V5ID0gKHRva2VuLmxlbmd0aCA+IDEpID8gdG9rZW5bMV0gOiAnJzsKICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5jcmVhdGVkLnRva2VuOwoKICAgICAgICAvLyBGb3JjZSBhIHJlZnJlc2ggb2YgdGhlIHRva2VuIHNvIHdlIGdldCB0aGUgZXhwaXJ5IGRhdGUgY29ycmVjdGx5CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZCcsIHsKICAgICAgICAgIHR5cGU6IE5PUk1BTi5UT0tFTiwKICAgICAgICAgIGlkOiAgIHJlcy5pZCwKICAgICAgICAgIG9wdDogIHsgZm9yY2U6IHRydWUgfQogICAgICAgIH0sIHsgcm9vdDogdHJ1ZSB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBOb3RlOiB1cGRhdGUgb2YgZXhpc3Rpbmcga2V5IG5vdCBzdXBwb3J0ZWQgY3VycmVudGx5CiAgICAgICAgYXdhaXQgdGhpcy52YWx1ZS5zYXZlKCk7CiAgICAgIH0KICAgIH0sCgogICAgZG9uZSgpIHsKICAgICAgaWYgKCF0aGlzLmNyZWF0ZWQpIHsKICAgICAgICB0aGlzLmRvbmVDcmVhdGUoKTsKICAgICAgfQogICAgfSwKCiAgICBkb25lQ3JlYXRlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdhY2NvdW50JyB9KTsKICAgIH0sCgogICAgdXBkYXRlRXhwaXJ5KCkgewogICAgICBjb25zdCB2ID0gdGhpcy5mb3JtLmV4cGlyeVR5cGU7CiAgICAgIGNvbnN0IGluY3JlbWVudCA9ICh2ID09PSAnY3VzdG9tJykgPyBwYXJzZUludCh0aGlzLmZvcm0uY3VzdG9tRXhwaXJ5KSA6IDE7CiAgICAgIGNvbnN0IHVuaXRzID0gKHYgPT09ICdjdXN0b20nKSA/IHRoaXMuZm9ybS5jdXN0b21FeHBpcnlVbml0cyA6IHY7CiAgICAgIGxldCB0dGwgPSAwOwoKICAgICAgaWYgKHVuaXRzID09PSAnbWF4JykgewogICAgICAgIHR0bCA9IHRoaXMubWF4VFRMICogNjAgKiAxMDAwOwogICAgICB9IGVsc2UgaWYgKCB1bml0cyAhPT0gJ25ldmVyJyApIHsKICAgICAgICBjb25zdCBub3cgPSBkYXkoKTsKICAgICAgICBjb25zdCBleHBpcnkgPSBkYXkoKS5hZGQoaW5jcmVtZW50LCB1bml0cyk7CgogICAgICAgIHR0bCA9IGV4cGlyeS5kaWZmKG5vdyk7CiAgICAgIH0KICAgICAgdGhpcy52YWx1ZS50dGwgPSB0dGw7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["token.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"token.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport day from 'dayjs';\nimport sortBy from 'lodash/sortBy';\nimport { MANAGEMENT, NORMAN } from '@shell/config/types';\nimport { Banner } from '@components/Banner';\nimport DetailText from '@shell/components/DetailText';\nimport Footer from '@shell/components/form/Footer';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { RadioGroup } from '@components/Form/Radio';\nimport Select from '@shell/components/form/Select';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { diffFrom } from '@shell/utils/time';\nimport { filterHiddenLocalCluster, filterOnlyKubernetesClusters } from '@shell/utils/cluster';\nimport { SETTING } from '@shell/config/settings';\n\nexport default {\n  components: {\n    Banner,\n    DetailText,\n    Footer,\n    LabeledInput,\n    LabeledSelect,\n    RadioGroup,\n    Select,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    // Get the setting that defines the max token TTL allowed (in minutes)\n    const maxTTLSetting = this.$store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.AUTH_TOKEN_MAX_TTL_MINUTES);\n    let maxTTL = 0;\n\n    try {\n      maxTTL = parseInt(maxTTLSetting.value || maxTTLSetting.default, 10);\n    } catch (e) {\n      maxTTL = 0;\n    }\n\n    return {\n      errors: null,\n      form:   {\n        expiryType:        'never',\n        customExpiry:      0,\n        customExpiryUnits: 'minute',\n      },\n      created:    null,\n      ttlLimited: false,\n      accessKey:  '',\n      secretKey:  '',\n      maxTTL,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    scopes() {\n      const all = this.$store.getters['management/all'](MANAGEMENT.CLUSTER);\n      const kubeClusters = filterHiddenLocalCluster(filterOnlyKubernetesClusters(all, this.$store), this.$store);\n      let out = kubeClusters.map((opt) => ({ value: opt.id, label: opt.nameDisplay }));\n\n      out = sortBy(out, ['label']);\n      out.unshift( { value: '', label: this.t('accountAndKeys.apiKeys.add.noScope') } );\n\n      return out;\n    },\n\n    expiryOptions() {\n      const options = ['never', 'day', 'month', 'year', 'custom'];\n      let opts = options.map((opt) => ({ value: opt, label: this.t(`accountAndKeys.apiKeys.add.expiry.options.${ opt }`) }));\n\n      // When the TTL is anything other than 0, present only two options\n      // (1) The maximum allowed\n      // (2) Custom\n      if (this.maxTTL !== 0 ) {\n        const now = day();\n        const expiry = now.add(this.maxTTL, 'minute');\n        const max = diffFrom(expiry, now, this.t);\n\n        opts = opts.filter((opt) => opt.value === 'custom');\n        opts.unshift({ value: 'max', label: this.t('accountAndKeys.apiKeys.add.expiry.options.maximum', { value: max.string }) });\n      }\n\n      return opts;\n    },\n    expiryUnitsOptions() {\n      const options = ['minute', 'hour', 'day', 'month', 'year'];\n      const filtered = this.filterOptionsForTTL(options);\n\n      return filtered.map((opt) => ({ value: opt, label: this.t(`accountAndKeys.apiKeys.add.customExpiry.options.${ opt }`) }));\n    },\n  },\n\n  mounted() {\n    // Auto-select the first option on load\n    this.form.expiryType = this.expiryOptions[0].value;\n  },\n\n  methods: {\n    filterOptionsForTTL(opts) {\n      return opts.filter((option) => {\n        if (option === 'never' ) {\n          return this.maxTTL === 0;\n        } else if (option === 'custom') {\n          return true;\n        } else {\n          const now = day();\n          const expiry = day().add(1, option);\n          const ttl = expiry.diff(now) / 60000; // Convert to minutes\n\n          return this.maxTTL === 0 || ttl <= this.maxTTL;\n        }\n      });\n    },\n\n    async actuallySave(url) {\n      this.updateExpiry();\n      if ( this.isCreate ) {\n        // Description is a bit weird, so need to clone and set this\n        // rather than use this.value - need to find a way to set this if we ever\n        // want to allow edit (which I don't think we do)\n        const res = await this.value.save();\n\n        this.created = res;\n        this.ttlLimited = res.ttl !== this.value.ttl;\n        const token = this.created.token.split(':');\n\n        this.accessKey = token[0];\n        this.secretKey = (token.length > 1) ? token[1] : '';\n        this.token = this.created.token;\n\n        // Force a refresh of the token so we get the expiry date correctly\n        await this.$store.dispatch('rancher/find', {\n          type: NORMAN.TOKEN,\n          id:   res.id,\n          opt:  { force: true }\n        }, { root: true });\n      } else {\n        // Note: update of existing key not supported currently\n        await this.value.save();\n      }\n    },\n\n    done() {\n      if (!this.created) {\n        this.doneCreate();\n      }\n    },\n\n    doneCreate() {\n      this.$router.push({ name: 'account' });\n    },\n\n    updateExpiry() {\n      const v = this.form.expiryType;\n      const increment = (v === 'custom') ? parseInt(this.form.customExpiry) : 1;\n      const units = (v === 'custom') ? this.form.customExpiryUnits : v;\n      let ttl = 0;\n\n      if (units === 'max') {\n        ttl = this.maxTTL * 60 * 1000;\n      } else if ( units !== 'never' ) {\n        const now = day();\n        const expiry = day().add(increment, units);\n\n        ttl = expiry.diff(now);\n      }\n      this.value.ttl = ttl;\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"!created\">\n    <div class=\"pl-10 pr-10\">\n      <LabeledInput\n        key=\"description\"\n        v-model=\"value.description\"\n        :placeholder=\"t('accountAndKeys.apiKeys.add.description.placeholder')\"\n        label-key=\"accountAndKeys.apiKeys.add.description.label\"\n        mode=\"edit\"\n        :min-height=\"30\"\n      />\n\n      <LabeledSelect\n        v-model=\"value.clusterId\"\n        class=\"mt-20 scope-select\"\n        label-key=\"accountAndKeys.apiKeys.add.scope\"\n        :options=\"scopes\"\n      />\n\n      <h5 class=\"pt-20\">\n        {{ t('accountAndKeys.apiKeys.add.expiry.label') }}\n      </h5>\n\n      <div class=\"ml-10\">\n        <RadioGroup\n          v-model=\"form.expiryType\"\n          :options=\"expiryOptions\"\n          data-testid=\"expiry__options\"\n          class=\"mr-20\"\n          name=\"expiryGroup\"\n        />\n        <div class=\"ml-20 mt-10 expiry\">\n          <input\n            v-model=\"form.customExpiry\"\n            :disabled=\"form.expiryType !== 'custom'\"\n            type=\"number\"\n            :mode=\"mode\"\n          >\n          <Select\n            v-model=\"form.customExpiryUnits\"\n            :disabled=\"form.expiryType !== 'custom'\"\n            :options=\"expiryUnitsOptions\"\n            :clearable=\"false\"\n            :reduce=\"opt=>opt.value\"\n          />\n        </div>\n      </div>\n    </div>\n    <Footer\n      :errors=\"errors\"\n      :mode=\"mode\"\n      @save=\"save\"\n      @done=\"done\"\n    />\n  </div>\n  <div v-else>\n    <div>{{ t('accountAndKeys.apiKeys.info.keyCreated') }}</div>\n\n    <DetailText\n      :value=\"accessKey\"\n      label-key=\"accountAndKeys.apiKeys.info.accessKey\"\n      class=\"mt-20\"\n    />\n    <DetailText\n      :value=\"secretKey\"\n      label-key=\"accountAndKeys.apiKeys.info.secretKey\"\n      class=\"mt-20\"\n    />\n\n    <p class=\"mt-20\">\n      {{ t('accountAndKeys.apiKeys.info.bearerTokenTip') }}\n    </p>\n\n    <DetailText\n      :value=\"token\"\n      label-key=\"accountAndKeys.apiKeys.info.bearerToken\"\n      class=\"mt-20\"\n    />\n\n    <Banner\n      color=\"warning\"\n      class=\"mt-20\"\n    >\n      <div>\n        {{ t('accountAndKeys.apiKeys.info.saveWarning') }}\n      </div>\n    </Banner>\n\n    <Banner\n      v-if=\"ttlLimited\"\n      color=\"warning\"\n      class=\"mt-20\"\n    >\n      <div>\n        {{ t('accountAndKeys.apiKeys.info.ttlLimitedWarning') }}\n      </div>\n    </Banner>\n\n    <div class=\"buttons mt-20\">\n      <div class=\"right\">\n        <button\n          type=\"button\"\n          data-testid=\"token_done_create_button\"\n          class=\"btn role-primary\"\n          @click=\"doneCreate\"\n        >\n          <t k=\"generic.done\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .scope-select {\n    min-width: 33%;\n    width: unset;\n  }\n  .expiry {\n    display: flex;\n    > * {\n      flex: 0 0 200px;\n      margin-right: 10px;\n    }\n  }\n\n  .buttons {\n    display: grid;\n    grid-template-areas:  \"left right\";\n    grid-template-columns: \"min-content auto\";\n\n    .right {\n      grid-area: right;\n      text-align: right;\n\n      .btn, button {\n        margin: 0 0 0 $column-gutter;\n      }\n    }\n  }\n</style>\n"]}]}