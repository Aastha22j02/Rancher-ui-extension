{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/settings/brand.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/settings/brand.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IENvbG9ySW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Db2xvcklucHV0JzsKaW1wb3J0IFR5cGVEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UeXBlRGVzY3JpcHRpb24nOwoKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IEZpbGVJbWFnZVNlbGVjdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vRmlsZUltYWdlU2VsZWN0b3InOwppbXBvcnQgU2ltcGxlQm94IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NpbXBsZUJveCc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQXN5bmNCdXR0b24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQXN5bmNCdXR0b24nOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGdldFZlbmRvciwgc2V0VmVuZG9yIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcml2YXRlLWxhYmVsJzsKaW1wb3J0IHsgZmV0Y2hPckNyZWF0ZVNldHRpbmcgfSBmcm9tICdAc2hlbGwvdXRpbHMvc2V0dGluZ3MnOwppbXBvcnQgeyBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CmltcG9ydCB7IF9FRElULCBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgc2V0RmF2SWNvbiB9IGZyb20gJ0BzaGVsbC91dGlscy9mYXZpY29uJzsKaW1wb3J0IFRhYlRpdGxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYlRpdGxlJzsKCmNvbnN0IENvbG9yID0gcmVxdWlyZSgnY29sb3InKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQsIENoZWNrYm94LCBGaWxlSW1hZ2VTZWxlY3RvciwgTG9hZGluZywgU2ltcGxlQm94LCBBc3luY0J1dHRvbiwgQmFubmVyLCBDb2xvcklucHV0LCBUeXBlRGVzY3JpcHRpb24sIFRhYlRpdGxlCiAgfSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBjb25zdCBoYXNoID0gYXdhaXQgYWxsSGFzaCh7CiAgICAgIHVpUExTZXR0aW5nOiAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kJywgeyB0eXBlOiBNQU5BR0VNRU5ULlNFVFRJTkcsIGlkOiBTRVRUSU5HLlBMIH0pLAogICAgICB1aUxvZ29EYXJrU2V0dGluZzogICAgICAgICAgICAgZmV0Y2hPckNyZWF0ZVNldHRpbmcodGhpcy4kc3RvcmUsIFNFVFRJTkcuTE9HT19EQVJLLCAnJyksCiAgICAgIHVpTG9nb0xpZ2h0U2V0dGluZzogICAgICAgICAgICBmZXRjaE9yQ3JlYXRlU2V0dGluZyh0aGlzLiRzdG9yZSwgU0VUVElORy5MT0dPX0xJR0hULCAnJyksCiAgICAgIHVpQmFubmVyRGFya1NldHRpbmc6ICAgICAgICAgICBmZXRjaE9yQ3JlYXRlU2V0dGluZyh0aGlzLiRzdG9yZSwgU0VUVElORy5CQU5ORVJfREFSSywgJycpLAogICAgICB1aUJhbm5lckxpZ2h0U2V0dGluZzogICAgICAgICAgZmV0Y2hPckNyZWF0ZVNldHRpbmcodGhpcy4kc3RvcmUsIFNFVFRJTkcuQkFOTkVSX0xJR0hULCAnJyksCiAgICAgIHVpTG9naW5CYWNrZ3JvdW5kRGFya1NldHRpbmc6ICBmZXRjaE9yQ3JlYXRlU2V0dGluZyh0aGlzLiRzdG9yZSwgU0VUVElORy5MT0dJTl9CQUNLR1JPVU5EX0RBUkssICcnKSwKICAgICAgdWlMb2dpbkJhY2tncm91bmRMaWdodFNldHRpbmc6IGZldGNoT3JDcmVhdGVTZXR0aW5nKHRoaXMuJHN0b3JlLCBTRVRUSU5HLkxPR0lOX0JBQ0tHUk9VTkRfTElHSFQsICcnKSwKICAgICAgdWlDb2xvclNldHRpbmc6ICAgICAgICAgICAgICAgIGZldGNoT3JDcmVhdGVTZXR0aW5nKHRoaXMuJHN0b3JlLCBTRVRUSU5HLlBSSU1BUllfQ09MT1IsICcnKSwKICAgICAgdWlMaW5rQ29sb3JTZXR0aW5nOiAgICAgICAgICAgIGZldGNoT3JDcmVhdGVTZXR0aW5nKHRoaXMuJHN0b3JlLCBTRVRUSU5HLkxJTktfQ09MT1IsICcnKSwKICAgICAgdWlGYXZpY29uU2V0dGluZzogICAgICAgICAgICAgIGZldGNoT3JDcmVhdGVTZXR0aW5nKHRoaXMuJHN0b3JlLCBTRVRUSU5HLkZBVklDT04sICcnKSwKICAgIH0pOwoKICAgIE9iamVjdC5hc3NpZ24odGhpcywgaGFzaCk7CgogICAgaWYgKGhhc2gudWlMb2dvRGFya1NldHRpbmcudmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLnVpTG9nb0RhcmsgPSBoYXNoLnVpTG9nb0RhcmtTZXR0aW5nLnZhbHVlOwogICAgICAgIHRoaXMuY3VzdG9taXplTG9nbyA9IHRydWU7CiAgICAgIH0gY2F0Y2gge30KICAgIH0KICAgIGlmIChoYXNoLnVpTG9nb0xpZ2h0U2V0dGluZy52YWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMudWlMb2dvTGlnaHQgPSBoYXNoLnVpTG9nb0xpZ2h0U2V0dGluZy52YWx1ZTsKCiAgICAgICAgdGhpcy5jdXN0b21pemVMb2dvID0gdHJ1ZTsKICAgICAgfSBjYXRjaCB7fQogICAgfQogICAgaWYgKGhhc2gudWlCYW5uZXJEYXJrU2V0dGluZy52YWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMudWlCYW5uZXJEYXJrID0gaGFzaC51aUJhbm5lckRhcmtTZXR0aW5nLnZhbHVlOwogICAgICAgIHRoaXMuY3VzdG9taXplQmFubmVyID0gdHJ1ZTsKICAgICAgfSBjYXRjaCB7fQogICAgfQogICAgaWYgKGhhc2gudWlCYW5uZXJMaWdodFNldHRpbmcudmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLnVpQmFubmVyTGlnaHQgPSBoYXNoLnVpQmFubmVyTGlnaHRTZXR0aW5nLnZhbHVlOwoKICAgICAgICB0aGlzLmN1c3RvbWl6ZUJhbm5lciA9IHRydWU7CiAgICAgIH0gY2F0Y2gge30KICAgIH0KICAgIGlmIChoYXNoLnVpTG9naW5CYWNrZ3JvdW5kRGFya1NldHRpbmcudmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLnVpTG9naW5CYWNrZ3JvdW5kRGFyayA9IGhhc2gudWlMb2dpbkJhY2tncm91bmREYXJrU2V0dGluZy52YWx1ZTsKICAgICAgICB0aGlzLmN1c3RvbWl6ZUxvZ2luQmFja2dyb3VuZCA9IHRydWU7CiAgICAgIH0gY2F0Y2gge30KICAgIH0KICAgIGlmIChoYXNoLnVpTG9naW5CYWNrZ3JvdW5kTGlnaHRTZXR0aW5nLnZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy51aUxvZ2luQmFja2dyb3VuZExpZ2h0ID0gaGFzaC51aUxvZ2luQmFja2dyb3VuZExpZ2h0U2V0dGluZy52YWx1ZTsKCiAgICAgICAgdGhpcy5jdXN0b21pemVMb2dpbkJhY2tncm91bmQgPSB0cnVlOwogICAgICB9IGNhdGNoIHt9CiAgICB9CiAgICBpZiAoaGFzaC51aUZhdmljb25TZXR0aW5nLnZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy51aUZhdmljb24gPSBoYXNoLnVpRmF2aWNvblNldHRpbmcudmFsdWU7CgogICAgICAgIHRoaXMuY3VzdG9taXplRmF2aWNvbiA9IHRydWU7CiAgICAgIH0gY2F0Y2gge30KICAgIH0KICAgIGlmIChoYXNoLnVpQ29sb3JTZXR0aW5nLnZhbHVlKSB7CiAgICAgIHRoaXMudWlDb2xvciA9IENvbG9yKGhhc2gudWlDb2xvclNldHRpbmcudmFsdWUpLmhleCgpOwogICAgICB0aGlzLmN1c3RvbWl6ZUNvbG9yID0gdHJ1ZTsKICAgIH0KICAgIGlmIChoYXNoLnVpTGlua0NvbG9yU2V0dGluZy52YWx1ZSkgewogICAgICB0aGlzLnVpTGlua0NvbG9yID0gQ29sb3IoaGFzaC51aUxpbmtDb2xvclNldHRpbmcudmFsdWUpLmhleCgpOwogICAgICB0aGlzLmN1c3RvbWl6ZUxpbmtDb2xvciA9IHRydWU7CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlbmRvcjogICAgICBnZXRWZW5kb3IoKSwKICAgICAgdWlQTFNldHRpbmc6IHt9LAoKICAgICAgdWlMb2dvRGFya1NldHRpbmc6ICB7fSwKICAgICAgdWlMb2dvRGFyazogICAgICAgICAnJywKICAgICAgdWlMb2dvTGlnaHRTZXR0aW5nOiB7fSwKICAgICAgdWlMb2dvTGlnaHQ6ICAgICAgICAnJywKICAgICAgY3VzdG9taXplTG9nbzogICAgICBmYWxzZSwKCiAgICAgIHVpQmFubmVyRGFya1NldHRpbmc6ICB7fSwKICAgICAgdWlCYW5uZXJEYXJrOiAgICAgICAgICcnLAogICAgICB1aUJhbm5lckxpZ2h0U2V0dGluZzoge30sCiAgICAgIHVpQmFubmVyTGlnaHQ6ICAgICAgICAnJywKICAgICAgY3VzdG9taXplQmFubmVyOiAgICAgIGZhbHNlLAoKICAgICAgdWlMb2dpbkJhY2tncm91bmREYXJrU2V0dGluZzogIHt9LAogICAgICB1aUxvZ2luQmFja2dyb3VuZERhcms6ICAgICAgICAgJycsCiAgICAgIHVpTG9naW5CYWNrZ3JvdW5kTGlnaHRTZXR0aW5nOiB7fSwKICAgICAgdWlMb2dpbkJhY2tncm91bmRMaWdodDogICAgICAgICcnLAogICAgICBjdXN0b21pemVMb2dpbkJhY2tncm91bmQ6ICAgICAgZmFsc2UsCgogICAgICB1aUZhdmljb25TZXR0aW5nOiB7fSwKICAgICAgdWlGYXZpY29uOiAgICAgICAgJycsCiAgICAgIGN1c3RvbWl6ZUZhdmljb246IGZhbHNlLAoKICAgICAgdWlDb2xvclNldHRpbmc6ICAgICB7fSwKICAgICAgdWlDb2xvcjogICAgICAgICAgICBudWxsLAogICAgICBjdXN0b21pemVDb2xvcjogICAgIGZhbHNlLAogICAgICB1aUxpbmtDb2xvclNldHRpbmc6IHt9LAogICAgICB1aUxpbmtDb2xvcjogICAgICAgIG51bGwsCiAgICAgIGN1c3RvbWl6ZUxpbmtDb2xvcjogZmFsc2UsCgogICAgICBlcnJvcnM6IFtdLAoKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIG1vZGUoKSB7CiAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbYG1hbmFnZW1lbnQvc2NoZW1hRm9yYF0oTUFOQUdFTUVOVC5TRVRUSU5HKTsKCiAgICAgIHJldHVybiBzY2hlbWE/LnJlc291cmNlTWV0aG9kcz8uaW5jbHVkZXMoJ1BVVCcpID8gX0VESVQgOiBfVklFVzsKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewogICAgbGV0IHVpQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoJy0tcHJpbWFyeScpOwogICAgbGV0IHVpTGlua0NvbG9yID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWxpbmsnKTsKICAgIGNvbnN0IHN1c2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VzZScpOwoKICAgIGlmIChzdXNlKSB7CiAgICAgIHVpQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKHN1c2UpLmdldFByb3BlcnR5VmFsdWUoJy0tcHJpbWFyeScpOwogICAgICB1aUxpbmtDb2xvciA9IGdldENvbXB1dGVkU3R5bGUoc3VzZSkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1saW5rJyk7CiAgICB9CgogICAgLy8gT25seSBzZXQgdGhlIGNvbG9yIHRvIHRoZSBkZWZhdWx0IGlmIG5vdCBhbHJlYWR5IHNldCBmcm9tIHRoZSBjdXN0b20gY29sb3IKICAgIHRoaXMudWlDb2xvciA9IHRoaXMudWlDb2xvciB8fCB1aUNvbG9yLnRyaW0oKTsKICAgIHRoaXMudWlMaW5rQ29sb3IgPSB0aGlzLnVpTGlua0NvbG9yIHx8IHVpTGlua0NvbG9yLnRyaW0oKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVCcmFuZGluZyhpbWcsIGtleSkgewogICAgICB0aGlzW2tleV0gPSBpbWc7CiAgICB9LAoKICAgIHNldEVycm9yKGUpIHsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdGhpcy5lcnJvcnMucHVzaChlKTsKICAgIH0sCgogICAgYXN5bmMgc2F2ZShidG5DQikgewogICAgICB0aGlzLnVpUExTZXR0aW5nLnZhbHVlID0gdGhpcy51aVBMU2V0dGluZy52YWx1ZS5yZXBsYWNlQWxsKC9bXDw+Jj0jKCkiXS9nbSwgJycpOwoKICAgICAgaWYgKHRoaXMuY3VzdG9taXplTG9nbykgewogICAgICAgIHRoaXMudWlMb2dvTGlnaHRTZXR0aW5nLnZhbHVlID0gdGhpcy51aUxvZ29MaWdodDsKICAgICAgICB0aGlzLnVpTG9nb0RhcmtTZXR0aW5nLnZhbHVlID0gdGhpcy51aUxvZ29EYXJrOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudWlMb2dvTGlnaHRTZXR0aW5nLnZhbHVlID0gJyc7CiAgICAgICAgdGhpcy51aUxvZ29EYXJrU2V0dGluZy52YWx1ZSA9ICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5jdXN0b21pemVCYW5uZXIpIHsKICAgICAgICB0aGlzLnVpQmFubmVyTGlnaHRTZXR0aW5nLnZhbHVlID0gdGhpcy51aUJhbm5lckxpZ2h0OwogICAgICAgIHRoaXMudWlCYW5uZXJEYXJrU2V0dGluZy52YWx1ZSA9IHRoaXMudWlCYW5uZXJEYXJrOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudWlCYW5uZXJMaWdodFNldHRpbmcudmFsdWUgPSAnJzsKICAgICAgICB0aGlzLnVpQmFubmVyRGFya1NldHRpbmcudmFsdWUgPSAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY3VzdG9taXplTG9naW5CYWNrZ3JvdW5kKSB7CiAgICAgICAgdGhpcy51aUxvZ2luQmFja2dyb3VuZExpZ2h0U2V0dGluZy52YWx1ZSA9IHRoaXMudWlMb2dpbkJhY2tncm91bmRMaWdodDsKICAgICAgICB0aGlzLnVpTG9naW5CYWNrZ3JvdW5kRGFya1NldHRpbmcudmFsdWUgPSB0aGlzLnVpTG9naW5CYWNrZ3JvdW5kRGFyazsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVpTG9naW5CYWNrZ3JvdW5kTGlnaHRTZXR0aW5nLnZhbHVlID0gJyc7CiAgICAgICAgdGhpcy51aUxvZ2luQmFja2dyb3VuZERhcmtTZXR0aW5nLnZhbHVlID0gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmN1c3RvbWl6ZUZhdmljb24pIHsKICAgICAgICB0aGlzLnVpRmF2aWNvblNldHRpbmcudmFsdWUgPSB0aGlzLnVpRmF2aWNvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVpRmF2aWNvblNldHRpbmcudmFsdWUgPSAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY3VzdG9taXplQ29sb3IpIHsKICAgICAgICB0aGlzLnVpQ29sb3JTZXR0aW5nLnZhbHVlID0gQ29sb3IodGhpcy51aUNvbG9yKS5yZ2IoKS5zdHJpbmcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVpQ29sb3JTZXR0aW5nLnZhbHVlID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY3VzdG9taXplTGlua0NvbG9yKSB7CiAgICAgICAgdGhpcy51aUxpbmtDb2xvclNldHRpbmcudmFsdWUgPSBDb2xvcih0aGlzLnVpTGlua0NvbG9yKS5yZ2IoKS5zdHJpbmcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVpTGlua0NvbG9yU2V0dGluZy52YWx1ZSA9IG51bGw7CiAgICAgIH0KCiAgICAgIHRoaXMuZXJyb3JzID0gW107CgogICAgICB0cnkgewogICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgIHRoaXMudWlQTFNldHRpbmcuc2F2ZSgpLAogICAgICAgICAgdGhpcy51aUxvZ29EYXJrU2V0dGluZy5zYXZlKCksCiAgICAgICAgICB0aGlzLnVpTG9nb0xpZ2h0U2V0dGluZy5zYXZlKCksCiAgICAgICAgICB0aGlzLnVpQmFubmVyRGFya1NldHRpbmcuc2F2ZSgpLAogICAgICAgICAgdGhpcy51aUJhbm5lckxpZ2h0U2V0dGluZy5zYXZlKCksCiAgICAgICAgICB0aGlzLnVpTG9naW5CYWNrZ3JvdW5kRGFya1NldHRpbmcuc2F2ZSgpLAogICAgICAgICAgdGhpcy51aUxvZ2luQmFja2dyb3VuZExpZ2h0U2V0dGluZy5zYXZlKCksCiAgICAgICAgICB0aGlzLnVpQ29sb3JTZXR0aW5nLnNhdmUoKSwKICAgICAgICAgIHRoaXMudWlMaW5rQ29sb3JTZXR0aW5nLnNhdmUoKSwKICAgICAgICAgIHRoaXMudWlGYXZpY29uU2V0dGluZy5zYXZlKCkKICAgICAgICBdKTsKICAgICAgICBpZiAodGhpcy51aVBMU2V0dGluZy52YWx1ZSAhPT0gdGhpcy52ZW5kb3IpIHsKICAgICAgICAgIHNldFZlbmRvcih0aGlzLnVpUExTZXR0aW5nLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHNldEZhdkljb24odGhpcy4kc3RvcmUpOwogICAgICAgIGJ0bkNCKHRydWUpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGVycik7CiAgICAgICAgYnRuQ0IoZmFsc2UpOwogICAgICB9CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["brand.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"brand.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/settings","sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ColorInput from '@shell/components/form/ColorInput';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport { Checkbox } from '@components/Form/Checkbox';\nimport FileImageSelector from '@shell/components/form/FileImageSelector';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport Loading from '@shell/components/Loading';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport { allHash } from '@shell/utils/promise';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { getVendor, setVendor } from '@shell/config/private-label';\nimport { fetchOrCreateSetting } from '@shell/utils/settings';\nimport { SETTING } from '@shell/config/settings';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport { setFavIcon } from '@shell/utils/favicon';\nimport TabTitle from '@shell/components/TabTitle';\n\nconst Color = require('color');\n\nexport default {\n  components: {\n    LabeledInput, Checkbox, FileImageSelector, Loading, SimpleBox, AsyncButton, Banner, ColorInput, TypeDescription, TabTitle\n  },\n\n  async fetch() {\n    const hash = await allHash({\n      uiPLSetting:                   this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.PL }),\n      uiLogoDarkSetting:             fetchOrCreateSetting(this.$store, SETTING.LOGO_DARK, ''),\n      uiLogoLightSetting:            fetchOrCreateSetting(this.$store, SETTING.LOGO_LIGHT, ''),\n      uiBannerDarkSetting:           fetchOrCreateSetting(this.$store, SETTING.BANNER_DARK, ''),\n      uiBannerLightSetting:          fetchOrCreateSetting(this.$store, SETTING.BANNER_LIGHT, ''),\n      uiLoginBackgroundDarkSetting:  fetchOrCreateSetting(this.$store, SETTING.LOGIN_BACKGROUND_DARK, ''),\n      uiLoginBackgroundLightSetting: fetchOrCreateSetting(this.$store, SETTING.LOGIN_BACKGROUND_LIGHT, ''),\n      uiColorSetting:                fetchOrCreateSetting(this.$store, SETTING.PRIMARY_COLOR, ''),\n      uiLinkColorSetting:            fetchOrCreateSetting(this.$store, SETTING.LINK_COLOR, ''),\n      uiFaviconSetting:              fetchOrCreateSetting(this.$store, SETTING.FAVICON, ''),\n    });\n\n    Object.assign(this, hash);\n\n    if (hash.uiLogoDarkSetting.value) {\n      try {\n        this.uiLogoDark = hash.uiLogoDarkSetting.value;\n        this.customizeLogo = true;\n      } catch {}\n    }\n    if (hash.uiLogoLightSetting.value) {\n      try {\n        this.uiLogoLight = hash.uiLogoLightSetting.value;\n\n        this.customizeLogo = true;\n      } catch {}\n    }\n    if (hash.uiBannerDarkSetting.value) {\n      try {\n        this.uiBannerDark = hash.uiBannerDarkSetting.value;\n        this.customizeBanner = true;\n      } catch {}\n    }\n    if (hash.uiBannerLightSetting.value) {\n      try {\n        this.uiBannerLight = hash.uiBannerLightSetting.value;\n\n        this.customizeBanner = true;\n      } catch {}\n    }\n    if (hash.uiLoginBackgroundDarkSetting.value) {\n      try {\n        this.uiLoginBackgroundDark = hash.uiLoginBackgroundDarkSetting.value;\n        this.customizeLoginBackground = true;\n      } catch {}\n    }\n    if (hash.uiLoginBackgroundLightSetting.value) {\n      try {\n        this.uiLoginBackgroundLight = hash.uiLoginBackgroundLightSetting.value;\n\n        this.customizeLoginBackground = true;\n      } catch {}\n    }\n    if (hash.uiFaviconSetting.value) {\n      try {\n        this.uiFavicon = hash.uiFaviconSetting.value;\n\n        this.customizeFavicon = true;\n      } catch {}\n    }\n    if (hash.uiColorSetting.value) {\n      this.uiColor = Color(hash.uiColorSetting.value).hex();\n      this.customizeColor = true;\n    }\n    if (hash.uiLinkColorSetting.value) {\n      this.uiLinkColor = Color(hash.uiLinkColorSetting.value).hex();\n      this.customizeLinkColor = true;\n    }\n  },\n\n  data() {\n    return {\n      vendor:      getVendor(),\n      uiPLSetting: {},\n\n      uiLogoDarkSetting:  {},\n      uiLogoDark:         '',\n      uiLogoLightSetting: {},\n      uiLogoLight:        '',\n      customizeLogo:      false,\n\n      uiBannerDarkSetting:  {},\n      uiBannerDark:         '',\n      uiBannerLightSetting: {},\n      uiBannerLight:        '',\n      customizeBanner:      false,\n\n      uiLoginBackgroundDarkSetting:  {},\n      uiLoginBackgroundDark:         '',\n      uiLoginBackgroundLightSetting: {},\n      uiLoginBackgroundLight:        '',\n      customizeLoginBackground:      false,\n\n      uiFaviconSetting: {},\n      uiFavicon:        '',\n      customizeFavicon: false,\n\n      uiColorSetting:     {},\n      uiColor:            null,\n      customizeColor:     false,\n      uiLinkColorSetting: {},\n      uiLinkColor:        null,\n      customizeLinkColor: false,\n\n      errors: [],\n\n    };\n  },\n\n  computed: {\n    mode() {\n      const schema = this.$store.getters[`management/schemaFor`](MANAGEMENT.SETTING);\n\n      return schema?.resourceMethods?.includes('PUT') ? _EDIT : _VIEW;\n    }\n  },\n\n  mounted() {\n    let uiColor = getComputedStyle(document.body).getPropertyValue('--primary');\n    let uiLinkColor = getComputedStyle(document.body).getPropertyValue('--link');\n    const suse = document.querySelector('.suse');\n\n    if (suse) {\n      uiColor = getComputedStyle(suse).getPropertyValue('--primary');\n      uiLinkColor = getComputedStyle(suse).getPropertyValue('--link');\n    }\n\n    // Only set the color to the default if not already set from the custom color\n    this.uiColor = this.uiColor || uiColor.trim();\n    this.uiLinkColor = this.uiLinkColor || uiLinkColor.trim();\n  },\n\n  methods: {\n    updateBranding(img, key) {\n      this[key] = img;\n    },\n\n    setError(e) {\n      this.errors = [];\n      this.errors.push(e);\n    },\n\n    async save(btnCB) {\n      this.uiPLSetting.value = this.uiPLSetting.value.replaceAll(/[\\<>&=#()\"]/gm, '');\n\n      if (this.customizeLogo) {\n        this.uiLogoLightSetting.value = this.uiLogoLight;\n        this.uiLogoDarkSetting.value = this.uiLogoDark;\n      } else {\n        this.uiLogoLightSetting.value = '';\n        this.uiLogoDarkSetting.value = '';\n      }\n\n      if (this.customizeBanner) {\n        this.uiBannerLightSetting.value = this.uiBannerLight;\n        this.uiBannerDarkSetting.value = this.uiBannerDark;\n      } else {\n        this.uiBannerLightSetting.value = '';\n        this.uiBannerDarkSetting.value = '';\n      }\n\n      if (this.customizeLoginBackground) {\n        this.uiLoginBackgroundLightSetting.value = this.uiLoginBackgroundLight;\n        this.uiLoginBackgroundDarkSetting.value = this.uiLoginBackgroundDark;\n      } else {\n        this.uiLoginBackgroundLightSetting.value = '';\n        this.uiLoginBackgroundDarkSetting.value = '';\n      }\n\n      if (this.customizeFavicon) {\n        this.uiFaviconSetting.value = this.uiFavicon;\n      } else {\n        this.uiFaviconSetting.value = '';\n      }\n\n      if (this.customizeColor) {\n        this.uiColorSetting.value = Color(this.uiColor).rgb().string();\n      } else {\n        this.uiColorSetting.value = null;\n      }\n\n      if (this.customizeLinkColor) {\n        this.uiLinkColorSetting.value = Color(this.uiLinkColor).rgb().string();\n      } else {\n        this.uiLinkColorSetting.value = null;\n      }\n\n      this.errors = [];\n\n      try {\n        await Promise.all([\n          this.uiPLSetting.save(),\n          this.uiLogoDarkSetting.save(),\n          this.uiLogoLightSetting.save(),\n          this.uiBannerDarkSetting.save(),\n          this.uiBannerLightSetting.save(),\n          this.uiLoginBackgroundDarkSetting.save(),\n          this.uiLoginBackgroundLightSetting.save(),\n          this.uiColorSetting.save(),\n          this.uiLinkColorSetting.save(),\n          this.uiFaviconSetting.save()\n        ]);\n        if (this.uiPLSetting.value !== this.vendor) {\n          setVendor(this.uiPLSetting.value);\n        }\n\n        setFavIcon(this.$store);\n        btnCB(true);\n      } catch (err) {\n        this.errors.push(err);\n        btnCB(false);\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"mb-20\">\n      <TabTitle>{{ t('branding.label') }}</TabTitle>\n    </h1>\n    <TypeDescription resource=\"branding\" />\n    <div>\n      <div class=\"row mb-20\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"uiPLSetting.value\"\n            :label=\"t('branding.uiPL.label')\"\n            :mode=\"mode\"\n            :maxlength=\"100\"\n          />\n        </div>\n      </div>\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.logos.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.logos.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeLogo\"\n          :label=\"t('branding.logos.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeLogo\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col preview-container logo span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.logos.uploadLight')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiLogoLight')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLogoLight || uiLogoDark\"\n            class=\"theme-light  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.logos.lightPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-logo-light-preview\"\n              :src=\"uiLogoLight ? uiLogoLight : uiLogoDark\"\n            >\n          </SimpleBox>\n        </div>\n        <div class=\"col preview-container logo span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.logos.uploadDark')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiLogoDark')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLogoDark || uiLogoLight\"\n            class=\"theme-dark  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.logos.darkPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-logo-dark-preview\"\n              :src=\"uiLogoDark ? uiLogoDark : uiLogoLight\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.banner.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.banner.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeBanner\"\n          :label=\"t('branding.banner.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeBanner\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col preview-container banner span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"200000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.banner.uploadLight')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiBannerLight')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiBannerLight || uiBannerDark\"\n            class=\"theme-light mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.banner.lightPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-banner-light-preview\"\n              :src=\"uiBannerLight ? uiBannerLight : uiBannerDark\"\n            >\n          </SimpleBox>\n        </div>\n        <div class=\"col preview-container banner span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"200000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.banner.uploadDark')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiBannerDark')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiBannerDark || uiBannerLight\"\n            class=\"theme-dark  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.banner.darkPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-banner-dark-preview\"\n              :src=\"uiBannerDark ? uiBannerDark : uiBannerLight\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.loginBackground.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.loginBackground.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeLoginBackground\"\n          :label=\"t('branding.loginBackground.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeLoginBackground\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col preview-container login-background span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"200000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.loginBackground.uploadLight')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiLoginBackgroundLight')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLoginBackgroundLight || uiLoginBackgroundDark\"\n            class=\"theme-light mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.loginBackground.lightPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-login-background-light-preview\"\n              :src=\"uiLoginBackgroundLight ? uiLoginBackgroundLight : uiLoginBackgroundDark\"\n            >\n          </SimpleBox>\n        </div>\n        <div class=\"col preview-container login-background span-6\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"200000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.loginBackground.uploadDark')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiLoginBackgroundDark')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLoginBackgroundDark || uiLoginBackgroundLight\"\n            class=\"theme-dark  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.loginBackground.darkPreview') }}</label>\n            <img\n              class=\"img-preview\"\n              data-testid=\"branding-login-background-dark-preview\"\n              :src=\"uiLoginBackgroundDark ? uiLoginBackgroundDark : uiLoginBackgroundLight\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.favicon.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.favicon.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeFavicon\"\n          :label=\"t('branding.favicon.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeFavicon\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col favicon-container span-12\">\n          <div class=\"mb-10\">\n            <FileImageSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.favicon.upload')\"\n              :mode=\"mode\"\n              accept=\"image/jpeg,image/png,image/svg+xml\"\n              @error=\"setError\"\n              @input=\"updateBranding($event, 'uiFavicon')\"\n            />\n          </div>\n          <SimpleBox v-if=\"uiFavicon\">\n            <label class=\"text-muted\">{{ t('branding.favicon.preview') }}</label>\n            <img\n              class=\"favicon-preview\"\n              data-testid=\"branding-favicon-preview\"\n              :src=\"uiFavicon\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-40 mb-5 pb-0\">\n        {{ t('branding.color.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.color.tip', {}, true) }}\n      </label>\n      <div class=\"row mt-20\">\n        <Checkbox\n          v-model=\"customizeColor\"\n          :label=\"t('branding.color.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div\n        v-if=\"customizeColor\"\n        class=\"row mt-20 mb-20\"\n      >\n        <ColorInput\n          v-model=\"uiColor\"\n          component-testid=\"primary\"\n        />\n      </div>\n\n      <h3 class=\"mt-40 mb-5 pb-0\">\n        {{ t('branding.linkColor.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.linkColor.tip', {}, true) }}\n      </label>\n      <div class=\"row mt-20\">\n        <Checkbox\n          v-model=\"customizeLinkColor\"\n          :label=\"t('branding.linkColor.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div\n        v-if=\"customizeLinkColor\"\n        class=\"row mt-20 mb-20\"\n      >\n        <ColorInput\n          v-model=\"uiLinkColor\"\n          class=\"col\"\n          component-testid=\"link\"\n        />\n        <span class=\"col link-example\">\n          <a>\n            {{ t('branding.linkColor.example') }}\n          </a>\n        </span>\n      </div>\n    </div>\n    <template v-for=\"err in errors\">\n      <Banner\n        :key=\"err\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </template>\n    <div v-if=\"mode === 'edit'\">\n      <AsyncButton\n        component-testid=\"branding-apply\"\n        class=\"pull-right mt-20\"\n        mode=\"apply\"\n        @click=\"save\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang='scss'>\n.link-example {\n  display: flex;\n  align-content: center;\n\n  a {\n    margin: auto;\n  }\n}\n\n::v-deep.preview-container {\n  display: flex;\n  flex-direction: column;\n\n  .simple-box {\n    position: relative;\n    flex: 1;\n\n    .content {\n      height: 100%;\n      display: flex;\n    }\n\n    .logo-preview {\n      max-width: 100%;\n    }\n  }\n\n  &.logo {\n    .simple-box {\n      max-height: 120px;\n    }\n  }\n\n  &.banner {\n    .simple-box {\n      max-height: 200px;\n    }\n  }\n\n  &.login-background {\n    .simple-box {\n      max-height: 300px;\n    }\n  }\n\n  & LABEL {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n  }\n}\n</style>\n"]}]}