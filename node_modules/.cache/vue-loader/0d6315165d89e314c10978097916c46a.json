{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/support/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/support/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBCYW5uZXJHcmFwaGljIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0Jhbm5lckdyYXBoaWMnOwppbXBvcnQgSW5kZW50ZWRQYW5lbCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9JbmRlbnRlZFBhbmVsJzsKaW1wb3J0IENvbW11bml0eUxpbmtzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NvbW11bml0eUxpbmtzJzsKaW1wb3J0IHsgQ0FUQUxPRywgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBnZXRWZW5kb3IgfSBmcm9tICdAc2hlbGwvY29uZmlnL3ByaXZhdGUtbGFiZWwnOwppbXBvcnQgeyBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CmltcG9ydCB7IGFkZFBhcmFtIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VybCc7CmltcG9ydCB7IGlzUmFuY2hlclByaW1lIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy92ZXJzaW9uJzsKaW1wb3J0IHsgaGFzQ3NwQWRhcHRlciB9IGZyb20gJ21peGlucy9icmFuZCc7CmltcG9ydCBUYWJUaXRsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJUaXRsZSc7CgpleHBvcnQgZGVmYXVsdCB7CgogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lckdyYXBoaWMsCiAgICBJbmRlbnRlZFBhbmVsLAogICAgQ29tbXVuaXR5TGlua3MsCiAgICBUYWJUaXRsZQogIH0sCgogIGFzeW5jIGZldGNoKCkgewogICAgY29uc3QgZmV0Y2hPckNyZWF0ZVNldHRpbmcgPSBhc3luYyhpZCwgdmFsKSA9PiB7CiAgICAgIGxldCBzZXR0aW5nOwoKICAgICAgdHJ5IHsKICAgICAgICBzZXR0aW5nID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZCcsIHsgdHlwZTogTUFOQUdFTUVOVC5TRVRUSU5HLCBpZCB9KTsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9zY2hlbWFGb3InXShNQU5BR0VNRU5ULlNFVFRJTkcpOwogICAgICAgIGNvbnN0IHVybCA9IHNjaGVtYS5saW5rRm9yKCdjb2xsZWN0aW9uJyk7CgogICAgICAgIHNldHRpbmcgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9jcmVhdGUnLCB7CiAgICAgICAgICB0eXBlOiAgICAgTUFOQUdFTUVOVC5TRVRUSU5HLAogICAgICAgICAgbWV0YWRhdGE6IHsgbmFtZTogaWQgfSwKICAgICAgICAgIHZhbHVlOiAgICB2YWwsCiAgICAgICAgICBkZWZhdWx0OiAgdmFsIHx8ICcnCiAgICAgICAgfSk7CgogICAgICAgIHNldHRpbmcuc2F2ZSh7IHVybCB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNldHRpbmc7CiAgICB9OwoKICAgIGlmICggdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9jYW5MaXN0J10oQ0FUQUxPRy5BUFApICkgewogICAgICB0aGlzLmFwcHMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgeyB0eXBlOiBDQVRBTE9HLkFQUCB9KTsKICAgIH0KICAgIHRoaXMuYnJhbmRTZXR0aW5nID0gYXdhaXQgZmV0Y2hPckNyZWF0ZVNldHRpbmcoU0VUVElORy5CUkFORCwgJycpOwogICAgdGhpcy5zZXJ2ZXJVcmxTZXR0aW5nID0gYXdhaXQgZmV0Y2hPckNyZWF0ZVNldHRpbmcoU0VUVElORy5TRVJWRVJfVVJMLCAnJyk7CiAgICB0aGlzLnVpSXNzdWVzU2V0dGluZyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7IHR5cGU6IE1BTkFHRU1FTlQuU0VUVElORywgaWQ6IFNFVFRJTkcuSVNTVUVTIH0pOwogICAgdGhpcy5zZXR0aW5ncyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7IHR5cGU6IE1BTkFHRU1FTlQuU0VUVElORyB9KTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBwczogICAgICAgICAgICBbXSwKICAgICAgdmVuZG9yOiAgICAgICAgICBnZXRWZW5kb3IoKSwKICAgICAgc3VwcG9ydEtleTogICAgICAnJywKICAgICAgYnJhbmRTZXR0aW5nOiAgICBudWxsLAogICAgICB1aUlzc3Vlc1NldHRpbmc6IG51bGwsCiAgICAgIHNlcnZlclNldHRpbmc6ICAgbnVsbCwKICAgICAgc2V0dGluZ3M6ICAgICAgICBudWxsLAogICAgICAvLyBpMThuLXVzZXMgc3VwcG9ydC5wcm9tb3Mub25lLioKICAgICAgLy8gaTE4bi11c2VzIHN1cHBvcnQucHJvbW9zLnR3by4qCiAgICAgIC8vIGkxOG4tdXNlcyBzdXBwb3J0LnByb21vcy50aHJlZS4qCiAgICAgIC8vIGkxOG4tdXNlcyBzdXBwb3J0LnByb21vcy5mb3VyLioKICAgICAgcHJvbW9zOiAgICAgICAgICBbCiAgICAgICAgJ3N1cHBvcnQucHJvbW9zLm9uZScsCiAgICAgICAgJ3N1cHBvcnQucHJvbW9zLnR3bycsCiAgICAgICAgJ3N1cHBvcnQucHJvbW9zLnRocmVlJywKICAgICAgICAnc3VwcG9ydC5wcm9tb3MuZm91cicsCiAgICAgIF0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGNzcEFkYXB0ZXIoKSB7CiAgICAgIHJldHVybiBoYXNDc3BBZGFwdGVyKHRoaXMuYXBwcyk7CiAgICB9LAoKICAgIGhhc1N1cHBvcnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmhhc0FXU1N1cHBvcnQgfHwgaXNSYW5jaGVyUHJpbWUoKTsKICAgIH0sCgogICAgaGFzQVdTU3VwcG9ydCgpIHsKICAgICAgcmV0dXJuICEhdGhpcy5jc3BBZGFwdGVyOwogICAgfSwKCiAgICBzZXJ2ZXJVcmwoKSB7CiAgICAgIC8vIENsaWVudC1zaWRlIHJlbmRlcmVkOiB1c2UgdGhlIGN1cnJlbnQgd2luZG93IGxvY2F0aW9uCiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luOwogICAgfSwKCiAgICBzdXBwb3J0Q29uZmlnTGluaygpIHsKICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuY3NwQWRhcHRlcjsKCiAgICAgIGlmICghYWRhcHRlcikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGFkYXB0ZXIubWV0YWRhdGEubmFtZSA9PT0gJ3JhbmNoZXItY3NwLWJpbGxpbmctYWRhcHRlcicpIHsKICAgICAgICByZXR1cm4gYCR7IHRoaXMuc2VydmVyVXJsIH0vdjEvZ2VuZXJhdGVTVVNFUmFuY2hlclN1cHBvcnRDb25maWc/dXNlUEFZRz10cnVlYDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYCR7IHRoaXMuc2VydmVyVXJsIH0vdjEvZ2VuZXJhdGVTVVNFUmFuY2hlclN1cHBvcnRDb25maWdgOwogICAgICB9CiAgICB9LAoKICAgIHRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5oYXNTdXBwb3J0ID8gJ3N1cHBvcnQuc3VzZS50aXRsZScgOiAnc3VwcG9ydC5jb21tdW5pdHkudGl0bGUnOwogICAgfSwKCiAgICBzY2NMaW5rKCkgewogICAgICByZXR1cm4gdGhpcy5oYXNBV1NTdXBwb3J0ID8gYWRkUGFyYW0oJ2h0dHBzOi8vc2NjLnN1c2UuY29tJywgJ2Zyb21fbWFya2V0cGxhY2UnLCAnMScpIDogJ2h0dHBzOi8vc2NjLnN1c2UuY29tJzsKICAgIH0KICB9LAoKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/support","sourcesContent":["<script>\nimport BannerGraphic from '@shell/components/BannerGraphic';\nimport IndentedPanel from '@shell/components/IndentedPanel';\nimport CommunityLinks from '@shell/components/CommunityLinks';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { getVendor } from '@shell/config/private-label';\nimport { SETTING } from '@shell/config/settings';\nimport { addParam } from '@shell/utils/url';\nimport { isRancherPrime } from '@shell/config/version';\nimport { hasCspAdapter } from 'mixins/brand';\nimport TabTitle from '@shell/components/TabTitle';\n\nexport default {\n\n  components: {\n    BannerGraphic,\n    IndentedPanel,\n    CommunityLinks,\n    TabTitle\n  },\n\n  async fetch() {\n    const fetchOrCreateSetting = async(id, val) => {\n      let setting;\n\n      try {\n        setting = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id });\n      } catch {\n        const schema = this.$store.getters['management/schemaFor'](MANAGEMENT.SETTING);\n        const url = schema.linkFor('collection');\n\n        setting = await this.$store.dispatch('management/create', {\n          type:     MANAGEMENT.SETTING,\n          metadata: { name: id },\n          value:    val,\n          default:  val || ''\n        });\n\n        setting.save({ url });\n      }\n\n      return setting;\n    };\n\n    if ( this.$store.getters['management/canList'](CATALOG.APP) ) {\n      this.apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n    }\n    this.brandSetting = await fetchOrCreateSetting(SETTING.BRAND, '');\n    this.serverUrlSetting = await fetchOrCreateSetting(SETTING.SERVER_URL, '');\n    this.uiIssuesSetting = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.ISSUES });\n    this.settings = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.SETTING });\n  },\n\n  data() {\n    return {\n      apps:            [],\n      vendor:          getVendor(),\n      supportKey:      '',\n      brandSetting:    null,\n      uiIssuesSetting: null,\n      serverSetting:   null,\n      settings:        null,\n      // i18n-uses support.promos.one.*\n      // i18n-uses support.promos.two.*\n      // i18n-uses support.promos.three.*\n      // i18n-uses support.promos.four.*\n      promos:          [\n        'support.promos.one',\n        'support.promos.two',\n        'support.promos.three',\n        'support.promos.four',\n      ]\n    };\n  },\n\n  computed: {\n    cspAdapter() {\n      return hasCspAdapter(this.apps);\n    },\n\n    hasSupport() {\n      return this.hasAWSSupport || isRancherPrime();\n    },\n\n    hasAWSSupport() {\n      return !!this.cspAdapter;\n    },\n\n    serverUrl() {\n      // Client-side rendered: use the current window location\n      return window.location.origin;\n    },\n\n    supportConfigLink() {\n      const adapter = this.cspAdapter;\n\n      if (!adapter) {\n        return false;\n      }\n\n      if (adapter.metadata.name === 'rancher-csp-billing-adapter') {\n        return `${ this.serverUrl }/v1/generateSUSERancherSupportConfig?usePAYG=true`;\n      } else {\n        return `${ this.serverUrl }/v1/generateSUSERancherSupportConfig`;\n      }\n    },\n\n    title() {\n      return this.hasSupport ? 'support.suse.title' : 'support.community.title';\n    },\n\n    sccLink() {\n      return this.hasAWSSupport ? addParam('https://scc.suse.com', 'from_marketplace', '1') : 'https://scc.suse.com';\n    }\n  },\n\n};\n</script>\n<template>\n  <div>\n    <BannerGraphic :title=\"t(title, {}, true)\" />\n\n    <IndentedPanel>\n      <div class=\"content mt-20\">\n        <div class=\"promo col main-panel\">\n          <div class=\"box mb-20 box-primary\">\n            <h2>\n              <TabTitle breadcrumb=\"vendor-only\">\n                {{ t('support.suse.access.title') }}\n              </TabTitle>\n            </h2>\n            <div\n              v-if=\"!hasSupport\"\n              class=\"external support-links mt-20\"\n            >\n              <div class=\"support-link\">\n                <a\n                  class=\"support-link\"\n                  href=\"https://www.rancher.com/support\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer nofollow\"\n                >{{ t('support.community.learnMore') }}</a>\n              </div>\n              <div class=\"support-link\">\n                <a\n                  class=\"support-link\"\n                  href=\"https://rancher.com/pricing\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer nofollow\"\n                >{{ t('support.community.pricing') }}</a>\n              </div>\n            </div>\n            <div v-else>\n              <p class=\"pb-10\">\n                {{ hasAWSSupport ? t(\"support.suse.access.aws.text\") : t(\"support.suse.access.text\") }}\n              </p>\n              <a\n                v-if=\"hasAWSSupport\"\n                class=\"mr-5 btn role-secondary btn-sm\"\n                :href=\"supportConfigLink\"\n              >\n                {{ t('support.suse.access.aws.generateConfig') }}\n              </a>\n              <a\n                :href=\"sccLink\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer nofollow\"\n              >\n                {{ t('support.suse.access.action') }} <i class=\"icon icon-external-link\" />\n              </a>\n            </div>\n          </div>\n          <div class=\"boxes\">\n            <div\n              v-for=\"key in promos\"\n              :key=\"key\"\n              class=\"box\"\n            >\n              <h2>{{ t(`${key}.title`) }}</h2>\n              <div>{{ t(`${key}.text`) }}</div>\n            </div>\n          </div>\n        </div>\n        <CommunityLinks\n          :is-support-page=\"true\"\n          class=\"community col side-panel span-3\"\n        />\n      </div>\n    </IndentedPanel>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.content {\n\n    display: flex;\n    align-items: stretch;\n    .col {\n      margin: 0\n    }\n    .main-panel {\n      flex: auto;\n    }\n\n    .side-panel {\n      margin-left: 1.75%;\n    }\n  }\n\n.toggle-support {\n    height: 100%;\n\n    &.card-container {\n      box-shadow: none;\n    }\n\n    &::v-deep .card-actions {\n      display: flex;\n      justify-content: space-between;\n    }\n}\n\n.support-link:not(:first-child) {\n  margin: 15px 0 0 0;\n}\n\n.register {\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n  font-size: 16px;\n}\n.remove-link {\n  cursor: pointer;\n  font-size: 14px;\n}\n.boxes {\n  display: grid;\n  grid-column-gap: 20px;\n  grid-row-gap: 20px;\n  grid-template-columns: 50% 50%;\n  margin-right: 20px;\n}\n\n.box {\n  padding: 20px;\n  border: 1px solid var(--border);\n\n  &.box-primary {\n    border-color: var(--primary);\n  }\n\n  > h2 {\n    font-size: 20px;\n    font-weight: 300;\n  }\n\n  > div {\n    font-weight: 300;\n    line-height: 18px;\n    opacity: 0.8;\n  }\n}\n</style>\n"]}]}