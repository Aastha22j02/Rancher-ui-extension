{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/service.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/edit/service.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGlzRW1wdHkgZnJvbSAnbG9kYXNoL2lzRW1wdHknOwppbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoL3Rocm90dGxlJzsKaW1wb3J0IEFycmF5TGlzdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdCc7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgRm9ybVZhbGlkYXRpb24gZnJvbSAnQHNoZWxsL21peGlucy9mb3JtLXZhbGlkYXRpb24nOwppbXBvcnQgS2V5VmFsdWUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9LZXlWYWx1ZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IE5hbWVOc0Rlc2NyaXB0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTmFtZU5zRGVzY3JpcHRpb24nOwppbXBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CmltcG9ydCBTZXJ2aWNlUG9ydHMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZXJ2aWNlUG9ydHMnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZCc7CmltcG9ydCBVbml0SW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9Vbml0SW5wdXQnOwppbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfVFlQRVMsIEhFQURMRVNTLCBDTFVTVEVSSVAgfSBmcm9tICdAc2hlbGwvbW9kZWxzL3NlcnZpY2UnOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBMYWJlbHMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbHMnOwppbXBvcnQgSGFydmVzdGVyU2VydmljZUFkZE9uQ29uZmlnIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0hhcnZlc3RlclNlcnZpY2VBZGRPbkNvbmZpZyc7CmltcG9ydCB7IGNsb25lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IFBPRCwgQ0FQSSwgSENJIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IG1hdGNoaW5nIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NlbGVjdG9yJzsKaW1wb3J0IHsgSEFSVkVTVEVSX05BTUUgYXMgSEFSVkVTVEVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9mZWF0dXJlcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IGlzSGFydmVzdGVyU2F0aXNmaWVzVmVyc2lvbiB9IGZyb20gJ0BzaGVsbC91dGlscy9jbHVzdGVyJzsKaW1wb3J0IHsgUG9ydCB9IGZyb20gJ0BzaGVsbC91dGlscy92YWxpZGF0b3JzL2Zvcm1SdWxlcyc7CmltcG9ydCB7IF9DTE9ORSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKCmNvbnN0IFNFU1NJT05fQUZGSU5JVFlfQUNUSU9OX1ZBTFVFUyA9IHsKICBOT05FOiAgICAgJ05vbmUnLAogIENMSUVOVElQOiAnQ2xpZW50SVAnLAp9OwoKY29uc3QgU0VTU0lPTl9BRkZJTklUWV9BQ1RJT05fTEFCRUxTID0gewogIE5PTkU6ICAgICAnc2VydmljZXNQYWdlLmFmZmluaXR5LmFjdGlvbkxhYmVscy5ub25lJywKICBDTElFTlRJUDogJ3NlcnZpY2VzUGFnZS5hZmZpbml0eS5hY3Rpb25MYWJlbHMuY2xpZW50SXAnLAp9OwoKY29uc3QgU0VTU0lPTl9TVElDS1lfVElNRV9ERUZBVUxUID0gMTA4MDA7CgpleHBvcnQgZGVmYXVsdCB7CiAgLy8gUHJvcHMgYXJlIGZvdW5kIGluIENyZWF0ZUVkaXRWaWV3CiAgLy8gcHJvcHM6IHt9LAoKICBjb21wb25lbnRzOiB7CiAgICBBcnJheUxpc3QsCiAgICBCYW5uZXIsCiAgICBDcnVSZXNvdXJjZSwKICAgIEtleVZhbHVlLAogICAgTGFiZWxzLAogICAgTGFiZWxlZElucHV0LAogICAgTmFtZU5zRGVzY3JpcHRpb24sCiAgICBSYWRpb0dyb3VwLAogICAgU2VydmljZVBvcnRzLAogICAgVGFiLAogICAgVGFiYmVkLAogICAgVW5pdElucHV0LAogICAgSGFydmVzdGVyU2VydmljZUFkZE9uQ29uZmlnLAogIH0sCgogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3LCBGb3JtVmFsaWRhdGlvbl0sCgogIGZldGNoKCkgewogICAgcmV0dXJuIHRoaXMubG9hZFBvZHMoKTsKICB9LAoKICBkYXRhKCkgewogICAgaWYgKCF0aGlzPy52YWx1ZT8uc3BlYz8udHlwZSkgewogICAgICBpZiAoIXRoaXMudmFsdWU/LnNwZWMpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3NwZWMnLCB7CiAgICAgICAgICBwb3J0czogICAgICAgICAgIFtdLAogICAgICAgICAgc2Vzc2lvbkFmZmluaXR5OiAnTm9uZScsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBTZXQgY2x1c3RlcklQIHRvIGFuIGVtcHR5IHN0cmluZywgaWYgaXQgZXhpc3RzIGFuZCB0aGUgdmFsdWUgaXMgbm90IE5vbmUgd2hlbiBjbG9uZSBhIHNlcnZpY2UKICAgIC8vIFJlbW92ZSBjbHVzdGVySVBzIGlmIGl0IGV4aXN0cyB3aGVuIGNsb25lIGEgc2VydmljZQogICAgaWYgKHRoaXMucmVhbE1vZGUgPT09IF9DTE9ORSkgewogICAgICBpZiAodGhpcy52YWx1ZT8uc3BlYz8uY2x1c3RlcklQICYmIHRoaXMudmFsdWU/LnNwZWM/LmNsdXN0ZXJJUCAhPT0gJ05vbmUnKSB7CiAgICAgICAgdGhpcy52YWx1ZS5zcGVjLmNsdXN0ZXJJUCA9ICcnOwogICAgICB9CiAgICAgIGlmICh0aGlzLnZhbHVlPy5zcGVjPy5jbHVzdGVySVBzKSB7CiAgICAgICAgdGhpcy4kZGVsZXRlKHRoaXMudmFsdWUuc3BlYywgJ2NsdXN0ZXJJUHMnKTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IG1hdGNoaW5nUG9kcyA9IHsKICAgICAgbWF0Y2hlZDogMCwKICAgICAgbWF0Y2hlczogW10sCiAgICAgIG5vbmU6ICAgIHRydWUsCiAgICAgIHNhbXBsZTogIG51bGwsCiAgICAgIHRvdGFsOiAgIDAsCiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIG1hdGNoaW5nUG9kcywKICAgICAgYWxsUG9kczogICAgICAgICAgICAgICAgICAgICBbXSwKICAgICAgZGVmYXVsdFNlcnZpY2VUeXBlczogICAgICAgICBERUZBVUxUX1NFUlZJQ0VfVFlQRVMsCiAgICAgIHNhdmluZzogICAgICAgICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgIHNlc3Npb25BZmZpbml0eUFjdGlvbkxhYmVsczogT2JqZWN0LnZhbHVlcyhTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9MQUJFTFMpCiAgICAgICAgLm1hcCgodikgPT4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi90J10odikpCiAgICAgICAgLm1hcCh1Y0ZpcnN0KSwKICAgICAgc2Vzc2lvbkFmZmluaXR5QWN0aW9uT3B0aW9uczogT2JqZWN0LnZhbHVlcygKICAgICAgICBTRVNTSU9OX0FGRklOSVRZX0FDVElPTl9WQUxVRVMKICAgICAgKSwKICAgICAgZnZGb3JtUnVsZVNldHM6ICAgICAgICAgICAgW10sCiAgICAgIGZ2UmVwb3J0ZWRWYWxpZGF0aW9uUGF0aHM6IFsnc3BlYyddCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSksCgogICAgdGFiRXJyb3JzKCkgewogICAgICBjb25zdCB0YWJFcnJvcnMgPSB7fTsKCiAgICAgIGlmICh0aGlzLnNlcnZpY2VUeXBlID09PSAnRXh0ZXJuYWxOYW1lJykgewogICAgICAgIHRhYkVycm9ycy5leHRlcm5hbE5hbWUgPSB0aGlzLmZ2R2V0UGF0aEVycm9ycyhbJ3NwZWMuZXh0ZXJuYWxOYW1lJ10pPy5sZW5ndGggPiAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRhYkVycm9ycy5zZXJ2aWNlUG9ydHMgPSB0aGlzLmZ2R2V0UGF0aEVycm9ycyhbJ3NwZWMucG9ydHMnXSk/Lmxlbmd0aCA+IDA7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YWJFcnJvcnM7CiAgICB9LAoKICAgIHNob3dTZWxlY3Rvcldhcm5pbmcoKSB7CiAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy52YWx1ZS5zcGVjPy5zZWxlY3RvcjsKCiAgICAgIHJldHVybiAhIWlzRW1wdHkoc2VsZWN0b3IpOwogICAgfSwKICAgIHNlcnZpY2VUeXBlOiB7CiAgICAgIGdldCgpIHsKICAgICAgICBjb25zdCBzZXJ2aWNlVHlwZSA9IHRoaXMudmFsdWU/LnNwZWM/LnR5cGU7CiAgICAgICAgY29uc3QgY2x1c3RlcklwID0gdGhpcy52YWx1ZT8uc3BlYz8uY2x1c3RlcklQOwoKICAgICAgICBpZiAoc2VydmljZVR5cGUpIHsKICAgICAgICAgIGlmIChzZXJ2aWNlVHlwZSA9PT0gQ0xVU1RFUklQICYmIGNsdXN0ZXJJcCA9PT0gJ05vbmUnKSB7CiAgICAgICAgICAgIHJldHVybiBIRUFETEVTUzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlVHlwZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBzZXJ2aWNlVHlwZTsKICAgICAgfSwKCiAgICAgIHNldChzZXJ2aWNlVHlwZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NldC1zdWJ0eXBlJywgc2VydmljZVR5cGUpOwoKICAgICAgICBpZiAoc2VydmljZVR5cGUgPT09IEhFQURMRVNTKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAndHlwZScsIENMVVNURVJJUCk7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAnY2x1c3RlcklQJywgJ05vbmUnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKAogICAgICAgICAgICBzZXJ2aWNlVHlwZSAhPT0gSEVBRExFU1MgJiYKICAgICAgICAgICAgdGhpcy52YWx1ZT8uc3BlYz8uY2x1c3RlcklQID09PSAnTm9uZScKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAnY2x1c3RlcklQJywgbnVsbCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHNlcnZpY2VUeXBlID09PSAnRXh0ZXJuYWxOYW1lJykgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAncG9ydHMnLCBudWxsKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAndHlwZScsIHNlcnZpY2VUeXBlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgc2hvd0FmZmluaXR5VGltZW91dCgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLnZhbHVlLnNwZWMuc2Vzc2lvbkFmZmluaXR5ID09PSAnQ2xpZW50SVAnICYmCiAgICAgICAgIWlzRW1wdHkodGhpcy52YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eUNvbmZpZykKICAgICAgKTsKICAgIH0sCgogICAgaGFzQ2x1c3RlcklwKCkgewogICAgICByZXR1cm4gKAogICAgICAgIHRoaXMuY2hlY2tUeXBlSXMoJ0NsdXN0ZXJJUCcpIHx8CiAgICAgICAgdGhpcy5jaGVja1R5cGVJcygnTG9hZEJhbGFuY2VyJykgfHwKICAgICAgICB0aGlzLmNoZWNrVHlwZUlzKCdOb2RlUG9ydCcpCiAgICAgICk7CiAgICB9LAoKICAgIHNob3dIYXJ2ZXN0ZXJBZGRPbkNvbmZpZygpIHsKICAgICAgbGV0IGNsb3VkUHJvdmlkZXI7CiAgICAgIGNvbnN0IHZlcnNpb24gPSB0aGlzLnByb3Zpc2lvbmluZ0NsdXN0ZXI/Lmt1YmVybmV0ZXNWZXJzaW9uOwoKICAgICAgaWYgKHRoaXMucHJvdmlzaW9uaW5nQ2x1c3Rlcj8uaXNSa2UyKSB7CiAgICAgICAgY29uc3QgbWFjaGluZVNlbGVjdG9yQ29uZmlnID0gdGhpcy5wcm92aXNpb25pbmdDbHVzdGVyPy5zcGVjPy5ya2VDb25maWc/Lm1hY2hpbmVTZWxlY3RvckNvbmZpZyB8fCB7fTsKICAgICAgICBjb25zdCBhZ2VudENvbmZpZyA9IChtYWNoaW5lU2VsZWN0b3JDb25maWdbMF0gfHwge30pLmNvbmZpZzsKCiAgICAgICAgY2xvdWRQcm92aWRlciA9IGFnZW50Q29uZmlnPy5bJ2Nsb3VkLXByb3ZpZGVyLW5hbWUnXTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3Zpc2lvbmluZ0NsdXN0ZXI/LmlzUmtlMSkgewogICAgICAgIGNvbnN0IGN1cnJlbnRDbHVzdGVyID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudENsdXN0ZXInXTsKCiAgICAgICAgY2xvdWRQcm92aWRlciA9IGN1cnJlbnRDbHVzdGVyPy5zcGVjPy5yYW5jaGVyS3ViZXJuZXRlc0VuZ2luZUNvbmZpZz8uY2xvdWRQcm92aWRlcj8ubmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tUeXBlSXMoJ0xvYWRCYWxhbmNlcicpICYmCiAgICAgICAgICAgICAgY2xvdWRQcm92aWRlciA9PT0gSEFSVkVTVEVSICYmCiAgICAgICAgICAgICAgaXNIYXJ2ZXN0ZXJTYXRpc2ZpZXNWZXJzaW9uKHZlcnNpb24pOwogICAgfSwKCiAgICBwcm92aXNpb25pbmdDbHVzdGVyKCkgewogICAgICBjb25zdCBvdXQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2FsbCddKENBUEkuUkFOQ0hFUl9DTFVTVEVSKS5maW5kKChjKSA9PiBjPy5zdGF0dXM/LmNsdXN0ZXJOYW1lID09PSB0aGlzLmN1cnJlbnRDbHVzdGVyLm1ldGFkYXRhLm5hbWUpOwoKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgICd2YWx1ZS5tZXRhZGF0YS5uYW1lc3BhY2UnOiAndXBkYXRlTWF0Y2hpbmdQb2RzJywKICAgICd2YWx1ZS5zcGVjLnNlbGVjdG9yJzogICAgICAndXBkYXRlTWF0Y2hpbmdQb2RzJywKICAgICd2YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eScodmFsKSB7CiAgICAgIGlmICh2YWwgPT09ICdDbGllbnRJUCcpIHsKICAgICAgICB0aGlzLnZhbHVlLnNwZWMuc2Vzc2lvbkFmZmluaXR5Q29uZmlnID0geyBjbGllbnRJUDogeyB0aW1lb3V0U2Vjb25kczogbnVsbCB9IH07CgogICAgICAgIC8vIHNldCBpdCBudWxsIGFuZCB0aGVuIHNldCBpdCB3aXRoIHZ1ZSB0byBtYWtlIHJlYWN0aXZlLgogICAgICAgIHRoaXMuJHNldCgKICAgICAgICAgIHRoaXMudmFsdWUuc3BlYy5zZXNzaW9uQWZmaW5pdHlDb25maWcuY2xpZW50SVAsCiAgICAgICAgICAndGltZW91dFNlY29uZHMnLAogICAgICAgICAgU0VTU0lPTl9TVElDS1lfVElNRV9ERUZBVUxUCiAgICAgICAgKTsKICAgICAgfSBlbHNlIGlmICgKICAgICAgICB0aGlzLnZhbHVlPy5zcGVjPy5zZXNzaW9uQWZmaW5pdHlDb25maWc/LmNsaWVudElQPy50aW1lb3V0U2Vjb25kcwogICAgICApIHsKICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5zcGVjLnNlc3Npb25BZmZpbml0eUNvbmZpZy5jbGllbnRJUC50aW1lb3V0U2Vjb25kczsKICAgICAgfQogICAgfSwKICAgICd2YWx1ZS5zcGVjLnR5cGUnKHZhbCkgewogICAgICBpZiAodmFsID09PSAnRXh0ZXJuYWxOYW1lJykgewogICAgICAgIHRoaXMuZnZGb3JtUnVsZVNldHMgPSBbewogICAgICAgICAgcGF0aDogICAgICAgICAgICdzcGVjLmV4dGVybmFsTmFtZScsCiAgICAgICAgICBydWxlczogICAgICAgICAgWydyZXF1aXJlZCcsICdleHRlcm5hbE5hbWUnXSwKICAgICAgICAgIHRyYW5zbGF0aW9uS2V5OiAnc2VydmljZXNQYWdlLmV4dGVybmFsTmFtZS5pbnB1dC5sYWJlbCcKICAgICAgICB9XTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZ2Rm9ybVJ1bGVTZXRzID0gW3sgcGF0aDogJ3NwZWMucG9ydHMnLCBydWxlczogWydzZXJ2aWNlUG9ydCddIH1dOwogICAgICB9CiAgICB9CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucmVnaXN0ZXJCZWZvcmVIb29rKHRoaXMud2lsbFNhdmUsICd3aWxsU2F2ZScpOwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBpbml0aWFsVHlwZSA9IHRoaXMuc2VydmljZVR5cGU7CgogICAgdGhpcy4kc2V0KHRoaXMsICdzZXJ2aWNlVHlwZScsIGluaXRpYWxUeXBlKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVNYXRjaGluZ1BvZHM6IHRocm90dGxlKGZ1bmN0aW9uKCkgewogICAgICBjb25zdCB7IHZhbHVlOiB7IHNwZWM6IHsgc2VsZWN0b3IgPSB7IH0gfSB9IH0gPSB0aGlzOwogICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JhbmNoZXIvZGFzaGJvYXJkL2lzc3Vlcy8xMDQxNywgYWxsIHBvZHMgYmFkLCBuZWVkIHRvIHJlcGxhY2UgbG9jYWwgc2VsZWN0b3Igc29tZWhvdwogICAgICBjb25zdCBhbGxJbk5hbWVzcGFjZSA9IHRoaXMuYWxsUG9kcy5maWx0ZXIoKHBvZCkgPT4gcG9kLm1ldGFkYXRhLm5hbWVzcGFjZSA9PT0gdGhpcy52YWx1ZT8ubWV0YWRhdGE/Lm5hbWVzcGFjZSk7CgogICAgICBpZiAoaXNFbXB0eShzZWxlY3RvcikpIHsKICAgICAgICB0aGlzLm1hdGNoaW5nUG9kcyA9IHsKICAgICAgICAgIG1hdGNoZWQ6IDAsCiAgICAgICAgICB0b3RhbDogICBhbGxJbk5hbWVzcGFjZS5sZW5ndGgsCiAgICAgICAgICBub25lOiAgICB0cnVlLAogICAgICAgICAgc2FtcGxlOiAgbnVsbCwKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hpbmcoYWxsSW5OYW1lc3BhY2UsIHNlbGVjdG9yKTsKCiAgICAgICAgdGhpcy5tYXRjaGluZ1BvZHMgPSB7CiAgICAgICAgICBtYXRjaGVkOiBtYXRjaC5sZW5ndGgsCiAgICAgICAgICB0b3RhbDogICBhbGxJbk5hbWVzcGFjZS5sZW5ndGgsCiAgICAgICAgICBub25lOiAgICBtYXRjaC5sZW5ndGggPT09IDAsCiAgICAgICAgICBzYW1wbGU6ICBtYXRjaFswXSA/IG1hdGNoWzBdLm5hbWVEaXNwbGF5IDogbnVsbCwKICAgICAgICB9OwogICAgICB9CiAgICB9LCAyNTAsIHsgbGVhZGluZzogdHJ1ZSB9KSwKCiAgICBhc3luYyBsb2FkUG9kcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBpblN0b3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFN0b3JlJ10oUE9EKTsKCiAgICAgICAgY29uc3QgaGFzaCA9IHsKICAgICAgICAgIHByb3ZDbHVzdGVyczogICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7IHR5cGU6IENBUEkuUkFOQ0hFUl9DTFVTVEVSIH0pLAogICAgICAgICAgcG9kczogICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7IGluU3RvcmUgfS9maW5kQWxsYCwgeyB0eXBlOiBQT0QgfSksCiAgICAgICAgICBoYXJ2ZXN0ZXJDb25maWdzOiB0aGlzLiRzdG9yZS5kaXNwYXRjaChgbWFuYWdlbWVudC9maW5kQWxsYCwgeyB0eXBlOiBIQ0kuSEFSVkVTVEVSX0NPTkZJRyB9KSwKICAgICAgICB9OwoKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhbGxIYXNoKGhhc2gpOwoKICAgICAgICB0aGlzLmFsbFBvZHMgPSByZXMucG9kczsKICAgICAgICB0aGlzLnVwZGF0ZU1hdGNoaW5nUG9kcygpOwogICAgICB9IGNhdGNoIChlKSB7IH0KICAgIH0sCgogICAgY2hlY2tUeXBlSXModHlwZUluKSB7CiAgICAgIGNvbnN0IHsgc2VydmljZVR5cGUgfSA9IHRoaXM7CgogICAgICBpZiAoc2VydmljZVR5cGUgPT09IHR5cGVJbikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIHVwZGF0ZVNlcnZpY2VQb3J0cyhzZXJ2aWNlUG9ydHMpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3BvcnRzJywgc2VydmljZVBvcnRzKTsKICAgIH0sCgogICAgdGFyZ2V0UG9ydHNTdHJPckludCh0YXJnZXRQb3J0cyA9IFtdKSB7CiAgICAgIGNvbnN0IG5ldSA9IGNsb25lKHRhcmdldFBvcnRzKTsKCiAgICAgIG5ldS5mb3JFYWNoKChwb3J0LCBpZHgpID0+IHsKICAgICAgICBjb25zdCB0YXJnZXRQb3J0ID0gbmV3IFBvcnQocG9ydD8udGFyZ2V0UG9ydCk7CgogICAgICAgIGlmICh0YXJnZXRQb3J0LmlzSW50KSB7CiAgICAgICAgICBwb3J0LnRhcmdldFBvcnQgPSB0YXJnZXRQb3J0LmludDsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIG5ldTsKICAgIH0sCgogICAgd2lsbFNhdmUoKSB7CiAgICAgIGNvbnN0IHsgcG9ydHMgPSBbXSB9ID0gdGhpcy52YWx1ZS5zcGVjOwoKICAgICAgaWYgKHBvcnRzICYmIHBvcnRzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnZhbHVlLnNwZWMucG9ydHMgPSB0aGlzLnRhcmdldFBvcnRzU3RyT3JJbnQodGhpcy52YWx1ZS5zcGVjLnBvcnRzKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["service.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"service.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport throttle from 'lodash/throttle';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport FormValidation from '@shell/mixins/form-validation';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { RadioGroup } from '@components/Form/Radio';\nimport ServicePorts from '@shell/components/form/ServicePorts';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { DEFAULT_SERVICE_TYPES, HEADLESS, CLUSTERIP } from '@shell/models/service';\nimport { ucFirst } from '@shell/utils/string';\nimport CruResource from '@shell/components/CruResource';\nimport { Banner } from '@components/Banner';\nimport Labels from '@shell/components/form/Labels';\nimport HarvesterServiceAddOnConfig from '@shell/components/HarvesterServiceAddOnConfig';\nimport { clone } from '@shell/utils/object';\nimport { POD, CAPI, HCI } from '@shell/config/types';\nimport { matching } from '@shell/utils/selector';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { allHash } from '@shell/utils/promise';\nimport { isHarvesterSatisfiesVersion } from '@shell/utils/cluster';\nimport { Port } from '@shell/utils/validators/formRules';\nimport { _CLONE } from '@shell/config/query-params';\n\nconst SESSION_AFFINITY_ACTION_VALUES = {\n  NONE:     'None',\n  CLIENTIP: 'ClientIP',\n};\n\nconst SESSION_AFFINITY_ACTION_LABELS = {\n  NONE:     'servicesPage.affinity.actionLabels.none',\n  CLIENTIP: 'servicesPage.affinity.actionLabels.clientIp',\n};\n\nconst SESSION_STICKY_TIME_DEFAULT = 10800;\n\nexport default {\n  // Props are found in CreateEditView\n  // props: {},\n\n  components: {\n    ArrayList,\n    Banner,\n    CruResource,\n    KeyValue,\n    Labels,\n    LabeledInput,\n    NameNsDescription,\n    RadioGroup,\n    ServicePorts,\n    Tab,\n    Tabbed,\n    UnitInput,\n    HarvesterServiceAddOnConfig,\n  },\n\n  mixins: [CreateEditView, FormValidation],\n\n  fetch() {\n    return this.loadPods();\n  },\n\n  data() {\n    if (!this?.value?.spec?.type) {\n      if (!this.value?.spec) {\n        this.$set(this.value, 'spec', {\n          ports:           [],\n          sessionAffinity: 'None',\n        });\n      }\n    }\n\n    // Set clusterIP to an empty string, if it exists and the value is not None when clone a service\n    // Remove clusterIPs if it exists when clone a service\n    if (this.realMode === _CLONE) {\n      if (this.value?.spec?.clusterIP && this.value?.spec?.clusterIP !== 'None') {\n        this.value.spec.clusterIP = '';\n      }\n      if (this.value?.spec?.clusterIPs) {\n        this.$delete(this.value.spec, 'clusterIPs');\n      }\n    }\n\n    const matchingPods = {\n      matched: 0,\n      matches: [],\n      none:    true,\n      sample:  null,\n      total:   0,\n    };\n\n    return {\n      matchingPods,\n      allPods:                     [],\n      defaultServiceTypes:         DEFAULT_SERVICE_TYPES,\n      saving:                      false,\n      sessionAffinityActionLabels: Object.values(SESSION_AFFINITY_ACTION_LABELS)\n        .map((v) => this.$store.getters['i18n/t'](v))\n        .map(ucFirst),\n      sessionAffinityActionOptions: Object.values(\n        SESSION_AFFINITY_ACTION_VALUES\n      ),\n      fvFormRuleSets:            [],\n      fvReportedValidationPaths: ['spec']\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    tabErrors() {\n      const tabErrors = {};\n\n      if (this.serviceType === 'ExternalName') {\n        tabErrors.externalName = this.fvGetPathErrors(['spec.externalName'])?.length > 0;\n      } else {\n        tabErrors.servicePorts = this.fvGetPathErrors(['spec.ports'])?.length > 0;\n      }\n\n      return tabErrors;\n    },\n\n    showSelectorWarning() {\n      const selector = this.value.spec?.selector;\n\n      return !!isEmpty(selector);\n    },\n    serviceType: {\n      get() {\n        const serviceType = this.value?.spec?.type;\n        const clusterIp = this.value?.spec?.clusterIP;\n\n        if (serviceType) {\n          if (serviceType === CLUSTERIP && clusterIp === 'None') {\n            return HEADLESS;\n          } else {\n            return serviceType;\n          }\n        }\n\n        return serviceType;\n      },\n\n      set(serviceType) {\n        this.$emit('set-subtype', serviceType);\n\n        if (serviceType === HEADLESS) {\n          this.$set(this.value.spec, 'type', CLUSTERIP);\n          this.$set(this.value.spec, 'clusterIP', 'None');\n        } else {\n          if (\n            serviceType !== HEADLESS &&\n            this.value?.spec?.clusterIP === 'None'\n          ) {\n            this.$set(this.value.spec, 'clusterIP', null);\n          } else if (serviceType === 'ExternalName') {\n            this.$set(this.value.spec, 'ports', null);\n          }\n\n          this.$set(this.value.spec, 'type', serviceType);\n        }\n      },\n    },\n    showAffinityTimeout() {\n      return (\n        this.value.spec.sessionAffinity === 'ClientIP' &&\n        !isEmpty(this.value.spec.sessionAffinityConfig)\n      );\n    },\n\n    hasClusterIp() {\n      return (\n        this.checkTypeIs('ClusterIP') ||\n        this.checkTypeIs('LoadBalancer') ||\n        this.checkTypeIs('NodePort')\n      );\n    },\n\n    showHarvesterAddOnConfig() {\n      let cloudProvider;\n      const version = this.provisioningCluster?.kubernetesVersion;\n\n      if (this.provisioningCluster?.isRke2) {\n        const machineSelectorConfig = this.provisioningCluster?.spec?.rkeConfig?.machineSelectorConfig || {};\n        const agentConfig = (machineSelectorConfig[0] || {}).config;\n\n        cloudProvider = agentConfig?.['cloud-provider-name'];\n      } else if (this.provisioningCluster?.isRke1) {\n        const currentCluster = this.$store.getters['currentCluster'];\n\n        cloudProvider = currentCluster?.spec?.rancherKubernetesEngineConfig?.cloudProvider?.name;\n      }\n\n      return this.checkTypeIs('LoadBalancer') &&\n              cloudProvider === HARVESTER &&\n              isHarvesterSatisfiesVersion(version);\n    },\n\n    provisioningCluster() {\n      const out = this.$store.getters['management/all'](CAPI.RANCHER_CLUSTER).find((c) => c?.status?.clusterName === this.currentCluster.metadata.name);\n\n      return out;\n    },\n  },\n\n  watch: {\n    'value.metadata.namespace': 'updateMatchingPods',\n    'value.spec.selector':      'updateMatchingPods',\n    'value.spec.sessionAffinity'(val) {\n      if (val === 'ClientIP') {\n        this.value.spec.sessionAffinityConfig = { clientIP: { timeoutSeconds: null } };\n\n        // set it null and then set it with vue to make reactive.\n        this.$set(\n          this.value.spec.sessionAffinityConfig.clientIP,\n          'timeoutSeconds',\n          SESSION_STICKY_TIME_DEFAULT\n        );\n      } else if (\n        this.value?.spec?.sessionAffinityConfig?.clientIP?.timeoutSeconds\n      ) {\n        delete this.value.spec.sessionAffinityConfig.clientIP.timeoutSeconds;\n      }\n    },\n    'value.spec.type'(val) {\n      if (val === 'ExternalName') {\n        this.fvFormRuleSets = [{\n          path:           'spec.externalName',\n          rules:          ['required', 'externalName'],\n          translationKey: 'servicesPage.externalName.input.label'\n        }];\n      } else {\n        this.fvFormRuleSets = [{ path: 'spec.ports', rules: ['servicePort'] }];\n      }\n    }\n  },\n\n  created() {\n    this.registerBeforeHook(this.willSave, 'willSave');\n  },\n\n  mounted() {\n    const initialType = this.serviceType;\n\n    this.$set(this, 'serviceType', initialType);\n  },\n\n  methods: {\n    updateMatchingPods: throttle(function() {\n      const { value: { spec: { selector = { } } } } = this;\n      // See https://github.com/rancher/dashboard/issues/10417, all pods bad, need to replace local selector somehow\n      const allInNamespace = this.allPods.filter((pod) => pod.metadata.namespace === this.value?.metadata?.namespace);\n\n      if (isEmpty(selector)) {\n        this.matchingPods = {\n          matched: 0,\n          total:   allInNamespace.length,\n          none:    true,\n          sample:  null,\n        };\n      } else {\n        const match = matching(allInNamespace, selector);\n\n        this.matchingPods = {\n          matched: match.length,\n          total:   allInNamespace.length,\n          none:    match.length === 0,\n          sample:  match[0] ? match[0].nameDisplay : null,\n        };\n      }\n    }, 250, { leading: true }),\n\n    async loadPods() {\n      try {\n        const inStore = this.$store.getters['currentStore'](POD);\n\n        const hash = {\n          provClusters:     this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER }),\n          pods:             this.$store.dispatch(`${ inStore }/findAll`, { type: POD }),\n          harvesterConfigs: this.$store.dispatch(`management/findAll`, { type: HCI.HARVESTER_CONFIG }),\n        };\n\n        const res = await allHash(hash);\n\n        this.allPods = res.pods;\n        this.updateMatchingPods();\n      } catch (e) { }\n    },\n\n    checkTypeIs(typeIn) {\n      const { serviceType } = this;\n\n      if (serviceType === typeIn) {\n        return true;\n      }\n\n      return false;\n    },\n\n    updateServicePorts(servicePorts) {\n      this.$set(this.value.spec, 'ports', servicePorts);\n    },\n\n    targetPortsStrOrInt(targetPorts = []) {\n      const neu = clone(targetPorts);\n\n      neu.forEach((port, idx) => {\n        const targetPort = new Port(port?.targetPort);\n\n        if (targetPort.isInt) {\n          port.targetPort = targetPort.int;\n        }\n      });\n\n      return neu;\n    },\n\n    willSave() {\n      const { ports = [] } = this.value.spec;\n\n      if (ports && ports.length > 0) {\n        this.value.spec.ports = this.targetPortsStrOrInt(this.value.spec.ports);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :selected-subtype=\"serviceType\"\n    :subtypes=\"defaultServiceTypes\"\n    :validation-passed=\"fvFormIsValid\"\n    :errors=\"fvUnreportedValidationErrors\"\n    :apply-hooks=\"applyHooks\"\n    :description=\"t('servicesPage.serviceListDescription')\"\n    @error=\"(e) => (errors = e)\"\n    @finish=\"save\"\n    @cancel=\"done\"\n    @select-type=\"(st) => (serviceType = st)\"\n  >\n    <NameNsDescription\n      v-if=\"!isView\"\n      :value=\"value\"\n      :mode=\"mode\"\n      :rules=\"{ name: fvGetAndReportPathRules('metadata.name'), namespace: [], description: [] }\"\n    />\n\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        v-if=\"checkTypeIs('ExternalName')\"\n        name=\"define-external-name\"\n        :label=\"t('servicesPage.externalName.define')\"\n        :tooltip=\"t('servicesPage.externalName.helpText')\"\n        :error=\"tabErrors.externalName\"\n      >\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <span v-if=\"isView\">{{ value.spec.externalName }}</span>\n            <LabeledInput\n              v-else\n              ref=\"external-name\"\n              v-model.number=\"value.spec.externalName\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.externalName.input.label')\"\n              :placeholder=\"t('servicesPage.externalName.placeholder')\"\n              type=\"text\"\n              :rules=\"fvGetAndReportPathRules('spec.externalName')\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-else\n        name=\"define-service-ports\"\n        :label=\"t('servicesPage.ips.define')\"\n        :weight=\"10\"\n        :error=\"tabErrors.servicePorts\"\n      >\n        <ServicePorts\n          v-model=\"value.spec.ports\"\n          class=\"col span-12\"\n          :mode=\"mode\"\n          :spec-type=\"serviceType\"\n          :rules=\"fvGetAndReportPathRules('spec.ports')\"\n          @input=\"updateServicePorts\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"!checkTypeIs('ExternalName')\"\n        name=\"selectors\"\n        :label=\"t('servicesPage.selectors.label')\"\n      >\n        <p>{{ t('servicesPage.selectors.matchingPods.description') }}</p>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <Banner :color=\"(matchingPods.none ? 'warning' : 'success')\">\n              <span v-clean-html=\"t('servicesPage.selectors.matchingPods.matchesSome', matchingPods)\" />\n            </Banner>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <KeyValue\n              key=\"selectors\"\n              v-model=\"value.spec.selector\"\n              :mode=\"mode\"\n              :initial-empty-row=\"true\"\n              :protip=\"false\"\n              @input=\"(e) => $set(value.spec, 'selector', e)\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        name=\"ips\"\n        :label=\"t('servicesPage.ips.label')\"\n        :tooltip=\"t('servicesPage.ips.external.protip')\"\n      >\n        <div\n          v-if=\"hasClusterIp\"\n          class=\"row mb-20\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.spec.clusterIP\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.ips.input.label')\"\n              :placeholder=\"t('servicesPage.ips.input.placeholder')\"\n              :tooltip-key=\"\n                hasClusterIp ? 'servicesPage.ips.clusterIpHelpText' : null\n              \"\n              @input=\"(e) => $set(value.spec, 'clusterIP', e)\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"checkTypeIs('LoadBalancer')\"\n          class=\"row mb-20\"\n        >\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.spec.loadBalancerIP\"\n              :mode=\"mode\"\n              :label=\"t('servicesPage.ips.loadBalancerIp.label')\"\n              :placeholder=\"t('servicesPage.ips.loadBalancerIp.placeholder')\"\n              :tooltip-key=\"\n                hasClusterIp ? 'servicesPage.ips.loadBalancerIp.helpText' : null\n              \"\n              @input=\"(e) => $set(value.spec, 'loadBalancerIP', e)\"\n            />\n          </div>\n        </div>\n        <div class=\"row mb-20\">\n          <div class=\"col span-7\">\n            <ArrayList\n              key=\"clusterExternalIpAddresses\"\n              v-model=\"value.spec.externalIPs\"\n              :title=\"hasClusterIp ? t('servicesPage.ips.external.label') : ''\"\n              :value-placeholder=\"t('servicesPage.ips.external.placeholder')\"\n              :mode=\"mode\"\n              :protip=\"false\"\n              @input=\"(e) => $set(value.spec, 'externalIPs', e)\"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"showHarvesterAddOnConfig\"\n        name=\"add-on-config\"\n        :label=\"t('servicesPage.harvester.title')\"\n        :weight=\"-1\"\n      >\n        <HarvesterServiceAddOnConfig\n          :mode=\"mode\"\n          :value=\"value\"\n          :register-before-hook=\"registerBeforeHook\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"!checkTypeIs('ExternalName') && !checkTypeIs('Headless')\"\n        name=\"session-affinity\"\n        :label=\"t('servicesPage.affinity.label')\"\n        :tooltip=\"t('servicesPage.affinity.helpText')\"\n      >\n        <div class=\"row session-affinity\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"value.spec.sessionAffinity\"\n              name=\"sessionAffinity\"\n              class=\"enforcement-action\"\n              :options=\"sessionAffinityActionOptions\"\n              :labels=\"sessionAffinityActionLabels\"\n              :mode=\"mode\"\n            />\n          </div>\n          <div\n            v-if=\"showAffinityTimeout\"\n            class=\"col span-6\"\n          >\n            <UnitInput\n              v-model=\"value.spec.sessionAffinityConfig.clientIP.timeoutSeconds\"\n              :suffix=\"\n                t('suffix.seconds', {\n                  count:\n                    value.spec.sessionAffinityConfig.clientIP.timeoutSeconds,\n                })\n              \"\n              :label=\"t('servicesPage.affinity.timeout.label')\"\n              :placeholder=\"t('servicesPage.affinity.timeout.placeholder')\"\n              @input=\"\n                (e) =>\n                  $set(\n                    value.spec.sessionAffinityConfig.clientIP,\n                    'timeoutSeconds',\n                    e\n                  )\n              \"\n            />\n          </div>\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"!isView\"\n        name=\"labels-and-annotations\"\n        :label=\"t('servicesPage.labelsAnnotations.label', {}, true)\"\n        :weight=\"-2\"\n      >\n        <Labels\n          :default-container-class=\"'labels-and-annotations-container'\"\n          :value=\"value\"\n          :mode=\"mode\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n\n<style lang=\"scss\">\n</style>\n"]}]}