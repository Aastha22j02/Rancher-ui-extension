{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/nav/Type.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/components/nav/Type.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBGYXZvcml0ZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9uYXYvRmF2b3JpdGUnOwppbXBvcnQgeyBUWVBFX01PREVTIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3R5cGUtbWFwJzsKCmNvbnN0IHNob3dGYXZvcml0ZXNGb3IgPSBbVFlQRV9NT0RFUy5GQVZPUklURSwgVFlQRV9NT0RFUy5VU0VEXTsKCmV4cG9ydCBkZWZhdWx0IHsKCiAgY29tcG9uZW50czogeyBGYXZvcml0ZSB9LAoKICBwcm9wczogewogICAgdHlwZTogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKCiAgICBpc1Jvb3Q6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIGRlcHRoOiB7CiAgICAgIHR5cGU6ICAgIE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5lYXI6ICAgICBmYWxzZSwKICAgICAgb3ZlcjogICAgIGZhbHNlLAogICAgICBtZW51UGF0aDogdGhpcy50eXBlLnJvdXRlID8gdGhpcy4kcm91dGVyLnJlc29sdmUodGhpcy50eXBlLnJvdXRlKT8ucm91dGU/LnBhdGggOiB1bmRlZmluZWQsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBpc0N1cnJlbnQoKSB7CiAgICAgIC8vIFRoaXMgaXMgcmVxdWlyZWQgdG8gYXZvaWQgc2NlbmFyaW9zIHdoZXJlIGZyYWdtZW50cyBicmVhayB2dWUgcm91dGVycyBsb2NhdGlvbiBtYXRjaGluZwogICAgICAvLyBGb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZyBmYWlscwogICAgICAvLyBDdXJydWVudCBQYXRoIC9jL2MtbS1oenFmNHRxdC9leHBsb3Jlci9tZW1iZXJzI3Byb2plY3QtbWVtYmVyc2hpcAogICAgICAvLyBNZW51IFBhdGggL2MvYy1tLWh6cWY0dHF0L2V4cGxvcmVyL21lbWJlcnMKICAgICAgLy8gdnVlLXJvdXRlciBleGFjdC1wYXRoPSJ0cnVlIiBmaXhlcyB0aGlzIChodHRwczovL3YzLnJvdXRlci52dWVqcy5vcmcvYXBpLyNleGFjdC1wYXRoKSwKICAgICAgLy8gYnV0IGZhaWxzIHdoZW4gdGhlIHRoZSBjdXJyZW50IHBhdGggaXMgYSBjaGlsZCAoZm9yIGluc3RhbmNlIGEgcmVzb3VyY2UgZGV0YWlsIHBhZ2UpCgogICAgICAvLyBTY2VuYXJpb3MgdG8gY29uc2lkZXIKICAgICAgLy8gLSBGcmFnZW1lbnQgd29ybGQKICAgICAgLy8gICBDdXJydWVudCBQYXRoIC9jL2MtbS1oenFmNHRxdC9leHBsb3Jlci9tZW1iZXJzI3Byb2plY3QtbWVtYmVyc2hpcAogICAgICAvLyAgIE1lbnUgUGF0aCAvYy9jLW0taHpxZjR0cXQvZXhwbG9yZXIvbWVtYmVycwogICAgICAvLyAtIFNpbWlsYXIgY3VycmVudCBwYXRocwogICAgICAvLyAgIC9jL2MtbS1oenFmNHRxdC9mbGVldC9mbGVldC5jYXR0bGUuaW8uYnVuZGxlbmFtZXNwYWNlbWFwcGluZwogICAgICAvLyAgIC9jL2MtbS1oenFmNHRxdC9mbGVldC9mbGVldC5jYXR0bGUuaW8uYnVuZGxlCiAgICAgIC8vIC0gT3RoZXIgbWVudSBpdGVtcyB0aGF0IGFwcGVhciBpbiBjdXJyZW50IG1lbnUgaXRlbQogICAgICAvLyAgIC9jL2MtbS1oenFmNHRxdC9mbGVldAogICAgICAvLyAgIC9jL2MtbS1oenFmNHRxdC9mbGVldC9tYW5hZ2VtZW50LmNhdHRsZS5pby5mbGVldHdvcmtzcGFjZQoKICAgICAgLy8gSWYgdGhlcmUncyBubyBoYXNoIHRoZSBuLWxpbmsgd2lsbCBkZXRlcm1pbmUgaXQncyBsaW5rQWN0aXZlQ2xhc3MgY29ycmVjdGx5LCBzbyBhdm9pZCB0aGlzIGZhZmYKICAgICAgY29uc3QgaW52YWxpZEhhc2ggPSAhdGhpcy4kcm91dGUuaGFzaDsKICAgICAgLy8gTGV0cyBiZSBzdXBlciBzYWZlCiAgICAgIGNvbnN0IGludmFsaWRQcm9wcyA9ICF0aGlzLm1lbnVQYXRoIHx8ICF0aGlzLiRyb3V0ZS5wYXRoOwoKICAgICAgaWYgKGludmFsaWRIYXNoIHx8IGludmFsaWRQcm9wcykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgLy8gV2UncmUga2luZCBvZiwgYnV0IGluIGEgZml4aW5nIHdheSwgY29weWluZyBuLWxpbmsgLS0+IHZ1ZS1yb3V0ZXIgbGluayBzZWUgdnVlLXJvdXRlci9zcmMvY29tcG9uZW50cy9saW5rLmpzICYgdnVlLXJvdXRlci9zcmMvdXRpbC9yb3V0ZS5qcwogICAgICAvLyBXZSdyZSBvbmx5IGdvaW5nIHRvIGNvbXBhcmUgdGhlIHBhdGggYW5kIGlnbm9yZSBxdWVyeSBhbmQgZnJhZ21lbnQKCiAgICAgIGlmICh0aGlzLnR5cGUuZXhhY3QpIHsKICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aCA9PT0gdGhpcy5tZW51UGF0aDsKICAgICAgfQoKICAgICAgY29uc3QgY3VycmVudFBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoLnNwbGl0KCcvJyk7CiAgICAgIGNvbnN0IG1lbnVQYXRoID0gdGhpcy5tZW51UGF0aC5zcGxpdCgnLycpOwoKICAgICAgaWYgKG1lbnVQYXRoLmxlbmd0aCA+IGN1cnJlbnRQYXRoLmxlbmd0aCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51UGF0aC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChtZW51UGF0aFtpXSAhPT0gY3VycmVudFBhdGhbaV0pIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKCiAgICBzaG93RmF2b3JpdGUoKSB7CiAgICAgIHJldHVybiAoIHRoaXMudHlwZS5tb2RlICYmIHRoaXMubmVhciAmJiBzaG93RmF2b3JpdGVzRm9yLmluY2x1ZGVzKHRoaXMudHlwZS5tb2RlKSApOwogICAgfSwKCiAgICBzaG93Q291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvdW50ICE9PSB1bmRlZmluZWQ7CiAgICB9LAoKICAgIG5hbWVzcGFjZUljb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnR5cGUubmFtZXNwYWNlZDsKICAgIH0sCgogICAgY291bnQoKSB7CiAgICAgIGlmICh0aGlzLnR5cGUuY291bnQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLnR5cGUuY291bnQ7CiAgICAgIH0KCiAgICAgIGNvbnN0IGluU3RvcmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXSh0aGlzLnR5cGUubmFtZSk7CgogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHsgaW5TdG9yZSB9L2NvdW50YF0oeyBuYW1lOiB0aGlzLnR5cGUubmFtZSB9KTsKICAgIH0KCiAgfSwKCiAgbWV0aG9kczogewogICAgc2V0TmVhcih2YWwpIHsKICAgICAgdGhpcy5uZWFyID0gdmFsOwogICAgfSwKCiAgICBzZXRPdmVyKHZhbCkgewogICAgICB0aGlzLm92ZXIgPSB2YWw7CiAgICB9LAoKICAgIHJlbW92ZUZhdm9yaXRlKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndHlwZS1tYXAvcmVtb3ZlRmF2b3JpdGUnLCB0aGlzLnR5cGUubmFtZSk7CiAgICB9LAoKICAgIHNlbGVjdFR5cGUoKSB7CiAgICAgIC8vIFByZXZlbnQgaXNzdWVzIGlmIGN1c3RvbSBOYXZMaW5rIGlzIHVzZWQgIzUwNDcKICAgICAgaWYgKHRoaXMudHlwZT8ucm91dGUpIHsKICAgICAgICBjb25zdCB0eXBlUGF0aCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHRoaXMudHlwZS5yb3V0ZSk/LnJvdXRlPy5mdWxsUGF0aDsKCiAgICAgICAgaWYgKHR5cGVQYXRoICE9PSB0aGlzLiRyb3V0ZS5mdWxsUGF0aCkgewogICAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0ZWQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Type.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Type.vue","sourceRoot":"node_modules/@rancher/shell/components/nav","sourcesContent":["<script>\nimport Favorite from '@shell/components/nav/Favorite';\nimport { TYPE_MODES } from '@shell/store/type-map';\n\nconst showFavoritesFor = [TYPE_MODES.FAVORITE, TYPE_MODES.USED];\n\nexport default {\n\n  components: { Favorite },\n\n  props: {\n    type: {\n      type:     Object,\n      required: true\n    },\n\n    isRoot: {\n      type:    Boolean,\n      default: false,\n    },\n\n    depth: {\n      type:    Number,\n      default: 0,\n    },\n  },\n\n  data() {\n    return {\n      near:     false,\n      over:     false,\n      menuPath: this.type.route ? this.$router.resolve(this.type.route)?.route?.path : undefined,\n    };\n  },\n\n  computed: {\n    isCurrent() {\n      // This is required to avoid scenarios where fragments break vue routers location matching\n      // For example, the following fails\n      // Curruent Path /c/c-m-hzqf4tqt/explorer/members#project-membership\n      // Menu Path /c/c-m-hzqf4tqt/explorer/members\n      // vue-router exact-path=\"true\" fixes this (https://v3.router.vuejs.org/api/#exact-path),\n      // but fails when the the current path is a child (for instance a resource detail page)\n\n      // Scenarios to consider\n      // - Fragement world\n      //   Curruent Path /c/c-m-hzqf4tqt/explorer/members#project-membership\n      //   Menu Path /c/c-m-hzqf4tqt/explorer/members\n      // - Similar current paths\n      //   /c/c-m-hzqf4tqt/fleet/fleet.cattle.io.bundlenamespacemapping\n      //   /c/c-m-hzqf4tqt/fleet/fleet.cattle.io.bundle\n      // - Other menu items that appear in current menu item\n      //   /c/c-m-hzqf4tqt/fleet\n      //   /c/c-m-hzqf4tqt/fleet/management.cattle.io.fleetworkspace\n\n      // If there's no hash the n-link will determine it's linkActiveClass correctly, so avoid this faff\n      const invalidHash = !this.$route.hash;\n      // Lets be super safe\n      const invalidProps = !this.menuPath || !this.$route.path;\n\n      if (invalidHash || invalidProps) {\n        return false;\n      }\n\n      // We're kind of, but in a fixing way, copying n-link --> vue-router link see vue-router/src/components/link.js & vue-router/src/util/route.js\n      // We're only going to compare the path and ignore query and fragment\n\n      if (this.type.exact) {\n        return this.$route.path === this.menuPath;\n      }\n\n      const currentPath = this.$route.path.split('/');\n      const menuPath = this.menuPath.split('/');\n\n      if (menuPath.length > currentPath.length) {\n        return false;\n      }\n\n      for (let i = 0; i < menuPath.length; i++) {\n        if (menuPath[i] !== currentPath[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    showFavorite() {\n      return ( this.type.mode && this.near && showFavoritesFor.includes(this.type.mode) );\n    },\n\n    showCount() {\n      return this.count !== undefined;\n    },\n\n    namespaceIcon() {\n      return this.type.namespaced;\n    },\n\n    count() {\n      if (this.type.count !== undefined) {\n        return this.type.count;\n      }\n\n      const inStore = this.$store.getters['currentStore'](this.type.name);\n\n      return this.$store.getters[`${ inStore }/count`]({ name: this.type.name });\n    }\n\n  },\n\n  methods: {\n    setNear(val) {\n      this.near = val;\n    },\n\n    setOver(val) {\n      this.over = val;\n    },\n\n    removeFavorite() {\n      this.$store.dispatch('type-map/removeFavorite', this.type.name);\n    },\n\n    selectType() {\n      // Prevent issues if custom NavLink is used #5047\n      if (this.type?.route) {\n        const typePath = this.$router.resolve(this.type.route)?.route?.fullPath;\n\n        if (typePath !== this.$route.fullPath) {\n          this.$emit('selected');\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <n-link\n    v-if=\"type.route\"\n    :key=\"type.name\"\n    :to=\"type.route\"\n    tag=\"li\"\n    class=\"child nav-type\"\n    :class=\"{'root': isRoot, [`depth-${depth}`]: true, 'router-link-active': isCurrent}\"\n    :exact=\"type.exact\"\n  >\n    <a\n      @click=\"selectType\"\n      @mouseenter=\"setNear(true)\"\n      @mouseleave=\"setNear(false)\"\n    >\n      <span\n        v-if=\"type.labelKey\"\n        class=\"label\"\n      ><t :k=\"type.labelKey\" /></span>\n      <span\n        v-else\n        v-clean-html=\"type.labelDisplay || type.label\"\n        class=\"label\"\n        :class=\"{'no-icon': !type.icon}\"\n      />\n      <span\n        v-if=\"showFavorite || showCount\"\n        class=\"count\"\n      >\n        <Favorite\n          v-if=\"showFavorite\"\n          :resource=\"type.name\"\n        />\n        <i\n          v-if=\"namespaceIcon\"\n          class=\"icon icon-namespace namespaced\"\n        />\n        {{ count }}\n      </span>\n    </a>\n  </n-link>\n  <li\n    v-else-if=\"type.link\"\n    class=\"child nav-type\"\n  >\n    <a\n      :href=\"type.link\"\n      :target=\"type.target\"\n      rel=\"noopener noreferrer nofollow\"\n      @click=\"selectType\"\n      @mouseenter=\"setNear(true)\"\n      @mouseleave=\"setNear(false)\"\n    >\n      <span class=\"label\">{{ type.label }}&nbsp;<i class=\"icon icon-external-link\" /></span>\n    </a>\n  </li>\n  <li v-else>\n    {{ type }}?\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  .namespaced {\n    margin-right: 4px;\n  }\n\n  .child {\n    margin: 0 var(--outline) 0 0;\n\n    .label {\n      align-items: center;\n      grid-area: label;\n      overflow: hidden;\n      text-overflow: ellipsis;\n\n      &:not(.nav-type) &.no-icon {\n        padding-left: 3px;\n      }\n\n      ::v-deep .highlight {\n        background: var(--diff-ins-bg);\n        color: var(--body-text);\n        padding: 2px;\n      }\n\n      ::v-deep .icon {\n        position: relative;\n        color: var(--muted);\n      }\n    }\n\n    A {\n      display: grid;\n      grid-template-areas: \"label count\";\n      grid-template-columns: auto auto;\n      grid-column-gap: 5px;\n      font-size: 14px;\n      line-height: 24px;\n      padding: 7.5px 7px 7.5px 10px;\n      margin: 0 0 0 -3px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      color: var(--body-text);\n      height: 33px;\n\n      &:hover {\n        background: var(--nav-hover);\n        text-decoration: none;\n\n        ::v-deep .icon {\n          color: var(--body-text);\n        }\n      }\n    }\n\n    .favorite {\n      grid-area: favorite;\n      font-size: 12px;\n      position: relative;\n      vertical-align: middle;\n      margin-right: 4px;\n    }\n\n    .count {\n      font-size: 12px;\n      justify-items: center;\n      padding-right: 4px;\n      display: flex;\n      align-items: center;\n    }\n\n    &.nav-type:not(.depth-0) {\n      A {\n        padding-left: 16px;\n      }\n\n      ::v-deep .label I {\n        padding-right: 2px;\n      }\n    }\n\n    &.nav-type:is(.depth-1) {\n      A {\n        font-size: 13px;\n        padding-left: 23px;\n      }\n    }\n\n    &.nav-type:not(.depth-0):not(.depth-1) {\n      A {\n        padding-left: 14px;\n      }\n    }\n  }\n\n</style>\n"]}]}