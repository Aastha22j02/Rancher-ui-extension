{"remainingRequest":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/AddOnConfig.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs/AddOnConfig.vue","mtime":1725271280091},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/susecon-2024-ext-demo/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CgppbXBvcnQgUXVlc3Rpb25zIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1F1ZXN0aW9ucyc7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBjYW1lbFRvVGl0bGUgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgX0VESVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyLAogICAgUXVlc3Rpb25zLAogICAgWWFtbEVkaXRvcgogIH0sCgogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgdmVyc2lvbkluZm86IHsKICAgICAgdHlwZTogICAgIE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAoKICAgIGFkZG9uVmVyc2lvbnM6IHsKICAgICAgdHlwZTogICAgIEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICBudWxsCiAgICB9LAoKICAgIGFkZG9uc1JldjogewogICAgICB0eXBlOiAgICAgTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICB1c2VyQ2hhcnRWYWx1ZXNUZW1wOiB7CiAgICAgIHR5cGU6ICAgICBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIGluaXRZYW1sRWRpdG9yOiB7CiAgICAgIHR5cGU6ICAgICBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9CgogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBhZGRpdGlvbmFsTWFuaWZlc3Q6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnNwZWMucmtlQ29uZmlnLmFkZGl0aW9uYWxNYW5pZmVzdDsKICAgICAgfSwKICAgICAgc2V0KG5ldSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2FkZGl0aW9uYWwtbWFuaWZlc3QtY2hhbmdlZCcsIG5ldSk7CiAgICAgIH0KICAgIH0sCiAgICBpc0VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9FRElUOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CgogICAgbGFiZWxGb3JBZGRvbihuYW1lKSB7CiAgICAgIGNvbnN0IGZhbGxiYWNrID0gYCR7IGNhbWVsVG9UaXRsZShuYW1lLnJlcGxhY2UoL14ocmtlfHJrZTJ8cmFuY2hlciktLywgJycpKSB9IENvbmZpZ3VyYXRpb25gOwoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oYGNsdXN0ZXIuYWRkb25DaGFydC4iJHsgbmFtZSB9ImAsIG51bGwsIGZhbGxiYWNrKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["AddOnConfig.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"AddOnConfig.vue","sourceRoot":"node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/tabs","sourcesContent":["<script>\nimport { Banner } from '@components/Banner';\n\nimport Questions from '@shell/components/Questions';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { camelToTitle } from '@shell/utils/string';\nimport { _EDIT } from '@shell/config/query-params';\n\nexport default {\n  components: {\n    Banner,\n    Questions,\n    YamlEditor\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    versionInfo: {\n      type:     Object,\n      required: true,\n    },\n\n    addonVersions: {\n      type:     Array,\n      required: false,\n      default:  null\n    },\n\n    addonsRev: {\n      type:     Number,\n      required: true,\n    },\n    userChartValuesTemp: {\n      type:     Object,\n      required: true,\n    },\n    initYamlEditor: {\n      type:     Function,\n      required: true,\n    }\n\n  },\n\n  computed: {\n    additionalManifest: {\n      get() {\n        return this.value.spec.rkeConfig.additionalManifest;\n      },\n      set(neu) {\n        this.$emit('additional-manifest-changed', neu);\n      }\n    },\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n  },\n\n  methods: {\n\n    labelForAddon(name) {\n      const fallback = `${ camelToTitle(name.replace(/^(rke|rke2|rancher)-/, '')) } Configuration`;\n\n      return this.$store.getters['i18n/withFallback'](`cluster.addonChart.\"${ name }\"`, null, fallback);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"isEdit\"\n      color=\"warning\"\n    >\n      {{ t('cluster.addOns.dependencyBanner') }}\n    </Banner>\n    <div\n      v-if=\"versionInfo && addonVersions.length\"\n      :key=\"addonsRev\"\n    >\n      <div\n        v-for=\"v in addonVersions\"\n        :key=\"v._key\"\n      >\n        <h3>{{ labelForAddon(v.name) }}</h3>\n        <Questions\n          v-if=\"versionInfo[v.name] && versionInfo[v.name].questions && v.name && userChartValuesTemp[v.name]\"\n          v-model=\"userChartValuesTemp[v.name]\"\n          :emit=\"true\"\n          in-store=\"management\"\n          :mode=\"mode\"\n          :tabbed=\"false\"\n          :source=\"versionInfo[v.name]\"\n          :target-namespace=\"value.metadata.namespace\"\n          @updated=\"$emit('update-questions', v.name)\"\n        />\n        <YamlEditor\n          v-else\n          ref=\"yaml-values\"\n          :value=\"initYamlEditor(v.name)\"\n          :scrolling=\"true\"\n          :as-object=\"true\"\n          :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n          :hide-preview-buttons=\"true\"\n          @input=\"data => $emit('update-values', v.name, data)\"\n        />\n        <div class=\"spacer\" />\n      </div>\n    </div>\n\n    <div>\n      <h3>\n        {{ t('cluster.addOns.additionalManifest.title') }}\n        <i\n          v-clean-tooltip=\"t('cluster.addOns.additionalManifest.tooltip')\"\n          class=\"icon icon-info\"\n        />\n      </h3>\n      <YamlEditor\n        ref=\"yaml-additional\"\n        v-model=\"additionalManifest\"\n        :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n        initial-yaml-values=\"# Additional Manifest YAML\"\n        class=\"yaml-editor\"\n      />\n    </div>\n  </div>\n</template>\n"]}]}