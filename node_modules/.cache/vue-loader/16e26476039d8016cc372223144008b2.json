{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/machine-config/vmwarevsphere.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/machine-config/vmwarevsphere.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSwgc3RyaW5naWZ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IFVuaXRJbnB1dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1VuaXRJbnB1dCc7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAY29tcG9uZW50cy9DYXJkJzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgS2V5VmFsdWUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9LZXlWYWx1ZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEFycmF5TGlzdFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdFNlbGVjdCc7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBnZXQsIHNldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBpbnRlZ2VyU3RyaW5nLCBrZXlWYWx1ZVN0cmluZ3MgfSBmcm9tICdAc2hlbGwvdXRpbHMvY29tcHV0ZWQnOwppbXBvcnQgeyBfQ1JFQVRFLCBfRURJVCwgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CgpleHBvcnQgY29uc3QgU0VOVElORUwgPSAnX19TRU5USU5FTF9fJzsKY29uc3QgTlVMTEFCTEVfRU1QVFlfRklFTERTID0gWydjb250ZW50TGlicmFyeScsICdmb2xkZXInLCAnaG9zdHN5c3RlbSddOwpjb25zdCBWQVBQX01PREUgPSB7CiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsCiAgQVVUTzogICAgICdhdXRvJywKICBNQU5VQUw6ICAgJ21hbnVhbCcKfTsKY29uc3QgQ1JFQVRJT05fTUVUSE9EID0gewogIFRFTVBMQVRFOiAndGVtcGxhdGUnLAogIExJQlJBUlk6ICAnbGlicmFyeScsCiAgVk06ICAgICAgICd2bScsCiAgTEVHQUNZOiAgICdsZWdhY3knCn07CmNvbnN0IEJPT1RfMl9ET0NLRVJfVVJMID0gJ2h0dHBzOi8vcmVsZWFzZXMucmFuY2hlci5jb20vb3MvbGF0ZXN0L3JhbmNoZXJvcy12bXdhcmUuaXNvJzsKY29uc3QgSU5JVElBTF9WQVBQX09QVElPTlMgPSB7CiAgdmFwcElwcHJvdG9jb2w6ICAgICAgICAgJycsCiAgdmFwcElwYWxsb2NhdGlvbnBvbGljeTogJycsCiAgdmFwcFRyYW5zcG9ydDogICAgICAgICAgJycsCiAgdmFwcFByb3BlcnR5OiAgICAgICAgICAgW10KfTsKY29uc3QgT1NfT1BUSU9OUyA9IFsKICAnbGludXgnLAogICd3aW5kb3dzJwpdOwoKZXhwb3J0IGNvbnN0IERFRkFVTFRfVkFMVUVTID0gewogIGNwdUNvdW50OiAgICAgICAgICAgICAgICAnMicsCiAgZGlza1NpemU6ICAgICAgICAgICAgICAgICcyMDAwMCcsCiAgbWVtb3J5U2l6ZTogICAgICAgICAgICAgICc0MDk2JywKICBob3N0c3lzdGVtOiAgICAgICAgICAgICAgJycsCiAgY2xvdWRDb25maWc6ICAgICAgICAgICAgICcjY2xvdWQtY29uZmlnXG5cbicsCiAgZ3JhY2VmdWxTaHV0ZG93blRpbWVvdXQ6ICcwJywKICBjZmdwYXJhbTogICAgICAgICAgICAgICAgWydkaXNrLmVuYWJsZVVVSUQ9VFJVRSddLAogIG9zOiAgICAgICAgICAgICAgICAgICAgICBPU19PUFRJT05TWzBdCn07Cgpjb25zdCBnZXREZWZhdWx0VmFwcE9wdGlvbnMgPSAobmV0d29ya3MpID0+IHsKICByZXR1cm4gewogICAgdmFwcElwcHJvdG9jb2w6ICAgICAgICAgJ0lQdjQnLAogICAgdmFwcElwYWxsb2NhdGlvbnBvbGljeTogJ2ZpeGVkQWxsb2NhdGVkJywKICAgIHZhcHBUcmFuc3BvcnQ6ICAgICAgICAgICdjb20udm13YXJlLmd1ZXN0SW5mbycsCiAgICB2YXBwUHJvcGVydHk6ICAgICAgICAgICBuZXR3b3Jrc1RvVmFwcFByb3BlcnRpZXMobmV0d29ya3MpCiAgfTsKfTsKCmNvbnN0IHN0cmluZ3NUb1BhcmFtcyA9IChwYXJhbXMsIHN0cikgPT4gewogIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoJz0nKTsKCiAgaWYgKCBpbmRleCA+IC0xICkgewogICAgcGFyYW1zLnB1c2goewogICAgICBrZXk6ICAgc3RyLnNsaWNlKDAsIGluZGV4KSwKICAgICAgdmFsdWU6IHN0ci5zbGljZShpbmRleCArIDEpLAogICAgfSk7CiAgfQoKICByZXR1cm4gcGFyYW1zOwp9OwoKY29uc3QgbmV0d29ya3NUb1ZhcHBQcm9wZXJ0aWVzID0gKG5ldHdvcmtzKSA9PiB7CiAgaWYgKG5ldHdvcmtzLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIFtdOwogIH0KCiAgcmV0dXJuIG5ldHdvcmtzLnJlZHVjZShuZXR3b3JrVG9WYXBwUHJvcGVydGllcywgWwogICAgYGd1ZXN0aW5mby5kbnMuc2VydmVycz1cJHtkbnM6JHsgbmV0d29ya3NbMF0gfX1gLAogICAgYGd1ZXN0aW5mby5kbnMuZG9tYWlucz1cJHtzZWFyY2hQYXRoOiR7IG5ldHdvcmtzWzBdIH19YAogIF0pOwp9OwoKY29uc3QgbmV0d29ya1RvVmFwcFByb3BlcnRpZXMgPSAocHJvcHMsIG5ldHdvcmssIGkpID0+IHsKICBjb25zdCBuID0gaS50b1N0cmluZygpOwoKICBwcm9wcy5wdXNoKAogICAgYGd1ZXN0aW5mby5pbnRlcmZhY2UuJHsgbiB9LmlwLjAuYWRkcmVzcz1pcDokeyBuZXR3b3JrIH1gLAogICAgYGd1ZXN0aW5mby5pbnRlcmZhY2UuJHsgbiB9LmlwLjAubmV0bWFzaz1cJHtuZXRtYXNrOiR7IG5ldHdvcmsgfX1gLAogICAgYGd1ZXN0aW5mby5pbnRlcmZhY2UuJHsgbiB9LnJvdXRlLjAuZ2F0ZXdheT1cJHtnYXRld2F5OiR7IG5ldHdvcmsgfX1gCiAgKTsKCiAgcmV0dXJuIHByb3BzOwp9OwoKY29uc3QgZ2V0SW5pdGlhbFZhcHBNb2RlID0gKGMpID0+IHsKICBjb25zdCB2YXBwUHJvcGVydHkgPSBjLnZhcHBQcm9wZXJ0eSB8fCBbXTsKCiAgaWYgKAogICAgIWMudmFwcElwcHJvdG9jb2wgJiYKICAgICFjLnZhcHBJcGFsbG9jYXRpb25wb2xpY3kgJiYKICAgICFjLnZhcHBUcmFuc3BvcnQgJiYKICAgIHZhcHBQcm9wZXJ0eS5sZW5ndGggPT09IDAKICApIHsKICAgIHJldHVybiBWQVBQX01PREUuRElTQUJMRUQ7CiAgfQoKICBjb25zdCBkID0gZ2V0RGVmYXVsdFZhcHBPcHRpb25zKGMubmV0d29yayB8fCBbXSk7CgogIGlmICgKICAgIGMudmFwcElwcHJvdG9jb2wgPT09IGQudmFwcElwcHJvdG9jb2wgJiYKICAgIGMudmFwcElwYWxsb2NhdGlvbnBvbGljeSA9PT0gZC52YXBwSXBhbGxvY2F0aW9ucG9saWN5ICYmCiAgICBjLnZhcHBUcmFuc3BvcnQgPT09IGQudmFwcFRyYW5zcG9ydCAmJgogICAgdmFwcFByb3BlcnR5Lmxlbmd0aCA9PT0gZC52YXBwUHJvcGVydHkubGVuZ3RoICYmCiAgICB2YXBwUHJvcGVydHkuam9pbigpID09PSBkLnZhcHBQcm9wZXJ0eS5qb2luKCkKICApIHsKICAgIHJldHVybiBWQVBQX01PREUuQVVUTzsKICB9CgogIHJldHVybiBWQVBQX01PREUuTUFOVUFMOwp9OwoKLyoqCiAqIHBhc3NpbmcgJ2RhdGFjZW50ZXInIHlpZWxkcwogKgogKiB7CiAqICAgIGRhdGFjZW50ZXIoKSB7CiAqICAgICAgIHJldHVybiB0aGlzLmRhdGFjZW50ZXJSZXN1bHRzIHx8IFtdOwogKiAgICB9LAogKiAgICBkYXRhY2VudGVyTG9hZGluZygpIHsKICogICAgICAgcmV0dXJuIHRoaXMuZGF0YWNlbnRlckxvYWRpbmcgPT09IG51bGw7CiAqICAgIH0KICogfQogKi8KZnVuY3Rpb24gY3JlYXRlT3B0aW9uSGVscGVycyhuYW1lKSB7CiAgcmV0dXJuIHsKICAgIFtuYW1lXSgpIHsKICAgICAgcmV0dXJuIHRoaXNbYCR7IG5hbWUgfVJlc3VsdHNgXSB8fCBbXTsKICAgIH0sCiAgICBbYCR7IG5hbWUgfUxvYWRpbmdgXSgpIHsKICAgICAgcmV0dXJuIHRoaXNbYCR7IG5hbWUgfVJlc3VsdHNgXSA9PT0gbnVsbDsKICAgIH0KICB9Owp9Cgpjb25zdCBlcnJvckFjdGlvbnMgPSBPYmplY3QuZnJlZXplKHsKICBDUkVBVEU6ICdjcmVhdGUnLAogIERFTEVURTogJ2RlbGV0ZScsCn0pOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFycmF5TGlzdFNlbGVjdCwgQ2FyZCwgS2V5VmFsdWUsIExvYWRpbmcsIExhYmVsZWRJbnB1dCwgTGFiZWxlZFNlbGVjdCwgQmFubmVyLCBVbml0SW5wdXQsIFJhZGlvR3JvdXAsIFlhbWxFZGl0b3IKICB9LAoKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCgogIHByb3BzOiB7CiAgICBwb29sSWQ6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICBjcmVkZW50aWFsSWQ6IHsKICAgICAgdHlwZTogICAgIFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgcG9vbENyZWF0ZU1vZGU6IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICB9LAoKICBhc3luYyBmZXRjaCgpIHsKICAgIHRoaXMuZXJyb3JzID0gW107CgogICAgdHJ5IHsKICAgICAgY29uc3QgZGF0YWNlbnRlckFscmVhZHlTZXQgPSAhIXRoaXMudmFsdWUuZGF0YWNlbnRlcjsKCiAgICAgIGF3YWl0IHRoaXMubG9hZERhdGFDZW50ZXJzKCk7CgogICAgICBpZiAoZGF0YWNlbnRlckFscmVhZHlTZXQpIHsKICAgICAgICB0aGlzLmxvYWRBbGxEYXRhY2VudGVyUmVzb3VyY2VzKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5lcnJvcnMgPSBleGNlcHRpb25Ub0Vycm9yc0FycmF5KGUpOwogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICBjb25zdCB2QXBwT3B0aW9ucyA9IFsKICAgICAgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLnZBcHBPcHRpb25zLmRpc2FibGUnKSwKICAgICAgICB2YWx1ZTogVkFQUF9NT0RFLkRJU0FCTEVECiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS52QXBwT3B0aW9ucy5hdXRvJyksCiAgICAgICAgdmFsdWU6IFZBUFBfTU9ERS5BVVRPCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS52QXBwT3B0aW9ucy5tYW51YWwnKSwKICAgICAgICB2YWx1ZTogVkFQUF9NT0RFLk1BTlVBTAogICAgICB9LAogICAgXTsKCiAgICBjb25zdCBjcmVhdGlvbk1ldGhvZHMgPSBbCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS5jcmVhdGlvbk1ldGhvZHMudGVtcGxhdGUnKSwKICAgICAgICB2YWx1ZTogQ1JFQVRJT05fTUVUSE9ELlRFTVBMQVRFCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS5jcmVhdGlvbk1ldGhvZHMubGlicmFyeScpLAogICAgICAgIHZhbHVlOiBDUkVBVElPTl9NRVRIT0QuTElCUkFSWQogICAgICB9LAogICAgICB7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLnZzcGhlcmUuY3JlYXRpb25NZXRob2RzLnZtJyksCiAgICAgICAgdmFsdWU6IENSRUFUSU9OX01FVEhPRC5WTQogICAgICB9LAogICAgICB7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnY2x1c3Rlci5tYWNoaW5lQ29uZmlnLnZzcGhlcmUuY3JlYXRpb25NZXRob2RzLmxlZ2FjeScpLAogICAgICAgIHZhbHVlOiBDUkVBVElPTl9NRVRIT0QuTEVHQUNZCiAgICAgIH0sCiAgICBdOwoKICAgIGlmICgodGhpcy5tb2RlID09PSBfQ1JFQVRFIHx8IHRoaXMucG9vbENyZWF0ZU1vZGUpICYmICF0aGlzLnZhbHVlLmluaXR0ZWQpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMudmFsdWUsICdpbml0dGVkJywgeyB2YWx1ZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfSk7CgogICAgICBjb25zdCB7CiAgICAgICAgY3B1Q291bnQsCiAgICAgICAgZGlza1NpemUsCiAgICAgICAgbWVtb3J5U2l6ZSwKICAgICAgICBob3N0c3lzdGVtLAogICAgICAgIGNsb3VkQ29uZmlnLAogICAgICAgIGdyYWNlZnVsU2h1dGRvd25UaW1lb3V0LAogICAgICAgIGNmZ3BhcmFtLAogICAgICAgIG9zCiAgICAgIH0gPSBERUZBVUxUX1ZBTFVFUzsKCiAgICAgIHNldCh0aGlzLnZhbHVlLCAnY3JlYXRpb25UeXBlJywgY3JlYXRpb25NZXRob2RzWzBdLnZhbHVlKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdjcHVDb3VudCcsIGNwdUNvdW50KTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdkaXNrU2l6ZScsIGRpc2tTaXplKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdtZW1vcnlTaXplJywgbWVtb3J5U2l6ZSk7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAnaG9zdHN5c3RlbScsIGhvc3RzeXN0ZW0pOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ2dyYWNlZnVsU2h1dGRvd25UaW1lb3V0JywgZ3JhY2VmdWxTaHV0ZG93blRpbWVvdXQpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ2Nsb3VkQ29uZmlnJywgY2xvdWRDb25maWcpOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ2NmZ3BhcmFtJywgY2ZncGFyYW0pOwogICAgICBzZXQodGhpcy52YWx1ZSwgJ3ZhcHBQcm9wZXJ0eScsIHRoaXMudmFsdWUudmFwcFByb3BlcnR5KTsKICAgICAgc2V0KHRoaXMudmFsdWUsICdvcycsIG9zKTsKICAgICAgT2JqZWN0LmVudHJpZXMoSU5JVElBTF9WQVBQX09QVElPTlMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gewogICAgICAgIHNldCh0aGlzLnZhbHVlLCBrZXksIHZhbHVlKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaW5pdHRlZDogICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgY3JlZGVudGlhbDogICAgICAgICAgICAgICBudWxsLAogICAgICBjcmVhdGlvbk1ldGhvZHMsCiAgICAgIGRhdGFDZW50ZXJzUmVzdWx0czogICAgICAgbnVsbCwKICAgICAgcmVzb3VyY2VQb29sc1Jlc3VsdHM6ICAgICBudWxsLAogICAgICBkYXRhU3RvcmVzUmVzdWx0czogICAgICAgIG51bGwsCiAgICAgIGRhdGFTdG9yZUNsdXN0ZXJzUmVzdWx0czogbnVsbCwKICAgICAgZm9sZGVyc1Jlc3VsdHM6ICAgICAgICAgICBudWxsLAogICAgICBob3N0c1Jlc3VsdHM6ICAgICAgICAgICAgIG51bGwsCiAgICAgIHRlbXBsYXRlc1Jlc3VsdHM6ICAgICAgICAgbnVsbCwKICAgICAgY29udGVudExpYnJhcmllc1Jlc3VsdHM6ICBudWxsLAogICAgICBsaWJyYXJ5VGVtcGxhdGVzUmVzdWx0czogIG51bGwsCiAgICAgIHZpcnR1YWxNYWNoaW5lc1Jlc3VsdHM6ICAgbnVsbCwKICAgICAgc2hvd1RlbXBsYXRlc1Jlc3VsdHM6ICAgICBudWxsLAogICAgICB0YWdzUmVzdWx0czogICAgICAgICAgICAgIG51bGwsCiAgICAgIGF0dHJpYnV0ZUtleXNSZXN1bHRzOiAgICAgbnVsbCwKICAgICAgbmV0d29ya3NSZXN1bHRzOiAgICAgICAgICBudWxsLAogICAgICBoYXZlVGFnczogICAgICAgICAgICAgICAgIG51bGwsCiAgICAgIGhhdmVBdHRyaWJ1dGVzOiAgICAgICAgICAgbnVsbCwKICAgICAgaGF2ZVRlbXBsYXRlczogICAgICAgICAgICBudWxsLAogICAgICB2QXBwT3B0aW9ucywKICAgICAgdmFwcE1vZGU6ICAgICAgICAgICAgICAgICBnZXRJbml0aWFsVmFwcE1vZGUodGhpcy52YWx1ZSksCiAgICAgIG9zT3B0aW9uczogICAgICAgICAgICAgICAgT1NfT1BUSU9OUywKICAgICAgdmFsaWRhdGlvbkVycm9yczogICAgICAgICB7fSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ2RhdGFDZW50ZXJzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdyZXNvdXJjZVBvb2xzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdkYXRhU3RvcmVzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdkYXRhU3RvcmVDbHVzdGVycycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnZm9sZGVycycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnaG9zdHMnKSwKICAgIC4uLmNyZWF0ZU9wdGlvbkhlbHBlcnMoJ3RlbXBsYXRlcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnY29udGVudExpYnJhcmllcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygnbGlicmFyeVRlbXBsYXRlcycpLAogICAgLi4uY3JlYXRlT3B0aW9uSGVscGVycygndmlydHVhbE1hY2hpbmVzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdzaG93VGVtcGxhdGVzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCd0YWdzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCdhdHRyaWJ1dGVLZXlzJyksCiAgICAuLi5jcmVhdGVPcHRpb25IZWxwZXJzKCduZXR3b3JrcycpLAoKICAgIGlzRGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkIHx8IHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAoKICAgIHNob3dUZW1wbGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuY3JlYXRpb25UeXBlID09PSAndGVtcGxhdGUnOwogICAgfSwKCiAgICBzaG93Q29udGVudExpYnJhcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNyZWF0aW9uVHlwZSA9PT0gJ2xpYnJhcnknOwogICAgfSwKCiAgICBzaG93VmlydHVhbE1hY2hpbmVzKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5jcmVhdGlvblR5cGUgPT09ICd2bSc7CiAgICB9LAoKICAgIHNob3dJc28oKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNyZWF0aW9uVHlwZSA9PT0gJ2xlZ2FjeSc7CiAgICB9LAoKICAgIHNob3dNYW51YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhcHBNb2RlID09PSAnbWFudWFsJzsKICAgIH0sCgogICAgZmFpbGVkVG9Mb2FkVGVtcGxhdGVzKCkgewogICAgICByZXR1cm4gIXRoaXMudGVtcGxhdGVzTG9hZGluZyAmJiAhdGhpcy5oYXZlVGVtcGxhdGVzOwogICAgfSwKCiAgICB0ZW1wbGF0ZVN0YXR1cygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmFpbGVkVG9Mb2FkVGVtcGxhdGVzID8gJ2Vycm9yJyA6IG51bGw7CiAgICB9LAoKICAgIHRlbXBsYXRlVG9vbHRpcCgpIHsKICAgICAgY29uc3QgcmF3VGVtcGxhdGVWYWx1ZSA9IHRoaXMudmFsdWUuY2xvbmVGcm9tOwoKICAgICAgcmV0dXJuIHRoaXMuZmFpbGVkVG9Mb2FkVGVtcGxhdGVzID8gdGhpcy50KCdjbHVzdGVyLm1hY2hpbmVDb25maWcudnNwaGVyZS5pbnN0YW5jZU9wdGlvbnMudGVtcGxhdGUubm9uZScpIDogcmF3VGVtcGxhdGVWYWx1ZTsKICAgIH0sCgogICAgaG9zdDogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUuaG9zdHN5c3RlbSA9PT0gJycgPyBTRU5USU5FTCA6IHRoaXMudmFsdWUuaG9zdHN5c3RlbTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PT0gU0VOVElORUwgPyAnJyA6IHZhbHVlOwoKICAgICAgICBzZXQodGhpcy52YWx1ZSwgJ2hvc3RzeXN0ZW0nLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgY3VzdG9tQXR0cmlidXRlOiBrZXlWYWx1ZVN0cmluZ3MoJ3ZhbHVlLmN1c3RvbUF0dHJpYnV0ZScpLAogICAgdmFwcFByb3BlcnR5OiAgICBrZXlWYWx1ZVN0cmluZ3MoJ3ZhbHVlLnZhcHBQcm9wZXJ0eScpLAogICAgY2ZncGFyYW06ICAgICAgICBrZXlWYWx1ZVN0cmluZ3MoJ3ZhbHVlLmNmZ3BhcmFtJyksCgogICAgY3B1Q291bnQ6ICAgaW50ZWdlclN0cmluZygndmFsdWUuY3B1Q291bnQnKSwKICAgIG1lbW9yeVNpemU6IGludGVnZXJTdHJpbmcoJ3ZhbHVlLm1lbW9yeVNpemUnKSwKICAgIGRpc2tTaXplOiAgIGludGVnZXJTdHJpbmcoJ3ZhbHVlLmRpc2tTaXplJyksCgogICAgZ3JhY2VmdWxTaHV0ZG93blRpbWVvdXQ6IGludGVnZXJTdHJpbmcoJ3ZhbHVlLmdyYWNlZnVsU2h1dGRvd25UaW1lb3V0JyksCgogICAgbmV0d29yazogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUubmV0d29yayB8fCBbXTsKICAgICAgfSwKICAgICAgc2V0KG5ld1ZhbHVlKSB7CiAgICAgICAgc2V0KHRoaXMudmFsdWUsICduZXR3b3JrJywgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAoKICAgIHRhZzogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudGFnIHx8IFtdOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBzZXQodGhpcy52YWx1ZSwgJ3RhZycsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKCiAgICBzaG93Q2xvdWRDb25maWdZYW1sKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5jcmVhdGlvblR5cGUgIT09ICdsZWdhY3knOwogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgY3JlZGVudGlhbElkKG5ldSwgb2xkKSB7CiAgICAgIGlmICggbmV1ICE9PSBvbGQgKSB7CiAgICAgICAgdGhpcy4kZmV0Y2goKTsKICAgICAgfQogICAgfSwKICAgICd2YWx1ZS5kYXRhY2VudGVyJygpIHsKICAgICAgdGhpcy5sb2FkQWxsRGF0YWNlbnRlclJlc291cmNlcygpOwogICAgfSwKICAgICd2YWx1ZS5jb250ZW50TGlicmFyeScoKSB7CiAgICAgIHRoaXMubG9hZExpYnJhcnlUZW1wbGF0ZXMoKTsKICAgIH0sCiAgICAndmFsdWUuY3JlYXRpb25UeXBlJyh2YWx1ZSkgewogICAgICBzZXQodGhpcy52YWx1ZSwgJ2Nsb25lRnJvbScsICcnKTsKICAgICAgY29uc3QgYm9vdDJkb2NrZXJVcmwgPSB2YWx1ZSA9PT0gQ1JFQVRJT05fTUVUSE9ELkxFR0FDWSA/IEJPT1RfMl9ET0NLRVJfVVJMIDogJyc7CgogICAgICBzZXQodGhpcy52YWx1ZSwgJ2Jvb3QyZG9ja2VyVXJsJywgYm9vdDJkb2NrZXJVcmwpOwogICAgfSwKICAgIHZhcHBNb2RlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gVkFQUF9NT0RFLkFVVE8pIHsKICAgICAgICBjb25zdCBkZWZhdWx0VmFwcE9wdGlvbnMgPSBnZXREZWZhdWx0VmFwcE9wdGlvbnModGhpcy52YWx1ZS5uZXR3b3JrIHx8IFtdKTsKCiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVmFwcE9wdGlvbnMoZGVmYXVsdFZhcHBPcHRpb25zKTsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVWYXBwT3B0aW9ucyhJTklUSUFMX1ZBUFBfT1BUSU9OUyk7CiAgICB9LAogICAgdmFsaWRhdGlvbkVycm9ycyh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIHZhbHVlKTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBzdHJpbmdpZnksCiAgICBhc3luYyByZXF1ZXN0T3B0aW9ucyhyZXNvdXJjZSwgZGF0YUNlbnRlciwgbGlicmFyeSkgewogICAgICBjb25zdCBkYXRhY2VudGVyTGVzc1Jlc291cmNlcyA9IFsndGFnLWNhdGVnb3JpZXMnLCAndGFncycsICdkYXRhLWNlbnRlcnMnLCAnY3VzdG9tLWF0dHJpYnV0ZXMnXTsKCiAgICAgIGlmICghdGhpcy5jcmVkZW50aWFsSWQgfHwgKCFkYXRhY2VudGVyTGVzc1Jlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkgJiYgIWRhdGFDZW50ZXIpKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IE9iamVjdC5lbnRyaWVzKHsKICAgICAgICBjbG91ZENyZWRlbnRpYWxJZDogdGhpcy5jcmVkZW50aWFsSWQsCiAgICAgICAgZGF0YUNlbnRlciwKICAgICAgICBsaWJyYXJ5CiAgICAgIH0pCiAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IGVudHJ5WzFdKQogICAgICAgIC5tYXAoKGVudHJ5KSA9PiBgJHsgZW50cnlbMF0gfT0keyBlbnRyeVsxXSB9YCkKICAgICAgICAuam9pbignJicpOwoKICAgICAgY29uc3QgdXJsID0gYC9tZXRhL3ZzcGhlcmUvJHsgcmVzb3VyY2UgfT8keyBxdWVyeVBhcmFtcyB9YDsKCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L3JlcXVlc3QnLCB7CiAgICAgICAgdXJsLAogICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZSwKICAgICAgfSwgeyByb290OiB0cnVlIH0pOwoKICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhOwogICAgfSwKCiAgICBhc3luYyBsb2FkRGF0YUNlbnRlcnMoKSB7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdkYXRhLWNlbnRlcnMnKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CiAgICAgIGNvbnN0IHZhbHVlSW5Db250ZW50ID0gY29udGVudC5maW5kKChjKSA9PiBjLnZhbHVlID09PSB0aGlzLnZhbHVlLmRhdGFjZW50ZXIgKTsKCiAgICAgIGlmICghdmFsdWVJbkNvbnRlbnQpIHsKICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfQ1JFQVRFIHx8IHRoaXMucG9vbENyZWF0ZU1vZGUpIHsKICAgICAgICAgIHNldCh0aGlzLnZhbHVlLCAnZGF0YWNlbnRlcicsIG9wdGlvbnNbMF0pOwogICAgICAgICAgc2V0KHRoaXMudmFsdWUsICdjbG9uZUZyb20nLCB1bmRlZmluZWQpOwogICAgICAgICAgc2V0KHRoaXMudmFsdWUsICd1c2VEYXRhU3RvcmVDbHVzdGVyJywgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKFtfRURJVCwgX1ZJRVddLmluY2x1ZGVzKHRoaXMubW9kZSkgJiYgIXRoaXMucG9vbENyZWF0ZU1vZGUpIHsKICAgICAgICAgIHRoaXMubWFuYWdlRXJyb3JzKGVycm9yQWN0aW9ucy5DUkVBVEUsICdkYXRhY2VudGVyJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWFuYWdlRXJyb3JzKGVycm9yQWN0aW9ucy5ERUxFVEUsICdkYXRhY2VudGVyJyk7CiAgICAgIH0KCiAgICAgIHNldCh0aGlzLCAnZGF0YUNlbnRlcnNSZXN1bHRzJywgY29udGVudCk7CiAgICB9LAoKICAgIGFzeW5jIGxvYWRUYWdzKCkgewogICAgICB0cnkgewogICAgICAgIHNldCh0aGlzLCAndGFnc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgICAgY29uc3QgY2F0ZWdvcmllc1Byb21pc2UgPSB0aGlzLnJlcXVlc3RPcHRpb25zKCd0YWctY2F0ZWdvcmllcycpOwogICAgICAgIGNvbnN0IG9wdGlvbnNQcm9taXNlID0gdGhpcy5yZXF1ZXN0T3B0aW9ucygndGFncycpOwoKICAgICAgICBjb25zdCBbY2F0ZWdvcmllcywgb3B0aW9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbY2F0ZWdvcmllc1Byb21pc2UsIG9wdGlvbnNQcm9taXNlXSk7CiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwVGFnc1RvQ29udGVudChvcHRpb25zKS5tYXAoKG9wdGlvbikgPT4gKHsKICAgICAgICAgIC4uLm9wdGlvbiwKICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVzLmZpbmQoKGMpID0+IGMubmFtZSA9PT0gb3B0aW9uLmNhdGVnb3J5KQogICAgICAgIH0pKTsKCiAgICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ3RhZycsIGNvbnRlbnQsIG9wdGlvbnMsIHRydWUpOwoKICAgICAgICBzZXQodGhpcywgJ3RhZ3NSZXN1bHRzJywgY29udGVudCk7CiAgICAgICAgdGhpcy5oYXZlVGFncyA9IHRydWU7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aGlzLmhhdmVUYWdzID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9hZEN1c3RvbUF0dHJpYnV0ZXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc2V0KHRoaXMsICdhdHRyaWJ1dGVLZXlzUmVzdWx0cycsIG51bGwpOwoKICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnY3VzdG9tLWF0dHJpYnV0ZXMnKTsKCiAgICAgICAgc2V0KHRoaXMsICdhdHRyaWJ1dGVLZXlzUmVzdWx0cycsIHRoaXMubWFwQ3VzdG9tQXR0cmlidXRlc1RvQ29udGVudChvcHRpb25zKSk7CiAgICAgICAgdGhpcy5oYXZlQXR0cmlidXRlcyA9IHRydWU7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aGlzLmhhdmVBdHRyaWJ1dGVzID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9hZEhvc3RzKCkgewogICAgICBzZXQodGhpcywgJ2hvc3RzUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ2hvc3RzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwSG9zdE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CgogICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnaG9zdHN5c3RlbScsIGNvbnRlbnQsIG9wdGlvbnMpOwoKICAgICAgc2V0KHRoaXMsICdob3N0c1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZFJlc291cmNlUG9vbHMoKSB7CiAgICAgIHNldCh0aGlzLCAncmVzb3VyY2VQb29sc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdyZXNvdXJjZS1wb29scycsIHRoaXMudmFsdWUuZGF0YWNlbnRlcik7CgogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdwb29sJywgY29udGVudCwgb3B0aW9ucyk7CgogICAgICBzZXQodGhpcywgJ3Jlc291cmNlUG9vbHNSZXN1bHRzJywgY29udGVudCk7CiAgICB9LAoKICAgIGFzeW5jIGxvYWREYXRhU3RvcmVzKCkgewogICAgICBzZXQodGhpcywgJ2RhdGFTdG9yZXNSZXN1bHRzJywgbnVsbCk7CgogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnZGF0YS1zdG9yZXMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIpOwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdkYXRhc3RvcmUnLCBjb250ZW50LCBvcHRpb25zKTsKCiAgICAgIHNldCh0aGlzLCAnZGF0YVN0b3Jlc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZERhdGFTdG9yZUNsdXN0ZXJzKCkgewogICAgICBzZXQodGhpcywgJ2RhdGFTdG9yZVJlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdkYXRhLXN0b3JlLWNsdXN0ZXJzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CgogICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnZGF0YXN0b3JlQ2x1c3RlcicsIGNvbnRlbnQsIG9wdGlvbnMpOwoKICAgICAgc2V0KHRoaXMsICdkYXRhU3RvcmVDbHVzdGVyc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZEZvbGRlcnMoKSB7CiAgICAgIHNldCh0aGlzLCAnZm9sZGVyc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdmb2xkZXJzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwRm9sZGVyT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIHRoaXMucmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KCdmb2xkZXInLCBjb250ZW50LCBvcHRpb25zKTsKCiAgICAgIHNldCh0aGlzLCAnZm9sZGVyc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZE5ldHdvcmtzKCkgewogICAgICBzZXQodGhpcywgJ25ldHdvcmtzUmVzdWx0cycsIG51bGwpOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMucmVxdWVzdE9wdGlvbnMoJ25ldHdvcmtzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CgogICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnbmV0d29yaycsIGNvbnRlbnQsIG9wdGlvbnMsIHRydWUpOwoKICAgICAgc2V0KHRoaXMsICduZXR3b3Jrc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZENvbnRlbnRMaWJyYXJpZXMoKSB7CiAgICAgIHNldCh0aGlzLCAnY29udGVudExpYnJhcmllc1Jlc3VsdHMnLCBudWxsKTsKCiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLnJlcXVlc3RPcHRpb25zKCdjb250ZW50LWxpYnJhcmllcycsIHRoaXMudmFsdWUuZGF0YWNlbnRlcik7CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm1hcFBhdGhPcHRpb25zVG9Db250ZW50KG9wdGlvbnMpCiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS52YWx1ZSAhPT0gJycpOwoKICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ2NvbnRlbnRMaWJyYXJ5JywgY29udGVudCwgb3B0aW9ucyk7CgogICAgICBzZXQodGhpcywgJ2NvbnRlbnRMaWJyYXJpZXNSZXN1bHRzJywgY29udGVudCk7CiAgICB9LAoKICAgIGFzeW5jIGxvYWRMaWJyYXJ5VGVtcGxhdGVzKCkgewogICAgICBzZXQodGhpcywgJ2xpYnJhcnlUZW1wbGF0ZXNSZXN1bHRzJywgbnVsbCk7CgogICAgICBjb25zdCBjb250ZW50TGlicmFyeSA9IHRoaXMudmFsdWUuY29udGVudExpYnJhcnk7CgogICAgICBpZiAoIWNvbnRlbnRMaWJyYXJ5KSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygnbGlicmFyeS10ZW1wbGF0ZXMnLCB0aGlzLnZhbHVlLmRhdGFjZW50ZXIsIGNvbnRlbnRMaWJyYXJ5KTsKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CgogICAgICBpZiAodGhpcy5zaG93Q29udGVudExpYnJhcnkpIHsKICAgICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnY2xvbmVGcm9tJywgY29udGVudCwgb3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIHNldCh0aGlzLCAnbGlicmFyeVRlbXBsYXRlc1Jlc3VsdHMnLCBjb250ZW50KTsKICAgIH0sCgogICAgYXN5bmMgbG9hZFZpcnR1YWxNYWNoaW5lcygpIHsKICAgICAgc2V0KHRoaXMsICd2aXJ0dWFsTWFjaGluZXNSZXN1bHRzJywgbnVsbCk7CgogICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygndmlydHVhbC1tYWNoaW5lcycsIHRoaXMudmFsdWUuZGF0YWNlbnRlcik7CgogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChvcHRpb25zKTsKCiAgICAgIGlmICh0aGlzLnNob3dWaXJ0dWFsTWFjaGluZXMpIHsKICAgICAgICB0aGlzLnJlc2V0VmFsdWVJZk5lY2Vzc2FyeSgnY2xvbmVGcm9tJywgY29udGVudCwgb3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIHNldCh0aGlzLCAndmlydHVhbE1hY2hpbmVzUmVzdWx0cycsIGNvbnRlbnQpOwogICAgfSwKCiAgICBhc3luYyBsb2FkVGVtcGxhdGVzKCkgewogICAgICB0cnkgewogICAgICAgIHNldCh0aGlzLCAndGVtcGxhdGVzUmVzdWx0cycsIG51bGwpOwoKICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5yZXF1ZXN0T3B0aW9ucygndGVtcGxhdGVzJywgdGhpcy52YWx1ZS5kYXRhY2VudGVyKTsKCiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMubWFwUGF0aE9wdGlvbnNUb0NvbnRlbnQob3B0aW9ucyk7CgogICAgICAgIGlmICh0aGlzLnNob3dUZW1wbGF0ZSkgewogICAgICAgICAgdGhpcy5yZXNldFZhbHVlSWZOZWNlc3NhcnkoJ2Nsb25lRnJvbScsIGNvbnRlbnQsIG9wdGlvbnMpOwogICAgICAgIH0KCiAgICAgICAgc2V0KHRoaXMsICd0ZW1wbGF0ZXNSZXN1bHRzJywgY29udGVudCk7CiAgICAgICAgdGhpcy5oYXZlVGVtcGxhdGVzID0gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuaGF2ZVRlbXBsYXRlcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIGxvYWRBbGxEYXRhY2VudGVyUmVzb3VyY2VzKCkgewogICAgICB0aGlzLmxvYWRSZXNvdXJjZVBvb2xzKCk7CiAgICAgIHRoaXMubG9hZERhdGFTdG9yZXMoKTsKICAgICAgdGhpcy5sb2FkRm9sZGVycygpOwogICAgICB0aGlzLmxvYWRIb3N0cygpOwogICAgICB0aGlzLmxvYWRUZW1wbGF0ZXMoKTsKICAgICAgdGhpcy5sb2FkVGFncygpOwogICAgICB0aGlzLmxvYWRDdXN0b21BdHRyaWJ1dGVzKCk7CiAgICAgIHRoaXMubG9hZENvbnRlbnRMaWJyYXJpZXMoKTsKICAgICAgdGhpcy5sb2FkTGlicmFyeVRlbXBsYXRlcygpOwogICAgICB0aGlzLmxvYWRWaXJ0dWFsTWFjaGluZXMoKTsKICAgICAgdGhpcy5sb2FkTmV0d29ya3MoKTsKICAgIH0sCgogICAgcmVzZXRWYWx1ZUlmTmVjZXNzYXJ5KGtleSwgY29udGVudCwgb3B0aW9ucywgaXNBcnJheSA9IGZhbHNlKSB7CiAgICAgIGNvbnN0IGlzVmFsdWVJbkNvbnRlbnQgPSAoKSA9PiB7CiAgICAgICAgaWYgKGlzQXJyYXkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlW2tleV0/LmV2ZXJ5KCh2YWx1ZSkgPT4gY29udGVudC5maW5kKChjKSA9PiBjLnZhbHVlID09PSB2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNvbnRlbnQuZmluZCgoYykgPT4gYy52YWx1ZSA9PT0gdGhpcy52YWx1ZVtrZXldICk7CiAgICAgIH07CgogICAgICBpZiAoIWlzVmFsdWVJbkNvbnRlbnQoKSkgewogICAgICAgIGNvbnN0IHZhbHVlID0gaXNBcnJheSA/IFtdIDogY29udGVudFswXT8udmFsdWU7CiAgICAgICAgY29uc3QgaXNOdWxsT3JFbXB0eSA9IE5VTExBQkxFX0VNUFRZX0ZJRUxEUy5pbmNsdWRlcyhrZXkpICYmICh0aGlzLnZhbHVlW2tleV0gPT09IG51bGwgfHwgdGhpcy52YWx1ZVtrZXldID09PSAnJyk7CiAgICAgICAgY29uc3Qgc2hvdWxkSGFuZGxlRXJyb3IgPQogICAgICAgICAgW19FRElULCBfVklFV10uaW5jbHVkZXModGhpcy5tb2RlKSAmJiAvLyBlcnJvciBtZXNzYWdlcyBzaG91bGQgb25seSBiZSBkaXNwbGF5ZWQgaW4gRWRpdCBvciBWaWV3IG1vZGUKICAgICAgICAgICF0aGlzLnBvb2xDcmVhdGVNb2RlICYmIC8vIGFsbW9zdCBpZGVudGljYWwgdG8gQ3JlYXRlIG1vZGUKICAgICAgICAgICFpc051bGxPckVtcHR5ICYmIC8vIG51bGwgYW5kIGVtcHR5IHN0cmluZyBhcmUgdmFsaWQgdmFsdWVzIGZvciBzb21lIGZpZWxkcyBlLmcuIGNvbnRlbnRMaWJyYXJ5LCBmb2xkZXIgYW5kIGhvc3RzeXN0ZW0KICAgICAgICAgICFpc0FycmF5OyAvLyB0aGlzIGZsYWcgaXMgdXNlZCBmb3IgbmV0d29yayBhbmQgdGFnIGZpZWxkcywgYW5kIHNob3VsZCBub3QgZGlzcGxheSBlcnJvciBmb3IgdGhlbQoKICAgICAgICBpZiAoKHRoaXMubW9kZSA9PT0gX0NSRUFURSB8fCB0aGlzLnBvb2xDcmVhdGVNb2RlKSAmJiB2YWx1ZSAhPT0gU0VOVElORUwpIHsKICAgICAgICAgIHNldCh0aGlzLnZhbHVlLCBrZXksIHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChzaG91bGRIYW5kbGVFcnJvcikgewogICAgICAgICAgdGhpcy5tYW5hZ2VFcnJvcnMoZXJyb3JBY3Rpb25zLkNSRUFURSwga2V5KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tYW5hZ2VFcnJvcnMoZXJyb3JBY3Rpb25zLkRFTEVURSwga2V5KTsKICAgICAgfQogICAgfSwKCiAgICBtYXBQYXRoT3B0aW9uc1RvQ29udGVudChwYXRoT3B0aW9ucykgewogICAgICByZXR1cm4gKHBhdGhPcHRpb25zIHx8IFtdKS5tYXAoKHBhdGhPcHRpb24pID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHBhdGhPcHRpb24sCiAgICAgICAgICB2YWx1ZTogcGF0aE9wdGlvbgogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKCiAgICBtYXBIb3N0T3B0aW9uc1RvQ29udGVudChob3N0T3B0aW9ucykgewogICAgICByZXR1cm4gdGhpcy5tYXBQYXRoT3B0aW9uc1RvQ29udGVudChob3N0T3B0aW9ucykKICAgICAgICAubWFwKChjKSA9PiBjLnZhbHVlID09PSAnJyA/IHsKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ2NsdXN0ZXIubWFjaGluZUNvbmZpZy52c3BoZXJlLmhvc3RPcHRpb25zLmFueScpLAogICAgICAgICAgdmFsdWU6IFNFTlRJTkVMCiAgICAgICAgfSA6IGMpOwogICAgfSwKCiAgICBtYXBGb2xkZXJPcHRpb25zVG9Db250ZW50KGZvbGRlck9wdGlvbnMpIHsKICAgICAgcmV0dXJuIGZvbGRlck9wdGlvbnMubWFwKChvcHRpb24pID0+ICh7CiAgICAgICAgbGFiZWw6IG9wdGlvbiB8fCAnXHUwMEEwJywKICAgICAgICB2YWx1ZTogb3B0aW9uIHx8ICcnCiAgICAgIH0pKTsKICAgIH0sCgogICAgbWFwQ3VzdG9tQXR0cmlidXRlc1RvQ29udGVudChjdXN0b21BdHRyaWJ1dGVzKSB7CiAgICAgIHJldHVybiBjdXN0b21BdHRyaWJ1dGVzLm1hcCgoY3VzdG9tQXR0cmlidXRlKSA9PiAoewogICAgICAgIGxhYmVsOiBjdXN0b21BdHRyaWJ1dGUubmFtZSwKICAgICAgICB2YWx1ZTogY3VzdG9tQXR0cmlidXRlLmtleS50b1N0cmluZygpCiAgICAgIH0pKTsKICAgIH0sCgogICAgbWFwVGFnc1RvQ29udGVudCh0YWdzKSB7CiAgICAgIHJldHVybiB0YWdzLm1hcCgodGFnKSA9PiAoewogICAgICAgIC4uLnRhZywKICAgICAgICBsYWJlbDogYCR7IHRhZy5jYXRlZ29yeSB9IC8gJHsgdGFnLm5hbWUgfWAsCiAgICAgICAgdmFsdWU6IHRhZy5pZAogICAgICB9KSk7CiAgICB9LAoKICAgIGluaXRLZXlWYWx1ZVBhcmFtcyhwYWlyc0tleSwgcGFyYW1zS2V5KSB7CiAgICAgIHNldCh0aGlzLCBwYXJhbXNLZXksIChnZXQodGhpcywgcGFpcnNLZXkpIHx8IFtdKS5yZWR1Y2Uoc3RyaW5nc1RvUGFyYW1zLCBbXSkpOwogICAgfSwKCiAgICB1cGRhdGVWYXBwT3B0aW9ucyhvcHRzKSB7CiAgICAgIHNldCh0aGlzLnZhbHVlLCAndmFwcElwcHJvdG9jb2wnLCBvcHRzLnZhcHBJcHByb3RvY29sKTsKICAgICAgc2V0KHRoaXMudmFsdWUsICd2YXBwSXBhbGxvY2F0aW9ucG9saWN5Jywgb3B0cy52YXBwSXBhbGxvY2F0aW9ucG9saWN5KTsKICAgICAgc2V0KHRoaXMudmFsdWUsICd2YXBwVHJhbnNwb3J0Jywgb3B0cy52YXBwVHJhbnNwb3J0KTsKICAgICAgc2V0KHRoaXMudmFsdWUsICd2YXBwUHJvcGVydHknLCBvcHRzLnZhcHBQcm9wZXJ0eSk7CiAgICAgIHRoaXMuaW5pdEtleVZhbHVlUGFyYW1zKCd2YWx1ZS52YXBwUHJvcGVydHknLCAnaW5pdFZhcHBBcnJheScpOwogICAgfSwKCiAgICBtYW5hZ2VFcnJvcnMoYWN0aW9uID0gZXJyb3JBY3Rpb25zLkNSRUFURSwga2V5KSB7CiAgICAgIGlmIChhY3Rpb24gPT09IGVycm9yQWN0aW9ucy5DUkVBVEUpIHsKICAgICAgICBjb25zdCBrZXlzID0gW2tleSwgLi4uKHRoaXMudmFsaWRhdGlvbkVycm9yc1t0aGlzLnBvb2xJZF0gfHwgW10pXTsKCiAgICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy52YWxpZGF0aW9uRXJyb3JzLCB7IFt0aGlzLnBvb2xJZF06IGtleXMgfSk7CiAgICAgIH0KCiAgICAgIGlmIChhY3Rpb24gPT09IGVycm9yQWN0aW9ucy5ERUxFVEUgJiYgdGhpcy52YWxpZGF0aW9uRXJyb3JzW3RoaXMucG9vbElkXSkgewogICAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMudmFsaWRhdGlvbkVycm9ycywgeyBbdGhpcy5wb29sSWRdOiB0aGlzLnZhbGlkYXRpb25FcnJvcnNbdGhpcy5wb29sSWRdLmZpbHRlcigoeCkgPT4geCA9PT0ga2V5KSB9KSA7CiAgICAgIH0KICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["vmwarevsphere.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"vmwarevsphere.vue","sourceRoot":"node_modules/@rancher/shell/machine-config","sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport { Banner } from '@components/Banner';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport { Card } from '@components/Card';\nimport { RadioGroup } from '@components/Form/Radio';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ArrayListSelect from '@shell/components/form/ArrayListSelect';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { get, set } from '@shell/utils/object';\nimport { integerString, keyValueStrings } from '@shell/utils/computed';\nimport { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\n\nexport const SENTINEL = '__SENTINEL__';\nconst NULLABLE_EMPTY_FIELDS = ['contentLibrary', 'folder', 'hostsystem'];\nconst VAPP_MODE = {\n  DISABLED: 'disabled',\n  AUTO:     'auto',\n  MANUAL:   'manual'\n};\nconst CREATION_METHOD = {\n  TEMPLATE: 'template',\n  LIBRARY:  'library',\n  VM:       'vm',\n  LEGACY:   'legacy'\n};\nconst BOOT_2_DOCKER_URL = 'https://releases.rancher.com/os/latest/rancheros-vmware.iso';\nconst INITIAL_VAPP_OPTIONS = {\n  vappIpprotocol:         '',\n  vappIpallocationpolicy: '',\n  vappTransport:          '',\n  vappProperty:           []\n};\nconst OS_OPTIONS = [\n  'linux',\n  'windows'\n];\n\nexport const DEFAULT_VALUES = {\n  cpuCount:                '2',\n  diskSize:                '20000',\n  memorySize:              '4096',\n  hostsystem:              '',\n  cloudConfig:             '#cloud-config\\n\\n',\n  gracefulShutdownTimeout: '0',\n  cfgparam:                ['disk.enableUUID=TRUE'],\n  os:                      OS_OPTIONS[0]\n};\n\nconst getDefaultVappOptions = (networks) => {\n  return {\n    vappIpprotocol:         'IPv4',\n    vappIpallocationpolicy: 'fixedAllocated',\n    vappTransport:          'com.vmware.guestInfo',\n    vappProperty:           networksToVappProperties(networks)\n  };\n};\n\nconst stringsToParams = (params, str) => {\n  const index = str.indexOf('=');\n\n  if ( index > -1 ) {\n    params.push({\n      key:   str.slice(0, index),\n      value: str.slice(index + 1),\n    });\n  }\n\n  return params;\n};\n\nconst networksToVappProperties = (networks) => {\n  if (networks.length === 0) {\n    return [];\n  }\n\n  return networks.reduce(networkToVappProperties, [\n    `guestinfo.dns.servers=\\${dns:${ networks[0] }}`,\n    `guestinfo.dns.domains=\\${searchPath:${ networks[0] }}`\n  ]);\n};\n\nconst networkToVappProperties = (props, network, i) => {\n  const n = i.toString();\n\n  props.push(\n    `guestinfo.interface.${ n }.ip.0.address=ip:${ network }`,\n    `guestinfo.interface.${ n }.ip.0.netmask=\\${netmask:${ network }}`,\n    `guestinfo.interface.${ n }.route.0.gateway=\\${gateway:${ network }}`\n  );\n\n  return props;\n};\n\nconst getInitialVappMode = (c) => {\n  const vappProperty = c.vappProperty || [];\n\n  if (\n    !c.vappIpprotocol &&\n    !c.vappIpallocationpolicy &&\n    !c.vappTransport &&\n    vappProperty.length === 0\n  ) {\n    return VAPP_MODE.DISABLED;\n  }\n\n  const d = getDefaultVappOptions(c.network || []);\n\n  if (\n    c.vappIpprotocol === d.vappIpprotocol &&\n    c.vappIpallocationpolicy === d.vappIpallocationpolicy &&\n    c.vappTransport === d.vappTransport &&\n    vappProperty.length === d.vappProperty.length &&\n    vappProperty.join() === d.vappProperty.join()\n  ) {\n    return VAPP_MODE.AUTO;\n  }\n\n  return VAPP_MODE.MANUAL;\n};\n\n/**\n * passing 'datacenter' yields\n *\n * {\n *    datacenter() {\n *       return this.datacenterResults || [];\n *    },\n *    datacenterLoading() {\n *       return this.datacenterLoading === null;\n *    }\n * }\n */\nfunction createOptionHelpers(name) {\n  return {\n    [name]() {\n      return this[`${ name }Results`] || [];\n    },\n    [`${ name }Loading`]() {\n      return this[`${ name }Results`] === null;\n    }\n  };\n}\n\nconst errorActions = Object.freeze({\n  CREATE: 'create',\n  DELETE: 'delete',\n});\n\nexport default {\n  components: {\n    ArrayListSelect, Card, KeyValue, Loading, LabeledInput, LabeledSelect, Banner, UnitInput, RadioGroup, YamlEditor\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    poolId: {\n      type:    String,\n      default: '',\n    },\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n    disabled: {\n      type:    Boolean,\n      default: false,\n    },\n    poolCreateMode: {\n      type:     Boolean,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    this.errors = [];\n\n    try {\n      const datacenterAlreadySet = !!this.value.datacenter;\n\n      await this.loadDataCenters();\n\n      if (datacenterAlreadySet) {\n        this.loadAllDatacenterResources();\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    const vAppOptions = [\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.disable'),\n        value: VAPP_MODE.DISABLED\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.auto'),\n        value: VAPP_MODE.AUTO\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.vAppOptions.manual'),\n        value: VAPP_MODE.MANUAL\n      },\n    ];\n\n    const creationMethods = [\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.template'),\n        value: CREATION_METHOD.TEMPLATE\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.library'),\n        value: CREATION_METHOD.LIBRARY\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.vm'),\n        value: CREATION_METHOD.VM\n      },\n      {\n        label: this.t('cluster.machineConfig.vsphere.creationMethods.legacy'),\n        value: CREATION_METHOD.LEGACY\n      },\n    ];\n\n    if ((this.mode === _CREATE || this.poolCreateMode) && !this.value.initted) {\n      Object.defineProperty(this.value, 'initted', { value: true, enumerable: false });\n\n      const {\n        cpuCount,\n        diskSize,\n        memorySize,\n        hostsystem,\n        cloudConfig,\n        gracefulShutdownTimeout,\n        cfgparam,\n        os\n      } = DEFAULT_VALUES;\n\n      set(this.value, 'creationType', creationMethods[0].value);\n      set(this.value, 'cpuCount', cpuCount);\n      set(this.value, 'diskSize', diskSize);\n      set(this.value, 'memorySize', memorySize);\n      set(this.value, 'hostsystem', hostsystem);\n      set(this.value, 'gracefulShutdownTimeout', gracefulShutdownTimeout);\n      set(this.value, 'cloudConfig', cloudConfig);\n      set(this.value, 'cfgparam', cfgparam);\n      set(this.value, 'vappProperty', this.value.vappProperty);\n      set(this.value, 'os', os);\n      Object.entries(INITIAL_VAPP_OPTIONS).forEach(([key, value]) => {\n        set(this.value, key, value);\n      });\n    }\n\n    return {\n      initted:                  false,\n      credential:               null,\n      creationMethods,\n      dataCentersResults:       null,\n      resourcePoolsResults:     null,\n      dataStoresResults:        null,\n      dataStoreClustersResults: null,\n      foldersResults:           null,\n      hostsResults:             null,\n      templatesResults:         null,\n      contentLibrariesResults:  null,\n      libraryTemplatesResults:  null,\n      virtualMachinesResults:   null,\n      showTemplatesResults:     null,\n      tagsResults:              null,\n      attributeKeysResults:     null,\n      networksResults:          null,\n      haveTags:                 null,\n      haveAttributes:           null,\n      haveTemplates:            null,\n      vAppOptions,\n      vappMode:                 getInitialVappMode(this.value),\n      osOptions:                OS_OPTIONS,\n      validationErrors:         {},\n    };\n  },\n\n  computed: {\n    ...createOptionHelpers('dataCenters'),\n    ...createOptionHelpers('resourcePools'),\n    ...createOptionHelpers('dataStores'),\n    ...createOptionHelpers('dataStoreClusters'),\n    ...createOptionHelpers('folders'),\n    ...createOptionHelpers('hosts'),\n    ...createOptionHelpers('templates'),\n    ...createOptionHelpers('contentLibraries'),\n    ...createOptionHelpers('libraryTemplates'),\n    ...createOptionHelpers('virtualMachines'),\n    ...createOptionHelpers('showTemplates'),\n    ...createOptionHelpers('tags'),\n    ...createOptionHelpers('attributeKeys'),\n    ...createOptionHelpers('networks'),\n\n    isDisabled() {\n      return this.disabled || this.mode === _VIEW;\n    },\n\n    showTemplate() {\n      return this.value.creationType === 'template';\n    },\n\n    showContentLibrary() {\n      return this.value.creationType === 'library';\n    },\n\n    showVirtualMachines() {\n      return this.value.creationType === 'vm';\n    },\n\n    showIso() {\n      return this.value.creationType === 'legacy';\n    },\n\n    showManual() {\n      return this.vappMode === 'manual';\n    },\n\n    failedToLoadTemplates() {\n      return !this.templatesLoading && !this.haveTemplates;\n    },\n\n    templateStatus() {\n      return this.failedToLoadTemplates ? 'error' : null;\n    },\n\n    templateTooltip() {\n      const rawTemplateValue = this.value.cloneFrom;\n\n      return this.failedToLoadTemplates ? this.t('cluster.machineConfig.vsphere.instanceOptions.template.none') : rawTemplateValue;\n    },\n\n    host: {\n      get() {\n        return this.value.hostsystem === '' ? SENTINEL : this.value.hostsystem;\n      },\n      set(value) {\n        const newValue = value === SENTINEL ? '' : value;\n\n        set(this.value, 'hostsystem', newValue);\n      }\n    },\n\n    customAttribute: keyValueStrings('value.customAttribute'),\n    vappProperty:    keyValueStrings('value.vappProperty'),\n    cfgparam:        keyValueStrings('value.cfgparam'),\n\n    cpuCount:   integerString('value.cpuCount'),\n    memorySize: integerString('value.memorySize'),\n    diskSize:   integerString('value.diskSize'),\n\n    gracefulShutdownTimeout: integerString('value.gracefulShutdownTimeout'),\n\n    network: {\n      get() {\n        return this.value.network || [];\n      },\n      set(newValue) {\n        set(this.value, 'network', newValue);\n      }\n    },\n\n    tag: {\n      get() {\n        return this.value.tag || [];\n      },\n      set(newValue) {\n        set(this.value, 'tag', newValue);\n      }\n    },\n\n    showCloudConfigYaml() {\n      return this.value.creationType !== 'legacy';\n    },\n  },\n\n  watch: {\n    credentialId(neu, old) {\n      if ( neu !== old ) {\n        this.$fetch();\n      }\n    },\n    'value.datacenter'() {\n      this.loadAllDatacenterResources();\n    },\n    'value.contentLibrary'() {\n      this.loadLibraryTemplates();\n    },\n    'value.creationType'(value) {\n      set(this.value, 'cloneFrom', '');\n      const boot2dockerUrl = value === CREATION_METHOD.LEGACY ? BOOT_2_DOCKER_URL : '';\n\n      set(this.value, 'boot2dockerUrl', boot2dockerUrl);\n    },\n    vappMode(value) {\n      if (value === VAPP_MODE.AUTO) {\n        const defaultVappOptions = getDefaultVappOptions(this.value.network || []);\n\n        return this.updateVappOptions(defaultVappOptions);\n      }\n\n      this.updateVappOptions(INITIAL_VAPP_OPTIONS);\n    },\n    validationErrors(value) {\n      this.$emit('error', value);\n    }\n  },\n\n  methods: {\n    stringify,\n    async requestOptions(resource, dataCenter, library) {\n      const datacenterLessResources = ['tag-categories', 'tags', 'data-centers', 'custom-attributes'];\n\n      if (!this.credentialId || (!datacenterLessResources.includes(resource) && !dataCenter)) {\n        return [];\n      }\n\n      const queryParams = Object.entries({\n        cloudCredentialId: this.credentialId,\n        dataCenter,\n        library\n      })\n        .filter((entry) => entry[1])\n        .map((entry) => `${ entry[0] }=${ entry[1] }`)\n        .join('&');\n\n      const url = `/meta/vsphere/${ resource }?${ queryParams }`;\n\n      const result = await this.$store.dispatch('management/request', {\n        url,\n        redirectUnauthorized: false,\n      }, { root: true });\n\n      return result.data;\n    },\n\n    async loadDataCenters() {\n      const options = await this.requestOptions('data-centers');\n      const content = this.mapPathOptionsToContent(options);\n      const valueInContent = content.find((c) => c.value === this.value.datacenter );\n\n      if (!valueInContent) {\n        if (this.mode === _CREATE || this.poolCreateMode) {\n          set(this.value, 'datacenter', options[0]);\n          set(this.value, 'cloneFrom', undefined);\n          set(this.value, 'useDataStoreCluster', false);\n        }\n\n        if ([_EDIT, _VIEW].includes(this.mode) && !this.poolCreateMode) {\n          this.manageErrors(errorActions.CREATE, 'datacenter');\n        }\n      } else {\n        this.manageErrors(errorActions.DELETE, 'datacenter');\n      }\n\n      set(this, 'dataCentersResults', content);\n    },\n\n    async loadTags() {\n      try {\n        set(this, 'tagsResults', null);\n\n        const categoriesPromise = this.requestOptions('tag-categories');\n        const optionsPromise = this.requestOptions('tags');\n\n        const [categories, options] = await Promise.all([categoriesPromise, optionsPromise]);\n        const content = this.mapTagsToContent(options).map((option) => ({\n          ...option,\n          category: categories.find((c) => c.name === option.category)\n        }));\n\n        this.resetValueIfNecessary('tag', content, options, true);\n\n        set(this, 'tagsResults', content);\n        this.haveTags = true;\n      } catch (e) {\n        this.haveTags = false;\n      }\n    },\n\n    async loadCustomAttributes() {\n      try {\n        set(this, 'attributeKeysResults', null);\n\n        const options = await this.requestOptions('custom-attributes');\n\n        set(this, 'attributeKeysResults', this.mapCustomAttributesToContent(options));\n        this.haveAttributes = true;\n      } catch (e) {\n        this.haveAttributes = false;\n      }\n    },\n\n    async loadHosts() {\n      set(this, 'hostsResults', null);\n\n      const options = await this.requestOptions('hosts', this.value.datacenter);\n      const content = this.mapHostOptionsToContent(options);\n\n      this.resetValueIfNecessary('hostsystem', content, options);\n\n      set(this, 'hostsResults', content);\n    },\n\n    async loadResourcePools() {\n      set(this, 'resourcePoolsResults', null);\n\n      const options = await this.requestOptions('resource-pools', this.value.datacenter);\n\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('pool', content, options);\n\n      set(this, 'resourcePoolsResults', content);\n    },\n\n    async loadDataStores() {\n      set(this, 'dataStoresResults', null);\n\n      const options = await this.requestOptions('data-stores', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('datastore', content, options);\n\n      set(this, 'dataStoresResults', content);\n    },\n\n    async loadDataStoreClusters() {\n      set(this, 'dataStoreResults', null);\n\n      const options = await this.requestOptions('data-store-clusters', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('datastoreCluster', content, options);\n\n      set(this, 'dataStoreClustersResults', content);\n    },\n\n    async loadFolders() {\n      set(this, 'foldersResults', null);\n\n      const options = await this.requestOptions('folders', this.value.datacenter);\n      const content = this.mapFolderOptionsToContent(options);\n\n      this.resetValueIfNecessary('folder', content, options);\n\n      set(this, 'foldersResults', content);\n    },\n\n    async loadNetworks() {\n      set(this, 'networksResults', null);\n\n      const options = await this.requestOptions('networks', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options);\n\n      this.resetValueIfNecessary('network', content, options, true);\n\n      set(this, 'networksResults', content);\n    },\n\n    async loadContentLibraries() {\n      set(this, 'contentLibrariesResults', null);\n\n      const options = await this.requestOptions('content-libraries', this.value.datacenter);\n      const content = this.mapPathOptionsToContent(options)\n        .filter((item) => item.value !== '');\n\n      this.resetValueIfNecessary('contentLibrary', content, options);\n\n      set(this, 'contentLibrariesResults', content);\n    },\n\n    async loadLibraryTemplates() {\n      set(this, 'libraryTemplatesResults', null);\n\n      const contentLibrary = this.value.contentLibrary;\n\n      if (!contentLibrary) {\n        return [];\n      }\n\n      const options = await this.requestOptions('library-templates', this.value.datacenter, contentLibrary);\n      const content = this.mapPathOptionsToContent(options);\n\n      if (this.showContentLibrary) {\n        this.resetValueIfNecessary('cloneFrom', content, options);\n      }\n\n      set(this, 'libraryTemplatesResults', content);\n    },\n\n    async loadVirtualMachines() {\n      set(this, 'virtualMachinesResults', null);\n\n      const options = await this.requestOptions('virtual-machines', this.value.datacenter);\n\n      const content = this.mapPathOptionsToContent(options);\n\n      if (this.showVirtualMachines) {\n        this.resetValueIfNecessary('cloneFrom', content, options);\n      }\n\n      set(this, 'virtualMachinesResults', content);\n    },\n\n    async loadTemplates() {\n      try {\n        set(this, 'templatesResults', null);\n\n        const options = await this.requestOptions('templates', this.value.datacenter);\n\n        const content = this.mapPathOptionsToContent(options);\n\n        if (this.showTemplate) {\n          this.resetValueIfNecessary('cloneFrom', content, options);\n        }\n\n        set(this, 'templatesResults', content);\n        this.haveTemplates = true;\n      } catch (e) {\n        this.haveTemplates = false;\n      }\n    },\n\n    loadAllDatacenterResources() {\n      this.loadResourcePools();\n      this.loadDataStores();\n      this.loadFolders();\n      this.loadHosts();\n      this.loadTemplates();\n      this.loadTags();\n      this.loadCustomAttributes();\n      this.loadContentLibraries();\n      this.loadLibraryTemplates();\n      this.loadVirtualMachines();\n      this.loadNetworks();\n    },\n\n    resetValueIfNecessary(key, content, options, isArray = false) {\n      const isValueInContent = () => {\n        if (isArray) {\n          return this.value[key]?.every((value) => content.find((c) => c.value === value));\n        }\n\n        return content.find((c) => c.value === this.value[key] );\n      };\n\n      if (!isValueInContent()) {\n        const value = isArray ? [] : content[0]?.value;\n        const isNullOrEmpty = NULLABLE_EMPTY_FIELDS.includes(key) && (this.value[key] === null || this.value[key] === '');\n        const shouldHandleError =\n          [_EDIT, _VIEW].includes(this.mode) && // error messages should only be displayed in Edit or View mode\n          !this.poolCreateMode && // almost identical to Create mode\n          !isNullOrEmpty && // null and empty string are valid values for some fields e.g. contentLibrary, folder and hostsystem\n          !isArray; // this flag is used for network and tag fields, and should not display error for them\n\n        if ((this.mode === _CREATE || this.poolCreateMode) && value !== SENTINEL) {\n          set(this.value, key, value);\n        }\n\n        if (shouldHandleError) {\n          this.manageErrors(errorActions.CREATE, key);\n        }\n      } else {\n        this.manageErrors(errorActions.DELETE, key);\n      }\n    },\n\n    mapPathOptionsToContent(pathOptions) {\n      return (pathOptions || []).map((pathOption) => {\n        return {\n          label: pathOption,\n          value: pathOption\n        };\n      });\n    },\n\n    mapHostOptionsToContent(hostOptions) {\n      return this.mapPathOptionsToContent(hostOptions)\n        .map((c) => c.value === '' ? {\n          label: this.t('cluster.machineConfig.vsphere.hostOptions.any'),\n          value: SENTINEL\n        } : c);\n    },\n\n    mapFolderOptionsToContent(folderOptions) {\n      return folderOptions.map((option) => ({\n        label: option || '\\u00A0',\n        value: option || ''\n      }));\n    },\n\n    mapCustomAttributesToContent(customAttributes) {\n      return customAttributes.map((customAttribute) => ({\n        label: customAttribute.name,\n        value: customAttribute.key.toString()\n      }));\n    },\n\n    mapTagsToContent(tags) {\n      return tags.map((tag) => ({\n        ...tag,\n        label: `${ tag.category } / ${ tag.name }`,\n        value: tag.id\n      }));\n    },\n\n    initKeyValueParams(pairsKey, paramsKey) {\n      set(this, paramsKey, (get(this, pairsKey) || []).reduce(stringsToParams, []));\n    },\n\n    updateVappOptions(opts) {\n      set(this.value, 'vappIpprotocol', opts.vappIpprotocol);\n      set(this.value, 'vappIpallocationpolicy', opts.vappIpallocationpolicy);\n      set(this.value, 'vappTransport', opts.vappTransport);\n      set(this.value, 'vappProperty', opts.vappProperty);\n      this.initKeyValueParams('value.vappProperty', 'initVappArray');\n    },\n\n    manageErrors(action = errorActions.CREATE, key) {\n      if (action === errorActions.CREATE) {\n        const keys = [key, ...(this.validationErrors[this.poolId] || [])];\n\n        this.validationErrors = Object.assign({}, this.validationErrors, { [this.poolId]: keys });\n      }\n\n      if (action === errorActions.DELETE && this.validationErrors[this.poolId]) {\n        this.validationErrors = Object.assign({}, this.validationErrors, { [this.poolId]: this.validationErrors[this.poolId].filter((x) => x === key) }) ;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.scheduling.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.scheduling.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div\n          class=\"row\"\n          data-testid=\"datacenter\"\n        >\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.datacenter\"\n              :loading=\"dataCentersLoading\"\n              :mode=\"mode\"\n              :options=\"dataCenters\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.dataCenter')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.datacenter\"\n            />\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"resourcePool\"\n          >\n            <LabeledSelect\n              v-model=\"value.pool\"\n              :loading=\"resourcePoolsLoading\"\n              :mode=\"mode\"\n              :options=\"resourcePools\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.resourcePool')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.pool\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col span-6\"\n            data-testid=\"dataStore\"\n          >\n            <LabeledSelect\n              v-model=\"value.datastore\"\n              :loading=\"dataStoresLoading\"\n              :mode=\"mode\"\n              :options=\"dataStores\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.dataStore')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.datastore\"\n            />\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"folder\"\n          >\n            <LabeledSelect\n              v-model=\"value.folder\"\n              :loading=\"foldersLoading\"\n              :mode=\"mode\"\n              :options=\"folders\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.folder')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.folder\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col span-6\"\n            data-testid=\"host\"\n          >\n            <LabeledSelect\n              v-model=\"host\"\n              :loading=\"hostsLoading\"\n              :mode=\"mode\"\n              :options=\"hosts\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.host.label')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"host\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.scheduling.host.note') }}\n            </p>\n          </div>\n          <div\n            class=\"col span-6\"\n            data-testid=\"gracefulShutdownTimeout\"\n          >\n            <UnitInput\n              v-model=\"gracefulShutdownTimeout\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.scheduling.gracefulShutdownTimeout.label')\"\n              :suffix=\"t('suffix.seconds', { count: gracefulShutdownTimeout})\"\n              :disabled=\"isDisabled\"\n              min=\"0\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.scheduling.gracefulShutdownTimeout.note') }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </Card>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.instanceOptions.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.instanceOptions.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"cpuCount\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.cpus')\"\n              :suffix=\"t('suffix.cores')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"memorySize\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.memory')\"\n              :suffix=\"t('suffix.mib')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-6\">\n            <UnitInput\n              v-model=\"diskSize\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.disk')\"\n              :suffix=\"t('suffix.mib')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.os\"\n              :mode=\"mode\"\n              :options=\"osOptions\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.os')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div\n            class=\"col\"\n            :class=\"showContentLibrary ? 'span-4' : 'span-6'\"\n          >\n            <LabeledSelect\n              v-model=\"value.creationType\"\n              :mode=\"mode\"\n              :options=\"creationMethods\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.creationMethod')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div\n            v-if=\"showTemplate\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"templatesLoading\"\n              :mode=\"mode\"\n              :options=\"templates\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.template.label')\"\n              :disabled=\"isDisabled\"\n              :status=\"templateStatus\"\n              :tooltip=\"templateTooltip\"\n            />\n          </div>\n          <div\n            v-if=\"showContentLibrary\"\n            class=\"col span-4\"\n          >\n            <LabeledSelect\n              v-model=\"value.contentLibrary\"\n              :loading=\"contentLibrariesLoading\"\n              :mode=\"mode\"\n              :options=\"contentLibraries\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.contentLibrary')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div\n            v-if=\"showContentLibrary\"\n            class=\"col span-4\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"libraryTemplatesLoading\"\n              :mode=\"mode\"\n              :options=\"libraryTemplates\"\n              :searchable=\"true\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.libraryTemplate')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.cloneFrom\"\n            />\n          </div>\n          <div\n            v-if=\"showVirtualMachines\"\n            class=\"col span-6\"\n          >\n            <LabeledSelect\n              v-model=\"value.cloneFrom\"\n              :loading=\"virtualMachinesLoading\"\n              :mode=\"mode\"\n              :options=\"virtualMachines\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.virtualMachine')\"\n              :disabled=\"isDisabled\"\n              :tooltip=\"value.cloneFrom\"\n            />\n          </div>\n          <div\n            v-if=\"showIso\"\n            class=\"col span-6\"\n          >\n            <LabeledInput\n              v-model=\"value.boot2dockerUrl\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.label')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showIso\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-12\">\n            <LabeledInput\n              v-model=\"value.cloudinit\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.label')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n            <p class=\"text-muted mt-5\">\n              {{ t('cluster.machineConfig.vsphere.instanceOptions.cloudInit.note') }}\n            </p>\n          </div>\n        </div>\n        <div\n          v-if=\"showCloudConfigYaml\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">{{ t('cluster.machineConfig.vsphere.instanceOptions.cloudConfigYaml') }}</label>\n            <YamlEditor\n              ref=\"yaml-additional\"\n              v-model=\"value.cloudConfig\"\n              :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n              :disabled=\"isDisabled\"\n              initial-yaml-values=\"# Additional Manifest YAML\"\n              class=\"yaml-editor\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">\n              {{ t('cluster.machineConfig.vsphere.networks.label') }}\n            </label>\n            <ArrayListSelect\n              v-model=\"network\"\n              :options=\"networks\"\n              :array-list-props=\"{ addLabel: t('cluster.machineConfig.vsphere.networks.add') }\"\n              :loading=\"networksLoading\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <label class=\"text-label mt-0\">\n              {{ t('cluster.machineConfig.vsphere.guestinfo.label') }}\n            </label>\n            <KeyValue\n              v-model=\"cfgparam\"\n              :add-label=\"t('cluster.machineConfig.vsphere.guestinfo.add')\"\n              :key-placeholder=\"t('cluster.machineConfig.vsphere.guestinfo.keyPlaceholder')\"\n              :value-placeholder=\"t('cluster.machineConfig.vsphere.guestinfo.valuePlaceholder')\"\n              :read-allowed=\"false\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n      </div>\n    </Card>\n    <Card\n      v-if=\"haveTags\"\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.tags.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.tags.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <ArrayListSelect\n          v-model=\"tag\"\n          :options=\"tags\"\n          :array-list-props=\"{ addLabel: t('cluster.machineConfig.vsphere.tags.addTag') }\"\n          :loading=\"tagsLoading\"\n          :disabled=\"isDisabled\"\n        />\n      </div>\n    </Card>\n    <Card\n      v-if=\"haveAttributes\"\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.customAttributes.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.customAttributes.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <KeyValue\n          v-model=\"customAttribute\"\n          :key-options=\"attributeKeys\"\n          :options=\"tags\"\n          :add-label=\"t('cluster.machineConfig.vsphere.customAttributes.add')\"\n          :read-allowed=\"false\"\n          :loading=\"attributeKeysLoading\"\n          :key-taggable=\"false\"\n          :key-option-unique=\"true\"\n          :disabled=\"isDisabled\"\n        />\n      </div>\n    </Card>\n    <Card\n      class=\"m-0 mt-20\"\n      :show-highlight-border=\"false\"\n      :show-actions=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        class=\"text-default-text mb-5\"\n      >\n        {{ t('cluster.machineConfig.vsphere.vAppOptions.label') }}\n        <p class=\"text-muted text-small\">\n          {{ t('cluster.machineConfig.vsphere.vAppOptions.description') }}\n        </p>\n      </h4>\n      <div slot=\"body\">\n        <div class=\"row mb-10\">\n          <div class=\"col span-6\">\n            <RadioGroup\n              v-model=\"vappMode\"\n              name=\"restoreMode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.restoreType')\"\n              :options=\"vAppOptions\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showManual\"\n          class=\"row mb-10\"\n        >\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappTransport\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.transport.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappIpprotocol\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.protocol.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n          <div class=\"col span-4\">\n            <LabeledInput\n              v-model=\"value.vappIpallocationpolicy\"\n              :mode=\"mode\"\n              :label=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.label')\"\n              :tooltip=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.tooltip')\"\n              :placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.allocation.placeholder')\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"showManual\"\n          class=\"row\"\n        >\n          <div class=\"col span-12\">\n            <KeyValue\n              v-model=\"vappProperty\"\n              :title=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.label')\"\n              :key-placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.keyPlaceholder')\"\n              :value-placeholder=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.valuePlaceholder')\"\n              :add-label=\"t('cluster.machineConfig.vsphere.vAppOptions.properties.add')\"\n              :read-allowed=\"false\"\n              :disabled=\"isDisabled\"\n            />\n          </div>\n        </div>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .labeled-tooltip .status-icon.icon-info {\n    z-index: 0;\n}\n</style>\n"]}]}