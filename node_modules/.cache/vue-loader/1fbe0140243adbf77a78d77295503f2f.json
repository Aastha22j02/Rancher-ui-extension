{"remainingRequest":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/manager/drivers/kontainerDriver/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ubuntu/suseconf/node_modules/@rancher/shell/pages/c/_cluster/manager/drivers/kontainerDriver/index.vue","mtime":1725338146566},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/babel-loader/lib/index.js","mtime":1725271298942},{"path":"/home/ubuntu/suseconf/node_modules/cache-loader/dist/cjs.js","mtime":1725271299021},{"path":"/home/ubuntu/suseconf/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1725271300920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgUmVzb3VyY2VUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVRhYmxlJzsKaW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBNYXN0aGVhZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZUxpc3QvTWFzdGhlYWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogICAgICAgJ0tvbnRhaW5lckRyaXZlcnMnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlc291cmNlVGFibGUsIExvYWRpbmcsIE1hc3RoZWFkLCBBc3luY0J1dHRvbgogIH0sCgogIGFzeW5jIGZldGNoKCkgewogICAgdGhpcy5hbGxEcml2ZXJzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZEFsbCcsIHsgdHlwZTogTk9STUFOLktPTlRBSU5FUl9EUklWRVIgfSwgeyByb290OiB0cnVlIH0pOwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxEcml2ZXJzOiAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwKICAgICAgY2FuUmVmcmVzaEs4c01ldGFkYXRhOiAgICAgICAgICAgIHRydWUsCiAgICAgIHJlc291cmNlOiAgICAgICAgICAgICAgICAgICAgICAgICBOT1JNQU4uS09OVEFJTkVSX0RSSVZFUiwKICAgICAgc2NoZW1hOiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3JhbmNoZXIvc2NoZW1hRm9yJ10oTk9STUFOLktPTlRBSU5FUl9EUklWRVIpLAogICAgICB1c2VRdWVyeVBhcmFtc0ZvclNpbXBsZUZpbHRlcmluZzogZmFsc2UsCiAgICAgIGZvcmNlVXBkYXRlTGl2ZUFuZERlbGF5ZWQ6ICAgICAgICAxMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3dzKCkgewogICAgICByZXR1cm4gdGhpcy5hbGxEcml2ZXJzIHx8IFtdOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHJlZnJlc2hLOHNNZXRhZGF0YShidXR0b25Eb25lKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvcmVxdWVzdCcsIHsKICAgICAgICAgIHVybDogICAgJy92My9rb250YWluZXJkcml2ZXJzP2FjdGlvbj1yZWZyZXNoJywKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogICB7IH0sCiAgICAgICAgfSk7CgogICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdncm93bC9mcm9tRXJyb3InLCB7IHRpdGxlOiAnRXJyb3IgcmVmcmVzaGluZyBrb250YWluZXIgZHJpdmVycycsIGVyciB9LCB7IHJvb3Q6IHRydWUgfSk7CiAgICAgICAgYnV0dG9uRG9uZShmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/manager/drivers/kontainerDriver","sourcesContent":["<script>\nimport { NORMAN } from '@shell/config/types';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nexport default {\n  name:       'KontainerDrivers',\n  components: {\n    ResourceTable, Loading, Masthead, AsyncButton\n  },\n\n  async fetch() {\n    this.allDrivers = await this.$store.dispatch('rancher/findAll', { type: NORMAN.KONTAINER_DRIVER }, { root: true });\n  },\n\n  data() {\n    return {\n      allDrivers:                       null,\n      canRefreshK8sMetadata:            true,\n      resource:                         NORMAN.KONTAINER_DRIVER,\n      schema:                           this.$store.getters['rancher/schemaFor'](NORMAN.KONTAINER_DRIVER),\n      useQueryParamsForSimpleFiltering: false,\n      forceUpdateLiveAndDelayed:        10\n    };\n  },\n  computed: {\n    rows() {\n      return this.allDrivers || [];\n    },\n  },\n  methods: {\n    async refreshK8sMetadata(buttonDone) {\n      try {\n        await this.$store.dispatch('rancher/request', {\n          url:    '/v3/kontainerdrivers?action=refresh',\n          method: 'post',\n          data:   { },\n        });\n\n        buttonDone(true);\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', { title: 'Error refreshing kontainer drivers', err }, { root: true });\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <Masthead\n      :schema=\"schema\"\n      :resource=\"resource\"\n      :type-display=\"t('drivers.kontainer.title')\"\n    >\n      <template slot=\"extraActions\">\n        <AsyncButton\n          v-if=\"canRefreshK8sMetadata\"\n          mode=\"refresh\"\n          :action-label=\"t('drivers.actions.refresh')\"\n          :waiting-label=\"t('drivers.actions.refresh')\"\n          :success-label=\"t('drivers.actions.refresh')\"\n          :error-label=\"t('drivers.actions.refresh')\"\n          :data-testid=\"'kontainer-driver-refresh'\"\n          @click=\"refreshK8sMetadata\"\n        />\n      </template>\n    </Masthead>\n    <ResourceTable\n      :schema=\"schema\"\n      :rows=\"rows\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n      :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n      :tableActions=\"true\"\n      :data-testid=\"'kontainer-driver-list'\"\n    >\n      <template #cell:name=\"{row}\">\n        <span>{{ row.nameDisplay }}</span>\n        <div\n          v-if=\"row.description\"\n          class=\"description text-muted text-small\"\n        >\n          {{ row.description }}\n        </div>\n      </template>\n    </ResourceTable>\n  </div>\n</template>\n"]}]}